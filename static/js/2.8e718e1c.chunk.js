(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[function(e,t,n){"use strict";e.exports=n(257)},function(e,t,n){"use strict";n.r(t),n.d(t,"ACESFilmicToneMapping",function(){return ce}),n.d(t,"AddEquation",function(){return D}),n.d(t,"AddOperation",function(){return oe}),n.d(t,"AdditiveAnimationBlendMode",function(){return en}),n.d(t,"AdditiveBlending",function(){return T}),n.d(t,"AlphaFormat",function(){return Be}),n.d(t,"AlwaysDepth",function(){return Y}),n.d(t,"AlwaysStencilFunc",function(){return kn}),n.d(t,"AmbientLight",function(){return Nf}),n.d(t,"AmbientLightProbe",function(){return ih}),n.d(t,"AnimationClip",function(){return Kc}),n.d(t,"AnimationLoader",function(){return Wc}),n.d(t,"AnimationMixer",function(){return Oh}),n.d(t,"AnimationObjectGroup",function(){return kh}),n.d(t,"AnimationUtils",function(){return Ic}),n.d(t,"ArcCurve",function(){return rf}),n.d(t,"ArrayCamera",function(){return Gs}),n.d(t,"ArrowHelper",function(){return xd}),n.d(t,"Audio",function(){return ph}),n.d(t,"AudioAnalyser",function(){return bh}),n.d(t,"AudioContext",function(){return th}),n.d(t,"AudioListener",function(){return dh}),n.d(t,"AudioLoader",function(){return nh}),n.d(t,"AxesHelper",function(){return Ad}),n.d(t,"AxisHelper",function(){return bp}),n.d(t,"BackSide",function(){return A}),n.d(t,"BasicDepthPacking",function(){return dn}),n.d(t,"BasicShadowMap",function(){return y}),n.d(t,"BinaryTextureLoader",function(){return Sp}),n.d(t,"Bone",function(){return El}),n.d(t,"BooleanKeyframeTrack",function(){return Oc}),n.d(t,"BoundingBoxHelper",function(){return wp}),n.d(t,"Box2",function(){return Vh}),n.d(t,"Box3",function(){return Gr}),n.d(t,"Box3Helper",function(){return gd}),n.d(t,"BoxBufferGeometry",function(){return So}),n.d(t,"BoxGeometry",function(){return Mo}),n.d(t,"BoxHelper",function(){return vd}),n.d(t,"BufferAttribute",function(){return ki}),n.d(t,"BufferGeometry",function(){return Xi}),n.d(t,"BufferGeometryLoader",function(){return Vf}),n.d(t,"ByteType",function(){return De}),n.d(t,"Cache",function(){return Vc}),n.d(t,"Camera",function(){return ko}),n.d(t,"CameraHelper",function(){return dd}),n.d(t,"CanvasRenderer",function(){return Ip}),n.d(t,"CanvasTexture",function(){return Zl}),n.d(t,"CatmullRomCurve3",function(){return cf}),n.d(t,"CineonToneMapping",function(){return ue}),n.d(t,"CircleBufferGeometry",function(){return mc}),n.d(t,"CircleGeometry",function(){return pc}),n.d(t,"ClampToEdgeWrapping",function(){return be}),n.d(t,"Clock",function(){return lh}),n.d(t,"ClosedSplineCurve3",function(){return gp}),n.d(t,"Color",function(){return xi}),n.d(t,"ColorKeyframeTrack",function(){return Nc}),n.d(t,"CompressedTexture",function(){return Jl}),n.d(t,"CompressedTextureLoader",function(){return Yc}),n.d(t,"ConeBufferGeometry",function(){return dc}),n.d(t,"ConeGeometry",function(){return hc}),n.d(t,"CubeCamera",function(){return jo}),n.d(t,"CubeGeometry",function(){return Mo}),n.d(t,"CubeReflectionMapping",function(){return de}),n.d(t,"CubeRefractionMapping",function(){return pe}),n.d(t,"CubeTexture",function(){return la}),n.d(t,"CubeTextureLoader",function(){return Zc}),n.d(t,"CubeUVReflectionMapping",function(){return ge}),n.d(t,"CubeUVRefractionMapping",function(){return ye}),n.d(t,"CubicBezierCurve",function(){return pf}),n.d(t,"CubicBezierCurve3",function(){return mf}),n.d(t,"CubicInterpolant",function(){return Lc}),n.d(t,"CullFaceBack",function(){return m}),n.d(t,"CullFaceFront",function(){return v}),n.d(t,"CullFaceFrontBack",function(){return g}),n.d(t,"CullFaceNone",function(){return p}),n.d(t,"Curve",function(){return tf}),n.d(t,"CurvePath",function(){return xf}),n.d(t,"CustomBlending",function(){return k}),n.d(t,"CustomToneMapping",function(){return fe}),n.d(t,"CylinderBufferGeometry",function(){return fc}),n.d(t,"CylinderGeometry",function(){return cc}),n.d(t,"Cylindrical",function(){return Kh}),n.d(t,"DataTexture",function(){return Ro}),n.d(t,"DataTexture2DArray",function(){return ua}),n.d(t,"DataTexture3D",function(){return ca}),n.d(t,"DataTextureLoader",function(){return Xc}),n.d(t,"DecrementStencilOp",function(){return wn}),n.d(t,"DecrementWrapStencilOp",function(){return An}),n.d(t,"DefaultLoadingManager",function(){return Hc}),n.d(t,"DepthFormat",function(){return Ye}),n.d(t,"DepthStencilFormat",function(){return Xe}),n.d(t,"DepthTexture",function(){return eu}),n.d(t,"DirectionalLight",function(){return Of}),n.d(t,"DirectionalLightHelper",function(){return cd}),n.d(t,"DirectionalLightShadow",function(){return Df}),n.d(t,"DiscreteInterpolant",function(){return kc}),n.d(t,"DodecahedronBufferGeometry",function(){return du}),n.d(t,"DodecahedronGeometry",function(){return hu}),n.d(t,"DoubleSide",function(){return M}),n.d(t,"DstAlphaFactor",function(){return B}),n.d(t,"DstColorFactor",function(){return G}),n.d(t,"DynamicBufferAttribute",function(){return sp}),n.d(t,"DynamicCopyUsage",function(){return Fn}),n.d(t,"DynamicDrawUsage",function(){return On}),n.d(t,"DynamicReadUsage",function(){return Pn}),n.d(t,"EdgesGeometry",function(){return uc}),n.d(t,"EdgesHelper",function(){return xp}),n.d(t,"EllipseCurve",function(){return nf}),n.d(t,"EqualDepth",function(){return Z}),n.d(t,"EqualStencilFunc",function(){return En}),n.d(t,"EquirectangularReflectionMapping",function(){return me}),n.d(t,"EquirectangularRefractionMapping",function(){return ve}),n.d(t,"Euler",function(){return vr}),n.d(t,"EventDispatcher",function(){return Un}),n.d(t,"ExtrudeBufferGeometry",function(){return Wu}),n.d(t,"ExtrudeGeometry",function(){return qu}),n.d(t,"Face3",function(){return Ci}),n.d(t,"Face4",function(){return Gd}),n.d(t,"FaceColors",function(){return Yd}),n.d(t,"FileLoader",function(){return qc}),n.d(t,"FlatShading",function(){return S}),n.d(t,"Float32Attribute",function(){return mp}),n.d(t,"Float32BufferAttribute",function(){return Fi}),n.d(t,"Float64Attribute",function(){return vp}),n.d(t,"Float64BufferAttribute",function(){return Ki}),n.d(t,"FloatType",function(){return Re}),n.d(t,"Fog",function(){return el}),n.d(t,"FogExp2",function(){return Zs}),n.d(t,"Font",function(){return Jf}),n.d(t,"FontLoader",function(){return eh}),n.d(t,"FrontSide",function(){return x}),n.d(t,"Frustum",function(){return Ko}),n.d(t,"GammaEncoding",function(){return sn}),n.d(t,"Geometry",function(){return Ao}),n.d(t,"GeometryUtils",function(){return Ep}),n.d(t,"GreaterDepth",function(){return te}),n.d(t,"GreaterEqualDepth",function(){return ee}),n.d(t,"GreaterEqualStencilFunc",function(){return zn}),n.d(t,"GreaterStencilFunc",function(){return Tn}),n.d(t,"GridHelper",function(){return od}),n.d(t,"Group",function(){return Qs}),n.d(t,"HalfFloatType",function(){return $e}),n.d(t,"HemisphereLight",function(){return Cf}),n.d(t,"HemisphereLightHelper",function(){return id}),n.d(t,"HemisphereLightProbe",function(){return rh}),n.d(t,"IcosahedronBufferGeometry",function(){return fu}),n.d(t,"IcosahedronGeometry",function(){return cu}),n.d(t,"ImageBitmapLoader",function(){return Yf}),n.d(t,"ImageLoader",function(){return Jc}),n.d(t,"ImageUtils",function(){return Yn}),n.d(t,"ImmediateRenderObject",function(){return Qh}),n.d(t,"IncrementStencilOp",function(){return bn}),n.d(t,"IncrementWrapStencilOp",function(){return xn}),n.d(t,"InstancedBufferAttribute",function(){return Uf}),n.d(t,"InstancedBufferGeometry",function(){return Kf}),n.d(t,"InstancedInterleavedBuffer",function(){return jh}),n.d(t,"InstancedMesh",function(){return kl}),n.d(t,"Int16Attribute",function(){return fp}),n.d(t,"Int16BufferAttribute",function(){return ji}),n.d(t,"Int32Attribute",function(){return dp}),n.d(t,"Int32BufferAttribute",function(){return Ri}),n.d(t,"Int8Attribute",function(){return lp}),n.d(t,"Int8BufferAttribute",function(){return Di}),n.d(t,"IntType",function(){return je}),n.d(t,"InterleavedBuffer",function(){return tl}),n.d(t,"InterleavedBufferAttribute",function(){return il}),n.d(t,"Interpolant",function(){return Tc}),n.d(t,"InterpolateDiscrete",function(){return Qt}),n.d(t,"InterpolateLinear",function(){return qt}),n.d(t,"InterpolateSmooth",function(){return Wt}),n.d(t,"InvertStencilOp",function(){return Mn}),n.d(t,"JSONLoader",function(){return Tp}),n.d(t,"KeepStencilOp",function(){return yn}),n.d(t,"KeyframeTrack",function(){return Dc}),n.d(t,"LOD",function(){return xl}),n.d(t,"LatheBufferGeometry",function(){return oc}),n.d(t,"LatheGeometry",function(){return ic}),n.d(t,"Layers",function(){return gr}),n.d(t,"LensFlare",function(){return zp}),n.d(t,"LessDepth",function(){return X}),n.d(t,"LessEqualDepth",function(){return J}),n.d(t,"LessEqualStencilFunc",function(){return In}),n.d(t,"LessStencilFunc",function(){return Cn}),n.d(t,"Light",function(){return Sf}),n.d(t,"LightProbe",function(){return Rf}),n.d(t,"LightShadow",function(){return Ef}),n.d(t,"Line",function(){return $l}),n.d(t,"Line3",function(){return Gh}),n.d(t,"LineBasicMaterial",function(){return Dl}),n.d(t,"LineCurve",function(){return vf}),n.d(t,"LineCurve3",function(){return gf}),n.d(t,"LineDashedMaterial",function(){return Cc}),n.d(t,"LineLoop",function(){return Vl}),n.d(t,"LinePieces",function(){return qd}),n.d(t,"LineSegments",function(){return Ul}),n.d(t,"LineStrip",function(){return Qd}),n.d(t,"LinearEncoding",function(){return on}),n.d(t,"LinearFilter",function(){return Ee}),n.d(t,"LinearInterpolant",function(){return zc}),n.d(t,"LinearMipMapLinearFilter",function(){return ze}),n.d(t,"LinearMipMapNearestFilter",function(){return Te}),n.d(t,"LinearMipmapLinearFilter",function(){return Le}),n.d(t,"LinearMipmapNearestFilter",function(){return Ie}),n.d(t,"LinearToneMapping",function(){return se}),n.d(t,"Loader",function(){return Gc}),n.d(t,"LoaderUtils",function(){return Ff}),n.d(t,"LoadingManager",function(){return Bc}),n.d(t,"LogLuvEncoding",function(){return un}),n.d(t,"LoopOnce",function(){return Bt}),n.d(t,"LoopPingPong",function(){return Gt}),n.d(t,"LoopRepeat",function(){return Ht}),n.d(t,"LuminanceAlphaFormat",function(){return qe}),n.d(t,"LuminanceFormat",function(){return Qe}),n.d(t,"MOUSE",function(){return h}),n.d(t,"Material",function(){return Ii}),n.d(t,"MaterialLoader",function(){return $f}),n.d(t,"Math",function(){return Qn}),n.d(t,"MathUtils",function(){return Qn}),n.d(t,"Matrix3",function(){return Wn}),n.d(t,"Matrix4",function(){return dr}),n.d(t,"MaxEquation",function(){return P}),n.d(t,"Mesh",function(){return vo}),n.d(t,"MeshBasicMaterial",function(){return Ti}),n.d(t,"MeshDepthMaterial",function(){return Rs}),n.d(t,"MeshDistanceMaterial",function(){return $s}),n.d(t,"MeshFaceMaterial",function(){return Jd}),n.d(t,"MeshLambertMaterial",function(){return Mc}),n.d(t,"MeshMatcapMaterial",function(){return Sc}),n.d(t,"MeshNormalMaterial",function(){return Ac}),n.d(t,"MeshPhongMaterial",function(){return wc}),n.d(t,"MeshPhysicalMaterial",function(){return bc}),n.d(t,"MeshStandardMaterial",function(){return _c}),n.d(t,"MeshToonMaterial",function(){return xc}),n.d(t,"MinEquation",function(){return j}),n.d(t,"MirroredRepeatWrapping",function(){return we}),n.d(t,"MixOperation",function(){return ie}),n.d(t,"MultiMaterial",function(){return Zd}),n.d(t,"MultiplyBlending",function(){return z}),n.d(t,"MultiplyOperation",function(){return re}),n.d(t,"NearestFilter",function(){return xe}),n.d(t,"NearestMipMapLinearFilter",function(){return Ce}),n.d(t,"NearestMipMapNearestFilter",function(){return Me}),n.d(t,"NearestMipmapLinearFilter",function(){return Se}),n.d(t,"NearestMipmapNearestFilter",function(){return Ae}),n.d(t,"NeverDepth",function(){return W}),n.d(t,"NeverStencilFunc",function(){return Sn}),n.d(t,"NoBlending",function(){return E}),n.d(t,"NoColors",function(){return Wd}),n.d(t,"NoToneMapping",function(){return ae}),n.d(t,"NormalAnimationBlendMode",function(){return Zt}),n.d(t,"NormalBlending",function(){return I}),n.d(t,"NotEqualDepth",function(){return ne}),n.d(t,"NotEqualStencilFunc",function(){return Ln}),n.d(t,"NumberKeyframeTrack",function(){return jc}),n.d(t,"Object3D",function(){return zr}),n.d(t,"ObjectLoader",function(){return Hf}),n.d(t,"ObjectSpaceNormalMap",function(){return vn}),n.d(t,"OctahedronBufferGeometry",function(){return uu}),n.d(t,"OctahedronGeometry",function(){return lu}),n.d(t,"OneFactor",function(){return $}),n.d(t,"OneMinusDstAlphaFactor",function(){return H}),n.d(t,"OneMinusDstColorFactor",function(){return Q}),n.d(t,"OneMinusSrcAlphaFactor",function(){return V}),n.d(t,"OneMinusSrcColorFactor",function(){return K}),n.d(t,"OrthographicCamera",function(){return kf}),n.d(t,"PCFShadowMap",function(){return _}),n.d(t,"PCFSoftShadowMap",function(){return b}),n.d(t,"PMREMGenerator",function(){return Fd}),n.d(t,"ParametricBufferGeometry",function(){return ru}),n.d(t,"ParametricGeometry",function(){return nu}),n.d(t,"Particle",function(){return tp}),n.d(t,"ParticleBasicMaterial",function(){return ip}),n.d(t,"ParticleSystem",function(){return np}),n.d(t,"ParticleSystemMaterial",function(){return op}),n.d(t,"Path",function(){return Af}),n.d(t,"PerspectiveCamera",function(){return Do}),n.d(t,"Plane",function(){return si}),n.d(t,"PlaneBufferGeometry",function(){return Go}),n.d(t,"PlaneGeometry",function(){return Ho}),n.d(t,"PlaneHelper",function(){return yd}),n.d(t,"PointCloud",function(){return ep}),n.d(t,"PointCloudMaterial",function(){return rp}),n.d(t,"PointLight",function(){return zf}),n.d(t,"PointLightHelper",function(){return ed}),n.d(t,"Points",function(){return Wl}),n.d(t,"PointsMaterial",function(){return Bl}),n.d(t,"PolarGridHelper",function(){return ad}),n.d(t,"PolyhedronBufferGeometry",function(){return ou}),n.d(t,"PolyhedronGeometry",function(){return iu}),n.d(t,"PositionalAudio",function(){return _h}),n.d(t,"PropertyBinding",function(){return zh}),n.d(t,"PropertyMixer",function(){return wh}),n.d(t,"QuadraticBezierCurve",function(){return yf}),n.d(t,"QuadraticBezierCurve3",function(){return _f}),n.d(t,"Quaternion",function(){return nr}),n.d(t,"QuaternionKeyframeTrack",function(){return Rc}),n.d(t,"QuaternionLinearInterpolant",function(){return Pc}),n.d(t,"REVISION",function(){return f}),n.d(t,"RGBADepthPacking",function(){return pn}),n.d(t,"RGBAFormat",function(){return Ge}),n.d(t,"RGBAIntegerFormat",function(){return rt}),n.d(t,"RGBA_ASTC_10x10_Format",function(){return Ct}),n.d(t,"RGBA_ASTC_10x5_Format",function(){return At}),n.d(t,"RGBA_ASTC_10x6_Format",function(){return Mt}),n.d(t,"RGBA_ASTC_10x8_Format",function(){return St}),n.d(t,"RGBA_ASTC_12x10_Format",function(){return Et}),n.d(t,"RGBA_ASTC_12x12_Format",function(){return It}),n.d(t,"RGBA_ASTC_4x4_Format",function(){return mt}),n.d(t,"RGBA_ASTC_5x4_Format",function(){return vt}),n.d(t,"RGBA_ASTC_5x5_Format",function(){return gt}),n.d(t,"RGBA_ASTC_6x5_Format",function(){return yt}),n.d(t,"RGBA_ASTC_6x6_Format",function(){return _t}),n.d(t,"RGBA_ASTC_8x5_Format",function(){return bt}),n.d(t,"RGBA_ASTC_8x6_Format",function(){return wt}),n.d(t,"RGBA_ASTC_8x8_Format",function(){return xt}),n.d(t,"RGBA_BPTC_Format",function(){return Tt}),n.d(t,"RGBA_ETC2_EAC_Format",function(){return pt}),n.d(t,"RGBA_PVRTC_2BPPV1_Format",function(){return ft}),n.d(t,"RGBA_PVRTC_4BPPV1_Format",function(){return ct}),n.d(t,"RGBA_S3TC_DXT1_Format",function(){return ot}),n.d(t,"RGBA_S3TC_DXT3_Format",function(){return at}),n.d(t,"RGBA_S3TC_DXT5_Format",function(){return st}),n.d(t,"RGBDEncoding",function(){return hn}),n.d(t,"RGBEEncoding",function(){return ln}),n.d(t,"RGBEFormat",function(){return We}),n.d(t,"RGBFormat",function(){return He}),n.d(t,"RGBIntegerFormat",function(){return nt}),n.d(t,"RGBM16Encoding",function(){return fn}),n.d(t,"RGBM7Encoding",function(){return cn}),n.d(t,"RGB_ETC1_Format",function(){return ht}),n.d(t,"RGB_ETC2_Format",function(){return dt}),n.d(t,"RGB_PVRTC_2BPPV1_Format",function(){return ut}),n.d(t,"RGB_PVRTC_4BPPV1_Format",function(){return lt}),n.d(t,"RGB_S3TC_DXT1_Format",function(){return it}),n.d(t,"RGFormat",function(){return et}),n.d(t,"RGIntegerFormat",function(){return tt}),n.d(t,"RawShaderMaterial",function(){return yc}),n.d(t,"Ray",function(){return ri}),n.d(t,"Raycaster",function(){return Ph}),n.d(t,"RectAreaLight",function(){return jf}),n.d(t,"RedFormat",function(){return Je}),n.d(t,"RedIntegerFormat",function(){return Ze}),n.d(t,"ReinhardToneMapping",function(){return le}),n.d(t,"RepeatWrapping",function(){return _e}),n.d(t,"ReplaceStencilOp",function(){return _n}),n.d(t,"ReverseSubtractEquation",function(){return N}),n.d(t,"RingBufferGeometry",function(){return rc}),n.d(t,"RingGeometry",function(){return nc}),n.d(t,"SRGB8_ALPHA8_ASTC_10x10_Format",function(){return Kt}),n.d(t,"SRGB8_ALPHA8_ASTC_10x5_Format",function(){return Rt}),n.d(t,"SRGB8_ALPHA8_ASTC_10x6_Format",function(){return $t}),n.d(t,"SRGB8_ALPHA8_ASTC_10x8_Format",function(){return Ft}),n.d(t,"SRGB8_ALPHA8_ASTC_12x10_Format",function(){return Ut}),n.d(t,"SRGB8_ALPHA8_ASTC_12x12_Format",function(){return Vt}),n.d(t,"SRGB8_ALPHA8_ASTC_4x4_Format",function(){return Lt}),n.d(t,"SRGB8_ALPHA8_ASTC_5x4_Format",function(){return zt}),n.d(t,"SRGB8_ALPHA8_ASTC_5x5_Format",function(){return kt}),n.d(t,"SRGB8_ALPHA8_ASTC_6x5_Format",function(){return Dt}),n.d(t,"SRGB8_ALPHA8_ASTC_6x6_Format",function(){return Ot}),n.d(t,"SRGB8_ALPHA8_ASTC_8x5_Format",function(){return Nt}),n.d(t,"SRGB8_ALPHA8_ASTC_8x6_Format",function(){return jt}),n.d(t,"SRGB8_ALPHA8_ASTC_8x8_Format",function(){return Pt}),n.d(t,"Scene",function(){return kr}),n.d(t,"SceneUtils",function(){return Lp}),n.d(t,"ShaderChunk",function(){return Qo}),n.d(t,"ShaderLib",function(){return qo}),n.d(t,"ShaderMaterial",function(){return zo}),n.d(t,"ShadowMaterial",function(){return gc}),n.d(t,"Shape",function(){return Mf}),n.d(t,"ShapeBufferGeometry",function(){return sc}),n.d(t,"ShapeGeometry",function(){return ac}),n.d(t,"ShapePath",function(){return Xf}),n.d(t,"ShapeUtils",function(){return Hu}),n.d(t,"ShortType",function(){return Oe}),n.d(t,"Skeleton",function(){return Cl}),n.d(t,"SkeletonHelper",function(){return Zh}),n.d(t,"SkinnedMesh",function(){return Al}),n.d(t,"SmoothShading",function(){return C}),n.d(t,"Sphere",function(){return Wr}),n.d(t,"SphereBufferGeometry",function(){return tc}),n.d(t,"SphereGeometry",function(){return ec}),n.d(t,"Spherical",function(){return Fh}),n.d(t,"SphericalHarmonics3",function(){return Pf}),n.d(t,"Spline",function(){return _p}),n.d(t,"SplineCurve",function(){return bf}),n.d(t,"SplineCurve3",function(){return yp}),n.d(t,"SpotLight",function(){return Tf}),n.d(t,"SpotLightHelper",function(){return Wh}),n.d(t,"SpotLightShadow",function(){return If}),n.d(t,"Sprite",function(){return yl}),n.d(t,"SpriteMaterial",function(){return ol}),n.d(t,"SrcAlphaFactor",function(){return U}),n.d(t,"SrcAlphaSaturateFactor",function(){return q}),n.d(t,"SrcColorFactor",function(){return F}),n.d(t,"StaticCopyUsage",function(){return $n}),n.d(t,"StaticDrawUsage",function(){return Dn}),n.d(t,"StaticReadUsage",function(){return jn}),n.d(t,"StereoCamera",function(){return sh}),n.d(t,"StreamCopyUsage",function(){return Kn}),n.d(t,"StreamDrawUsage",function(){return Nn}),n.d(t,"StreamReadUsage",function(){return Rn}),n.d(t,"StringKeyframeTrack",function(){return $c}),n.d(t,"SubtractEquation",function(){return O}),n.d(t,"SubtractiveBlending",function(){return L}),n.d(t,"TOUCH",function(){return d}),n.d(t,"TangentSpaceNormalMap",function(){return mn}),n.d(t,"TetrahedronBufferGeometry",function(){return su}),n.d(t,"TetrahedronGeometry",function(){return au}),n.d(t,"TextBufferGeometry",function(){return Zu}),n.d(t,"TextGeometry",function(){return Ju}),n.d(t,"Texture",function(){return Jn}),n.d(t,"TextureLoader",function(){return ef}),n.d(t,"TorusBufferGeometry",function(){return _u}),n.d(t,"TorusGeometry",function(){return yu}),n.d(t,"TorusKnotBufferGeometry",function(){return gu}),n.d(t,"TorusKnotGeometry",function(){return vu}),n.d(t,"Triangle",function(){return yi}),n.d(t,"TriangleFanDrawMode",function(){return rn}),n.d(t,"TriangleStripDrawMode",function(){return nn}),n.d(t,"TrianglesDrawMode",function(){return tn}),n.d(t,"TubeBufferGeometry",function(){return mu}),n.d(t,"TubeGeometry",function(){return pu}),n.d(t,"UVMapping",function(){return he}),n.d(t,"Uint16Attribute",function(){return hp}),n.d(t,"Uint16BufferAttribute",function(){return Pi}),n.d(t,"Uint32Attribute",function(){return pp}),n.d(t,"Uint32BufferAttribute",function(){return $i}),n.d(t,"Uint8Attribute",function(){return up}),n.d(t,"Uint8BufferAttribute",function(){return Oi}),n.d(t,"Uint8ClampedAttribute",function(){return cp}),n.d(t,"Uint8ClampedBufferAttribute",function(){return Ni}),n.d(t,"Uniform",function(){return Nh}),n.d(t,"UniformsLib",function(){return Uo}),n.d(t,"UniformsUtils",function(){return Io}),n.d(t,"UnsignedByteType",function(){return ke}),n.d(t,"UnsignedInt248Type",function(){return Ve}),n.d(t,"UnsignedIntType",function(){return Pe}),n.d(t,"UnsignedShort4444Type",function(){return Fe}),n.d(t,"UnsignedShort5551Type",function(){return Ke}),n.d(t,"UnsignedShort565Type",function(){return Ue}),n.d(t,"UnsignedShortType",function(){return Ne}),n.d(t,"VSMShadowMap",function(){return w}),n.d(t,"Vector2",function(){return qn}),n.d(t,"Vector3",function(){return or}),n.d(t,"Vector4",function(){return Zn}),n.d(t,"VectorKeyframeTrack",function(){return Fc}),n.d(t,"Vertex",function(){return ap}),n.d(t,"VertexColors",function(){return Xd}),n.d(t,"VideoTexture",function(){return Xl}),n.d(t,"WebGL1Renderer",function(){return Js}),n.d(t,"WebGLCubeRenderTarget",function(){return Po}),n.d(t,"WebGLMultisampleRenderTarget",function(){return tr}),n.d(t,"WebGLRenderTarget",function(){return er}),n.d(t,"WebGLRenderTargetCube",function(){return Cp}),n.d(t,"WebGLRenderer",function(){return Xs}),n.d(t,"WebGLUtils",function(){return Hs}),n.d(t,"WireframeGeometry",function(){return tu}),n.d(t,"WireframeHelper",function(){return Ap}),n.d(t,"WrapAroundEnding",function(){return Jt}),n.d(t,"XHRLoader",function(){return Mp}),n.d(t,"ZeroCurvatureEnding",function(){return Yt}),n.d(t,"ZeroFactor",function(){return R}),n.d(t,"ZeroSlopeEnding",function(){return Xt}),n.d(t,"ZeroStencilOp",function(){return gn}),n.d(t,"sRGBEncoding",function(){return an});var r,i=n(8),o=n(11),a=n(13),s=n(2),l=n(6),u=n(3),c=n(5);void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),"name"in Function.prototype===!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t});var f="119",h={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},d={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},p=0,m=1,v=2,g=3,y=0,_=1,b=2,w=3,x=0,A=1,M=2,S=1,C=2,E=0,I=1,T=2,L=3,z=4,k=5,D=100,O=101,N=102,j=103,P=104,R=200,$=201,F=202,K=203,U=204,V=205,B=206,H=207,G=208,Q=209,q=210,W=0,Y=1,X=2,J=3,Z=4,ee=5,te=6,ne=7,re=0,ie=1,oe=2,ae=0,se=1,le=2,ue=3,ce=4,fe=5,he=300,de=301,pe=302,me=303,ve=304,ge=306,ye=307,_e=1e3,be=1001,we=1002,xe=1003,Ae=1004,Me=1004,Se=1005,Ce=1005,Ee=1006,Ie=1007,Te=1007,Le=1008,ze=1008,ke=1009,De=1010,Oe=1011,Ne=1012,je=1013,Pe=1014,Re=1015,$e=1016,Fe=1017,Ke=1018,Ue=1019,Ve=1020,Be=1021,He=1022,Ge=1023,Qe=1024,qe=1025,We=Ge,Ye=1026,Xe=1027,Je=1028,Ze=1029,et=1030,tt=1031,nt=1032,rt=1033,it=33776,ot=33777,at=33778,st=33779,lt=35840,ut=35841,ct=35842,ft=35843,ht=36196,dt=37492,pt=37496,mt=37808,vt=37809,gt=37810,yt=37811,_t=37812,bt=37813,wt=37814,xt=37815,At=37816,Mt=37817,St=37818,Ct=37819,Et=37820,It=37821,Tt=36492,Lt=37840,zt=37841,kt=37842,Dt=37843,Ot=37844,Nt=37845,jt=37846,Pt=37847,Rt=37848,$t=37849,Ft=37850,Kt=37851,Ut=37852,Vt=37853,Bt=2200,Ht=2201,Gt=2202,Qt=2300,qt=2301,Wt=2302,Yt=2400,Xt=2401,Jt=2402,Zt=2500,en=2501,tn=0,nn=1,rn=2,on=3e3,an=3001,sn=3007,ln=3002,un=3003,cn=3004,fn=3005,hn=3006,dn=3200,pn=3201,mn=0,vn=1,gn=0,yn=7680,_n=7681,bn=7682,wn=7683,xn=34055,An=34056,Mn=5386,Sn=512,Cn=513,En=514,In=515,Tn=516,Ln=517,zn=518,kn=519,Dn=35044,On=35048,Nn=35040,jn=35045,Pn=35049,Rn=35041,$n=35046,Fn=35050,Kn=35042;function Un(){}Object.assign(Un.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e)}}}});for(var Vn=[],Bn=0;Bn<256;Bn++)Vn[Bn]=(Bn<16?"0":"")+Bn.toString(16);var Hn,Gn=1234567,Qn={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Vn[255&e]+Vn[e>>8&255]+Vn[e>>16&255]+Vn[e>>24&255]+"-"+Vn[255&t]+Vn[t>>8&255]+"-"+Vn[t>>16&15|64]+Vn[t>>24&255]+"-"+Vn[63&n|128]+Vn[n>>8&255]+"-"+Vn[n>>16&255]+Vn[n>>24&255]+Vn[255&r]+Vn[r>>8&255]+Vn[r>>16&255]+Vn[r>>24&255]).toUpperCase()},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){return void 0!==e&&(Gn=e%2147483647),((Gn=16807*Gn%2147483647)-1)/2147483646},degToRad:function(e){return e*Qn.DEG2RAD},radToDeg:function(e){return e*Qn.RAD2DEG},isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,r,i){var o=Math.cos,a=Math.sin,s=o(n/2),l=a(n/2),u=o((t+r)/2),c=a((t+r)/2),f=o((t-r)/2),h=a((t-r)/2),d=o((r-t)/2),p=a((r-t)/2);switch(i){case"XYX":e.set(s*c,l*f,l*h,s*u);break;case"YZY":e.set(l*h,s*c,l*f,s*u);break;case"ZXZ":e.set(l*f,l*h,s*c,s*u);break;case"XZX":e.set(s*c,l*p,l*d,s*u);break;case"YXY":e.set(l*d,s*c,l*p,s*u);break;case"ZYZ":e.set(l*p,l*d,s*c,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}};function qn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.x=e,this.y=t}function Wn(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.defineProperties(qn.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(qn.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*n-o*r+e.x,this.y=i*r+o*n+e.y,this},random:function(){return this.x=Math.random(),this.y=Math.random(),this}}),Object.assign(Wn.prototype,{isMatrix3:!0,set:function(e,t,n,r,i,o,a,s,l){var u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=t,u[4]=i,u[5]=s,u[6]=n,u[7]=o,u[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},extractBasis:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[3],s=n[6],l=n[1],u=n[4],c=n[7],f=n[2],h=n[5],d=n[8],p=r[0],m=r[3],v=r[6],g=r[1],y=r[4],_=r[7],b=r[2],w=r[5],x=r[8];return i[0]=o*p+a*g+s*b,i[3]=o*m+a*y+s*w,i[6]=o*v+a*_+s*x,i[1]=l*p+u*g+c*b,i[4]=l*m+u*y+c*w,i[7]=l*v+u*_+c*x,i[2]=f*p+h*g+d*b,i[5]=f*m+h*y+d*w,i[8]=f*v+h*_+d*x,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],u=e[8];return t*o*u-t*a*l-n*i*u+n*a*s+r*i*l-r*o*s},getInverse:function(e,t){void 0!==t&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");var n=e.elements,r=this.elements,i=n[0],o=n[1],a=n[2],s=n[3],l=n[4],u=n[5],c=n[6],f=n[7],h=n[8],d=h*l-u*f,p=u*c-h*s,m=f*s-l*c,v=i*d+o*p+a*m;if(0===v)return this.set(0,0,0,0,0,0,0,0,0);var g=1/v;return r[0]=d*g,r[1]=(a*f-h*o)*g,r[2]=(u*o-a*l)*g,r[3]=p*g,r[4]=(h*i-a*c)*g,r[5]=(a*s-u*i)*g,r[6]=m*g,r[7]=(o*c-f*i)*g,r[8]=(l*i-o*s)*g,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,r,i,o,a){var s=Math.cos(i),l=Math.sin(i);this.set(n*s,n*l,-n*(s*o+l*a)+o+e,-r*l,r*s,-r*(-l*o+s*a)+a+t,0,0,1)},scale:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],o=r[3],a=r[6],s=r[1],l=r[4],u=r[7];return r[0]=t*i+n*s,r[3]=t*o+n*l,r[6]=t*a+n*u,r[1]=-n*i+t*s,r[4]=-n*o+t*l,r[7]=-n*a+t*u,this},translate:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});var Yn={getDataURL:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Hn&&(Hn=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Hn.width=e.width,Hn.height=e.height;var n=Hn.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Hn}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},Xn=0;function Jn(e,t,n,r,i,o,a,s,l,u){Object.defineProperty(this,"id",{value:Xn++}),this.uuid=Qn.generateUUID(),this.name="",this.image=void 0!==e?e:Jn.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:Jn.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:be,this.wrapT=void 0!==r?r:be,this.magFilter=void 0!==i?i:Ee,this.minFilter=void 0!==o?o:Le,this.anisotropy=void 0!==l?l:1,this.format=void 0!==a?a:Ge,this.internalFormat=null,this.type=void 0!==s?s:ke,this.offset=new qn(0,0),this.repeat=new qn(1,1),this.center=new qn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Wn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==u?u:on,this.version=0,this.onUpdate=null}function Zn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.x=e,this.y=t,this.z=n,this.w=r}function er(e,t,n){this.width=e,this.height=t,this.scissor=new Zn(0,0,e,t),this.scissorTest=!1,this.viewport=new Zn(0,0,e,t),n=n||{},this.texture=new Jn(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:Ee,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function tr(e,t,n){er.call(this,e,t,n),this.samples=4}function nr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this._x=e,this._y=t,this._z=n,this._w=r}Jn.DEFAULT_IMAGE=void 0,Jn.DEFAULT_MAPPING=he,Jn.prototype=Object.assign(Object.create(Un.prototype),{constructor:Jn,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=Qn.generateUUID()),!t&&void 0===e.images[r.uuid]){var i;if(Array.isArray(r)){i=[];for(var o=0,a=r.length;o<a;o++)i.push(Yn.getDataURL(r[o]))}else i=Yn.getDataURL(r);e.images[r.uuid]={uuid:r.uuid,url:i}}n.image=r.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==he)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case _e:e.x=e.x-Math.floor(e.x);break;case be:e.x=e.x<0?0:1;break;case we:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case _e:e.y=e.y-Math.floor(e.y);break;case be:e.y=e.y<0?0:1;break;case we:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(Jn.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.defineProperties(Zn.prototype,{width:{get:function(){return this.z},set:function(e){this.z=e}},height:{get:function(){return this.w},set:function(e){this.w=e}}}),Object.assign(Zn.prototype,{isVector4:!0,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*i,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,r,i,o=e.elements,a=o[0],s=o[4],l=o[8],u=o[1],c=o[5],f=o[9],h=o[2],d=o[6],p=o[10];if(Math.abs(s-u)<.01&&Math.abs(l-h)<.01&&Math.abs(f-d)<.01){if(Math.abs(s+u)<.1&&Math.abs(l+h)<.1&&Math.abs(f+d)<.1&&Math.abs(a+c+p-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var m=(a+1)/2,v=(c+1)/2,g=(p+1)/2,y=(s+u)/4,_=(l+h)/4,b=(f+d)/4;return m>v&&m>g?m<.01?(n=0,r=.707106781,i=.707106781):(r=y/(n=Math.sqrt(m)),i=_/n):v>g?v<.01?(n=.707106781,r=0,i=.707106781):(n=y/(r=Math.sqrt(v)),i=b/r):g<.01?(n=.707106781,r=.707106781,i=0):(n=_/(i=Math.sqrt(g)),r=b/i),this.set(n,r,i,t),this}var w=Math.sqrt((d-f)*(d-f)+(l-h)*(l-h)+(u-s)*(u-s));return Math.abs(w)<.001&&(w=1),this.x=(d-f)/w,this.y=(l-h)/w,this.z=(u-s)/w,this.w=Math.acos((a+c+p-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}),er.prototype=Object.assign(Object.create(Un.prototype),{constructor:er,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),tr.prototype=Object.assign(Object.create(er.prototype),{constructor:tr,isWebGLMultisampleRenderTarget:!0,copy:function(e){return er.prototype.copy.call(this,e),this.samples=e.samples,this}}),Object.assign(nr,{slerp:function(e,t,n,r){return n.copy(e).slerp(t,r)},slerpFlat:function(e,t,n,r,i,o,a){var s=n[r+0],l=n[r+1],u=n[r+2],c=n[r+3],f=i[o+0],h=i[o+1],d=i[o+2],p=i[o+3];if(c!==p||s!==f||l!==h||u!==d){var m=1-a,v=s*f+l*h+u*d+c*p,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var _=Math.sqrt(y),b=Math.atan2(_,v*g);m=Math.sin(m*b)/_,a=Math.sin(a*b)/_}var w=a*g;if(s=s*m+f*w,l=l*m+h*w,u=u*m+d*w,c=c*m+p*w,m===1-a){var x=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=x,l*=x,u*=x,c*=x}}e[t]=s,e[t+1]=l,e[t+2]=u,e[t+3]=c},multiplyQuaternionsFlat:function(e,t,n,r,i,o){var a=n[r],s=n[r+1],l=n[r+2],u=n[r+3],c=i[o],f=i[o+1],h=i[o+2],d=i[o+3];return e[t]=a*d+u*c+s*h-l*f,e[t+1]=s*d+u*f+l*c-a*h,e[t+2]=l*d+u*h+a*f-s*c,e[t+3]=u*d-a*c-s*f-l*h,e}}),Object.defineProperties(nr.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}}}),Object.assign(nr.prototype,{isQuaternion:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,i=e._z,o=e.order,a=Math.cos,s=Math.sin,l=a(n/2),u=a(r/2),c=a(i/2),f=s(n/2),h=s(r/2),d=s(i/2);switch(o){case"XYZ":this._x=f*u*c+l*h*d,this._y=l*h*c-f*u*d,this._z=l*u*d+f*h*c,this._w=l*u*c-f*h*d;break;case"YXZ":this._x=f*u*c+l*h*d,this._y=l*h*c-f*u*d,this._z=l*u*d-f*h*c,this._w=l*u*c+f*h*d;break;case"ZXY":this._x=f*u*c-l*h*d,this._y=l*h*c+f*u*d,this._z=l*u*d+f*h*c,this._w=l*u*c-f*h*d;break;case"ZYX":this._x=f*u*c-l*h*d,this._y=l*h*c+f*u*d,this._z=l*u*d-f*h*c,this._w=l*u*c+f*h*d;break;case"YZX":this._x=f*u*c+l*h*d,this._y=l*h*c+f*u*d,this._z=l*u*d-f*h*c,this._w=l*u*c-f*h*d;break;case"XZY":this._x=f*u*c-l*h*d,this._y=l*h*c-f*u*d,this._z=l*u*d+f*h*c,this._w=l*u*c+f*h*d;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==t&&this._onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this},setFromRotationMatrix:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],o=t[1],a=t[5],s=t[9],l=t[2],u=t[6],c=t[10],f=n+a+c;if(f>0){var h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(u-s)*h,this._y=(i-l)*h,this._z=(o-r)*h}else if(n>a&&n>c){var d=2*Math.sqrt(1+n-a-c);this._w=(u-s)/d,this._x=.25*d,this._y=(r+o)/d,this._z=(i+l)/d}else if(a>c){var p=2*Math.sqrt(1+a-n-c);this._w=(i-l)/p,this._x=(r+o)/p,this._y=.25*p,this._z=(s+u)/p}else{var m=2*Math.sqrt(1+c-n-a);this._w=(o-r)/m,this._x=(i+l)/m,this._y=(s+u)/m,this._z=.25*m}return this._onChangeCallback(),this},setFromUnitVectors:function(e,t){var n=e.dot(t)+1;return n<1e-6?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()},angleTo:function(e){return 2*Math.acos(Math.abs(Qn.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this},identity:function(){return this.set(0,0,0,1)},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,r=e._y,i=e._z,o=e._w,a=t._x,s=t._y,l=t._z,u=t._w;return this._x=n*u+o*a+r*l-i*s,this._y=r*u+o*s+i*a-n*l,this._z=i*u+o*l+n*s-r*a,this._w=o*u-n*a-r*s-i*l,this._onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,o=this._w,a=o*e._w+n*e._x+r*e._y+i*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;var s=1-a*a;if(s<=Number.EPSILON){var l=1-t;return this._w=l*o+t*this._w,this._x=l*n+t*this._x,this._y=l*r+t*this._y,this._z=l*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var u=Math.sqrt(s),c=Math.atan2(u,a),f=Math.sin((1-t)*c)/u,h=Math.sin(t*c)/u;return this._w=o*f+this._w*h,this._x=n*f+this._x*h,this._y=r*f+this._y*h,this._z=i*f+this._z*h,this._onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},fromBufferAttribute:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});var rr=new or,ir=new nr;function or(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.x=e,this.y=t,this.z=n}Object.assign(or.prototype,{isVector3:!0,set:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(ir.setFromEuler(e))},applyAxisAngle:function(e,t){return this.applyQuaternion(ir.setFromAxisAngle(e,t))},applyMatrix3:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this},applyNormalMatrix:function(e){return this.applyMatrix3(e).normalize()},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,o=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*o,this},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,s=e.w,l=s*t+o*r-a*n,u=s*n+a*t-i*r,c=s*r+i*n-o*t,f=-i*t-o*n-a*r;return this.x=l*s+f*-i+u*-a-c*-o,this.y=u*s+f*-o+c*-i-l*-a,this.z=c*s+f*-a+l*-o-u*-i,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)},transformDirection:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var n=e.x,r=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this},projectOnVector:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)},projectOnPlane:function(e){return rr.copy(this).projectOnVector(e),this.sub(rr)},reflect:function(e){return this.sub(rr.copy(e).multiplyScalar(2*this.dot(e)))},angleTo:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(Qn.clamp(n,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},setFromMatrix3Column:function(e,t){return this.fromArray(e.elements,3*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}});var ar=new or,sr=new dr,lr=new or(0,0,0),ur=new or(1,1,1),cr=new or,fr=new or,hr=new or;function dr(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(dr.prototype,{isMatrix4:!0,set:function(e,t,n,r,i,o,a,s,l,u,c,f,h,d,p,m){var v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=r,v[1]=i,v[5]=o,v[9]=a,v[13]=s,v[2]=l,v[6]=u,v[10]=c,v[14]=f,v[3]=h,v[7]=d,v[11]=p,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new dr).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(e){var t=this.elements,n=e.elements,r=1/ar.setFromMatrixColumn(e,0).length(),i=1/ar.setFromMatrixColumn(e,1).length(),o=1/ar.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,i=e.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),l=Math.sin(r),u=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){var f=o*u,h=o*c,d=a*u,p=a*c;t[0]=s*u,t[4]=-s*c,t[8]=l,t[1]=h+d*l,t[5]=f-p*l,t[9]=-a*s,t[2]=p-f*l,t[6]=d+h*l,t[10]=o*s}else if("YXZ"===e.order){var m=s*u,v=s*c,g=l*u,y=l*c;t[0]=m+y*a,t[4]=g*a-v,t[8]=o*l,t[1]=o*c,t[5]=o*u,t[9]=-a,t[2]=v*a-g,t[6]=y+m*a,t[10]=o*s}else if("ZXY"===e.order){var _=s*u,b=s*c,w=l*u,x=l*c;t[0]=_-x*a,t[4]=-o*c,t[8]=w+b*a,t[1]=b+w*a,t[5]=o*u,t[9]=x-_*a,t[2]=-o*l,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){var A=o*u,M=o*c,S=a*u,C=a*c;t[0]=s*u,t[4]=S*l-M,t[8]=A*l+C,t[1]=s*c,t[5]=C*l+A,t[9]=M*l-S,t[2]=-l,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){var E=o*s,I=o*l,T=a*s,L=a*l;t[0]=s*u,t[4]=L-E*c,t[8]=T*c+I,t[1]=c,t[5]=o*u,t[9]=-a*u,t[2]=-l*u,t[6]=I*c+T,t[10]=E-L*c}else if("XZY"===e.order){var z=o*s,k=o*l,D=a*s,O=a*l;t[0]=s*u,t[4]=-c,t[8]=l*u,t[1]=z*c+O,t[5]=o*u,t[9]=k*c-D,t[2]=D*c-k,t[6]=a*u,t[10]=O*c+z}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){return this.compose(lr,e,ur)},lookAt:function(e,t,n){var r=this.elements;return hr.subVectors(e,t),0===hr.lengthSq()&&(hr.z=1),hr.normalize(),cr.crossVectors(n,hr),0===cr.lengthSq()&&(1===Math.abs(n.z)?hr.x+=1e-4:hr.z+=1e-4,hr.normalize(),cr.crossVectors(n,hr)),cr.normalize(),fr.crossVectors(hr,cr),r[0]=cr.x,r[4]=fr.x,r[8]=hr.x,r[1]=cr.y,r[5]=fr.y,r[9]=hr.y,r[2]=cr.z,r[6]=fr.z,r[10]=hr.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[4],s=n[8],l=n[12],u=n[1],c=n[5],f=n[9],h=n[13],d=n[2],p=n[6],m=n[10],v=n[14],g=n[3],y=n[7],_=n[11],b=n[15],w=r[0],x=r[4],A=r[8],M=r[12],S=r[1],C=r[5],E=r[9],I=r[13],T=r[2],L=r[6],z=r[10],k=r[14],D=r[3],O=r[7],N=r[11],j=r[15];return i[0]=o*w+a*S+s*T+l*D,i[4]=o*x+a*C+s*L+l*O,i[8]=o*A+a*E+s*z+l*N,i[12]=o*M+a*I+s*k+l*j,i[1]=u*w+c*S+f*T+h*D,i[5]=u*x+c*C+f*L+h*O,i[9]=u*A+c*E+f*z+h*N,i[13]=u*M+c*I+f*k+h*j,i[2]=d*w+p*S+m*T+v*D,i[6]=d*x+p*C+m*L+v*O,i[10]=d*A+p*E+m*z+v*N,i[14]=d*M+p*I+m*k+v*j,i[3]=g*w+y*S+_*T+b*D,i[7]=g*x+y*C+_*L+b*O,i[11]=g*A+y*E+_*z+b*N,i[15]=g*M+y*I+_*k+b*j,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],a=e[5],s=e[9],l=e[13],u=e[2],c=e[6],f=e[10],h=e[14];return e[3]*(+i*s*c-r*l*c-i*a*f+n*l*f+r*a*h-n*s*h)+e[7]*(+t*s*h-t*l*f+i*o*f-r*o*h+r*l*u-i*s*u)+e[11]*(+t*l*c-t*a*h-i*o*c+n*o*h+i*a*u-n*l*u)+e[15]*(-r*a*u-t*s*c+t*a*f+r*o*c-n*o*f+n*s*u)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this},getInverse:function(e,t){void 0!==t&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.");var n=this.elements,r=e.elements,i=r[0],o=r[1],a=r[2],s=r[3],l=r[4],u=r[5],c=r[6],f=r[7],h=r[8],d=r[9],p=r[10],m=r[11],v=r[12],g=r[13],y=r[14],_=r[15],b=d*y*f-g*p*f+g*c*m-u*y*m-d*c*_+u*p*_,w=v*p*f-h*y*f-v*c*m+l*y*m+h*c*_-l*p*_,x=h*g*f-v*d*f+v*u*m-l*g*m-h*u*_+l*d*_,A=v*d*c-h*g*c-v*u*p+l*g*p+h*u*y-l*d*y,M=i*b+o*w+a*x+s*A;if(0===M)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var S=1/M;return n[0]=b*S,n[1]=(g*p*s-d*y*s-g*a*m+o*y*m+d*a*_-o*p*_)*S,n[2]=(u*y*s-g*c*s+g*a*f-o*y*f-u*a*_+o*c*_)*S,n[3]=(d*c*s-u*p*s-d*a*f+o*p*f+u*a*m-o*c*m)*S,n[4]=w*S,n[5]=(h*y*s-v*p*s+v*a*m-i*y*m-h*a*_+i*p*_)*S,n[6]=(v*c*s-l*y*s-v*a*f+i*y*f+l*a*_-i*c*_)*S,n[7]=(l*p*s-h*c*s+h*a*f-i*p*f-l*a*m+i*c*m)*S,n[8]=x*S,n[9]=(v*d*s-h*g*s-v*o*m+i*g*m+h*o*_-i*d*_)*S,n[10]=(l*g*s-v*u*s+v*o*f-i*g*f-l*o*_+i*u*_)*S,n[11]=(h*u*s-l*d*s-h*o*f+i*d*f+l*o*m-i*u*m)*S,n[12]=A*S,n[13]=(h*g*a-v*d*a+v*o*p-i*g*p-h*o*y+i*d*y)*S,n[14]=(v*u*a-l*g*a-v*o*c+i*g*c+l*o*y-i*u*y)*S,n[15]=(l*d*a-h*u*a+h*o*c-i*d*c-l*o*p+i*u*p)*S,this},scale:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,o=e.x,a=e.y,s=e.z,l=i*o,u=i*a;return this.set(l*o+n,l*a-r*s,l*s+r*a,0,l*a+r*s,u*a+n,u*s-r*o,0,l*s-r*a,u*s+r*o,i*s*s+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){var r=this.elements,i=t._x,o=t._y,a=t._z,s=t._w,l=i+i,u=o+o,c=a+a,f=i*l,h=i*u,d=i*c,p=o*u,m=o*c,v=a*c,g=s*l,y=s*u,_=s*c,b=n.x,w=n.y,x=n.z;return r[0]=(1-(p+v))*b,r[1]=(h+_)*b,r[2]=(d-y)*b,r[3]=0,r[4]=(h-_)*w,r[5]=(1-(f+v))*w,r[6]=(m+g)*w,r[7]=0,r[8]=(d+y)*x,r[9]=(m-g)*x,r[10]=(1-(f+p))*x,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this},decompose:function(e,t,n){var r=this.elements,i=ar.set(r[0],r[1],r[2]).length(),o=ar.set(r[4],r[5],r[6]).length(),a=ar.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],sr.copy(this);var s=1/i,l=1/o,u=1/a;return sr.elements[0]*=s,sr.elements[1]*=s,sr.elements[2]*=s,sr.elements[4]*=l,sr.elements[5]*=l,sr.elements[6]*=l,sr.elements[8]*=u,sr.elements[9]*=u,sr.elements[10]*=u,t.setFromRotationMatrix(sr),n.x=i,n.y=o,n.z=a,this},makePerspective:function(e,t,n,r,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*i/(t-e),l=2*i/(n-r),u=(t+e)/(t-e),c=(n+r)/(n-r),f=-(o+i)/(o-i),h=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=l,a[9]=c,a[13]=0,a[2]=0,a[6]=0,a[10]=f,a[14]=h,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(e,t,n,r,i,o){var a=this.elements,s=1/(t-e),l=1/(n-r),u=1/(o-i),c=(t+e)*s,f=(n+r)*l,h=(o+i)*u;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-c,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-f,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-h,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}});var pr=new dr,mr=new nr;function vr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:vr.DefaultOrder;this._x=e,this._y=t,this._z=n,this._order=r}function gr(){this.mask=1}vr.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],vr.DefaultOrder="XYZ",Object.defineProperties(vr.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}}}),Object.assign(vr.prototype,{isEuler:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var r=Qn.clamp,i=e.elements,o=i[0],a=i[4],s=i[8],l=i[1],u=i[5],c=i[9],f=i[2],h=i[6],d=i[10];switch(t=t||this._order){case"XYZ":this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-r(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(s,d),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-f,o),this._z=0);break;case"ZXY":this._x=Math.asin(r(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,d),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-r(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(r(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-f,o)):(this._x=0,this._y=Math.atan2(s,d));break;case"XZY":this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-c,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!1!==n&&this._onChangeCallback(),this},setFromQuaternion:function(e,t,n){return pr.makeRotationFromQuaternion(e),this.setFromRotationMatrix(pr,t,n)},setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(e){return mr.setFromEuler(this),this.setFromQuaternion(mr,e)},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new or(this._x,this._y,this._z)},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}}),Object.assign(gr.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},enableAll:function(){this.mask=-1},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},disableAll:function(){this.mask=0},test:function(e){return 0!==(this.mask&e.mask)}});var yr=0,_r=new or,br=new nr,wr=new dr,xr=new or,Ar=new or,Mr=new or,Sr=new nr,Cr=new or(1,0,0),Er=new or(0,1,0),Ir=new or(0,0,1),Tr={type:"added"},Lr={type:"removed"};function zr(){Object.defineProperty(this,"id",{value:yr++}),this.uuid=Qn.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=zr.DefaultUp.clone();var e=new or,t=new vr,n=new nr,r=new or(1,1,1);t._onChange(function(){n.setFromEuler(t,!1)}),n._onChange(function(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new dr},normalMatrix:{value:new Wn}}),this.matrix=new dr,this.matrixWorld=new dr,this.matrixAutoUpdate=zr.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new gr,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function kr(){zr.call(this),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}zr.DefaultUp=new or(0,1,0),zr.DefaultMatrixAutoUpdate=!0,zr.prototype=Object.assign(Object.create(Un.prototype),{constructor:zr,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return br.setFromAxisAngle(e,t),this.quaternion.multiply(br),this},rotateOnWorldAxis:function(e,t){return br.setFromAxisAngle(e,t),this.quaternion.premultiply(br),this},rotateX:function(e){return this.rotateOnAxis(Cr,e)},rotateY:function(e){return this.rotateOnAxis(Er,e)},rotateZ:function(e){return this.rotateOnAxis(Ir,e)},translateOnAxis:function(e,t){return _r.copy(e).applyQuaternion(this.quaternion),this.position.add(_r.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(Cr,e)},translateY:function(e){return this.translateOnAxis(Er,e)},translateZ:function(e){return this.translateOnAxis(Ir,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(wr.getInverse(this.matrixWorld))},lookAt:function(e,t,n){e.isVector3?xr.copy(e):xr.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),Ar.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?wr.lookAt(Ar,xr,this.up):wr.lookAt(xr,Ar,this.up),this.quaternion.setFromRotationMatrix(wr),r&&(wr.extractRotation(r.matrixWorld),br.setFromRotationMatrix(wr),this.quaternion.premultiply(br.inverse()))},add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Tr)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Lr)),this},attach:function(e){return this.updateWorldMatrix(!0,!1),wr.getInverse(this.matrixWorld),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),wr.multiply(e.parent.matrixWorld)),e.applyMatrix4(wr),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new or),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new nr),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Ar,e,Mr),e},getWorldScale:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new or),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Ar,Sr,e),e},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new or),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,o=r.length;i<o;i++)r[i].updateWorldMatrix(!1,!0)},toJSON:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var o=this.geometry.parameters;if(void 0!==o&&void 0!==o.shapes){var a=o.shapes;if(Array.isArray(a))for(var s=0,l=a.length;s<l;s++){var u=a[s];i(e.shapes,u)}else i(e.shapes,a)}}if(void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],f=0,h=this.material.length;f<h;f++)c.push(i(e.materials,this.material[f]));r.material=c}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(var d=0;d<this.children.length;d++)r.children.push(this.children[d].toJSON(e).object)}if(t){var p=_(e.geometries),m=_(e.materials),v=_(e.textures),g=_(e.images),y=_(e.shapes);p.length>0&&(n.geometries=p),m.length>0&&(n.materials=m),v.length>0&&(n.textures=v),g.length>0&&(n.images=g),y.length>0&&(n.shapes=y)}return n.object=r,n;function _(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}),kr.prototype=Object.assign(Object.create(zr.prototype),{constructor:kr,isScene:!0,copy:function(e,t){return zr.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=zr.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.environment&&(t.object.environment=this.environment.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Dr=[new or,new or,new or,new or,new or,new or,new or,new or],Or=new or,Nr=new Gr,jr=new or,Pr=new or,Rr=new or,$r=new or,Fr=new or,Kr=new or,Ur=new or,Vr=new or,Br=new or,Hr=new or;function Gr(e,t){this.min=void 0!==e?e:new or(1/0,1/0,1/0),this.max=void 0!==t?t:new or(-1/0,-1/0,-1/0)}function Qr(e,t,n,r,i){for(var o=0,a=e.length-3;o<=a;o+=3){Hr.fromArray(e,o);var s=i.x*Math.abs(Hr.x)+i.y*Math.abs(Hr.y)+i.z*Math.abs(Hr.z),l=t.dot(Hr),u=n.dot(Hr),c=r.dot(Hr);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}Object.assign(Gr.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,l=e.length;s<l;s+=3){var u=e[s],c=e[s+1],f=e[s+2];u<t&&(t=u),c<n&&(n=c),f<r&&(r=f),u>i&&(i=u),c>o&&(o=c),f>a&&(a=f)}return this.min.set(t,n,r),this.max.set(i,o,a),this},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,l=e.count;s<l;s++){var u=e.getX(s),c=e.getY(s),f=e.getZ(s);u<t&&(t=u),c<n&&(n=c),f<r&&(r=f),u>i&&(i=u),c>o&&(o=c),f>a&&(a=f)}return this.min.set(t,n,r),this.max.set(i,o,a),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){var n=Or.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this},setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new or),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new or),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(e){e.updateWorldMatrix(!1,!1);var t=e.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),Nr.copy(t.boundingBox),Nr.applyMatrix4(e.matrixWorld),this.union(Nr));for(var n=e.children,r=0,i=n.length;r<i;r++)this.expandByObject(n[r]);return this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new or),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(e){return this.clampPoint(e.center,Or),Or.distanceToSquared(e.center)<=e.radius*e.radius},intersectsPlane:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant},intersectsTriangle:function(e){if(this.isEmpty())return!1;this.getCenter(Ur),Vr.subVectors(this.max,Ur),jr.subVectors(e.a,Ur),Pr.subVectors(e.b,Ur),Rr.subVectors(e.c,Ur),$r.subVectors(Pr,jr),Fr.subVectors(Rr,Pr),Kr.subVectors(jr,Rr);var t=[0,-$r.z,$r.y,0,-Fr.z,Fr.y,0,-Kr.z,Kr.y,$r.z,0,-$r.x,Fr.z,0,-Fr.x,Kr.z,0,-Kr.x,-$r.y,$r.x,0,-Fr.y,Fr.x,0,-Kr.y,Kr.x,0];return!!Qr(t,jr,Pr,Rr,Vr)&&(!!Qr(t=[1,0,0,0,1,0,0,0,1],jr,Pr,Rr,Vr)&&(Br.crossVectors($r,Fr),Qr(t=[Br.x,Br.y,Br.z],jr,Pr,Rr,Vr)))},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new or),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return Or.copy(e).clamp(this.min,this.max).sub(e).length()},getBoundingSphere:function(e){return void 0===e&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(Or).length(),e},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(e){return this.isEmpty()?this:(Dr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Dr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Dr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Dr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Dr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Dr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Dr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Dr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Dr),this)},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var qr=new Gr;function Wr(e,t){this.center=void 0!==e?e:new or,this.radius=void 0!==t?t:-1}Object.assign(Wr.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(e,t){var n=this.center;void 0!==t?n.copy(t):qr.setFromPoints(e).getCenter(n);for(var r=0,i=0,o=e.length;i<o;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},isEmpty:function(){return this.radius<0},makeEmpty:function(){return this.center.set(0,0,0),this.radius=-1,this},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new or),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new Gr),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}});var Yr=new or,Xr=new or,Jr=new or,Zr=new or,ei=new or,ti=new or,ni=new or;function ri(e,t){this.origin=void 0!==e?e:new or,this.direction=void 0!==t?t:new or(0,0,-1)}Object.assign(ri.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new or),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(e){return this.origin.copy(this.at(e,Yr)),this},closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new or),t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(e){var t=Yr.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Yr.copy(this.direction).multiplyScalar(t).add(this.origin),Yr.distanceToSquared(e))},distanceSqToSegment:function(e,t,n,r){Xr.copy(e).add(t).multiplyScalar(.5),Jr.copy(t).sub(e).normalize(),Zr.copy(this.origin).sub(Xr);var i,o,a,s,l=.5*e.distanceTo(t),u=-this.direction.dot(Jr),c=Zr.dot(this.direction),f=-Zr.dot(Jr),h=Zr.lengthSq(),d=Math.abs(1-u*u);if(d>0)if(o=u*c-f,s=l*d,(i=u*f-c)>=0)if(o>=-s)if(o<=s){var p=1/d;a=(i*=p)*(i+u*(o*=p)+2*c)+o*(u*i+o+2*f)+h}else o=l,a=-(i=Math.max(0,-(u*o+c)))*i+o*(o+2*f)+h;else o=-l,a=-(i=Math.max(0,-(u*o+c)))*i+o*(o+2*f)+h;else o<=-s?a=-(i=Math.max(0,-(-u*l+c)))*i+(o=i>0?-l:Math.min(Math.max(-l,-f),l))*(o+2*f)+h:o<=s?(i=0,a=(o=Math.min(Math.max(-l,-f),l))*(o+2*f)+h):a=-(i=Math.max(0,-(u*l+c)))*i+(o=i>0?l:Math.min(Math.max(-l,-f),l))*(o+2*f)+h;else o=u>0?-l:l,a=-(i=Math.max(0,-(u*o+c)))*i+o*(o+2*f)+h;return n&&n.copy(this.direction).multiplyScalar(i).add(this.origin),r&&r.copy(Jr).multiplyScalar(o).add(Xr),a},intersectSphere:function(e,t){Yr.subVectors(e.center,this.origin);var n=Yr.dot(this.direction),r=Yr.dot(Yr)-n*n,i=e.radius*e.radius;if(r>i)return null;var o=Math.sqrt(i-r),a=n-o,s=n+o;return a<0&&s<0?null:a<0?this.at(s,t):this.at(a,t)},intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){var n,r,i,o,a,s,l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,f=this.origin;return l>=0?(n=(e.min.x-f.x)*l,r=(e.max.x-f.x)*l):(n=(e.max.x-f.x)*l,r=(e.min.x-f.x)*l),u>=0?(i=(e.min.y-f.y)*u,o=(e.max.y-f.y)*u):(i=(e.max.y-f.y)*u,o=(e.min.y-f.y)*u),n>o||i>r?null:((i>n||n!==n)&&(n=i),(o<r||r!==r)&&(r=o),c>=0?(a=(e.min.z-f.z)*c,s=(e.max.z-f.z)*c):(a=(e.max.z-f.z)*c,s=(e.min.z-f.z)*c),n>s||a>r?null:((a>n||n!==n)&&(n=a),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))},intersectsBox:function(e){return null!==this.intersectBox(e,Yr)},intersectTriangle:function(e,t,n,r,i){ei.subVectors(t,e),ti.subVectors(n,e),ni.crossVectors(ei,ti);var o,a=this.direction.dot(ni);if(a>0){if(r)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}Zr.subVectors(this.origin,e);var s=o*this.direction.dot(ti.crossVectors(Zr,ti));if(s<0)return null;var l=o*this.direction.dot(ei.cross(Zr));if(l<0)return null;if(s+l>a)return null;var u=-o*Zr.dot(ni);return u<0?null:this.at(u/a,i)},applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}});var ii=new or,oi=new or,ai=new Wn;function si(e,t){this.normal=void 0!==e?e:new or(1,0,0),this.constant=void 0!==t?t:0}Object.assign(si.prototype,{isPlane:!0,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(e,t,n){var r=ii.subVectors(n,t).cross(oi.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new or),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(e,t){void 0===t&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new or);var n=e.delta(ii),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):void 0;var i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?void 0:t.copy(n).multiplyScalar(i).add(e.start)},intersectsLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new or),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(e,t){var n=t||ai.getNormalMatrix(e),r=this.coplanarPoint(ii).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this},translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}});var li=new or,ui=new or,ci=new or,fi=new or,hi=new or,di=new or,pi=new or,mi=new or,vi=new or,gi=new or;function yi(e,t,n){this.a=void 0!==e?e:new or,this.b=void 0!==t?t:new or,this.c=void 0!==n?n:new or}Object.assign(yi,{getNormal:function(e,t,n,r){void 0===r&&(console.warn("THREE.Triangle: .getNormal() target is now required"),r=new or),r.subVectors(n,t),li.subVectors(e,t),r.cross(li);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)},getBarycoord:function(e,t,n,r,i){li.subVectors(r,t),ui.subVectors(n,t),ci.subVectors(e,t);var o=li.dot(li),a=li.dot(ui),s=li.dot(ci),l=ui.dot(ui),u=ui.dot(ci),c=o*l-a*a;if(void 0===i&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),i=new or),0===c)return i.set(-2,-1,-1);var f=1/c,h=(l*s-a*u)*f,d=(o*u-a*s)*f;return i.set(1-h-d,d,h)},containsPoint:function(e,t,n,r){return yi.getBarycoord(e,t,n,r,fi),fi.x>=0&&fi.y>=0&&fi.x+fi.y<=1},getUV:function(e,t,n,r,i,o,a,s){return this.getBarycoord(e,t,n,r,fi),s.set(0,0),s.addScaledVector(i,fi.x),s.addScaledVector(o,fi.y),s.addScaledVector(a,fi.z),s},isFrontFacing:function(e,t,n,r){return li.subVectors(n,t),ui.subVectors(e,t),li.cross(ui).dot(r)<0}}),Object.assign(yi.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){return li.subVectors(this.c,this.b),ui.subVectors(this.a,this.b),.5*li.cross(ui).length()},getMidpoint:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new or),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return yi.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new si),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return yi.getBarycoord(e,this.a,this.b,this.c,t)},getUV:function(e,t,n,r,i){return yi.getUV(e,this.a,this.b,this.c,t,n,r,i)},containsPoint:function(e){return yi.containsPoint(e,this.a,this.b,this.c)},isFrontFacing:function(e){return yi.isFrontFacing(this.a,this.b,this.c,e)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new or);var n,r,i=this.a,o=this.b,a=this.c;hi.subVectors(o,i),di.subVectors(a,i),mi.subVectors(e,i);var s=hi.dot(mi),l=di.dot(mi);if(s<=0&&l<=0)return t.copy(i);vi.subVectors(e,o);var u=hi.dot(vi),c=di.dot(vi);if(u>=0&&c<=u)return t.copy(o);var f=s*c-u*l;if(f<=0&&s>=0&&u<=0)return n=s/(s-u),t.copy(i).addScaledVector(hi,n);gi.subVectors(e,a);var h=hi.dot(gi),d=di.dot(gi);if(d>=0&&h<=d)return t.copy(a);var p=h*l-s*d;if(p<=0&&l>=0&&d<=0)return r=l/(l-d),t.copy(i).addScaledVector(di,r);var m=u*d-h*c;if(m<=0&&c-u>=0&&h-d>=0)return pi.subVectors(a,o),r=(c-u)/(c-u+(h-d)),t.copy(o).addScaledVector(pi,r);var v=1/(m+p+f);return n=p*v,r=f*v,t.copy(i).addScaledVector(hi,n).addScaledVector(di,r)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}});var _i={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},bi={h:0,s:0,l:0},wi={h:0,s:0,l:0};function xi(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}function Ai(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function Mi(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Si(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}function Ci(e,t,n,r,i,o){this.a=e,this.b=t,this.c=n,this.normal=r&&r.isVector3?r:new or,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new xi,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}Object.assign(xi.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(e,t,n){if(e=Qn.euclideanModulo(e,1),t=Qn.clamp(t,0,1),n=Qn.clamp(n,0,1),0===t)this.r=this.g=this.b=n;else{var r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=Ai(i,r,e+1/3),this.g=Ai(i,r,e),this.b=Ai(i,r,e-1/3)}return this},setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r,i=n[1],o=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var a=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,l=parseInt(r[3],10)/100;return t(r[5]),this.setHSL(a,s,l)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var u=n[1],c=u.length;if(3===c)return this.r=parseInt(u.charAt(0)+u.charAt(0),16)/255,this.g=parseInt(u.charAt(1)+u.charAt(1),16)/255,this.b=parseInt(u.charAt(2)+u.charAt(2),16)/255,this;if(6===c)return this.r=parseInt(u.charAt(0)+u.charAt(1),16)/255,this.g=parseInt(u.charAt(2)+u.charAt(3),16)/255,this.b=parseInt(u.charAt(4)+u.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this},setColorName:function(e){var t=_i[e];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(e){return this.r=Mi(e.r),this.g=Mi(e.g),this.b=Mi(e.b),this},copyLinearToSRGB:function(e){return this.r=Si(e.r),this.g=Si(e.g),this.b=Si(e.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,n,r=this.r,i=this.g,o=this.b,a=Math.max(r,i,o),s=Math.min(r,i,o),l=(s+a)/2;if(s===a)t=0,n=0;else{var u=a-s;switch(n=l<=.5?u/(a+s):u/(2-a-s),a){case r:t=(i-o)/u+(i<o?6:0);break;case i:t=(o-r)/u+2;break;case o:t=(r-i)/u+4}t/=6}return e.h=t,e.s=n,e.l=l,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,n){return this.getHSL(bi),bi.h+=e,bi.s+=t,bi.l+=n,this.setHSL(bi.h,bi.s,bi.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:function(e,t){this.getHSL(bi),e.getHSL(wi);var n=Qn.lerp(bi.h,wi.h,t),r=Qn.lerp(bi.s,wi.s,t),i=Qn.lerp(bi.l,wi.l,t);return this.setHSL(n,r,i),this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},fromBufferAttribute:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this},toJSON:function(){return this.getHex()}}),xi.NAMES=_i,Object.assign(Ci.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(var r=0,i=e.vertexColors.length;r<i;r++)this.vertexColors[r]=e.vertexColors[r].clone();return this}});var Ei=0;function Ii(){Object.defineProperty(this,"id",{value:Ei++}),this.uuid=Qn.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=I,this.side=x,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=U,this.blendDst=V,this.blendEquation=D,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=J,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=kn,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=yn,this.stencilZFail=yn,this.stencilZPass=yn,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function Ti(e){Ii.call(this),this.type="MeshBasicMaterial",this.color=new xi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=re,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}Ii.prototype=Object.assign(Object.create(Un.prototype),{constructor:Ii,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===S;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==I&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),this.side!==x&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var i=r(e.textures),o=r(e.images);i.length>0&&(n.textures=i),o.length>0&&(n.images=o)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Ii.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Ti.prototype=Object.create(Ii.prototype),Ti.prototype.constructor=Ti,Ti.prototype.isMeshBasicMaterial=!0,Ti.prototype.copy=function(e){return Ii.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this};var Li=new or,zi=new qn;function ki(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.usage=Dn,this.updateRange={offset:0,count:-1},this.version=0}function Di(e,t,n){ki.call(this,new Int8Array(e),t,n)}function Oi(e,t,n){ki.call(this,new Uint8Array(e),t,n)}function Ni(e,t,n){ki.call(this,new Uint8ClampedArray(e),t,n)}function ji(e,t,n){ki.call(this,new Int16Array(e),t,n)}function Pi(e,t,n){ki.call(this,new Uint16Array(e),t,n)}function Ri(e,t,n){ki.call(this,new Int32Array(e),t,n)}function $i(e,t,n){ki.call(this,new Uint32Array(e),t,n)}function Fi(e,t,n){ki.call(this,new Float32Array(e),t,n)}function Ki(e,t,n){ki.call(this,new Float64Array(e),t,n)}function Ui(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Vi(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}Object.defineProperty(ki.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(ki.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new xi),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new qn),t[n++]=o.x,t[n++]=o.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new or),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new Zn),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this},applyMatrix3:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)zi.fromBufferAttribute(this,t),zi.applyMatrix3(e),this.setXY(t,zi.x,zi.y);else if(3===this.itemSize)for(var r=0,i=this.count;r<i;r++)Li.fromBufferAttribute(this,r),Li.applyMatrix3(e),this.setXYZ(r,Li.x,Li.y,Li.z);return this},applyMatrix4:function(e){for(var t=0,n=this.count;t<n;t++)Li.x=this.getX(t),Li.y=this.getY(t),Li.z=this.getZ(t),Li.applyMatrix4(e),this.setXYZ(t,Li.x,Li.y,Li.z);return this},applyNormalMatrix:function(e){for(var t=0,n=this.count;t<n;t++)Li.x=this.getX(t),Li.y=this.getY(t),Li.z=this.getZ(t),Li.applyNormalMatrix(e),this.setXYZ(t,Li.x,Li.y,Li.z);return this},transformDirection:function(e){for(var t=0,n=this.count;t<n;t++)Li.x=this.getX(t),Li.y=this.getY(t),Li.z=this.getZ(t),Li.transformDirection(e),this.setXYZ(t,Li.x,Li.y,Li.z);return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),Di.prototype=Object.create(ki.prototype),Di.prototype.constructor=Di,Oi.prototype=Object.create(ki.prototype),Oi.prototype.constructor=Oi,Ni.prototype=Object.create(ki.prototype),Ni.prototype.constructor=Ni,ji.prototype=Object.create(ki.prototype),ji.prototype.constructor=ji,Pi.prototype=Object.create(ki.prototype),Pi.prototype.constructor=Pi,Ri.prototype=Object.create(ki.prototype),Ri.prototype.constructor=Ri,$i.prototype=Object.create(ki.prototype),$i.prototype.constructor=$i,Fi.prototype=Object.create(ki.prototype),Fi.prototype.constructor=Fi,Ki.prototype=Object.create(ki.prototype),Ki.prototype.constructor=Ki,Object.assign(Ui.prototype,{computeGroups:function(e){var t,n,r=[],i=void 0,o=e.faces;for(n=0;n<o.length;n++){var a=o[n];a.materialIndex!==i&&(i=a.materialIndex,void 0!==t&&(t.count=3*n-t.start,r.push(t)),t={start:3*n,materialIndex:i})}void 0!==t&&(t.count=3*n-t.start,r.push(t)),this.groups=r},fromGeometry:function(e){var t,n=e.faces,r=e.vertices,i=e.faceVertexUvs,o=i[0]&&i[0].length>0,a=i[1]&&i[1].length>0,s=e.morphTargets,l=s.length;if(l>0){t=[];for(var u=0;u<l;u++)t[u]={name:s[u].name,data:[]};this.morphTargets.position=t}var c,f=e.morphNormals,h=f.length;if(h>0){c=[];for(var d=0;d<h;d++)c[d]={name:f[d].name,data:[]};this.morphTargets.normal=c}var p=e.skinIndices,m=e.skinWeights,v=p.length===r.length,g=m.length===r.length;r.length>0&&0===n.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(var y=0;y<n.length;y++){var _=n[y];this.vertices.push(r[_.a],r[_.b],r[_.c]);var b=_.vertexNormals;if(3===b.length)this.normals.push(b[0],b[1],b[2]);else{var w=_.normal;this.normals.push(w,w,w)}var x=_.vertexColors;if(3===x.length)this.colors.push(x[0],x[1],x[2]);else{var A=_.color;this.colors.push(A,A,A)}if(!0===o){var M=i[0][y];void 0!==M?this.uvs.push(M[0],M[1],M[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",y),this.uvs.push(new qn,new qn,new qn))}if(!0===a){var S=i[1][y];void 0!==S?this.uvs2.push(S[0],S[1],S[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",y),this.uvs2.push(new qn,new qn,new qn))}for(var C=0;C<l;C++){var E=s[C].vertices;t[C].data.push(E[_.a],E[_.b],E[_.c])}for(var I=0;I<h;I++){var T=f[I].vertexNormals[y];c[I].data.push(T.a,T.b,T.c)}v&&this.skinIndices.push(p[_.a],p[_.b],p[_.c]),g&&this.skinWeights.push(m[_.a],m[_.b],m[_.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this}});var Bi=1,Hi=new dr,Gi=new zr,Qi=new or,qi=new Gr,Wi=new Gr,Yi=new or;function Xi(){Object.defineProperty(this,"id",{value:Bi+=2}),this.uuid=Qn.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}Xi.prototype=Object.assign(Object.create(Un.prototype),{constructor:Xi,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(Vi(e)>65535?$i:Pi)(e,1):this.index=e},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix4:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new Wn).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(e){return Hi.makeRotationX(e),this.applyMatrix4(Hi),this},rotateY:function(e){return Hi.makeRotationY(e),this.applyMatrix4(Hi),this},rotateZ:function(e){return Hi.makeRotationZ(e),this.applyMatrix4(Hi),this},translate:function(e,t,n){return Hi.makeTranslation(e,t,n),this.applyMatrix4(Hi),this},scale:function(e,t,n){return Hi.makeScale(e,t,n),this.applyMatrix4(Hi),this},lookAt:function(e){return Gi.lookAt(e),Gi.updateMatrix(),this.applyMatrix4(Gi.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Qi).negate(),this.translate(Qi.x,Qi.y,Qi.z),this},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new Fi(3*t.vertices.length,3),r=new Fi(3*t.colors.length,3);if(this.setAttribute("position",n.copyVector3sArray(t.vertices)),this.setAttribute("color",r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var i=new Fi(t.lineDistances.length,1);this.setAttribute("lineDistance",i.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new Fi(t,3)),this},updateFromObject:function(e){var t=e.geometry;if(e.isMesh){var n=t.__directGeometry;if(!0===t.elementsNeedUpdate&&(n=void 0,t.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(t);n.verticesNeedUpdate=t.verticesNeedUpdate,n.normalsNeedUpdate=t.normalsNeedUpdate,n.colorsNeedUpdate=t.colorsNeedUpdate,n.uvsNeedUpdate=t.uvsNeedUpdate,n.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=n}if(!0===t.verticesNeedUpdate){var r=this.attributes.position;void 0!==r&&(r.copyVector3sArray(t.vertices),r.needsUpdate=!0),t.verticesNeedUpdate=!1}if(!0===t.normalsNeedUpdate){var i=this.attributes.normal;void 0!==i&&(i.copyVector3sArray(t.normals),i.needsUpdate=!0),t.normalsNeedUpdate=!1}if(!0===t.colorsNeedUpdate){var o=this.attributes.color;void 0!==o&&(o.copyColorsArray(t.colors),o.needsUpdate=!0),t.colorsNeedUpdate=!1}if(t.uvsNeedUpdate){var a=this.attributes.uv;void 0!==a&&(a.copyVector2sArray(t.uvs),a.needsUpdate=!0),t.uvsNeedUpdate=!1}if(t.lineDistancesNeedUpdate){var s=this.attributes.lineDistance;void 0!==s&&(s.copyArray(t.lineDistances),s.needsUpdate=!0),t.lineDistancesNeedUpdate=!1}return t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new Ui).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.setAttribute("position",new ki(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var n=new Float32Array(3*e.normals.length);this.setAttribute("normal",new ki(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var r=new Float32Array(3*e.colors.length);this.setAttribute("color",new ki(r,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var i=new Float32Array(2*e.uvs.length);this.setAttribute("uv",new ki(i,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var o=new Float32Array(2*e.uvs2.length);this.setAttribute("uv2",new ki(o,2).copyVector2sArray(e.uvs2))}for(var a in this.groups=e.groups,e.morphTargets){for(var s=[],l=e.morphTargets[a],u=0,c=l.length;u<c;u++){var f=l[u],h=new Fi(3*f.data.length,3);h.name=f.name,s.push(h.copyVector3sArray(f.data))}this.morphAttributes[a]=s}if(e.skinIndices.length>0){var d=new Fi(4*e.skinIndices.length,4);this.setAttribute("skinIndex",d.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var p=new Fi(4*e.skinWeights.length,4);this.setAttribute("skinWeight",p.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Gr);var e=this.attributes.position,t=this.morphAttributes.position;if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];qi.setFromBufferAttribute(i),this.morphTargetsRelative?(Yi.addVectors(this.boundingBox.min,qi.min),this.boundingBox.expandByPoint(Yi),Yi.addVectors(this.boundingBox.max,qi.max),this.boundingBox.expandByPoint(Yi)):(this.boundingBox.expandByPoint(qi.min),this.boundingBox.expandByPoint(qi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Wr);var e=this.attributes.position,t=this.morphAttributes.position;if(e){var n=this.boundingSphere.center;if(qi.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var o=t[r];Wi.setFromBufferAttribute(o),this.morphTargetsRelative?(Yi.addVectors(qi.min,Wi.min),qi.expandByPoint(Yi),Yi.addVectors(qi.max,Wi.max),qi.expandByPoint(Yi)):(qi.expandByPoint(Wi.min),qi.expandByPoint(Wi.max))}qi.getCenter(n);for(var a=0,s=0,l=e.count;s<l;s++)Yi.fromBufferAttribute(e,s),a=Math.max(a,n.distanceToSquared(Yi));if(t)for(var u=0,c=t.length;u<c;u++)for(var f=t[u],h=this.morphTargetsRelative,d=0,p=f.count;d<p;d++)Yi.fromBufferAttribute(f,d),h&&(Qi.fromBufferAttribute(e,d),Yi.add(Qi)),a=Math.max(a,n.distanceToSquared(Yi));this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new ki(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var r=0,i=n.count;r<i;r++)n.setXYZ(r,0,0,0);var o=new or,a=new or,s=new or,l=new or,u=new or,c=new or,f=new or,h=new or;if(e)for(var d=0,p=e.count;d<p;d+=3){var m=e.getX(d+0),v=e.getX(d+1),g=e.getX(d+2);o.fromBufferAttribute(t,m),a.fromBufferAttribute(t,v),s.fromBufferAttribute(t,g),f.subVectors(s,a),h.subVectors(o,a),f.cross(h),l.fromBufferAttribute(n,m),u.fromBufferAttribute(n,v),c.fromBufferAttribute(n,g),l.add(f),u.add(f),c.add(f),n.setXYZ(m,l.x,l.y,l.z),n.setXYZ(v,u.x,u.y,u.z),n.setXYZ(g,c.x,c.y,c.z)}else for(var y=0,_=t.count;y<_;y+=3)o.fromBufferAttribute(t,y+0),a.fromBufferAttribute(t,y+1),s.fromBufferAttribute(t,y+2),f.subVectors(s,a),h.subVectors(o,a),f.cross(h),n.setXYZ(y+0,f.x,f.y,f.z),n.setXYZ(y+1,f.x,f.y,f.z),n.setXYZ(y+2,f.x,f.y,f.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var i=n[r].array,o=e.attributes[r],a=o.array,s=o.itemSize*t,l=Math.min(a.length,i.length-s),u=0,c=s;u<l;u++,c++)i[c]=a[u];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)Yi.fromBufferAttribute(e,t),Yi.normalize(),e.setXYZ(t,Yi.x,Yi.y,Yi.z)},toNonIndexed:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=e.normalized,o=new n.constructor(t.length*r),a=0,s=0,l=0,u=t.length;l<u;l++){a=t[l]*r;for(var c=0;c<r;c++)o[s++]=n[a++]}return new ki(o,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new Xi,n=this.index.array,r=this.attributes;for(var i in r){var o=e(r[i],n);t.setAttribute(i,o)}var a=this.morphAttributes;for(var s in a){for(var l=[],u=a[s],c=0,f=u.length;c<f;c++){var h=e(u[c],n);l.push(h)}t.morphAttributes[s]=l}t.morphTargetsRelative=this.morphTargetsRelative;for(var d=this.groups,p=0,m=d.length;p<m;p++){var v=d[p];t.addGroup(v.start,v.count,v.materialIndex)}return t},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var o in i){var a=i[o],s=a.toJSON(e.data);""!==a.name&&(s.name=a.name),e.data.attributes[o]=s}var l={},u=!1;for(var c in this.morphAttributes){for(var f=this.morphAttributes[c],h=[],d=0,p=f.length;d<p;d++){var m=f[d],v=m.toJSON(e.data);""!==m.name&&(v.name=m.name),h.push(v)}h.length>0&&(l[c]=h,u=!0)}u&&(e.data.morphAttributes=l,e.data.morphTargetsRelative=this.morphTargetsRelative);var g=this.groups;g.length>0&&(e.data.groups=JSON.parse(JSON.stringify(g)));var y=this.boundingSphere;return null!==y&&(e.data.boundingSphere={center:y.center.toArray(),radius:y.radius}),e},clone:function(){return(new Xi).copy(this)},copy:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var r=e.attributes;for(var i in r){var o=r[i];this.setAttribute(i,o.clone(t))}var a=e.morphAttributes;for(var s in a){for(var l=[],u=a[s],c=0,f=u.length;c<f;c++)l.push(u[c].clone(t));this.morphAttributes[s]=l}this.morphTargetsRelative=e.morphTargetsRelative;for(var h=e.groups,d=0,p=h.length;d<p;d++){var m=h[d];this.addGroup(m.start,m.count,m.materialIndex)}var v=e.boundingBox;null!==v&&(this.boundingBox=v.clone());var g=e.boundingSphere;return null!==g&&(this.boundingSphere=g.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Ji=new dr,Zi=new ri,eo=new Wr,to=new or,no=new or,ro=new or,io=new or,oo=new or,ao=new or,so=new or,lo=new or,uo=new or,co=new qn,fo=new qn,ho=new qn,po=new or,mo=new or;function vo(e,t){zr.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new Xi,this.material=void 0!==t?t:new Ti,this.updateMorphTargets()}function go(e,t,n,r,i,o,a,s){if(null===(t.side===A?r.intersectTriangle(a,o,i,!0,s):r.intersectTriangle(i,o,a,t.side!==M,s)))return null;mo.copy(s),mo.applyMatrix4(e.matrixWorld);var l=n.ray.origin.distanceTo(mo);return l<n.near||l>n.far?null:{distance:l,point:mo.clone(),object:e}}function yo(e,t,n,r,i,o,a,s,l,u,c,f){to.fromBufferAttribute(i,u),no.fromBufferAttribute(i,c),ro.fromBufferAttribute(i,f);var h=e.morphTargetInfluences;if(t.morphTargets&&o&&h){so.set(0,0,0),lo.set(0,0,0),uo.set(0,0,0);for(var d=0,p=o.length;d<p;d++){var m=h[d],v=o[d];0!==m&&(io.fromBufferAttribute(v,u),oo.fromBufferAttribute(v,c),ao.fromBufferAttribute(v,f),a?(so.addScaledVector(io,m),lo.addScaledVector(oo,m),uo.addScaledVector(ao,m)):(so.addScaledVector(io.sub(to),m),lo.addScaledVector(oo.sub(no),m),uo.addScaledVector(ao.sub(ro),m)))}to.add(so),no.add(lo),ro.add(uo)}e.isSkinnedMesh&&(e.boneTransform(u,to),e.boneTransform(c,no),e.boneTransform(f,ro));var g=go(e,t,n,r,to,no,ro,po);if(g){s&&(co.fromBufferAttribute(s,u),fo.fromBufferAttribute(s,c),ho.fromBufferAttribute(s,f),g.uv=yi.getUV(po,to,no,ro,co,fo,ho,new qn)),l&&(co.fromBufferAttribute(l,u),fo.fromBufferAttribute(l,c),ho.fromBufferAttribute(l,f),g.uv2=yi.getUV(po,to,no,ro,co,fo,ho,new qn));var y=new Ci(u,c,f);yi.getNormal(to,no,ro,y.normal),g.face=y}return g}vo.prototype=Object.assign(Object.create(zr.prototype),{constructor:vo,isMesh:!0,copy:function(e){return zr.prototype.copy.call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,o=r.length;i<o;i++){var a=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){var n,r=this.geometry,i=this.material,o=this.matrixWorld;if(void 0!==i&&(null===r.boundingSphere&&r.computeBoundingSphere(),eo.copy(r.boundingSphere),eo.applyMatrix4(o),!1!==e.ray.intersectsSphere(eo)&&(Ji.getInverse(o),Zi.copy(e.ray).applyMatrix4(Ji),null===r.boundingBox||!1!==Zi.intersectsBox(r.boundingBox))))if(r.isBufferGeometry){var a=r.index,s=r.attributes.position,l=r.morphAttributes.position,u=r.morphTargetsRelative,c=r.attributes.uv,f=r.attributes.uv2,h=r.groups,d=r.drawRange;if(null!==a)if(Array.isArray(i))for(var p=0,m=h.length;p<m;p++)for(var v=h[p],g=i[v.materialIndex],y=Math.max(v.start,d.start),_=Math.min(v.start+v.count,d.start+d.count);y<_;y+=3){var b=a.getX(y),w=a.getX(y+1),x=a.getX(y+2);(n=yo(this,g,e,Zi,s,l,u,c,f,b,w,x))&&(n.faceIndex=Math.floor(y/3),n.face.materialIndex=v.materialIndex,t.push(n))}else for(var A=Math.max(0,d.start),M=Math.min(a.count,d.start+d.count);A<M;A+=3){var S=a.getX(A),C=a.getX(A+1),E=a.getX(A+2);(n=yo(this,i,e,Zi,s,l,u,c,f,S,C,E))&&(n.faceIndex=Math.floor(A/3),t.push(n))}else if(void 0!==s)if(Array.isArray(i))for(var I=0,T=h.length;I<T;I++)for(var L=h[I],z=i[L.materialIndex],k=Math.max(L.start,d.start),D=Math.min(L.start+L.count,d.start+d.count);k<D;k+=3){(n=yo(this,z,e,Zi,s,l,u,c,f,k,k+1,k+2))&&(n.faceIndex=Math.floor(k/3),n.face.materialIndex=L.materialIndex,t.push(n))}else for(var O=Math.max(0,d.start),N=Math.min(s.count,d.start+d.count);O<N;O+=3){(n=yo(this,i,e,Zi,s,l,u,c,f,O,O+1,O+2))&&(n.faceIndex=Math.floor(O/3),t.push(n))}}else if(r.isGeometry){var j,P=Array.isArray(i),R=r.vertices,$=r.faces,F=r.faceVertexUvs[0];F.length>0&&(j=F);for(var K=0,U=$.length;K<U;K++){var V=$[K],B=P?i[V.materialIndex]:i;if(void 0!==B){var H=R[V.a],G=R[V.b],Q=R[V.c];if(n=go(this,B,e,Zi,H,G,Q,po)){if(j&&j[K]){var q=j[K];co.copy(q[0]),fo.copy(q[1]),ho.copy(q[2]),n.uv=yi.getUV(po,H,G,Q,co,fo,ho,new qn)}n.face=V,n.faceIndex=K,t.push(n)}}}}}});var _o=0,bo=new dr,wo=new zr,xo=new or;function Ao(){Object.defineProperty(this,"id",{value:_o+=2}),this.uuid=Qn.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}Ao.prototype=Object.assign(Object.create(Un.prototype),{constructor:Ao,isGeometry:!0,applyMatrix4:function(e){for(var t=(new Wn).getNormalMatrix(e),n=0,r=this.vertices.length;n<r;n++){this.vertices[n].applyMatrix4(e)}for(var i=0,o=this.faces.length;i<o;i++){var a=this.faces[i];a.normal.applyMatrix3(t).normalize();for(var s=0,l=a.vertexNormals.length;s<l;s++)a.vertexNormals[s].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return bo.makeRotationX(e),this.applyMatrix4(bo),this},rotateY:function(e){return bo.makeRotationY(e),this.applyMatrix4(bo),this},rotateZ:function(e){return bo.makeRotationZ(e),this.applyMatrix4(bo),this},translate:function(e,t,n){return bo.makeTranslation(e,t,n),this.applyMatrix4(bo),this},scale:function(e,t,n){return bo.makeScale(e,t,n),this.applyMatrix4(bo),this},lookAt:function(e){return wo.lookAt(e),wo.updateMatrix(),this.applyMatrix4(wo.matrix),this},fromBufferGeometry:function(e){var t=this,n=null!==e.index?e.index:void 0,r=e.attributes;if(void 0===r.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var i=r.position,o=r.normal,a=r.color,s=r.uv,l=r.uv2;void 0!==l&&(this.faceVertexUvs[1]=[]);for(var u=0;u<i.count;u++)t.vertices.push((new or).fromBufferAttribute(i,u)),void 0!==a&&t.colors.push((new xi).fromBufferAttribute(a,u));function c(e,n,r,i){var u=void 0===a?[]:[t.colors[e].clone(),t.colors[n].clone(),t.colors[r].clone()],c=new Ci(e,n,r,void 0===o?[]:[(new or).fromBufferAttribute(o,e),(new or).fromBufferAttribute(o,n),(new or).fromBufferAttribute(o,r)],u,i);t.faces.push(c),void 0!==s&&t.faceVertexUvs[0].push([(new qn).fromBufferAttribute(s,e),(new qn).fromBufferAttribute(s,n),(new qn).fromBufferAttribute(s,r)]),void 0!==l&&t.faceVertexUvs[1].push([(new qn).fromBufferAttribute(l,e),(new qn).fromBufferAttribute(l,n),(new qn).fromBufferAttribute(l,r)])}var f=e.groups;if(f.length>0)for(var h=0;h<f.length;h++)for(var d=f[h],p=d.start,m=p,v=p+d.count;m<v;m+=3)void 0!==n?c(n.getX(m),n.getX(m+1),n.getX(m+2),d.materialIndex):c(m,m+1,m+2,d.materialIndex);else if(void 0!==n)for(var g=0;g<n.count;g+=3)c(n.getX(g),n.getX(g+1),n.getX(g+2));else for(var y=0;y<i.count;y+=3)c(y,y+1,y+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(xo).negate(),this.translate(xo.x,xo.y,xo.z),this},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,r=new dr;return r.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix4(r),this},computeFaceNormals:function(){for(var e=new or,t=new or,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],o=this.vertices[i.a],a=this.vertices[i.b],s=this.vertices[i.c];e.subVectors(s,a),t.subVectors(o,a),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(e){void 0===e&&(e=!0);for(var t=new Array(this.vertices.length),n=0,r=this.vertices.length;n<r;n++)t[n]=new or;if(e)for(var i=new or,o=new or,a=0,s=this.faces.length;a<s;a++){var l=this.faces[a],u=this.vertices[l.a],c=this.vertices[l.b],f=this.vertices[l.c];i.subVectors(f,c),o.subVectors(u,c),i.cross(o),t[l.a].add(i),t[l.b].add(i),t[l.c].add(i)}else{this.computeFaceNormals();for(var h=0,d=this.faces.length;h<d;h++){var p=this.faces[h];t[p.a].add(p.normal),t[p.b].add(p.normal),t[p.c].add(p.normal)}}for(var m=0,v=this.vertices.length;m<v;m++)t[m].normalize();for(var g=0,y=this.faces.length;g<y;g++){var _=this.faces[g],b=_.vertexNormals;3===b.length?(b[0].copy(t[_.a]),b[1].copy(t[_.b]),b[2].copy(t[_.c])):(b[0]=t[_.a].clone(),b[1]=t[_.b].clone(),b[2]=t[_.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(var e=0,t=this.faces.length;e<t;e++){var n=this.faces[e],r=n.vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(var e=0,t=this.faces.length;e<t;e++){var n=this.faces[e];n.__originalFaceNormal?n.__originalFaceNormal.copy(n.normal):n.__originalFaceNormal=n.normal.clone(),n.__originalVertexNormals||(n.__originalVertexNormals=[]);for(var r=0,i=n.vertexNormals.length;r<i;r++)n.__originalVertexNormals[r]?n.__originalVertexNormals[r].copy(n.vertexNormals[r]):n.__originalVertexNormals[r]=n.vertexNormals[r].clone()}var o=new Ao;o.faces=this.faces;for(var a=0,s=this.morphTargets.length;a<s;a++){if(!this.morphNormals[a]){this.morphNormals[a]={},this.morphNormals[a].faceNormals=[],this.morphNormals[a].vertexNormals=[];for(var l=this.morphNormals[a].faceNormals,u=this.morphNormals[a].vertexNormals,c=0,f=this.faces.length;c<f;c++){var h=new or,d={a:new or,b:new or,c:new or};l.push(h),u.push(d)}}var p=this.morphNormals[a];o.vertices=this.morphTargets[a].vertices,o.computeFaceNormals(),o.computeVertexNormals();for(var m=0,v=this.faces.length;m<v;m++){var g=this.faces[m],y=p.faceNormals[m],_=p.vertexNormals[m];y.copy(g.normal),_.a.copy(g.vertexNormals[0]),_.b.copy(g.vertexNormals[1]),_.c.copy(g.vertexNormals[2])}}for(var b=0,w=this.faces.length;b<w;b++){var x=this.faces[b];x.normal=x.__originalFaceNormal,x.vertexNormals=x.__originalVertexNormals}},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Gr),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Wr),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(e&&e.isGeometry){var r,i=this.vertices.length,o=this.vertices,a=e.vertices,s=this.faces,l=e.faces,u=this.colors,c=e.colors;void 0===n&&(n=0),void 0!==t&&(r=(new Wn).getNormalMatrix(t));for(var f=0,h=a.length;f<h;f++){var d=a[f].clone();void 0!==t&&d.applyMatrix4(t),o.push(d)}for(var p=0,m=c.length;p<m;p++)u.push(c[p].clone());for(var v=0,g=l.length;v<g;v++){var y=l[v],_=void 0,b=void 0,w=void 0,x=y.vertexNormals,A=y.vertexColors;(_=new Ci(y.a+i,y.b+i,y.c+i)).normal.copy(y.normal),void 0!==r&&_.normal.applyMatrix3(r).normalize();for(var M=0,S=x.length;M<S;M++)b=x[M].clone(),void 0!==r&&b.applyMatrix3(r).normalize(),_.vertexNormals.push(b);_.color.copy(y.color);for(var C=0,E=A.length;C<E;C++)w=A[C],_.vertexColors.push(w.clone());_.materialIndex=y.materialIndex+n,s.push(_)}for(var I=0,T=e.faceVertexUvs.length;I<T;I++){var L=e.faceVertexUvs[I];void 0===this.faceVertexUvs[I]&&(this.faceVertexUvs[I]=[]);for(var z=0,k=L.length;z<k;z++){for(var D=L[z],O=[],N=0,j=D.length;N<j;N++)O.push(D[N].clone());this.faceVertexUvs[I].push(O)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){for(var e={},t=[],n=[],r=Math.pow(10,4),i=0,o=this.vertices.length;i<o;i++){var a=this.vertices[i],s=Math.round(a.x*r)+"_"+Math.round(a.y*r)+"_"+Math.round(a.z*r);void 0===e[s]?(e[s]=i,t.push(this.vertices[i]),n[i]=t.length-1):n[i]=n[e[s]]}for(var l=[],u=0,c=this.faces.length;u<c;u++){var f=this.faces[u];f.a=n[f.a],f.b=n[f.b],f.c=n[f.c];for(var h=[f.a,f.b,f.c],d=0;d<3;d++)if(h[d]===h[(d+1)%3]){l.push(u);break}}for(var p=l.length-1;p>=0;p--){var m=l[p];this.faces.splice(m,1);for(var v=0,g=this.faceVertexUvs.length;v<g;v++)this.faceVertexUvs[v].splice(m,1)}var y=this.vertices.length-t.length;return this.vertices=t,y},setFromPoints:function(e){this.vertices=[];for(var t=0,n=e.length;t<n;t++){var r=e[t];this.vertices.push(new or(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;e.sort(function(e,t){return e.materialIndex-t.materialIndex});var r,i,o=this.faceVertexUvs[0],a=this.faceVertexUvs[1];o&&o.length===t&&(r=[]),a&&a.length===t&&(i=[]);for(var s=0;s<t;s++){var l=e[s]._id;r&&r.push(o[l]),i&&i.push(a[l])}r&&(this.faceVertexUvs[0]=r),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}for(var r=[],i=0;i<this.vertices.length;i++){var o=this.vertices[i];r.push(o.x,o.y,o.z)}for(var a=[],s=[],l={},u=[],c={},f=[],h={},d=0;d<this.faces.length;d++){var p=this.faces[d],m=void 0!==this.faceVertexUvs[0][d],v=p.normal.length()>0,g=p.vertexNormals.length>0,y=1!==p.color.r||1!==p.color.g||1!==p.color.b,_=p.vertexColors.length>0,b=0;if(b=M(b,0,0),b=M(b,1,!0),b=M(b,2,!1),b=M(b,3,m),b=M(b,4,v),b=M(b,5,g),b=M(b,6,y),b=M(b,7,_),a.push(b),a.push(p.a,p.b,p.c),a.push(p.materialIndex),m){var w=this.faceVertexUvs[0][d];a.push(E(w[0]),E(w[1]),E(w[2]))}if(v&&a.push(S(p.normal)),g){var x=p.vertexNormals;a.push(S(x[0]),S(x[1]),S(x[2]))}if(y&&a.push(C(p.color)),_){var A=p.vertexColors;a.push(C(A[0]),C(A[1]),C(A[2]))}}function M(e,t,n){return n?e|1<<t:e&~(1<<t)}function S(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==l[t]?l[t]:(l[t]=s.length/3,s.push(e.x,e.y,e.z),l[t])}function C(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==c[t]?c[t]:(c[t]=u.length,u.push(e.getHex()),c[t])}function E(e){var t=e.x.toString()+e.y.toString();return void 0!==h[t]?h[t]:(h[t]=f.length/2,f.push(e.x,e.y),h[t])}return e.data={},e.data.vertices=r,e.data.normals=s,u.length>0&&(e.data.colors=u),f.length>0&&(e.data.uvs=[f]),e.data.faces=a,e},clone:function(){return(new Ao).copy(this)},copy:function(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;for(var t=e.vertices,n=0,r=t.length;n<r;n++)this.vertices.push(t[n].clone());for(var i=e.colors,o=0,a=i.length;o<a;o++)this.colors.push(i[o].clone());for(var s=e.faces,l=0,u=s.length;l<u;l++)this.faces.push(s[l].clone());for(var c=0,f=e.faceVertexUvs.length;c<f;c++){var h=e.faceVertexUvs[c];void 0===this.faceVertexUvs[c]&&(this.faceVertexUvs[c]=[]);for(var d=0,p=h.length;d<p;d++){for(var m=h[d],v=[],g=0,y=m.length;g<y;g++){var _=m[g];v.push(_.clone())}this.faceVertexUvs[c].push(v)}}for(var b=e.morphTargets,w=0,x=b.length;w<x;w++){var A={};if(A.name=b[w].name,void 0!==b[w].vertices){A.vertices=[];for(var M=0,S=b[w].vertices.length;M<S;M++)A.vertices.push(b[w].vertices[M].clone())}if(void 0!==b[w].normals){A.normals=[];for(var C=0,E=b[w].normals.length;C<E;C++)A.normals.push(b[w].normals[C].clone())}this.morphTargets.push(A)}for(var I=e.morphNormals,T=0,L=I.length;T<L;T++){var z={};if(void 0!==I[T].vertexNormals){z.vertexNormals=[];for(var k=0,D=I[T].vertexNormals.length;k<D;k++){var O=I[T].vertexNormals[k],N={};N.a=O.a.clone(),N.b=O.b.clone(),N.c=O.c.clone(),z.vertexNormals.push(N)}}if(void 0!==I[T].faceNormals){z.faceNormals=[];for(var j=0,P=I[T].faceNormals.length;j<P;j++)z.faceNormals.push(I[T].faceNormals[j].clone())}this.morphNormals.push(z)}for(var R=e.skinWeights,$=0,F=R.length;$<F;$++)this.skinWeights.push(R[$].clone());for(var K=e.skinIndices,U=0,V=K.length;U<V;U++)this.skinIndices.push(K[U].clone());for(var B=e.lineDistances,H=0,G=B.length;H<G;H++)this.lineDistances.push(B[H]);var Q=e.boundingBox;null!==Q&&(this.boundingBox=Q.clone());var q=e.boundingSphere;return null!==q&&(this.boundingSphere=q.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Mo=function(e){function t(e,n,r,i,o,a){var c;return Object(s.a)(this,t),(c=Object(l.a)(this,Object(u.a)(t).call(this))).type="BoxGeometry",c.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:a},c.fromBufferGeometry(new So(e,n,r,i,o,a)),c.mergeVertices(),c}return Object(c.a)(t,e),t}(Ao),So=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;Object(s.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).type="BoxBufferGeometry",e.parameters={width:n,height:r,depth:i,widthSegments:o,heightSegments:c,depthSegments:f};var h=Object(a.a)(e);o=Math.floor(o),c=Math.floor(c),f=Math.floor(f);var d=[],p=[],m=[],v=[],g=0,y=0;function _(e,t,n,r,i,o,a,s,l,u,c){for(var f=o/l,_=a/u,b=o/2,w=a/2,x=s/2,A=l+1,M=u+1,S=0,C=0,E=new or,I=0;I<M;I++)for(var T=I*_-w,L=0;L<A;L++){var z=L*f-b;E[e]=z*r,E[t]=T*i,E[n]=x,p.push(E.x,E.y,E.z),E[e]=0,E[t]=0,E[n]=s>0?1:-1,m.push(E.x,E.y,E.z),v.push(L/l),v.push(1-I/u),S+=1}for(var k=0;k<u;k++)for(var D=0;D<l;D++){var O=g+D+A*k,N=g+D+A*(k+1),j=g+(D+1)+A*(k+1),P=g+(D+1)+A*k;d.push(O,N,P),d.push(N,j,P),C+=6}h.addGroup(y,C,c),y+=C,g+=S}return _("z","y","x",-1,-1,i,r,n,f,c,0),_("z","y","x",1,-1,i,r,-n,f,c,1),_("x","z","y",1,1,n,i,r,o,f,2),_("x","z","y",1,-1,n,i,-r,o,f,3),_("x","y","z",1,-1,n,r,i,o,c,4),_("x","y","z",-1,-1,n,r,-i,o,c,5),e.setIndex(d),e.setAttribute("position",new Fi(p,3)),e.setAttribute("normal",new Fi(m,3)),e.setAttribute("uv",new Fi(v,2)),e}return Object(c.a)(t,e),t}(Xi);function Co(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function Eo(e){for(var t={},n=0;n<e.length;n++){var r=Co(e[n]);for(var i in r)t[i]=r[i]}return t}var Io={clone:Co,merge:Eo},To="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",Lo="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";function zo(e){Ii.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=To,this.fragmentShader=Lo,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function ko(){zr.call(this),this.type="Camera",this.matrixWorldInverse=new dr,this.projectionMatrix=new dr,this.projectionMatrixInverse=new dr}function Do(e,t,n,r){ko.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}zo.prototype=Object.create(Ii.prototype),zo.prototype.constructor=zo,zo.prototype.isShaderMaterial=!0,zo.prototype.copy=function(e){return Ii.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Co(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Object.assign({},e.extensions),this},zo.prototype.toJSON=function(e){var t=Ii.prototype.toJSON.call(this,e);for(var n in t.uniforms={},this.uniforms){var r=this.uniforms[n].value;r&&r.isTexture?t.uniforms[n]={type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?t.uniforms[n]={type:"c",value:r.getHex()}:r&&r.isVector2?t.uniforms[n]={type:"v2",value:r.toArray()}:r&&r.isVector3?t.uniforms[n]={type:"v3",value:r.toArray()}:r&&r.isVector4?t.uniforms[n]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?t.uniforms[n]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?t.uniforms[n]={type:"m4",value:r.toArray()}:t.uniforms[n]={value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var i={};for(var o in this.extensions)!0===this.extensions[o]&&(i[o]=!0);return Object.keys(i).length>0&&(t.extensions=i),t},ko.prototype=Object.assign(Object.create(zr.prototype),{constructor:ko,isCamera:!0,copy:function(e,t){return zr.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new or),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){zr.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(e,t){zr.prototype.updateWorldMatrix.call(this,e,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),Do.prototype=Object.assign(Object.create(ko.prototype),{constructor:Do,isPerspectiveCamera:!0,copy:function(e,t){return ko.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*Qn.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*Qn.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*Qn.RAD2DEG*Math.atan(Math.tan(.5*Qn.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,r,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*Qn.DEG2RAD*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,o=this.view;if(null!==this.view&&this.view.enabled){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/a,t-=o.offsetY*n/s,r*=o.width/a,n*=o.height/s}var l=this.filmOffset;0!==l&&(i+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=zr.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});var Oo=90,No=1;function jo(e,t,n){if(zr.call(this),this.type="CubeCamera",!0===n.isWebGLCubeRenderTarget){this.renderTarget=n;var r=new Do(Oo,No,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new or(1,0,0)),this.add(r);var i=new Do(Oo,No,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new or(-1,0,0)),this.add(i);var o=new Do(Oo,No,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new or(0,1,0)),this.add(o);var a=new Do(Oo,No,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new or(0,-1,0)),this.add(a);var s=new Do(Oo,No,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new or(0,0,1)),this.add(s);var l=new Do(Oo,No,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new or(0,0,-1)),this.add(l),this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var u=e.xr.enabled,c=e.getRenderTarget();e.xr.enabled=!1;var f=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,r),e.setRenderTarget(n,1),e.render(t,i),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,a),e.setRenderTarget(n,4),e.render(t,s),n.texture.generateMipmaps=f,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(c),e.xr.enabled=u},this.clear=function(e,t,r,i){for(var o=e.getRenderTarget(),a=0;a<6;a++)e.setRenderTarget(n,a),e.clear(t,r,i);e.setRenderTarget(o)}}else console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.")}function Po(e,t,n){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=n),er.call(this,e,e,t)}function Ro(e,t,n,r,i,o,a,s,l,u,c,f){Jn.call(this,null,o,a,s,l,u,r,i,c,f),this.image={data:e||null,width:t||1,height:n||1},this.magFilter=void 0!==l?l:xe,this.minFilter=void 0!==u?u:xe,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}jo.prototype=Object.create(zr.prototype),jo.prototype.constructor=jo,Po.prototype=Object.create(er.prototype),Po.prototype.constructor=Po,Po.prototype.isWebGLCubeRenderTarget=!0,Po.prototype.fromEquirectangularTexture=function(e,t){this.texture.type=t.type,this.texture.format=Ge,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n=new kr,r="\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t#include <begin_vertex>\n\t\t\t\t#include <project_vertex>\n\n\t\t\t}\n\t\t",i="\n\n\t\t\tuniform sampler2D tEquirect;\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t}\n\t\t",o=new zo({name:"CubemapFromEquirect",uniforms:Co({tEquirect:{value:null}}),vertexShader:r,fragmentShader:i,side:A,blending:E});o.uniforms.tEquirect.value=t;var a=new vo(new So(5,5,5),o);return n.add(a),new jo(1,10,this).update(e,n),a.geometry.dispose(),a.material.dispose(),this},Ro.prototype=Object.create(Jn.prototype),Ro.prototype.constructor=Ro,Ro.prototype.isDataTexture=!0;var $o=new Wr,Fo=new or;function Ko(e,t,n,r,i,o){this.planes=[void 0!==e?e:new si,void 0!==t?t:new si,void 0!==n?n:new si,void 0!==r?r:new si,void 0!==i?i:new si,void 0!==o?o:new si]}Object.assign(Ko.prototype,{set:function(e,t,n,r,i,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromProjectionMatrix:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],u=n[6],c=n[7],f=n[8],h=n[9],d=n[10],p=n[11],m=n[12],v=n[13],g=n[14],y=n[15];return t[0].setComponents(a-r,c-s,p-f,y-m).normalize(),t[1].setComponents(a+r,c+s,p+f,y+m).normalize(),t[2].setComponents(a+i,c+l,p+h,y+v).normalize(),t[3].setComponents(a-i,c-l,p-h,y-v).normalize(),t[4].setComponents(a-o,c-u,p-d,y-g).normalize(),t[5].setComponents(a+o,c+u,p+d,y+g).normalize(),this},intersectsObject:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),$o.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere($o)},intersectsSprite:function(e){return $o.center.set(0,0,0),$o.radius=.7071067811865476,$o.applyMatrix4(e.matrixWorld),this.intersectsSphere($o)},intersectsSphere:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0},intersectsBox:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(Fo.x=r.normal.x>0?e.max.x:e.min.x,Fo.y=r.normal.y>0?e.max.y:e.min.y,Fo.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Fo)<0)return!1}return!0},containsPoint:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}});var Uo={common:{diffuse:{value:new xi(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Wn},uv2Transform:{value:new Wn},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new qn(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new xi(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new xi(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Wn}},sprite:{diffuse:{value:new xi(15658734)},opacity:{value:1},center:{value:new qn(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Wn}}};function Vo(){var e=null,t=!1,n=null,r=null;function i(t,o){n(t,o),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function Bo(e,t){var n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){t.isInterleavedBufferAttribute&&(t=t.data);var o=r.get(t);void 0===o?r.set(t,function(t,n){var r=t.array,i=t.usage,o=e.createBuffer();e.bindBuffer(n,o),e.bufferData(n,r,i),t.onUploadCallback();var a=5126;return r instanceof Float32Array?a=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?a=5123:r instanceof Int16Array?a=5122:r instanceof Uint32Array?a=5125:r instanceof Int32Array?a=5124:r instanceof Int8Array?a=5120:r instanceof Uint8Array&&(a=5121),{buffer:o,type:a,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version}}(t,i)):o.version<t.version&&(function(t,r,i){var o=r.array,a=r.updateRange;e.bindBuffer(i,t),-1===a.count?e.bufferSubData(i,0,o):(n?e.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o,a.offset,a.count):e.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o.subarray(a.offset,a.offset+a.count)),a.count=-1)}(o.buffer,t,i),o.version=t.version)}}}function Ho(e,t,n,r){Ao.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new Go(e,t,n,r)),this.mergeVertices()}function Go(e,t,n,r){Xi.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};for(var i=(e=e||1)/2,o=(t=t||1)/2,a=Math.floor(n)||1,s=Math.floor(r)||1,l=a+1,u=s+1,c=e/a,f=t/s,h=[],d=[],p=[],m=[],v=0;v<u;v++)for(var g=v*f-o,y=0;y<l;y++){var _=y*c-i;d.push(_,-g,0),p.push(0,0,1),m.push(y/a),m.push(1-v/s)}for(var b=0;b<s;b++)for(var w=0;w<a;w++){var x=w+l*b,A=w+l*(b+1),M=w+1+l*(b+1),S=w+1+l*b;h.push(x,A,S),h.push(A,M,S)}this.setIndex(h),this.setAttribute("position",new Fi(d,3)),this.setAttribute("normal",new Fi(p,3)),this.setAttribute("uv",new Fi(m,2))}Ho.prototype=Object.create(Ao.prototype),Ho.prototype.constructor=Ho,Go.prototype=Object.create(Xi.prototype),Go.prototype.constructor=Go;var Qo={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha  = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_maxMipLevel 8.0\n#define cubeUV_minMipLevel 4.0\n#define cubeUV_maxTileSize 256.0\n#define cubeUV_minTileSize 16.0\nfloat getFace(vec3 direction) {\n    vec3 absDirection = abs(direction);\n    float face = -1.0;\n    if (absDirection.x > absDirection.z) {\n      if (absDirection.x > absDirection.y)\n        face = direction.x > 0.0 ? 0.0 : 3.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    } else {\n      if (absDirection.z > absDirection.y)\n        face = direction.z > 0.0 ? 2.0 : 5.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    }\n    return face;\n}\nvec2 getUV(vec3 direction, float face) {\n    vec2 uv;\n    if (face == 0.0) {\n      uv = vec2(direction.z, direction.y) / abs(direction.x);    } else if (face == 1.0) {\n      uv = vec2(-direction.x, -direction.z) / abs(direction.y);    } else if (face == 2.0) {\n      uv = vec2(-direction.x, direction.y) / abs(direction.z);    } else if (face == 3.0) {\n      uv = vec2(-direction.z, direction.y) / abs(direction.x);    } else if (face == 4.0) {\n      uv = vec2(-direction.x, direction.z) / abs(direction.y);    } else {\n      uv = vec2(direction.x, direction.y) / abs(direction.z);    }\n    return 0.5 * (uv + 1.0);\n}\nvec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\n  float face = getFace(direction);\n  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\n  mipInt = max(mipInt, cubeUV_minMipLevel);\n  float faceSize = exp2(mipInt);\n  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\n  vec2 uv = getUV(direction, face) * (faceSize - 1.0);\n  vec2 f = fract(uv);\n  uv += 0.5 - f;\n  if (face > 2.0) {\n    uv.y += faceSize;\n    face -= 3.0;\n  }\n  uv.x += face * faceSize;\n  if(mipInt < cubeUV_maxMipLevel){\n    uv.y += 2.0 * cubeUV_maxTileSize;\n  }\n  uv.y += filterInt * 2.0 * cubeUV_minTileSize;\n  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\n  uv *= texelSize;\n  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x += texelSize;\n  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.y += texelSize;\n  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x -= texelSize;\n  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  vec3 tm = mix(tl, tr, f.x);\n  vec3 bm = mix(bl, br, f.x);\n  return mix(tm, bm, f.y);\n}\n#define r0 1.0\n#define v0 0.339\n#define m0 -2.0\n#define r1 0.8\n#define v1 0.276\n#define m1 -1.0\n#define r4 0.4\n#define v4 0.046\n#define m4 2.0\n#define r5 0.305\n#define v5 0.016\n#define m5 3.0\n#define r6 0.21\n#define v6 0.0038\n#define m6 4.0\nfloat roughnessToMip(float roughness) {\n  float mip = 0.0;\n  if (roughness >= r1) {\n    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\n  } else if (roughness >= r4) {\n    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\n  } else if (roughness >= r5) {\n    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\n  } else if (roughness >= r6) {\n    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\n  } else {\n    mip = -2.0 * log2(1.16 * roughness);  }\n  return mip;\n}\nvec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {\n  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);\n  float mipF = fract(mip);\n  float mipInt = floor(mip);\n  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);\n  if (mipF == 0.0) {\n    return vec4(color0, 1.0);\n  } else {\n    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);\n    return vec4(mix(color0, color1, mipF), 1.0);\n  }\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\t\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t}  else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec2 sampleUV = equirectUv( reflectVec );\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t  vec3 reflectVec = reflect( -viewDir, normal );\n\t\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV = equirectUv( reflectVec );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmissionmap_fragment:"#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif",transmissionmap_pars_fragment:"#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},qo={basic:{uniforms:Eo([Uo.common,Uo.specularmap,Uo.envmap,Uo.aomap,Uo.lightmap,Uo.fog]),vertexShader:Qo.meshbasic_vert,fragmentShader:Qo.meshbasic_frag},lambert:{uniforms:Eo([Uo.common,Uo.specularmap,Uo.envmap,Uo.aomap,Uo.lightmap,Uo.emissivemap,Uo.fog,Uo.lights,{emissive:{value:new xi(0)}}]),vertexShader:Qo.meshlambert_vert,fragmentShader:Qo.meshlambert_frag},phong:{uniforms:Eo([Uo.common,Uo.specularmap,Uo.envmap,Uo.aomap,Uo.lightmap,Uo.emissivemap,Uo.bumpmap,Uo.normalmap,Uo.displacementmap,Uo.fog,Uo.lights,{emissive:{value:new xi(0)},specular:{value:new xi(1118481)},shininess:{value:30}}]),vertexShader:Qo.meshphong_vert,fragmentShader:Qo.meshphong_frag},standard:{uniforms:Eo([Uo.common,Uo.envmap,Uo.aomap,Uo.lightmap,Uo.emissivemap,Uo.bumpmap,Uo.normalmap,Uo.displacementmap,Uo.roughnessmap,Uo.metalnessmap,Uo.fog,Uo.lights,{emissive:{value:new xi(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Qo.meshphysical_vert,fragmentShader:Qo.meshphysical_frag},toon:{uniforms:Eo([Uo.common,Uo.aomap,Uo.lightmap,Uo.emissivemap,Uo.bumpmap,Uo.normalmap,Uo.displacementmap,Uo.gradientmap,Uo.fog,Uo.lights,{emissive:{value:new xi(0)}}]),vertexShader:Qo.meshtoon_vert,fragmentShader:Qo.meshtoon_frag},matcap:{uniforms:Eo([Uo.common,Uo.bumpmap,Uo.normalmap,Uo.displacementmap,Uo.fog,{matcap:{value:null}}]),vertexShader:Qo.meshmatcap_vert,fragmentShader:Qo.meshmatcap_frag},points:{uniforms:Eo([Uo.points,Uo.fog]),vertexShader:Qo.points_vert,fragmentShader:Qo.points_frag},dashed:{uniforms:Eo([Uo.common,Uo.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Qo.linedashed_vert,fragmentShader:Qo.linedashed_frag},depth:{uniforms:Eo([Uo.common,Uo.displacementmap]),vertexShader:Qo.depth_vert,fragmentShader:Qo.depth_frag},normal:{uniforms:Eo([Uo.common,Uo.bumpmap,Uo.normalmap,Uo.displacementmap,{opacity:{value:1}}]),vertexShader:Qo.normal_vert,fragmentShader:Qo.normal_frag},sprite:{uniforms:Eo([Uo.sprite,Uo.fog]),vertexShader:Qo.sprite_vert,fragmentShader:Qo.sprite_frag},background:{uniforms:{uvTransform:{value:new Wn},t2D:{value:null}},vertexShader:Qo.background_vert,fragmentShader:Qo.background_frag},cube:{uniforms:Eo([Uo.envmap,{opacity:{value:1}}]),vertexShader:Qo.cube_vert,fragmentShader:Qo.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Qo.equirect_vert,fragmentShader:Qo.equirect_frag},distanceRGBA:{uniforms:Eo([Uo.common,Uo.displacementmap,{referencePosition:{value:new or},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Qo.distanceRGBA_vert,fragmentShader:Qo.distanceRGBA_frag},shadow:{uniforms:Eo([Uo.lights,Uo.fog,{color:{value:new xi(0)},opacity:{value:1}}]),vertexShader:Qo.shadow_vert,fragmentShader:Qo.shadow_frag}};function Wo(e,t,n,r){var i,o,a=new xi(0),s=0,l=null,u=0,c=null;function f(e,n){t.buffers.color.setClear(e.r,e.g,e.b,n,r)}return{getClearColor:function(){return a},setClearColor:function(e,t){a.set(e),f(a,s=void 0!==t?t:1)},getClearAlpha:function(){return s},setClearAlpha:function(e){f(a,s=e)},render:function(t,r,h,d){var p=!0===r.isScene?r.background:null,m=e.xr,v=m.getSession&&m.getSession();if(v&&"additive"===v.environmentBlendMode&&(p=null),null===p?f(a,s):p&&p.isColor&&(f(p,1),d=!0),(e.autoClear||d)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),p&&(p.isCubeTexture||p.isWebGLCubeRenderTarget||p.mapping===ge)){void 0===o&&((o=new vo(new So(1,1,1),new zo({name:"BackgroundCubeMaterial",uniforms:Co(qo.cube.uniforms),vertexShader:qo.cube.vertexShader,fragmentShader:qo.cube.fragmentShader,side:A,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),o.geometry.deleteAttribute("uv"),o.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(o.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(o));var g=p.isWebGLCubeRenderTarget?p.texture:p;o.material.uniforms.envMap.value=g,o.material.uniforms.flipEnvMap.value=g.isCubeTexture?-1:1,l===p&&u===g.version&&c===e.toneMapping||(o.material.needsUpdate=!0,l=p,u=g.version,c=e.toneMapping),t.unshift(o,o.geometry,o.material,0,0,null)}else p&&p.isTexture&&(void 0===i&&((i=new vo(new Go(2,2),new zo({name:"BackgroundMaterial",uniforms:Co(qo.background.uniforms),vertexShader:qo.background.vertexShader,fragmentShader:qo.background.fragmentShader,side:x,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(i.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(i)),i.material.uniforms.t2D.value=p,!0===p.matrixAutoUpdate&&p.updateMatrix(),i.material.uniforms.uvTransform.value.copy(p.matrix),l===p&&u===p.version&&c===e.toneMapping||(i.material.needsUpdate=!0,l=p,u=p.version,c=e.toneMapping),t.unshift(i,i.geometry,i.material,0,0,null))}}}function Yo(e,t,n,r){var i=e.getParameter(34921),o=r.isWebGL2?null:t.get("OES_vertex_array_object"),a=r.isWebGL2||null!==o,s={},l=h(null),u=l;function c(t){return r.isWebGL2?e.bindVertexArray(t):o.bindVertexArrayOES(t)}function f(t){return r.isWebGL2?e.deleteVertexArray(t):o.deleteVertexArrayOES(t)}function h(e){for(var t=[],n=[],r=[],o=0;o<i;o++)t[o]=0,n[o]=0,r[o]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{}}}function d(){for(var e=u.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function p(e){m(e,0)}function m(n,i){var o=u.newAttributes,a=u.enabledAttributes,s=u.attributeDivisors;(o[n]=1,0===a[n]&&(e.enableVertexAttribArray(n),a[n]=1),s[n]!==i)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i)}function v(){for(var t=u.newAttributes,n=u.enabledAttributes,r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function g(t,n,i,o,a,s){!0!==r.isWebGL2||5124!==i&&5125!==i?e.vertexAttribPointer(t,n,i,o,a,s):e.vertexAttribIPointer(t,n,i,a,s)}function y(){_(),u!==l&&c((u=l).object)}function _(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(i,l,f,y,_){var b=!1;if(a){var w=function(t,n,i){var a=!0===i.wireframe,l=s[t.id];void 0===l&&(l={},s[t.id]=l);var u=l[n.id];void 0===u&&(u={},l[n.id]=u);var c=u[a];return void 0===c&&(c=h(r.isWebGL2?e.createVertexArray():o.createVertexArrayOES()),u[a]=c),c}(y,f,l);u!==w&&c((u=w).object),(b=function(e){var t=u.attributes,n=e.attributes;if(Object.keys(t).length!==Object.keys(n).length)return!0;for(var r in n){var i=t[r],o=n[r];if(i.attribute!==o)return!0;if(i.data!==o.data)return!0}return!1}(y))&&function(e){var t={},n=e.attributes;for(var r in n){var i=n[r],o={};o.attribute=i,i.data&&(o.data=i.data),t[r]=o}u.attributes=t}(y)}else{var x=!0===l.wireframe;u.geometry===y.id&&u.program===f.id&&u.wireframe===x||(u.geometry=y.id,u.program=f.id,u.wireframe=x,b=!0)}!0===i.isInstancedMesh&&(b=!0),null!==_&&n.update(_,34963),b&&(function(i,o,a,s){if(!1!==r.isWebGL2||!i.isInstancedMesh&&!s.isInstancedBufferGeometry||null!==t.get("ANGLE_instanced_arrays")){d();var l=s.attributes,u=a.getAttributes(),c=o.defaultAttributeValues;for(var f in u){var h=u[f];if(h>=0){var y=l[f];if(void 0!==y){var _=y.normalized,b=y.itemSize,w=n.get(y);if(void 0===w)continue;var x=w.buffer,A=w.type,M=w.bytesPerElement;if(y.isInterleavedBufferAttribute){var S=y.data,C=S.stride,E=y.offset;S&&S.isInstancedInterleavedBuffer?(m(h,S.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=S.meshPerAttribute*S.count)):p(h),e.bindBuffer(34962,x),g(h,b,A,_,C*M,E*M)}else y.isInstancedBufferAttribute?(m(h,y.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=y.meshPerAttribute*y.count)):p(h),e.bindBuffer(34962,x),g(h,b,A,_,0,0)}else if("instanceMatrix"===f){var I=n.get(i.instanceMatrix);if(void 0===I)continue;var T=I.buffer,L=I.type;m(h+0,1),m(h+1,1),m(h+2,1),m(h+3,1),e.bindBuffer(34962,T),e.vertexAttribPointer(h+0,4,L,!1,64,0),e.vertexAttribPointer(h+1,4,L,!1,64,16),e.vertexAttribPointer(h+2,4,L,!1,64,32),e.vertexAttribPointer(h+3,4,L,!1,64,48)}else if(void 0!==c){var z=c[f];if(void 0!==z)switch(z.length){case 2:e.vertexAttrib2fv(h,z);break;case 3:e.vertexAttrib3fv(h,z);break;case 4:e.vertexAttrib4fv(h,z);break;default:e.vertexAttrib1fv(h,z)}}}}v()}}(i,l,f,y),null!==_&&e.bindBuffer(34963,n.get(_).buffer))},reset:y,resetDefaultState:_,dispose:function(){for(var e in y(),s){var t=s[e];for(var n in t){var r=t[n];for(var i in r)f(r[i].object),delete r[i];delete t[n]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t=s[e.id];for(var n in t){var r=t[n];for(var i in r)f(r[i].object),delete r[i];delete t[n]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s){var n=s[t];if(void 0!==n[e.id]){var r=n[e.id];for(var i in r)f(r[i].object),delete r[i];delete n[e.id]}}},initAttributes:d,enableAttribute:p,disableUnusedAttributes:v}}function Xo(e,t,n,r){var i,o=r.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i,1)},this.renderInstances=function(r,a,s){if(0!==s){var l,u;if(o)l=e,u="drawArraysInstanced";else if(u="drawArraysInstancedANGLE",null===(l=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[u](i,r,a,s),n.update(a,i,s)}}}function Jo(e,t,n){var r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var o="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!==typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,a=void 0!==n.precision?n.precision:"highp",s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var l=!0===n.logarithmicDepthBuffer,u=e.getParameter(34930),c=e.getParameter(35660),f=e.getParameter(3379),h=e.getParameter(34076),d=e.getParameter(34921),p=e.getParameter(36347),m=e.getParameter(36348),v=e.getParameter(36349),g=c>0,y=o||!!t.get("OES_texture_float");return{isWebGL2:o,getMaxAnisotropy:function(){if(void 0!==r)return r;var n=t.get("EXT_texture_filter_anisotropic");return r=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:i,precision:a,logarithmicDepthBuffer:l,maxTextures:u,maxVertexTextures:c,maxTextureSize:f,maxCubemapSize:h,maxAttributes:d,maxVertexUniforms:p,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:g&&y,maxSamples:o?e.getParameter(36183):0}}function Zo(){var e=this,t=null,n=0,r=!1,i=!1,o=new si,a=new Wn,s={value:null,needsUpdate:!1};function l(){s.value!==t&&(s.value=t,s.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function u(t,n,r,i){var l=null!==t?t.length:0,u=null;if(0!==l){if(u=s.value,!0!==i||null===u){var c=r+4*l,f=n.matrixWorldInverse;a.getNormalMatrix(f),(null===u||u.length<c)&&(u=new Float32Array(c));for(var h=0,d=r;h!==l;++h,d+=4)o.copy(t[h]).applyMatrix4(f,a),o.normal.toArray(u,d),u[d+3]=o.constant}s.value=u,s.needsUpdate=!0}return e.numPlanes=l,e.numIntersection=0,u}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(e,i,o){var a=0!==e.length||i||0!==n||r;return r=i,t=u(e,o,0),n=e.length,a},this.beginShadows=function(){i=!0,u(null)},this.endShadows=function(){i=!1,l()},this.setState=function(e,o,a,c,f,h){if(!r||null===e||0===e.length||i&&!a)i?u(null):l();else{var d=i?0:n,p=4*d,m=f.clippingState||null;s.value=m,m=u(e,c,p,h);for(var v=0;v!==p;++v)m[v]=t[v];f.clippingState=m,this.numIntersection=o?this.numPlanes:0,this.numPlanes+=d}}}function ea(e){var t={};return{has:function(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,!!r},get:function(e){return this.has(e)||console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t[e]}}}function ta(e,t,n,r){var i=new WeakMap,o=new WeakMap;function a(e){var s=e.target,l=i.get(s);for(var u in null!==l.index&&t.remove(l.index),l.attributes)t.remove(l.attributes[u]);s.removeEventListener("dispose",a),i.delete(s);var c=o.get(l);c&&(t.remove(c),o.delete(l)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){var n=[],r=e.index,i=e.attributes.position,a=0;if(null!==r){var s=r.array;a=r.version;for(var l=0,u=s.length;l<u;l+=3){var c=s[l+0],f=s[l+1],h=s[l+2];n.push(c,f,f,h,h,c)}}else{var d=i.array;a=i.version;for(var p=0,m=d.length/3-1;p<m;p+=3){var v=p+0,g=p+1,y=p+2;n.push(v,g,g,y,y,v)}}var _=new(Vi(n)>65535?$i:Pi)(n,1);_.version=a;var b=o.get(e);b&&t.remove(b),o.set(e,_)}return{get:function(e,t){var r=i.get(t);return r||(t.addEventListener("dispose",a),t.isBufferGeometry?r=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new Xi).setFromObject(e)),r=t._bufferGeometry),i.set(t,r),n.memory.geometries++,r)},update:function(e){var n=e.attributes;for(var r in n)t.update(n[r],34962);var i=e.morphAttributes;for(var o in i)for(var a=i[o],s=0,l=a.length;s<l;s++)t.update(a[s],34962)},getWireframeAttribute:function(e){var t=o.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return o.get(e)}}}function na(e,t,n,r){var i,o,a,s=r.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){o=e.type,a=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,o,t*a),n.update(r,i,1)},this.renderInstances=function(r,l,u){if(0!==u){var c,f;if(s)c=e,f="drawElementsInstanced";else if(f="drawElementsInstancedANGLE",null===(c=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[f](i,l,o,r*a,u),n.update(l,i,u)}}}function ra(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function ia(e,t){return e[0]-t[0]}function oa(e,t){return Math.abs(t[1])-Math.abs(e[1])}function aa(e){for(var t={},n=new Float32Array(8),r=[],i=0;i<8;i++)r[i]=[i,0];return{update:function(i,o,a,s){var l=i.morphTargetInfluences,u=void 0===l?0:l.length,c=t[o.id];if(void 0===c){c=[];for(var f=0;f<u;f++)c[f]=[f,0];t[o.id]=c}for(var h=0;h<u;h++){var d=c[h];d[0]=h,d[1]=l[h]}c.sort(oa);for(var p=0;p<8;p++)p<u&&c[p][1]?(r[p][0]=c[p][0],r[p][1]=c[p][1]):(r[p][0]=Number.MAX_SAFE_INTEGER,r[p][1]=0);r.sort(ia);for(var m=a.morphTargets&&o.morphAttributes.position,v=a.morphNormals&&o.morphAttributes.normal,g=0,y=0;y<8;y++){var _=r[y],b=_[0],w=_[1];b!==Number.MAX_SAFE_INTEGER&&w?(m&&o.getAttribute("morphTarget"+y)!==m[b]&&o.setAttribute("morphTarget"+y,m[b]),v&&o.getAttribute("morphNormal"+y)!==v[b]&&o.setAttribute("morphNormal"+y,v[b]),n[y]=w,g+=w):(m&&void 0!==o.getAttribute("morphTarget"+y)&&o.deleteAttribute("morphTarget"+y),v&&void 0!==o.getAttribute("morphNormal"+y)&&o.deleteAttribute("morphNormal"+y),n[y]=0)}var x=o.morphTargetsRelative?1:1-g;s.getUniforms().setValue(e,"morphTargetBaseInfluence",x),s.getUniforms().setValue(e,"morphTargetInfluences",n)}}}function sa(e,t,n,r){var i=new WeakMap;return{update:function(e){var o=r.render.frame,a=e.geometry,s=t.get(e,a);return i.get(s)!==o&&(a.isGeometry&&s.updateFromObject(e),t.update(s),i.set(s,o)),e.isInstancedMesh&&n.update(e.instanceMatrix,34962),s},dispose:function(){i=new WeakMap}}}function la(e,t,n,r,i,o,a,s,l,u){e=void 0!==e?e:[],t=void 0!==t?t:de,a=void 0!==a?a:He,Jn.call(this,e,t,n,r,i,o,a,s,l,u),this.flipY=!1}function ua(e,t,n,r){Jn.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:r||1},this.magFilter=xe,this.minFilter=xe,this.wrapR=be,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function ca(e,t,n,r){Jn.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:r||1},this.magFilter=xe,this.minFilter=xe,this.wrapR=be,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}qo.physical={uniforms:Eo([qo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new qn(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new xi(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:Qo.meshphysical_vert,fragmentShader:Qo.meshphysical_frag},la.prototype=Object.create(Jn.prototype),la.prototype.constructor=la,la.prototype.isCubeTexture=!0,Object.defineProperty(la.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),ua.prototype=Object.create(Jn.prototype),ua.prototype.constructor=ua,ua.prototype.isDataTexture2DArray=!0,ca.prototype=Object.create(Jn.prototype),ca.prototype.constructor=ca,ca.prototype.isDataTexture3D=!0;var fa=new Jn,ha=new ua,da=new ca,pa=new la,ma=[],va=[],ga=new Float32Array(16),ya=new Float32Array(9),_a=new Float32Array(4);function ba(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,o=ma[i];if(void 0===o&&(o=new Float32Array(i),ma[i]=o),0!==t){r.toArray(o,0);for(var a=1,s=0;a!==t;++a)s+=n,e[a].toArray(o,s)}return o}function wa(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function xa(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function Aa(e,t){var n=va[t];void 0===n&&(n=new Int32Array(t),va[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function Ma(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Sa(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(wa(n,t))return;e.uniform2fv(this.addr,t),xa(n,t)}}function Ca(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(wa(n,t))return;e.uniform3fv(this.addr,t),xa(n,t)}}function Ea(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(wa(n,t))return;e.uniform4fv(this.addr,t),xa(n,t)}}function Ia(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(wa(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),xa(n,t)}else{if(wa(n,r))return;_a.set(r),e.uniformMatrix2fv(this.addr,!1,_a),xa(n,r)}}function Ta(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(wa(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),xa(n,t)}else{if(wa(n,r))return;ya.set(r),e.uniformMatrix3fv(this.addr,!1,ya),xa(n,r)}}function La(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(wa(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),xa(n,t)}else{if(wa(n,r))return;ga.set(r),e.uniformMatrix4fv(this.addr,!1,ga),xa(n,r)}}function za(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTexture2D(t||fa,i)}function ka(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||ha,i)}function Da(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||da,i)}function Oa(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTextureCube(t||pa,i)}function Na(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function ja(e,t){var n=this.cache;wa(n,t)||(e.uniform2iv(this.addr,t),xa(n,t))}function Pa(e,t){var n=this.cache;wa(n,t)||(e.uniform3iv(this.addr,t),xa(n,t))}function Ra(e,t){var n=this.cache;wa(n,t)||(e.uniform4iv(this.addr,t),xa(n,t))}function $a(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Fa(e,t){e.uniform1fv(this.addr,t)}function Ka(e,t){e.uniform1iv(this.addr,t)}function Ua(e,t){e.uniform2iv(this.addr,t)}function Va(e,t){e.uniform3iv(this.addr,t)}function Ba(e,t){e.uniform4iv(this.addr,t)}function Ha(e,t){var n=ba(t,this.size,2);e.uniform2fv(this.addr,n)}function Ga(e,t){var n=ba(t,this.size,3);e.uniform3fv(this.addr,n)}function Qa(e,t){var n=ba(t,this.size,4);e.uniform4fv(this.addr,n)}function qa(e,t){var n=ba(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function Wa(e,t){var n=ba(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Ya(e,t){var n=ba(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Xa(e,t,n){var r=t.length,i=Aa(n,r);e.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.safeSetTexture2D(t[o]||fa,i[o])}function Ja(e,t,n){var r=t.length,i=Aa(n,r);e.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.safeSetTextureCube(t[o]||pa,i[o])}function Za(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return Ma;case 35664:return Sa;case 35665:return Ca;case 35666:return Ea;case 35674:return Ia;case 35675:return Ta;case 35676:return La;case 5124:case 35670:return Na;case 35667:case 35671:return ja;case 35668:case 35672:return Pa;case 35669:case 35673:return Ra;case 5125:return $a;case 35678:case 36198:case 36298:case 36306:case 35682:return za;case 35679:case 36299:case 36307:return Da;case 35680:case 36300:case 36308:case 36293:return Oa;case 36289:case 36303:case 36311:case 36292:return ka}}(t.type)}function es(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return Fa;case 35664:return Ha;case 35665:return Ga;case 35666:return Qa;case 35674:return qa;case 35675:return Wa;case 35676:return Ya;case 5124:case 35670:return Ka;case 35667:case 35671:return Ua;case 35668:case 35672:return Va;case 35669:case 35673:return Ba;case 35678:case 36198:case 36298:case 36306:case 35682:return Xa;case 35680:case 36300:case 36308:case 36293:return Ja}}(t.type)}function ts(e){this.id=e,this.seq=[],this.map={}}es.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),xa(t,e)},ts.prototype.setValue=function(e,t,n){for(var r=this.seq,i=0,o=r.length;i!==o;++i){var a=r[i];a.setValue(e,t[a.id],n)}};var ns=/([\w\d_]+)(\])?(\[|\.)?/g;function rs(e,t){e.seq.push(t),e.map[t.id]=t}function is(e,t,n){var r=e.name,i=r.length;for(ns.lastIndex=0;;){var o=ns.exec(r),a=ns.lastIndex,s=o[1],l="]"===o[2],u=o[3];if(l&&(s|=0),void 0===u||"["===u&&a+2===i){rs(n,void 0===u?new Za(s,e,t):new es(s,e,t));break}var c=n.map[s];void 0===c&&rs(n,c=new ts(s)),n=c}}function os(e,t){this.seq=[],this.map={};for(var n=e.getProgramParameter(t,35718),r=0;r<n;++r){var i=e.getActiveUniform(t,r);is(i,e.getUniformLocation(t,i.name),this)}}function as(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}os.prototype.setValue=function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)},os.prototype.setOptional=function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)},os.upload=function(e,t,n,r){for(var i=0,o=t.length;i!==o;++i){var a=t[i],s=n[a.id];!1!==s.needsUpdate&&a.setValue(e,s.value,r)}},os.seqWithValue=function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var o=e[r];o.id in t&&n.push(o)}return n};var ss=0;function ls(e){switch(e){case on:return["Linear","( value )"];case an:return["sRGB","( value )"];case ln:return["RGBE","( value )"];case cn:return["RGBM","( value, 7.0 )"];case fn:return["RGBM","( value, 16.0 )"];case hn:return["RGBD","( value, 256.0 )"];case sn:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case un:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function us(e,t,n){var r=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();return r&&""===i?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+i+function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(e.getShaderSource(t))}function cs(e,t){var n=ls(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function fs(e,t){var n=ls(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function hs(e,t){var n;switch(t){case se:n="Linear";break;case le:n="Reinhard";break;case ue:n="OptimizedCineon";break;case ce:n="ACESFilmic";break;case fe:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function ds(e){return""!==e}function ps(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function ms(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var vs=/^[ \t]*#include +<([\w\d.\/]+)>/gm;function gs(e){return e.replace(vs,ys)}function ys(e,t){var n=Qo[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return gs(n)}var _s=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,bs=/#pragma unroll_loop_start[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}[\s]+?#pragma unroll_loop_end/g;function ws(e){return e.replace(bs,As).replace(_s,xs)}function xs(e,t,n,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),As(e,t,n,r)}function As(e,t,n,r){for(var i="",o=parseInt(t);o<parseInt(n);o++)i+=r.replace(/\[ i \]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function Ms(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function Ss(e,t,n,r){var i,o,a=e.getContext(),s=n.defines,l=n.vertexShader,u=n.fragmentShader,c=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===_?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===b?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===w&&(t="SHADOWMAP_TYPE_VSM"),t}(n),f=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case de:case pe:t="ENVMAP_TYPE_CUBE";break;case ge:case ye:t="ENVMAP_TYPE_CUBE_UV";break;case me:case ve:t="ENVMAP_TYPE_EQUIREC"}return t}(n),h=function(e){var t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case pe:case ve:case ye:t="ENVMAP_MODE_REFRACTION"}return t}(n),d=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case re:t="ENVMAP_BLENDING_MULTIPLY";break;case ie:t="ENVMAP_BLENDING_MIX";break;case oe:t="ENVMAP_BLENDING_ADD"}return t}(n),p=e.gammaFactor>0?e.gammaFactor:1,m=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ds).join("\n")}(n),v=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(s),g=a.createProgram();n.isRawShaderMaterial?((i=[v].filter(ds).join("\n")).length>0&&(i+="\n"),(o=[m,v].filter(ds).join("\n")).length>0&&(o+="\n")):(i=[Ms(n),"#define SHADER_NAME "+n.shaderName,v,n.instancing?"#define USE_INSTANCING":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+p,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING"," attribute mat4 instanceMatrix;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(ds).join("\n"),o=[m,Ms(n),"#define SHADER_NAME "+n.shaderName,v,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.envMap?"#define "+h:"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==ae?"#define TONE_MAPPING":"",n.toneMapping!==ae?Qo.tonemapping_pars_fragment:"",n.toneMapping!==ae?hs("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",Qo.encodings_pars_fragment,n.map?cs("mapTexelToLinear",n.mapEncoding):"",n.matcap?cs("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?cs("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?cs("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?cs("lightMapTexelToLinear",n.lightMapEncoding):"",fs("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(ds).join("\n")),l=ms(l=ps(l=gs(l),n),n),u=ms(u=ps(u=gs(u),n),n),l=ws(l),u=ws(u),n.isWebGL2&&!n.isRawShaderMaterial&&(i=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+i,o=["#version 300 es\n","#define varying in","out highp vec4 pc_fragColor;","#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+o);var y,x,A=o+u,M=as(a,35633,i+l),S=as(a,35632,A);if(a.attachShader(g,M),a.attachShader(g,S),void 0!==n.index0AttributeName?a.bindAttribLocation(g,0,n.index0AttributeName):!0===n.morphTargets&&a.bindAttribLocation(g,0,"position"),a.linkProgram(g),e.debug.checkShaderErrors){var C=a.getProgramInfoLog(g).trim(),E=a.getShaderInfoLog(M).trim(),I=a.getShaderInfoLog(S).trim(),T=!0,L=!0;if(!1===a.getProgramParameter(g,35714)){T=!1;var z=us(a,M,"vertex"),k=us(a,S,"fragment");console.error("THREE.WebGLProgram: shader error: ",a.getError(),"35715",a.getProgramParameter(g,35715),"gl.getProgramInfoLog",C,z,k)}else""!==C?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",C):""!==E&&""!==I||(L=!1);L&&(this.diagnostics={runnable:T,programLog:C,vertexShader:{log:E,prefix:i},fragmentShader:{log:I,prefix:o}})}return a.deleteShader(M),a.deleteShader(S),this.getUniforms=function(){return void 0===y&&(y=new os(a,g)),y},this.getAttributes=function(){return void 0===x&&(x=function(e,t){for(var n={},r=e.getProgramParameter(t,35721),i=0;i<r;i++){var o=e.getActiveAttrib(t,i).name;n[o]=e.getAttribLocation(t,o)}return n}(a,g)),x},this.destroy=function(){r.releaseStatesOfProgram(this),a.deleteProgram(g),this.program=void 0},this.name=n.shaderName,this.id=ss++,this.cacheKey=t,this.usedTimes=1,this.program=g,this.vertexShader=M,this.fragmentShader=S,this}function Cs(e,t,n,r){var i=[],o=n.isWebGL2,a=n.logarithmicDepthBuffer,s=n.floatVertexTextures,l=n.maxVertexUniforms,u=n.vertexTextures,c=n.precision,f={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},h=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function d(e){var t;return e?e.isTexture?t=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),t=e.texture.encoding):t=on,t}return{getParameters:function(r,i,h,p,m,v,g){var y,_,b=p.fog,w=r.isMeshStandardMaterial?p.environment:null,x=r.envMap||w,S=f[r.type],C=g.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(s)return 1024;var n=l,r=Math.floor((n-20)/4),i=Math.min(r,t.length);return i<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+i+"."),0):i}(g):0;if(null!==r.precision&&(c=n.getMaxPrecision(r.precision))!==r.precision&&console.warn("THREE.WebGLProgram.getParameters:",r.precision,"not supported, using",c,"instead."),S){var E=qo[S];y=E.vertexShader,_=E.fragmentShader}else y=r.vertexShader,_=r.fragmentShader;var I=e.getRenderTarget();return{isWebGL2:o,shaderID:S,shaderName:r.type,vertexShader:y,fragmentShader:_,defines:r.defines,isRawShaderMaterial:r.isRawShaderMaterial,isShaderMaterial:r.isShaderMaterial,precision:c,instancing:!0===g.isInstancedMesh,supportsVertexTextures:u,outputEncoding:null!==I?d(I.texture):e.outputEncoding,map:!!r.map,mapEncoding:d(r.map),matcap:!!r.matcap,matcapEncoding:d(r.matcap),envMap:!!x,envMapMode:x&&x.mapping,envMapEncoding:d(x),envMapCubeUV:!!x&&(x.mapping===ge||x.mapping===ye),lightMap:!!r.lightMap,lightMapEncoding:d(r.lightMap),aoMap:!!r.aoMap,emissiveMap:!!r.emissiveMap,emissiveMapEncoding:d(r.emissiveMap),bumpMap:!!r.bumpMap,normalMap:!!r.normalMap,objectSpaceNormalMap:r.normalMapType===vn,tangentSpaceNormalMap:r.normalMapType===mn,clearcoatMap:!!r.clearcoatMap,clearcoatRoughnessMap:!!r.clearcoatRoughnessMap,clearcoatNormalMap:!!r.clearcoatNormalMap,displacementMap:!!r.displacementMap,roughnessMap:!!r.roughnessMap,metalnessMap:!!r.metalnessMap,specularMap:!!r.specularMap,alphaMap:!!r.alphaMap,gradientMap:!!r.gradientMap,sheen:!!r.sheen,transmissionMap:!!r.transmissionMap,combine:r.combine,vertexTangents:r.normalMap&&r.vertexTangents,vertexColors:r.vertexColors,vertexUvs:!!r.map||!!r.bumpMap||!!r.normalMap||!!r.specularMap||!!r.alphaMap||!!r.emissiveMap||!!r.roughnessMap||!!r.metalnessMap||!!r.clearcoatMap||!!r.clearcoatRoughnessMap||!!r.clearcoatNormalMap||!!r.displacementMap||!!r.transmissionMap,uvsVertexOnly:!(r.map||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatNormalMap||r.transmissionMap)&&!!r.displacementMap,fog:!!b,useFog:r.fog,fogExp2:b&&b.isFogExp2,flatShading:r.flatShading,sizeAttenuation:r.sizeAttenuation,logarithmicDepthBuffer:a,skinning:r.skinning&&C>0,maxBones:C,useVertexTexture:s,morphTargets:r.morphTargets,morphNormals:r.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:i.directional.length,numPointLights:i.point.length,numSpotLights:i.spot.length,numRectAreaLights:i.rectArea.length,numHemiLights:i.hemi.length,numDirLightShadows:i.directionalShadowMap.length,numPointLightShadows:i.pointShadowMap.length,numSpotLightShadows:i.spotShadowMap.length,numClippingPlanes:m,numClipIntersection:v,dithering:r.dithering,shadowMapEnabled:e.shadowMap.enabled&&h.length>0,shadowMapType:e.shadowMap.type,toneMapping:r.toneMapped?e.toneMapping:ae,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:r.premultipliedAlpha,alphaTest:r.alphaTest,doubleSided:r.side===M,flipSided:r.side===A,depthPacking:void 0!==r.depthPacking&&r.depthPacking,index0AttributeName:r.index0AttributeName,extensionDerivatives:r.extensions&&r.extensions.derivatives,extensionFragDepth:r.extensions&&r.extensions.fragDepth,extensionDrawBuffers:r.extensions&&r.extensions.drawBuffers,extensionShaderTextureLOD:r.extensions&&r.extensions.shaderTextureLOD,rendererExtensionFragDepth:o||null!==t.get("EXT_frag_depth"),rendererExtensionDrawBuffers:o||null!==t.get("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:o||null!==t.get("EXT_shader_texture_lod"),customProgramCacheKey:r.customProgramCacheKey()}},getProgramCacheKey:function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);if(void 0===t.isRawShaderMaterial){for(var i=0;i<h.length;i++)n.push(t[h[i]]);n.push(e.outputEncoding),n.push(e.gammaFactor)}return n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){var t,n=f[e.type];if(n){var r=qo[n];t=Io.clone(r.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,n){for(var o,a=0,s=i.length;a<s;a++){var l=i[a];if(l.cacheKey===n){++(o=l).usedTimes;break}}return void 0===o&&(o=new Ss(e,n,t,r),i.push(o)),o},releaseProgram:function(e){if(0===--e.usedTimes){var t=i.indexOf(e);i[t]=i[i.length-1],i.pop(),e.destroy()}},programs:i}}function Es(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function Is(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Ts(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Ls(e){var t=[],n=0,r=[],i=[],o={id:-1};function a(r,i,a,s,l,u){var c=t[n],f=e.get(a);return void 0===c?(c={id:r.id,object:r,geometry:i,material:a,program:f.program||o,groupOrder:s,renderOrder:r.renderOrder,z:l,group:u},t[n]=c):(c.id=r.id,c.object=r,c.geometry=i,c.material=a,c.program=f.program||o,c.groupOrder=s,c.renderOrder=r.renderOrder,c.z=l,c.group=u),n++,c}return{opaque:r,transparent:i,init:function(){n=0,r.length=0,i.length=0},push:function(e,t,n,o,s,l){var u=a(e,t,n,o,s,l);(!0===n.transparent?i:r).push(u)},unshift:function(e,t,n,o,s,l){var u=a(e,t,n,o,s,l);(!0===n.transparent?i:r).unshift(u)},finish:function(){for(var e=n,r=t.length;e<r;e++){var i=t[e];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.program=null,i.group=null}},sort:function(e,t){r.length>1&&r.sort(e||Is),i.length>1&&i.sort(t||Ts)}}}function zs(e){var t=new WeakMap;function n(e){var r=e.target;r.removeEventListener("dispose",n),t.delete(r)}return{get:function(r,i){var o,a=t.get(r);return void 0===a?(o=new Ls(e),t.set(r,new WeakMap),t.get(r).set(i,o),r.addEventListener("dispose",n)):void 0===(o=a.get(i))&&(o=new Ls(e),a.set(i,o)),o},dispose:function(){t=new WeakMap}}}function ks(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new or,color:new xi};break;case"SpotLight":n={position:new or,direction:new or,color:new xi,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new or,color:new xi,distance:0,decay:0};break;case"HemisphereLight":n={direction:new or,skyColor:new xi,groundColor:new xi};break;case"RectAreaLight":n={color:new xi,position:new or,halfWidth:new or,halfHeight:new or}}return e[t.id]=n,n}}}var Ds=0;function Os(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function Ns(){for(var e=new ks,t=function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new qn};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new qn,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},r=0;r<9;r++)n.probe.push(new or);var i=new or,o=new dr,a=new dr;return{setup:function(r,s,l){for(var u=0,c=0,f=0,h=0;h<9;h++)n.probe[h].set(0,0,0);var d=0,p=0,m=0,v=0,g=0,y=0,_=0,b=0,w=l.matrixWorldInverse;r.sort(Os);for(var x=0,A=r.length;x<A;x++){var M=r[x],S=M.color,C=M.intensity,E=M.distance,I=M.shadow&&M.shadow.map?M.shadow.map.texture:null;if(M.isAmbientLight)u+=S.r*C,c+=S.g*C,f+=S.b*C;else if(M.isLightProbe)for(var T=0;T<9;T++)n.probe[T].addScaledVector(M.sh.coefficients[T],C);else if(M.isDirectionalLight){var L=e.get(M);if(L.color.copy(M.color).multiplyScalar(M.intensity),L.direction.setFromMatrixPosition(M.matrixWorld),i.setFromMatrixPosition(M.target.matrixWorld),L.direction.sub(i),L.direction.transformDirection(w),M.castShadow){var z=M.shadow,k=t.get(M);k.shadowBias=z.bias,k.shadowNormalBias=z.normalBias,k.shadowRadius=z.radius,k.shadowMapSize=z.mapSize,n.directionalShadow[d]=k,n.directionalShadowMap[d]=I,n.directionalShadowMatrix[d]=M.shadow.matrix,y++}n.directional[d]=L,d++}else if(M.isSpotLight){var D=e.get(M);if(D.position.setFromMatrixPosition(M.matrixWorld),D.position.applyMatrix4(w),D.color.copy(S).multiplyScalar(C),D.distance=E,D.direction.setFromMatrixPosition(M.matrixWorld),i.setFromMatrixPosition(M.target.matrixWorld),D.direction.sub(i),D.direction.transformDirection(w),D.coneCos=Math.cos(M.angle),D.penumbraCos=Math.cos(M.angle*(1-M.penumbra)),D.decay=M.decay,M.castShadow){var O=M.shadow,N=t.get(M);N.shadowBias=O.bias,N.shadowNormalBias=O.normalBias,N.shadowRadius=O.radius,N.shadowMapSize=O.mapSize,n.spotShadow[m]=N,n.spotShadowMap[m]=I,n.spotShadowMatrix[m]=M.shadow.matrix,b++}n.spot[m]=D,m++}else if(M.isRectAreaLight){var j=e.get(M);j.color.copy(S).multiplyScalar(C),j.position.setFromMatrixPosition(M.matrixWorld),j.position.applyMatrix4(w),a.identity(),o.copy(M.matrixWorld),o.premultiply(w),a.extractRotation(o),j.halfWidth.set(.5*M.width,0,0),j.halfHeight.set(0,.5*M.height,0),j.halfWidth.applyMatrix4(a),j.halfHeight.applyMatrix4(a),n.rectArea[v]=j,v++}else if(M.isPointLight){var P=e.get(M);if(P.position.setFromMatrixPosition(M.matrixWorld),P.position.applyMatrix4(w),P.color.copy(M.color).multiplyScalar(M.intensity),P.distance=M.distance,P.decay=M.decay,M.castShadow){var R=M.shadow,$=t.get(M);$.shadowBias=R.bias,$.shadowNormalBias=R.normalBias,$.shadowRadius=R.radius,$.shadowMapSize=R.mapSize,$.shadowCameraNear=R.camera.near,$.shadowCameraFar=R.camera.far,n.pointShadow[p]=$,n.pointShadowMap[p]=I,n.pointShadowMatrix[p]=M.shadow.matrix,_++}n.point[p]=P,p++}else if(M.isHemisphereLight){var F=e.get(M);F.direction.setFromMatrixPosition(M.matrixWorld),F.direction.transformDirection(w),F.direction.normalize(),F.skyColor.copy(M.color).multiplyScalar(C),F.groundColor.copy(M.groundColor).multiplyScalar(C),n.hemi[g]=F,g++}}n.ambient[0]=u,n.ambient[1]=c,n.ambient[2]=f;var K=n.hash;K.directionalLength===d&&K.pointLength===p&&K.spotLength===m&&K.rectAreaLength===v&&K.hemiLength===g&&K.numDirectionalShadows===y&&K.numPointShadows===_&&K.numSpotShadows===b||(n.directional.length=d,n.spot.length=m,n.rectArea.length=v,n.point.length=p,n.hemi.length=g,n.directionalShadow.length=y,n.directionalShadowMap.length=y,n.pointShadow.length=_,n.pointShadowMap.length=_,n.spotShadow.length=b,n.spotShadowMap.length=b,n.directionalShadowMatrix.length=y,n.pointShadowMatrix.length=_,n.spotShadowMatrix.length=b,K.directionalLength=d,K.pointLength=p,K.spotLength=m,K.rectAreaLength=v,K.hemiLength=g,K.numDirectionalShadows=y,K.numPointShadows=_,K.numSpotShadows=b,n.version=Ds++)},state:n}}function js(){var e=new Ns,t=[],n=[];return{init:function(){t.length=0,n.length=0},state:{lightsArray:t,shadowsArray:n,lights:e},setupLights:function(r){e.setup(t,n,r)},pushLight:function(e){t.push(e)},pushShadow:function(e){n.push(e)}}}function Ps(){var e=new WeakMap;function t(n){var r=n.target;r.removeEventListener("dispose",t),e.delete(r)}return{get:function(n,r){var i;return!1===e.has(n)?(i=new js,e.set(n,new WeakMap),e.get(n).set(r,i),n.addEventListener("dispose",t)):!1===e.get(n).has(r)?(i=new js,e.get(n).set(r,i)):i=e.get(n).get(r),i},dispose:function(){e=new WeakMap}}}function Rs(e){Ii.call(this),this.type="MeshDepthMaterial",this.depthPacking=dn,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}function $s(e){Ii.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new or,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}Rs.prototype=Object.create(Ii.prototype),Rs.prototype.constructor=Rs,Rs.prototype.isMeshDepthMaterial=!0,Rs.prototype.copy=function(e){return Ii.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},$s.prototype=Object.create(Ii.prototype),$s.prototype.constructor=$s,$s.prototype.isMeshDistanceMaterial=!0,$s.prototype.copy=function(e){return Ii.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};var Fs="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n  float mean = 0.0;\n  float squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );\n  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n    #ifdef HORIZONAL_PASS\n      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n      mean += distribution.x;\n      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n    #else\n      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );\n      mean += depth;\n      squared_mean += depth * depth;\n    #endif\n  }\n  mean = mean * HALF_SAMPLE_RATE;\n  squared_mean = squared_mean * HALF_SAMPLE_RATE;\n  float std_dev = sqrt( squared_mean - mean * mean );\n  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}",Ks="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}";function Us(e,t,n){var r=new Ko,i=new qn,o=new qn,a=new Zn,s=[],l=[],u={},c={0:A,1:x,2:M},f=new zo({defines:{SAMPLE_RATE:.25,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new qn},radius:{value:4}},vertexShader:Ks,fragmentShader:Fs}),h=f.clone();h.defines.HORIZONAL_PASS=1;var d=new Xi;d.setAttribute("position",new ki(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var p=new vo(d,f),m=this;function v(n,r){var i=t.update(p);f.uniforms.shadow_pass.value=n.map.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,f,p,null),h.uniforms.shadow_pass.value=n.mapPass.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,h,p,null)}function g(e,t,n){var r=e<<0|t<<1|n<<2,i=s[r];return void 0===i&&(i=new Rs({depthPacking:pn,morphTargets:e,skinning:t}),s[r]=i),i}function y(e,t,n){var r=e<<0|t<<1|n<<2,i=l[r];return void 0===i&&(i=new $s({morphTargets:e,skinning:t}),l[r]=i),i}function b(t,n,r,i,o,a,s){var l=null,f=g,h=t.customDepthMaterial;if(!0===i.isPointLight&&(f=y,h=t.customDistanceMaterial),void 0===h){var d=!1;!0===r.morphTargets&&(d=n.morphAttributes&&n.morphAttributes.position&&n.morphAttributes.position.length>0);var p=!1;!0===t.isSkinnedMesh&&(!0===r.skinning?p=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t)),l=f(d,p,!0===t.isInstancedMesh)}else l=h;if(e.localClippingEnabled&&!0===r.clipShadows&&0!==r.clippingPlanes.length){var m=l.uuid,v=r.uuid,_=u[m];void 0===_&&(_={},u[m]=_);var b=_[v];void 0===b&&(b=l.clone(),_[v]=b),l=b}return l.visible=r.visible,l.wireframe=r.wireframe,l.side=s===w?null!==r.shadowSide?r.shadowSide:r.side:null!==r.shadowSide?r.shadowSide:c[r.side],l.clipShadows=r.clipShadows,l.clippingPlanes=r.clippingPlanes,l.clipIntersection=r.clipIntersection,l.wireframeLinewidth=r.wireframeLinewidth,l.linewidth=r.linewidth,!0===i.isPointLight&&!0===l.isMeshDistanceMaterial&&(l.referencePosition.setFromMatrixPosition(i.matrixWorld),l.nearDistance=o,l.farDistance=a),l}function S(n,i,o,a,s){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===w)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);var l=t.update(n),u=n.material;if(Array.isArray(u))for(var c=l.groups,f=0,h=c.length;f<h;f++){var d=c[f],p=u[d.materialIndex];if(p&&p.visible){var m=b(n,l,p,a,o.near,o.far,s);e.renderBufferDirect(o,null,l,m,n,d)}}else if(u.visible){var v=b(n,l,u,a,o.near,o.far,s);e.renderBufferDirect(o,null,l,v,n,null)}}for(var g=n.children,y=0,_=g.length;y<_;y++)S(g[y],i,o,a,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=_,this.render=function(t,s,l){if(!1!==m.enabled&&(!1!==m.autoUpdate||!1!==m.needsUpdate)&&0!==t.length){var u=e.getRenderTarget(),c=e.getActiveCubeFace(),f=e.getActiveMipmapLevel(),h=e.state;h.setBlending(E),h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);for(var d=0,p=t.length;d<p;d++){var g=t[d],y=g.shadow;if(!1!==y.autoUpdate||!1!==y.needsUpdate)if(void 0!==y){i.copy(y.mapSize);var _=y.getFrameExtents();if(i.multiply(_),o.copy(y.mapSize),(i.x>n||i.y>n)&&(i.x>n&&(o.x=Math.floor(n/_.x),i.x=o.x*_.x,y.mapSize.x=o.x),i.y>n&&(o.y=Math.floor(n/_.y),i.y=o.y*_.y,y.mapSize.y=o.y)),null===y.map&&!y.isPointLightShadow&&this.type===w){var b={minFilter:Ee,magFilter:Ee,format:Ge,stencilBuffer:!1};y.map=new er(i.x,i.y,b),y.map.texture.name=g.name+".shadowMap",y.mapPass=new er(i.x,i.y,b),y.camera.updateProjectionMatrix()}if(null===y.map){var x={minFilter:xe,magFilter:xe,format:Ge,stencilBuffer:!1};y.map=new er(i.x,i.y,x),y.map.texture.name=g.name+".shadowMap",y.camera.updateProjectionMatrix()}e.setRenderTarget(y.map),e.clear();for(var A=y.getViewportCount(),M=0;M<A;M++){var C=y.getViewport(M);a.set(o.x*C.x,o.y*C.y,o.x*C.z,o.y*C.w),h.viewport(a),y.updateMatrices(g,M),r=y.getFrustum(),S(s,l,y.camera,g,this.type)}y.isPointLightShadow||this.type!==w||v(y,l),y.needsUpdate=!1}else console.warn("THREE.WebGLShadowMap:",g,"has no shadow.")}m.needsUpdate=!1,e.setRenderTarget(u,c,f)}}}function Vs(e,t,n){var r,i,a=n.isWebGL2;var s=new function(){var t=!1,n=new Zn,r=null,i=new Zn(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,o,a,s){!0===s&&(t*=a,r*=a,o*=a),n.set(t,r,o,a),!1===i.equals(n)&&(e.clearColor(t,r,o,a),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},l=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(e){e?ge(2929):ye(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case W:e.depthFunc(512);break;case Y:e.depthFunc(519);break;case X:e.depthFunc(513);break;case J:e.depthFunc(515);break;case Z:e.depthFunc(514);break;case ee:e.depthFunc(518);break;case te:e.depthFunc(516);break;case ne:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},u=new function(){var t=!1,n=null,r=null,i=null,o=null,a=null,s=null,l=null,u=null;return{setTest:function(e){t||(e?ge(2960):ye(2960))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,a){r===t&&i===n&&o===a||(e.stencilFunc(t,n,a),r=t,i=n,o=a)},setOp:function(t,n,r){a===t&&s===n&&l===r||(e.stencilOp(t,n,r),a=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){u!==t&&(e.clearStencil(t),u=t)},reset:function(){t=!1,n=null,r=null,i=null,o=null,a=null,s=null,l=null,u=null}}},c={},f=null,h=null,d=null,g=null,y=null,_=null,b=null,w=null,x=null,S=!1,C=null,re=null,ie=null,oe=null,ae=null,se=e.getParameter(35661),le=!1,ue=0,ce=e.getParameter(7938);-1!==ce.indexOf("WebGL")?(ue=parseFloat(/^WebGL\ ([0-9])/.exec(ce)[1]),le=ue>=1):-1!==ce.indexOf("OpenGL ES")&&(ue=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(ce)[1]),le=ue>=2);var fe=null,he={},de=new Zn,pe=new Zn;function me(t,n,r){var i=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var a=0;a<r;a++)e.texImage2D(n+a,0,6408,1,1,0,6408,5121,i);return o}var ve={};function ge(t){!0!==c[t]&&(e.enable(t),c[t]=!0)}function ye(t){!1!==c[t]&&(e.disable(t),c[t]=!1)}ve[3553]=me(3553,3553,1),ve[34067]=me(34067,34069,6),s.setClear(0,0,0,1),l.setClear(1),u.setClear(0),ge(2929),l.setFunc(J),Ae(!1),Me(m),ge(2884),xe(E);var _e=(r={},Object(o.a)(r,D,32774),Object(o.a)(r,O,32778),Object(o.a)(r,N,32779),r);if(a)_e[j]=32775,_e[P]=32776;else{var be=t.get("EXT_blend_minmax");null!==be&&(_e[j]=be.MIN_EXT,_e[P]=be.MAX_EXT)}var we=(i={},Object(o.a)(i,R,0),Object(o.a)(i,$,1),Object(o.a)(i,F,768),Object(o.a)(i,U,770),Object(o.a)(i,q,776),Object(o.a)(i,G,774),Object(o.a)(i,B,772),Object(o.a)(i,K,769),Object(o.a)(i,V,771),Object(o.a)(i,Q,775),Object(o.a)(i,H,773),i);function xe(t,n,r,i,o,a,s,l){if(t!==E){if(h||(ge(3042),h=!0),t===k)o=o||n,a=a||r,s=s||i,n===g&&o===b||(e.blendEquationSeparate(_e[n],_e[o]),g=n,b=o),r===y&&i===_&&a===w&&s===x||(e.blendFuncSeparate(we[r],we[i],we[a],we[s]),y=r,_=i,w=a,x=s),d=t,S=null;else if(t!==d||l!==S){if(g===D&&b===D||(e.blendEquation(32774),g=D,b=D),l)switch(t){case I:e.blendFuncSeparate(1,771,1,771);break;case T:e.blendFunc(1,1);break;case L:e.blendFuncSeparate(0,0,769,771);break;case z:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case I:e.blendFuncSeparate(770,771,1,771);break;case T:e.blendFunc(770,1);break;case L:e.blendFunc(0,769);break;case z:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}y=null,_=null,w=null,x=null,d=t,S=l}}else h&&(ye(3042),h=!1)}function Ae(t){C!==t&&(t?e.frontFace(2304):e.frontFace(2305),C=t)}function Me(t){t!==p?(ge(2884),t!==re&&(t===m?e.cullFace(1029):t===v?e.cullFace(1028):e.cullFace(1032))):ye(2884),re=t}function Se(t,n,r){t?(ge(32823),oe===n&&ae===r||(e.polygonOffset(n,r),oe=n,ae=r)):ye(32823)}function Ce(t){void 0===t&&(t=33984+se-1),fe!==t&&(e.activeTexture(t),fe=t)}return{buffers:{color:s,depth:l,stencil:u},enable:ge,disable:ye,useProgram:function(t){return f!==t&&(e.useProgram(t),f=t,!0)},setBlending:xe,setMaterial:function(e,t){e.side===M?ye(2884):ge(2884);var n=e.side===A;t&&(n=!n),Ae(n),e.blending===I&&!1===e.transparent?xe(E):xe(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),l.setFunc(e.depthFunc),l.setTest(e.depthTest),l.setMask(e.depthWrite),s.setMask(e.colorWrite);var r=e.stencilWrite;u.setTest(r),r&&(u.setMask(e.stencilWriteMask),u.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),u.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),Se(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:Ae,setCullFace:Me,setLineWidth:function(t){t!==ie&&(le&&e.lineWidth(t),ie=t)},setPolygonOffset:Se,setScissorTest:function(e){e?ge(3089):ye(3089)},activeTexture:Ce,bindTexture:function(t,n){null===fe&&Ce();var r=he[fe];void 0===r&&(r={type:void 0,texture:void 0},he[fe]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||ve[t]),r.type=t,r.texture=n)},unbindTexture:function(){var t=he[fe];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===de.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),de.copy(t))},viewport:function(t){!1===pe.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),pe.copy(t))},reset:function(){c={},fe=null,he={},f=null,d=null,C=null,re=null,s.reset(),l.reset(),u.reset()}}}function Bs(e,t,n,r,i,a,s){var l,u,c,f=i.isWebGL2,h=i.maxTextures,d=i.maxCubemapSize,p=i.maxTextureSize,m=i.maxSamples,v=new WeakMap,g=!1;try{g="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(U){}function y(e,t){return g?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function _(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var o=t?Qn.floorPowerOfTwo:Math.floor,a=o(i*e.width),s=o(i*e.height);void 0===c&&(c=y(a,s));var l=n?y(a,s):c;return l.width=a,l.height=s,l.getContext("2d").drawImage(e,0,0,a,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+a+"x"+s+")."),l}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function b(e){return Qn.isPowerOfTwo(e.width)&&Qn.isPowerOfTwo(e.height)}function w(e,t){return e.generateMipmaps&&t&&e.minFilter!==xe&&e.minFilter!==Ee}function x(t,n,i,o){e.generateMipmap(t),r.get(n).__maxMipLevel=Math.log(Math.max(i,o))*Math.LOG2E}function A(n,r,i){if(!1===f)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var o=r;return 6403===r&&(5126===i&&(o=33326),5131===i&&(o=33325),5121===i&&(o=33321)),6407===r&&(5126===i&&(o=34837),5131===i&&(o=34843),5121===i&&(o=32849)),6408===r&&(5126===i&&(o=34836),5131===i&&(o=34842),5121===i&&(o=32856)),33325!==o&&33326!==o&&34842!==o&&34836!==o||t.get("EXT_color_buffer_float"),o}function M(e){return e===xe||e===Ae||e===Se?9728:9729}function S(t){var n=t.target;n.removeEventListener("dispose",S),function(t){var n=r.get(t);if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture),r.remove(t)}(n),n.isVideoTexture&&v.delete(n),s.memory.textures--}function C(t){var n=t.target;n.removeEventListener("dispose",C),function(t){var n=r.get(t),i=r.get(t.texture);if(!t)return;void 0!==i.__webglTexture&&e.deleteTexture(i.__webglTexture);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(var o=0;o<6;o++)e.deleteFramebuffer(n.__webglFramebuffer[o]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[o]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&e.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer&&e.deleteRenderbuffer(n.__webglColorRenderbuffer),n.__webglDepthRenderbuffer&&e.deleteRenderbuffer(n.__webglDepthRenderbuffer);r.remove(t.texture),r.remove(t)}(n),s.memory.textures--}var E=0;function I(e,t){var i=r.get(e);if(e.isVideoTexture&&function(e){var t=s.render.frame;v.get(e)!==t&&(v.set(e,t),e.update())}(e),e.version>0&&i.__version!==e.version){var o=e.image;if(void 0===o)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==o.complete)return void N(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,i.__webglTexture)}function T(t,i){if(6===t.image.length){var o=r.get(t);if(t.version>0&&o.__version!==t.version){O(o,t),n.activeTexture(33984+i),n.bindTexture(34067,o.__webglTexture),e.pixelStorei(37440,t.flipY);for(var s=t&&(t.isCompressedTexture||t.image[0].isCompressedTexture),l=t.image[0]&&t.image[0].isDataTexture,u=[],c=0;c<6;c++)u[c]=s||l?l?t.image[c].image:t.image[c]:_(t.image[c],!1,!0,d);var h,p=u[0],m=b(p)||f,v=a.convert(t.format),g=a.convert(t.type),y=A(t.internalFormat,v,g);if(D(34067,t,m),s){for(var M=0;M<6;M++){h=u[M].mipmaps;for(var S=0;S<h.length;S++){var C=h[S];t.format!==Ge&&t.format!==He?null!==v?n.compressedTexImage2D(34069+M,S,y,C.width,C.height,0,C.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+M,S,y,C.width,C.height,0,v,g,C.data)}}o.__maxMipLevel=h.length-1}else{h=t.mipmaps;for(var E=0;E<6;E++)if(l){n.texImage2D(34069+E,0,y,u[E].width,u[E].height,0,v,g,u[E].data);for(var I=0;I<h.length;I++){var T=h[I].image[E].image;n.texImage2D(34069+E,I+1,y,T.width,T.height,0,v,g,T.data)}}else{n.texImage2D(34069+E,0,y,v,g,u[E]);for(var L=0;L<h.length;L++){var z=h[L];n.texImage2D(34069+E,L+1,y,v,g,z.image[E])}}o.__maxMipLevel=h.length}w(t,m)&&x(34067,t,p.width,p.height),o.__version=t.version,t.onUpdate&&t.onUpdate(t)}else n.activeTexture(33984+i),n.bindTexture(34067,o.__webglTexture)}}function L(e,t){n.activeTexture(33984+t),n.bindTexture(34067,r.get(e).__webglTexture)}var z=(l={},Object(o.a)(l,_e,10497),Object(o.a)(l,be,33071),Object(o.a)(l,we,33648),l),k=(u={},Object(o.a)(u,xe,9728),Object(o.a)(u,Ae,9984),Object(o.a)(u,Se,9986),Object(o.a)(u,Ee,9729),Object(o.a)(u,Ie,9985),Object(o.a)(u,Le,9987),u);function D(n,o,a){a?(e.texParameteri(n,10242,z[o.wrapS]),e.texParameteri(n,10243,z[o.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,z[o.wrapR]),e.texParameteri(n,10240,k[o.magFilter]),e.texParameteri(n,10241,k[o.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),o.wrapS===be&&o.wrapT===be||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,M(o.magFilter)),e.texParameteri(n,10241,M(o.minFilter)),o.minFilter!==xe&&o.minFilter!==Ee&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));var s=t.get("EXT_texture_filter_anisotropic");if(s){if(o.type===Re&&null===t.get("OES_texture_float_linear"))return;if(o.type===$e&&null===(f||t.get("OES_texture_half_float_linear")))return;(o.anisotropy>1||r.get(o).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,i.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy)}}function O(t,n){void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",S),t.__webglTexture=e.createTexture(),s.memory.textures++)}function N(t,r,i){var o=3553;r.isDataTexture2DArray&&(o=35866),r.isDataTexture3D&&(o=32879),O(t,r),n.activeTexture(33984+i),n.bindTexture(o,t.__webglTexture),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment);var s,l=function(e){return!f&&(e.wrapS!==be||e.wrapT!==be||e.minFilter!==xe&&e.minFilter!==Ee)}(r)&&!1===b(r.image),u=_(r.image,l,!1,p),c=b(u)||f,h=a.convert(r.format),d=a.convert(r.type),m=A(r.internalFormat,h,d);D(o,r,c);var v=r.mipmaps;if(r.isDepthTexture)m=6402,f?m=r.type===Re?36012:r.type===Pe?33190:r.type===Ve?35056:33189:r.type===Re&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),r.format===Ye&&6402===m&&r.type!==Ne&&r.type!==Pe&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=Ne,d=a.convert(r.type)),r.format===Xe&&6402===m&&(m=34041,r.type!==Ve&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=Ve,d=a.convert(r.type))),n.texImage2D(3553,0,m,u.width,u.height,0,h,d,null);else if(r.isDataTexture)if(v.length>0&&c){for(var g=0,y=v.length;g<y;g++)s=v[g],n.texImage2D(3553,g,m,s.width,s.height,0,h,d,s.data);r.generateMipmaps=!1,t.__maxMipLevel=v.length-1}else n.texImage2D(3553,0,m,u.width,u.height,0,h,d,u.data),t.__maxMipLevel=0;else if(r.isCompressedTexture){for(var M=0,S=v.length;M<S;M++)s=v[M],r.format!==Ge&&r.format!==He?null!==h?n.compressedTexImage2D(3553,M,m,s.width,s.height,0,s.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,M,m,s.width,s.height,0,h,d,s.data);t.__maxMipLevel=v.length-1}else if(r.isDataTexture2DArray)n.texImage3D(35866,0,m,u.width,u.height,u.depth,0,h,d,u.data),t.__maxMipLevel=0;else if(r.isDataTexture3D)n.texImage3D(32879,0,m,u.width,u.height,u.depth,0,h,d,u.data),t.__maxMipLevel=0;else if(v.length>0&&c){for(var C=0,E=v.length;C<E;C++)s=v[C],n.texImage2D(3553,C,m,h,d,s);r.generateMipmaps=!1,t.__maxMipLevel=v.length-1}else n.texImage2D(3553,0,m,h,d,u),t.__maxMipLevel=0;w(r,c)&&x(o,r,u.width,u.height),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function j(t,i,o,s){var l=a.convert(i.texture.format),u=a.convert(i.texture.type),c=A(i.texture.internalFormat,l,u);n.texImage2D(s,0,c,i.width,i.height,0,l,u,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,o,s,r.get(i.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function P(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){var i=33189;if(r){var o=n.depthTexture;o&&o.isDepthTexture&&(o.type===Re?i=36012:o.type===Pe&&(i=33190));var s=$(n);e.renderbufferStorageMultisample(36161,s,i,n.width,n.height)}else e.renderbufferStorage(36161,i,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){if(r){var l=$(n);e.renderbufferStorageMultisample(36161,l,35056,n.width,n.height)}else e.renderbufferStorage(36161,34041,n.width,n.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{var u=a.convert(n.texture.format),c=a.convert(n.texture.type),f=A(n.texture.internalFormat,u,c);if(r){var h=$(n);e.renderbufferStorageMultisample(36161,h,f,n.width,n.height)}else e.renderbufferStorage(36161,f,n.width,n.height)}e.bindRenderbuffer(36161,null)}function R(t){var n=r.get(t),i=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,n){if(n&&n.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),I(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===Ye)e.framebufferTexture2D(36160,36096,3553,i,0);else{if(n.depthTexture.format!==Xe)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,i,0)}}(n.__webglFramebuffer,t)}else if(i){n.__webglDepthbuffer=[];for(var o=0;o<6;o++)e.bindFramebuffer(36160,n.__webglFramebuffer[o]),n.__webglDepthbuffer[o]=e.createRenderbuffer(),P(n.__webglDepthbuffer[o],t,!1)}else e.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),P(n.__webglDepthbuffer,t,!1);e.bindFramebuffer(36160,null)}function $(e){return f&&e.isWebGLMultisampleRenderTarget?Math.min(m,e.samples):0}var F=!1,K=!1;this.allocateTextureUnit=function(){var e=E;return e>=h&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+h),E+=1,e},this.resetTextureUnits=function(){E=0},this.setTexture2D=I,this.setTexture2DArray=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?N(i,e,t):(n.activeTexture(33984+t),n.bindTexture(35866,i.__webglTexture))},this.setTexture3D=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?N(i,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,i.__webglTexture))},this.setTextureCube=T,this.setTextureCubeDynamic=L,this.setupRenderTarget=function(t){var i=r.get(t),o=r.get(t.texture);t.addEventListener("dispose",C),o.__webglTexture=e.createTexture(),s.memory.textures++;var l=!0===t.isWebGLCubeRenderTarget,u=!0===t.isWebGLMultisampleRenderTarget,c=b(t)||f;if(!f||t.texture.format!==He||t.texture.type!==Re&&t.texture.type!==$e||(t.texture.format=Ge,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),l){i.__webglFramebuffer=[];for(var h=0;h<6;h++)i.__webglFramebuffer[h]=e.createFramebuffer()}else if(i.__webglFramebuffer=e.createFramebuffer(),u)if(f){i.__webglMultisampledFramebuffer=e.createFramebuffer(),i.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,i.__webglColorRenderbuffer);var d=a.convert(t.texture.format),p=a.convert(t.texture.type),m=A(t.texture.internalFormat,d,p),v=$(t);e.renderbufferStorageMultisample(36161,v,m,t.width,t.height),e.bindFramebuffer(36160,i.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,i.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(i.__webglDepthRenderbuffer=e.createRenderbuffer(),P(i.__webglDepthRenderbuffer,t,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(l){n.bindTexture(34067,o.__webglTexture),D(34067,t.texture,c);for(var g=0;g<6;g++)j(i.__webglFramebuffer[g],t,36064,34069+g);w(t.texture,c)&&x(34067,t.texture,t.width,t.height),n.bindTexture(34067,null)}else n.bindTexture(3553,o.__webglTexture),D(3553,t.texture,c),j(i.__webglFramebuffer,t,36064,3553),w(t.texture,c)&&x(3553,t.texture,t.width,t.height),n.bindTexture(3553,null);t.depthBuffer&&R(t)},this.updateRenderTargetMipmap=function(e){var t=e.texture;if(w(t,b(e)||f)){var i=e.isWebGLCubeRenderTarget?34067:3553,o=r.get(t).__webglTexture;n.bindTexture(i,o),x(i,t,e.width,e.height),n.bindTexture(i,null)}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(f){var n=r.get(t);e.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,n.__webglFramebuffer);var i=t.width,o=t.height,a=16384;t.depthBuffer&&(a|=256),t.stencilBuffer&&(a|=1024),e.blitFramebuffer(0,0,i,o,0,0,i,o,a,9728),e.bindFramebuffer(36160,n.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===F&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),F=!0),e=e.texture),I(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLCubeRenderTarget&&(!1===K&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),K=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?T(e,t):L(e,t)}}function Hs(e,t,n){var r=n.isWebGL2;return{convert:function(e){var n;if(e===ke)return 5121;if(e===Fe)return 32819;if(e===Ke)return 32820;if(e===Ue)return 33635;if(e===De)return 5120;if(e===Oe)return 5122;if(e===Ne)return 5123;if(e===je)return 5124;if(e===Pe)return 5125;if(e===Re)return 5126;if(e===$e)return r?5131:null!==(n=t.get("OES_texture_half_float"))?n.HALF_FLOAT_OES:null;if(e===Be)return 6406;if(e===He)return 6407;if(e===Ge)return 6408;if(e===Qe)return 6409;if(e===qe)return 6410;if(e===Ye)return 6402;if(e===Xe)return 34041;if(e===Je)return 6403;if(e===Ze)return 36244;if(e===et)return 33319;if(e===tt)return 33320;if(e===nt)return 36248;if(e===rt)return 36249;if(e===it||e===ot||e===at||e===st){if(null===(n=t.get("WEBGL_compressed_texture_s3tc")))return null;if(e===it)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===ot)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===at)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===st)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(e===lt||e===ut||e===ct||e===ft){if(null===(n=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(e===lt)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===ut)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===ct)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===ft)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===ht)return null!==(n=t.get("WEBGL_compressed_texture_etc1"))?n.COMPRESSED_RGB_ETC1_WEBGL:null;if((e===dt||e===pt)&&null!==(n=t.get("WEBGL_compressed_texture_etc"))){if(e===dt)return n.COMPRESSED_RGB8_ETC2;if(e===pt)return n.COMPRESSED_RGBA8_ETC2_EAC}return e===mt||e===vt||e===gt||e===yt||e===_t||e===bt||e===wt||e===xt||e===At||e===Mt||e===St||e===Ct||e===Et||e===It||e===Lt||e===zt||e===kt||e===Dt||e===Ot||e===Nt||e===jt||e===Pt||e===Rt||e===$t||e===Ft||e===Kt||e===Ut||e===Vt?null!==(n=t.get("WEBGL_compressed_texture_astc"))?e:null:e===Tt?null!==(n=t.get("EXT_texture_compression_bptc"))?e:null:e===Ve?r?34042:null!==(n=t.get("WEBGL_depth_texture"))?n.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}function Gs(e){Do.call(this),this.cameras=e||[]}function Qs(){zr.call(this),this.type="Group"}function qs(){this._targetRay=null,this._grip=null,this._hand=null}function Ws(e,t){var n=this,r=null,i=1,o=null,a="local-floor",s=null,l=[],u=new Map,c=new Do;c.layers.enable(1),c.viewport=new Zn;var f=new Do;f.layers.enable(2),f.viewport=new Zn;var h=[c,f],d=new Gs;d.layers.enable(1),d.layers.enable(2);var p=null,m=null;function v(e){var t=u.get(e.inputSource);t&&t.dispatchEvent({type:e.type})}function g(){u.forEach(function(e,t){e.disconnect(t)}),u.clear(),e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),M.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function y(e){o=e,M.setContext(r),M.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}function _(e){for(var t=r.inputSources,n=0;n<l.length;n++)u.set(t[n],l[n]);for(var i=0;i<e.removed.length;i++){var o=e.removed[i],a=u.get(o);a&&(a.dispatchEvent({type:"disconnected",data:o}),u.delete(o))}for(var s=0;s<e.added.length;s++){var c=e.added[s],f=u.get(c);f&&f.dispatchEvent({type:"connected",data:c})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(e){var t=l[e];return void 0===t&&(t=new qs,l[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){var t=l[e];return void 0===t&&(t=new qs,l[e]=t),t.getGripSpace()},this.getHand=function(e){var t=l[e];return void 0===t&&(t=new qs,l[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){i=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){a=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return o},this.getSession=function(){return r},this.setSession=function(e){if(null!==(r=e)){r.addEventListener("select",v),r.addEventListener("selectstart",v),r.addEventListener("selectend",v),r.addEventListener("squeeze",v),r.addEventListener("squeezestart",v),r.addEventListener("squeezeend",v),r.addEventListener("end",g);var n=t.getContextAttributes();!0!==n.xrCompatible&&t.makeXRCompatible();var o={antialias:n.antialias,alpha:n.alpha,depth:n.depth,stencil:n.stencil,framebufferScaleFactor:i},s=new XRWebGLLayer(r,t,o);r.updateRenderState({baseLayer:s}),r.requestReferenceSpace(a).then(y),r.addEventListener("inputsourceschange",_)}};var b=new or,w=new or;function x(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.getInverse(e.matrixWorld)}this.getCamera=function(e){d.near=f.near=c.near=e.near,d.far=f.far=c.far=e.far,p===d.near&&m===d.far||(r.updateRenderState({depthNear:d.near,depthFar:d.far}),p=d.near,m=d.far);var t=e.parent,n=d.cameras;x(d,t);for(var i=0;i<n.length;i++)x(n[i],t);e.matrixWorld.copy(d.matrixWorld);for(var o=e.children,a=0,s=o.length;a<s;a++)o[a].updateMatrixWorld(!0);return 2===n.length?function(e,t,n){b.setFromMatrixPosition(t.matrixWorld),w.setFromMatrixPosition(n.matrixWorld);var r=b.distanceTo(w),i=t.projectionMatrix.elements,o=n.projectionMatrix.elements,a=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],u=(i[9]-1)/i[5],c=(i[8]-1)/i[0],f=(o[8]+1)/o[0],h=a*c,d=a*f,p=r/(-c+f),m=p*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.getInverse(e.matrixWorld);var v=a+p,g=s+p,y=h-m,_=d+(r-m),x=l*s/g*v,A=u*s/g*v;e.projectionMatrix.makePerspective(y,_,x,A,v,g)}(d,c,f):d.projectionMatrix.copy(c.projectionMatrix),d};var A=null;var M=new Vo;M.setAnimationLoop(function(t,n){if(null!==(s=n.getViewerPose(o))){var i=s.views,a=r.renderState.baseLayer;e.setFramebuffer(a.framebuffer);var u=!1;i.length!==d.cameras.length&&(d.cameras.length=0,u=!0);for(var c=0;c<i.length;c++){var f=i[c],p=a.getViewport(f),m=h[c];m.matrix.fromArray(f.transform.matrix),m.projectionMatrix.fromArray(f.projectionMatrix),m.viewport.set(p.x,p.y,p.width,p.height),0===c&&d.matrix.copy(m.matrix),!0===u&&d.cameras.push(m)}}for(var v=r.inputSources,g=0;g<l.length;g++){var y=l[g],_=v[g];y.update(_,n,o)}A&&A(t,n)}),this.setAnimationLoop=function(e){A=e},this.dispose=function(){}}function Ys(e){function t(t,n,r){t.opacity.value=n.opacity,n.color&&t.diffuse.value.copy(n.color),n.emissive&&t.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(t.map.value=n.map),n.alphaMap&&(t.alphaMap.value=n.alphaMap),n.specularMap&&(t.specularMap.value=n.specularMap);var i,o,a=n.envMap||r;if(a){t.envMap.value=a,t.flipEnvMap.value=a.isCubeTexture?-1:1,t.reflectivity.value=n.reflectivity,t.refractionRatio.value=n.refractionRatio;var s=e.get(a).__maxMipLevel;void 0!==s&&(t.maxMipLevel.value=s)}n.lightMap&&(t.lightMap.value=n.lightMap,t.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(t.aoMap.value=n.aoMap,t.aoMapIntensity.value=n.aoMapIntensity),n.map?i=n.map:n.specularMap?i=n.specularMap:n.displacementMap?i=n.displacementMap:n.normalMap?i=n.normalMap:n.bumpMap?i=n.bumpMap:n.roughnessMap?i=n.roughnessMap:n.metalnessMap?i=n.metalnessMap:n.alphaMap?i=n.alphaMap:n.emissiveMap&&(i=n.emissiveMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uvTransform.value.copy(i.matrix)),n.aoMap?o=n.aoMap:n.lightMap&&(o=n.lightMap),void 0!==o&&(o.isWebGLRenderTarget&&(o=o.texture),!0===o.matrixAutoUpdate&&o.updateMatrix(),t.uv2Transform.value.copy(o.matrix))}function n(e,t,n){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===A&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===A&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),(t.envMap||n)&&(e.envMapIntensity.value=t.envMapIntensity)}return{refreshFogUniforms:function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(e,r,i,o,a){r.isMeshBasicMaterial?t(e,r):r.isMeshLambertMaterial?(t(e,r),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(e,r)):r.isMeshToonMaterial?(t(e,r),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===A&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===A&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshPhongMaterial?(t(e,r),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===A&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===A&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshStandardMaterial?(t(e,r,i),r.isMeshPhysicalMaterial?function(e,t,r){n(e,t,r),e.reflectivity.value=t.reflectivity,e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.sheen&&e.sheen.value.copy(t.sheen),t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap),t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===A&&e.clearcoatNormalScale.value.negate()),e.transmission.value=t.transmission,t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap)}(e,r,i):n(e,r,i)):r.isMeshMatcapMaterial?(t(e,r),function(e,t){t.matcap&&(e.matcap.value=t.matcap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===A&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===A&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshDepthMaterial?(t(e,r),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshDistanceMaterial?(t(e,r),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(e,r)):r.isMeshNormalMaterial?(t(e,r),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===A&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===A&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(e,r),r.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,r)):r.isPointsMaterial?function(e,t,n,r){var i;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*n,e.scale.value=.5*r,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.map?i=t.map:t.alphaMap&&(i=t.alphaMap),void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix))}(e,r,o,a):r.isSpriteMaterial?function(e,t){var n;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.map?n=t.map:t.alphaMap&&(n=t.alphaMap),void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}(e,r):r.isShadowMaterial?(e.color.value.copy(r.color),e.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function Xs(e){var t=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=void 0!==e.context?e.context:null,r=void 0!==e.alpha&&e.alpha,i=void 0===e.depth||e.depth,o=void 0===e.stencil||e.stencil,a=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,l=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,u=void 0!==e.powerPreference?e.powerPreference:"default",c=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat,f=null,h=null;this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=on,this.physicallyCorrectLights=!1,this.toneMapping=ae,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var d=this,p=!1,m=null,v=0,g=0,y=null,_=null,b=-1,w=null,x=null,A=new Zn,M=new Zn,S=null,C=t.width,E=t.height,I=1,T=null,L=null,z=new Zn(0,0,C,E),k=new Zn(0,0,C,E),D=!1,O=new Ko,N=new Zo,j=!1,P=!1,R=new dr,$=new or,F={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function K(){return null===y?I:1}var U,V,B,H,G,Q,q,W,Y,X,J,Z,ee,te,ne,re,ie,oe,se,le=n;function ue(e,n){for(var r=0;r<e.length;r++){var i=e[r],o=t.getContext(i,n);if(null!==o)return o}return null}try{var ce={alpha:r,depth:i,stencil:o,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:u,failIfMajorPerformanceCaveat:c};if(t.addEventListener("webglcontextlost",me,!1),t.addEventListener("webglcontextrestored",ve,!1),null===le){var fe=["webgl2","webgl","experimental-webgl"];if(!0===d.isWebGL1Renderer&&fe.shift(),null===(le=ue(fe,ce)))throw ue(fe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===le.getShaderPrecisionFormat&&(le.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Se){throw console.error("THREE.WebGLRenderer: "+Se.message),Se}function he(){U=new ea(le),!1===(V=new Jo(le,U,e)).isWebGL2&&(U.get("WEBGL_depth_texture"),U.get("OES_texture_float"),U.get("OES_texture_half_float"),U.get("OES_texture_half_float_linear"),U.get("OES_standard_derivatives"),U.get("OES_element_index_uint"),U.get("OES_vertex_array_object"),U.get("ANGLE_instanced_arrays")),U.get("OES_texture_float_linear"),oe=new Hs(le,U,V),(B=new Vs(le,U,V)).scissor(M.copy(k).multiplyScalar(I).floor()),B.viewport(A.copy(z).multiplyScalar(I).floor()),H=new ra(le),G=new Es,Q=new Bs(le,U,B,G,V,oe,H),q=new Bo(le,V),se=new Yo(le,U,q,V),W=new ta(le,q,H,se),Y=new sa(le,W,q,H),ne=new aa(le),X=new Cs(d,U,V,se),J=new Ys(G),Z=new zs(G),ee=new Ps,te=new Wo(d,B,Y,s),re=new Xo(le,U,H,V),ie=new na(le,U,H,V),H.programs=X.programs,d.capabilities=V,d.extensions=U,d.properties=G,d.renderLists=Z,d.state=B,d.info=H}he();var de=new Ws(d,le);this.xr=de;var pe=new Us(d,Y,V.maxTextureSize);function me(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),p=!0}function ve(){console.log("THREE.WebGLRenderer: Context Restored."),p=!1,he()}function ge(e){var t=e.target;t.removeEventListener("dispose",ge),function(e){ye(e),G.remove(e)}(t)}function ye(e){var t=G.get(e).program;void 0!==t&&X.releaseProgram(t)}this.shadowMap=pe,this.getContext=function(){return le},this.getContextAttributes=function(){return le.getContextAttributes()},this.forceContextLoss=function(){var e=U.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=U.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return I},this.setPixelRatio=function(e){void 0!==e&&(I=e,this.setSize(C,E,!1))},this.getSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),e=new qn),e.set(C,E)},this.setSize=function(e,n,r){de.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(C=e,E=n,t.width=Math.floor(e*I),t.height=Math.floor(n*I),!1!==r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),e=new qn),e.set(C*I,E*I).floor()},this.setDrawingBufferSize=function(e,n,r){C=e,E=n,I=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),e=new Zn),e.copy(A)},this.getViewport=function(e){return e.copy(z)},this.setViewport=function(e,t,n,r){e.isVector4?z.set(e.x,e.y,e.z,e.w):z.set(e,t,n,r),B.viewport(A.copy(z).multiplyScalar(I).floor())},this.getScissor=function(e){return e.copy(k)},this.setScissor=function(e,t,n,r){e.isVector4?k.set(e.x,e.y,e.z,e.w):k.set(e,t,n,r),B.scissor(M.copy(k).multiplyScalar(I).floor())},this.getScissorTest=function(){return D},this.setScissorTest=function(e){B.setScissorTest(D=e)},this.setOpaqueSort=function(e){T=e},this.setTransparentSort=function(e){L=e},this.getClearColor=function(){return te.getClearColor()},this.setClearColor=function(){te.setClearColor.apply(te,arguments)},this.getClearAlpha=function(){return te.getClearAlpha()},this.setClearAlpha=function(){te.setClearAlpha.apply(te,arguments)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=16384),(void 0===t||t)&&(r|=256),(void 0===n||n)&&(r|=1024),le.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",me,!1),t.removeEventListener("webglcontextrestored",ve,!1),Z.dispose(),ee.dispose(),G.dispose(),Y.dispose(),se.dispose(),de.dispose(),be.stop()},this.renderBufferImmediate=function(e,t){se.initAttributes();var n=G.get(e);e.hasPositions&&!n.position&&(n.position=le.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=le.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=le.createBuffer()),e.hasColors&&!n.color&&(n.color=le.createBuffer());var r=t.getAttributes();e.hasPositions&&(le.bindBuffer(34962,n.position),le.bufferData(34962,e.positionArray,35048),se.enableAttribute(r.position),le.vertexAttribPointer(r.position,3,5126,!1,0,0)),e.hasNormals&&(le.bindBuffer(34962,n.normal),le.bufferData(34962,e.normalArray,35048),se.enableAttribute(r.normal),le.vertexAttribPointer(r.normal,3,5126,!1,0,0)),e.hasUvs&&(le.bindBuffer(34962,n.uv),le.bufferData(34962,e.uvArray,35048),se.enableAttribute(r.uv),le.vertexAttribPointer(r.uv,2,5126,!1,0,0)),e.hasColors&&(le.bindBuffer(34962,n.color),le.bufferData(34962,e.colorArray,35048),se.enableAttribute(r.color),le.vertexAttribPointer(r.color,3,5126,!1,0,0)),se.disableUnusedAttributes(),le.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,r,i,o){null===t&&(t=F);var a=i.isMesh&&i.matrixWorld.determinant()<0,s=Me(e,t,r,i);B.setMaterial(r,a);var l=n.index,u=n.attributes.position;if(null===l){if(void 0===u||0===u.count)return}else if(0===l.count)return;var c,f=1;!0===r.wireframe&&(l=W.getWireframeAttribute(n),f=2),(r.morphTargets||r.morphNormals)&&ne.update(i,n,r,s),se.setup(i,r,s,n,l);var h=re;null!==l&&(c=q.get(l),(h=ie).setIndex(c));var d=null!==l?l.count:u.count,p=n.drawRange.start*f,m=n.drawRange.count*f,v=null!==o?o.start*f:0,g=null!==o?o.count*f:1/0,y=Math.max(p,v),_=Math.min(d,p+m,v+g)-1,b=Math.max(0,_-y+1);if(0!==b){if(i.isMesh)!0===r.wireframe?(B.setLineWidth(r.wireframeLinewidth*K()),h.setMode(1)):h.setMode(4);else if(i.isLine){var w=r.linewidth;void 0===w&&(w=1),B.setLineWidth(w*K()),i.isLineSegments?h.setMode(1):i.isLineLoop?h.setMode(2):h.setMode(3)}else i.isPoints?h.setMode(0):i.isSprite&&h.setMode(4);if(i.isInstancedMesh)h.renderInstances(y,b,i.count);else if(n.isInstancedBufferGeometry){var x=Math.min(n.instanceCount,n._maxInstanceCount);h.renderInstances(y,b,x)}else h.render(y,b)}},this.compile=function(e,t){(h=ee.get(e,t)).init(),e.traverse(function(e){e.isLight&&(h.pushLight(e),e.castShadow&&h.pushShadow(e))}),h.setupLights(t);var n=new WeakMap;e.traverse(function(t){var r=t.material;if(r)if(Array.isArray(r))for(var i=0;i<r.length;i++){var o=r[i];!1===n.has(o)&&(Ae(o,e,t),n.set(o))}else!1===n.has(r)&&(Ae(r,e,t),n.set(r))})};var _e=null;var be=new Vo;function we(e,t,n){for(var r=!0===t.isScene?t.overrideMaterial:null,i=0,o=e.length;i<o;i++){var a=e[i],s=a.object,l=a.geometry,u=null===r?a.material:r,c=a.group;if(n.isArrayCamera){x=n;for(var f=n.cameras,d=0,p=f.length;d<p;d++){var m=f[d];s.layers.test(m.layers)&&(B.viewport(A.copy(m.viewport)),h.setupLights(m),xe(s,t,m,l,u,c))}}else x=null,xe(s,t,n,l,u,c)}}function xe(e,t,n,r,i,o){if(e.onBeforeRender(d,t,n,r,i,o),h=ee.get(t,x||n),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){var a=Me(n,t,i,e);B.setMaterial(i),se.reset(),function(e,t){e.render(function(e){d.renderBufferImmediate(e,t)})}(e,a)}else d.renderBufferDirect(n,t,r,i,e,o);e.onAfterRender(d,t,n,r,i,o),h=ee.get(t,x||n)}function Ae(e,t,n){!0!==t.isScene&&(t=F);var r=G.get(e),i=h.state.lights,o=h.state.shadowsArray,a=i.state.version,s=X.getParameters(e,i.state,o,t,N.numPlanes,N.numIntersection,n),l=X.getProgramCacheKey(s),u=r.program,c=!0;if(void 0===u)e.addEventListener("dispose",ge);else if(u.cacheKey!==l)ye(e);else if(r.lightsStateVersion!==a)r.lightsStateVersion=a,c=!1;else{if(void 0!==s.shaderID)return;c=!1}c&&(s.uniforms=X.getUniforms(e,s),e.onBeforeCompile(s,d),u=X.acquireProgram(s,l),r.program=u,r.uniforms=s.uniforms,r.outputEncoding=s.outputEncoding);var f=u.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var p=0;p<d.maxMorphTargets;p++)f["morphTarget"+p]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(var m=0;m<d.maxMorphNormals;m++)f["morphNormal"+m]>=0&&e.numSupportedMorphNormals++}var v=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(r.numClippingPlanes=N.numPlanes,r.numIntersection=N.numIntersection,v.clippingPlanes=N.uniform),r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=a,r.needsLights&&(v.ambientLightColor.value=i.state.ambient,v.lightProbe.value=i.state.probe,v.directionalLights.value=i.state.directional,v.directionalLightShadows.value=i.state.directionalShadow,v.spotLights.value=i.state.spot,v.spotLightShadows.value=i.state.spotShadow,v.rectAreaLights.value=i.state.rectArea,v.pointLights.value=i.state.point,v.pointLightShadows.value=i.state.pointShadow,v.hemisphereLights.value=i.state.hemi,v.directionalShadowMap.value=i.state.directionalShadowMap,v.directionalShadowMatrix.value=i.state.directionalShadowMatrix,v.spotShadowMap.value=i.state.spotShadowMap,v.spotShadowMatrix.value=i.state.spotShadowMatrix,v.pointShadowMap.value=i.state.pointShadowMap,v.pointShadowMatrix.value=i.state.pointShadowMatrix);var g=r.program.getUniforms(),y=os.seqWithValue(g.seq,v);r.uniformsList=y}function Me(e,t,n,r){!0!==t.isScene&&(t=F),Q.resetTextureUnits();var i=t.fog,o=n.isMeshStandardMaterial?t.environment:null,a=null===y?d.outputEncoding:y.texture.encoding,s=G.get(n),l=h.state.lights;if(!0===j&&(!0===P||e!==w)){var u=e===w&&n.id===b;N.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,s,u)}n.version===s.__version?void 0===s.program?Ae(n,t,r):n.fog&&s.fog!==i?Ae(n,t,r):s.environment!==o?Ae(n,t,r):s.needsLights&&s.lightsStateVersion!==l.state.version?Ae(n,t,r):void 0===s.numClippingPlanes||s.numClippingPlanes===N.numPlanes&&s.numIntersection===N.numIntersection?s.outputEncoding!==a&&Ae(n,t,r):Ae(n,t,r):(Ae(n,t,r),s.__version=n.version);var c,f,p=!1,m=!1,v=!1,g=s.program,_=g.getUniforms(),x=s.uniforms;if(B.useProgram(g.program)&&(p=!0,m=!0,v=!0),n.id!==b&&(b=n.id,m=!0),p||w!==e){if(_.setValue(le,"projectionMatrix",e.projectionMatrix),V.logarithmicDepthBuffer&&_.setValue(le,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),w!==e&&(w=e,m=!0,v=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){var A=_.map.cameraPosition;void 0!==A&&A.setValue(le,$.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&_.setValue(le,"isOrthographic",!0===e.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||n.skinning)&&_.setValue(le,"viewMatrix",e.matrixWorldInverse)}if(n.skinning){_.setOptional(le,r,"bindMatrix"),_.setOptional(le,r,"bindMatrixInverse");var M=r.skeleton;if(M){var S=M.bones;if(V.floatVertexTextures){if(void 0===M.boneTexture){var C=Math.sqrt(4*S.length);C=Qn.ceilPowerOfTwo(C),C=Math.max(C,4);var T=new Float32Array(C*C*4);T.set(M.boneMatrices);var L=new Ro(T,C,C,Ge,Re);M.boneMatrices=T,M.boneTexture=L,M.boneTextureSize=C}_.setValue(le,"boneTexture",M.boneTexture,Q),_.setValue(le,"boneTextureSize",M.boneTextureSize)}else _.setOptional(le,M,"boneMatrices")}}return(m||s.receiveShadow!==r.receiveShadow)&&(s.receiveShadow=r.receiveShadow,_.setValue(le,"receiveShadow",r.receiveShadow)),m&&(_.setValue(le,"toneMappingExposure",d.toneMappingExposure),s.needsLights&&(f=v,(c=x).ambientLightColor.needsUpdate=f,c.lightProbe.needsUpdate=f,c.directionalLights.needsUpdate=f,c.directionalLightShadows.needsUpdate=f,c.pointLights.needsUpdate=f,c.pointLightShadows.needsUpdate=f,c.spotLights.needsUpdate=f,c.spotLightShadows.needsUpdate=f,c.rectAreaLights.needsUpdate=f,c.hemisphereLights.needsUpdate=f),i&&n.fog&&J.refreshFogUniforms(x,i),J.refreshMaterialUniforms(x,n,o,I,E),void 0!==x.ltc_1&&(x.ltc_1.value=Uo.LTC_1),void 0!==x.ltc_2&&(x.ltc_2.value=Uo.LTC_2),os.upload(le,s.uniformsList,x,Q)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(os.upload(le,s.uniformsList,x,Q),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&_.setValue(le,"center",r.center),_.setValue(le,"modelViewMatrix",r.modelViewMatrix),_.setValue(le,"normalMatrix",r.normalMatrix),_.setValue(le,"modelMatrix",r.matrixWorld),g}be.setAnimationLoop(function(e){de.isPresenting||_e&&_e(e)}),"undefined"!==typeof window&&be.setContext(window),this.setAnimationLoop=function(e){_e=e,de.setAnimationLoop(e),null===e?be.stop():be.start()},this.render=function(e,t){var n,r;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),r=arguments[3]),void 0===t||!0===t.isCamera){if(!0!==p){se.resetDefaultState(),b=-1,w=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),!0===de.enabled&&!0===de.isPresenting&&(t=de.getCamera(t)),!0===e.isScene&&e.onBeforeRender(d,e,t,n||y),(h=ee.get(e,t)).init(),R.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),O.setFromProjectionMatrix(R),P=this.localClippingEnabled,j=N.init(this.clippingPlanes,P,t),(f=Z.get(e,t)).init(),function e(t,n,r,i){if(!1===t.visible)return;var o=t.layers.test(n.layers);if(o)if(t.isGroup)r=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(n);else if(t.isLight)h.pushLight(t),t.castShadow&&h.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||O.intersectsSprite(t)){i&&$.setFromMatrixPosition(t.matrixWorld).applyMatrix4(R);var a=Y.update(t),s=t.material;s.visible&&f.push(t,a,s,r,$.z,null)}}else if(t.isImmediateRenderObject)i&&$.setFromMatrixPosition(t.matrixWorld).applyMatrix4(R),f.push(t,null,t.material,r,$.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.frame!==H.render.frame&&(t.skeleton.update(),t.skeleton.frame=H.render.frame),!t.frustumCulled||O.intersectsObject(t))){i&&$.setFromMatrixPosition(t.matrixWorld).applyMatrix4(R);var l=Y.update(t),u=t.material;if(Array.isArray(u))for(var c=l.groups,d=0,p=c.length;d<p;d++){var m=c[d],v=u[m.materialIndex];v&&v.visible&&f.push(t,l,v,r,$.z,m)}else u.visible&&f.push(t,l,u,r,$.z,null)}var g=t.children;for(var y=0,_=g.length;y<_;y++)e(g[y],n,r,i)}(e,t,0,d.sortObjects),f.finish(),!0===d.sortObjects&&f.sort(T,L),!0===j&&N.beginShadows();var i=h.state.shadowsArray;pe.render(i,e,t),h.setupLights(t),!0===j&&N.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),te.render(f,e,t,r);var o=f.opaque,a=f.transparent;o.length>0&&we(o,e,t),a.length>0&&we(a,e,t),!0===e.isScene&&e.onAfterRender(d,e,t),null!==y&&(Q.updateRenderTargetMipmap(y),Q.updateMultisampleRenderTarget(y)),B.buffers.depth.setTest(!0),B.buffers.depth.setMask(!0),B.buffers.color.setMask(!0),B.setPolygonOffset(!1),f=null,h=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(e){m!==e&&null===y&&le.bindFramebuffer(36160,e),m=e},this.getActiveCubeFace=function(){return v},this.getActiveMipmapLevel=function(){return g},this.getRenderTarget=function(){return y},this.setRenderTarget=function(e,t,n){y=e,v=t,g=n,e&&void 0===G.get(e).__webglFramebuffer&&Q.setupRenderTarget(e);var r=m,i=!1;if(e){var o=G.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(r=o[t||0],i=!0):r=e.isWebGLMultisampleRenderTarget?G.get(e).__webglMultisampledFramebuffer:o,A.copy(e.viewport),M.copy(e.scissor),S=e.scissorTest}else A.copy(z).multiplyScalar(I).floor(),M.copy(k).multiplyScalar(I).floor(),S=D;if(_!==r&&(le.bindFramebuffer(36160,r),_=r),B.viewport(A),B.scissor(M),B.setScissorTest(S),i){var a=G.get(e.texture);le.framebufferTexture2D(36160,36064,34069+(t||0),a.__webglTexture,n||0)}},this.readRenderTargetPixels=function(e,t,n,r,i,o,a){if(e&&e.isWebGLRenderTarget){var s=G.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==a&&(s=s[a]),s){var l=!1;s!==_&&(le.bindFramebuffer(36160,s),l=!0);try{var u=e.texture,c=u.format,f=u.type;if(c!==Ge&&oe.convert(c)!==le.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(f!==ke&&oe.convert(f)!==le.getParameter(35738)&&(f!==Re||!(V.isWebGL2||U.get("OES_texture_float")||U.get("WEBGL_color_buffer_float")))&&(f!==$e||(V.isWebGL2?!U.get("EXT_color_buffer_float"):!U.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===le.checkFramebufferStatus(36160)?t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&le.readPixels(t,n,r,i,oe.convert(c),oe.convert(f),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{l&&le.bindFramebuffer(36160,_)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t,n){void 0===n&&(n=0);var r=Math.pow(2,-n),i=Math.floor(t.image.width*r),o=Math.floor(t.image.height*r),a=oe.convert(t.format);Q.setTexture2D(t,0),le.copyTexImage2D(3553,n,a,e.x,e.y,i,o,0),B.unbindTexture()},this.copyTextureToTexture=function(e,t,n,r){void 0===r&&(r=0);var i=t.image.width,o=t.image.height,a=oe.convert(n.format),s=oe.convert(n.type);Q.setTexture2D(n,0),le.pixelStorei(37440,n.flipY),le.pixelStorei(37441,n.premultiplyAlpha),le.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?le.texSubImage2D(3553,r,e.x,e.y,i,o,a,s,t.image.data):t.isCompressedTexture?le.compressedTexSubImage2D(3553,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,a,t.mipmaps[0].data):le.texSubImage2D(3553,r,e.x,e.y,a,s,t.image),0===r&&n.generateMipmaps&&le.generateMipmap(3553),B.unbindTexture()},this.initTexture=function(e){Q.setTexture2D(e,0),B.unbindTexture()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Js(e){Xs.call(this,e)}function Zs(e,t){this.name="",this.color=new xi(e),this.density=void 0!==t?t:25e-5}function el(e,t,n){this.name="",this.color=new xi(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}function tl(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=Dn,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Qn.generateUUID()}Gs.prototype=Object.assign(Object.create(Do.prototype),{constructor:Gs,isArrayCamera:!0}),Qs.prototype=Object.assign(Object.create(zr.prototype),{constructor:Qs,isGroup:!0}),Object.assign(qs.prototype,{constructor:qs,getHandSpace:function(){if(null===this._hand&&(this._hand=new Qs,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints=[],this._hand.inputState={pinching:!1},window.XRHand))for(var e=0;e<=window.XRHand.LITTLE_PHALANX_TIP;e++){var t=new Qs;t.matrixAutoUpdate=!1,t.visible=!1,this._hand.joints.push(t),this._hand.add(t)}return this._hand},getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new Qs,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new Qs,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this},disconnect:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this},update:function(e,t,n){var r=null,i=null,o=null,a=this._targetRay,s=this._grip,l=this._hand;if(e)if(e.hand){o=!0;for(var u=0;u<=window.XRHand.LITTLE_PHALANX_TIP;u++)if(e.hand[u]){var c=t.getJointPose(e.hand[u],n),f=l.joints[u];null!==c&&(f.matrix.fromArray(c.transform.matrix),f.matrix.decompose(f.position,f.rotation,f.scale),f.jointRadius=c.radius),f.visible=null!==c;var h=l.joints[window.XRHand.INDEX_PHALANX_TIP],d=l.joints[window.XRHand.THUMB_PHALANX_TIP],p=h.position.distanceTo(d.position);l.inputState.pinching&&p>.025?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&p<=.015&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}}else null!==a&&null!==(r=t.getPose(e.targetRaySpace,n))&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale)),null!==s&&e.gripSpace&&null!==(i=t.getPose(e.gripSpace,n))&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale));return null!==a&&(a.visible=null!==r),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==o),this}}),Object.assign(Ws.prototype,Un.prototype),Js.prototype=Object.assign(Object.create(Xs.prototype),{constructor:Js,isWebGL1Renderer:!0}),Object.assign(Zs.prototype,{isFogExp2:!0,clone:function(){return new Zs(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),Object.assign(el.prototype,{isFog:!0,clone:function(){return new el(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Object.defineProperty(tl.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(tl.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Qn.generateUUID()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new tl(new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),this.stride);return t.setUsage(this.usage),t},onUpload:function(e){return this.onUploadCallback=e,this},toJSON:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Qn.generateUUID()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});var nl,rl=new or;function il(e,t,n,r){this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}function ol(e){Ii.call(this),this.type="SpriteMaterial",this.color=new xi(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}Object.defineProperties(il.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(e){this.data.needsUpdate=e}}}),Object.assign(il.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(var t=0,n=this.data.count;t<n;t++)rl.x=this.getX(t),rl.y=this.getY(t),rl.z=this.getZ(t),rl.applyMatrix4(e),this.setXYZ(t,rl.x,rl.y,rl.z);return this},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this},clone:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[r+i]);return new ki(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new il(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[r+i]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}),ol.prototype=Object.create(Ii.prototype),ol.prototype.constructor=ol,ol.prototype.isSpriteMaterial=!0,ol.prototype.copy=function(e){return Ii.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};var al=new or,sl=new or,ll=new or,ul=new qn,cl=new qn,fl=new dr,hl=new or,dl=new or,pl=new or,ml=new qn,vl=new qn,gl=new qn;function yl(e){if(zr.call(this),this.type="Sprite",void 0===nl){nl=new Xi;var t=new tl(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);nl.setIndex([0,1,2,0,2,3]),nl.setAttribute("position",new il(t,3,0,!1)),nl.setAttribute("uv",new il(t,2,3,!1))}this.geometry=nl,this.material=void 0!==e?e:new ol,this.center=new qn(.5,.5)}function _l(e,t,n,r,i,o){ul.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(cl.x=o*ul.x-i*ul.y,cl.y=i*ul.x+o*ul.y):cl.copy(ul),e.copy(t),e.x+=cl.x,e.y+=cl.y,e.applyMatrix4(fl)}yl.prototype=Object.assign(Object.create(zr.prototype),{constructor:yl,isSprite:!0,raycast:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),sl.setFromMatrixScale(this.matrixWorld),fl.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ll.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&sl.multiplyScalar(-ll.z);var n,r,i=this.material.rotation;0!==i&&(r=Math.cos(i),n=Math.sin(i));var o=this.center;_l(hl.set(-.5,-.5,0),ll,o,sl,n,r),_l(dl.set(.5,-.5,0),ll,o,sl,n,r),_l(pl.set(.5,.5,0),ll,o,sl,n,r),ml.set(0,0),vl.set(1,0),gl.set(1,1);var a=e.ray.intersectTriangle(hl,dl,pl,!1,al);if(null!==a||(_l(dl.set(-.5,.5,0),ll,o,sl,n,r),vl.set(0,1),null!==(a=e.ray.intersectTriangle(hl,pl,dl,!1,al)))){var s=e.ray.origin.distanceTo(al);s<e.near||s>e.far||t.push({distance:s,point:al.clone(),uv:yi.getUV(al,hl,dl,pl,ml,vl,gl,new qn),face:null,object:this})}},copy:function(e){return zr.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}});var bl=new or,wl=new or;function xl(){zr.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function Al(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),vo.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new dr,this.bindMatrixInverse=new dr}xl.prototype=Object.assign(Object.create(zr.prototype),{constructor:xl,isLOD:!0,copy:function(e){zr.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,r=t.length;n<r;n++){var i=t[n];this.addLevel(i.object.clone(),i.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);var n,r=this.levels;for(n=0;n<r.length&&!(t<r[n].distance);n++);return r.splice(n,0,{distance:t,object:e}),this.add(e),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(e){var t=this.levels;if(t.length>0){var n,r;for(n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object}return null},raycast:function(e,t){if(this.levels.length>0){bl.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(bl);this.getObjectForDistance(n).raycast(e,t)}},update:function(e){var t=this.levels;if(t.length>1){bl.setFromMatrixPosition(e.matrixWorld),wl.setFromMatrixPosition(this.matrixWorld);var n,r,i=bl.distanceTo(wl)/e.zoom;for(t[0].object.visible=!0,n=1,r=t.length;n<r&&i>=t[n].distance;n++)t[n-1].object.visible=!1,t[n].object.visible=!0;for(this._currentLevel=n-1;n<r;n++)t[n].object.visible=!1}},toJSON:function(e){var t=zr.prototype.toJSON.call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var o=n[r];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}),Al.prototype=Object.assign(Object.create(vo.prototype),{constructor:Al,isSkinnedMesh:!0,copy:function(e){return vo.prototype.copy.call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this},bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new Zn,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){vo.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(){var e=new or,t=new Zn,n=new Zn,r=new or,i=new dr;return function(o,a){var s=this.skeleton,l=this.geometry;t.fromBufferAttribute(l.attributes.skinIndex,o),n.fromBufferAttribute(l.attributes.skinWeight,o),e.fromBufferAttribute(l.attributes.position,o).applyMatrix4(this.bindMatrix),a.set(0,0,0);for(var u=0;u<4;u++){var c=n.getComponent(u);if(0!==c){var f=t.getComponent(u);i.multiplyMatrices(s.bones[f].matrixWorld,s.boneInverses[f]),a.addScaledVector(r.copy(e).applyMatrix4(i),c)}}return a.applyMatrix4(this.bindMatrixInverse)}}()});var Ml=new dr,Sl=new dr;function Cl(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),this.frame=-1,void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new dr)}}function El(){zr.call(this),this.type="Bone"}Object.assign(Cl.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new dr;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){for(var e=0,t=this.bones.length;e<t;e++){var n=this.bones[e];n&&n.matrixWorld.getInverse(this.boneInverses[e])}for(var r=0,i=this.bones.length;r<i;r++){var o=this.bones[r];o&&(o.parent&&o.parent.isBone?(o.matrix.getInverse(o.parent.matrixWorld),o.matrix.multiply(o.matrixWorld)):o.matrix.copy(o.matrixWorld),o.matrix.decompose(o.position,o.quaternion,o.scale))}},update:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,o=e.length;i<o;i++){var a=e[i]?e[i].matrixWorld:Sl;Ml.multiplyMatrices(a,t[i]),Ml.toArray(n,16*i)}void 0!==r&&(r.needsUpdate=!0)},clone:function(){return new Cl(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}},dispose:function(){this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=void 0)}}),El.prototype=Object.assign(Object.create(zr.prototype),{constructor:El,isBone:!0});var Il=new dr,Tl=new dr,Ll=[],zl=new vo;function kl(e,t,n){vo.call(this,e,t),this.instanceMatrix=new ki(new Float32Array(16*n),16),this.count=n,this.frustumCulled=!1}function Dl(e){Ii.call(this),this.type="LineBasicMaterial",this.color=new xi(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(e)}kl.prototype=Object.assign(Object.create(vo.prototype),{constructor:kl,isInstancedMesh:!0,copy:function(e){return vo.prototype.copy.call(this,e),this.instanceMatrix.copy(e.instanceMatrix),this.count=e.count,this},getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)},raycast:function(e,t){var n=this.matrixWorld,r=this.count;if(zl.geometry=this.geometry,zl.material=this.material,void 0!==zl.material)for(var i=0;i<r;i++){this.getMatrixAt(i,Il),Tl.multiplyMatrices(n,Il),zl.matrixWorld=Tl,zl.raycast(e,Ll);for(var o=0,a=Ll.length;o<a;o++){var s=Ll[o];s.instanceId=i,s.object=this,t.push(s)}Ll.length=0}},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,16*e)},updateMorphTargets:function(){}}),Dl.prototype=Object.create(Ii.prototype),Dl.prototype.constructor=Dl,Dl.prototype.isLineBasicMaterial=!0,Dl.prototype.copy=function(e){return Ii.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this};var Ol=new or,Nl=new or,jl=new dr,Pl=new ri,Rl=new Wr;function $l(e,t,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),zr.call(this),this.type="Line",this.geometry=void 0!==e?e:new Xi,this.material=void 0!==t?t:new Dl,this.updateMorphTargets()}$l.prototype=Object.assign(Object.create(zr.prototype),{constructor:$l,isLine:!0,copy:function(e){return zr.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)Ol.fromBufferAttribute(t,r-1),Nl.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=Ol.distanceTo(Nl);e.setAttribute("lineDistance",new Fi(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var o=e.vertices,a=e.lineDistances;a[0]=0;for(var s=1,l=o.length;s<l;s++)a[s]=a[s-1],a[s]+=o[s-1].distanceTo(o[s])}return this},raycast:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),Rl.copy(n.boundingSphere),Rl.applyMatrix4(r),Rl.radius+=i,!1!==e.ray.intersectsSphere(Rl)){jl.getInverse(r),Pl.copy(e.ray).applyMatrix4(jl);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o,s=new or,l=new or,u=new or,c=new or,f=this&&this.isLineSegments?2:1;if(n.isBufferGeometry){var h=n.index,d=n.attributes.position.array;if(null!==h)for(var p=h.array,m=0,v=p.length-1;m<v;m+=f){var g=p[m],y=p[m+1];if(s.fromArray(d,3*g),l.fromArray(d,3*y),!(Pl.distanceSqToSegment(s,l,c,u)>a)){c.applyMatrix4(this.matrixWorld);var _=e.ray.origin.distanceTo(c);_<e.near||_>e.far||t.push({distance:_,point:u.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this})}}else for(var b=0,w=d.length/3-1;b<w;b+=f){if(s.fromArray(d,3*b),l.fromArray(d,3*b+3),!(Pl.distanceSqToSegment(s,l,c,u)>a)){c.applyMatrix4(this.matrixWorld);var x=e.ray.origin.distanceTo(c);x<e.near||x>e.far||t.push({distance:x,point:u.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}else if(n.isGeometry)for(var A=n.vertices,M=A.length,S=0;S<M-1;S+=f){if(!(Pl.distanceSqToSegment(A[S],A[S+1],c,u)>a)){c.applyMatrix4(this.matrixWorld);var C=e.ray.origin.distanceTo(c);C<e.near||C>e.far||t.push({distance:C,point:u.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}}},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,o=r.length;i<o;i++){var a=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});var Fl=new or,Kl=new or;function Ul(e,t){$l.call(this,e,t),this.type="LineSegments"}function Vl(e,t){$l.call(this,e,t),this.type="LineLoop"}function Bl(e){Ii.call(this),this.type="PointsMaterial",this.color=new xi(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}Ul.prototype=Object.assign(Object.create($l.prototype),{constructor:Ul,isLineSegments:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)Fl.fromBufferAttribute(t,r),Kl.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+Fl.distanceTo(Kl);e.setAttribute("lineDistance",new Fi(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry)for(var o=e.vertices,a=e.lineDistances,s=0,l=o.length;s<l;s+=2)Fl.copy(o[s]),Kl.copy(o[s+1]),a[s]=0===s?0:a[s-1],a[s+1]=a[s]+Fl.distanceTo(Kl);return this}}),Vl.prototype=Object.assign(Object.create($l.prototype),{constructor:Vl,isLineLoop:!0}),Bl.prototype=Object.create(Ii.prototype),Bl.prototype.constructor=Bl,Bl.prototype.isPointsMaterial=!0,Bl.prototype.copy=function(e){return Ii.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};var Hl=new dr,Gl=new ri,Ql=new Wr,ql=new or;function Wl(e,t){zr.call(this),this.type="Points",this.geometry=void 0!==e?e:new Xi,this.material=void 0!==t?t:new Bl,this.updateMorphTargets()}function Yl(e,t,n,r,i,o,a){var s=Gl.distanceSqToPoint(e);if(s<n){var l=new or;Gl.closestPointToPoint(e,l),l.applyMatrix4(r);var u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;o.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:t,face:null,object:a})}}function Xl(e,t,n,r,i,o,a,s,l){Jn.call(this,e,t,n,r,i,o,a,s,l),this.format=void 0!==a?a:He,this.minFilter=void 0!==o?o:Ee,this.magFilter=void 0!==i?i:Ee,this.generateMipmaps=!1;var u=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(function t(){u.needsUpdate=!0,e.requestVideoFrameCallback(t)})}function Jl(e,t,n,r,i,o,a,s,l,u,c,f){Jn.call(this,null,o,a,s,l,u,r,i,c,f),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function Zl(e,t,n,r,i,o,a,s,l){Jn.call(this,e,t,n,r,i,o,a,s,l),this.needsUpdate=!0}function eu(e,t,n,r,i,o,a,s,l,u){if((u=void 0!==u?u:Ye)!==Ye&&u!==Xe)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&u===Ye&&(n=Ne),void 0===n&&u===Xe&&(n=Ve),Jn.call(this,null,r,i,o,a,s,u,n,l),this.image={width:e,height:t},this.magFilter=void 0!==a?a:xe,this.minFilter=void 0!==s?s:xe,this.flipY=!1,this.generateMipmaps=!1}function tu(e){Xi.call(this),this.type="WireframeGeometry";var t=[],n=[0,0],r={},i=["a","b","c"];if(e&&e.isGeometry){for(var o=e.faces,a=0,s=o.length;a<s;a++)for(var l=o[a],u=0;u<3;u++){var c=l[i[u]],f=l[i[(u+1)%3]];n[0]=Math.min(c,f),n[1]=Math.max(c,f);var h=n[0]+","+n[1];void 0===r[h]&&(r[h]={index1:n[0],index2:n[1]})}for(var d in r){var p=r[d],m=e.vertices[p.index1];t.push(m.x,m.y,m.z),m=e.vertices[p.index2],t.push(m.x,m.y,m.z)}}else if(e&&e.isBufferGeometry){var v=new or;if(null!==e.index){var g=e.attributes.position,y=e.index,_=e.groups;0===_.length&&(_=[{start:0,count:y.count,materialIndex:0}]);for(var b=0,w=_.length;b<w;++b)for(var x=_[b],A=x.start,M=A,S=A+x.count;M<S;M+=3)for(var C=0;C<3;C++){var E=y.getX(M+C),I=y.getX(M+(C+1)%3);n[0]=Math.min(E,I),n[1]=Math.max(E,I);var T=n[0]+","+n[1];void 0===r[T]&&(r[T]={index1:n[0],index2:n[1]})}for(var L in r){var z=r[L];v.fromBufferAttribute(g,z.index1),t.push(v.x,v.y,v.z),v.fromBufferAttribute(g,z.index2),t.push(v.x,v.y,v.z)}}else for(var k=e.attributes.position,D=0,O=k.count/3;D<O;D++)for(var N=0;N<3;N++){var j=3*D+N;v.fromBufferAttribute(k,j),t.push(v.x,v.y,v.z);var P=3*D+(N+1)%3;v.fromBufferAttribute(k,P),t.push(v.x,v.y,v.z)}}this.setAttribute("position",new Fi(t,3))}function nu(e,t,n){Ao.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new ru(e,t,n)),this.mergeVertices()}function ru(e,t,n){Xi.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var r=[],i=[],o=[],a=[],s=new or,l=new or,u=new or,c=new or,f=new or;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");for(var h=t+1,d=0;d<=n;d++)for(var p=d/n,m=0;m<=t;m++){var v=m/t;e(v,p,l),i.push(l.x,l.y,l.z),v-1e-5>=0?(e(v-1e-5,p,u),c.subVectors(l,u)):(e(v+1e-5,p,u),c.subVectors(u,l)),p-1e-5>=0?(e(v,p-1e-5,u),f.subVectors(l,u)):(e(v,p+1e-5,u),f.subVectors(u,l)),s.crossVectors(c,f).normalize(),o.push(s.x,s.y,s.z),a.push(v,p)}for(var g=0;g<n;g++)for(var y=0;y<t;y++){var _=g*h+y,b=g*h+y+1,w=(g+1)*h+y+1,x=(g+1)*h+y;r.push(_,b,x),r.push(b,w,x)}this.setIndex(r),this.setAttribute("position",new Fi(i,3)),this.setAttribute("normal",new Fi(o,3)),this.setAttribute("uv",new Fi(a,2))}function iu(e,t,n,r){Ao.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},this.fromBufferGeometry(new ou(e,t,n,r)),this.mergeVertices()}function ou(e,t,n,r){Xi.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},n=n||1;var i=[],o=[];function a(e,t,n,r){for(var i=Math.pow(2,r),o=[],a=0;a<=i;a++){o[a]=[];for(var l=e.clone().lerp(n,a/i),u=t.clone().lerp(n,a/i),c=i-a,f=0;f<=c;f++)o[a][f]=0===f&&a===i?l:l.clone().lerp(u,f/c)}for(var h=0;h<i;h++)for(var d=0;d<2*(i-h)-1;d++){var p=Math.floor(d/2);d%2===0?(s(o[h][p+1]),s(o[h+1][p]),s(o[h][p])):(s(o[h][p+1]),s(o[h+1][p+1]),s(o[h+1][p]))}}function s(e){i.push(e.x,e.y,e.z)}function l(t,n){var r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function u(e,t,n,r){r<0&&1===e.x&&(o[t]=e.x-1),0===n.x&&0===n.z&&(o[t]=r/2/Math.PI+.5)}function c(e){return Math.atan2(e.z,-e.x)}!function(e){for(var n=new or,r=new or,i=new or,o=0;o<t.length;o+=3)l(t[o+0],n),l(t[o+1],r),l(t[o+2],i),a(n,r,i,e)}(r=r||0),function(e){for(var t=new or,n=0;n<i.length;n+=3)t.x=i[n+0],t.y=i[n+1],t.z=i[n+2],t.normalize().multiplyScalar(e),i[n+0]=t.x,i[n+1]=t.y,i[n+2]=t.z}(n),function(){for(var e=new or,t=0;t<i.length;t+=3){e.x=i[t+0],e.y=i[t+1],e.z=i[t+2];var n=c(e)/2/Math.PI+.5,r=(a=e,Math.atan2(-a.y,Math.sqrt(a.x*a.x+a.z*a.z))/Math.PI+.5);o.push(n,1-r)}var a;(function(){for(var e=new or,t=new or,n=new or,r=new or,a=new qn,s=new qn,l=new qn,f=0,h=0;f<i.length;f+=9,h+=6){e.set(i[f+0],i[f+1],i[f+2]),t.set(i[f+3],i[f+4],i[f+5]),n.set(i[f+6],i[f+7],i[f+8]),a.set(o[h+0],o[h+1]),s.set(o[h+2],o[h+3]),l.set(o[h+4],o[h+5]),r.copy(e).add(t).add(n).divideScalar(3);var d=c(r);u(a,h+0,e,d),u(s,h+2,t,d),u(l,h+4,n,d)}})(),function(){for(var e=0;e<o.length;e+=6){var t=o[e+0],n=o[e+2],r=o[e+4],i=Math.max(t,n,r),a=Math.min(t,n,r);i>.9&&a<.1&&(t<.2&&(o[e+0]+=1),n<.2&&(o[e+2]+=1),r<.2&&(o[e+4]+=1))}}()}(),this.setAttribute("position",new Fi(i,3)),this.setAttribute("normal",new Fi(i.slice(),3)),this.setAttribute("uv",new Fi(o,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}function au(e,t){Ao.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new su(e,t)),this.mergeVertices()}function su(e,t){ou.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function lu(e,t){Ao.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new uu(e,t)),this.mergeVertices()}function uu(e,t){ou.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function cu(e,t){Ao.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new fu(e,t)),this.mergeVertices()}function fu(e,t){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1];ou.call(this,r,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function hu(e,t){Ao.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new du(e,t)),this.mergeVertices()}function du(e,t){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r];ou.call(this,i,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function pu(e,t,n,r,i,o){Ao.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new mu(e,t,n,r,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function mu(e,t,n,r,i){Xi.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},t=t||64,n=n||1,r=r||8,i=i||!1;var o=e.computeFrenetFrames(t,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;var a=new or,s=new or,l=new qn,u=new or,c=[],f=[],h=[],d=[];function p(i){u=e.getPointAt(i/t,u);for(var l=o.normals[i],h=o.binormals[i],d=0;d<=r;d++){var p=d/r*Math.PI*2,m=Math.sin(p),v=-Math.cos(p);s.x=v*l.x+m*h.x,s.y=v*l.y+m*h.y,s.z=v*l.z+m*h.z,s.normalize(),f.push(s.x,s.y,s.z),a.x=u.x+n*s.x,a.y=u.y+n*s.y,a.z=u.z+n*s.z,c.push(a.x,a.y,a.z)}}!function(){for(var e=0;e<t;e++)p(e);p(!1===i?t:0),function(){for(var e=0;e<=t;e++)for(var n=0;n<=r;n++)l.x=e/t,l.y=n/r,h.push(l.x,l.y)}(),function(){for(var e=1;e<=t;e++)for(var n=1;n<=r;n++){var i=(r+1)*(e-1)+(n-1),o=(r+1)*e+(n-1),a=(r+1)*e+n,s=(r+1)*(e-1)+n;d.push(i,o,s),d.push(o,a,s)}}()}(),this.setIndex(d),this.setAttribute("position",new Fi(c,3)),this.setAttribute("normal",new Fi(f,3)),this.setAttribute("uv",new Fi(h,2))}function vu(e,t,n,r,i,o,a){Ao.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new gu(e,t,n,r,i,o)),this.mergeVertices()}function gu(e,t,n,r,i,o){Xi.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},e=e||1,t=t||.4,n=Math.floor(n)||64,r=Math.floor(r)||8,i=i||2,o=o||3;for(var a=[],s=[],l=[],u=[],c=new or,f=new or,h=new or,d=new or,p=new or,m=new or,v=new or,g=0;g<=n;++g){var y=g/n*i*Math.PI*2;T(y,i,o,e,h),T(y+.01,i,o,e,d),m.subVectors(d,h),v.addVectors(d,h),p.crossVectors(m,v),v.crossVectors(p,m),p.normalize(),v.normalize();for(var _=0;_<=r;++_){var b=_/r*Math.PI*2,w=-t*Math.cos(b),x=t*Math.sin(b);c.x=h.x+(w*v.x+x*p.x),c.y=h.y+(w*v.y+x*p.y),c.z=h.z+(w*v.z+x*p.z),s.push(c.x,c.y,c.z),f.subVectors(c,h).normalize(),l.push(f.x,f.y,f.z),u.push(g/n),u.push(_/r)}}for(var A=1;A<=n;A++)for(var M=1;M<=r;M++){var S=(r+1)*(A-1)+(M-1),C=(r+1)*A+(M-1),E=(r+1)*A+M,I=(r+1)*(A-1)+M;a.push(S,C,I),a.push(C,E,I)}function T(e,t,n,r,i){var o=Math.cos(e),a=Math.sin(e),s=n/t*e,l=Math.cos(s);i.x=r*(2+l)*.5*o,i.y=r*(2+l)*a*.5,i.z=r*Math.sin(s)*.5}this.setIndex(a),this.setAttribute("position",new Fi(s,3)),this.setAttribute("normal",new Fi(l,3)),this.setAttribute("uv",new Fi(u,2))}function yu(e,t,n,r,i){Ao.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new _u(e,t,n,r,i)),this.mergeVertices()}function _u(e,t,n,r,i){Xi.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},e=e||1,t=t||.4,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;for(var o=[],a=[],s=[],l=[],u=new or,c=new or,f=new or,h=0;h<=n;h++)for(var d=0;d<=r;d++){var p=d/r*i,m=h/n*Math.PI*2;c.x=(e+t*Math.cos(m))*Math.cos(p),c.y=(e+t*Math.cos(m))*Math.sin(p),c.z=t*Math.sin(m),a.push(c.x,c.y,c.z),u.x=e*Math.cos(p),u.y=e*Math.sin(p),f.subVectors(c,u).normalize(),s.push(f.x,f.y,f.z),l.push(d/r),l.push(h/n)}for(var v=1;v<=n;v++)for(var g=1;g<=r;g++){var y=(r+1)*v+g-1,_=(r+1)*(v-1)+g-1,b=(r+1)*(v-1)+g,w=(r+1)*v+g;o.push(y,_,w),o.push(_,b,w)}this.setIndex(o),this.setAttribute("position",new Fi(a,3)),this.setAttribute("normal",new Fi(s,3)),this.setAttribute("uv",new Fi(l,2))}Wl.prototype=Object.assign(Object.create(zr.prototype),{constructor:Wl,isPoints:!0,copy:function(e){return zr.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},raycast:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),Ql.copy(n.boundingSphere),Ql.applyMatrix4(r),Ql.radius+=i,!1!==e.ray.intersectsSphere(Ql)){Hl.getInverse(r),Gl.copy(e.ray).applyMatrix4(Hl);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o;if(n.isBufferGeometry){var s=n.index,l=n.attributes.position.array;if(null!==s)for(var u=s.array,c=0,f=u.length;c<f;c++){var h=u[c];ql.fromArray(l,3*h),Yl(ql,h,a,r,e,t,this)}else for(var d=0,p=l.length/3;d<p;d++)ql.fromArray(l,3*d),Yl(ql,d,a,r,e,t,this)}else for(var m=n.vertices,v=0,g=m.length;v<g;v++)Yl(m[v],v,a,r,e,t,this)}},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,o=r.length;i<o;i++){var a=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}),Xl.prototype=Object.assign(Object.create(Jn.prototype),{constructor:Xl,isVideoTexture:!0,update:function(){var e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),Jl.prototype=Object.create(Jn.prototype),Jl.prototype.constructor=Jl,Jl.prototype.isCompressedTexture=!0,Zl.prototype=Object.create(Jn.prototype),Zl.prototype.constructor=Zl,Zl.prototype.isCanvasTexture=!0,eu.prototype=Object.create(Jn.prototype),eu.prototype.constructor=eu,eu.prototype.isDepthTexture=!0,tu.prototype=Object.create(Xi.prototype),tu.prototype.constructor=tu,nu.prototype=Object.create(Ao.prototype),nu.prototype.constructor=nu,ru.prototype=Object.create(Xi.prototype),ru.prototype.constructor=ru,iu.prototype=Object.create(Ao.prototype),iu.prototype.constructor=iu,ou.prototype=Object.create(Xi.prototype),ou.prototype.constructor=ou,au.prototype=Object.create(Ao.prototype),au.prototype.constructor=au,su.prototype=Object.create(ou.prototype),su.prototype.constructor=su,lu.prototype=Object.create(Ao.prototype),lu.prototype.constructor=lu,uu.prototype=Object.create(ou.prototype),uu.prototype.constructor=uu,cu.prototype=Object.create(Ao.prototype),cu.prototype.constructor=cu,fu.prototype=Object.create(ou.prototype),fu.prototype.constructor=fu,hu.prototype=Object.create(Ao.prototype),hu.prototype.constructor=hu,du.prototype=Object.create(ou.prototype),du.prototype.constructor=du,pu.prototype=Object.create(Ao.prototype),pu.prototype.constructor=pu,mu.prototype=Object.create(Xi.prototype),mu.prototype.constructor=mu,mu.prototype.toJSON=function(){var e=Xi.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e},vu.prototype=Object.create(Ao.prototype),vu.prototype.constructor=vu,gu.prototype=Object.create(Xi.prototype),gu.prototype.constructor=gu,yu.prototype=Object.create(Ao.prototype),yu.prototype.constructor=yu,_u.prototype=Object.create(Xi.prototype),_u.prototype.constructor=_u;var bu=function(e,t,n){n=n||2;var r,i,o,a,s,l,u,c=t&&t.length,f=c?t[0]*n:e.length,h=wu(e,0,f,n,!0),d=[];if(!h||h.next===h.prev)return d;if(c&&(h=function(e,t,n,r){var i,o,a,s,l,u=[];for(i=0,o=t.length;i<o;i++)a=t[i]*r,s=i<o-1?t[i+1]*r:e.length,(l=wu(e,a,s,r,!1))===l.next&&(l.steiner=!0),u.push(ku(l));for(u.sort(Iu),i=0;i<u.length;i++)Tu(u[i],n),n=xu(n,n.next);return n}(e,t,h,n)),e.length>80*n){r=o=e[0],i=a=e[1];for(var p=n;p<f;p+=n)(s=e[p])<r&&(r=s),(l=e[p+1])<i&&(i=l),s>o&&(o=s),l>a&&(a=l);u=0!==(u=Math.max(o-r,a-i))?1/u:0}return Au(h,d,n,r,i,u),d};function wu(e,t,n,r,i){var o,a;if(i===function(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}(e,t,n,r)>0)for(o=t;o<n;o+=r)a=Uu(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=Uu(o,e[o],e[o+1],a);return a&&ju(a,a.next)&&(Vu(a),a=a.next),a}function xu(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!ju(r,r.next)&&0!==Nu(r.prev,r,r.next))r=r.next;else{if(Vu(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function Au(e,t,n,r,i,o,a){if(e){!a&&o&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=zu(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,l,u=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<u&&(s++,r=r.nextZ);t++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(a>1)}(i)}(e,r,i,o);for(var s,l,u=e;e.prev!==e.next;)if(s=e.prev,l=e.next,o?Su(e,r,i,o):Mu(e))t.push(s.i/n),t.push(e.i/n),t.push(l.i/n),Vu(e),e=l.next,u=l.next;else if((e=l)===u){a?1===a?Au(e=Cu(xu(e),t,n),t,n,r,i,o,2):2===a&&Eu(e,t,n,r,i,o):Au(xu(e),t,n,r,i,o,1);break}}}function Mu(e){var t=e.prev,n=e,r=e.next;if(Nu(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(Du(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Nu(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Su(e,t,n,r){var i=e.prev,o=e,a=e.next;if(Nu(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,l=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,u=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,f=zu(s,l,t,n,r),h=zu(u,c,t,n,r),d=e.prevZ,p=e.nextZ;d&&d.z>=f&&p&&p.z<=h;){if(d!==e.prev&&d!==e.next&&Du(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Nu(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,p!==e.prev&&p!==e.next&&Du(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&Nu(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;d&&d.z>=f;){if(d!==e.prev&&d!==e.next&&Du(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Nu(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;p&&p.z<=h;){if(p!==e.prev&&p!==e.next&&Du(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&Nu(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function Cu(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!ju(i,o)&&Pu(i,r,r.next,o)&&Fu(i,o)&&Fu(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),Vu(r),Vu(r.next),r=e=o),r=r.next}while(r!==e);return xu(r)}function Eu(e,t,n,r,i,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Ou(a,s)){var l=Ku(a,s);return a=xu(a,a.next),l=xu(l,l.next),Au(a,t,n,r,i,o),void Au(l,t,n,r,i,o)}s=s.next}a=a.next}while(a!==e)}function Iu(e,t){return e.x-t.x}function Tu(e,t){if(t=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n;var l,u=n,c=n.x,f=n.y,h=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&Du(o<f?i:a,o,c,f,o<f?a:i,o,r.x,r.y)&&(l=Math.abs(o-r.y)/(i-r.x),Fu(r,e)&&(l<h||l===h&&(r.x>n.x||r.x===n.x&&Lu(n,r)))&&(n=r,h=l)),r=r.next}while(r!==u);return n}(e,t)){var n=Ku(t,e);xu(t,t.next),xu(n,n.next)}}function Lu(e,t){return Nu(e.prev,e,t.prev)<0&&Nu(t.next,e,e.next)<0}function zu(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function ku(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Du(e,t,n,r,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function Ou(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Pu(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Fu(e,t)&&Fu(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(Nu(e.prev,e,t.prev)||Nu(e,t.prev,t))||ju(e,t)&&Nu(e.prev,e,e.next)>0&&Nu(t.prev,t,t.next)>0)}function Nu(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function ju(e,t){return e.x===t.x&&e.y===t.y}function Pu(e,t,n,r){var i=$u(Nu(e,t,n)),o=$u(Nu(e,t,r)),a=$u(Nu(n,r,e)),s=$u(Nu(n,r,t));return i!==o&&a!==s||(!(0!==i||!Ru(e,n,t))||(!(0!==o||!Ru(e,r,t))||(!(0!==a||!Ru(n,e,r))||!(0!==s||!Ru(n,t,r)))))}function Ru(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function $u(e){return e>0?1:e<0?-1:0}function Fu(e,t){return Nu(e.prev,e,e.next)<0?Nu(e,t,e.next)>=0&&Nu(e,e.prev,t)>=0:Nu(e,t,e.prev)<0||Nu(e,e.next,t)<0}function Ku(e,t){var n=new Bu(e.i,e.x,e.y),r=new Bu(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Uu(e,t,n,r){var i=new Bu(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Vu(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Bu(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var Hu={area:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n},isClockWise:function(e){return Hu.area(e)<0},triangulateShape:function(e,t){var n=[],r=[],i=[];Gu(e),Qu(n,e);var o=e.length;t.forEach(Gu);for(var a=0;a<t.length;a++)r.push(o),o+=t[a].length,Qu(n,t[a]);for(var s=bu(n,r),l=0;l<s.length;l+=3)i.push(s.slice(l,l+3));return i}};function Gu(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Qu(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}function qu(e,t){Ao.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new Wu(e,t)),this.mergeVertices()}function Wu(e,t){Xi.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];for(var n=this,r=[],i=[],o=0,a=e.length;o<a;o++){s(e[o])}function s(e){var o=[],a=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1,l=void 0!==t.depth?t.depth:100,u=void 0===t.bevelEnabled||t.bevelEnabled,c=void 0!==t.bevelThickness?t.bevelThickness:6,f=void 0!==t.bevelSize?t.bevelSize:c-2,h=void 0!==t.bevelOffset?t.bevelOffset:0,d=void 0!==t.bevelSegments?t.bevelSegments:3,p=t.extrudePath,m=void 0!==t.UVGenerator?t.UVGenerator:Yu;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),l=t.amount);var v,g,y,_,b,w=!1;p&&(v=p.getSpacedPoints(s),w=!0,u=!1,g=p.computeFrenetFrames(s,!1),y=new or,_=new or,b=new or),u||(d=0,c=0,f=0,h=0);var x=e.extractPoints(a),A=x.shape,M=x.holes;if(!Hu.isClockWise(A)){A=A.reverse();for(var S=0,C=M.length;S<C;S++){var E=M[S];Hu.isClockWise(E)&&(M[S]=E.reverse())}}for(var I=Hu.triangulateShape(A,M),T=A,L=0,z=M.length;L<z;L++){var k=M[L];A=A.concat(k)}function D(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var O=A.length,N=I.length;function j(e,t,n){var r,i,o,a=e.x-t.x,s=e.y-t.y,l=n.x-e.x,u=n.y-e.y,c=a*a+s*s,f=a*u-s*l;if(Math.abs(f)>Number.EPSILON){var h=Math.sqrt(c),d=Math.sqrt(l*l+u*u),p=t.x-s/h,m=t.y+a/h,v=((n.x-u/d-p)*u-(n.y+l/d-m)*l)/(a*u-s*l),g=(r=p+a*v-e.x)*r+(i=m+s*v-e.y)*i;if(g<=2)return new qn(r,i);o=Math.sqrt(g/2)}else{var y=!1;a>Number.EPSILON?l>Number.EPSILON&&(y=!0):a<-Number.EPSILON?l<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(u)&&(y=!0),y?(r=-s,i=a,o=Math.sqrt(c)):(r=a,i=s,o=Math.sqrt(c/2))}return new qn(r/o,i/o)}for(var P=[],R=0,$=T.length,F=$-1,K=R+1;R<$;R++,F++,K++)F===$&&(F=0),K===$&&(K=0),P[R]=j(T[R],T[F],T[K]);for(var U,V=[],B=P.concat(),H=0,G=M.length;H<G;H++){var Q=M[H];U=[];for(var q=0,W=Q.length,Y=W-1,X=q+1;q<W;q++,Y++,X++)Y===W&&(Y=0),X===W&&(X=0),U[q]=j(Q[q],Q[Y],Q[X]);V.push(U),B=B.concat(U)}for(var J=0;J<d;J++){for(var Z=J/d,ee=c*Math.cos(Z*Math.PI/2),te=f*Math.sin(Z*Math.PI/2)+h,ne=0,re=T.length;ne<re;ne++){var ie=D(T[ne],P[ne],te);ze(ie.x,ie.y,-ee)}for(var oe=0,ae=M.length;oe<ae;oe++){var se=M[oe];U=V[oe];for(var le=0,ue=se.length;le<ue;le++){var ce=D(se[le],U[le],te);ze(ce.x,ce.y,-ee)}}}for(var fe=f+h,he=0;he<O;he++){var de=u?D(A[he],B[he],fe):A[he];w?(_.copy(g.normals[0]).multiplyScalar(de.x),y.copy(g.binormals[0]).multiplyScalar(de.y),b.copy(v[0]).add(_).add(y),ze(b.x,b.y,b.z)):ze(de.x,de.y,0)}for(var pe=1;pe<=s;pe++)for(var me=0;me<O;me++){var ve=u?D(A[me],B[me],fe):A[me];w?(_.copy(g.normals[pe]).multiplyScalar(ve.x),y.copy(g.binormals[pe]).multiplyScalar(ve.y),b.copy(v[pe]).add(_).add(y),ze(b.x,b.y,b.z)):ze(ve.x,ve.y,l/s*pe)}for(var ge=d-1;ge>=0;ge--){for(var ye=ge/d,_e=c*Math.cos(ye*Math.PI/2),be=f*Math.sin(ye*Math.PI/2)+h,we=0,xe=T.length;we<xe;we++){var Ae=D(T[we],P[we],be);ze(Ae.x,Ae.y,l+_e)}for(var Me=0,Se=M.length;Me<Se;Me++){var Ce=M[Me];U=V[Me];for(var Ee=0,Ie=Ce.length;Ee<Ie;Ee++){var Te=D(Ce[Ee],U[Ee],be);w?ze(Te.x,Te.y+v[s-1].y,v[s-1].x+_e):ze(Te.x,Te.y,l+_e)}}}function Le(e,t){for(var n=e.length;--n>=0;){var r=n,i=n-1;i<0&&(i=e.length-1);for(var o=0,a=s+2*d;o<a;o++){var l=O*o,u=O*(o+1);De(t+r+l,t+i+l,t+i+u,t+r+u)}}}function ze(e,t,n){o.push(e),o.push(t),o.push(n)}function ke(e,t,i){Oe(e),Oe(t),Oe(i);var o=r.length/3,a=m.generateTopUV(n,r,o-3,o-2,o-1);Ne(a[0]),Ne(a[1]),Ne(a[2])}function De(e,t,i,o){Oe(e),Oe(t),Oe(o),Oe(t),Oe(i),Oe(o);var a=r.length/3,s=m.generateSideWallUV(n,r,a-6,a-3,a-2,a-1);Ne(s[0]),Ne(s[1]),Ne(s[3]),Ne(s[1]),Ne(s[2]),Ne(s[3])}function Oe(e){r.push(o[3*e+0]),r.push(o[3*e+1]),r.push(o[3*e+2])}function Ne(e){i.push(e.x),i.push(e.y)}!function(){var e=r.length/3;if(u){for(var t=0,i=O*t,o=0;o<N;o++){var a=I[o];ke(a[2]+i,a[1]+i,a[0]+i)}i=O*(t=s+2*d);for(var l=0;l<N;l++){var c=I[l];ke(c[0]+i,c[1]+i,c[2]+i)}}else{for(var f=0;f<N;f++){var h=I[f];ke(h[2],h[1],h[0])}for(var p=0;p<N;p++){var m=I[p];ke(m[0]+O*s,m[1]+O*s,m[2]+O*s)}}n.addGroup(e,r.length/3-e,0)}(),function(){var e=r.length/3,t=0;Le(T,t),t+=T.length;for(var i=0,o=M.length;i<o;i++){var a=M[i];Le(a,t),t+=a.length}n.addGroup(e,r.length/3-e,1)}()}this.setAttribute("position",new Fi(r,3)),this.setAttribute("uv",new Fi(i,2)),this.computeVertexNormals()}qu.prototype=Object.create(Ao.prototype),qu.prototype.constructor=qu,qu.prototype.toJSON=function(){var e=Ao.prototype.toJSON.call(this);return Xu(this.parameters.shapes,this.parameters.options,e)},Wu.prototype=Object.create(Xi.prototype),Wu.prototype.constructor=Wu,Wu.prototype.toJSON=function(){var e=Xi.prototype.toJSON.call(this);return Xu(this.parameters.shapes,this.parameters.options,e)};var Yu={generateTopUV:function(e,t,n,r,i){var o=t[3*n],a=t[3*n+1],s=t[3*r],l=t[3*r+1],u=t[3*i],c=t[3*i+1];return[new qn(o,a),new qn(s,l),new qn(u,c)]},generateSideWallUV:function(e,t,n,r,i,o){var a=t[3*n],s=t[3*n+1],l=t[3*n+2],u=t[3*r],c=t[3*r+1],f=t[3*r+2],h=t[3*i],d=t[3*i+1],p=t[3*i+2],m=t[3*o],v=t[3*o+1],g=t[3*o+2];return Math.abs(s-c)<.01?[new qn(a,1-l),new qn(u,1-f),new qn(h,1-p),new qn(m,1-g)]:[new qn(s,1-l),new qn(c,1-f),new qn(d,1-p),new qn(v,1-g)]}};function Xu(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var o=e[r];n.shapes.push(o.uuid)}else n.shapes.push(e.uuid);return void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}function Ju(e,t){Ao.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new Zu(e,t)),this.mergeVertices()}function Zu(e,t){var n=(t=t||{}).font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Ao;var r=n.generateShapes(e,t.size);t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),Wu.call(this,r,t),this.type="TextBufferGeometry"}function ec(e,t,n,r,i,o,a){Ao.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new tc(e,t,n,r,i,o,a)),this.mergeVertices()}function tc(e,t,n,r,i,o,a){Xi.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI,o=void 0!==o?o:0,a=void 0!==a?a:Math.PI;for(var s=Math.min(o+a,Math.PI),l=0,u=[],c=new or,f=new or,h=[],d=[],p=[],m=[],v=0;v<=n;v++){var g=[],y=v/n,_=0;0==v&&0==o?_=.5/t:v==n&&s==Math.PI&&(_=-.5/t);for(var b=0;b<=t;b++){var w=b/t;c.x=-e*Math.cos(r+w*i)*Math.sin(o+y*a),c.y=e*Math.cos(o+y*a),c.z=e*Math.sin(r+w*i)*Math.sin(o+y*a),d.push(c.x,c.y,c.z),f.copy(c).normalize(),p.push(f.x,f.y,f.z),m.push(w+_,1-y),g.push(l++)}u.push(g)}for(var x=0;x<n;x++)for(var A=0;A<t;A++){var M=u[x][A+1],S=u[x][A],C=u[x+1][A],E=u[x+1][A+1];(0!==x||o>0)&&h.push(M,S,E),(x!==n-1||s<Math.PI)&&h.push(S,C,E)}this.setIndex(h),this.setAttribute("position",new Fi(d,3)),this.setAttribute("normal",new Fi(p,3)),this.setAttribute("uv",new Fi(m,2))}function nc(e,t,n,r,i,o){Ao.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new rc(e,t,n,r,i,o)),this.mergeVertices()}function rc(e,t,n,r,i,o){Xi.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},e=e||.5,t=t||1,i=void 0!==i?i:0,o=void 0!==o?o:2*Math.PI,n=void 0!==n?Math.max(3,n):8;for(var a=[],s=[],l=[],u=[],c=e,f=(t-e)/(r=void 0!==r?Math.max(1,r):1),h=new or,d=new qn,p=0;p<=r;p++){for(var m=0;m<=n;m++){var v=i+m/n*o;h.x=c*Math.cos(v),h.y=c*Math.sin(v),s.push(h.x,h.y,h.z),l.push(0,0,1),d.x=(h.x/t+1)/2,d.y=(h.y/t+1)/2,u.push(d.x,d.y)}c+=f}for(var g=0;g<r;g++)for(var y=g*(n+1),_=0;_<n;_++){var b=_+y,w=b,x=b+n+1,A=b+n+2,M=b+1;a.push(w,x,M),a.push(x,A,M)}this.setIndex(a),this.setAttribute("position",new Fi(s,3)),this.setAttribute("normal",new Fi(l,3)),this.setAttribute("uv",new Fi(u,2))}function ic(e,t,n,r){Ao.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},this.fromBufferGeometry(new oc(e,t,n,r)),this.mergeVertices()}function oc(e,t,n,r){Xi.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t)||12,n=n||0,r=r||2*Math.PI,r=Qn.clamp(r,0,2*Math.PI);for(var i=[],o=[],a=[],s=1/t,l=new or,u=new qn,c=0;c<=t;c++)for(var f=n+c*s*r,h=Math.sin(f),d=Math.cos(f),p=0;p<=e.length-1;p++)l.x=e[p].x*h,l.y=e[p].y,l.z=e[p].x*d,o.push(l.x,l.y,l.z),u.x=c/t,u.y=p/(e.length-1),a.push(u.x,u.y);for(var m=0;m<t;m++)for(var v=0;v<e.length-1;v++){var g=v+m*e.length,y=g,_=g+e.length,b=g+e.length+1,w=g+1;i.push(y,_,w),i.push(_,b,w)}if(this.setIndex(i),this.setAttribute("position",new Fi(o,3)),this.setAttribute("uv",new Fi(a,2)),this.computeVertexNormals(),r===2*Math.PI)for(var x=this.attributes.normal.array,A=new or,M=new or,S=new or,C=t*e.length*3,E=0,I=0;E<e.length;E++,I+=3)A.x=x[I+0],A.y=x[I+1],A.z=x[I+2],M.x=x[C+I+0],M.y=x[C+I+1],M.z=x[C+I+2],S.addVectors(A,M).normalize(),x[I+0]=x[C+I+0]=S.x,x[I+1]=x[C+I+1]=S.y,x[I+2]=x[C+I+2]=S.z}function ac(e,t){Ao.call(this),this.type="ShapeGeometry","object"===typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new sc(e,t)),this.mergeVertices()}function sc(e,t){Xi.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var n=[],r=[],i=[],o=[],a=0,s=0;if(!1===Array.isArray(e))u(e);else for(var l=0;l<e.length;l++)u(e[l]),this.addGroup(a,s,l),a+=s,s=0;function u(e){var a=r.length/3,l=e.extractPoints(t),u=l.shape,c=l.holes;!1===Hu.isClockWise(u)&&(u=u.reverse());for(var f=0,h=c.length;f<h;f++){var d=c[f];!0===Hu.isClockWise(d)&&(c[f]=d.reverse())}for(var p=Hu.triangulateShape(u,c),m=0,v=c.length;m<v;m++){var g=c[m];u=u.concat(g)}for(var y=0,_=u.length;y<_;y++){var b=u[y];r.push(b.x,b.y,0),i.push(0,0,1),o.push(b.x,b.y)}for(var w=0,x=p.length;w<x;w++){var A=p[w],M=A[0]+a,S=A[1]+a,C=A[2]+a;n.push(M,S,C),s+=3}}this.setIndex(n),this.setAttribute("position",new Fi(r,3)),this.setAttribute("normal",new Fi(i,3)),this.setAttribute("uv",new Fi(o,2))}function lc(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}function uc(e,t){Xi.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1;var n,r,i,o,a=[],s=Math.cos(Qn.DEG2RAD*t),l=[0,0],u={},c=["a","b","c"];e.isBufferGeometry?(o=new Ao).fromBufferGeometry(e):o=e.clone(),o.mergeVertices(),o.computeFaceNormals();for(var f=o.vertices,h=o.faces,d=0,p=h.length;d<p;d++)for(var m=h[d],v=0;v<3;v++)n=m[c[v]],r=m[c[(v+1)%3]],l[0]=Math.min(n,r),l[1]=Math.max(n,r),void 0===u[i=l[0]+","+l[1]]?u[i]={index1:l[0],index2:l[1],face1:d,face2:void 0}:u[i].face2=d;for(i in u){var g=u[i];if(void 0===g.face2||h[g.face1].normal.dot(h[g.face2].normal)<=s){var y=f[g.index1];a.push(y.x,y.y,y.z),y=f[g.index2],a.push(y.x,y.y,y.z)}}this.setAttribute("position",new Fi(a,3))}function cc(e,t,n,r,i,o,a,s){Ao.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new fc(e,t,n,r,i,o,a,s)),this.mergeVertices()}function fc(e,t,n,r,i,o,a,s){Xi.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s};var l=this;e=void 0!==e?e:1,t=void 0!==t?t:1,n=n||1,r=Math.floor(r)||8,i=Math.floor(i)||1,o=void 0!==o&&o,a=void 0!==a?a:0,s=void 0!==s?s:2*Math.PI;var u=[],c=[],f=[],h=[],d=0,p=[],m=n/2,v=0;function g(n){var i,o,p=new qn,g=new or,y=0,_=!0===n?e:t,b=!0===n?1:-1;i=d;for(var w=1;w<=r;w++)c.push(0,m*b,0),f.push(0,b,0),h.push(.5,.5),d++;o=d;for(var x=0;x<=r;x++){var A=x/r*s+a,M=Math.cos(A),S=Math.sin(A);g.x=_*S,g.y=m*b,g.z=_*M,c.push(g.x,g.y,g.z),f.push(0,b,0),p.x=.5*M+.5,p.y=.5*S*b+.5,h.push(p.x,p.y),d++}for(var C=0;C<r;C++){var E=i+C,I=o+C;!0===n?u.push(I,I+1,E):u.push(I+1,I,E),y+=3}l.addGroup(v,y,!0===n?1:2),v+=y}!function(){for(var o=new or,g=new or,y=0,_=(t-e)/n,b=0;b<=i;b++){for(var w=[],x=b/i,A=x*(t-e)+e,M=0;M<=r;M++){var S=M/r,C=S*s+a,E=Math.sin(C),I=Math.cos(C);g.x=A*E,g.y=-x*n+m,g.z=A*I,c.push(g.x,g.y,g.z),o.set(E,_,I).normalize(),f.push(o.x,o.y,o.z),h.push(S,1-x),w.push(d++)}p.push(w)}for(var T=0;T<r;T++)for(var L=0;L<i;L++){var z=p[L][T],k=p[L+1][T],D=p[L+1][T+1],O=p[L][T+1];u.push(z,k,O),u.push(k,D,O),y+=6}l.addGroup(v,y,0),v+=y}(),!1===o&&(e>0&&g(!0),t>0&&g(!1)),this.setIndex(u),this.setAttribute("position",new Fi(c,3)),this.setAttribute("normal",new Fi(f,3)),this.setAttribute("uv",new Fi(h,2))}function hc(e,t,n,r,i,o,a){cc.call(this,0,e,t,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function dc(e,t,n,r,i,o,a){fc.call(this,0,e,t,n,r,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function pc(e,t,n,r){Ao.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new mc(e,t,n,r)),this.mergeVertices()}function mc(e,t,n,r){Xi.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},e=e||1,t=void 0!==t?Math.max(3,t):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var i=[],o=[],a=[],s=[],l=new or,u=new qn;o.push(0,0,0),a.push(0,0,1),s.push(.5,.5);for(var c=0,f=3;c<=t;c++,f+=3){var h=n+c/t*r;l.x=e*Math.cos(h),l.y=e*Math.sin(h),o.push(l.x,l.y,l.z),a.push(0,0,1),u.x=(o[f]/e+1)/2,u.y=(o[f+1]/e+1)/2,s.push(u.x,u.y)}for(var d=1;d<=t;d++)i.push(d,d+1,0);this.setIndex(i),this.setAttribute("position",new Fi(o,3)),this.setAttribute("normal",new Fi(a,3)),this.setAttribute("uv",new Fi(s,2))}Ju.prototype=Object.create(Ao.prototype),Ju.prototype.constructor=Ju,Zu.prototype=Object.create(Wu.prototype),Zu.prototype.constructor=Zu,ec.prototype=Object.create(Ao.prototype),ec.prototype.constructor=ec,tc.prototype=Object.create(Xi.prototype),tc.prototype.constructor=tc,nc.prototype=Object.create(Ao.prototype),nc.prototype.constructor=nc,rc.prototype=Object.create(Xi.prototype),rc.prototype.constructor=rc,ic.prototype=Object.create(Ao.prototype),ic.prototype.constructor=ic,oc.prototype=Object.create(Xi.prototype),oc.prototype.constructor=oc,ac.prototype=Object.create(Ao.prototype),ac.prototype.constructor=ac,ac.prototype.toJSON=function(){var e=Ao.prototype.toJSON.call(this);return lc(this.parameters.shapes,e)},sc.prototype=Object.create(Xi.prototype),sc.prototype.constructor=sc,sc.prototype.toJSON=function(){var e=Xi.prototype.toJSON.call(this);return lc(this.parameters.shapes,e)},uc.prototype=Object.create(Xi.prototype),uc.prototype.constructor=uc,cc.prototype=Object.create(Ao.prototype),cc.prototype.constructor=cc,fc.prototype=Object.create(Xi.prototype),fc.prototype.constructor=fc,hc.prototype=Object.create(cc.prototype),hc.prototype.constructor=hc,dc.prototype=Object.create(fc.prototype),dc.prototype.constructor=dc,pc.prototype=Object.create(Ao.prototype),pc.prototype.constructor=pc,mc.prototype=Object.create(Xi.prototype),mc.prototype.constructor=mc;var vc=Object.freeze({__proto__:null,WireframeGeometry:tu,ParametricGeometry:nu,ParametricBufferGeometry:ru,TetrahedronGeometry:au,TetrahedronBufferGeometry:su,OctahedronGeometry:lu,OctahedronBufferGeometry:uu,IcosahedronGeometry:cu,IcosahedronBufferGeometry:fu,DodecahedronGeometry:hu,DodecahedronBufferGeometry:du,PolyhedronGeometry:iu,PolyhedronBufferGeometry:ou,TubeGeometry:pu,TubeBufferGeometry:mu,TorusKnotGeometry:vu,TorusKnotBufferGeometry:gu,TorusGeometry:yu,TorusBufferGeometry:_u,TextGeometry:Ju,TextBufferGeometry:Zu,SphereGeometry:ec,SphereBufferGeometry:tc,RingGeometry:nc,RingBufferGeometry:rc,PlaneGeometry:Ho,PlaneBufferGeometry:Go,LatheGeometry:ic,LatheBufferGeometry:oc,ShapeGeometry:ac,ShapeBufferGeometry:sc,ExtrudeGeometry:qu,ExtrudeBufferGeometry:Wu,EdgesGeometry:uc,ConeGeometry:hc,ConeBufferGeometry:dc,CylinderGeometry:cc,CylinderBufferGeometry:fc,CircleGeometry:pc,CircleBufferGeometry:mc,BoxGeometry:Mo,BoxBufferGeometry:So});function gc(e){Ii.call(this),this.type="ShadowMaterial",this.color=new xi(0),this.transparent=!0,this.setValues(e)}function yc(e){zo.call(this,e),this.type="RawShaderMaterial"}function _c(e){Ii.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new xi(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=mn,this.normalScale=new qn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(e)}function bc(e){_c.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new qn(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(e)}function wc(e){Ii.call(this),this.type="MeshPhongMaterial",this.color=new xi(16777215),this.specular=new xi(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=mn,this.normalScale=new qn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=re,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function xc(e){Ii.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new xi(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=mn,this.normalScale=new qn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Ac(e){Ii.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=mn,this.normalScale=new qn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Mc(e){Ii.call(this),this.type="MeshLambertMaterial",this.color=new xi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=re,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Sc(e){Ii.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new xi(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=mn,this.normalScale=new qn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Cc(e){Dl.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}gc.prototype=Object.create(Ii.prototype),gc.prototype.constructor=gc,gc.prototype.isShadowMaterial=!0,gc.prototype.copy=function(e){return Ii.prototype.copy.call(this,e),this.color.copy(e.color),this},yc.prototype=Object.create(zo.prototype),yc.prototype.constructor=yc,yc.prototype.isRawShaderMaterial=!0,_c.prototype=Object.create(Ii.prototype),_c.prototype.constructor=_c,_c.prototype.isMeshStandardMaterial=!0,_c.prototype.copy=function(e){return Ii.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.vertexTangents=e.vertexTangents,this},bc.prototype=Object.create(_c.prototype),bc.prototype.constructor=bc,bc.prototype.isMeshPhysicalMaterial=!0,bc.prototype.copy=function(e){return _c.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new xi).copy(e.sheen):this.sheen=null,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this},wc.prototype=Object.create(Ii.prototype),wc.prototype.constructor=wc,wc.prototype.isMeshPhongMaterial=!0,wc.prototype.copy=function(e){return Ii.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},xc.prototype=Object.create(Ii.prototype),xc.prototype.constructor=xc,xc.prototype.isMeshToonMaterial=!0,xc.prototype.copy=function(e){return Ii.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Ac.prototype=Object.create(Ii.prototype),Ac.prototype.constructor=Ac,Ac.prototype.isMeshNormalMaterial=!0,Ac.prototype.copy=function(e){return Ii.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Mc.prototype=Object.create(Ii.prototype),Mc.prototype.constructor=Mc,Mc.prototype.isMeshLambertMaterial=!0,Mc.prototype.copy=function(e){return Ii.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Sc.prototype=Object.create(Ii.prototype),Sc.prototype.constructor=Sc,Sc.prototype.isMeshMatcapMaterial=!0,Sc.prototype.copy=function(e){return Ii.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Cc.prototype=Object.create(Dl.prototype),Cc.prototype.constructor=Cc,Cc.prototype.isLineDashedMaterial=!0,Cc.prototype.copy=function(e){return Dl.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var Ec=Object.freeze({__proto__:null,ShadowMaterial:gc,SpriteMaterial:ol,RawShaderMaterial:yc,ShaderMaterial:zo,PointsMaterial:Bl,MeshPhysicalMaterial:bc,MeshStandardMaterial:_c,MeshPhongMaterial:wc,MeshToonMaterial:xc,MeshNormalMaterial:Ac,MeshLambertMaterial:Mc,MeshDepthMaterial:Rs,MeshDistanceMaterial:$s,MeshBasicMaterial:Ti,MeshMatcapMaterial:Sc,LineDashedMaterial:Cc,LineBasicMaterial:Dl,Material:Ii}),Ic={arraySlice:function(e,t,n){return Ic.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort(function(t,n){return e[t]-e[n]}),n},sortedArray:function(e,t,n){for(var r=e.length,i=new e.constructor(r),o=0,a=0;a!==r;++o)for(var s=n[o]*t,l=0;l!==t;++l)i[a++]=e[s+l];return i},flattenJSON:function(e,t,n,r){for(var i=1,o=e[0];void 0!==o&&void 0===o[r];)o=e[i++];if(void 0!==o){var a=o[r];if(void 0!==a)if(Array.isArray(a))do{void 0!==(a=o[r])&&(t.push(o.time),n.push.apply(n,a)),o=e[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{void 0!==(a=o[r])&&(t.push(o.time),a.toArray(n,n.length)),o=e[i++]}while(void 0!==o);else do{void 0!==(a=o[r])&&(t.push(o.time),n.push(a)),o=e[i++]}while(void 0!==o)}},subclip:function(e,t,n,r,i){i=i||30;var o=e.clone();o.name=t;for(var a=[],s=0;s<o.tracks.length;++s){for(var l=o.tracks[s],u=l.getValueSize(),c=[],f=[],h=0;h<l.times.length;++h){var d=l.times[h]*i;if(!(d<n||d>=r)){c.push(l.times[h]);for(var p=0;p<u;++p)f.push(l.values[h*u+p])}}0!==c.length&&(l.times=Ic.convertArray(c,l.times.constructor),l.values=Ic.convertArray(f,l.values.constructor),a.push(l))}o.tracks=a;for(var m=1/0,v=0;v<o.tracks.length;++v)m>o.tracks[v].times[0]&&(m=o.tracks[v].times[0]);for(var g=0;g<o.tracks.length;++g)o.tracks[g].shift(-1*m);return o.resetDuration(),o},makeClipAdditive:function(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=e),(void 0===r||r<=0)&&(r=30);for(var i=e.tracks.length,o=t/r,a=function(t){var r=n.tracks[t],i=r.ValueTypeName;if("bool"===i||"string"===i)return"continue";var a=e.tracks.find(function(e){return e.name===r.name&&e.ValueTypeName===i});if(void 0===a)return"continue";var s=r.getValueSize(),l=r.times.length-1,u=void 0;if(o<=r.times[0])u=Ic.arraySlice(r.values,0,r.valueSize);else if(o>=r.times[l]){var c=l*s;u=Ic.arraySlice(r.values,c)}else{var f=r.createInterpolant();f.evaluate(o),u=f.resultBuffer}"quaternion"===i&&new nr(u[0],u[1],u[2],u[3]).normalize().conjugate().toArray(u);for(var h=a.times.length,d=0;d<h;++d){var p=d*s;if("quaternion"===i)nr.multiplyQuaternionsFlat(a.values,p,u,0,a.values,p);else for(var m=0;m<s;++m)a.values[p+m]-=u[m]}},s=0;s<i;++s)a(s);return e.blendMode=en,e}};function Tc(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function Lc(e,t,n,r){Tc.call(this,e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function zc(e,t,n,r){Tc.call(this,e,t,n,r)}function kc(e,t,n,r){Tc.call(this,e,t,n,r)}function Dc(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ic.convertArray(t,this.TimeBufferType),this.values=Ic.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function Oc(e,t,n){Dc.call(this,e,t,n)}function Nc(e,t,n,r){Dc.call(this,e,t,n,r)}function jc(e,t,n,r){Dc.call(this,e,t,n,r)}function Pc(e,t,n,r){Tc.call(this,e,t,n,r)}function Rc(e,t,n,r){Dc.call(this,e,t,n,r)}function $c(e,t,n,r){Dc.call(this,e,t,n,r)}function Fc(e,t,n,r){Dc.call(this,e,t,n,r)}function Kc(e,t,n,r){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.blendMode=void 0!==r?r:Zt,this.uuid=Qn.generateUUID(),this.duration<0&&this.resetDuration()}function Uc(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return jc;case"vector":case"vector2":case"vector3":case"vector4":return Fc;case"color":return Nc;case"quaternion":return Rc;case"bool":case"boolean":return Oc;case"string":return $c}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];Ic.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(Tc.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var o;n:{r:if(!(e<r)){for(var a=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,i)}if(n===a)break;if(i=r,e<(r=t[++n]))break t}o=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(var l=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===l)break;if(r=i,e>=(i=t[--n-1]))break t}o=n,n=0}for(;n<o;){var u=n+o>>>1;e<t[u]?o=u:n=u+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,o=0;o!==r;++o)t[o]=n[i+o];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(Tc.prototype,{beforeStart_:Tc.prototype.copySampleValue_,afterEnd_:Tc.prototype.copySampleValue_}),Lc.prototype=Object.assign(Object.create(Tc.prototype),{constructor:Lc,DefaultSettings_:{endingStart:Yt,endingEnd:Yt},intervalChanged_:function(e,t,n){var r=this.parameterPositions,i=e-2,o=e+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case Xt:i=e,a=2*t-n;break;case Jt:a=t+r[i=r.length-2]-r[i+1];break;default:i=e,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case Xt:o=e,s=2*n-t;break;case Jt:o=1,s=n+r[1]-r[0];break;default:o=e-1,s=t}var l=.5*(n-t),u=this.valueSize;this._weightPrev=l/(t-a),this._weightNext=l/(s-n),this._offsetPrev=i*u,this._offsetNext=o*u},interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,u=this._offsetPrev,c=this._offsetNext,f=this._weightPrev,h=this._weightNext,d=(n-t)/(r-t),p=d*d,m=p*d,v=-f*m+2*f*p-f*d,g=(1+f)*m+(-1.5-2*f)*p+(-.5+f)*d+1,y=(-1-h)*m+(1.5+h)*p+.5*d,_=h*m-h*p,b=0;b!==a;++b)i[b]=v*o[u+b]+g*o[l+b]+y*o[s+b]+_*o[c+b];return i}}),zc.prototype=Object.assign(Object.create(Tc.prototype),{constructor:zc,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,u=(n-t)/(r-t),c=1-u,f=0;f!==a;++f)i[f]=o[l+f]*c+o[s+f]*u;return i}}),kc.prototype=Object.assign(Object.create(Tc.prototype),{constructor:kc,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(Dc,{toJSON:function(e){var t,n=e.constructor;if(void 0!==n.toJSON)t=n.toJSON(e);else{t={name:e.name,times:Ic.convertArray(e.times,Array),values:Ic.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}),Object.assign(Dc.prototype,{constructor:Dc,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:qt,InterpolantFactoryMethodDiscrete:function(e){return new kc(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new zc(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Lc(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case Qt:t=this.InterpolantFactoryMethodDiscrete;break;case qt:t=this.InterpolantFactoryMethodLinear;break;case Wt:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Qt;case this.InterpolantFactoryMethodLinear:return qt;case this.InterpolantFactoryMethodSmooth:return Wt}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,r=n.length,i=0,o=r-1;i!==r&&n[i]<e;)++i;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==i||o!==r){i>=o&&(i=(o=Math.max(o,1))-1);var a=this.getValueSize();this.times=Ic.arraySlice(n,i,o),this.values=Ic.arraySlice(this.values,i*a,o*a)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var o=null,a=0;a!==i;a++){var s=n[a];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,s),e=!1;break}if(null!==o&&o>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,s,o),e=!1;break}o=s}if(void 0!==r&&Ic.isTypedArray(r))for(var l=0,u=r.length;l!==u;++l){var c=r[l];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,c),e=!1;break}}return e},optimize:function(){for(var e=Ic.arraySlice(this.times),t=Ic.arraySlice(this.values),n=this.getValueSize(),r=this.getInterpolation()===Wt,i=e.length-1,o=1,a=1;a<i;++a){var s=!1,l=e[a];if(l!==e[a+1]&&(1!==a||l!==l[0]))if(r)s=!0;else for(var u=a*n,c=u-n,f=u+n,h=0;h!==n;++h){var d=t[u+h];if(d!==t[c+h]||d!==t[f+h]){s=!0;break}}if(s){if(a!==o){e[o]=e[a];for(var p=a*n,m=o*n,v=0;v!==n;++v)t[m+v]=t[p+v]}++o}}if(i>0){e[o]=e[i];for(var g=i*n,y=o*n,_=0;_!==n;++_)t[y+_]=t[g+_];++o}return o!==e.length?(this.times=Ic.arraySlice(e,0,o),this.values=Ic.arraySlice(t,0,o*n)):(this.times=e,this.values=t),this},clone:function(){var e=Ic.arraySlice(this.times,0),t=Ic.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}),Oc.prototype=Object.assign(Object.create(Dc.prototype),{constructor:Oc,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Qt,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Nc.prototype=Object.assign(Object.create(Dc.prototype),{constructor:Nc,ValueTypeName:"color"}),jc.prototype=Object.assign(Object.create(Dc.prototype),{constructor:jc,ValueTypeName:"number"}),Pc.prototype=Object.assign(Object.create(Tc.prototype),{constructor:Pc,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=(n-t)/(r-t),l=e*a,u=l+a;l!==u;l+=4)nr.slerpFlat(i,0,o,l-a,o,l,s);return i}}),Rc.prototype=Object.assign(Object.create(Dc.prototype),{constructor:Rc,ValueTypeName:"quaternion",DefaultInterpolation:qt,InterpolantFactoryMethodLinear:function(e){return new Pc(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),$c.prototype=Object.assign(Object.create(Dc.prototype),{constructor:$c,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Qt,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Fc.prototype=Object.assign(Object.create(Dc.prototype),{constructor:Fc,ValueTypeName:"vector"}),Object.assign(Kc,{parse:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,o=n.length;i!==o;++i)t.push(Uc(n[i]).scale(r));return new Kc(e.name,e.duration,t,e.blendMode)},toJSON:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},i=0,o=n.length;i!==o;++i)t.push(Dc.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(e,t,n,r){for(var i=t.length,o=[],a=0;a<i;a++){var s=[],l=[];s.push((a+i-1)%i,a,(a+1)%i),l.push(0,1,0);var u=Ic.getKeyframeOrder(s);s=Ic.sortedArray(s,1,u),l=Ic.sortedArray(l,1,u),r||0!==s[0]||(s.push(i),l.push(l[0])),o.push(new jc(".morphTargetInfluences["+t[a].name+"]",s,l).scale(1/n))}return new Kc(e,-1,o)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,o=0,a=e.length;o<a;o++){var s=e[o],l=s.name.match(i);if(l&&l.length>1){var u=l[1],c=r[u];c||(r[u]=c=[]),c.push(s)}}var f=[];for(var h in r)f.push(Kc.CreateFromMorphTargetSequence(h,r[h],t,n));return f},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var o=[],a=[];Ic.flattenJSON(n,o,a,r),0!==o.length&&i.push(new e(t,o,a))}},r=[],i=e.name||"default",o=e.fps||30,a=e.blendMode,s=e.length||-1,l=e.hierarchy||[],u=0;u<l.length;u++){var c=l[u].keys;if(c&&0!==c.length)if(c[0].morphTargets){var f={},h=void 0;for(h=0;h<c.length;h++)if(c[h].morphTargets)for(var d=0;d<c[h].morphTargets.length;d++)f[c[h].morphTargets[d]]=-1;for(var p in f){for(var m=[],v=[],g=0;g!==c[h].morphTargets.length;++g){var y=c[h];m.push(y.time),v.push(y.morphTarget===p?1:0)}r.push(new jc(".morphTargetInfluence["+p+"]",m,v))}s=f.length*(o||1)}else{var _=".bones["+t[u].name+"]";n(Fc,_+".position",c,"pos",r),n(Rc,_+".quaternion",c,"rot",r),n(Fc,_+".scale",c,"scl",r)}}return 0===r.length?null:new Kc(i,s,r,a)}}),Object.assign(Kc.prototype,{resetDuration:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new Kc(this.name,this.duration,e,this.blendMode)}});var Vc={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function Bc(e,t,n){var r=this,i=!1,o=0,a=0,s=void 0,l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){a++,!1===i&&void 0!==r.onStart&&r.onStart(e,o,a),i=!0},this.itemEnd=function(e){o++,void 0!==r.onProgress&&r.onProgress(e,o,a),o===a&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){var t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=l.length;t<n;t+=2){var r=l[t],i=l[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return i}return null}}var Hc=new Bc;function Gc(e){this.manager=void 0!==e?e:Hc,this.crossOrigin="anonymous",this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(Gc.prototype,{load:function(){},loadAsync:function(e,t){var n=this;return new Promise(function(r,i){n.load(e,r,t,i)})},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});var Qc={};function qc(e){Gc.call(this,e)}function Wc(e){Gc.call(this,e)}function Yc(e){Gc.call(this,e)}function Xc(e){Gc.call(this,e)}function Jc(e){Gc.call(this,e)}function Zc(e){Gc.call(this,e)}function ef(e){Gc.call(this,e)}function tf(){this.type="Curve",this.arcLengthDivisions=200}function nf(e,t,n,r,i,o,a,s){tf.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=i||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=a||!1,this.aRotation=s||0}function rf(e,t,n,r,i,o){nf.call(this,e,t,n,n,r,i,o),this.type="ArcCurve"}function of(){var e=0,t=0,n=0,r=0;function i(i,o,a,s){e=i,t=a,n=-3*i+3*o-2*a-s,r=2*i-2*o+a+s}return{initCatmullRom:function(e,t,n,r,o){i(t,n,o*(n-e),o*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,o,a,s){var l=(t-e)/o-(n-e)/(o+a)+(n-t)/a,u=(n-t)/a-(r-t)/(a+s)+(r-n)/s;i(t,n,l*=a,u*=a)},calc:function(i){var o=i*i;return e+t*i+n*o+r*(o*i)}}}qc.prototype=Object.assign(Object.create(Gc.prototype),{constructor:qc,load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=Vc.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout(function(){t&&t(o),i.manager.itemEnd(e)},0),o;if(void 0===Qc[e]){var a,s=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(s){var l=s[1],u=!!s[2],c=s[3];c=decodeURIComponent(c),u&&(c=atob(c));try{var f,h=(this.responseType||"").toLowerCase();switch(h){case"arraybuffer":case"blob":for(var d=new Uint8Array(c.length),p=0;p<c.length;p++)d[p]=c.charCodeAt(p);f="blob"===h?new Blob([d.buffer],{type:l}):d.buffer;break;case"document":var m=new DOMParser;f=m.parseFromString(c,l);break;case"json":f=JSON.parse(c);break;default:f=c}setTimeout(function(){t&&t(f),i.manager.itemEnd(e)},0)}catch(g){setTimeout(function(){r&&r(g),i.manager.itemError(e),i.manager.itemEnd(e)},0)}}else{for(var v in Qc[e]=[],Qc[e].push({onLoad:t,onProgress:n,onError:r}),(a=new XMLHttpRequest).open("GET",e,!0),a.addEventListener("load",function(t){var n=this.response,r=Qc[e];if(delete Qc[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Vc.add(e,n);for(var o=0,a=r.length;o<a;o++){var s=r[o];s.onLoad&&s.onLoad(n)}i.manager.itemEnd(e)}else{for(var l=0,u=r.length;l<u;l++){var c=r[l];c.onError&&c.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}},!1),a.addEventListener("progress",function(t){for(var n=Qc[e],r=0,i=n.length;r<i;r++){var o=n[r];o.onProgress&&o.onProgress(t)}},!1),a.addEventListener("error",function(t){var n=Qc[e];delete Qc[e];for(var r=0,o=n.length;r<o;r++){var a=n[r];a.onError&&a.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)},!1),a.addEventListener("abort",function(t){var n=Qc[e];delete Qc[e];for(var r=0,o=n.length;r<o;r++){var a=n[r];a.onError&&a.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)},!1),void 0!==this.responseType&&(a.responseType=this.responseType),void 0!==this.withCredentials&&(a.withCredentials=this.withCredentials),a.overrideMimeType&&a.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)a.setRequestHeader(v,this.requestHeader[v]);a.send(null)}return i.manager.itemStart(e),a}Qc[e].push({onLoad:t,onProgress:n,onError:r})},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this}}),Wc.prototype=Object.assign(Object.create(Gc.prototype),{constructor:Wc,load:function(e,t,n,r){var i=this,o=new qc(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.load(e,function(n){try{t(i.parse(JSON.parse(n)))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}},n,r)},parse:function(e){for(var t=[],n=0;n<e.length;n++){var r=Kc.parse(e[n]);t.push(r)}return t}}),Yc.prototype=Object.assign(Object.create(Gc.prototype),{constructor:Yc,load:function(e,t,n,r){var i=this,o=[],a=new Jl;a.image=o;var s=new qc(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader);var l=0;function u(u){s.load(e[u],function(e){var n=i.parse(e,!0);o[u]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(l+=1)&&(1===n.mipmapCount&&(a.minFilter=Ee),a.format=n.format,a.needsUpdate=!0,t&&t(a))},n,r)}if(Array.isArray(e))for(var c=0,f=e.length;c<f;++c)u(c);else s.load(e,function(e){var n=i.parse(e,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){o[s]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)o[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+l]),o[s].format=n.format,o[s].width=n.width,o[s].height=n.height}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=Ee),a.format=n.format,a.needsUpdate=!0,t&&t(a)},n,r);return a}}),Xc.prototype=Object.assign(Object.create(Gc.prototype),{constructor:Xc,load:function(e,t,n,r){var i=this,o=new Ro,a=new qc(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.load(e,function(e){var n=i.parse(e);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:be,o.wrapT=void 0!==n.wrapT?n.wrapT:be,o.magFilter=void 0!==n.magFilter?n.magFilter:Ee,o.minFilter=void 0!==n.minFilter?n.minFilter:Ee,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps,o.minFilter=Le),1===n.mipmapCount&&(o.minFilter=Ee),o.needsUpdate=!0,t&&t(o,n))},n,r),o}}),Jc.prototype=Object.assign(Object.create(Gc.prototype),{constructor:Jc,load:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=Vc.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout(function(){t&&t(o),i.manager.itemEnd(e)},0),o;var a=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){a.removeEventListener("load",s,!1),a.removeEventListener("error",l,!1),Vc.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(t){a.removeEventListener("load",s,!1),a.removeEventListener("error",l,!1),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}return a.addEventListener("load",s,!1),a.addEventListener("error",l,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(e),a.src=e,a}}),Zc.prototype=Object.assign(Object.create(Gc.prototype),{constructor:Zc,load:function(e,t,n,r){var i=new la,o=new Jc(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var a=0;function s(n){o.load(e[n],function(e){i.images[n]=e,6===++a&&(i.needsUpdate=!0,t&&t(i))},void 0,r)}for(var l=0;l<e.length;++l)s(l);return i}}),ef.prototype=Object.assign(Object.create(Gc.prototype),{constructor:ef,load:function(e,t,n,r){var i=new Jn,o=new Jc(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(n){i.image=n;var r=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);i.format=r?He:Ge,i.needsUpdate=!0,void 0!==t&&t(i)},n,r),i}}),Object.assign(tf.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],r=this.getPoint(0),i=0;n.push(0);for(var o=1;o<=e;o++)i+=(t=this.getPoint(o/e)).distanceTo(r),n.push(i),r=t;return this.cacheArcLengths=n,n},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n,r=this.getLengths(),i=0,o=r.length;n=t||e*r[o-1];for(var a,s=0,l=o-1;s<=l;)if((a=r[i=Math.floor(s+(l-s)/2)]-n)<0)s=i+1;else{if(!(a>0)){l=i;break}l=i-1}if(r[i=l]===n)return i/(o-1);var u=r[i];return(i+(n-u)/(r[i+1]-u))/(o-1)},getTangent:function(e,t){var n=e-1e-4,r=e+1e-4;n<0&&(n=0),r>1&&(r=1);var i=this.getPoint(n),o=this.getPoint(r),a=t||(i.isVector2?new qn:new or);return a.copy(o).sub(i).normalize(),a},getTangentAt:function(e,t){var n=this.getUtoTmapping(e);return this.getTangent(n,t)},computeFrenetFrames:function(e,t){for(var n=new or,r=[],i=[],o=[],a=new or,s=new dr,l=0;l<=e;l++){var u=l/e;r[l]=this.getTangentAt(u,new or),r[l].normalize()}i[0]=new or,o[0]=new or;var c=Number.MAX_VALUE,f=Math.abs(r[0].x),h=Math.abs(r[0].y),d=Math.abs(r[0].z);f<=c&&(c=f,n.set(1,0,0)),h<=c&&(c=h,n.set(0,1,0)),d<=c&&n.set(0,0,1),a.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],a),o[0].crossVectors(r[0],i[0]);for(var p=1;p<=e;p++){if(i[p]=i[p-1].clone(),o[p]=o[p-1].clone(),a.crossVectors(r[p-1],r[p]),a.length()>Number.EPSILON){a.normalize();var m=Math.acos(Qn.clamp(r[p-1].dot(r[p]),-1,1));i[p].applyMatrix4(s.makeRotationAxis(a,m))}o[p].crossVectors(r[p],i[p])}if(!0===t){var v=Math.acos(Qn.clamp(i[0].dot(i[e]),-1,1));v/=e,r[0].dot(a.crossVectors(i[0],i[e]))>0&&(v=-v);for(var g=1;g<=e;g++)i[g].applyMatrix4(s.makeRotationAxis(r[g],v*g)),o[g].crossVectors(r[g],i[g])}return{tangents:r,normals:i,binormals:o}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),nf.prototype=Object.create(tf.prototype),nf.prototype.constructor=nf,nf.prototype.isEllipseCurve=!0,nf.prototype.getPoint=function(e,t){for(var n=t||new qn,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,o=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=o?0:r),!0!==this.aClockwise||o||(i===r?i=-r:i-=r);var a=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(a),l=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){var u=Math.cos(this.aRotation),c=Math.sin(this.aRotation),f=s-this.aX,h=l-this.aY;s=f*u-h*c+this.aX,l=f*c+h*u+this.aY}return n.set(s,l)},nf.prototype.copy=function(e){return tf.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},nf.prototype.toJSON=function(){var e=tf.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},nf.prototype.fromJSON=function(e){return tf.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},rf.prototype=Object.create(nf.prototype),rf.prototype.constructor=rf,rf.prototype.isArcCurve=!0;var af=new or,sf=new of,lf=new of,uf=new of;function cf(e,t,n,r){tf.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=void 0!==r?r:.5}function ff(e,t,n,r,i){var o=.5*(r-t),a=.5*(i-n),s=e*e;return(2*n-2*r+o+a)*(e*s)+(-3*n+3*r-2*o-a)*s+o*e+n}function hf(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function df(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}function pf(e,t,n,r){tf.call(this),this.type="CubicBezierCurve",this.v0=e||new qn,this.v1=t||new qn,this.v2=n||new qn,this.v3=r||new qn}function mf(e,t,n,r){tf.call(this),this.type="CubicBezierCurve3",this.v0=e||new or,this.v1=t||new or,this.v2=n||new or,this.v3=r||new or}function vf(e,t){tf.call(this),this.type="LineCurve",this.v1=e||new qn,this.v2=t||new qn}function gf(e,t){tf.call(this),this.type="LineCurve3",this.v1=e||new or,this.v2=t||new or}function yf(e,t,n){tf.call(this),this.type="QuadraticBezierCurve",this.v0=e||new qn,this.v1=t||new qn,this.v2=n||new qn}function _f(e,t,n){tf.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new or,this.v1=t||new or,this.v2=n||new or}function bf(e){tf.call(this),this.type="SplineCurve",this.points=e||[]}cf.prototype=Object.create(tf.prototype),cf.prototype.constructor=cf,cf.prototype.isCatmullRomCurve3=!0,cf.prototype.getPoint=function(e,t){var n,r,i,o,a=t||new or,s=this.points,l=s.length,u=(l-(this.closed?0:1))*e,c=Math.floor(u),f=u-c;if(this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/l)+1)*l:0===f&&c===l-1&&(c=l-2,f=1),this.closed||c>0?n=s[(c-1)%l]:(af.subVectors(s[0],s[1]).add(s[0]),n=af),r=s[c%l],i=s[(c+1)%l],this.closed||c+2<l?o=s[(c+2)%l]:(af.subVectors(s[l-1],s[l-2]).add(s[l-1]),o=af),"centripetal"===this.curveType||"chordal"===this.curveType){var h="chordal"===this.curveType?.5:.25,d=Math.pow(n.distanceToSquared(r),h),p=Math.pow(r.distanceToSquared(i),h),m=Math.pow(i.distanceToSquared(o),h);p<1e-4&&(p=1),d<1e-4&&(d=p),m<1e-4&&(m=p),sf.initNonuniformCatmullRom(n.x,r.x,i.x,o.x,d,p,m),lf.initNonuniformCatmullRom(n.y,r.y,i.y,o.y,d,p,m),uf.initNonuniformCatmullRom(n.z,r.z,i.z,o.z,d,p,m)}else"catmullrom"===this.curveType&&(sf.initCatmullRom(n.x,r.x,i.x,o.x,this.tension),lf.initCatmullRom(n.y,r.y,i.y,o.y,this.tension),uf.initCatmullRom(n.z,r.z,i.z,o.z,this.tension));return a.set(sf.calc(f),lf.calc(f),uf.calc(f)),a},cf.prototype.copy=function(e){tf.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},cf.prototype.toJSON=function(){var e=tf.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},cf.prototype.fromJSON=function(e){tf.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new or).fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},pf.prototype=Object.create(tf.prototype),pf.prototype.constructor=pf,pf.prototype.isCubicBezierCurve=!0,pf.prototype.getPoint=function(e,t){var n=t||new qn,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(df(e,r.x,i.x,o.x,a.x),df(e,r.y,i.y,o.y,a.y)),n},pf.prototype.copy=function(e){return tf.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},pf.prototype.toJSON=function(){var e=tf.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},pf.prototype.fromJSON=function(e){return tf.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},mf.prototype=Object.create(tf.prototype),mf.prototype.constructor=mf,mf.prototype.isCubicBezierCurve3=!0,mf.prototype.getPoint=function(e,t){var n=t||new or,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(df(e,r.x,i.x,o.x,a.x),df(e,r.y,i.y,o.y,a.y),df(e,r.z,i.z,o.z,a.z)),n},mf.prototype.copy=function(e){return tf.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},mf.prototype.toJSON=function(){var e=tf.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},mf.prototype.fromJSON=function(e){return tf.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},vf.prototype=Object.create(tf.prototype),vf.prototype.constructor=vf,vf.prototype.isLineCurve=!0,vf.prototype.getPoint=function(e,t){var n=t||new qn;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},vf.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},vf.prototype.getTangent=function(e,t){var n=t||new qn;return n.copy(this.v2).sub(this.v1).normalize(),n},vf.prototype.copy=function(e){return tf.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},vf.prototype.toJSON=function(){var e=tf.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},vf.prototype.fromJSON=function(e){return tf.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},gf.prototype=Object.create(tf.prototype),gf.prototype.constructor=gf,gf.prototype.isLineCurve3=!0,gf.prototype.getPoint=function(e,t){var n=t||new or;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},gf.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},gf.prototype.copy=function(e){return tf.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},gf.prototype.toJSON=function(){var e=tf.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},gf.prototype.fromJSON=function(e){return tf.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},yf.prototype=Object.create(tf.prototype),yf.prototype.constructor=yf,yf.prototype.isQuadraticBezierCurve=!0,yf.prototype.getPoint=function(e,t){var n=t||new qn,r=this.v0,i=this.v1,o=this.v2;return n.set(hf(e,r.x,i.x,o.x),hf(e,r.y,i.y,o.y)),n},yf.prototype.copy=function(e){return tf.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},yf.prototype.toJSON=function(){var e=tf.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},yf.prototype.fromJSON=function(e){return tf.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},_f.prototype=Object.create(tf.prototype),_f.prototype.constructor=_f,_f.prototype.isQuadraticBezierCurve3=!0,_f.prototype.getPoint=function(e,t){var n=t||new or,r=this.v0,i=this.v1,o=this.v2;return n.set(hf(e,r.x,i.x,o.x),hf(e,r.y,i.y,o.y),hf(e,r.z,i.z,o.z)),n},_f.prototype.copy=function(e){return tf.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},_f.prototype.toJSON=function(){var e=tf.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},_f.prototype.fromJSON=function(e){return tf.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},bf.prototype=Object.create(tf.prototype),bf.prototype.constructor=bf,bf.prototype.isSplineCurve=!0,bf.prototype.getPoint=function(e,t){var n=t||new qn,r=this.points,i=(r.length-1)*e,o=Math.floor(i),a=i-o,s=r[0===o?o:o-1],l=r[o],u=r[o>r.length-2?r.length-1:o+1],c=r[o>r.length-3?r.length-1:o+2];return n.set(ff(a,s.x,l.x,u.x,c.x),ff(a,s.y,l.y,u.y,c.y)),n},bf.prototype.copy=function(e){tf.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this},bf.prototype.toJSON=function(){var e=tf.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e},bf.prototype.fromJSON=function(e){tf.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new qn).fromArray(r))}return this};var wf=Object.freeze({__proto__:null,ArcCurve:rf,CatmullRomCurve3:cf,CubicBezierCurve:pf,CubicBezierCurve3:mf,EllipseCurve:nf,LineCurve:vf,LineCurve3:gf,QuadraticBezierCurve:yf,QuadraticBezierCurve3:_f,SplineCurve:bf});function xf(){tf.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Af(e){xf.call(this),this.type="Path",this.currentPoint=new qn,e&&this.setFromPoints(e)}function Mf(e){Af.call(this,e),this.uuid=Qn.generateUUID(),this.type="Shape",this.holes=[]}function Sf(e,t){zr.call(this),this.type="Light",this.color=new xi(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function Cf(e,t,n){Sf.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(zr.DefaultUp),this.updateMatrix(),this.groundColor=new xi(t)}function Ef(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new qn(512,512),this.map=null,this.mapPass=null,this.matrix=new dr,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Ko,this._frameExtents=new qn(1,1),this._viewportCount=1,this._viewports=[new Zn(0,0,1,1)]}function If(){Ef.call(this,new Do(50,1,.5,500))}function Tf(e,t,n,r,i,o){Sf.call(this,e,t),this.type="SpotLight",this.position.copy(zr.DefaultUp),this.updateMatrix(),this.target=new zr,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new If}function Lf(){Ef.call(this,new Do(90,1,.5,500)),this._frameExtents=new qn(4,2),this._viewportCount=6,this._viewports=[new Zn(2,1,1,1),new Zn(0,1,1,1),new Zn(3,1,1,1),new Zn(1,1,1,1),new Zn(3,0,1,1),new Zn(1,0,1,1)],this._cubeDirections=[new or(1,0,0),new or(-1,0,0),new or(0,0,1),new or(0,0,-1),new or(0,1,0),new or(0,-1,0)],this._cubeUps=[new or(0,1,0),new or(0,1,0),new or(0,1,0),new or(0,1,0),new or(0,0,1),new or(0,0,-1)]}function zf(e,t,n,r){Sf.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new Lf}function kf(e,t,n,r,i,o){ko.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==n?n:1,this.bottom=void 0!==r?r:-1,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function Df(){Ef.call(this,new kf(-5,5,5,-5,.5,500))}function Of(e,t){Sf.call(this,e,t),this.type="DirectionalLight",this.position.copy(zr.DefaultUp),this.updateMatrix(),this.target=new zr,this.shadow=new Df}function Nf(e,t){Sf.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function jf(e,t,n,r){Sf.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function Pf(){this.coefficients=[];for(var e=0;e<9;e++)this.coefficients.push(new or)}function Rf(e,t){Sf.call(this,void 0,t),this.type="LightProbe",this.sh=void 0!==e?e:new Pf}function $f(e){Gc.call(this,e),this.textures={}}xf.prototype=Object.assign(Object.create(tf.prototype),{constructor:xf,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new vf(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=t){var i=n[r]-t,o=this.curves[r],a=o.getLength(),s=0===a?0:1-i/a;return o.getPointAt(s)}r++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,n=[],r=0,i=this.curves;r<i.length;r++)for(var o=i[r],a=o&&o.isEllipseCurve?2*e:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e,s=o.getPoints(a),l=0;l<s.length;l++){var u=s[l];t&&t.equals(u)||(n.push(u),t=u)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(e){tf.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=tf.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,n=this.curves.length;t<n;t++){var r=this.curves[t];e.curves.push(r.toJSON())}return e},fromJSON:function(e){tf.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push((new wf[r.type]).fromJSON(r))}return this}}),Af.prototype=Object.assign(Object.create(xf.prototype),{constructor:Af,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){var n=new vf(this.currentPoint.clone(),new qn(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,n,r){var i=new yf(this.currentPoint.clone(),new qn(e,t),new qn(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this},bezierCurveTo:function(e,t,n,r,i,o){var a=new pf(this.currentPoint.clone(),new qn(e,t),new qn(n,r),new qn(i,o));return this.curves.push(a),this.currentPoint.set(i,o),this},splineThru:function(e){var t=new bf([this.currentPoint.clone()].concat(e));return this.curves.push(t),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,n,r,i,o){var a=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+a,t+s,n,r,i,o),this},absarc:function(e,t,n,r,i,o){return this.absellipse(e,t,n,n,r,i,o),this},ellipse:function(e,t,n,r,i,o,a,s){var l=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+l,t+u,n,r,i,o,a,s),this},absellipse:function(e,t,n,r,i,o,a,s){var l=new nf(e,t,n,r,i,o,a,s);if(this.curves.length>0){var u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);var c=l.getPoint(1);return this.currentPoint.copy(c),this},copy:function(e){return xf.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=xf.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return xf.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),Mf.prototype=Object.assign(Object.create(Af.prototype),{constructor:Mf,getPointsHoles:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){Af.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push(r.clone())}return this},toJSON:function(){var e=Af.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,n=this.holes.length;t<n;t++){var r=this.holes[t];e.holes.push(r.toJSON())}return e},fromJSON:function(e){Af.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push((new Af).fromJSON(r))}return this}}),Sf.prototype=Object.assign(Object.create(zr.prototype),{constructor:Sf,isLight:!0,copy:function(e){return zr.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=zr.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),Cf.prototype=Object.assign(Object.create(Sf.prototype),{constructor:Cf,isHemisphereLight:!0,copy:function(e){return Sf.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(Ef.prototype,{_projScreenMatrix:new dr,_lightPositionWorld:new or,_lookTarget:new or,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){var t=this.camera,n=this.matrix,r=this._projScreenMatrix,i=this._lookTarget,o=this._lightPositionWorld;o.setFromMatrixPosition(e.matrixWorld),t.position.copy(o),i.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(i),t.updateMatrixWorld(),r.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(r),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),If.prototype=Object.assign(Object.create(Ef.prototype),{constructor:If,isSpotLightShadow:!0,updateMatrices:function(e){var t=this.camera,n=2*Qn.RAD2DEG*e.angle,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix()),Ef.prototype.updateMatrices.call(this,e)}}),Tf.prototype=Object.assign(Object.create(Sf.prototype),{constructor:Tf,isSpotLight:!0,copy:function(e){return Sf.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Lf.prototype=Object.assign(Object.create(Ef.prototype),{constructor:Lf,isPointLightShadow:!0,updateMatrices:function(e,t){void 0===t&&(t=0);var n=this.camera,r=this.matrix,i=this._lightPositionWorld,o=this._lookTarget,a=this._projScreenMatrix;i.setFromMatrixPosition(e.matrixWorld),n.position.copy(i),o.copy(n.position),o.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(o),n.updateMatrixWorld(),r.makeTranslation(-i.x,-i.y,-i.z),a.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(a)}}),zf.prototype=Object.assign(Object.create(Sf.prototype),{constructor:zf,isPointLight:!0,copy:function(e){return Sf.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),kf.prototype=Object.assign(Object.create(ko.prototype),{constructor:kf,isOrthographicCamera:!0,copy:function(e,t){return ko.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,o=n+e,a=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var l=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o=(i+=l*this.view.offsetX)+l*this.view.width,s=(a-=u*this.view.offsetY)-u*this.view.height}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=zr.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),Df.prototype=Object.assign(Object.create(Ef.prototype),{constructor:Df,isDirectionalLightShadow:!0,updateMatrices:function(e){Ef.prototype.updateMatrices.call(this,e)}}),Of.prototype=Object.assign(Object.create(Sf.prototype),{constructor:Of,isDirectionalLight:!0,copy:function(e){return Sf.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Nf.prototype=Object.assign(Object.create(Sf.prototype),{constructor:Nf,isAmbientLight:!0}),jf.prototype=Object.assign(Object.create(Sf.prototype),{constructor:jf,isRectAreaLight:!0,copy:function(e){return Sf.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=Sf.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}),Object.assign(Pf.prototype,{isSphericalHarmonics3:!0,set:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this},zero:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this},getAt:function(e,t){var n=e.x,r=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*i),t.addScaledVector(o[3],.488603*n),t.addScaledVector(o[4],n*r*1.092548),t.addScaledVector(o[5],r*i*1.092548),t.addScaledVector(o[6],.315392*(3*i*i-1)),t.addScaledVector(o[7],n*i*1.092548),t.addScaledVector(o[8],.546274*(n*n-r*r)),t},getIrradianceAt:function(e,t){var n=e.x,r=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],1.023328*r),t.addScaledVector(o[2],1.023328*i),t.addScaledVector(o[3],1.023328*n),t.addScaledVector(o[4],.858086*n*r),t.addScaledVector(o[5],.858086*r*i),t.addScaledVector(o[6],.743125*i*i-.247708),t.addScaledVector(o[7],.858086*n*i),t.addScaledVector(o[8],.429043*(n*n-r*r)),t},add:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this},addScaledSH:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this},scale:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this},lerp:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this},equals:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0},copy:function(e){return this.set(e.coefficients)},clone:function(){return(new this.constructor).copy(this)},fromArray:function(e,t){void 0===t&&(t=0);for(var n=this.coefficients,r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);for(var n=this.coefficients,r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}}),Object.assign(Pf,{getBasisAt:function(e,t){var n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}),Rf.prototype=Object.assign(Object.create(Sf.prototype),{constructor:Rf,isLightProbe:!0,copy:function(e){return Sf.prototype.copy.call(this,e),this.sh.copy(e.sh),this},fromJSON:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this},toJSON:function(e){var t=Sf.prototype.toJSON.call(this,e);return t.object.sh=this.sh.toArray(),t}}),$f.prototype=Object.assign(Object.create(Gc.prototype),{constructor:$f,load:function(e,t,n,r){var i=this,o=new qc(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.load(e,function(n){try{t(i.parse(JSON.parse(n)))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}},n,r)},parse:function(e){var t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var r=new Ec[e.type];if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=(new xi).setHex(e.sheen)),void 0!==e.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&r.specular.setHex(e.specular),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(r.skinning=e.skinning),void 0!==e.morphTargets&&(r.morphTargets=e.morphTargets),void 0!==e.morphNormals&&(r.morphNormals=e.morphNormals),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.vertexTangents&&(r.vertexTangents=e.vertexTangents),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),void 0!==e.uniforms)for(var i in e.uniforms){var o=e.uniforms[i];switch(r.uniforms[i]={},o.type){case"t":r.uniforms[i].value=n(o.value);break;case"c":r.uniforms[i].value=(new xi).setHex(o.value);break;case"v2":r.uniforms[i].value=(new qn).fromArray(o.value);break;case"v3":r.uniforms[i].value=(new or).fromArray(o.value);break;case"v4":r.uniforms[i].value=(new Zn).fromArray(o.value);break;case"m3":r.uniforms[i].value=(new Wn).fromArray(o.value);case"m4":r.uniforms[i].value=(new dr).fromArray(o.value);break;default:r.uniforms[i].value=o.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var a in e.extensions)r.extensions[a]=e.extensions[a];if(void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){var s=e.normalScale;!1===Array.isArray(s)&&(s=[s,s]),r.normalScale=(new qn).fromArray(s)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(r.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new qn).fromArray(e.clearcoatNormalScale)),void 0!==e.transmission&&(r.transmission=e.transmission),void 0!==e.transmissionMap&&(r.transmissionMap=n(e.transmissionMap)),r},setTextures:function(e){return this.textures=e,this}});var Ff={decodeText:function(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(i){return t}},extractUrlBase:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}};function Kf(){Xi.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function Uf(e,t,n,r){"number"===typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),ki.call(this,e,t,n),this.meshPerAttribute=r||1}function Vf(e){Gc.call(this,e)}Kf.prototype=Object.assign(Object.create(Xi.prototype),{constructor:Kf,isInstancedBufferGeometry:!0,copy:function(e){return Xi.prototype.copy.call(this,e),this.instanceCount=e.instanceCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e=Xi.prototype.toJSON.call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}),Uf.prototype=Object.assign(Object.create(ki.prototype),{constructor:Uf,isInstancedBufferAttribute:!0,copy:function(e){return ki.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){var e=ki.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}),Vf.prototype=Object.assign(Object.create(Gc.prototype),{constructor:Vf,load:function(e,t,n,r){var i=this,o=new qc(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.load(e,function(n){try{t(i.parse(JSON.parse(n)))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}},n,r)},parse:function(e){var t={},n={};function r(e,r){if(void 0!==t[r])return t[r];var i=e.interleavedBuffers[r],o=function(e,t){if(void 0!==n[t])return n[t];var r=e.arrayBuffers[t],i=new Uint32Array(r).buffer;return n[t]=i,i}(e,i.buffer),a=new tl(new Bf[i.type](o),i.stride);return a.uuid=i.uuid,t[r]=a,a}var i=e.isInstancedBufferGeometry?new Kf:new Xi,o=e.data.index;if(void 0!==o){var a=new Bf[o.type](o.array);i.setIndex(new ki(a,1))}var s=e.data.attributes;for(var l in s){var u=s[l],c=void 0;if(u.isInterleavedBufferAttribute){c=new il(r(e.data,u.data),u.itemSize,u.offset,u.normalized)}else{var f=new Bf[u.type](u.array);c=new(u.isInstancedBufferAttribute?Uf:ki)(f,u.itemSize,u.normalized)}void 0!==u.name&&(c.name=u.name),i.setAttribute(l,c)}var h=e.data.morphAttributes;if(h)for(var d in h){for(var p=h[d],m=[],v=0,g=p.length;v<g;v++){var y=p[v],_=void 0;if(y.isInterleavedBufferAttribute)_=new il(r(e.data,y.data),y.itemSize,y.offset,y.normalized);else _=new ki(new Bf[y.type](y.array),y.itemSize,y.normalized);void 0!==y.name&&(_.name=y.name),m.push(_)}i.morphAttributes[d]=m}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);var b=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==b)for(var w=0,x=b.length;w!==x;++w){var A=b[w];i.addGroup(A.start,A.count,A.materialIndex)}var M=e.data.boundingSphere;if(void 0!==M){var S=new or;void 0!==M.center&&S.fromArray(M.center),i.boundingSphere=new Wr(S,M.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}});var Bf={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!==typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Hf(e){Gc.call(this,e)}Hf.prototype=Object.assign(Object.create(Gc.prototype),{constructor:Hf,load:function(e,t,n,r){var i=this,o=""===this.path?Ff.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;var a=new qc(i.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.load(e,function(n){var o=null;try{o=JSON.parse(n)}catch(s){return void 0!==r&&r(s),void console.error("THREE:ObjectLoader: Can't parse "+e+".",s.message)}var a=o.metadata;void 0!==a&&void 0!==a.type&&"geometry"!==a.type.toLowerCase()?i.parse(o,t):console.error("THREE.ObjectLoader: Can't load "+e)},n,r)},parse:function(e,t){var n=this.parseShape(e.shapes),r=this.parseGeometries(e.geometries,n),i=this.parseImages(e.images,function(){void 0!==t&&t(s)}),o=this.parseTextures(e.textures,i),a=this.parseMaterials(e.materials,o),s=this.parseObject(e.object,r,a);return e.animations&&(s.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(s),s},parseShape:function(e){var t={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var i=(new Mf).fromJSON(e[n]);t[i.uuid]=i}return t},parseGeometries:function(e,t){var n,r={};if(void 0!==e)for(var i=new Vf,o=0,a=e.length;o<a;o++){var s=void 0,l=e[o];switch(l.type){case"PlaneGeometry":case"PlaneBufferGeometry":s=new vc[l.type](l.width,l.height,l.widthSegments,l.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":s=new vc[l.type](l.width,l.height,l.depth,l.widthSegments,l.heightSegments,l.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":s=new vc[l.type](l.radius,l.segments,l.thetaStart,l.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":s=new vc[l.type](l.radiusTop,l.radiusBottom,l.height,l.radialSegments,l.heightSegments,l.openEnded,l.thetaStart,l.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":s=new vc[l.type](l.radius,l.height,l.radialSegments,l.heightSegments,l.openEnded,l.thetaStart,l.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":s=new vc[l.type](l.radius,l.widthSegments,l.heightSegments,l.phiStart,l.phiLength,l.thetaStart,l.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":s=new vc[l.type](l.radius,l.detail);break;case"RingGeometry":case"RingBufferGeometry":s=new vc[l.type](l.innerRadius,l.outerRadius,l.thetaSegments,l.phiSegments,l.thetaStart,l.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":s=new vc[l.type](l.radius,l.tube,l.radialSegments,l.tubularSegments,l.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":s=new vc[l.type](l.radius,l.tube,l.tubularSegments,l.radialSegments,l.p,l.q);break;case"TubeGeometry":case"TubeBufferGeometry":s=new vc[l.type]((new wf[l.path.type]).fromJSON(l.path),l.tubularSegments,l.radius,l.radialSegments,l.closed);break;case"LatheGeometry":case"LatheBufferGeometry":s=new vc[l.type](l.points,l.segments,l.phiStart,l.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":s=new vc[l.type](l.vertices,l.indices,l.radius,l.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":n=[];for(var u=0,c=l.shapes.length;u<c;u++){var f=t[l.shapes[u]];n.push(f)}s=new vc[l.type](n,l.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":n=[];for(var h=0,d=l.shapes.length;h<d;h++){var p=t[l.shapes[h]];n.push(p)}var m=l.options.extrudePath;void 0!==m&&(l.options.extrudePath=(new wf[m.type]).fromJSON(m)),s=new vc[l.type](n,l.options);break;case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(l);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+l.type+'"');continue}s.uuid=l.uuid,void 0!==l.name&&(s.name=l.name),!0===s.isBufferGeometry&&void 0!==l.userData&&(s.userData=l.userData),r[l.uuid]=s}return r},parseMaterials:function(e,t){var n={},r={};if(void 0!==e){var i=new $f;i.setTextures(t);for(var o=0,a=e.length;o<a;o++){var s=e[o];if("MultiMaterial"===s.type){for(var l=[],u=0;u<s.materials.length;u++){var c=s.materials[u];void 0===n[c.uuid]&&(n[c.uuid]=i.parse(c)),l.push(n[c.uuid])}r[s.uuid]=l}else void 0===n[s.uuid]&&(n[s.uuid]=i.parse(s)),r[s.uuid]=n[s.uuid]}}return r},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],i=Kc.parse(r);void 0!==r.uuid&&(i.uuid=r.uuid),t.push(i)}return t},parseImages:function(e,t){var n,r=this,i={};function o(e){return r.manager.itemStart(e),n.load(e,function(){r.manager.itemEnd(e)},void 0,function(){r.manager.itemError(e),r.manager.itemEnd(e)})}if(void 0!==e&&e.length>0){var a=new Bc(t);(n=new Jc(a)).setCrossOrigin(this.crossOrigin);for(var s=0,l=e.length;s<l;s++){var u=e[s],c=u.url;if(Array.isArray(c)){i[u.uuid]=[];for(var f=0,h=c.length;f<h;f++){var d=c[f],p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:r.resourcePath+d;i[u.uuid].push(o(p))}}else{var m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u.url)?u.url:r.resourcePath+u.url;i[u.uuid]=o(m)}}}return i},parseTextures:function(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var i=0,o=e.length;i<o;i++){var a=e[i];void 0===a.image&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),void 0===t[a.image]&&console.warn("THREE.ObjectLoader: Undefined image",a.image);var s=void 0;(s=Array.isArray(t[a.image])?new la(t[a.image]):new Jn(t[a.image])).needsUpdate=!0,s.uuid=a.uuid,void 0!==a.name&&(s.name=a.name),void 0!==a.mapping&&(s.mapping=n(a.mapping,Qf)),void 0!==a.offset&&s.offset.fromArray(a.offset),void 0!==a.repeat&&s.repeat.fromArray(a.repeat),void 0!==a.center&&s.center.fromArray(a.center),void 0!==a.rotation&&(s.rotation=a.rotation),void 0!==a.wrap&&(s.wrapS=n(a.wrap[0],qf),s.wrapT=n(a.wrap[1],qf)),void 0!==a.format&&(s.format=a.format),void 0!==a.type&&(s.type=a.type),void 0!==a.encoding&&(s.encoding=a.encoding),void 0!==a.minFilter&&(s.minFilter=n(a.minFilter,Wf)),void 0!==a.magFilter&&(s.magFilter=n(a.magFilter,Wf)),void 0!==a.anisotropy&&(s.anisotropy=a.anisotropy),void 0!==a.flipY&&(s.flipY=a.flipY),void 0!==a.premultiplyAlpha&&(s.premultiplyAlpha=a.premultiplyAlpha),void 0!==a.unpackAlignment&&(s.unpackAlignment=a.unpackAlignment),r[a.uuid]=s}return r},parseObject:function(e,t,n){var r,i,o;function a(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function s(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,i=e.length;r<i;r++){var o=e[r];void 0===n[o]&&console.warn("THREE.ObjectLoader: Undefined material",o),t.push(n[o])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}switch(e.type){case"Scene":r=new kr,void 0!==e.background&&Number.isInteger(e.background)&&(r.background=new xi(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?r.fog=new el(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(r.fog=new Zs(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":r=new Do(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(r.focus=e.focus),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.filmGauge&&(r.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(r.filmOffset=e.filmOffset),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"OrthographicCamera":r=new kf(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"AmbientLight":r=new Nf(e.color,e.intensity);break;case"DirectionalLight":r=new Of(e.color,e.intensity);break;case"PointLight":r=new zf(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":r=new jf(e.color,e.intensity,e.width,e.height);break;case"SpotLight":r=new Tf(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":r=new Cf(e.color,e.groundColor,e.intensity);break;case"LightProbe":r=(new Rf).fromJSON(e);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":r=new vo(i=a(e.geometry),o=s(e.material));break;case"InstancedMesh":i=a(e.geometry),o=s(e.material);var l=e.count,u=e.instanceMatrix;(r=new kl(i,o,l)).instanceMatrix=new ki(new Float32Array(u.array),16);break;case"LOD":r=new xl;break;case"Line":r=new $l(a(e.geometry),s(e.material),e.mode);break;case"LineLoop":r=new Vl(a(e.geometry),s(e.material));break;case"LineSegments":r=new Ul(a(e.geometry),s(e.material));break;case"PointCloud":case"Points":r=new Wl(a(e.geometry),s(e.material));break;case"Sprite":r=new yl(s(e.material));break;case"Group":r=new Qs;break;default:r=new zr}if(r.uuid=e.uuid,void 0!==e.name&&(r.name=e.name),void 0!==e.matrix?(r.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(r.matrixAutoUpdate=e.matrixAutoUpdate),r.matrixAutoUpdate&&r.matrix.decompose(r.position,r.quaternion,r.scale)):(void 0!==e.position&&r.position.fromArray(e.position),void 0!==e.rotation&&r.rotation.fromArray(e.rotation),void 0!==e.quaternion&&r.quaternion.fromArray(e.quaternion),void 0!==e.scale&&r.scale.fromArray(e.scale)),void 0!==e.castShadow&&(r.castShadow=e.castShadow),void 0!==e.receiveShadow&&(r.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(r.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(r.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(r.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&r.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(r.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.frustumCulled&&(r.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(r.renderOrder=e.renderOrder),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.layers&&(r.layers.mask=e.layers),void 0!==e.children)for(var c=e.children,f=0;f<c.length;f++)r.add(this.parseObject(c[f],t,n));if("LOD"===e.type){void 0!==e.autoUpdate&&(r.autoUpdate=e.autoUpdate);for(var h=e.levels,d=0;d<h.length;d++){var p=h[d],m=r.getObjectByProperty("uuid",p.object);void 0!==m&&r.addLevel(m,p.distance)}}return r}});var Gf,Qf={UVMapping:he,CubeReflectionMapping:de,CubeRefractionMapping:pe,EquirectangularReflectionMapping:me,EquirectangularRefractionMapping:ve,CubeUVReflectionMapping:ge,CubeUVRefractionMapping:ye},qf={RepeatWrapping:_e,ClampToEdgeWrapping:be,MirroredRepeatWrapping:we},Wf={NearestFilter:xe,NearestMipmapNearestFilter:Ae,NearestMipmapLinearFilter:Se,LinearFilter:Ee,LinearMipmapNearestFilter:Ie,LinearMipmapLinearFilter:Le};function Yf(e){"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),Gc.call(this,e),this.options={premultiplyAlpha:"none"}}function Xf(){this.type="ShapePath",this.color=new xi,this.subPaths=[],this.currentPath=null}function Jf(e){this.type="Font",this.data=e}function Zf(e,t,n,r,i){var o=i.glyphs[e]||i.glyphs["?"];if(o){var a,s,l,u,c,f,h,d,p=new Xf;if(o.o)for(var m=o._cachedOutline||(o._cachedOutline=o.o.split(" ")),v=0,g=m.length;v<g;){switch(m[v++]){case"m":a=m[v++]*t+n,s=m[v++]*t+r,p.moveTo(a,s);break;case"l":a=m[v++]*t+n,s=m[v++]*t+r,p.lineTo(a,s);break;case"q":l=m[v++]*t+n,u=m[v++]*t+r,c=m[v++]*t+n,f=m[v++]*t+r,p.quadraticCurveTo(c,f,l,u);break;case"b":l=m[v++]*t+n,u=m[v++]*t+r,c=m[v++]*t+n,f=m[v++]*t+r,h=m[v++]*t+n,d=m[v++]*t+r,p.bezierCurveTo(c,f,h,d,l,u)}}return{offsetX:o.ha*t,path:p}}console.error('THREE.Font: character "'+e+'" does not exists in font family '+i.familyName+".")}function eh(e){Gc.call(this,e)}Yf.prototype=Object.assign(Object.create(Gc.prototype),{constructor:Yf,isImageBitmapLoader:!0,setOptions:function(e){return this.options=e,this},load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=Vc.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout(function(){t&&t(o),i.manager.itemEnd(e)},0),o;fetch(e).then(function(e){return e.blob()}).then(function(e){return createImageBitmap(e,i.options)}).then(function(n){Vc.add(e,n),t&&t(n),i.manager.itemEnd(e)}).catch(function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}),i.manager.itemStart(e)}}),Object.assign(Xf.prototype,{moveTo:function(e,t){return this.currentPath=new Af,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this},bezierCurveTo:function(e,t,n,r,i,o){return this.currentPath.bezierCurveTo(e,t,n,r,i,o),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function n(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],o=new Mf;o.curves=i.curves,t.push(o)}return t}function r(e,t){for(var n=t.length,r=!1,i=n-1,o=0;o<n;i=o++){var a=t[i],s=t[o],l=s.x-a.x,u=s.y-a.y;if(Math.abs(u)>Number.EPSILON){if(u<0&&(a=t[o],l=-l,s=t[i],u=-u),e.y<a.y||e.y>s.y)continue;if(e.y===a.y){if(e.x===a.x)return!0}else{var c=u*(e.x-a.x)-l*(e.y-a.y);if(0===c)return!0;if(c<0)continue;r=!r}}else{if(e.y!==a.y)continue;if(s.x<=e.x&&e.x<=a.x||a.x<=e.x&&e.x<=s.x)return!0}}return r}var i=Hu.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===t)return n(o);var a,s,l,u=[];if(1===o.length)return s=o[0],(l=new Mf).curves=s.curves,u.push(l),u;var c=!i(o[0].getPoints());c=e?!c:c;var f,h,d=[],p=[],m=[],v=0;p[v]=void 0,m[v]=[];for(var g=0,y=o.length;g<y;g++)a=i(f=(s=o[g]).getPoints()),(a=e?!a:a)?(!c&&p[v]&&v++,p[v]={s:new Mf,p:f},p[v].s.curves=s.curves,c&&v++,m[v]=[]):m[v].push({h:s,p:f[0]});if(!p[0])return n(o);if(p.length>1){for(var _=!1,b=[],w=0,x=p.length;w<x;w++)d[w]=[];for(var A=0,M=p.length;A<M;A++)for(var S=m[A],C=0;C<S.length;C++){for(var E=S[C],I=!0,T=0;T<p.length;T++)r(E.p,p[T].p)&&(A!==T&&b.push({froms:A,tos:T,hole:C}),I?(I=!1,d[T].push(E)):_=!0);I&&d[A].push(E)}b.length>0&&(_||(m=d))}for(var L=0,z=p.length;L<z;L++){l=p[L].s,u.push(l);for(var k=0,D=(h=m[L]).length;k<D;k++)l.holes.push(h[k].h)}return u}}),Object.assign(Jf.prototype,{isFont:!0,generateShapes:function(e,t){void 0===t&&(t=100);for(var n=[],r=function(e,t,n){for(var r=Array.from?Array.from(e):String(e).split(""),i=t/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,a=[],s=0,l=0,u=0;u<r.length;u++){var c=r[u];if("\n"===c)s=0,l-=o;else{var f=Zf(c,i,s,l,n);s+=f.offsetX,a.push(f.path)}}return a}(e,t,this.data),i=0,o=r.length;i<o;i++)Array.prototype.push.apply(n,r[i].toShapes());return n}}),eh.prototype=Object.assign(Object.create(Gc.prototype),{constructor:eh,load:function(e,t,n,r){var i=this,o=new qc(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.load(e,function(e){var n;try{n=JSON.parse(e)}catch(o){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}var r=i.parse(n);t&&t(r)},n,r)},parse:function(e){return new Jf(e)}});var th={getContext:function(){return void 0===Gf&&(Gf=new(window.AudioContext||window.webkitAudioContext)),Gf},setContext:function(e){Gf=e}};function nh(e){Gc.call(this,e)}function rh(e,t,n){Rf.call(this,void 0,n);var r=(new xi).set(e),i=(new xi).set(t),o=new or(r.r,r.g,r.b),a=new or(i.r,i.g,i.b),s=Math.sqrt(Math.PI),l=s*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(s),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(l)}function ih(e,t){Rf.call(this,void 0,t);var n=(new xi).set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}nh.prototype=Object.assign(Object.create(Gc.prototype),{constructor:nh,load:function(e,t,n,r){var i=this,o=new qc(i.manager);o.setResponseType("arraybuffer"),o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.load(e,function(n){try{var o=n.slice(0);th.getContext().decodeAudioData(o,function(e){t(e)})}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}},n,r)}}),rh.prototype=Object.assign(Object.create(Rf.prototype),{constructor:rh,isHemisphereLightProbe:!0,copy:function(e){return Rf.prototype.copy.call(this,e),this},toJSON:function(e){return Rf.prototype.toJSON.call(this,e)}}),ih.prototype=Object.assign(Object.create(Rf.prototype),{constructor:ih,isAmbientLightProbe:!0,copy:function(e){return Rf.prototype.copy.call(this,e),this},toJSON:function(e){return Rf.prototype.toJSON.call(this,e)}});var oh=new dr,ah=new dr;function sh(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Do,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Do,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}function lh(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}Object.assign(sh.prototype,{update:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;var n,r,i=e.projectionMatrix.clone(),o=t.eyeSep/2,a=o*t.near/t.focus,s=t.near*Math.tan(Qn.DEG2RAD*t.fov*.5)/t.zoom;ah.elements[12]=-o,oh.elements[12]=o,n=-s*t.aspect+a,r=s*t.aspect+a,i.elements[0]=2*t.near/(r-n),i.elements[8]=(r+n)/(r-n),this.cameraL.projectionMatrix.copy(i),n=-s*t.aspect-a,r=s*t.aspect-a,i.elements[0]=2*t.near/(r-n),i.elements[8]=(r+n)/(r-n),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(ah),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(oh)}}),Object.assign(lh.prototype,{start:function(){this.startTime=("undefined"===typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"===typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}});var uh=new or,ch=new nr,fh=new or,hh=new or;function dh(){zr.call(this),this.type="AudioListener",this.context=th.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new lh}function ph(e){zr.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this._startedAt=0,this._progress=0,this.filters=[]}dh.prototype=Object.assign(Object.create(zr.prototype),{constructor:dh,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(e){zr.prototype.updateMatrixWorld.call(this,e);var t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(uh,ch,fh),hh.set(0,0,-1).applyQuaternion(ch),t.positionX){var r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(uh.x,r),t.positionY.linearRampToValueAtTime(uh.y,r),t.positionZ.linearRampToValueAtTime(uh.z,r),t.forwardX.linearRampToValueAtTime(hh.x,r),t.forwardY.linearRampToValueAtTime(hh.y,r),t.forwardZ.linearRampToValueAtTime(hh.z,r),t.upX.linearRampToValueAtTime(n.x,r),t.upY.linearRampToValueAtTime(n.y,r),t.upZ.linearRampToValueAtTime(n.z,r)}else t.setPosition(uh.x,uh.y,uh.z),t.setOrientation(hh.x,hh.y,hh.z,n.x,n.y,n.z)}}),ph.prototype=Object.assign(Object.create(zr.prototype),{constructor:ph,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setMediaStreamSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(e){if(void 0===e&&(e=0),!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},setLoopStart:function(e){return this.loopStart=e,this},setLoopEnd:function(e){return this.loopEnd=e,this},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}});var mh=new or,vh=new nr,gh=new or,yh=new or;function _h(e){ph.call(this,e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function bh(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function wh(e,t,n){var r,i,o;switch(this.binding=e,this.valueSize=n,t){case"quaternion":r=this._slerp,i=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":r=this._select,i=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:r=this._lerp,i=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=i,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}_h.prototype=Object.assign(Object.create(ph.prototype),{constructor:_h,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(e){if(zr.prototype.updateMatrixWorld.call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(mh,vh,gh),yh.set(0,0,1).applyQuaternion(vh);var t=this.panner;if(t.positionX){var n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(mh.x,n),t.positionY.linearRampToValueAtTime(mh.y,n),t.positionZ.linearRampToValueAtTime(mh.z,n),t.orientationX.linearRampToValueAtTime(yh.x,n),t.orientationY.linearRampToValueAtTime(yh.y,n),t.orientationZ.linearRampToValueAtTime(yh.z,n)}else t.setPosition(mh.x,mh.y,mh.z),t.setOrientation(yh.x,yh.y,yh.z)}}}),Object.assign(bh.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}),Object.assign(wh.prototype,{accumulate:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==r;++a)n[i+a]=n[a];o=t}else{var s=t/(o+=t);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=o},accumulateAdditive:function(e){var t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e},apply:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){var s=t*this._origIndex;this._mixBufferRegion(n,r,s,1-i,t)}o>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(var l=t,u=t+t;l!==u;++l)if(n[l]!==n[l+t]){a.setValue(n,r);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(var i=n,o=r;i!==o;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_setAdditiveIdentityNumeric:function(){for(var e=this._addIndex*this.valueSize,t=e+this.valueSize,n=e;n<t;n++)this.buffer[n]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[4*this._addIndex+3]=1},_setAdditiveIdentityOther:function(){for(var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]},_select:function(e,t,n,r,i){if(r>=.5)for(var o=0;o!==i;++o)e[t+o]=e[n+o]},_slerp:function(e,t,n,r){nr.slerpFlat(e,t,e,t,e,n,r)},_slerpAdditive:function(e,t,n,r,i){var o=this._workIndex*i;nr.multiplyQuaternionsFlat(e,o,e,t,e,n),nr.slerpFlat(e,t,e,t,e,o,r)},_lerp:function(e,t,n,r,i){for(var o=1-r,a=0;a!==i;++a){var s=t+a;e[s]=e[s]*o+e[n+a]*r}},_lerpAdditive:function(e,t,n,r,i){for(var o=0;o!==i;++o){var a=t+o;e[a]=e[a]+e[n+o]*r}}});var xh=new RegExp("[\\[\\]\\.:\\/]","g"),Ah="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",Mh=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),Sh=/(WCOD+)?/.source.replace("WCOD",Ah),Ch=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),Eh=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),Ih=new RegExp("^"+Mh+Sh+Ch+Eh+"$"),Th=["material","materials","bones"];function Lh(e,t,n){var r=n||zh.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}function zh(e,t,n){this.path=t,this.parsedPath=n||zh.parseTrackName(t),this.node=zh.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function kh(){this.uuid=Qn.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}function Dh(e,t,n,r){this._mixer=e,this._clip=t,this._localRoot=n||null,this.blendMode=r||t.blendMode;for(var i=t.tracks,o=i.length,a=new Array(o),s={endingStart:Yt,endingEnd:Yt},l=0;l!==o;++l){var u=i[l].createInterpolant(null);a[l]=u,u.settings=s}this._interpolantSettings=s,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Ht,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Oh(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Nh(e){"string"===typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function jh(e,t,n){tl.call(this,e,t),this.meshPerAttribute=n||1}function Ph(e,t,n,r){this.ray=new ri(e,t),this.near=n||0,this.far=r||1/0,this.camera=null,this.layers=new gr,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Rh(e,t){return e.distance-t.distance}function $h(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r)for(var i=e.children,o=0,a=i.length;o<a;o++)$h(i[o],t,n,!0)}Object.assign(Lh.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(zh,{Composite:Lh,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new zh.Composite(e,t,n):new zh(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(xh,"")},parseTrackName:function(e){var t=Ih.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==Th.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n},findNode:function(e,t){if(!t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===t||i.uuid===t)return i;var o=e(i.children);if(o)return o}return null}(e.children);if(r)return r}return null}}),Object.assign(zh.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,i=t.propertyIndex;if(e||(e=zh.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){var o=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var a=0;a<e.length;a++)if(e[a].name===o){o=a;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==o){if(void 0===e[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[o]}}var s=e[r];if(void 0!==s){var l=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);var u=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}u=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(u=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(u=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][l]}else{var c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(zh.prototype,{_getValue_unbound:zh.prototype.getValue,_setValue_unbound:zh.prototype.setValue}),Object.assign(kh.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,o=i.length,a=void 0,s=e.length,l=this.nCachedObjects_,u=0,c=arguments.length;u!==c;++u){var f=arguments[u],h=f.uuid,d=t[h];if(void 0===d){d=s++,t[h]=d,e.push(f);for(var p=0,m=o;p!==m;++p)i[p].push(new zh(f,n[p],r[p]))}else if(d<l){a=e[d];var v=--l,g=e[v];t[g.uuid]=d,e[d]=g,t[h]=v,e[v]=f;for(var y=0,_=o;y!==_;++y){var b=i[y],w=b[v],x=b[d];b[d]=w,void 0===x&&(x=new zh(f,n[y],r[y])),b[v]=x}}else e[d]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l},remove:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,o=0,a=arguments.length;o!==a;++o){var s=arguments[o],l=s.uuid,u=t[l];if(void 0!==u&&u>=i){var c=i++,f=e[c];t[f.uuid]=u,e[u]=f,t[l]=c,e[c]=s;for(var h=0,d=r;h!==d;++h){var p=n[h],m=p[c],v=p[u];p[u]=m,p[c]=v}}}this.nCachedObjects_=i},uncache:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,o=e.length,a=0,s=arguments.length;a!==s;++a){var l=arguments[a].uuid,u=t[l];if(void 0!==u)if(delete t[l],u<i){var c=--i,f=e[c],h=--o,d=e[h];t[f.uuid]=u,e[u]=f,t[d.uuid]=c,e[c]=d,e.pop();for(var p=0,m=r;p!==m;++p){var v=n[p],g=v[c],y=v[h];v[u]=g,v[c]=y,v.pop()}}else{var _=--o,b=e[_];t[b.uuid]=u,e[u]=b,e.pop();for(var w=0,x=r;w!==x;++w){var A=n[w];A[u]=A[_],A.pop()}}}this.nCachedObjects_=i},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var o=this._paths,a=this._parsedPaths,s=this._objects,l=s.length,u=this.nCachedObjects_,c=new Array(l);r=i.length,n[e]=r,o.push(e),a.push(t),i.push(c);for(var f=u,h=s.length;f!==h;++f){var d=s[f];c[f]=new zh(d,e,t)}return c},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];t[e[a]]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}}),Object.assign(Dh.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,o=i/r,a=r/i;e.warp(1,o,t),this.warp(a,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var r=this._mixer,i=r.time,o=this.timeScale,a=this._timeScaleInterpolant;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,l=a.sampleValues;return s[0]=i,s[1]=i+n,l[0]=e/o,l[1]=t/o,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var o=(e-i)*n;if(o<0||0===n)return;this._startTime=null,t=n*o}t*=this._updateTimeScale(e);var a=this._updateTime(t),s=this._updateWeight(e);if(s>0){var l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case en:for(var c=0,f=l.length;c!==f;++c)l[c].evaluate(a),u[c].accumulateAdditive(s);break;case Zt:default:for(var h=0,d=l.length;h!==d;++h)l[h].evaluate(a),u[h].accumulate(r,s)}}}else this._updateWeight(e)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this._clip.duration,n=this.loop,r=this.time+e,i=this._loopCount,o=n===Gt;if(0===e)return-1===i?r:o&&1===(1&i)?t-r:r;if(n===Bt){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),r>=t||r<0){var a=Math.floor(r/t);r-=t*a,i+=Math.abs(a);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var l=e<0;this._setEndings(l,!l,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&1===(1&i))return t-r}return r},_setEndings:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=Xt,r.endingEnd=Xt):(r.endingStart=e?this.zeroSlopeAtStart?Xt:Yt:Jt,r.endingEnd=t?this.zeroSlopeAtEnd?Xt:Yt:Jt)},_scheduleFading:function(e,t,n){var r=this._mixer,i=r.time,o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=t,a[1]=i+e,s[1]=n,this}}),Oh.prototype=Object.assign(Object.create(Un.prototype),{constructor:Oh,_bindAction:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,o=e._propertyBindings,a=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName,u=l[s];void 0===u&&(u={},l[s]=u);for(var c=0;c!==i;++c){var f=r[c],h=f.name,d=u[h];if(void 0!==d)o[c]=d;else{if(void 0!==(d=o[c])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,h));continue}var p=t&&t._propertyBindings[c].binding.parsedPath;++(d=new wh(zh.create(n,h,p),f.ValueTypeName,f.getValueSize())).referenceCount,this._addInactiveBinding(d,s,h),o[c]=d}a[c].resultBuffer=d.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var r=this._actions,i=this._actionsByClip,o=i[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o;else{var a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,l=s[s.length-1],u=e._byClipCacheIndex;l._byClipCacheIndex=u,s[u]=l,s.pop(),e._byClipCacheIndex=null,delete a.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_addInactiveBinding:function(e,t,n){var r=this._bindingsByRootAndName,i=this._bindings,o=r[t];void 0===o&&(o={},r[t]=o),o[n]=e,e._cacheIndex=i.length,i.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete a[i],0===Object.keys(a).length&&delete o[r]},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new zc(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t,n){var r=t||this._root,i=r.uuid,o="string"===typeof e?Kc.findByName(r,e):e,a=null!==o?o.uuid:e,s=this._actionsByClip[a],l=null;if(void 0===n&&(n=null!==o?o.blendMode:Zt),void 0!==s){var u=s.actionByRoot[i];if(void 0!==u&&u.blendMode===n)return u;l=s.knownActions[0],null===o&&(o=l._clip)}if(null===o)return null;var c=new Dh(this,o,t,n);return this._bindAction(c,l),this._addInactiveAction(c,a,i),c},existingAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"===typeof e?Kc.findByName(n,e):e,o=i?i.uuid:e,a=this._actionsByClip[o];return void 0!==a&&a.actionByRoot[r]||null},stopAllAction:function(){for(var e=this._actions,t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),o=this._accuIndex^=1,a=0;a!==n;++a){t[a]._update(r,e,i,o)}for(var s=this._bindings,l=this._nActiveBindings,u=0;u!==l;++u)s[u].apply(o);return this},setTime:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var o=i.knownActions,a=0,s=o.length;a!==s;++a){var l=o[a];this._deactivateAction(l);var u=l._cacheIndex,c=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,c._cacheIndex=u,t[u]=c,t.pop(),this._removeInactiveBindingsForAction(l)}delete r[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var o=this._bindingsByRootAndName[t];if(void 0!==o)for(var a in o){var s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),Nh.prototype.clone=function(){return new Nh(void 0===this.value.clone?this.value:this.value.clone())},jh.prototype=Object.assign(Object.create(tl.prototype),{constructor:jh,isInstancedInterleavedBuffer:!0,copy:function(e){return tl.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},clone:function(e){var t=tl.prototype.clone.call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t},toJSON:function(e){var t=tl.prototype.toJSON.call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}),Object.assign(Ph.prototype,{set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,n){var r=n||[];return $h(e,this,r,t),r.sort(Rh),r},intersectObjects:function(e,t,n){var r=n||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(var i=0,o=e.length;i<o;i++)$h(e[i],this,r,t);return r.sort(Rh),r}});var Fh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(s.a)(this,e),this.radius=t,this.phi=n,this.theta=r,this}return Object(i.a)(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"makeSafe",value:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Qn.clamp(t/this.radius,-1,1))),this}}]),e}();function Kh(e,t,n){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==n?n:0,this}Object.assign(Kh.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}});var Uh=new qn;function Vh(e,t){this.min=void 0!==e?e:new qn(1/0,1/0),this.max=void 0!==t?t:new qn(-1/0,-1/0)}Object.assign(Vh.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){var n=Uh.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new qn),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new qn),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new qn),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new qn),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return Uh.copy(e).clamp(this.min,this.max).sub(e).length()},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var Bh=new or,Hh=new or;function Gh(e,t){this.start=void 0!==e?e:new or,this.end=void 0!==t?t:new or}function Qh(e){zr.call(this),this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}Object.assign(Gh.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new or),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new or),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new or),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(e,t){Bh.subVectors(e,this.start),Hh.subVectors(this.end,this.start);var n=Hh.dot(Hh),r=Hh.dot(Bh)/n;return t&&(r=Qn.clamp(r,0,1)),r},closestPointToPoint:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new or),this.delta(n).multiplyScalar(r).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),Qh.prototype=Object.create(zr.prototype),Qh.prototype.constructor=Qh,Qh.prototype.isImmediateRenderObject=!0;var qh=new or;function Wh(e,t){zr.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var n=new Xi,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],i=0,o=1;i<32;i++,o++){var a=i/32*Math.PI*2,s=o/32*Math.PI*2;r.push(Math.cos(a),Math.sin(a),1,Math.cos(s),Math.sin(s),1)}n.setAttribute("position",new Fi(r,3));var l=new Dl({fog:!1,toneMapped:!1});this.cone=new Ul(n,l),this.add(this.cone),this.update()}Wh.prototype=Object.create(zr.prototype),Wh.prototype.constructor=Wh,Wh.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Wh.prototype.update=function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),qh.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(qh),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};var Yh=new or,Xh=new dr,Jh=new dr;function Zh(e){for(var t=function e(t){var n=[];t&&t.isBone&&n.push(t);for(var r=0;r<t.children.length;r++)n.push.apply(n,e(t.children[r]));return n}(e),n=new Xi,r=[],i=[],o=new xi(0,0,1),a=new xi(0,1,0),s=0;s<t.length;s++){var l=t[s];l.parent&&l.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(o.r,o.g,o.b),i.push(a.r,a.g,a.b))}n.setAttribute("position",new Fi(r,3)),n.setAttribute("color",new Fi(i,3));var u=new Dl({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});Ul.call(this,n,u),this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function ed(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;var r=new tc(t,4,2),i=new Ti({wireframe:!0,fog:!1,toneMapped:!1});vo.call(this,r,i),this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}Zh.prototype=Object.create(Ul.prototype),Zh.prototype.constructor=Zh,Zh.prototype.isSkeletonHelper=!0,Zh.prototype.updateMatrixWorld=function(e){var t=this.bones,n=this.geometry,r=n.getAttribute("position");Jh.getInverse(this.root.matrixWorld);for(var i=0,o=0;i<t.length;i++){var a=t[i];a.parent&&a.parent.isBone&&(Xh.multiplyMatrices(Jh,a.matrixWorld),Yh.setFromMatrixPosition(Xh),r.setXYZ(o,Yh.x,Yh.y,Yh.z),Xh.multiplyMatrices(Jh,a.parent.matrixWorld),Yh.setFromMatrixPosition(Xh),r.setXYZ(o+1,Yh.x,Yh.y,Yh.z),o+=2)}n.getAttribute("position").needsUpdate=!0,zr.prototype.updateMatrixWorld.call(this,e)},ed.prototype=Object.create(vo.prototype),ed.prototype.constructor=ed,ed.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},ed.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)};var td=new or,nd=new xi,rd=new xi;function id(e,t,n){zr.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var r=new uu(t);r.rotateY(.5*Math.PI),this.material=new Ti({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);var i=r.getAttribute("position"),o=new Float32Array(3*i.count);r.setAttribute("color",new ki(o,3)),this.add(new vo(r,this.material)),this.update()}function od(e,t,n,r){e=e||10,t=t||10,n=new xi(void 0!==n?n:4473924),r=new xi(void 0!==r?r:8947848);for(var i=t/2,o=e/t,a=e/2,s=[],l=[],u=0,c=0,f=-a;u<=t;u++,f+=o){s.push(-a,0,f,a,0,f),s.push(f,0,-a,f,0,a);var h=u===i?n:r;h.toArray(l,c),c+=3,h.toArray(l,c),c+=3,h.toArray(l,c),c+=3,h.toArray(l,c),c+=3}var d=new Xi;d.setAttribute("position",new Fi(s,3)),d.setAttribute("color",new Fi(l,3));var p=new Dl({vertexColors:!0,toneMapped:!1});Ul.call(this,d,p),this.type="GridHelper"}function ad(e,t,n,r,i,o){e=e||10,t=t||16,n=n||8,r=r||64,i=new xi(void 0!==i?i:4473924),o=new xi(void 0!==o?o:8947848);for(var a=[],s=[],l=0;l<=t;l++){var u=l/t*(2*Math.PI),c=Math.sin(u)*e,f=Math.cos(u)*e;a.push(0,0,0),a.push(c,0,f);var h=1&l?i:o;s.push(h.r,h.g,h.b),s.push(h.r,h.g,h.b)}for(var d=0;d<=n;d++)for(var p=1&d?i:o,m=e-e/n*d,v=0;v<r;v++){var g=v/r*(2*Math.PI),y=Math.sin(g)*m,_=Math.cos(g)*m;a.push(y,0,_),s.push(p.r,p.g,p.b),g=(v+1)/r*(2*Math.PI),y=Math.sin(g)*m,_=Math.cos(g)*m,a.push(y,0,_),s.push(p.r,p.g,p.b)}var b=new Xi;b.setAttribute("position",new Fi(a,3)),b.setAttribute("color",new Fi(s,3));var w=new Dl({vertexColors:!0,toneMapped:!1});Ul.call(this,b,w),this.type="PolarGridHelper"}id.prototype=Object.create(zr.prototype),id.prototype.constructor=id,id.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},id.prototype.update=function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");nd.copy(this.light.color),rd.copy(this.light.groundColor);for(var n=0,r=t.count;n<r;n++){var i=n<r/2?nd:rd;t.setXYZ(n,i.r,i.g,i.b)}t.needsUpdate=!0}e.lookAt(td.setFromMatrixPosition(this.light.matrixWorld).negate())},od.prototype=Object.create(Ul.prototype),od.prototype.constructor=od,ad.prototype=Object.create(Ul.prototype),ad.prototype.constructor=ad;var sd=new or,ld=new or,ud=new or;function cd(e,t,n){zr.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===t&&(t=1);var r=new Xi;r.setAttribute("position",new Fi([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var i=new Dl({fog:!1,toneMapped:!1});this.lightPlane=new $l(r,i),this.add(this.lightPlane),(r=new Xi).setAttribute("position",new Fi([0,0,0,0,0,1],3)),this.targetLine=new $l(r,i),this.add(this.targetLine),this.update()}cd.prototype=Object.create(zr.prototype),cd.prototype.constructor=cd,cd.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},cd.prototype.update=function(){sd.setFromMatrixPosition(this.light.matrixWorld),ld.setFromMatrixPosition(this.light.target.matrixWorld),ud.subVectors(ld,sd),this.lightPlane.lookAt(ld),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(ld),this.targetLine.scale.z=ud.length()};var fd=new or,hd=new ko;function dd(e){var t=new Xi,n=new Dl({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],i=[],o={},a=new xi(16755200),s=new xi(16711680),l=new xi(43775),u=new xi(16777215),c=new xi(3355443);function f(e,t,n){h(e,n),h(t,n)}function h(e,t){r.push(0,0,0),i.push(t.r,t.g,t.b),void 0===o[e]&&(o[e]=[]),o[e].push(r.length/3-1)}f("n1","n2",a),f("n2","n4",a),f("n4","n3",a),f("n3","n1",a),f("f1","f2",a),f("f2","f4",a),f("f4","f3",a),f("f3","f1",a),f("n1","f1",a),f("n2","f2",a),f("n3","f3",a),f("n4","f4",a),f("p","n1",s),f("p","n2",s),f("p","n3",s),f("p","n4",s),f("u1","u2",l),f("u2","u3",l),f("u3","u1",l),f("c","t",u),f("p","c",c),f("cn1","cn2",c),f("cn3","cn4",c),f("cf1","cf2",c),f("cf3","cf4",c),t.setAttribute("position",new Fi(r,3)),t.setAttribute("color",new Fi(i,3)),Ul.call(this,t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}function pd(e,t,n,r,i,o,a){fd.set(i,o,a).unproject(r);var s=t[e];if(void 0!==s)for(var l=n.getAttribute("position"),u=0,c=s.length;u<c;u++)l.setXYZ(s[u],fd.x,fd.y,fd.z)}dd.prototype=Object.create(Ul.prototype),dd.prototype.constructor=dd,dd.prototype.update=function(){var e=this.geometry,t=this.pointMap;hd.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),pd("c",t,e,hd,0,0,-1),pd("t",t,e,hd,0,0,1),pd("n1",t,e,hd,-1,-1,-1),pd("n2",t,e,hd,1,-1,-1),pd("n3",t,e,hd,-1,1,-1),pd("n4",t,e,hd,1,1,-1),pd("f1",t,e,hd,-1,-1,1),pd("f2",t,e,hd,1,-1,1),pd("f3",t,e,hd,-1,1,1),pd("f4",t,e,hd,1,1,1),pd("u1",t,e,hd,.7,1.1,-1),pd("u2",t,e,hd,-.7,1.1,-1),pd("u3",t,e,hd,0,2,-1),pd("cf1",t,e,hd,-1,0,1),pd("cf2",t,e,hd,1,0,1),pd("cf3",t,e,hd,0,-1,1),pd("cf4",t,e,hd,0,1,1),pd("cn1",t,e,hd,-1,0,-1),pd("cn2",t,e,hd,1,0,-1),pd("cn3",t,e,hd,0,-1,-1),pd("cn4",t,e,hd,0,1,-1),e.getAttribute("position").needsUpdate=!0};var md=new Gr;function vd(e,t){this.object=e,void 0===t&&(t=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new Xi;i.setIndex(new ki(n,1)),i.setAttribute("position",new ki(r,3)),Ul.call(this,i,new Dl({color:t,toneMapped:!1})),this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}function gd(e,t){this.type="Box3Helper",this.box=e,void 0===t&&(t=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Xi;r.setIndex(new ki(n,1)),r.setAttribute("position",new Fi([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),Ul.call(this,r,new Dl({color:t,toneMapped:!1})),this.type="Box3Helper",this.geometry.computeBoundingSphere()}function yd(e,t,n){this.plane=e,this.size=void 0===t?1:t;var r=void 0!==n?n:16776960,i=new Xi;i.setAttribute("position",new Fi([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),i.computeBoundingSphere(),$l.call(this,i,new Dl({color:r,toneMapped:!1})),this.type="PlaneHelper";var o=new Xi;o.setAttribute("position",new Fi([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),o.computeBoundingSphere(),this.add(new vo(o,new Ti({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}vd.prototype=Object.create(Ul.prototype),vd.prototype.constructor=vd,vd.prototype.update=function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&md.setFromObject(this.object),!md.isEmpty()){var t=md.min,n=md.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}},vd.prototype.setFromObject=function(e){return this.object=e,this.update(),this},vd.prototype.copy=function(e){return Ul.prototype.copy.call(this,e),this.object=e.object,this},gd.prototype=Object.create(Ul.prototype),gd.prototype.constructor=gd,gd.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),zr.prototype.updateMatrixWorld.call(this,e))},yd.prototype=Object.create($l.prototype),yd.prototype.constructor=yd,yd.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?A:x,this.lookAt(this.plane.normal),zr.prototype.updateMatrixWorld.call(this,e)};var _d,bd,wd=new or;function xd(e,t,n,r,i,o){zr.call(this),this.type="ArrowHelper",void 0===e&&(e=new or(0,0,1)),void 0===t&&(t=new or(0,0,0)),void 0===n&&(n=1),void 0===r&&(r=16776960),void 0===i&&(i=.2*n),void 0===o&&(o=.2*i),void 0===_d&&((_d=new Xi).setAttribute("position",new Fi([0,0,0,0,1,0],3)),(bd=new fc(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(t),this.line=new $l(_d,new Dl({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new vo(bd,new Ti({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,o)}function Ad(e){var t=[0,0,0,e=e||1,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new Xi;n.setAttribute("position",new Fi(t,3)),n.setAttribute("color",new Fi([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var r=new Dl({vertexColors:!0,toneMapped:!1});Ul.call(this,n,r),this.type="AxesHelper"}xd.prototype=Object.create(zr.prototype),xd.prototype.constructor=xd,xd.prototype.setDirection=function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{wd.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(wd,t)}},xd.prototype.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},xd.prototype.setColor=function(e){this.line.material.color.set(e),this.cone.material.color.set(e)},xd.prototype.copy=function(e){return zr.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this},Ad.prototype=Object.create(Ul.prototype),Ad.prototype.constructor=Ad;var Md=4,Sd=8,Cd=Math.pow(2,Sd),Ed=[.125,.215,.35,.446,.526,.582],Id=Sd-Md+1+Ed.length,Td=20,Ld=(r={},Object(o.a)(r,on,0),Object(o.a)(r,an,1),Object(o.a)(r,ln,2),Object(o.a)(r,cn,3),Object(o.a)(r,fn,4),Object(o.a)(r,hn,5),Object(o.a)(r,sn,6),r),zd=new kf,kd=function(){for(var e=[],t=[],n=[],r=Sd,i=0;i<Id;i++){var o=Math.pow(2,r);t.push(o);var a=1/o;i>Sd-Md?a=Ed[i-Sd+Md-1]:0==i&&(a=0),n.push(a);for(var s=1/(o-1),l=-s/2,u=1+s/2,c=[l,l,u,l,u,u,l,l,u,u,l,u],f=new Float32Array(108),h=new Float32Array(72),d=new Float32Array(36),p=0;p<6;p++){var m=p%3*2/3-1,v=p>2?0:-1,g=[m,v,0,m+2/3,v,0,m+2/3,v+1,0,m,v,0,m+2/3,v+1,0,m,v+1,0];f.set(g,18*p),h.set(c,12*p);var y=[p,p,p,p,p,p];d.set(y,6*p)}var _=new Xi;_.setAttribute("position",new ki(f,3)),_.setAttribute("uv",new ki(h,2)),_.setAttribute("faceIndex",new ki(d,1)),e.push(_),r>Md&&r--}return{_lodPlanes:e,_sizeLods:t,_sigmas:n}}(),Dd=kd._lodPlanes,Od=kd._sizeLods,Nd=kd._sigmas,jd=null,Pd=(1+Math.sqrt(5))/2,Rd=1/Pd,$d=[new or(1,1,1),new or(-1,1,1),new or(1,1,-1),new or(-1,1,-1),new or(0,Pd,Rd),new or(0,Pd,-Rd),new or(Rd,0,Pd),new or(-Rd,0,Pd),new or(Pd,Rd,0),new or(-Pd,Rd,0)];function Fd(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=function(e){var t=new Float32Array(e),n=new or(0,1,0);return new yc({name:"SphericalGaussianBlur",defines:{n:e},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n},inputEncoding:{value:Ld[on]},outputEncoding:{value:Ld[on]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"),blending:E,depthTest:!1,depthWrite:!1})}(Td),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}function Kd(e){return void 0!==e&&e.type===ke&&(e.encoding===on||e.encoding===an||e.encoding===sn)}function Ud(e){var t=new er(3*Cd,3*Cd,e);return t.texture.mapping=ge,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function Vd(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function Bd(){return new yc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:new qn(1,1)},inputEncoding:{value:Ld[on]},outputEncoding:{value:Ld[on]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"),blending:E,depthTest:!1,depthWrite:!1})}function Hd(){return new yc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Ld[on]},outputEncoding:{value:Ld[on]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"),blending:E,depthTest:!1,depthWrite:!1})}function Gd(e,t,n,r,i,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new Ci(e,t,n,i,o,a)}Fd.prototype={constructor:Fd,fromScene:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;jd=this._renderer.getRenderTarget();var i=this._allocateTargets();return this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i},fromEquirectangular:function(e){return this._fromTexture(e)},fromCubemap:function(e){return this._fromTexture(e)},compileCubemapShader:function(){null===this._cubemapShader&&(this._cubemapShader=Hd(),this._compileMaterial(this._cubemapShader))},compileEquirectangularShader:function(){null===this._equirectShader&&(this._equirectShader=Bd(),this._compileMaterial(this._equirectShader))},dispose:function(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(var e=0;e<Dd.length;e++)Dd[e].dispose()},_cleanup:function(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(jd),e.scissorTest=!1,Vd(e,0,0,e.width,e.height)},_fromTexture:function(e){jd=this._renderer.getRenderTarget();var t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t},_allocateTargets:function(e){var t={magFilter:xe,minFilter:xe,generateMipmaps:!1,type:ke,format:We,encoding:Kd(e)?e.encoding:ln,depthBuffer:!1,stencilBuffer:!1},n=Ud(t);return n.depthBuffer=!e,this._pingPongRenderTarget=Ud(t),n},_compileMaterial:function(e){var t=new vo(Dd[0],e);this._renderer.compile(t,zd)},_sceneToCubeUV:function(e,t,n,r){var i=new Do(90,1,t,n),o=[1,-1,1,1,1,1],a=[1,1,1,-1,-1,-1],s=this._renderer,l=s.outputEncoding,u=s.toneMapping,c=s.getClearColor(),f=s.getClearAlpha();s.toneMapping=ae,s.outputEncoding=on;var h=e.background;if(h&&h.isColor){h.convertSRGBToLinear();var d=Math.max(h.r,h.g,h.b),p=Math.min(Math.max(Math.ceil(Math.log2(d)),-128),127);h=h.multiplyScalar(Math.pow(2,-p));var m=(p+128)/255;s.setClearColor(h,m),e.background=null}for(var v=0;v<6;v++){var g=v%3;0==g?(i.up.set(0,o[v],0),i.lookAt(a[v],0,0)):1==g?(i.up.set(0,0,o[v]),i.lookAt(0,a[v],0)):(i.up.set(0,o[v],0),i.lookAt(0,0,a[v])),Vd(r,g*Cd,v>2?Cd:0,Cd,Cd),s.setRenderTarget(r),s.render(e,i)}s.toneMapping=u,s.outputEncoding=l,s.setClearColor(c,f)},_textureToCubeUV:function(e,t){var n=this._renderer;e.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=Hd()):null==this._equirectShader&&(this._equirectShader=Bd());var r=e.isCubeTexture?this._cubemapShader:this._equirectShader,i=new vo(Dd[0],r),o=r.uniforms;o.envMap.value=e,e.isCubeTexture||o.texelSize.value.set(1/e.image.width,1/e.image.height),o.inputEncoding.value=Ld[e.encoding],o.outputEncoding.value=Ld[t.texture.encoding],Vd(t,0,0,3*Cd,2*Cd),n.setRenderTarget(t),n.render(i,zd)},_applyPMREM:function(e){var t=this._renderer,n=t.autoClear;t.autoClear=!1;for(var r=1;r<Id;r++){var i=Math.sqrt(Nd[r]*Nd[r]-Nd[r-1]*Nd[r-1]),o=$d[(r-1)%$d.length];this._blur(e,r-1,r,i,o)}t.autoClear=n},_blur:function(e,t,n,r,i){var o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,r,"latitudinal",i),this._halfBlur(o,e,n,n,r,"longitudinal",i)},_halfBlur:function(e,t,n,r,i,o,a){var s=this._renderer,l=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");var u=new vo(Dd[r],l),c=l.uniforms,f=Od[n]-1,h=isFinite(i)?Math.PI/(2*f):2*Math.PI/(2*Td-1),d=i/h,p=isFinite(i)?1+Math.floor(3*d):Td;p>Td&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(p," samples when the maximum is set to ").concat(Td));for(var m=[],v=0,g=0;g<Td;++g){var y=g/d,_=Math.exp(-y*y/2);m.push(_),0==g?v+=_:g<p&&(v+=2*_)}for(var b=0;b<m.length;b++)m[b]=m[b]/v;c.envMap.value=e.texture,c.samples.value=p,c.weights.value=m,c.latitudinal.value="latitudinal"===o,a&&(c.poleAxis.value=a),c.dTheta.value=h,c.mipInt.value=Sd-n,c.inputEncoding.value=Ld[e.texture.encoding],c.outputEncoding.value=Ld[e.texture.encoding];var w=Od[r];Vd(t,3*Math.max(0,Cd-2*w),(0===r?0:2*Cd)+2*w*(r>Sd-Md?r-Sd+Md:0),3*w,2*w),s.setRenderTarget(t),s.render(u,zd)}};var Qd=0,qd=1,Wd=0,Yd=1,Xd=2;function Jd(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e}function Zd(e){return void 0===e&&(e=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e}function ep(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Wl(e,t)}function tp(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new yl(e)}function np(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Wl(e,t)}function rp(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Bl(e)}function ip(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Bl(e)}function op(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Bl(e)}function ap(e,t,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new or(e,t,n)}function sp(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new ki(e,t).setUsage(On)}function lp(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Di(e,t)}function up(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Oi(e,t)}function cp(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Ni(e,t)}function fp(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new ji(e,t)}function hp(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Pi(e,t)}function dp(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Ri(e,t)}function pp(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new $i(e,t)}function mp(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Fi(e,t)}function vp(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Ki(e,t)}function gp(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),cf.call(this,e),this.type="catmullrom",this.closed=!0}function yp(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),cf.call(this,e),this.type="catmullrom"}function _p(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),cf.call(this,e),this.type="catmullrom"}function bp(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new Ad(e)}function wp(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new vd(e,t)}function xp(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Ul(new uc(e.geometry),new Dl({color:void 0!==t?t:16777215}))}function Ap(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Ul(new tu(e.geometry),new Dl({color:void 0!==t?t:16777215}))}function Mp(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new qc(e)}function Sp(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Xc(e)}function Cp(e,t,n){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new Po(e,n)}tf.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(tf.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(xf.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new Ao,n=0,r=e.length;n<r;n++){var i=e[n];t.vertices.push(new or(i.x,i.y,i.z||0))}return t}}),Object.assign(Af.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),gp.prototype=Object.create(cf.prototype),yp.prototype=Object.create(cf.prototype),_p.prototype=Object.create(cf.prototype),Object.assign(_p.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),od.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Zh.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Gc.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Ff.extractUrlBase(e)}}),Gc.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(Hf.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}),Object.assign(Vh.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(Gr.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(Wr.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),Ko.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},Gh.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(Qn,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Qn.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Qn.ceilPowerOfTwo(e)}}),Object.assign(Wn.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(dr.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new or).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,i,o)}}),si.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},nr.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(ri.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(yi.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(yi,{barycoordFromPoint:function(e,t,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),yi.getBarycoord(e,t,n,r,i)},normal:function(e,t,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),yi.getNormal(e,t,n,r)}}),Object.assign(Mf.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new qu(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new ac(this,e)}}),Object.assign(qn.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(or.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Zn.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Ao.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.assign(zr.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.defineProperties(zr.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(vo.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(vo.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),tn},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(xl.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Cl.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Al.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(tf.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),Do.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(Sf.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(ki.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===On},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(On)}}}),Object.assign(ki.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?On:Dn),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(Xi.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new ki(arguments[1],arguments[2])))},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},applyMatrix:function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.defineProperties(Xi.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Kf.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(e){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=e}}}),Object.defineProperties(Ph.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(e){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=e}}}),Object.defineProperties(tl.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===On},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}}),Object.assign(tl.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?On:Dn),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(Wu.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(Nh.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Ii.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new xi}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===S}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),Object.defineProperties(wc.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(bc.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(e){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=e}}}),Object.defineProperties(zo.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(Xs.prototype,{clearTarget:function(e,t,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,r)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(Xs.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?an:on}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(Us.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(er.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(ph.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new nh).load(e,function(e){t.setBuffer(e)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),bh.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},jo.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};var Ep={merge:function(e,t,n){var r;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),r=t.matrix,t=t.geometry),e.merge(t,r,n)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}};function Ip(){console.error("THREE.CanvasRenderer has been removed")}function Tp(){console.error("THREE.JSONLoader has been removed.")}Yn.crossOrigin=void 0,Yn.loadTexture=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new ef;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},Yn.loadTextureCube=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new Zc;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},Yn.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Yn.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var Lp={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function zp(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:f}}))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.genericHashLink=m,t.HashLink=v,t.NavHashLink=g;var o=l(n(0)),a=l(n(23)),s=n(143);function l(e){return e&&e.__esModule?e:{default:e}}var u="",c=null,f=null,h=null;function d(){u="",null!==c&&c.disconnect(),null!==f&&(window.clearTimeout(f),f=null)}function p(){var e=document.getElementById(u);return null!==e&&(h(e),d(),!0)}function m(e,t){e.scroll,e.smooth;var n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["scroll","smooth"]);return o.default.createElement(t,r({},n,{onClick:function(t){d(),e.onClick&&e.onClick(t),"string"===typeof e.to?u=e.to.split("#").slice(1).join("#"):"object"===i(e.to)&&"string"===typeof e.to.hash&&(u=e.to.hash.replace("#","")),""!==u&&(h=e.scroll||function(t){return e.smooth?t.scrollIntoView({behavior:"smooth"}):t.scrollIntoView()},window.setTimeout(function(){!1===p()&&(null===c&&(c=new MutationObserver(p)),c.observe(document,{attributes:!0,childList:!0,subtree:!0}),f=window.setTimeout(function(){d()},1e4))},0))}}),e.children)}function v(e){return m(e,s.Link)}function g(e){return m(e,s.NavLink)}var y={onClick:a.default.func,children:a.default.node,scroll:a.default.func,to:a.default.oneOfType([a.default.string,a.default.object])};v.propTypes=y,g.propTypes=y},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(63);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r.a)(e,t)}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}var o=n(13);function a(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?Object(o.a)(e):t}n.d(t,"a",function(){return a})},function(e,t,n){"use strict";var r=n(103);var i=n(104);function o(e,t){return Object(r.a)(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||Object(i.a)()}n.d(t,"a",function(){return o})},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",function(){return i})},function(e,t,n){e.exports=n(489)},function(e,t,n){"use strict";var r=n(16),i=n(11),o=n(103),a=n(108),s=n(104);var l=n(7),u=n(12);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var h,d=n(1),p=n(245),m=n.n(p),v=n(111),g=n(0),y=n.n(g),_=n(246),b=n(247),w=n.n(b),x=n(248),A=[],M="ResizeObserver loop completed with undelivered notifications.";!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(h||(h={}));var S,C=function(){function e(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Object.freeze(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),E=function(e){return e instanceof SVGElement&&"getBBox"in e},I=function(e){if(E(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var i=e,o=i.offsetWidth,a=i.offsetHeight;return!(o||a||e.getClientRects().length)},T=function(e){var t,n,r=null===(n=null===(t=e)||void 0===t?void 0:t.ownerDocument)||void 0===n?void 0:n.defaultView;return!!(r&&e instanceof r.Element)},L="undefined"!==typeof window?window:{},z=new WeakMap,k=/auto|scroll/,D=/^tb|vertical/,O=/msie|trident/i.test(L.navigator&&L.navigator.userAgent),N=function(e){return parseFloat(e||"0")},j=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),Object.freeze({inlineSize:(n?t:e)||0,blockSize:(n?e:t)||0})},P=Object.freeze({devicePixelContentBoxSize:j(),borderBoxSize:j(),contentBoxSize:j(),contentRect:new C(0,0,0,0)}),R=function(e,t){if(void 0===t&&(t=!1),z.has(e)&&!t)return z.get(e);if(I(e))return z.set(e,P),P;var n=getComputedStyle(e),r=E(e)&&e.ownerSVGElement&&e.getBBox(),i=!O&&"border-box"===n.boxSizing,o=D.test(n.writingMode||""),a=!r&&k.test(n.overflowY||""),s=!r&&k.test(n.overflowX||""),l=r?0:N(n.paddingTop),u=r?0:N(n.paddingRight),c=r?0:N(n.paddingBottom),f=r?0:N(n.paddingLeft),h=r?0:N(n.borderTopWidth),d=r?0:N(n.borderRightWidth),p=r?0:N(n.borderBottomWidth),m=f+u,v=l+c,g=(r?0:N(n.borderLeftWidth))+d,y=h+p,_=s?e.offsetHeight-y-e.clientHeight:0,b=a?e.offsetWidth-g-e.clientWidth:0,w=i?m+g:0,x=i?v+y:0,A=r?r.width:N(n.width)-w-b,M=r?r.height:N(n.height)-x-_,S=A+m+b+g,T=M+v+_+y,L=Object.freeze({devicePixelContentBoxSize:j(Math.round(A*devicePixelRatio),Math.round(M*devicePixelRatio),o),borderBoxSize:j(S,T,o),contentBoxSize:j(A,M,o),contentRect:new C(f,l,A,M)});return z.set(e,L),L},$=function(e,t,n){var r=R(e,n),i=r.borderBoxSize,o=r.contentBoxSize,a=r.devicePixelContentBoxSize;switch(t){case h.DEVICE_PIXEL_CONTENT_BOX:return a;case h.BORDER_BOX:return i;default:return o}},F=function(){return function(e){var t=R(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=[t.borderBoxSize],this.contentBoxSize=[t.contentBoxSize],this.devicePixelContentBoxSize=[t.devicePixelContentBoxSize]}}(),K=function(e){if(I(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},U=function(){var e=1/0,t=[];A.forEach(function(n){if(0!==n.activeTargets.length){var r=[];n.activeTargets.forEach(function(t){var n=new F(t.target),i=K(t.target);r.push(n),t.lastReportedSize=$(t.target,t.observedBox),i<e&&(e=i)}),t.push(function(){n.callback.call(n.observer,r,n.observer)}),n.activeTargets.splice(0,n.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){(0,r[n])()}return e},V=function(e){A.forEach(function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach(function(n){n.isActive()&&(K(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))})})},B=function(){var e=0;for(V(e);A.some(function(e){return e.activeTargets.length>0});)e=U(),V(e);return A.some(function(e){return e.skippedTargets.length>0})&&function(){var e;"function"===typeof ErrorEvent?e=new ErrorEvent("error",{message:M}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=M),window.dispatchEvent(e)}(),e>0},H=[],G=function(e){if(!S){var t=0,n=document.createTextNode("");new MutationObserver(function(){return H.splice(0).forEach(function(e){return e()})}).observe(n,{characterData:!0}),S=function(){n.textContent=""+(t?t--:t++)}}H.push(e),S()},Q=0,q={attributes:!0,characterData:!0,childList:!0,subtree:!0},W=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Y=function(e){return void 0===e&&(e=0),Date.now()+e},X=!1,J=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!X){X=!0;var n,r=Y(e);n=function(){var n=!1;try{n=B()}finally{if(X=!1,e=r-Y(),!Q)return;n?t.run(1e3):e>0?t.run(e):t.start()}},G(function(){requestAnimationFrame(n)})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,q)};document.body?t():L.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),W.forEach(function(t){return L.addEventListener(t,e.listener,!0)}))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),W.forEach(function(t){return L.removeEventListener(t,e.listener,!0)}),this.stopped=!0)},e}()),Z=function(e){!Q&&e>0&&J.start(),!(Q+=e)&&J.stop()},ee=function(){function e(e,t){this.target=e,this.observedBox=t||h.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=$(this.target,this.observedBox,!0);return e=this.target,E(e)||function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),te=function(){return function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t}}(),ne=new WeakMap,re=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},ie=function(){function e(){}return e.connect=function(e,t){var n=new te(e,t);ne.set(e,n)},e.observe=function(e,t,n){var r=ne.get(e),i=0===r.observationTargets.length;re(r.observationTargets,t)<0&&(i&&A.push(r),r.observationTargets.push(new ee(t,n&&n.box)),Z(1),J.schedule())},e.unobserve=function(e,t){var n=ne.get(e),r=re(n.observationTargets,t),i=1===n.observationTargets.length;r>=0&&(i&&A.splice(A.indexOf(n),1),n.observationTargets.splice(r,1),Z(-1))},e.disconnect=function(e){var t=this,n=ne.get(e);n.observationTargets.slice().forEach(function(n){return t.unobserve(e,n.target)}),n.activeTargets.splice(0,n.activeTargets.length)},e}(),oe=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!==typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");ie.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!T(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");ie.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!T(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");ie.unobserve(this,e)},e.prototype.disconnect=function(){ie.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),ae=n(20);n.d(t,"a",function(){return We}),n.d(t,"b",function(){return ve}),n.d(t,"c",function(){return me}),n.d(t,"d",function(){return Ae}),n.d(t,"e",function(){return xe}),n.d(t,"f",function(){return Fe}),n.d(t,"g",function(){return He}),n.d(t,"h",function(){return Ve}),n.d(t,"i",function(){return Ke}),n.d(t,"j",function(){return Ue});function se(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var le=new Map,ue={},ce={obj:function(e){return e===Object(e)&&!ce.arr(e)},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},und:function(e){return void 0===e},arr:function(e){return Array.isArray(e)},equ:function(e,t){if(typeof e!==typeof t||!!e!==!!t)return!1;if(ce.str(e)||ce.num(e)||ce.obj(e))return e===t;if(ce.arr(e)&&e==t)return!0;var n;for(n in e)if(!(n in t))return!1;for(n in t)if(e[n]!==t[n])return!1;return!ce.und(n)||e===t}};function fe(e,t){var n=t.length;return t.push(e),function(){t.splice(n,1)}}var he=[],de=[],pe=[],me=function(e){return fe(e,he)},ve=function(e){return fe(e,de)};function ge(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];r&&he.forEach(function(e){return e(t)&&n++});var i=e.current.clock.getDelta();return e.current.subscribers.forEach(function(t){return t.ref.current(e.current,i)}),e.current.frames=Math.max(0,e.current.frames-1),n+=e.current.invalidateFrameloop?e.current.frames:1,e.current.manual||e.current.gl.render(e.current.scene,e.current.camera),r&&de.forEach(function(e){return e(t)}),n}var ye=!1;function _e(e){ye=!0;var t=0;if(he.forEach(function(n){return n(e)&&t++}),le.forEach(function(n){var r=n.containerInfo.__state;r.current.active&&r.current.ready&&(!r.current.invalidateFrameloop||r.current.frames>0)&&(t=ge(r,e,t))}),de.forEach(function(t){return t(e)}),0!==t)return requestAnimationFrame(_e);pe.forEach(function(t){return t(e)}),ye=!1}function be(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!0===e)le.forEach(function(e){return e.containerInfo.__state.current.frames=t});else if(e&&e.current){if(e.current.vr)return;e.current.frames=t}ye||(ye=!0,requestAnimationFrame(_e))}var we={},xe=function(e){we=c({},we,e)};function Ae(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],h=e.__container,p=Object.keys(t).filter(function(e){return ce.equ(t[e],n[e])}),m=Object.keys(t).filter(function(e){if(ce.fun(t[e])&&e.startsWith("on"))return e.includes("Pointer")||e.includes("Click")||e.includes("ContextMenu")||e.includes("Wheel")}),v=r?Object.keys(n).filter(function(e){return void 0===t[e]}):[],g=[].concat(Object(u.a)(p),["children","key","ref"]);e.__instance&&g.push("object");var y=g.reduce(function(e,t){return f(e,[t].map(se))},t);if(v.forEach(function(e){return"children"!==e&&(y[e]=void 0)}),Object.keys(y).length>0){if(Object.entries(y).forEach(function(t){var n,r=Object(l.a)(t,2),i=r[0],c=r[1];if(!m.includes(i)){var f,h=e,p=h[i];if(i.includes("-")){var v=i.split("-");if(!(p=v.reduce(function(e,t){return e[t]},e))||!p.set){var g=v.reverse(),y=(n=g,Object(o.a)(n)||Object(a.a)(n)||Object(s.a)()),_=y[0];h=y.slice(1).reverse().reduce(function(e,t){return e[t]},e),i=_}}var b,w=null==(f=e.__container)?void 0:f.__state.current.colorManagement;if(p&&p.set&&(p.copy||p instanceof d.Layers))Array.isArray(c)?(b=p).set.apply(b,Object(u.a)(c)):p.copy&&c&&c.constructor&&p.constructor.name===c.constructor.name?p.copy(c):void 0!==c&&(p.set(c),w&&p instanceof d.Color&&p.convertSRGBToLinear());else h[i]=c,w&&h[i]instanceof d.Texture&&(h[i].encoding=d.sRGBEncoding);Me(e)}}),r&&h&&e.raycast&&e.__handlers){e.__handlers=void 0;var _=h.__interaction.indexOf(e);_>-1&&h.__interaction.splice(_,1)}m.length&&(h&&e.raycast&&h.__interaction.push(e),e.__handlers=m.reduce(function(e,n){return c({},e,Object(i.a)({},n.charAt(2).toLowerCase()+n.substr(3),t[n]))},{})),e.parent&&Se(e)}}function Me(e){e.__container&&e.__container.__state&&be(e.__container.__state)}function Se(e){e.onUpdate&&e.onUpdate(e)}function Ce(e,t,n,i,o){var a,s=t.args,l=void 0===s?[]:s,c=f(t,["args"]),h=""+e[0].toUpperCase()+e.slice(1);if("primitive"===e)(a=c.object).__instance=!0;else if("new"===e)a=new c.object(l);else{var p=we[h]||d[h];if(!p)throw'"'+h+'" is not part of the THREE namespace! Did you forget to extend it? See: https://github.com/react-spring/react-three-fiber#using-3rd-party-non-three-namespaced-objects-in-the-scene-graph';a=ce.arr(l)?Object(r.a)(p,Object(u.a)(l)):new p(l)}for(;n.__container;)n=n.__container;if(!le.has(n)){n=function e(t){return t.return?e(t.return):t.stateNode&&t.stateNode.containerInfo}(o)}return a.__objects=[],a.__container=n,Ae(a,c,{}),a}function Ee(e,t){t&&(t.isObject3D?e.add(t):(e.__objects.push(t),t.parent=e,t.attach?e[t.attach]=t:t.attachArray?(ce.arr(e[t.attachArray])||(e[t.attachArray]=[]),e[t.attachArray].push(t)):t.attachObject&&(ce.obj(e[t.attachObject[0]])||(e[t.attachObject[0]]={}),e[t.attachObject[0]][t.attachObject[1]]=t)),Se(t),Me(t))}function Ie(e,t,n){if(t){if(t.isObject3D){t.parent=e,t.dispatchEvent({type:"added"});var r=e.children.filter(function(e){return e!==t}),i=r.indexOf(n);e.children=[].concat(Object(u.a)(r.slice(0,i)),[t],Object(u.a)(r.slice(i))),Se(t)}else Ee(e,t);Me(t)}}function Te(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&(n?Object(u.a)(e):e).forEach(function(e){return Le(t,e)})}function Le(e,t){t&&(t.isObject3D?e.remove(t):(t.parent=null,e.__objects&&(e.__objects=e.__objects.filter(function(e){return e!==t})),t.attach?e[t.attach]=null:t.attachArray?e[t.attachArray]=e[t.attachArray].filter(function(e){return e!==t}):t.attachObject&&delete e[t.attachObject[0]][t.attachObject[1]]),Me(t),null!==t.dispose&&Object(v.unstable_runWithPriority)(v.unstable_IdlePriority,function(){t.__container&&(t.__container.__interaction=t.__container.__interaction.filter(function(e){return e!==t})),Te(t.__objects,t),Te(t.children,t,!0),t.dispose&&t.dispose(),delete t.__container,delete t.__objects}))}function ze(e,t,n,r){var i=e.parent,o=Ce(t,n,e.__container,0,r);Le(i,e),Ee(i,o),[r,r.alternate].forEach(function(e){null!==e&&(e.stateNode=o,e.ref&&(ce.fun(e.ref)?e.ref(o):e.ref.current=o))})}var ke=m()({now:v.unstable_now,createInstance:Ce,removeChild:Le,appendChild:Ee,insertBefore:Ie,warnsIfNotActing:!0,supportsMutation:!0,isPrimaryRenderer:!1,scheduleTimeout:ce.fun(setTimeout)?setTimeout:void 0,cancelTimeout:ce.fun(clearTimeout)?clearTimeout:void 0,setTimeout:ce.fun(setTimeout)?setTimeout:void 0,clearTimeout:ce.fun(clearTimeout)?clearTimeout:void 0,noTimeout:-1,appendInitialChild:Ee,appendChildToContainer:Ee,removeChildFromContainer:Le,insertInContainerBefore:Ie,commitUpdate:function(e,t,n,r,i,o){if(e.__instance&&i.object&&i.object!==e)ze(e,n,i,o);else{var a=i.args,s=void 0===a?[]:a,u=f(i,["args"]),c=r.args,h=void 0===c?[]:c,d=f(r,["args"]);s.some(function(e,t){return ce.obj(e)?Object.entries(e).some(function(e){var n=Object(l.a)(e,2),r=n[0];return n[1]!==h[t][r]}):e!==h[t]})?ze(e,n,i,o):Ae(e,u,d,!0)}},hideInstance:function(e){e.isObject3D&&(e.visible=!1,Me(e))},unhideInstance:function(e,t){(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0,Me(e))},hideTextInstance:function(){throw new Error("Text is not allowed in the react-three-fibre tree. You may have extraneous whitespace between components.")},getPublicInstance:function(e){return e},getRootHostContext:function(){return ue},getChildHostContext:function(){return ue},createTextInstance:function(){},finalizeInitialChildren:function(){return!1},prepareUpdate:function(){return ue},shouldDeprioritizeSubtree:function(){return!1},prepareForCommit:function(){},resetAfterCommit:function(){},shouldSetTextContent:function(){return!1}}),De=0,Oe=2;ce.fun(Symbol)&&Symbol.for&&Symbol.for("react.portal");function Ne(e){return e.isOrthographicCamera}function je(e){return(e.eventObject||e.object).uuid+"/"+e.index}ke.injectIntoDevTools({bundleType:0,version:"4.2.21",rendererPackageName:"react-three-fiber",findHostInstanceByFiber:ke.findHostInstance});var Pe=Object(g.createContext)({}),Re=function(e){var t=e.children,n=e.gl,r=e.camera,i=e.orthographic,o=e.raycaster,a=e.size,s=e.pixelRatio,u=e.vr,h=void 0!==u&&u,p=e.concurrent,m=void 0!==p&&p,v=e.shadowMap,y=void 0!==v&&v,b=e.sRGB,w=void 0!==b&&b,x=e.colorManagement,A=void 0!==x&&x,M=e.invalidateFrameloop,S=void 0!==M&&M,C=e.updateDefaultCamera,E=void 0===C||C,I=e.noEvents,T=void 0!==I&&I,L=e.onCreated,z=e.onPointerMissed,k=Object(g.useState)(!1),D=Object(l.a)(k,2),O=D[0],N=D[1],j=Object(g.useState)(function(){return new d.Vector2}),P=Object(l.a)(j,1)[0],R=Object(g.useState)(function(){var e=new d.Raycaster;o&&Ae(e,f(o,["filter"]),{});return e}),$=Object(l.a)(R,1)[0],F=Object(g.useState)(function(){var e=new d.Scene;return e.__interaction=[],e.__objects=[],e}),K=Object(l.a)(F,1)[0],U=Object(g.useState)(function(){var e=i?new d.OrthographicCamera(0,0,0,0,.1,1e3):new d.PerspectiveCamera(75,0,.1,1e3);return e.position.z=5,r&&Ae(e,r,{}),e.lookAt(0,0,0),e}),V=Object(l.a)(U,2),B=V[0],H=V[1],G=Object(g.useState)(function(){return new d.Clock}),Q=Object(l.a)(G,1)[0],q=Object(g.useRef)({ready:!1,active:!0,manual:0,colorManagement:A,sRGB:w,vr:h,concurrent:m,noEvents:T,invalidateFrameloop:!1,frames:0,aspect:0,subscribers:[],camera:B,scene:K,raycaster:$,mouse:P,clock:Q,gl:n,size:a,viewport:{width:0,height:0,factor:0},initialClick:[0,0],initialHits:[],pointer:new _.TinyEmitter,captured:void 0,events:void 0,subscribe:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t&&q.current.manual++,q.current.subscribers.push({ref:e,priority:t}),q.current.subscribers=q.current.subscribers.sort(function(e,t){return e.priority-t.priority}),function(){t&&q.current.manual--,q.current.subscribers=q.current.subscribers.filter(function(t){return t.ref!==e})}},setDefaultCamera:function(e){return H(e)},invalidate:function(){return be(q)},intersect:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return te(e,t)}});Object(g.useMemo)(function(){q.current.ready=O,q.current.size=a,q.current.camera=B,q.current.invalidateFrameloop=S,q.current.vr=h,q.current.gl=n,q.current.concurrent=m,q.current.noEvents=T},[S,h,m,T,O,a,B,n]),Object(g.useMemo)(function(){if(q.current.aspect=a.width/a.height,Ne(B))q.current.viewport={width:a.width,height:a.height,factor:1};else{var e=new d.Vector3(0,0,0),t=B.position.distanceTo(e),r=B.fov*Math.PI/180,i=2*Math.tan(r/2)*t,o=i*q.current.aspect;q.current.viewport={width:o,height:i,factor:a.width/o}}E&&(Ne(B)?(B.left=a.width/-2,B.right=a.width/2,B.top=a.height/2,B.bottom=a.height/-2):B.aspect=q.current.aspect,B.updateProjectionMatrix(),B.updateMatrixWorld()),n.setSize(a.width,a.height),O&&be(q)},[B,n,a,E]);var W=Object(g.useCallback)(function(e){var t=e.clientX,n=e.clientY;if(void 0!==t){var r=q.current.size,i=r.left,o=r.right,a=r.top,s=r.bottom;P.set((t-i)/(o-i)*2-1,-(n-a)/(s-a)*2+1),$.setFromCamera(P,q.current.camera)}},[]),Y=Object(g.useCallback)(function(e,t){if(q.current.noEvents)return[];var n=new Set,r=[],i=t?t(q.current.scene.__interaction):q.current.scene.__interaction,a=$.intersectObjects(i,!0).filter(function(e){var t=je(e);return!n.has(t)&&(n.add(t),!0)});o&&o.filter&&ie.current&&(a=o.filter(a,ie.current));var s=!0,l=!1,u=void 0;try{for(var f,h=a[Symbol.iterator]();!(s=(f=h.next()).done);s=!0)for(var d=f.value,p=d.object;p;){p.__handlers&&r.push(c({},d,{eventObject:p})),p=p.parent}}catch(m){l=!0,u=m}finally{try{s||null==h.return||h.return()}finally{if(l)throw u}}return r},[]),X=Object(g.useCallback)(function(e){var t=e.clientX-q.current.initialClick[0],n=e.clientY-q.current.initialClick[1];return Math.round(Math.sqrt(t*t+n*n))},[]),J=Object(g.useMemo)(function(){return new Map},[]),Z=new d.Vector3,ee=Object(g.useCallback)(function(e,t,n){var r=Y(e,n);return q.current.captured&&"click"!==e.type&&"wheel"!==e.type&&q.current.captured.forEach(function(e){r.find(function(t){return t.eventObject===e.eventObject})||r.push(e)}),r.length&&function(){var n=Z.set(P.x,P.y,0).unproject(q.current.camera),i="click"===e.type?X(e):0,o=function(t){return e.target.releasePointerCapture(t)},a={stopped:!1,captured:!1},s=!0,l=!1,u=void 0;try{for(var f,h=function(){var s=f.value,l=function(t){a.captured||(a.captured=!0,q.current.captured=[]),q.current.captured&&q.current.captured.push(s),e.target.setPointerCapture(t)},u=c({},e,s,{intersections:r,stopped:a.stopped,delta:i,unprojectedPoint:n,ray:$.ray,camera:q.current.camera,stopPropagation:function(){var e=q.current.captured;e&&!e.find(function(e){return e.eventObject.id===s.eventObject.id})||(u.stopped=a.stopped=!0)},target:c({},e.target,{setPointerCapture:l,releasePointerCapture:o}),currentTarget:c({},e.currentTarget,{setPointerCapture:l,releasePointerCapture:o}),sourceEvent:e});if(t(u),!0===a.stopped)return J.size&&Array.from(J.values()).find(function(e){return e.object===s.object})&&ne(u,[s]),"break"},d=r[Symbol.iterator]();!(s=(f=d.next()).done);s=!0){if("break"===h())break}}catch(p){l=!0,u=p}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}}(),r},[]),te=Object(g.useCallback)(function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];q.current.pointer.emit("pointerMove",e),t&&W(e);var n=ee(e,function(e){var t=e.eventObject.__handlers;if(t&&(t.pointerMove&&t.pointerMove(e),t.pointerOver||t.pointerEnter||t.pointerOut||t.pointerLeave)){var n=je(e),r=J.get(n);r?r.stopped&&e.stopPropagation():(J.set(n,e),t.pointerOver&&t.pointerOver(c({},e,{type:"pointerover"})),t.pointerEnter&&t.pointerEnter(c({},e,{type:"pointerenter"})))}},function(e){return e.filter(function(e){return["Move","Over","Enter","Out","Leave"].some(function(t){return e.__handlers["pointer"+t]})})});return ne(e,n,t),n},[]),ne=Object(g.useCallback)(function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];q.current.pointer.emit("pointerCancel",e),n&&W(e),t||(t=ee(e,function(){return null})),Array.from(J.values()).forEach(function(e){if(t&&(!t.length||!t.find(function(t){return t.eventObject===e.eventObject}))){var n=e.eventObject.__handlers;n&&(n.pointerOut&&n.pointerOut(c({},e,{type:"pointerout"})),n.pointerLeave&&n.pointerLeave(c({},e,{type:"pointerleave"}))),J.delete(je(e))}})},[]),re=Object(g.useCallback)(function(e){return function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];q.current.pointer.emit(e,t),n&&W(t);var r=ee(t,function(t){var n=t.eventObject,r=n.__handlers;r&&r[e]&&("click"!==e&&"contextMenu"!==e&&"doubleClick"!==e||q.current.initialHits.includes(n))&&r[e](t)});"pointerDown"===e&&(q.current.initialClick=[t.clientX,t.clientY],q.current.initialHits=r.map(function(e){return e.eventObject})),"click"!==e&&"contextMenu"!==e&&"doubleClick"!==e||r.length||!z||X(t)<=2&&z()}},[z]);Object(g.useMemo)(function(){q.current.events={onClick:re("click"),onContextMenu:re("contextMenu"),onDoubleClick:re("doubleClick"),onWheel:re("wheel"),onPointerDown:re("pointerDown"),onPointerUp:re("pointerUp"),onPointerLeave:function(e){return ne(e,[])},onPointerMove:te,onGotPointerCaptureLegacy:function(e){return q.current.captured=Y(e)},onLostPointerCapture:function(e){return q.current.captured=void 0,ne(e)}}},[z]);var ie=Object(g.useRef)();Object(g.useMemo)(function(){var e=f(q.current,["ready","manual","vr","noEvents","invalidateFrameloop","frames","subscribers","captured","initialClick","initialHits"]);ie.current=e},[a,B]),Object(g.useLayoutEffect)(function(){s&&n.setPixelRatio(s)},[s]),Object(g.useLayoutEffect)(function(){y&&(n.shadowMap.enabled=!0,"object"===typeof y?Object.assign(n.shadowMap,y):n.shadowMap.type=d.PCFSoftShadowMap),(w||A)&&(n.toneMapping=d.ACESFilmicToneMapping,n.outputEncoding=d.sRGBEncoding)},[y,w,A]);var oe=Object(g.useCallback)(function(e){var t=function(){return N(!0)};return Object(g.useEffect)(function(){var e=L&&L(q.current);e&&e.then?e.then(t):t()},[]),e.children},[]);return Object(g.useLayoutEffect)(function(){!function(e,t,n){var r=le.get(t);if(!r){t.__state=n;var i=r=ke.createContainer(t,void 0!==n&&n.current.concurrent?Oe:De,!1);le.set(t,i)}ke.updateContainer(e,r,null,function(){}),ke.getPublicRootInstance(r)}(Object(g.createElement)(oe,null,Object(g.createElement)(Pe.Provider,{value:ie.current},"function"===typeof t?t(q.current):t)),K,q)},[O,t,ie.current]),Object(g.useLayoutEffect)(function(){O&&(q.current.vr?(n.xr||n.vr)&&n.setAnimationLoop?((n.xr||n.vr).enabled=!0,n.setAnimationLoop(function(e){return ge(q,e,0,!0)})):console.warn("the gl instance does not support VR!"):be(q))},[O,S]),Object(g.useEffect)(function(){return function(){q.current.gl&&(q.current.gl.forceContextLoss&&q.current.gl.forceContextLoss(),q.current.gl.dispose&&q.current.gl.dispose(),q.current.gl=void 0,function(e){var t=le.get(e);t&&ke.updateContainer(null,t,null,function(){le.delete(e)})}(q.current.scene),q.current.active=!1)}},[]),q.current.events};function $e(e){var t=Object(g.useContext)(e);return t||console.warn("hooks can only be used within the canvas! https://github.com/react-spring/react-three-fiber#hooks"),t}function Fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=$e(Pe).subscribe,r=Object(g.useRef)(e);return Object(g.useLayoutEffect)(function(){r.current=e},[e]),Object(g.useEffect)(function(){var e=n(r,t);return function(){return e()}},[t]),null}function Ke(){return $e(Pe)}function Ue(e,t,n){var r=$e(Pe).invalidate,i=Object(g.useRef)(),o=n||i;return Object(g.useLayoutEffect)(function(){o.current&&(e(o.current),r())},t),o}function Ve(e){var t=Object(g.useState)(!1),n=Object(l.a)(t,2),r=(n[0],n[1]),i=Object(g.useRef)(void 0),o=e||i;return Object(g.useLayoutEffect)(function(){r(function(e){return!e})},[o.current]),[o,o.current]}var Be=["id","uuid","type","children","parent","matrix","matrixWorld","matrixWorldNeedsUpdate","modelViewMatrix","normalMatrix"];function He(e,t,n){var r=Object(g.useMemo)(function(){var t=new e;return n&&n(t),t},[e]),o=w()(function(e,t){var n=Array.isArray(t)?t:[t];return Promise.all(n.map(function(e){return new Promise(function(t){return r.load(e,function(e){e.scene&&(e.__$=[],e.nodes={},e.materials={},e.scene.traverse(function(t){e.__$.push(function e(t){var n=c({},t);return Be.forEach(function(e){return delete n[e]}),Object.keys(n).forEach(function(e){return"function"===typeof n[e]&&delete n[e]}),n.material&&(n.material=e(n.material)),n.geometry&&(n.geometry=e(n.geometry)),n}(t)),t.name&&(e.nodes=c({},e.nodes,Object(i.a)({},t.name,t))),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)})),t(e)})})}))},[e,t]);return Array.isArray(t)?o:o[0]}var Ge={position:"relative",width:"100%",height:"100%",overflow:"hidden"};function Qe(e){var t=e.children,n=e.setEvents,r=e.container,i=e.renderer,o=e.effects,a=f(e,["children","setEvents","container","renderer","effects"]),s=Object(g.useState)(i),u=Object(l.a)(s,1)[0];u||console.warn("No renderer created!"),Object(g.useEffect)(function(){return o&&o(u,r)},[]);var h=Re(c({},a,{children:t,gl:u}));return Object(g.useEffect)(function(){n(h)},[h]),null}var qe=y.a.memo(function(e){var t=e.preRender,n=e.resize,r=e.style,i=f(e,["renderer","effects","children","vr","gl2","concurrent","shadowMap","sRGB","colorManagement","orthographic","invalidateFrameloop","updateDefaultCamera","noEvents","gl","camera","raycaster","pixelRatio","onCreated","onPointerMissed","preRender","resize","style"]),o=Object(g.useRef)(),a=Object(g.useState)({}),s=Object(l.a)(a,2),u=s[0],h=s[1],d=f(u,["onGotPointerCaptureLegacy"]),p=Object(x.a)(n||{scroll:!0,debounce:{scroll:50,resize:0},polyfill:"undefined"!==typeof window&&window.ResizeObserver?void 0:oe}),m=Object(l.a)(p,2),v=m[0],_=m[1],b=Object(g.useRef)(!1),w=Object(g.useMemo)(function(){return b.current=b.current||!!_.width&&!!_.height},[_]),A=Object(g.useMemo)(function(){return{size:_,setEvents:h,container:o.current}},[_]);return"undefined"===typeof window?y.a.createElement("div",c({style:c({},Ge,r)},i),t):y.a.createElement("div",c({ref:Object(ae.a)([v,o]),style:c({},Ge,r)},d,i),t,w&&y.a.createElement(Qe,c({},e,A)))}),We=y.a.memo(function(e){var t=e.children,n=f(e,["children"]),r=Object(g.useRef)();return y.a.createElement(qe,c({},n,{renderer:function(){if(r.current){var e=c({antialias:!0,alpha:!0},n.gl);return new d.WebGLRenderer(c({powerPreference:"high-performance",canvas:r.current,context:n.gl2?r.current.getContext("webgl2",e):void 0},e))}},preRender:y.a.createElement("canvas",{ref:r,style:{display:"block"}})}),t)})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(108);function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",function(){return r})},function(e,t,n){var r;try{r={cloneDeep:n(416),constant:n(127),defaults:n(211),each:n(128),filter:n(185),find:n(417),flatten:n(213),forEach:n(183),forIn:n(422),has:n(134),isUndefined:n(196),last:n(423),map:n(197),mapValues:n(424),max:n(425),merge:n(427),min:n(432),minBy:n(433),now:n(434),pick:n(218),range:n(219),reduce:n(199),sortBy:n(441),uniqueId:n(220),values:n(204),zipObject:n(446)}}catch(i){}r||(r=window._),e.exports=r},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(63);function i(e,t,n){return(i=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&Object(r.a)(o,n.prototype),o}).apply(null,arguments)}},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,l,"next",e)}function l(e){r(a,i,o,s,l,"throw",e)}s(void 0)})}}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";n.d(t,"c",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return c}),n.d(t,"e",function(){return f}),n.d(t,"d",function(){return h});var r=n(105),i=n(106),o=n(30),a=n(107),s=n(39),l=1,u=2,c=3,f={};function h(e,t,n){var r;null==n&&(n=f),Object.defineProperties(this,{_observer:{value:n,writable:!0},_definition:{value:m,writable:!0},_duplicate:{value:void 0,writable:!0},_duplicates:{value:void 0,writable:!0},_indegree:{value:NaN,writable:!0},_inputs:{value:[],writable:!0},_invalidate:{value:s.a,writable:!0},_module:{value:t},_name:{value:null,writable:!0},_outputs:{value:new Set,writable:!0},_promise:{value:Promise.resolve(void 0),writable:!0},_reachable:{value:n!==f,writable:!0},_rejector:{value:(r=this,function(e){if(e===m)throw new o.a(r._name+" is not defined",r._name);throw new o.a(r._name+" could not be resolved",r._name)})},_type:{value:e},_value:{value:void 0,writable:!0},_version:{value:0,writable:!0}})}function d(e){e._module._runtime._dirty.add(e),e._outputs.add(this)}function p(e){e._module._runtime._dirty.add(e),e._outputs.delete(this)}function m(){throw m}function v(e){return function(){throw new o.a(e+" is defined more than once")}}function g(e,t,n){var r=this._module._scope,i=this._module._runtime;if(this._inputs.forEach(p,this),t.forEach(d,this),this._inputs=t,this._definition=n,this._value=void 0,n===s.a?i._variables.delete(this):i._variables.add(this),e==this._name&&r.get(e)===this)this._outputs.forEach(i._updates.add,i._updates);else{var o,a;if(this._name)if(this._outputs.size)r.delete(this._name),(a=this._module._resolve(this._name))._outputs=this._outputs,this._outputs=new Set,a._outputs.forEach(function(e){e._inputs[e._inputs.indexOf(this)]=a},this),a._outputs.forEach(i._updates.add,i._updates),i._dirty.add(a).add(this),r.set(this._name,a);else if((a=r.get(this._name))===this)r.delete(this._name);else{if(a._type!==c)throw new Error;a._duplicates.delete(this),this._duplicate=void 0,1===a._duplicates.size&&(a=a._duplicates.keys().next().value,o=r.get(this._name),a._outputs=o._outputs,o._outputs=new Set,a._outputs.forEach(function(e){e._inputs[e._inputs.indexOf(o)]=a}),a._definition=a._duplicate,a._duplicate=void 0,i._dirty.add(o).add(a),i._updates.add(a),r.set(this._name,a))}if(this._outputs.size)throw new Error;e&&((a=r.get(e))?a._type===c?(this._definition=v(e),this._duplicate=n,a._duplicates.add(this)):a._type===u?(this._outputs=a._outputs,a._outputs=new Set,this._outputs.forEach(function(e){e._inputs[e._inputs.indexOf(a)]=this},this),i._dirty.add(a).add(this),r.set(e,this)):(a._duplicate=a._definition,this._duplicate=n,(o=new h(c,this._module))._name=e,o._definition=this._definition=a._definition=v(e),o._outputs=a._outputs,a._outputs=new Set,o._outputs.forEach(function(e){e._inputs[e._inputs.indexOf(a)]=o}),o._duplicates=new Set([this,a]),i._dirty.add(a).add(o),i._updates.add(a).add(o),r.set(e,o)):r.set(e,this)),this._name=e}return i._updates.add(this),i._compute(),this}Object.defineProperties(h.prototype,{_pending:{value:function(){this._observer.pending&&this._observer.pending()},writable:!0,configurable:!0},_fulfilled:{value:function(e){this._observer.fulfilled&&this._observer.fulfilled(e,this._name)},writable:!0,configurable:!0},_rejected:{value:function(e){this._observer.rejected&&this._observer.rejected(e,this._name)},writable:!0,configurable:!0},define:{value:function(e,t,n){switch(arguments.length){case 1:n=e,e=t=null;break;case 2:n=t,"string"===typeof e?t=null:(t=e,e=null)}return g.call(this,null==e?null:e+"",null==t?[]:r.b.call(t,this._module._resolve,this._module),"function"===typeof n?n:Object(i.a)(n))},writable:!0,configurable:!0},delete:{value:function(){return g.call(this,null,[],s.a)},writable:!0,configurable:!0},import:{value:function(e,t,n){arguments.length<3&&(n=t,t=e);return g.call(this,t+"",[n._resolve(e+"")],a.a)},writable:!0,configurable:!0}})},function(e,t,n){"use strict";t.a=function(e){return function(t){e.forEach(function(e){"function"===typeof e?e(t):null!=e&&(e.current=t)})}}},function(e,t,n){"use strict";var r=n(14),i=n(34).Graph;function o(e,t,n,i){var o;do{o=r.uniqueId(i)}while(e.hasNode(o));return n.dummy=t,e.setNode(o,n),o}function a(e){return r.max(r.map(e.nodes(),function(t){var n=e.node(t).rank;if(!r.isUndefined(n))return n}))}e.exports={addDummyNode:o,simplify:function(e){var t=(new i).setGraph(e.graph());return r.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),r.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t},asNonCompoundGraph:function(e){var t=new i({multigraph:e.isMultigraph()}).setGraph(e.graph());return r.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),r.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t},successorWeights:function(e){var t=r.map(e.nodes(),function(t){var n={};return r.forEach(e.outEdges(t),function(t){n[t.w]=(n[t.w]||0)+e.edge(t).weight}),n});return r.zipObject(e.nodes(),t)},predecessorWeights:function(e){var t=r.map(e.nodes(),function(t){var n={};return r.forEach(e.inEdges(t),function(t){n[t.v]=(n[t.v]||0)+e.edge(t).weight}),n});return r.zipObject(e.nodes(),t)},intersectRect:function(e,t){var n,r,i=e.x,o=e.y,a=t.x-i,s=t.y-o,l=e.width/2,u=e.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(s)*l>Math.abs(a)*u?(s<0&&(u=-u),n=u*a/s,r=u):(a<0&&(l=-l),n=l,r=l*s/a);return{x:i+n,y:o+r}},buildLayerMatrix:function(e){var t=r.map(r.range(a(e)+1),function(){return[]});return r.forEach(e.nodes(),function(n){var i=e.node(n),o=i.rank;r.isUndefined(o)||(t[o][i.order]=n)}),t},normalizeRanks:function(e){var t=r.min(r.map(e.nodes(),function(t){return e.node(t).rank}));r.forEach(e.nodes(),function(n){var i=e.node(n);r.has(i,"rank")&&(i.rank-=t)})},removeEmptyRanks:function(e){var t=r.min(r.map(e.nodes(),function(t){return e.node(t).rank})),n=[];r.forEach(e.nodes(),function(r){var i=e.node(r).rank-t;n[i]||(n[i]=[]),n[i].push(r)});var i=0,o=e.graph().nodeRankFactor;r.forEach(n,function(t,n){r.isUndefined(t)&&n%o!==0?--i:i&&r.forEach(t,function(t){e.node(t).rank+=i})})},addBorderNode:function(e,t,n,r){var i={width:0,height:0};arguments.length>=4&&(i.rank=n,i.order=r);return o(e,"border",i,t)},maxRank:a,partition:function(e,t){var n={lhs:[],rhs:[]};return r.forEach(e,function(e){t(e)?n.lhs.push(e):n.rhs.push(e)}),n},time:function(e,t){var n=r.now();try{return t()}finally{console.log(e+" time: "+(r.now()-n)+"ms")}},notime:function(e,t){return t()}}},function(e,t,n){"use strict";var r={value:function(){}};function i(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r)throw new Error("illegal type: "+e);r[e]=[]}return new o(r)}function o(e){this._=e}function a(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function s(e,t,n){for(var i=0,o=e.length;i<o;++i)if(e[i].name===t){e[i]=r,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=n&&e.push({name:t,value:n}),e}o.prototype=i.prototype={constructor:o,on:function(e,t){var n,r,i=this._,o=(r=i,(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})),l=-1,u=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++l<u;)if(n=(e=o[l]).type)i[n]=s(i[n],e.name,t);else if(null==t)for(n in i)i[n]=s(i[n],e.name,null);return this}for(;++l<u;)if((n=(e=o[l]).type)&&(n=a(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new o(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};var l=i;n.d(t,"a",function(){return l})},function(e,t,n){e.exports=n(263)()},function(e,t,n){"use strict";var r=!0,i="Invariant failed";t.a=function(e,t){if(!e)throw r?new Error(i):new Error(i+": "+(t||""))}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},,function(e,t,n){var r;try{r={clone:n(303),constant:n(127),each:n(128),filter:n(185),has:n(134),isArray:n(15),isEmpty:n(379),isFunction:n(54),isUndefined:n(196),keys:n(42),map:n(197),reduce:n(199),size:n(382),transform:n(388),union:n(389),values:n(204)}}catch(i){}r||(r=window._),e.exports=r},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var r=n(60);e.exports={isSubgraph:function(e,t){return!!e.children(t).length},edgeToId:function(e){return o(e.v)+":"+o(e.w)+":"+o(e.name)},applyStyle:function(e,t){t&&e.attr("style",t)},applyClass:function(e,t,n){t&&e.attr("class",t).attr("class",n+" "+e.attr("class"))},applyTransition:function(e,t){var n=t.graph();if(r.isPlainObject(n)){var i=n.transition;if(r.isFunction(i))return i(e)}return e}};var i=/:/g;function o(e){return e?String(e).replace(i,"\\:"):""}},function(e,t,n){"use strict";function r(e,t){this.message=e+"",this.input=t}n.d(t,"a",function(){return r}),r.prototype=Object.create(Error.prototype),r.prototype.name="RuntimeError",r.prototype.constructor=r},function(e,t,n){"use strict";var r=n(17);function i(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.split("/")||[],r=t&&t.split("/")||[],a=e&&i(e),s=t&&i(t),l=a||s;if(e&&i(e)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var u=void 0;if(r.length){var c=r[r.length-1];u="."===c||".."===c||""===c}else u=!1;for(var f=0,h=r.length;h>=0;h--){var d=r[h];"."===d?o(r,h):".."===d?(o(r,h),f++):f&&(o(r,h),f--)}if(!l)for(;f--;f)r.unshift("..");!l||""===r[0]||r[0]&&i(r[0])||r.unshift("");var p=r.join("/");return u&&"/"!==p.substr(-1)&&(p+="/"),p},s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var l=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every(function(t,r){return e(t,n[r])});var r="undefined"===typeof t?"undefined":s(t);if(r!==("undefined"===typeof n?"undefined":s(n)))return!1;if("object"===r){var i=t.valueOf(),o=n.valueOf();if(i!==t||o!==n)return e(i,o);var a=Object.keys(t),l=Object.keys(n);return a.length===l.length&&a.every(function(r){return e(t[r],n[r])})}return!1},u=n(24);function c(e){return"/"===e.charAt(0)?e:"/"+e}function f(e){return"/"===e.charAt(0)?e.substr(1):e}function h(e,t){return function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)}(e,t)?e.substr(t.length):e}function d(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function m(e,t,n,i){var o;"string"===typeof e?(o=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(o=Object(r.a)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function v(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&l(e.state,t.state)}function g(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter(function(e){return e!==r})}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach(function(e){return e.apply(void 0,n)})}}}n.d(t,"a",function(){return A}),n.d(t,"b",function(){return I}),n.d(t,"d",function(){return L}),n.d(t,"c",function(){return m}),n.d(t,"f",function(){return v}),n.d(t,"e",function(){return p});var y=!("undefined"===typeof window||!window.document||!window.document.createElement);function _(e,t){t(window.confirm(e))}var b="popstate",w="hashchange";function x(){try{return window.history.state||{}}catch(e){return{}}}function A(e){void 0===e&&(e={}),y||Object(u.a)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,s=void 0!==a&&a,l=o.getUserConfirmation,f=void 0===l?_:l,v=o.keyLength,A=void 0===v?6:v,M=e.basename?d(c(e.basename)):"";function S(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return M&&(o=h(o,M)),m(o,r,n)}function C(){return Math.random().toString(36).substr(2,A)}var E=g();function I(e){Object(r.a)(F,e),F.length=t.length,E.notifyListeners(F.location,F.action)}function T(e){(function(e){void 0===e.state&&navigator.userAgent.indexOf("CriOS")})(e)||k(S(e.state))}function L(){k(S(x()))}var z=!1;function k(e){if(z)z=!1,I();else{E.confirmTransitionTo(e,"POP",f,function(t){t?I({action:"POP",location:e}):function(e){var t=F.location,n=O.indexOf(t.key);-1===n&&(n=0);var r=O.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(z=!0,j(i))}(e)})}}var D=S(x()),O=[D.key];function N(e){return M+p(e)}function j(e){t.go(e)}var P=0;function R(e){1===(P+=e)&&1===e?(window.addEventListener(b,T),i&&window.addEventListener(w,L)):0===P&&(window.removeEventListener(b,T),i&&window.removeEventListener(w,L))}var $=!1;var F={length:t.length,action:"POP",location:D,createHref:N,push:function(e,r){var i=m(e,r,C(),F.location);E.confirmTransitionTo(i,"PUSH",f,function(e){if(e){var r=N(i),o=i.key,a=i.state;if(n)if(t.pushState({key:o,state:a},null,r),s)window.location.href=r;else{var l=O.indexOf(F.location.key),u=O.slice(0,-1===l?0:l+1);u.push(i.key),O=u,I({action:"PUSH",location:i})}else window.location.href=r}})},replace:function(e,r){var i=m(e,r,C(),F.location);E.confirmTransitionTo(i,"REPLACE",f,function(e){if(e){var r=N(i),o=i.key,a=i.state;if(n)if(t.replaceState({key:o,state:a},null,r),s)window.location.replace(r);else{var l=O.indexOf(F.location.key);-1!==l&&(O[l]=i.key),I({action:"REPLACE",location:i})}else window.location.replace(r)}})},go:j,goBack:function(){j(-1)},goForward:function(){j(1)},block:function(e){void 0===e&&(e=!1);var t=E.setPrompt(e);return $||(R(1),$=!0),function(){return $&&($=!1,R(-1)),t()}},listen:function(e){var t=E.appendListener(e);return R(1),function(){R(-1),t()}}};return F}var M="hashchange",S={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+f(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:f,decodePath:c},slash:{encodePath:c,decodePath:c}};function C(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function E(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)}function I(e){void 0===e&&(e={}),y||Object(u.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,o=void 0===i?_:i,a=n.hashType,s=void 0===a?"slash":a,l=e.basename?d(c(e.basename)):"",f=S[s],b=f.encodePath,w=f.decodePath;function x(){var e=w(C());return l&&(e=h(e,l)),m(e)}var A=g();function I(e){Object(r.a)(F,e),F.length=t.length,A.notifyListeners(F.location,F.action)}var T=!1,L=null;function z(){var e=C(),t=b(e);if(e!==t)E(t);else{var n=x(),r=F.location;if(!T&&v(r,n))return;if(L===p(n))return;L=null,function(e){if(T)T=!1,I();else{A.confirmTransitionTo(e,"POP",o,function(t){t?I({action:"POP",location:e}):function(e){var t=F.location,n=N.lastIndexOf(p(t));-1===n&&(n=0);var r=N.lastIndexOf(p(e));-1===r&&(r=0);var i=n-r;i&&(T=!0,j(i))}(e)})}}(n)}}var k=C(),D=b(k);k!==D&&E(D);var O=x(),N=[p(O)];function j(e){t.go(e)}var P=0;function R(e){1===(P+=e)&&1===e?window.addEventListener(M,z):0===P&&window.removeEventListener(M,z)}var $=!1;var F={length:t.length,action:"POP",location:O,createHref:function(e){return"#"+b(l+p(e))},push:function(e,t){var n=m(e,void 0,void 0,F.location);A.confirmTransitionTo(n,"PUSH",o,function(e){if(e){var t=p(n),r=b(l+t);if(C()!==r){L=t,function(e){window.location.hash=e}(r);var i=N.lastIndexOf(p(F.location)),o=N.slice(0,-1===i?0:i+1);o.push(t),N=o,I({action:"PUSH",location:n})}else I()}})},replace:function(e,t){var n=m(e,void 0,void 0,F.location);A.confirmTransitionTo(n,"REPLACE",o,function(e){if(e){var t=p(n),r=b(l+t);C()!==r&&(L=t,E(r));var i=N.indexOf(p(F.location));-1!==i&&(N[i]=t),I({action:"REPLACE",location:n})}})},go:j,goBack:function(){j(-1)},goForward:function(){j(1)},block:function(e){void 0===e&&(e=!1);var t=A.setPrompt(e);return $||(R(1),$=!0),function(){return $&&($=!1,R(-1)),t()}},listen:function(e){var t=A.appendListener(e);return R(1),function(){R(-1),t()}}};return F}function T(e,t,n){return Math.min(Math.max(e,t),n)}function L(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,o=void 0===i?["/"]:i,a=t.initialIndex,s=void 0===a?0:a,l=t.keyLength,u=void 0===l?6:l,c=g();function f(e){Object(r.a)(b,e),b.length=b.entries.length,c.notifyListeners(b.location,b.action)}function h(){return Math.random().toString(36).substr(2,u)}var d=T(s,0,o.length-1),v=o.map(function(e){return m(e,void 0,"string"===typeof e?h():e.key||h())}),y=p;function _(e){var t=T(b.index+e,0,b.entries.length-1),r=b.entries[t];c.confirmTransitionTo(r,"POP",n,function(e){e?f({action:"POP",location:r,index:t}):f()})}var b={length:v.length,action:"POP",location:v[d],index:d,entries:v,createHref:y,push:function(e,t){var r=m(e,t,h(),b.location);c.confirmTransitionTo(r,"PUSH",n,function(e){if(e){var t=b.index+1,n=b.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),f({action:"PUSH",location:r,index:t,entries:n})}})},replace:function(e,t){var r=m(e,t,h(),b.location);c.confirmTransitionTo(r,"REPLACE",n,function(e){e&&(b.entries[b.index]=r,f({action:"REPLACE",location:r}))})},go:_,goBack:function(){_(-1)},goForward:function(){_(1)},canGo:function(e){var t=b.index+e;return t>=0&&t<b.entries.length},block:function(e){return void 0===e&&(e=!1),c.setPrompt(e)},listen:function(e){return c.appendListener(e)}};return b}},,function(e,t,n){var r=n(166),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t,n){var r;try{r=n(164)}catch(i){}r||(r=window.graphlib),e.exports=r},function(e,t,n){"use strict";function r(){}function i(e,t){var n=new r;if(e instanceof r)e.each(function(e,t){n.set(t,e)});else if(Array.isArray(e)){var i,o=-1,a=e.length;if(null==t)for(;++o<a;)n.set(o,e[o]);else for(;++o<a;)n.set(t(i=e[o],o,e),i)}else if(e)for(var s in e)n.set(s,e[s]);return n}r.prototype=i.prototype={constructor:r,has:function(e){return"$"+e in this},get:function(e){return this["$"+e]},set:function(e,t){return this["$"+e]=t,this},remove:function(e){var t="$"+e;return t in this&&delete this[t]},clear:function(){for(var e in this)"$"===e[0]&&delete this[e]},keys:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)"$"===t[0]&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)"$"===t[0]&&++e;return e},empty:function(){for(var e in this)if("$"===e[0])return!1;return!0},each:function(e){for(var t in this)"$"===t[0]&&e(this[t],t.slice(1),this)}};var o=i;function a(){}var s=o.prototype;function l(e,t){var n=new a;if(e instanceof a)e.each(function(e){n.add(e)});else if(e){var r=-1,i=e.length;if(null==t)for(;++r<i;)n.add(e[r]);else for(;++r<i;)n.add(t(e[r],r,e))}return n}a.prototype=l.prototype={constructor:a,has:s.has,add:function(e){return this["$"+(e+="")]=e,this},remove:s.remove,clear:s.clear,values:s.keys,size:s.size,empty:s.empty,each:s.each};n.d(t,"a",function(){return o})},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",function(){return r})},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";var r={},i={},o=34,a=10,s=13;function l(e){return new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}")}function u(e){var t=Object.create(null),n=[];return e.forEach(function(e){for(var r in e)r in t||n.push(t[r]=r)}),n}function c(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function f(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+c(-t,6):t>9999?"+"+c(t,6):c(t,4))+"-"+c(e.getUTCMonth()+1,2)+"-"+c(e.getUTCDate(),2)+(o?"T"+c(n,2)+":"+c(r,2)+":"+c(i,2)+"."+c(o,3)+"Z":i?"T"+c(n,2)+":"+c(r,2)+":"+c(i,2)+"Z":r||n?"T"+c(n,2)+":"+c(r,2)+"Z":"")}var h=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function c(e,t){var l,u=[],c=e.length,f=0,h=0,d=c<=0,p=!1;function m(){if(d)return i;if(p)return p=!1,r;var t,l,u=f;if(e.charCodeAt(u)===o){for(;f++<c&&e.charCodeAt(f)!==o||e.charCodeAt(++f)===o;);return(t=f)>=c?d=!0:(l=e.charCodeAt(f++))===a?p=!0:l===s&&(p=!0,e.charCodeAt(f)===a&&++f),e.slice(u+1,t-1).replace(/""/g,'"')}for(;f<c;){if((l=e.charCodeAt(t=f++))===a)p=!0;else if(l===s)p=!0,e.charCodeAt(f)===a&&++f;else if(l!==n)continue;return e.slice(u,t)}return d=!0,e.slice(u,c)}for(e.charCodeAt(c-1)===a&&--c,e.charCodeAt(c-1)===s&&--c;(l=m())!==i;){for(var v=[];l!==r&&l!==i;)v.push(l),l=m();t&&null==(v=t(v,h++))||u.push(v)}return u}function h(t,n){return t.map(function(t){return n.map(function(e){return p(t[e])}).join(e)})}function d(t){return t.map(p).join(e)}function p(e){return null==e?"":e instanceof Date?f(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,r,i=c(e,function(e,i){if(n)return n(e,i-1);r=e,n=t?function(e,t){var n=l(e);return function(r,i){return t(n(r),i,e)}}(e,t):l(e)});return i.columns=r||[],i},parseRows:c,format:function(t,n){return null==n&&(n=u(t)),[n.map(p).join(e)].concat(h(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=u(e)),h(e,t).join("\n")},formatRows:function(e){return e.map(d).join("\n")}}},d=h(","),p=d.parse,m=(d.parseRows,d.format,d.formatBody,d.formatRows,h("\t")),v=m.parse;m.parseRows,m.format,m.formatBody,m.formatRows;n.d(t,"b",function(){return h}),n.d(t,"a",function(){return p}),n.d(t,"c",function(){return v})},function(e,t,n){"use strict";t.a=function(){}},function(e,t,n){var r=n(54),i=n(121);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},function(e,t,n){var r=n(359),i=n(369),o=n(49),a=n(15),s=n(376);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},function(e,t,n){var r=n(169),i=n(123),o=n(40);e.exports=function(e){return o(e)?r(e):i(e)}},function(e,t,n){var r;if(!r)try{r=n(631)}catch(i){}r||(r=window.d3),e.exports=r},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(74),a=n.n(o),s=n(23),l=n.n(s),u=n(241),c=n.n(u),f=1073741823;var h=i.a.createContext||function(e,t){var n,i,o="__create-react-context-"+c()()+"__",s=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter(function(t){return t!==e})},get:function(){return e},set:function(n,r){e=n,t.forEach(function(t){return t(e,r)})}}}(t.props.value),t}a()(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((o=r)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof t?t(r,i):f,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,a},r.render=function(){return this.props.children},n}(r.Component);s.childContextTypes=((n={})[o]=l.a.object.isRequired,n);var u=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}a()(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?f:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?f:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return u.contextTypes=((i={})[o]=l.a.object,i),{Provider:s,Consumer:u}},d=n(36),p=n(31),m=n(24),v=n(144),g=n.n(v),y=n(17),_=(n(148),n(64)),b=n(242),w=n.n(b);n.d(t,"a",function(){return M}),n.d(t,"b",function(){return C}),n.d(t,"c",function(){return z}),n.d(t,"d",function(){return j}),n.d(t,"e",function(){return A}),n.d(t,"f",function(){return U}),n.d(t,"g",function(){return V}),n.d(t,"i",function(){return L}),n.d(t,"j",function(){return N}),n.d(t,"k",function(){return B}),n.d(t,"h",function(){return x});var x=function(e){var t=h();return t.displayName=e,t}("Router"),A=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen(function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e})),n}Object(d.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return i.a.createElement(x.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},t}(i.a.Component);var M=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(p.d)(t.props),t}return Object(d.a)(t,e),t.prototype.render=function(){return i.a.createElement(A,{history:this.history,children:this.props.children})},t}(i.a.Component);var S=function(e){function t(){return e.apply(this,arguments)||this}Object(d.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(i.a.Component);function C(e){var t=e.message,n=e.when,r=void 0===n||n;return i.a.createElement(x.Consumer,null,function(e){if(e||Object(m.a)(!1),!r||e.staticContext)return null;var n=e.history.block;return i.a.createElement(S,{onMount:function(e){e.release=n(t)},onUpdate:function(e,r){r.message!==t&&(e.release(),e.release=n(t))},onUnmount:function(e){e.release()},message:t})})}var E={},I=1e4,T=0;function L(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(E[e])return E[e];var t=g.a.compile(e);return T<I&&(E[e]=t,T++),t}(e)(t,{pretty:!0})}function z(e){var t=e.computedMatch,n=e.to,r=e.push,o=void 0!==r&&r;return i.a.createElement(x.Consumer,null,function(e){e||Object(m.a)(!1);var r=e.history,a=e.staticContext,s=o?r.push:r.replace,l=Object(p.c)(t?"string"===typeof n?L(n,t.params):Object(y.a)({},n,{pathname:L(n.pathname,t.params)}):n);return a?(s(l),null):i.a.createElement(S,{onMount:function(){s(l)},onUpdate:function(e,t){var n=Object(p.c)(t.to);Object(p.f)(n,Object(y.a)({},l,{key:n.key}))||s(l)},to:n})})}var k={},D=1e4,O=0;function N(e,t){void 0===t&&(t={}),"string"===typeof t&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,l=n.sensitive,u=void 0!==l&&l;return[].concat(r).reduce(function(t,n){if(!n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=k[n]||(k[n]={});if(r[e])return r[e];var i=[],o={regexp:g()(e,i,t),keys:i};return O<D&&(r[e]=o,O++),o}(n,{end:o,strict:s,sensitive:u}),i=r.regexp,a=r.keys,l=i.exec(e);if(!l)return null;var c=l[0],f=l.slice(1),h=e===c;return o&&!h?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:h,params:a.reduce(function(e,t,n){return e[t.name]=f[n],e},{})}},null)}var j=function(e){function t(){return e.apply(this,arguments)||this}return Object(d.a)(t,e),t.prototype.render=function(){var e=this;return i.a.createElement(x.Consumer,null,function(t){t||Object(m.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?N(n.pathname,e.props):t.match,o=Object(y.a)({},t,{location:n,match:r}),a=e.props,s=a.children,l=a.component,u=a.render;(Array.isArray(s)&&0===s.length&&(s=null),"function"===typeof s)&&(void 0===(s=s(o))&&(s=null));return i.a.createElement(x.Provider,{value:o},s&&!function(e){return 0===i.a.Children.count(e)}(s)?s:o.match?l?i.a.createElement(l,o):u?u(o):null:null)})},t}(i.a.Component);function P(e){return"/"===e.charAt(0)?e:"/"+e}function R(e,t){if(!e)return t;var n=P(e);return 0!==t.pathname.indexOf(n)?t:Object(y.a)({},t,{pathname:t.pathname.substr(n.length)})}function $(e){return"string"===typeof e?e:Object(p.e)(e)}function F(e){return function(){Object(m.a)(!1)}}function K(){}var U=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handlePush=function(e){return t.navigateTo(e,"PUSH")},t.handleReplace=function(e){return t.navigateTo(e,"REPLACE")},t.handleListen=function(){return K},t.handleBlock=function(){return K},t}Object(d.a)(t,e);var n=t.prototype;return n.navigateTo=function(e,t){var n=this.props,r=n.basename,i=void 0===r?"":r,o=n.context,a=void 0===o?{}:o;a.action=t,a.location=function(e,t){return e?Object(y.a)({},t,{pathname:P(e)+t.pathname}):t}(i,Object(p.c)(e)),a.url=$(a.location)},n.render=function(){var e=this.props,t=e.basename,n=void 0===t?"":t,r=e.context,o=void 0===r?{}:r,a=e.location,s=void 0===a?"/":a,l=Object(_.a)(e,["basename","context","location"]),u={createHref:function(e){return P(n+$(e))},action:"POP",location:R(n,Object(p.c)(s)),push:this.handlePush,replace:this.handleReplace,go:F(),goBack:F(),goForward:F(),listen:this.handleListen,block:this.handleBlock};return i.a.createElement(A,Object(y.a)({},l,{history:u,staticContext:o}))},t}(i.a.Component);var V=function(e){function t(){return e.apply(this,arguments)||this}return Object(d.a)(t,e),t.prototype.render=function(){var e=this;return i.a.createElement(x.Consumer,null,function(t){t||Object(m.a)(!1);var n,r,o=e.props.location||t.location;return i.a.Children.forEach(e.props.children,function(e){if(null==r&&i.a.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?N(o.pathname,Object(y.a)({},e.props,{path:a})):t.match}}),r?i.a.cloneElement(n,{location:o,computedMatch:r}):null})},t}(i.a.Component);function B(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,r=Object(_.a)(t,["wrappedComponentRef"]);return i.a.createElement(x.Consumer,null,function(t){return t||Object(m.a)(!1),i.a.createElement(e,Object(y.a)({},r,t,{ref:n}))})};return n.displayName=t,n.WrappedComponent=e,w()(n,e)}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},,function(e,t,n){var r=n(314),i=n(319);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},function(e,t,n){var r=n(55),i=n(315),o=n(316),a="[object Null]",s="[object Undefined]",l=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:a:l&&l in Object(e)?i(e):o(e)}},function(e,t){e.exports=function(e){return e}},function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return h}),n.d(t,"c",function(){return d}),n.d(t,"a",function(){return p});var r=n(7),i=n(62),o=n(30),a=n(243),s=n(244),l=n(147),u=n(39),c=n(19),f="function"===typeof requestAnimationFrame?requestAnimationFrame:e,h={},d={};function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new i.a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w,n=this.module();if(Object.defineProperties(this,{_dirty:{value:new Set},_updates:{value:new Set},_computing:{value:null,writable:!0},_init:{value:null,writable:!0},_modules:{value:new Map},_variables:{value:new Set},_disposed:{value:!1,writable:!0},_builtin:{value:n},_global:{value:t}}),e)for(var r in e)new c.d(c.b,n).define(r,[],e[r])}function m(e){++e._indegree}function v(e){return e._promise.catch(e._rejector)}function g(e){return new Promise(function(t){e._invalidate=t})}function y(e,t){var n,i,o="function"===typeof IntersectionObserver&&t._observer&&t._observer._node,a=!o,s=u.a,l=u.a;return o&&((i=new IntersectionObserver(function(e){var t=Object(r.a)(e,1)[0];return(a=t.isIntersecting)&&(n=null,s())})).observe(o),e.then(function(){return i.disconnect(),i=null,l()})),function(e){return a?Promise.resolve(e):i?(n||(n=new Promise(function(e,t){return s=e,l=t})),n.then(function(){return e})):Promise.reject()}}function _(e){e._invalidate(),e._invalidate=u.a,e._pending();var t=e._value,n=++e._version,r=null,i=e._promise=Promise.all(e._inputs.map(v)).then(function(i){if(e._version===n){for(var o=0,a=i.length;o<a;++o)switch(i[o]){case h:i[o]=r=g(e);break;case d:r||(r=g(e)),i[o]=y(r,e)}return e._definition.apply(t,i)}}).then(function(t){return Object(a.a)(t)?((r||g(e)).then((o=t,function(){o.return()})),function(e,t,n,r){function i(){var n=new Promise(function(e){e(r.next())}).then(function(r){return r.done?void 0:Promise.resolve(r.value).then(function(r){if(e._version===t)return b(e,r,n).then(i),e._fulfilled(r),r})});n.catch(function(r){e._version===t&&(b(e,void 0,n),e._rejected(r))})}return new Promise(function(e){e(r.next())}).then(function(e){if(!e.done)return n.then(i),e.value})}(e,n,i,t)):t;var o});i.then(function(t){e._version===n&&(e._value=t,e._fulfilled(t))},function(t){e._version===n&&(e._value=void 0,e._rejected(t))})}function b(e,t,n){var r=e._module._runtime;return e._value=t,e._promise=n,e._outputs.forEach(r._updates.add,r._updates),r._compute()}function w(e){return window[e]}Object.defineProperties(p,{load:{value:s.a,writable:!0,configurable:!0}}),Object.defineProperties(p.prototype,{_compute:{value:function(){return this._computing||(this._computing=this._computeSoon())},writable:!0,configurable:!0},_computeSoon:{value:function(){var e=this;return new Promise(function(t){f(function(){t(),e._disposed||e._computeNow()})})},writable:!0,configurable:!0},_computeNow:{value:function(){var e,t,n=[];(e=new Set(this._dirty)).forEach(function(t){t._inputs.forEach(e.add,e);var n=function(e){if(e._observer!==c.e)return!0;var t=new Set(e._outputs),n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s._observer!==c.e)return!0;s._outputs.forEach(t.add,t)}}catch(l){r=!0,i=l}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return!1}(t);n>t._reachable?this._updates.add(t):n<t._reachable&&t._invalidate(),t._reachable=n},this),(e=new Set(this._updates)).forEach(function(t){t._reachable?(t._indegree=0,t._outputs.forEach(e.add,e)):(t._indegree=NaN,e.delete(t))}),this._computing=null,this._updates.clear(),this._dirty.clear(),e.forEach(function(e){e._outputs.forEach(m)}),e.forEach(function(e){0===e._indegree&&n.push(e)});for(;t=n.pop();)_(t),t._outputs.forEach(r),e.delete(t);function r(e){0===--e._indegree&&n.push(e)}e.forEach(function(e){var t=new o.a("circular definition");e._value=void 0,(e._promise=Promise.reject(t)).catch(u.a),e._rejected(t)})},writable:!0,configurable:!0},dispose:{value:function(){this._computing=Promise.resolve(),this._disposed=!0,this._variables.forEach(function(e){e._invalidate(),e._version=NaN})},writable:!0,configurable:!0},module:{value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.a;if(void 0===e)return(t=this._init)?(this._init=null,t):new l.a(this);if(t=this._modules.get(e))return t;this._init=t=new l.a(this),this._modules.set(e,t);try{e(this,n)}finally{this._init=null}return t},writable:!0,configurable:!0}})}).call(this,n(490).setImmediate)},,,function(e,t){e.exports=function(e,t){return e===t||e!==e&&t!==t}},function(e,t,n){var r=n(48),i=n(28),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";e.exports=function(e){if(!i(e))return!1;var t=r(e);return t==a||t==s||t==o||t==l}},function(e,t,n){var r=n(33).Symbol;e.exports=r},function(e,t,n){(function(e){var r=n(33),i=n(335),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l}).call(this,n(84)(e))},function(e,t,n){var r=n(169),i=n(339),o=n(40);e.exports=function(e){return o(e)?r(e,!0):i(e)}},function(e,t,n){var r=n(344),i=n(118),o=n(345),a=n(178),s=n(346),l=n(48),u=n(167),c=u(r),f=u(i),h=u(o),d=u(a),p=u(s),m=l;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||o&&"[object Promise]"!=m(o.resolve())||a&&"[object Set]"!=m(new a)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case c:return"[object DataView]";case f:return"[object Map]";case h:return"[object Promise]";case d:return"[object Set]";case p:return"[object WeakMap]"}return t}),e.exports=m},function(e,t,n){var r=n(48),i=n(37),o="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||i(e)&&r(e)==o}},function(e,t,n){var r;try{r={defaults:n(211),each:n(128),isFunction:n(54),isPlainObject:n(215),pick:n(218),has:n(134),range:n(219),uniqueId:n(220)}}catch(i){}r||(r=window._),e.exports=r},,function(e,t,n){"use strict";var r=function(e){return function(){return e}},i=n(9),o=n.n(i),a=n(18),s={math:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},l=0;function u(e){this.id=e,this.href=window.location.href+"#"+e}u.prototype.toString=function(){return"url("+this.href+")"};var c={canvas:function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n},context2d:function(e,t,n){null==n&&(n=devicePixelRatio);var r=document.createElement("canvas");r.width=e*n,r.height=t*n,r.style.width=e+"px";var i=r.getContext("2d");return i.scale(n,n),i},download:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"untitled",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Save",r=document.createElement("a"),i=r.appendChild(document.createElement("button"));function s(){return l.apply(this,arguments)}function l(){return(l=Object(a.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(requestAnimationFrame);case 2:URL.revokeObjectURL(r.href),r.removeAttribute("href"),i.textContent=n,i.disabled=!1;case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}return i.textContent=n,r.download=t,r.onclick=function(){var t=Object(a.a)(o.a.mark(function t(a){var l;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i.disabled=!0,!r.href){t.next=3;break}return t.abrupt("return",s());case 3:return i.textContent="Saving\u2026",t.prev=4,t.next=7,"function"===typeof e?e():e;case 7:l=t.sent,i.textContent="Download",r.href=URL.createObjectURL(l),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),i.textContent=n;case 15:if(!a.eventPhase){t.next=17;break}return t.abrupt("return",s());case 17:i.disabled=!1;case 18:case"end":return t.stop()}},t,null,[[4,12]])}));return function(e){return t.apply(this,arguments)}}(),r},element:function(e,t){var n,r=e+="",i=r.indexOf(":");i>=0&&"xmlns"!==(r=e.slice(0,i))&&(e=e.slice(i+1));var o=s.hasOwnProperty(r)?document.createElementNS(s[r],e):document.createElement(e);if(t)for(var a in t)i=(r=a).indexOf(":"),n=t[a],i>=0&&"xmlns"!==(r=a.slice(0,i))&&(a=a.slice(i+1)),s.hasOwnProperty(r)?o.setAttributeNS(s[r],a,n):o.setAttribute(a,n);return o},input:function(e){var t=document.createElement("input");return null!=e&&(t.type=e),t},range:function(e,t,n){1===arguments.length&&(t=e,e=null);var r=document.createElement("input");return r.min=e=null==e?0:+e,r.max=t=null==t?1:+t,r.step=null==n?"any":n=+n,r.type="range",r},select:function(e){var t=document.createElement("select");return Array.prototype.forEach.call(e,function(e){var n=document.createElement("option");n.value=n.textContent=e,t.appendChild(n)}),t},svg:function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("viewBox",[0,0,e,t]),n.setAttribute("width",e),n.setAttribute("height",t),n},text:function(e){return document.createTextNode(e)},uid:function(e){return new u("O-"+(null==e?"":e+"-")+ ++l)}},f={buffer:function(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=n,r.readAsArrayBuffer(e)})},text:function(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=n,r.readAsText(e)})},url:function(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=n,r.readAsDataURL(e)})}},h=n(11);function d(){return this}function p(e,t){var n,r=!1;return n={},Object(h.a)(n,Symbol.iterator,d),Object(h.a)(n,"next",function(){return r?{done:!0}:(r=!0,{done:!1,value:e})}),Object(h.a)(n,"return",function(){return r=!0,t(e),{done:!0}}),Object(h.a)(n,"throw",function(){return{done:r=!0}}),n}var m=o.a.mark(v);function v(e,t){var n,r;return o.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:r=-1;case 1:if((n=e.next()).done){i.next=7;break}if(!t(n.value,++r)){i.next=5;break}return i.next=5,n.value;case 5:i.next=1;break;case 7:case"end":return i.stop()}},m)}var g=function(e){var t,n,r,i=!1,o=e(function(e){r?(r(e),r=null):i=!0;return n=e});return t={},Object(h.a)(t,Symbol.iterator,d),Object(h.a)(t,"throw",function(){return{done:!0}}),Object(h.a)(t,"return",function(){return null!=o&&o(),{done:!0}}),Object(h.a)(t,"next",function(){return{done:!1,value:i?(i=!1,Promise.resolve(n)):new Promise(function(e){return r=e})}}),t};function y(e){switch(e.type){case"range":case"number":return e.valueAsNumber;case"date":return e.valueAsDate;case"checkbox":return e.checked;case"file":return e.multiple?e.files:e.files[0];default:return e.value}}var _=o.a.mark(b);function b(e,t){var n,r;return o.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:r=-1;case 1:if((n=e.next()).done){i.next=6;break}return i.next=4,t(n.value,++r);case 4:i.next=1;break;case 6:case"end":return i.stop()}},_)}var w=o.a.mark(x);function x(e,t,n){var r,i,a=arguments;return o.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:e=+e,t=+t,n=(i=a.length)<2?(t=e,e=0,1):i<3?1:+n,r=-1,i=0|Math.max(0,Math.ceil((t-e)/n));case 4:if(!(++r<i)){o.next=9;break}return o.next=7,e+r*n;case 7:o.next=4;break;case 9:case"end":return o.stop()}},w)}var A={disposable:p,filter:v,input:function(e){return g(function(t){var n=function(e){switch(e.type){case"button":case"submit":case"checkbox":return"click";case"file":return"change";default:return"input"}}(e),r=y(e);function i(){t(y(e))}return e.addEventListener(n,i),void 0!==r&&t(r),function(){e.removeEventListener(n,i)}})},map:b,observe:g,queue:function(e){var t,n,r=[],i=e(function(e){return r.push(e),n&&(n(r.shift()),n=null),e});return t={},Object(h.a)(t,Symbol.iterator,d),Object(h.a)(t,"throw",function(){return{done:!0}}),Object(h.a)(t,"return",function(){return null!=i&&i(),{done:!0}}),Object(h.a)(t,"next",function(){return{done:!1,value:r.length?Promise.resolve(r.shift()):new Promise(function(e){return n=e})}}),t},range:x,valueAt:function(e,t){if(!(!isFinite(t=+t)||t<0||t!==t|0))for(var n,r=-1;!(n=e.next()).done;)if(++r===t)return n.value},worker:function(e){var t=URL.createObjectURL(new Blob([e],{type:"text/javascript"})),n=new Worker(t);return p(n,function(){n.terminate(),URL.revokeObjectURL(t)})}};function M(e,t){return function(n){var r,i,o,a,s,l,u,c,f=n[0],h=[],d=null,p=-1;for(s=1,l=arguments.length;s<l;++s){if((r=arguments[s])instanceof Node)h[++p]=r,f+="\x3c!--o:"+p+"--\x3e";else if(Array.isArray(r)){for(u=0,c=r.length;u<c;++u)(i=r[u])instanceof Node?(null===d&&(h[++p]=d=document.createDocumentFragment(),f+="\x3c!--o:"+p+"--\x3e"),d.appendChild(i)):(d=null,f+=i);d=null}else f+=r;f+=n[s]}if(d=e(f),++p>0){for(o=new Array(p),a=document.createTreeWalker(d,NodeFilter.SHOW_COMMENT,null,!1);a.nextNode();)i=a.currentNode,/^o:/.test(i.nodeValue)&&(o[+i.nodeValue.slice(2)]=i);for(s=0;s<p;++s)(i=o[s])&&i.parentNode.replaceChild(h[s],i)}return 1===d.childNodes.length?d.removeChild(d.firstChild):11===d.nodeType?((i=t()).appendChild(d),i):d}}var S=M(function(e){var t=document.createElement("template");return t.innerHTML=e.trim(),document.importNode(t.content,!0)},function(){return document.createElement("span")}),C={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:P,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:P,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:P,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};function E(e){this.tokens=[],this.tokens.links={},this.options=e||$.defaults,this.rules=C.normal,this.options.gfm&&(this.options.tables?this.rules=C.tables:this.rules=C.gfm)}C.bullet=/(?:[*+-]|\d+\.)/,C.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,C.item=D(C.item,"gm")(/bull/g,C.bullet)(),C.list=D(C.list)(/bull/g,C.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+C.def.source+")")(),C.blockquote=D(C.blockquote)("def",C.def)(),C._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",C.html=D(C.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,C._tag)(),C.paragraph=D(C.paragraph)("hr",C.hr)("heading",C.heading)("lheading",C.lheading)("blockquote",C.blockquote)("tag","<"+C._tag)("def",C.def)(),C.normal=R({},C),C.gfm=R({},C.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),C.gfm.paragraph=D(C.paragraph)("(?!","(?!"+C.gfm.fences.source.replace("\\1","\\2")+"|"+C.list.source.replace("\\1","\\3")+"|")(),C.tables=R({},C.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),E.rules=C,E.lex=function(e,t){return new E(t).lex(e)},E.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},E.prototype.token=function(e,t,n){var r,i,o,a,s,l,u,c,f;for(e=e.replace(/^ +$/gm,"");e;)if((o=this.rules.newline.exec(e))&&(e=e.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(e))e=e.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});else if(o=this.rules.fences.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]||""});else if(o=this.rules.heading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(t&&(o=this.rules.nptable.exec(e))){for(e=e.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")},c=0;c<l.align.length;c++)/^ *-+: *$/.test(l.align[c])?l.align[c]="right":/^ *:-+: *$/.test(l.align[c])?l.align[c]="center":/^ *:-+ *$/.test(l.align[c])?l.align[c]="left":l.align[c]=null;for(c=0;c<l.cells.length;c++)l.cells[c]=l.cells[c].split(/ *\| */);this.tokens.push(l)}else if(o=this.rules.lheading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(o=this.rules.hr.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,t,!0),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(e)){for(e=e.substring(o[0].length),a=o[2],this.tokens.push({type:"list_start",ordered:a.length>1}),r=!1,f=(o=o[0].match(this.rules.item)).length,c=0;c<f;c++)u=(l=o[c]).length,~(l=l.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(u-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+u+"}","gm"),"")),this.options.smartLists&&c!==f-1&&(a===(s=C.bullet.exec(o[c+1])[0])||a.length>1&&s.length>1||(e=o.slice(c+1).join("\n")+e,c=f-1)),i=r||/\n\n(?!\s*$)/.test(l),c!==f-1&&(r="\n"===l.charAt(l.length-1),i||(i=r)),this.tokens.push({type:i?"loose_item_start":"list_item_start"}),this.token(l,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(e))e=e.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:o[0]});else if(!n&&t&&(o=this.rules.def.exec(e)))e=e.substring(o[0].length),this.tokens.links[o[1].toLowerCase()]={href:o[2],title:o[3]};else if(t&&(o=this.rules.table.exec(e))){for(e=e.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")},c=0;c<l.align.length;c++)/^ *-+: *$/.test(l.align[c])?l.align[c]="right":/^ *:-+: *$/.test(l.align[c])?l.align[c]="center":/^ *:-+ *$/.test(l.align[c])?l.align[c]="left":l.align[c]=null;for(c=0;c<l.cells.length;c++)l.cells[c]=l.cells[c].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(l)}else if(t&&(o=this.rules.paragraph.exec(e)))e=e.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var I={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ <>]+(@|:\/)[^ <>]+)>/,url:P,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^<'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)([\s\S]*?[^`])\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:P,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};function T(e,t){if(this.options=t||$.defaults,this.links=e,this.rules=I.normal,this.renderer=this.options.renderer||new L,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=I.breaks:this.rules=I.gfm:this.options.pedantic&&(this.rules=I.pedantic)}function L(e){this.options=e||{}}function z(e){this.tokens=[],this.token=null,this.options=e||$.defaults,this.options.renderer=this.options.renderer||new L,this.renderer=this.options.renderer,this.renderer.options=this.options}function k(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function D(e,t){return e=e.source,t=t||"",function n(r,i){return r?(i=(i=i.source||i).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(r,i),n):new RegExp(e,t)}}function O(e,t){return N[" "+e]||(/^[^:]+:\/*[^\/]*$/.test(e)?N[" "+e]=e+"/":N[" "+e]=e.replace(/[^\/]*$/,"")),e=N[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^\/]*)[\s\S]*/,"$1")+t:e+t}I._inside=/(?:\[[^\]]*\]|\\[\[\]]|[^\[\]]|\](?=[^\[]*\]))*/,I._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,I.link=D(I.link)("inside",I._inside)("href",I._href)(),I.reflink=D(I.reflink)("inside",I._inside)(),I.normal=R({},I),I.pedantic=R({},I.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),I.gfm=R({},I.normal,{escape:D(I.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:D(I.text)("]|","~]|")("|","|https?://|")()}),I.breaks=R({},I.gfm,{br:D(I.br)("{2,}","*")(),text:D(I.gfm.text)("{2,}","*")()}),T.rules=I,T.output=function(e,t,n){return new T(t,n).output(e)},T.prototype.output=function(e){for(var t,n,r,i,o="";e;)if(i=this.rules.escape.exec(e))e=e.substring(i[0].length),o+=i[1];else if(i=this.rules.autolink.exec(e))e=e.substring(i[0].length),"@"===i[2]?(n=k(":"===i[1].charAt(6)?this.mangle(i[1].substring(7)):this.mangle(i[1])),r=this.mangle("mailto:")+n):r=n=k(i[1]),o+=this.renderer.link(r,null,n);else if(this.inLink||!(i=this.rules.url.exec(e))){if(i=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(i[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(i[0])&&(this.inLink=!1),e=e.substring(i[0].length),o+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):k(i[0]):i[0];else if(i=this.rules.link.exec(e))e=e.substring(i[0].length),this.inLink=!0,o+=this.outputLink(i,{href:i[2],title:i[3]}),this.inLink=!1;else if((i=this.rules.reflink.exec(e))||(i=this.rules.nolink.exec(e))){if(e=e.substring(i[0].length),t=(i[2]||i[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){o+=i[0].charAt(0),e=i[0].substring(1)+e;continue}this.inLink=!0,o+=this.outputLink(i,t),this.inLink=!1}else if(i=this.rules.strong.exec(e))e=e.substring(i[0].length),o+=this.renderer.strong(this.output(i[2]||i[1]));else if(i=this.rules.em.exec(e))e=e.substring(i[0].length),o+=this.renderer.em(this.output(i[2]||i[1]));else if(i=this.rules.code.exec(e))e=e.substring(i[0].length),o+=this.renderer.codespan(k(i[2].trim(),!0));else if(i=this.rules.br.exec(e))e=e.substring(i[0].length),o+=this.renderer.br();else if(i=this.rules.del.exec(e))e=e.substring(i[0].length),o+=this.renderer.del(this.output(i[1]));else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),o+=this.renderer.text(k(this.smartypants(i[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(i[0].length),r=n=k(i[1]),o+=this.renderer.link(r,null,n);return o},T.prototype.outputLink=function(e,t){var n=k(t.href),r=t.title?k(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,k(e[1]))},T.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026"):e},T.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",r=e.length,i=0;i<r;i++)t=e.charCodeAt(i),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},L.prototype.code=function(e,t,n){if(this.options.highlight){var r=this.options.highlight(e,t);null!=r&&r!==e&&(n=!0,e=r)}return t?'<pre><code class="'+this.options.langPrefix+k(t,!0)+'">'+(n?e:k(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:k(e,!0))+"\n</code></pre>"},L.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},L.prototype.html=function(e){return e},L.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},L.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},L.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},L.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},L.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},L.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},L.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},L.prototype.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},L.prototype.strong=function(e){return"<strong>"+e+"</strong>"},L.prototype.em=function(e){return"<em>"+e+"</em>"},L.prototype.codespan=function(e){return"<code>"+e+"</code>"},L.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},L.prototype.del=function(e){return"<del>"+e+"</del>"},L.prototype.link=function(e,t,n){if(this.options.sanitize){try{var r=decodeURIComponent((i=e,i.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))).replace(/[^\w:]/g,"").toLowerCase()}catch(a){return n}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return n}var i;this.options.baseUrl&&!j.test(e)&&(e=O(this.options.baseUrl,e));var o='<a href="'+e+'"';return t&&(o+=' title="'+t+'"'),o+=">"+n+"</a>"},L.prototype.image=function(e,t,n){this.options.baseUrl&&!j.test(e)&&(e=O(this.options.baseUrl,e));var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},L.prototype.text=function(e){return e},z.parse=function(e,t,n){return new z(t,n).parse(e)},z.prototype.parse=function(e){this.inline=new T(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},z.prototype.next=function(){return this.token=this.tokens.pop()},z.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},z.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},z.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,r,i="",o="";for(n="",e=0;e<this.token.header.length;e++)({header:!0,align:this.token.align[e]}),n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(i+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",r=0;r<t.length;r++)n+=this.renderer.tablecell(this.inline.output(t[r]),{header:!1,align:this.token.align[r]});o+=this.renderer.tablerow(n)}return this.renderer.table(i,o);case"blockquote_start":for(o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case"list_start":o="";for(var a=this.token.ordered;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,a);case"list_item_start":for(o="";"list_item_end"!==this.next().type;)o+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(o);case"loose_item_start":for(o="";"list_item_end"!==this.next().type;)o+=this.tok();return this.renderer.listitem(o);case"html":var s=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(s);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}};var N={},j=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function P(){}function R(e){for(var t,n,r=1;r<arguments.length;r++)for(n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function $(e,t,n){if(n||"function"===typeof t){n||(n=t,t=null);var r,i,o=(t=R({},$.defaults,t||{})).highlight,a=0;try{r=E.lex(e,t)}catch(l){return n(l)}i=r.length;var s=function(e){if(e)return t.highlight=o,n(e);var i;try{i=z.parse(r,t)}catch(l){e=l}return t.highlight=o,e?n(e):n(null,i)};if(!o||o.length<3)return s();if(delete t.highlight,!i)return s();for(;a<r.length;a++)!function(e){"code"!==e.type?--i||s():o(e.text,e.lang,function(t,n){return t?s(t):null==n||n===e.text?--i||s():(e.text=n,e.escaped=!0,void(--i||s()))})}(r[a])}else try{return t&&(t=R({},$.defaults,t)),z.parse(E.lex(e,t),t)}catch(l){if(l.message+="\nPlease report this to https://github.com/chjj/marked.",(t||$.defaults).silent)return"<p>An error occurred:</p><pre>"+k(l.message+"",!0)+"</pre>";throw l}}P.exec=P,$.options=$.setOptions=function(e){return R($.defaults,e),$},$.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new L,xhtml:!1,baseUrl:null},$.Parser=z,$.parser=z.parse,$.Renderer=L,$.Lexer=E,$.lexer=E.lex,$.InlineLexer=T,$.inlineLexer=T.output,$.parse=$;var F=$,K="https://cdn.jsdelivr.net/npm/@observablehq/highlight.js@2.0.0/",U=function(e){return function(){return M(function(t){var n=document.createElement("div");n.innerHTML=F(t,{langPrefix:""}).trim();var r=n.querySelectorAll("pre code[class]");return r.length>0&&e(K+"highlight.min.js").then(function(t){r.forEach(function(n){function r(){t.highlightBlock(n),n.parentNode.classList.add("observablehq--md-pre")}t.getLanguage(n.className)?r():e(K+"async-languages/index.js").then(function(r){if(r.has(n.className))return e(K+"async-languages/"+r.get(n.className)).then(function(e){t.registerLanguage(n.className,e)})}).then(r,r)})}),n},function(){return document.createElement("div")})}};function V(e){var t;Object.defineProperties(this,{generator:{value:g(function(e){t=e})},value:{get:function(){return e},set:function(n){return t(e=n)}}}),void 0!==e&&t(e)}var B=o.a.mark(H);function H(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Date.now();case 3:e.next=0;break;case 5:case"end":return e.stop()}},B)}var G=new Map;function Q(e,t){var n;return(n=G.get(e=+e))?n.then(r(t)):(n=Date.now())>=e?Promise.resolve(t):function(e,t){var n=new Promise(function(n){G.delete(t);var r=t-e;if(!(r>0))throw new Error("invalid time");if(r>2147483647)throw new Error("too long to wait");setTimeout(n,r)});return G.set(t,n),n}(n,e).then(r(t))}var q={delay:function(e,t){return new Promise(function(n){setTimeout(function(){n(t)},e)})},tick:function(e,t){return Q(Math.ceil((Date.now()+1)/e)*e,t)},when:Q};function W(e,t){if(/^(\w+:)|\/\//i.test(e))return e;if(/^[.]{0,2}\//i.test(e))return new URL(e,null==t?location:t).href;if(!e.length||/^[\s._]/.test(e)||/\s$/.test(e))throw new Error("illegal name");return"https://unpkg.com/"+e}var Y=n(2),X=n(6),J=n(3),Z=n(5),ee=n(110),te=new Map,ne=[],re=ne.map,ie=ne.some,oe=ne.hasOwnProperty,ae="https://cdn.jsdelivr.net/npm/",se=/^((?:@[^\/@]+\/)?[^\/@]+)(?:@([^\/]+))?(?:\/(.*))?$/,le=/^\d+\.\d+\.\d+(-[\w-.+]+)?$/,ue=/\.[^\/]*$/,ce=["unpkg","jsdelivr","browser","main"],fe=function(e){function t(e){return Object(Y.a)(this,t),Object(X.a)(this,Object(J.a)(t).call(this,e))}return Object(Z.a)(t,e),t}(Object(ee.a)(Error));function he(e){for(var t=0,n=ce;t<n.length;t++){var r=e[n[t]];if("string"===typeof r)return ue.test(r)?r:"".concat(r,".js")}}function de(e){var t=se.exec(e);return t&&{name:t[1],version:t[2],path:t[3]}}function pe(e){var t="".concat(ae).concat(e.name).concat(e.version?"@".concat(e.version):"","/package.json"),n=te.get(t);return n||te.set(t,n=fetch(t).then(function(e){if(!e.ok)throw new fe("unable to load package.json");return e.redirected&&!te.has(e.url)&&te.set(e.url,n),e.json()})),n}function me(){return(me=Object(a.a)(o.a.mark(function e(t,n){var r,i,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.startsWith(ae)&&(t=t.substring(ae.length)),!/^(\w+:)|\/\//i.test(t)){e.next=3;break}return e.abrupt("return",t);case 3:if(!/^[.]{0,2}\//i.test(t)){e.next=5;break}return e.abrupt("return",new URL(t,null==n?location:n).href);case 5:if(t.length&&!/^[\s._]/.test(t)&&!/\s$/.test(t)){e.next=7;break}throw new fe("illegal name");case 7:if(r=de(t)){e.next=10;break}return e.abrupt("return","".concat(ae).concat(t));case 10:if(r.version||null==n||!n.startsWith(ae)){e.next=15;break}return e.next=13,pe(de(n.substring(ae.length)));case 13:i=e.sent,r.version=i.dependencies&&i.dependencies[r.name]||i.peerDependencies&&i.peerDependencies[r.name];case 15:if(r.path&&!ue.test(r.path)&&(r.path+=".js"),!(r.path&&r.version&&le.test(r.version))){e.next=18;break}return e.abrupt("return","".concat(ae).concat(r.name,"@").concat(r.version,"/").concat(r.path));case 18:return e.next=20,pe(r);case 20:return a=e.sent,e.abrupt("return","".concat(ae).concat(a.name,"@").concat(a.version,"/").concat(r.path||he(a)||"index.js"));case 22:case"end":return e.stop()}},e)}))).apply(this,arguments)}fe.prototype.name=fe.name;var ve=ge(function(e,t){return me.apply(this,arguments)});function ge(e){var t=new Map,n=i(null);function r(e){if("string"!==typeof e)return e;var n=t.get(e);return n||t.set(e,n=new Promise(function(t,n){var r=document.createElement("script");r.onload=function(){try{t(ne.pop()(i(e)))}catch(o){n(new fe("invalid module"))}r.remove()},r.onerror=function(){n(new fe("unable to load module")),r.remove()},r.async=!0,r.src=e,window.define=we,document.head.appendChild(r)})),n}function i(t){return function(n){return Promise.resolve(e(n,t)).then(r)}}function o(e){return arguments.length>1?Promise.all(re.call(arguments,n)).then(ye):n(e)}return o.alias=function(t){return ge(function(n,r){return n in t&&(r=null,"string"!==typeof(n=t[n]))?n:e(n,r)})},o.resolve=e,o}function ye(e){var t={},n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;for(var l in s)oe.call(s,l)&&(null==s[l]?Object.defineProperty(t,l,{get:_e(s,l)}):t[l]=s[l])}}catch(u){r=!0,i=u}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return t}function _e(e,t){return function(){return e[t]}}function be(e){return"exports"===(e+="")||"module"===e}function we(e,t,n){var r=arguments.length;r<2?(n=e,t=[]):r<3&&(n=t,t="string"===typeof e?[]:e),ne.push(ie.call(t,be)?function(e){var r={},i={exports:r};return Promise.all(re.call(t,function(t){return"exports"===(t+="")?r:"module"===t?i:e(t)})).then(function(e){return n.apply(null,e),i.exports})}:function(e){return Promise.all(re.call(t,e)).then(function(e){return"function"===typeof n?n.apply(null,e):n})})}we.amd={};var xe=function(e){return null==e?ve:ge(e)},Ae=M(function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","g");return t.innerHTML=e.trim(),t},function(){return document.createElementNS("http://www.w3.org/2000/svg","g")}),Me=String.raw;function Se(e){return new Promise(function(t,n){var r=document.createElement("link");r.rel="stylesheet",r.href=e,r.onerror=n,r.onload=t,document.head.appendChild(r)})}var Ce=function(e){return function(){return Promise.all([e("@observablehq/katex@0.11.1/dist/katex.min.js"),e.resolve("@observablehq/katex@0.11.1/dist/katex.min.css").then(Se)]).then(function(e){var t=e[0],n=r();function r(e){return function(){var n=document.createElement("div");return t.render(Me.apply(String,arguments),n,e),n.removeChild(n.firstChild)}}return n.options=r,n.block=r({displayMode:!0}),n})}},Ee=function(){return g(function(e){var t=e(document.body.clientWidth);function n(){var n=document.body.clientWidth;n!==t&&e(t=n)}return window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}})};function Ie(e){var t=xe(e);Object.defineProperties(this,{DOM:{value:c,writable:!0,enumerable:!0},Files:{value:f,writable:!0,enumerable:!0},Generators:{value:A,writable:!0,enumerable:!0},html:{value:r(S),writable:!0,enumerable:!0},md:{value:U(t),writable:!0,enumerable:!0},Mutable:{value:r(V),writable:!0,enumerable:!0},now:{value:H,writable:!0,enumerable:!0},Promises:{value:q,writable:!0,enumerable:!0},require:{value:r(t),writable:!0,enumerable:!0},resolve:{value:r(W),writable:!0,enumerable:!0},svg:{value:r(Ae),writable:!0,enumerable:!0},tex:{value:Ce(t),writable:!0,enumerable:!0},width:{value:Ee,writable:!0,enumerable:!0}})}n.d(t,"a",function(){return Ie})},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",function(){return r})},function(e,t,n){e.exports={graphlib:n(301),dagre:n(210),intersect:n(471),render:n(473),util:n(29),version:n(486)}},function(e,t,n){var r=n(262);e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){r(e,t,n[t])})}return e}},,,function(e,t,n){var r=n(82),i=n(83);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=o?o(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),a?i(n,u,c):r(n,u,c)}return n}},function(e,t,n){var r=n(334),i=n(37),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t,n){var r=n(336),i=n(86),o=n(122),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},function(e,t,n){var r=n(59),i=1/0;e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(258)},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,n){"use strict";var r=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},i=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return r(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}};var o=i(r);o.right,o.left;var a=Array.prototype;a.slice,a.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var s=function(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(t=(r=e[i]).length;--t>=0;)n[--a]=r[t];return n};Array.prototype.slice;var l=n(22),u="http://www.w3.org/1999/xhtml",c={svg:"http://www.w3.org/2000/svg",xhtml:u,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},f=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),c.hasOwnProperty(t)?{space:c[t],local:e}:e};var h=function(e){var t=f(e);return(t.local?function(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}:function(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===u&&t.documentElement.namespaceURI===u?t.createElement(e):t.createElementNS(n,e)}})(t)};function d(){}var p=function(e){return null==e?d:function(){return this.querySelector(e)}};function m(){return[]}var v=function(e){return null==e?m:function(){return this.querySelectorAll(e)}},g=function(e){return function(){return this.matches(e)}},y=function(e){return new Array(e.length)};function _(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}_.prototype={constructor:_,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var b="$";function w(e,t,n,r,i,o){for(var a,s=0,l=t.length,u=o.length;s<u;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new _(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function x(e,t,n,r,i,o,a){var s,l,u,c={},f=t.length,h=o.length,d=new Array(f);for(s=0;s<f;++s)(l=t[s])&&(d[s]=u=b+a.call(l,l.__data__,s,t),u in c?i[s]=l:c[u]=l);for(s=0;s<h;++s)(l=c[u=b+a.call(e,o[s],s,o)])?(r[s]=l,l.__data__=o[s],c[u]=null):n[s]=new _(e,o[s]);for(s=0;s<f;++s)(l=t[s])&&c[d[s]]===l&&(i[s]=l)}function A(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var M=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};function S(e,t){return e.style.getPropertyValue(t)||M(e).getComputedStyle(e,null).getPropertyValue(t)}function C(e){return e.trim().split(/^|\s+/)}function E(e){return e.classList||new I(e)}function I(e){this._node=e,this._names=C(e.getAttribute("class")||"")}function T(e,t){for(var n=E(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function L(e,t){for(var n=E(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}I.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function z(){this.textContent=""}function k(){this.innerHTML=""}function D(){this.nextSibling&&this.parentNode.appendChild(this)}function O(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function N(){return null}function j(){var e=this.parentNode;e&&e.removeChild(this)}function P(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function R(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var $={},F=null;"undefined"!==typeof document&&("onmouseenter"in document.documentElement||($={mouseenter:"mouseover",mouseleave:"mouseout"}));function K(e,t,n){return e=U(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function U(e,t,n){return function(r){var i=F;F=r;try{e.call(this,this.__data__,t,n)}finally{F=i}}}function V(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?t.length=i:delete this.__on}}}function B(e,t,n){var r=$.hasOwnProperty(e.type)?K:U;return function(i,o,a){var s,l=this.__on,u=r(t,o,a);if(l)for(var c=0,f=l.length;c<f;++c)if((s=l[c]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=u,s.capture=n),void(s.value=t);this.addEventListener(e.type,u,n),s={type:e.type,name:e.name,value:t,listener:u,capture:n},l?l.push(s):this.__on=[s]}}function H(e,t,n){var r=M(e),i=r.CustomEvent;"function"===typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}var G=[null];function Q(e,t){this._groups=e,this._parents=t}function q(){return new Q([[document.documentElement]],G)}Q.prototype=q.prototype={constructor:Q,select:function(e){"function"!==typeof e&&(e=p(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=t[i],l=s.length,u=r[i]=new Array(l),c=0;c<l;++c)(o=s[c])&&(a=e.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),u[c]=a);return new Q(r,this._parents)},selectAll:function(e){"function"!==typeof e&&(e=v(e));for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a,s=t[o],l=s.length,u=0;u<l;++u)(a=s[u])&&(r.push(e.call(a,a.__data__,u,s)),i.push(a));return new Q(r,i)},filter:function(e){"function"!==typeof e&&(e=g(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,l=r[i]=[],u=0;u<s;++u)(o=a[u])&&e.call(o,o.__data__,u,a)&&l.push(o);return new Q(r,this._parents)},data:function(e,t){if(!e)return p=new Array(this.size()),c=-1,this.each(function(e){p[++c]=e}),p;var n,r=t?x:w,i=this._parents,o=this._groups;"function"!==typeof e&&(n=e,e=function(){return n});for(var a=o.length,s=new Array(a),l=new Array(a),u=new Array(a),c=0;c<a;++c){var f=i[c],h=o[c],d=h.length,p=e.call(f,f&&f.__data__,c,i),m=p.length,v=l[c]=new Array(m),g=s[c]=new Array(m);r(f,h,v,g,u[c]=new Array(d),p,t);for(var y,_,b=0,A=0;b<m;++b)if(y=v[b]){for(b>=A&&(A=b+1);!(_=g[A])&&++A<m;);y._next=_||null}}return(s=new Q(s,i))._enter=l,s._exit=u,s},enter:function(){return new Q(this._enter||this._groups.map(y),this._parents)},exit:function(){return new Q(this._exit||this._groups.map(y),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,o=this.exit();return r="function"===typeof e?e(r):r.append(e+""),null!=t&&(i=t(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(e){for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,u=t[s],c=n[s],f=u.length,h=a[s]=new Array(f),d=0;d<f;++d)(l=u[d]||c[d])&&(h[d]=l);for(;s<r;++s)a[s]=t[s];return new Q(a,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=A);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],l=s.length,u=i[o]=new Array(l),c=0;c<l;++c)(a=s[c])&&(u[c]=a);u.sort(t)}return new Q(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var e=0;return this.each(function(){++e}),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],a=0,s=o.length;a<s;++a)(i=o[a])&&e.call(i,i.__data__,a,o);return this},attr:function(e,t){var n=f(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}}:"function"===typeof t?n.local?function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}:function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}:n.local?function(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}:function(e,t){return function(){this.setAttribute(e,t)}})(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?function(e){return function(){this.style.removeProperty(e)}}:"function"===typeof t?function(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}:function(e,t,n){return function(){this.style.setProperty(e,t,n)}})(e,t,null==n?"":n)):S(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?function(e){return function(){delete this[e]}}:"function"===typeof t?function(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}:function(e,t){return function(){this[e]=t}})(e,t)):this.node()[e]},classed:function(e,t){var n=C(e+"");if(arguments.length<2){for(var r=E(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof t?function(e,t){return function(){(t.apply(this,arguments)?T:L)(this,e)}}:t?function(e){return function(){T(this,e)}}:function(e){return function(){L(this,e)}})(n,t))},text:function(e){return arguments.length?this.each(null==e?z:("function"===typeof e?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(e){return function(){this.textContent=e}})(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?k:("function"===typeof e?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(e){return function(){this.innerHTML=e}})(e)):this.node().innerHTML},raise:function(){return this.each(D)},lower:function(){return this.each(O)},append:function(e){var t="function"===typeof e?e:h(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"===typeof e?e:h(e),r=null==t?N:"function"===typeof t?t:p(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(j)},clone:function(e){return this.select(e?R:P)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,o=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}(e+""),a=o.length;if(!(arguments.length<2)){for(s=t?B:V,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],t,n));return this}var s=this.node().__on;if(s)for(var l,u=0,c=s.length;u<c;++u)for(r=0,l=s[u];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"===typeof t?function(e,t){return function(){return H(this,e,t.apply(this,arguments))}}:function(e,t){return function(){return H(this,e,t)}})(e,t))}};var W=q,Y=function(e){return"string"===typeof e?new Q([[document.querySelector(e)]],[document.documentElement]):new Q([[e]],G)},X=0;function J(){this._="@"+(++X).toString(36)}J.prototype=function(){return new J}.prototype={constructor:J,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var Z=function(e){return"string"===typeof e?new Q([document.querySelectorAll(e)],[document.documentElement]):new Q([null==e?[]:e],G)};function ee(e,t,n,r,i,o,a,s,l,u){this.target=e,this.type=t,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=l,this._=u}ee.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var te=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function ne(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function re(){}var ie="\\s*([+-]?\\d+)\\s*",oe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ae="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",se=/^#([0-9a-f]{3})$/,le=/^#([0-9a-f]{6})$/,ue=new RegExp("^rgb\\("+[ie,ie,ie]+"\\)$"),ce=new RegExp("^rgb\\("+[ae,ae,ae]+"\\)$"),fe=new RegExp("^rgba\\("+[ie,ie,ie,oe]+"\\)$"),he=new RegExp("^rgba\\("+[ae,ae,ae,oe]+"\\)$"),de=new RegExp("^hsl\\("+[oe,ae,ae]+"\\)$"),pe=new RegExp("^hsla\\("+[oe,ae,ae,oe]+"\\)$"),me={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ve(){return this.rgb().formatHex()}function ge(){return this.rgb().formatRgb()}function ye(e){var t;return e=(e+"").trim().toLowerCase(),(t=se.exec(e))?new Ae((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=le.exec(e))?_e(parseInt(t[1],16)):(t=ue.exec(e))?new Ae(t[1],t[2],t[3],1):(t=ce.exec(e))?new Ae(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=fe.exec(e))?be(t[1],t[2],t[3],t[4]):(t=he.exec(e))?be(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=de.exec(e))?Ee(t[1],t[2]/100,t[3]/100,1):(t=pe.exec(e))?Ee(t[1],t[2]/100,t[3]/100,t[4]):me.hasOwnProperty(e)?_e(me[e]):"transparent"===e?new Ae(NaN,NaN,NaN,0):null}function _e(e){return new Ae(e>>16&255,e>>8&255,255&e,1)}function be(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ae(e,t,n,r)}function we(e){return e instanceof re||(e=ye(e)),e?new Ae((e=e.rgb()).r,e.g,e.b,e.opacity):new Ae}function xe(e,t,n,r){return 1===arguments.length?we(e):new Ae(e,t,n,null==r?1:r)}function Ae(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Me(){return"#"+Ce(this.r)+Ce(this.g)+Ce(this.b)}function Se(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function Ce(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Ee(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Le(e,t,n,r)}function Ie(e){if(e instanceof Le)return new Le(e.h,e.s,e.l,e.opacity);if(e instanceof re||(e=ye(e)),!e)return new Le;if(e instanceof Le)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Le(a,s,l,e.opacity)}function Te(e,t,n,r){return 1===arguments.length?Ie(e):new Le(e,t,n,null==r?1:r)}function Le(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function ze(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}te(re,ye,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:ve,formatHex:ve,formatHsl:function(){return Ie(this).formatHsl()},formatRgb:ge,toString:ge}),te(Ae,xe,ne(re,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Ae(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Ae(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Me,formatHex:Me,formatRgb:Se,toString:Se})),te(Le,Te,ne(re,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Le(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Le(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ae(ze(e>=240?e-240:e+120,i,r),ze(e,i,r),ze(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var ke=Math.PI/180,De=180/Math.PI,Oe=.96422,Ne=1,je=.82521,Pe=4/29,Re=6/29,$e=3*Re*Re,Fe=Re*Re*Re;function Ke(e){if(e instanceof Ve)return new Ve(e.l,e.a,e.b,e.opacity);if(e instanceof Ye)return Xe(e);e instanceof Ae||(e=we(e));var t,n,r=Qe(e.r),i=Qe(e.g),o=Qe(e.b),a=Be((.2225045*r+.7168786*i+.0606169*o)/Ne);return r===i&&i===o?t=n=a:(t=Be((.4360747*r+.3850649*i+.1430804*o)/Oe),n=Be((.0139322*r+.0971045*i+.7141733*o)/je)),new Ve(116*a-16,500*(t-a),200*(a-n),e.opacity)}function Ue(e,t,n,r){return 1===arguments.length?Ke(e):new Ve(e,t,n,null==r?1:r)}function Ve(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function Be(e){return e>Fe?Math.pow(e,1/3):e/$e+Pe}function He(e){return e>Re?e*e*e:$e*(e-Pe)}function Ge(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Qe(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function qe(e){if(e instanceof Ye)return new Ye(e.h,e.c,e.l,e.opacity);if(e instanceof Ve||(e=Ke(e)),0===e.a&&0===e.b)return new Ye(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*De;return new Ye(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function We(e,t,n,r){return 1===arguments.length?qe(e):new Ye(e,t,n,null==r?1:r)}function Ye(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function Xe(e){if(isNaN(e.h))return new Ve(e.l,0,0,e.opacity);var t=e.h*ke;return new Ve(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}te(Ve,Ue,ne(re,{brighter:function(e){return new Ve(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new Ve(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new Ae(Ge(3.1338561*(t=Oe*He(t))-1.6168667*(e=Ne*He(e))-.4906146*(n=je*He(n))),Ge(-.9787684*t+1.9161415*e+.033454*n),Ge(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),te(Ye,We,ne(re,{brighter:function(e){return new Ye(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new Ye(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return Xe(this).rgb()}}));var Je=-.29227,Ze=-.90649,et=1.97294,tt=et*Ze,nt=1.78277*et,rt=1.78277*Je- -.14861*Ze;function it(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof ot)return new ot(e.h,e.s,e.l,e.opacity);e instanceof Ae||(e=we(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(rt*r+tt*t-nt*n)/(rt+tt-nt),o=r-i,a=(et*(n-i)-Je*o)/Ze,s=Math.sqrt(a*a+o*o)/(et*i*(1-i)),l=s?Math.atan2(a,o)*De-120:NaN;return new ot(l<0?l+360:l,s,i,e.opacity)}(e):new ot(e,t,n,null==r?1:r)}function ot(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function at(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}te(ot,it,ne(re,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new ot(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new ot(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*ke,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Ae(255*(t+n*(-.14861*r+1.78277*i)),255*(t+n*(Je*r+Ze*i)),255*(t+n*(et*r)),this.opacity)}}));var st=function(e){return function(){return e}};function lt(e,t){return function(n){return e+n*t}}function ut(e,t){var n=t-e;return n?lt(e,n>180||n<-180?n-360*Math.round(n/360):n):st(isNaN(e)?t:e)}function ct(e){return 1===(e=+e)?ft:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):st(isNaN(t)?n:t)}}function ft(e,t){var n=t-e;return n?lt(e,n):st(isNaN(e)?t:e)}var ht=function e(t){var n=ct(t);function r(e,t){var r=n((e=xe(e)).r,(t=xe(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=ft(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function dt(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=xe(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}dt(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return at((n-r/t)*t,a,i,o,s)}}),dt(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return at((n-r/t)*t,i,o,a,s)}});var pt=function(e,t){return t-=e=+e,function(n){return e+t*n}},mt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vt=new RegExp(mt.source,"g");var gt,yt,_t,bt,wt=function(e,t){var n,r,i,o=mt.lastIndex=vt.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=mt.exec(e))&&(r=vt.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:pt(n,r)})),o=vt.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})},xt=180/Math.PI,At={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Mt=function(e,t,n,r,i,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*xt,skewX:Math.atan(l)*xt,scaleX:a,scaleY:s}};function St(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(o,a){var s=[],l=[];return o=e(o),a=e(a),function(e,r,i,o,a,s){if(e!==i||r!==o){var l=a.push("translate(",null,t,null,n);s.push({i:l-4,x:pt(e,i)},{i:l-2,x:pt(r,o)})}else(i||o)&&a.push("translate("+i+t+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:pt(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(o.rotate,a.rotate,s,l),function(e,t,n,o){e!==t?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:pt(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(o.skewX,a.skewX,s,l),function(e,t,n,r,o,a){if(e!==n||t!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:pt(e,n)},{i:s-2,x:pt(t,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(e){for(var t,n=-1,r=l.length;++n<r;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var Ct=St(function(e){return"none"===e?At:(gt||(gt=document.createElement("DIV"),yt=document.documentElement,_t=document.defaultView),gt.style.transform=e,e=_t.getComputedStyle(yt.appendChild(gt),null).getPropertyValue("transform"),yt.removeChild(gt),e=e.slice(7,-1).split(","),Mt(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))},"px, ","px)","deg)"),Et=St(function(e){return null==e?At:(bt||(bt=document.createElementNS("http://www.w3.org/2000/svg","g")),bt.setAttribute("transform",e),(e=bt.transform.baseVal.consolidate())?(e=e.matrix,Mt(e.a,e.b,e.c,e.d,e.e,e.f)):At)},", ",")",")");Math.SQRT2;function It(e){return function(t,n){var r=e((t=Te(t)).h,(n=Te(n)).h),i=ft(t.s,n.s),o=ft(t.l,n.l),a=ft(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=i(e),t.l=o(e),t.opacity=a(e),t+""}}}It(ut),It(ft);function Tt(e){return function(t,n){var r=e((t=We(t)).h,(n=We(n)).h),i=ft(t.c,n.c),o=ft(t.l,n.l),a=ft(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=i(e),t.l=o(e),t.opacity=a(e),t+""}}}Tt(ut),Tt(ft);function Lt(e){return function t(n){function r(t,r){var i=e((t=it(t)).h,(r=it(r)).h),o=ft(t.s,r.s),a=ft(t.l,r.l),s=ft(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=o(e),t.l=a(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,r.gamma=t,r}(1)}Lt(ut),Lt(ft);var zt,kt,Dt=0,Ot=0,Nt=0,jt=1e3,Pt=0,Rt=0,$t=0,Ft="object"===typeof performance&&performance.now?performance:Date,Kt="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ut(){return Rt||(Kt(Vt),Rt=Ft.now()+$t)}function Vt(){Rt=0}function Bt(){this._call=this._time=this._next=null}function Ht(e,t,n){var r=new Bt;return r.restart(e,t,n),r}function Gt(){Rt=(Pt=Ft.now())+$t,Dt=Ot=0;try{!function(){Ut(),++Dt;for(var e,t=zt;t;)(e=Rt-t._time)>=0&&t._call.call(null,e),t=t._next;--Dt}()}finally{Dt=0,function(){var e,t,n=zt,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:zt=t);kt=e,qt(r)}(),Rt=0}}function Qt(){var e=Ft.now(),t=e-Pt;t>jt&&($t-=t,Pt=e)}function qt(e){Dt||(Ot&&(Ot=clearTimeout(Ot)),e-Rt>24?(e<1/0&&(Ot=setTimeout(Gt,e-Ft.now()-$t)),Nt&&(Nt=clearInterval(Nt))):(Nt||(Pt=Ft.now(),Nt=setInterval(Qt,jt)),Dt=1,Kt(Gt)))}Bt.prototype=Ht.prototype={constructor:Bt,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?Ut():+n)+(null==t?0:+t),this._next||kt===this||(kt?kt._next=this:zt=this,kt=this),this._call=e,this._time=n,qt()},stop:function(){this._call&&(this._call=null,this._time=1/0,qt())}};var Wt=function(e,t,n){var r=new Bt;return t=null==t?0:+t,r.restart(function(n){r.stop(),e(n+t)},t,n),r},Yt=Object(l.a)("start","end","cancel","interrupt"),Xt=[],Jt=0,Zt=1,en=2,tn=3,nn=4,rn=5,on=6,an=function(e,t,n,r,i,o){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function o(l){var u,c,f,h;if(n.state!==Zt)return s();for(u in i)if((h=i[u]).name===n.name){if(h.state===tn)return Wt(o);h.state===nn?(h.state=on,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete i[u]):+u<t&&(h.state=on,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete i[u])}if(Wt(function(){n.state===tn&&(n.state=nn,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=en,n.on.call("start",e,e.__data__,n.index,n.group),n.state===en){for(n.state=tn,r=new Array(f=n.tween.length),u=0,c=-1;u<f;++u)(h=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=h);r.length=c+1}}function a(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=rn,1),o=-1,a=r.length;++o<a;)r[o].call(e,i);n.state===rn&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var r in n.state=on,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=Ht(function(e){n.state=Zt,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)},0,n.time)}(e,n,{name:t,index:r,group:i,on:Yt,tween:Xt,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Jt})};function sn(e,t){var n=un(e,t);if(n.state>Jt)throw new Error("too late; already scheduled");return n}function ln(e,t){var n=un(e,t);if(n.state>tn)throw new Error("too late; already running");return n}function un(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}var cn=function(e,t){var n,r,i,o=e.__transition,a=!0;if(o){for(i in t=null==t?null:t+"",o)(n=o[i]).name===t?(r=n.state>en&&n.state<rn,n.state=on,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete e.__transition}};function fn(e,t,n){var r=e._id;return e.each(function(){var e=ln(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return un(e,r).value[t]}}var hn=function(e,t){var n;return("number"===typeof t?pt:t instanceof ye?ht:(n=ye(t))?(t=n,ht):wt)(e,t)};var dn=W.prototype.constructor;function pn(e){return function(){this.style.removeProperty(e)}}var mn=0;function vn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function gn(){return++mn}var yn=W.prototype;vn.prototype=function(e){return W().transition(e)}.prototype={constructor:vn,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=p(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,l,u=r[a],c=u.length,f=o[a]=new Array(c),h=0;h<c;++h)(s=u[h])&&(l=e.call(s,s.__data__,h,u))&&("__data__"in s&&(l.__data__=s.__data__),f[h]=l,an(f[h],t,n,h,f,un(s,n)));return new vn(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=v(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l,u=r[s],c=u.length,f=0;f<c;++f)if(l=u[f]){for(var h,d=e.call(l,l.__data__,f,u),p=un(l,n),m=0,g=d.length;m<g;++m)(h=d[m])&&an(h,t,n,m,d,p);o.push(d),a.push(l)}return new vn(o,a,t,n)},filter:function(e){"function"!==typeof e&&(e=g(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,l=r[i]=[],u=0;u<s;++u)(o=a[u])&&e.call(o,o.__data__,u,a)&&l.push(o);return new vn(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,u=t[s],c=n[s],f=u.length,h=a[s]=new Array(f),d=0;d<f;++d)(l=u[d]||c[d])&&(h[d]=l);for(;s<r;++s)a[s]=t[s];return new vn(a,this._parents,this._name,this._id)},selection:function(){return new dn(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=gn(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,u=0;u<l;++u)if(a=s[u]){var c=un(a,t);an(a,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new vn(r,this._parents,e,n)},call:yn.call,nodes:yn.nodes,node:yn.node,size:yn.size,empty:yn.empty,each:yn.each,on:function(e,t){var n=this._id;return arguments.length<2?un(this.node(),n).on.on(e):this.each(function(e,t,n){var r,i,o=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(t)?sn:ln;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}(n,e,t))},attr:function(e,t){var n=f(e),r="transform"===n?Et:hn;return this.attrTween(e,"function"===typeof t?(n.local?function(e,t,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,l));this.removeAttributeNS(e.space,e.local)}}:function(e,t,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(e))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,l));this.removeAttribute(e)}})(n,r,fn(this,"attr."+e,t)):null==t?(n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}})(n):(n.local?function(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===r?i:i=t(r=a,n)}}:function(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttribute(e);return a===o?null:a===r?i:i=t(r=a,n)}})(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var r=f(e);return this.tween(n,(r.local?function(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t(n))}}(e,i)),n}return i._value=t,i}:function(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttribute(e,t(n))}}(e,i)),n}return i._value=t,i})(r,t))},style:function(e,t,n){var r="transform"===(e+="")?Ct:hn;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var o=S(this,e),a=(this.style.removeProperty(e),S(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}(e,r)).on("end.style."+e,pn(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var r,i,o;return function(){var a=S(this,e),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(e),l=s=S(this,e)),a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s))}}(e,r,fn(this,"style."+e,t))).each(function(e,t){var n,r,i,o,a="style."+t,s="end."+a;return function(){var l=ln(this,e),u=l.on,c=null==l.value[a]?o||(o=pn(t)):void 0;u===n&&i===c||(r=(n=u).copy()).on(s,i=c),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,o=n+"";return function(){var a=S(this,e);return a===o?null:a===r?i:i=t(r=a,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!==typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,i;function o(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&function(e,t,n){return function(r){this.style.setProperty(e,t(r),n)}}(e,o,n)),r}return o._value=t,o}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(fn(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=un(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===e)return r.value;return null}return this.each((null==t?function(e,t){var n,r;return function(){var i=ln(this,e),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}i.tween=r}}:function(e,t,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var o=ln(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=s;break}l===u&&i.push(s)}o.tween=i}})(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?function(e,t){return function(){sn(this,e).delay=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){sn(this,e).delay=t}})(t,e)):un(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?function(e,t){return function(){ln(this,e).duration=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){ln(this,e).duration=t}})(t,e)):un(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!==typeof t)throw new Error;return function(){ln(this,e).ease=t}}(t,e)):un(this.node(),t).ease},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},l={value:function(){0===--i&&o()}};n.each(function(){var n=ln(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t})})}};(function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n})(3),function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),Math.PI;(function e(t){function n(e){return e*e*((t+1)*e-t)}return t=+t,n.overshoot=e,n})(1.70158),function e(t){function n(e){return--e*e*((t+1)*e+t)+1}return t=+t,n.overshoot=e,n}(1.70158),function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(1.70158);var _n=2*Math.PI,bn=(function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=_n);function i(e){return t*Math.pow(2,10*--e)*Math.sin((r-e)/n)}return i.amplitude=function(t){return e(t,n*_n)},i.period=function(n){return e(t,n)},i}(1,.3),function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=_n);function i(e){return 1-t*Math.pow(2,-10*(e=+e))*Math.sin((e+r)/n)}return i.amplitude=function(t){return e(t,n*_n)},i.period=function(n){return e(t,n)},i}(1,.3),function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=_n);function i(e){return((e=2*e-1)<0?t*Math.pow(2,10*e)*Math.sin((r-e)/n):2-t*Math.pow(2,-10*e)*Math.sin((r+e)/n))/2}return i.amplitude=function(t){return e(t,n*_n)},i.period=function(n){return e(t,n)},i}(1,.3),{time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}});function wn(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return bn.time=Ut(),bn;return n}W.prototype.interrupt=function(e){return this.each(function(){cn(this,e)})},W.prototype.transition=function(e){var t,n;e instanceof vn?(t=e._id,e=e._name):(t=gn(),(n=bn).time=Ut(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,u=0;u<l;++u)(a=s[u])&&an(a,e,t,u,s,n||wn(a,t));return new vn(r,this._parents,e,t)};function xn(e){return[+e[0],+e[1]]}function An(e){return[xn(e[0]),xn(e[1])]}["w","e"].map(Mn),["n","s"].map(Mn),["n","w","e","s","nw","ne","sw","se"].map(Mn);function Mn(e){return{type:e}}Math.cos,Math.sin,Math.PI,Math.max;Array.prototype.slice;var Sn=Math.PI,Cn=2*Sn,En=Cn-1e-6;function In(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Tn(){return new In}In.prototype=Tn.prototype={constructor:In,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-e,l=r-t,u=o-e,c=a-t,f=u*u+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>1e-6)if(Math.abs(c*s-l*u)>1e-6&&i){var h=n-o,d=r-a,p=s*s+l*l,m=h*h+d*d,v=Math.sqrt(p),g=Math.sqrt(f),y=i*Math.tan((Sn-Math.acos((p+f-m)/(2*v*g)))/2),_=y/g,b=y/v;Math.abs(_-1)>1e-6&&(this._+="L"+(e+_*u)+","+(t+_*c)),this._+="A"+i+","+i+",0,0,"+ +(c*h>u*d)+","+(this._x1=e+b*s)+","+(this._y1=t+b*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,i,o){e=+e,t=+t,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=e+a,u=t+s,c=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+u:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-u)>1e-6)&&(this._+="L"+l+","+u),n&&(f<0&&(f=f%Cn+Cn),f>En?this._+="A"+n+","+n+",0,1,"+c+","+(e-a)+","+(t-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):f>1e-6&&(this._+="A"+n+","+n+",0,"+ +(f>=Sn)+","+c+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};n(35),Array.prototype.slice;var Ln=n(38);function zn(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}var kn=function(e,t){return fetch(e,t).then(zn)};function Dn(e){return function(t,n,r){return 2===arguments.length&&"function"===typeof n&&(r=n,n=void 0),kn(t,n).then(function(t){return e(t,r)})}}Dn(Ln.a),Dn(Ln.c);function On(e){return function(t,n){return kn(t,n).then(function(t){return(new DOMParser).parseFromString(t,e)})}}On("application/xml"),On("text/html"),On("image/svg+xml");function Nn(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o,a,s,l,u,c,f,h,d=e._root,p={data:r},m=e._x0,v=e._y0,g=e._x1,y=e._y1;if(!d)return e._root=p,e;for(;d.length;)if((u=t>=(o=(m+g)/2))?m=o:g=o,(c=n>=(a=(v+y)/2))?v=a:y=a,i=d,!(d=d[f=c<<1|u]))return i[f]=p,e;if(s=+e._x.call(null,d.data),l=+e._y.call(null,d.data),t===s&&n===l)return p.next=d,i?i[f]=p:e._root=p,e;do{i=i?i[f]=new Array(4):e._root=new Array(4),(u=t>=(o=(m+g)/2))?m=o:g=o,(c=n>=(a=(v+y)/2))?v=a:y=a}while((f=c<<1|u)===(h=(l>=a)<<1|s>=o));return i[h]=d,i[f]=p,e}var jn=function(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i};function Pn(e){return e[0]}function Rn(e){return e[1]}function $n(e,t,n){var r=new Fn(null==t?Pn:t,null==n?Rn:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function Fn(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Kn(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Un=$n.prototype=Fn.prototype;Un.copy=function(){var e,t,n=new Fn(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Kn(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=Kn(t));return n},Un.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return Nn(this.cover(t,n),t,n,e)},Un.addAll=function(e){var t,n,r,i,o=e.length,a=new Array(o),s=new Array(o),l=1/0,u=1/0,c=-1/0,f=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(a[n]=r,s[n]=i,r<l&&(l=r),r>c&&(c=r),i<u&&(u=i),i>f&&(f=i));if(l>c||u>f)return this;for(this.cover(l,u).cover(c,f),n=0;n<o;++n)Nn(this,a[n],s[n],e[n]);return this},Un.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var a,s,l=i-n,u=this._root;n>e||e>=i||r>t||t>=o;)switch(s=(t<r)<<1|e<n,(a=new Array(4))[s]=u,u=a,l*=2,s){case 0:i=n+l,o=r+l;break;case 1:n=i-l,o=r+l;break;case 2:i=n+l,r=o-l;break;case 3:n=i-l,r=o-l}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},Un.data=function(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e},Un.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Un.find=function(e,t,n){var r,i,o,a,s,l,u,c=this._x0,f=this._y0,h=this._x1,d=this._y1,p=[],m=this._root;for(m&&p.push(new jn(m,c,f,h,d)),null==n?n=1/0:(c=e-n,f=t-n,h=e+n,d=t+n,n*=n);l=p.pop();)if(!(!(m=l.node)||(i=l.x0)>h||(o=l.y0)>d||(a=l.x1)<c||(s=l.y1)<f))if(m.length){var v=(i+a)/2,g=(o+s)/2;p.push(new jn(m[3],v,g,a,s),new jn(m[2],i,g,v,s),new jn(m[1],v,o,a,g),new jn(m[0],i,o,v,g)),(u=(t>=g)<<1|e>=v)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-u],p[p.length-1-u]=l)}else{var y=e-+this._x.call(null,m.data),_=t-+this._y.call(null,m.data),b=y*y+_*_;if(b<n){var w=Math.sqrt(n=b);c=e-w,f=t-w,h=e+w,d=t+w,r=m.data}}return r},Un.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,i,o,a,s,l,u,c,f,h,d=this._root,p=this._x0,m=this._y0,v=this._x1,g=this._y1;if(!d)return this;if(d.length)for(;;){if((u=o>=(s=(p+v)/2))?p=s:v=s,(c=a>=(l=(m+g)/2))?m=l:g=l,t=d,!(d=d[f=c<<1|u]))return this;if(!d.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,h=f)}for(;d.data!==e;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):t?(i?t[f]=i:delete t[f],(d=t[0]||t[1]||t[2]||t[3])&&d===(t[3]||t[2]||t[1]||t[0])&&!d.length&&(n?n[h]=d:this._root=d),this):(this._root=i,this)},Un.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},Un.root=function(){return this._root},Un.size=function(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e},Un.visit=function(e){var t,n,r,i,o,a,s=[],l=this._root;for(l&&s.push(new jn(l,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(l=t.node,r=t.x0,i=t.y0,o=t.x1,a=t.y1)&&l.length){var u=(r+o)/2,c=(i+a)/2;(n=l[3])&&s.push(new jn(n,u,c,o,a)),(n=l[2])&&s.push(new jn(n,r,c,u,a)),(n=l[1])&&s.push(new jn(n,u,i,o,c)),(n=l[0])&&s.push(new jn(n,r,i,u,c))}return this},Un.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new jn(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var o,a=t.x0,s=t.y0,l=t.x1,u=t.y1,c=(a+l)/2,f=(s+u)/2;(o=i[0])&&n.push(new jn(o,a,s,c,f)),(o=i[1])&&n.push(new jn(o,c,s,l,f)),(o=i[2])&&n.push(new jn(o,a,f,c,u)),(o=i[3])&&n.push(new jn(o,c,f,l,u))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},Un.x=function(e){return arguments.length?(this._x=e,this):this._x},Un.y=function(e){return arguments.length?(this._y=e,this):this._y};Math.PI,Math.sqrt(5);var Vn=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]},Bn=function(e){return(e=Vn(Math.abs(e)))?e[1]:NaN},Hn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gn(e){if(!(t=Hn.exec(e)))throw new Error("invalid format: "+e);var t;return new Qn({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Qn(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}Gn.prototype=Qn.prototype,Qn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var qn,Wn,Yn=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(i>0){if(!+e[r])break e;i=0}}return i>0?e.slice(0,i)+e.slice(t+1):e},Xn=function(e,t){var n=Vn(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},Jn={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Xn(100*e,t)},r:Xn,s:function(e,t){var n=Vn(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(qn=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Vn(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},Zn=function(e){return e},er=Array.prototype.map,tr=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];Wn=function(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?Zn:(t=er.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?Zn:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(er.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",u=void 0===e.minus?"-":e.minus+"",c=void 0===e.nan?"NaN":e.nan+"";function f(e){var t=(e=Gn(e)).fill,n=e.align,f=e.sign,h=e.symbol,d=e.zero,p=e.width,m=e.comma,v=e.precision,g=e.trim,y=e.type;"n"===y?(m=!0,y="g"):Jn[y]||(void 0===v&&(v=12),g=!0,y="g"),(d||"0"===t&&"="===n)&&(d=!0,t="0",n="=");var _="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===h?o:/[%p]/.test(y)?l:"",w=Jn[y],x=/[defgprs%]/.test(y);function A(e){var i,o,l,h=_,A=b;if("c"===y)A=w(e)+A,e="";else{var M=(e=+e)<0;if(e=isNaN(e)?c:w(Math.abs(e),v),g&&(e=Yn(e)),M&&0===+e&&(M=!1),h=(M?"("===f?f:u:"-"===f||"("===f?"":f)+h,A=("s"===y?tr[8+qn/3]:"")+A+(M&&"("===f?")":""),x)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){A=(46===l?a+e.slice(i+1):e.slice(i))+A,e=e.slice(0,i);break}}m&&!d&&(e=r(e,1/0));var S=h.length+e.length+A.length,C=S<p?new Array(p-S+1).join(t):"";switch(m&&d&&(e=r(C+e,C.length?p-A.length:1/0),C=""),n){case"<":e=h+e+A+C;break;case"=":e=h+C+e+A;break;case"^":e=C.slice(0,S=C.length>>1)+h+e+A+C.slice(S);break;default:e=C+h+e+A}return s(e)}return v=void 0===v?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),A.toString=function(){return e+""},A}return{format:f,formatPrefix:function(e,t){var n=f(((e=Gn(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Bn(t)/3))),i=Math.pow(10,-r),o=tr[8+r/3];return function(e){return n(i*e)+o}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Wn.format,Wn.formatPrefix;var nr=function(){return new rr};function rr(){this.reset()}rr.prototype={constructor:rr,reset:function(){this.s=this.t=0},add:function(e){or(ir,e,this.t),or(this,ir.s,this.s),this.s?this.t+=ir.t:this.s=ir.t},valueOf:function(){return this.s}};var ir=new rr;function or(e,t,n){var r=e.s=t+n,i=r-t,o=r-i;e.t=t-o+(n-i)}var ar=1e-6,sr=1e-12,lr=Math.PI,ur=lr/2,cr=lr/4,fr=2*lr,hr=lr/180,dr=Math.abs,pr=Math.atan,mr=Math.atan2,vr=Math.cos,gr=(Math.ceil,Math.exp),yr=(Math.floor,Math.log),_r=(Math.pow,Math.sin),br=Math.sign||function(e){return e>0?1:e<0?-1:0},wr=Math.sqrt,xr=Math.tan;function Ar(e){return e>1?0:e<-1?lr:Math.acos(e)}function Mr(e){return e>1?ur:e<-1?-ur:Math.asin(e)}function Sr(){}nr(),nr();function Cr(e){var t=e[0],n=e[1],r=vr(n);return[r*vr(t),r*_r(t),_r(n)]}function Er(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Ir(e){var t=wr(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}nr();function Tr(e,t){return[dr(e)>lr?e+Math.round(-e/fr)*fr:e,t]}Tr.invert=Tr;var Lr=function(){var e,t=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:Sr,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}},zr=function(e,t){return dr(e[0]-t[0])<ar&&dr(e[1]-t[1])<ar};function kr(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var Dr=function(e,t,n,r,i){var o,a,s=[],l=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],a=e[t];if(zr(r,a)){for(i.lineStart(),o=0;o<t;++o)i.point((r=e[o])[0],r[1]);i.lineEnd()}else s.push(n=new kr(r,e,null,!0)),l.push(n.o=new kr(r,null,n,!1)),s.push(n=new kr(a,e,null,!1)),l.push(n.o=new kr(a,null,n,!0))}}),s.length){for(l.sort(t),Or(s),Or(l),o=0,a=l.length;o<a;++o)l[o].e=n=!n;for(var u,c,f=s[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=u.length;o<a;++o)i.point((c=u[o])[0],c[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(u=h.p.z,o=u.length-1;o>=0;--o)i.point((c=u[o])[0],c[1]);else r(h.x,h.p.x,-1,i);h=h.p}u=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}};function Or(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}var Nr=nr();function jr(e){return dr(e[0])<=lr?e[0]:br(e[0])*((dr(e[0])+lr)%fr-lr)}var Pr=function(e,t){var n=jr(t),r=t[1],i=_r(r),o=[_r(n),-vr(n),0],a=0,s=0;Nr.reset(),1===i?r=ur+ar:-1===i&&(r=-ur-ar);for(var l=0,u=e.length;l<u;++l)if(f=(c=e[l]).length)for(var c,f,h=c[f-1],d=jr(h),p=h[1]/2+cr,m=_r(p),v=vr(p),g=0;g<f;++g,d=_,m=w,v=x,h=y){var y=c[g],_=jr(y),b=y[1]/2+cr,w=_r(b),x=vr(b),A=_-d,M=A>=0?1:-1,S=M*A,C=S>lr,E=m*w;if(Nr.add(mr(E*M*_r(S),v*x+E*vr(S))),a+=C?A+M*fr:A,C^d>=n^_>=n){var I=Er(Cr(h),Cr(y));Ir(I);var T=Er(o,I);Ir(T);var L=(C^A>=0?-1:1)*Mr(T[2]);(r>L||r===L&&(I[0]||I[1]))&&(s+=C^A>=0?1:-1)}}return(a<-ar||a<ar&&Nr<-ar)^1&s},Rr=function(e,t,n,r){return function(i){var o,a,l,u=t(i),c=Lr(),f=t(c),h=!1,d={point:p,lineStart:v,lineEnd:g,polygonStart:function(){d.point=y,d.lineStart=_,d.lineEnd=b,a=[],o=[]},polygonEnd:function(){d.point=p,d.lineStart=v,d.lineEnd=g,a=s(a);var e=Pr(o,r);a.length?(h||(i.polygonStart(),h=!0),Dr(a,Fr,e,n,i)):e&&(h||(i.polygonStart(),h=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),h&&(i.polygonEnd(),h=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(t,n){e(t,n)&&i.point(t,n)}function m(e,t){u.point(e,t)}function v(){d.point=m,u.lineStart()}function g(){d.point=p,u.lineEnd()}function y(e,t){l.push([e,t]),f.point(e,t)}function _(){f.lineStart(),l=[]}function b(){y(l[0][0],l[0][1]),f.lineEnd();var e,t,n,r,s=f.clean(),u=c.result(),d=u.length;if(l.pop(),o.push(l),l=null,d)if(1&s){if((t=(n=u[0]).length-1)>0){for(h||(i.polygonStart(),h=!0),i.lineStart(),e=0;e<t;++e)i.point((r=n[e])[0],r[1]);i.lineEnd()}}else d>1&&2&s&&u.push(u.pop().concat(u.shift())),a.push(u.filter($r))}return d}};function $r(e){return e.length>1}function Fr(e,t){return((e=e.x)[0]<0?e[1]-ur-ar:ur-e[1])-((t=t.x)[0]<0?t[1]-ur-ar:ur-t[1])}Rr(function(){return!0},function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var s=o>0?lr:-lr,l=dr(o-n);dr(l-lr)<ar?(e.point(n,r=(r+a)/2>0?ur:-ur),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(o,r),t=0):i!==s&&l>=lr&&(dr(n-i)<ar&&(n-=i*ar),dr(o-s)<ar&&(o-=s*ar),r=function(e,t,n,r){var i,o,a=_r(e-n);return dr(a)>ar?pr((_r(t)*(o=vr(r))*_r(n)-_r(r)*(i=vr(t))*_r(e))/(i*o*a)):(t+r)/2}(n,r,o,a),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=o,r=a),i=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}},function(e,t,n,r){var i;if(null==e)i=n*ur,r.point(-lr,i),r.point(0,i),r.point(lr,i),r.point(lr,0),r.point(lr,-i),r.point(0,-i),r.point(-lr,-i),r.point(-lr,0),r.point(-lr,i);else if(dr(e[0]-t[0])>ar){var o=e[0]<t[0]?lr:-lr;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])},[-lr,-ur]);nr();nr(),nr();function Kr(e){this._context=e}Kr.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,fr)}},result:Sr};nr();function Ur(){this._string=[]}function Vr(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}Ur.prototype={_radius:4.5,_circle:Vr(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=Vr(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};function Br(e){return function(t){var n=new Hr;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Hr(){}Hr.prototype={constructor:Hr,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};vr(30*hr);Br({point:function(e,t){this.stream.point(e*hr,t*hr)}});function Gr(e){return function(t,n){var r=vr(t),i=vr(n),o=e(r*i);return[o*i*_r(t),o*_r(n)]}}function Qr(e){return function(t,n){var r=wr(t*t+n*n),i=e(r),o=_r(i),a=vr(i);return[mr(t*o,r*a),Mr(r&&n*o/r)]}}var qr=Gr(function(e){return wr(2/(1+e))});qr.invert=Qr(function(e){return 2*Mr(e/2)});var Wr=Gr(function(e){return(e=Ar(e))&&e/_r(e)});Wr.invert=Qr(function(e){return e});function Yr(e,t){return[e,yr(xr((ur+t)/2))]}Yr.invert=function(e,t){return[e,2*pr(gr(t))-ur]};function Xr(e,t){return[e,t]}Xr.invert=Xr;var Jr=1.340264,Zr=-.081106,ei=893e-6,ti=.003796,ni=wr(3)/2;function ri(e,t){var n=Mr(ni*_r(t)),r=n*n,i=r*r*r;return[e*vr(n)/(ni*(Jr+3*Zr*r+i*(7*ei+9*ti*r))),n*(Jr+Zr*r+i*(ei+ti*r))]}ri.invert=function(e,t){for(var n,r=t,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=n=(r*(Jr+Zr*i+o*(ei+ti*i))-t)/(Jr+3*Zr*i+o*(7*ei+9*ti*i)))*r)*i*i,!(dr(n)<sr));++a);return[ni*e*(Jr+3*Zr*i+o*(7*ei+9*ti*i))/vr(r),Mr(_r(r)/ni)]};function ii(e,t){var n=vr(t),r=vr(e)*n;return[n*_r(e)/r,_r(t)/r]}ii.invert=Qr(pr);function oi(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}oi.invert=function(e,t){var n,r=t,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-t)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(dr(n)>ar&&--i>0);return[e/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};function ai(e,t){return[vr(t)*_r(e),_r(t)]}ai.invert=Qr(Mr);function si(e,t){var n=vr(t),r=1+vr(e)*n;return[n*_r(e)/r,_r(t)/r]}si.invert=Qr(function(e){return 2*pr(e)});function li(e,t){return[yr(xr((ur+t)/2)),-e]}li.invert=function(e,t){return[-t,2*pr(gr(e))-ur]};function ui(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function ci(e,t){var n,r,i,o,a,s=new pi(e),l=+e.value&&(s.value=e.value),u=[s];for(null==t&&(t=fi);n=u.pop();)if(l&&(n.value=+n.data.value),(i=t(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)u.push(r=n.children[o]=new pi(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(di)}function fi(e){return e.children}function hi(e){e.data=e.data.data}function di(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function pi(e){this.data=e,this.depth=this.height=0,this.parent=null}pi.prototype=ci.prototype={constructor:pi,count:function(){return this.eachAfter(ui)},each:function(e){var t,n,r,i,o=this,a=[o];do{for(t=a.reverse(),a=[];o=t.pop();)if(e(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(e){for(var t,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),t=i.children)for(n=0,r=t.length;n<r;++n)o.push(t[n]);for(;i=a.pop();)e(i);return this},eachBefore:function(e){for(var t,n,r=this,i=[r];r=i.pop();)if(e(r),t=r.children)for(n=t.length-1;n>=0;--n)i.push(t[n]);return this},sum:function(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})},sort:function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){var e=[];return this.each(function(t){e.push(t)}),e},leaves:function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t},copy:function(){return ci(this).eachBefore(hi)}};Array.prototype.slice;var mi=function(e,t,n,r,i){for(var o,a=e.children,s=-1,l=a.length,u=e.value&&(r-t)/e.value;++s<l;)(o=a[s]).y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*u};function vi(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}vi.prototype=Object.create(pi.prototype);var gi=function(e,t,n,r,i){for(var o,a=e.children,s=-1,l=a.length,u=e.value&&(i-n)/e.value;++s<l;)(o=a[s]).x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*u},yi=(1+Math.sqrt(5))/2;function _i(e,t,n,r,i,o){for(var a,s,l,u,c,f,h,d,p,m,v,g=[],y=t.children,_=0,b=0,w=y.length,x=t.value;_<w;){l=i-n,u=o-r;do{c=y[b++].value}while(!c&&b<w);for(f=h=c,v=c*c*(m=Math.max(u/l,l/u)/(x*e)),p=Math.max(h/v,v/f);b<w;++b){if(c+=s=y[b].value,s<f&&(f=s),s>h&&(h=s),v=c*c*m,(d=Math.max(h/v,v/f))>p){c-=s;break}p=d}g.push(a={value:c,dice:l<u,children:y.slice(_,b)}),a.dice?mi(a,n,r,i,x?r+=u*c/x:o):gi(a,n,r,x?n+=l*c/x:i,o),x-=c,_=b}return g}(function e(t){function n(e,n,r,i,o){_i(t,e,n,r,i,o)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n})(yi),function e(t){function n(e,n,r,i,o){if((a=e._squarify)&&a.ratio===t)for(var a,s,l,u,c,f=-1,h=a.length,d=e.value;++f<h;){for(l=(s=a[f]).children,u=s.value=0,c=l.length;u<c;++u)s.value+=l[u].value;s.dice?mi(s,n,r,i,r+=(o-r)*s.value/d):gi(s,n,r,n+=(i-n)*s.value/d,o),d-=s.value}else e._squarify=a=_i(t,e,n,r,i,o),a.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(yi);var bi=function(){return Math.random()},wi=(function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,1===arguments.length?(n=e,e=0):n-=e,function(){return t()*n+e}}return n.source=e,n}(bi),function e(t){function n(e,n){var r,i;return e=null==e?0:+e,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*t()-1,o=2*t()-1,i=r*r+o*o}while(!i||i>1);return e+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=e,n}(bi)),xi=(function e(t){function n(){var e=wi.source(t).apply(this,arguments);return function(){return Math.exp(e())}}return n.source=e,n}(bi),function e(t){function n(e){return function(){for(var n=0,r=0;r<e;++r)n+=t();return n}}return n.source=e,n}(bi));(function e(t){function n(e){var n=xi.source(t)(e);return function(){return n()/e}}return n.source=e,n})(bi),function e(t){function n(e){return function(){return-Math.log(1-t())/e}}return n.source=e,n}(bi);var Ai=Array.prototype;Ai.map,Ai.slice;var Mi=new Date,Si=new Date;function Ci(e,t,n,r){function i(t){return e(t=new Date(+t)),t}return i.floor=i,i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=function(n){return Ci(function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})},n&&(i.count=function(t,r){return Mi.setTime(+t),Si.setTime(+r),e(Mi),e(Si),Math.floor(n(Mi,Si))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e===0}:function(t){return i.count(0,t)%e===0}):i:null}),i}var Ei=Ci(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});Ei.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?Ci(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):Ei:null};Ei.range;var Ii=6e4,Ti=6048e5,Li=Ci(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3},function(e){return e.getUTCSeconds()}),zi=(Li.range,Ci(function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())},function(e,t){e.setTime(+e+t*Ii)},function(e,t){return(t-e)/Ii},function(e){return e.getMinutes()})),ki=(zi.range,Ci(function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-e.getMinutes()*Ii)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getHours()})),Di=(ki.range,Ci(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ii)/864e5},function(e){return e.getDate()-1})),Oi=Di;Di.range;function Ni(e){return Ci(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ii)/Ti})}var ji=Ni(0),Pi=Ni(1),Ri=Ni(2),$i=Ni(3),Fi=Ni(4),Ki=Ni(5),Ui=Ni(6),Vi=(ji.range,Pi.range,Ri.range,$i.range,Fi.range,Ki.range,Ui.range,Ci(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()})),Bi=(Vi.range,Ci(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()}));Bi.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Ci(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null};var Hi=Bi,Gi=(Bi.range,Ci(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*Ii)},function(e,t){return(t-e)/Ii},function(e){return e.getUTCMinutes()})),Qi=(Gi.range,Ci(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getUTCHours()})),qi=(Qi.range,Ci(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1})),Wi=qi;qi.range;function Yi(e){return Ci(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/Ti})}var Xi=Yi(0),Ji=Yi(1),Zi=Yi(2),eo=Yi(3),to=Yi(4),no=Yi(5),ro=Yi(6),io=(Xi.range,Ji.range,Zi.range,eo.range,to.range,no.range,ro.range,Ci(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()})),oo=(io.range,Ci(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()}));oo.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Ci(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null};var ao=oo;oo.range;function so(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function lo(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function uo(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}var co,fo,ho,po={"-":"",_:" ",0:"0"},mo=/^\s*\d+/,vo=/^%/,go=/[\\^$*+?|[\]().{}]/g;function yo(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function _o(e){return e.replace(go,"\\$&")}function bo(e){return new RegExp("^(?:"+e.map(_o).join("|")+")","i")}function wo(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function xo(e,t,n){var r=mo.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Ao(e,t,n){var r=mo.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Mo(e,t,n){var r=mo.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function So(e,t,n){var r=mo.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Co(e,t,n){var r=mo.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Eo(e,t,n){var r=mo.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Io(e,t,n){var r=mo.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function To(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Lo(e,t,n){var r=mo.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function zo(e,t,n){var r=mo.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function ko(e,t,n){var r=mo.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Do(e,t,n){var r=mo.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Oo(e,t,n){var r=mo.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function No(e,t,n){var r=mo.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function jo(e,t,n){var r=mo.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Po(e,t,n){var r=mo.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ro(e,t,n){var r=vo.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function $o(e,t,n){var r=mo.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Fo(e,t,n){var r=mo.exec(t.slice(n));return r?(e.Q=1e3*+r[0],n+r[0].length):-1}function Ko(e,t){return yo(e.getDate(),t,2)}function Uo(e,t){return yo(e.getHours(),t,2)}function Vo(e,t){return yo(e.getHours()%12||12,t,2)}function Bo(e,t){return yo(1+Oi.count(Hi(e),e),t,3)}function Ho(e,t){return yo(e.getMilliseconds(),t,3)}function Go(e,t){return Ho(e,t)+"000"}function Qo(e,t){return yo(e.getMonth()+1,t,2)}function qo(e,t){return yo(e.getMinutes(),t,2)}function Wo(e,t){return yo(e.getSeconds(),t,2)}function Yo(e){var t=e.getDay();return 0===t?7:t}function Xo(e,t){return yo(ji.count(Hi(e),e),t,2)}function Jo(e,t){var n=e.getDay();return e=n>=4||0===n?Fi(e):Fi.ceil(e),yo(Fi.count(Hi(e),e)+(4===Hi(e).getDay()),t,2)}function Zo(e){return e.getDay()}function ea(e,t){return yo(Pi.count(Hi(e),e),t,2)}function ta(e,t){return yo(e.getFullYear()%100,t,2)}function na(e,t){return yo(e.getFullYear()%1e4,t,4)}function ra(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+yo(t/60|0,"0",2)+yo(t%60,"0",2)}function ia(e,t){return yo(e.getUTCDate(),t,2)}function oa(e,t){return yo(e.getUTCHours(),t,2)}function aa(e,t){return yo(e.getUTCHours()%12||12,t,2)}function sa(e,t){return yo(1+Wi.count(ao(e),e),t,3)}function la(e,t){return yo(e.getUTCMilliseconds(),t,3)}function ua(e,t){return la(e,t)+"000"}function ca(e,t){return yo(e.getUTCMonth()+1,t,2)}function fa(e,t){return yo(e.getUTCMinutes(),t,2)}function ha(e,t){return yo(e.getUTCSeconds(),t,2)}function da(e){var t=e.getUTCDay();return 0===t?7:t}function pa(e,t){return yo(Xi.count(ao(e),e),t,2)}function ma(e,t){var n=e.getUTCDay();return e=n>=4||0===n?to(e):to.ceil(e),yo(to.count(ao(e),e)+(4===ao(e).getUTCDay()),t,2)}function va(e){return e.getUTCDay()}function ga(e,t){return yo(Ji.count(ao(e),e),t,2)}function ya(e,t){return yo(e.getUTCFullYear()%100,t,2)}function _a(e,t){return yo(e.getUTCFullYear()%1e4,t,4)}function ba(){return"+0000"}function wa(){return"%"}function xa(e){return+e}function Aa(e){return Math.floor(+e/1e3)}!function(e){co=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,u=bo(i),c=wo(i),f=bo(o),h=wo(o),d=bo(a),p=wo(a),m=bo(s),v=wo(s),g=bo(l),y=wo(l),_={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:Ko,e:Ko,f:Go,H:Uo,I:Vo,j:Bo,L:Ho,m:Qo,M:qo,p:function(e){return i[+(e.getHours()>=12)]},Q:xa,s:Aa,S:Wo,u:Yo,U:Xo,V:Jo,w:Zo,W:ea,x:null,X:null,y:ta,Y:na,Z:ra,"%":wa},b={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:ia,e:ia,f:ua,H:oa,I:aa,j:sa,L:la,m:ca,M:fa,p:function(e){return i[+(e.getUTCHours()>=12)]},Q:xa,s:Aa,S:ha,u:da,U:pa,V:ma,w:va,W:ga,x:null,X:null,y:ya,Y:_a,Z:ba,"%":wa},w={a:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=h[r[0].toLowerCase()],n+r[0].length):-1},b:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=v[r[0].toLowerCase()],n+r[0].length):-1},c:function(e,n,r){return M(e,t,n,r)},d:zo,e:zo,f:Po,H:Do,I:Do,j:ko,L:jo,m:Lo,M:Oo,p:function(e,t,n){var r=u.exec(t.slice(n));return r?(e.p=c[r[0].toLowerCase()],n+r[0].length):-1},Q:$o,s:Fo,S:No,u:Ao,U:Mo,V:So,w:xo,W:Co,x:function(e,t,r){return M(e,n,t,r)},X:function(e,t,n){return M(e,r,t,n)},y:Io,Y:Eo,Z:To,"%":Ro};function x(e,t){return function(n){var r,i,o,a=[],s=-1,l=0,u=e.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=po[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function A(e,t){return function(n){var r,i,o=uo(1900);if(M(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=lo(uo(o.y))).getUTCDay(),r=i>4||0===i?Ji.ceil(r):Ji(r),r=Wi.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=t(uo(o.y))).getDay(),r=i>4||0===i?Pi.ceil(r):Pi(r),r=Oi.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?lo(uo(o.y)).getUTCDay():t(uo(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,lo(o)):t(o)}}function M(e,t,n,r){for(var i,o,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=w[i in po?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return _.x=x(n,_),_.X=x(r,_),_.c=x(t,_),b.x=x(n,b),b.X=x(r,b),b.c=x(t,b),{format:function(e){var t=x(e+="",_);return t.toString=function(){return e},t},parse:function(e){var t=A(e+="",so);return t.toString=function(){return e},t},utcFormat:function(e){var t=x(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=A(e,lo);return t.toString=function(){return e},t}}}(e),co.format,co.parse,fo=co.utcFormat,ho=co.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Date.prototype.toISOString||fo("%Y-%m-%dT%H:%M:%S.%LZ");+new Date("2000-01-01T00:00:00.000Z")||ho("%Y-%m-%dT%H:%M:%S.%LZ");Math.abs,Math.atan2,Math.cos,Math.max,Math.min,Math.sin,Math.sqrt;var Ma=1e-12,Sa=Math.PI,Ca=2*Sa;function Ea(e){this._context=e}Ea.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var Ia=function(e){return new Ea(e)};La(Ia);function Ta(e){this._curve=e}function La(e){function t(t){return new Ta(e(t))}return t._curve=e,t}Ta.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};Array.prototype.slice;Math.sqrt(1/3);var za=Math.sin(Sa/10)/Math.sin(7*Sa/10),ka=(Math.sin(Ca/10),Math.cos(Ca/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12),function(){});function Da(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Oa(e){this._context=e}Oa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Da(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Da(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Na(e){this._context=e}Na.prototype={areaStart:ka,areaEnd:ka,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Da(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ja(e){this._context=e}ja.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Da(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Pa(e,t){this._basis=new Oa(e),this._beta=t}Pa.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],o=t[0],a=e[n]-i,s=t[n]-o,l=-1;++l<=n;)r=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(i+r*a),this._beta*t[l]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};(function e(t){function n(e){return 1===t?new Oa(e):new Pa(e,t)}return n.beta=function(t){return e(+t)},n})(.85);function Ra(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function $a(e,t){this._context=e,this._k=(1-t)/6}$a.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ra(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Ra(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(e){return new $a(e,t)}return n.tension=function(t){return e(+t)},n})(0);function Fa(e,t){this._context=e,this._k=(1-t)/6}Fa.prototype={areaStart:ka,areaEnd:ka,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Ra(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(e){return new Fa(e,t)}return n.tension=function(t){return e(+t)},n})(0);function Ka(e,t){this._context=e,this._k=(1-t)/6}Ka.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ra(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(e){return new Ka(e,t)}return n.tension=function(t){return e(+t)},n})(0);function Ua(e,t,n){var r=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>Ma){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>Ma){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*u+e._x1*e._l23_2a-t*e._l12_2a)/c,a=(a*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,o,a,e._x2,e._y2)}function Va(e,t){this._context=e,this._alpha=t}Va.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Ua(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(e){return t?new Va(e,t):new $a(e,0)}return n.alpha=function(t){return e(+t)},n})(.5);function Ba(e,t){this._context=e,this._alpha=t}Ba.prototype={areaStart:ka,areaEnd:ka,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Ua(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(e){return t?new Ba(e,t):new Fa(e,0)}return n.alpha=function(t){return e(+t)},n})(.5);function Ha(e,t){this._context=e,this._alpha=t}Ha.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ua(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function e(t){function n(e){return t?new Ha(e,t):new Ka(e,0)}return n.alpha=function(t){return e(+t)},n})(.5);function Ga(e){this._context=e}Ga.prototype={areaStart:ka,areaEnd:ka,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Qa(e){return e<0?-1:1}function qa(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Qa(o)+Qa(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Wa(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Ya(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function Xa(e){this._context=e}function Ja(e){this._context=new Za(e)}function Za(e){this._context=e}function es(e){this._context=e}function ts(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}Xa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ya(this,this._t0,Wa(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ya(this,Wa(this,n=qa(this,e,t)),n);break;default:Ya(this,this._t0,n=qa(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Ja.prototype=Object.create(Xa.prototype)).point=function(e,t){Xa.prototype.point.call(this,t,e)},Za.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},es.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=ts(e),i=ts(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function ns(e,t){this._context=e,this._t=t}ns.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};function rs(){this._=null}function is(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function os(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function as(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function ss(e){for(;e.L;)e=e.L;return e}rs.prototype={constructor:rs,insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=ss(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(os(this,n),n=(e=n).U),n.C=!1,r.C=!0,as(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(as(this,n),n=(e=n).U),n.C=!1,r.C=!0,os(this,r)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,o=e.L,a=e.R;if(n=o?a?ss(a):o:a,i?i.L===e?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=e.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=a,a.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===i.L){if((t=i.R).C&&(t.C=!1,i.C=!0,os(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,as(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,os(this,i),e=this._;break}}else if((t=i.L).C&&(t.C=!1,i.C=!0,as(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,os(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,as(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}};var ls=rs;function us(e,t,n,r){var i=[null,null],o=Ds.push(i)-1;return i.left=e,i.right=t,n&&fs(i,e,t,n),r&&fs(i,t,e,r),zs[e.index].halfedges.push(o),zs[t.index].halfedges.push(o),i}function cs(e,t,n){var r=[t,n];return r.left=e,r}function fs(e,t,n,r){e[0]||e[1]?e.left===n?e[1]=r:e[0]=r:(e[0]=r,e.left=t,e.right=n)}function hs(e,t,n,r,i){var o,a=e[0],s=e[1],l=a[0],u=a[1],c=0,f=1,h=s[0]-l,d=s[1]-u;if(o=t-l,h||!(o>0)){if(o/=h,h<0){if(o<c)return;o<f&&(f=o)}else if(h>0){if(o>f)return;o>c&&(c=o)}if(o=r-l,h||!(o<0)){if(o/=h,h<0){if(o>f)return;o>c&&(c=o)}else if(h>0){if(o<c)return;o<f&&(f=o)}if(o=n-u,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<f&&(f=o)}else if(d>0){if(o>f)return;o>c&&(c=o)}if(o=i-u,d||!(o<0)){if(o/=d,d<0){if(o>f)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<f&&(f=o)}return!(c>0||f<1)||(c>0&&(e[0]=[l+c*h,u+c*d]),f<1&&(e[1]=[l+f*h,u+f*d]),!0)}}}}}function ds(e,t,n,r,i){var o=e[1];if(o)return!0;var a,s,l=e[0],u=e.left,c=e.right,f=u[0],h=u[1],d=c[0],p=c[1],m=(f+d)/2,v=(h+p)/2;if(p===h){if(m<t||m>=r)return;if(f>d){if(l){if(l[1]>=i)return}else l=[m,n];o=[m,i]}else{if(l){if(l[1]<n)return}else l=[m,i];o=[m,n]}}else if(s=v-(a=(f-d)/(p-h))*m,a<-1||a>1)if(f>d){if(l){if(l[1]>=i)return}else l=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(l){if(l[1]<n)return}else l=[(i-s)/a,i];o=[(n-s)/a,n]}else if(h<p){if(l){if(l[0]>=r)return}else l=[t,a*t+s];o=[r,a*r+s]}else{if(l){if(l[0]<t)return}else l=[r,a*r+s];o=[t,a*t+s]}return e[0]=l,e[1]=o,!0}function ps(e,t){var n=e.site,r=t.left,i=t.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=t[1],i=t[0]):(r=t[0],i=t[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function ms(e,t){return t[+(t.left!==e.site)]}function vs(e,t){return t[+(t.left===e.site)]}var gs,ys=[];function _s(){is(this),this.x=this.y=this.arc=this.site=this.cy=null}function bs(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,o=n.site;if(r!==o){var a=i[0],s=i[1],l=r[0]-a,u=r[1]-s,c=o[0]-a,f=o[1]-s,h=2*(l*f-u*c);if(!(h>=-Ns)){var d=l*l+u*u,p=c*c+f*f,m=(f*d-u*p)/h,v=(l*p-c*d)/h,g=ys.pop()||new _s;g.arc=e,g.site=i,g.x=m+a,g.y=(g.cy=v+s)+Math.sqrt(m*m+v*v),e.circle=g;for(var y=null,_=ks._;_;)if(g.y<_.y||g.y===_.y&&g.x<=_.x){if(!_.L){y=_.P;break}_=_.L}else{if(!_.R){y=_;break}_=_.R}ks.insert(y,g),y||(gs=g)}}}}function ws(e){var t=e.circle;t&&(t.P||(gs=t.N),ks.remove(t),ys.push(t),is(t),e.circle=null)}var xs=[];function As(){is(this),this.edge=this.site=this.circle=null}function Ms(e){var t=xs.pop()||new As;return t.site=e,t}function Ss(e){ws(e),Ls.remove(e),xs.push(e),is(e)}function Cs(e){var t=e.circle,n=t.x,r=t.cy,i=[n,r],o=e.P,a=e.N,s=[e];Ss(e);for(var l=o;l.circle&&Math.abs(n-l.circle.x)<Os&&Math.abs(r-l.circle.cy)<Os;)o=l.P,s.unshift(l),Ss(l),l=o;s.unshift(l),ws(l);for(var u=a;u.circle&&Math.abs(n-u.circle.x)<Os&&Math.abs(r-u.circle.cy)<Os;)a=u.N,s.push(u),Ss(u),u=a;s.push(u),ws(u);var c,f=s.length;for(c=1;c<f;++c)u=s[c],l=s[c-1],fs(u.edge,l.site,u.site,i);l=s[0],(u=s[f-1]).edge=us(l.site,u.site,null,i),bs(l),bs(u)}function Es(e){for(var t,n,r,i,o=e[0],a=e[1],s=Ls._;s;)if((r=Is(s,a)-o)>Os)s=s.L;else{if(!((i=o-Ts(s,a))>Os)){r>-Os?(t=s.P,n=s):i>-Os?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}!function(e){zs[e.index]={site:e,halfedges:[]}}(e);var l=Ms(e);if(Ls.insert(t,l),t||n){if(t===n)return ws(t),n=Ms(t.site),Ls.insert(l,n),l.edge=n.edge=us(t.site,l.site),bs(t),void bs(n);if(n){ws(t),ws(n);var u=t.site,c=u[0],f=u[1],h=e[0]-c,d=e[1]-f,p=n.site,m=p[0]-c,v=p[1]-f,g=2*(h*v-d*m),y=h*h+d*d,_=m*m+v*v,b=[(v*y-d*_)/g+c,(h*_-m*y)/g+f];fs(n.edge,u,p,b),l.edge=us(u,e,null,b),n.edge=us(e,p,null,b),bs(t),bs(n)}else l.edge=us(t.site,l.site)}}function Is(e,t){var n=e.site,r=n[0],i=n[1],o=i-t;if(!o)return r;var a=e.P;if(!a)return-1/0;var s=(n=a.site)[0],l=n[1],u=l-t;if(!u)return s;var c=s-r,f=1/o-1/u,h=c/u;return f?(-h+Math.sqrt(h*h-2*f*(c*c/(-2*u)-l+u/2+i-o/2)))/f+r:(r+s)/2}function Ts(e,t){var n=e.N;if(n)return Is(n,t);var r=e.site;return r[1]===t?r[0]:1/0}var Ls,zs,ks,Ds,Os=1e-6,Ns=1e-12;function js(e,t){return t[1]-e[1]||t[0]-e[0]}function Ps(e,t){var n,r,i,o=e.sort(js).pop();for(Ds=[],zs=new Array(e.length),Ls=new ls,ks=new ls;;)if(i=gs,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(Es(o),n=o[0],r=o[1]),o=e.pop();else{if(!i)break;Cs(i.arc)}if(function(){for(var e,t,n,r,i=0,o=zs.length;i<o;++i)if((e=zs[i])&&(r=(t=e.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=ps(e,Ds[t[n]]);for(a.sort(function(e,t){return s[t]-s[e]}),n=0;n<r;++n)s[n]=t[a[n]];for(n=0;n<r;++n)t[n]=s[n]}}(),t){var a=+t[0][0],s=+t[0][1],l=+t[1][0],u=+t[1][1];!function(e,t,n,r){for(var i,o=Ds.length;o--;)ds(i=Ds[o],e,t,n,r)&&hs(i,e,t,n,r)&&(Math.abs(i[0][0]-i[1][0])>Os||Math.abs(i[0][1]-i[1][1])>Os)||delete Ds[o]}(a,s,l,u),function(e,t,n,r){var i,o,a,s,l,u,c,f,h,d,p,m,v=zs.length,g=!0;for(i=0;i<v;++i)if(o=zs[i]){for(a=o.site,s=(l=o.halfedges).length;s--;)Ds[l[s]]||l.splice(s,1);for(s=0,u=l.length;s<u;)p=(d=vs(o,Ds[l[s]]))[0],m=d[1],f=(c=ms(o,Ds[l[++s%u]]))[0],h=c[1],(Math.abs(p-f)>Os||Math.abs(m-h)>Os)&&(l.splice(s,0,Ds.push(cs(a,d,Math.abs(p-e)<Os&&r-m>Os?[e,Math.abs(f-e)<Os?h:r]:Math.abs(m-r)<Os&&n-p>Os?[Math.abs(h-r)<Os?f:n,r]:Math.abs(p-n)<Os&&m-t>Os?[n,Math.abs(f-n)<Os?h:t]:Math.abs(m-t)<Os&&p-e>Os?[Math.abs(h-t)<Os?f:e,t]:null))-1),++u);u&&(g=!1)}if(g){var y,_,b,w=1/0;for(i=0,g=null;i<v;++i)(o=zs[i])&&(b=(y=(a=o.site)[0]-e)*y+(_=a[1]-t)*_)<w&&(w=b,g=o);if(g){var x=[e,t],A=[e,r],M=[n,r],S=[n,t];g.halfedges.push(Ds.push(cs(a=g.site,x,A))-1,Ds.push(cs(a,A,M))-1,Ds.push(cs(a,M,S))-1,Ds.push(cs(a,S,x))-1)}}for(i=0;i<v;++i)(o=zs[i])&&(o.halfedges.length||delete zs[i])}(a,s,l,u)}this.edges=Ds,this.cells=zs,Ls=ks=Ds=zs=null}Ps.prototype={constructor:Ps,polygons:function(){var e=this.edges;return this.cells.map(function(t){var n=t.halfedges.map(function(n){return ms(t,e[n])});return n.data=t.site.data,n})},triangles:function(){var e=[],t=this.edges;return this.cells.forEach(function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s,l,u,c=n.site,f=-1,h=t[i[o-1]],d=h.left===c?h.right:h.left;++f<o;)a=d,d=(h=t[i[f]]).left===c?h.right:h.left,a&&d&&r<a.index&&r<d.index&&(l=a,u=d,((s=c)[0]-u[0])*(l[1]-s[1])-(s[0]-l[0])*(u[1]-s[1])<0)&&e.push([c.data,a.data,d.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,t,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var l=e-i.site[0],u=t-i.site[1],c=l*l+u*u;do{i=o.cells[r=a],a=null,i.halfedges.forEach(function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var l=e-s[0],u=t-s[1],f=l*l+u*u;f<c&&(c=f,a=s.index)}})}while(null!==a);return o._found=r,null==n||c<=n*n?i.site:null}};function Rs(e,t,n){this.k=e,this.x=t,this.y=n}Rs.prototype={constructor:Rs,scale:function(e){return 1===e?this:new Rs(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Rs(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new Rs(1,0,0);Rs.prototype;n.d(t,"a",function(){return Y}),n.d(t,"b",function(){return Z})},function(e,t,n){"use strict";var r=n(2),i=n(8);function o(e,t,n){n=n||{};var r=e.ownerDocument,i=r.defaultView.CustomEvent;"function"===typeof i?i=new i(t,{detail:n}):((i=r.createEvent("Event")).initEvent(t,!1,!1),i.detail=n),e.dispatchEvent(i)}var a=n(9),s=n.n(a),l=n(7);function u(e){return Array.isArray(e)||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function c(e){return e===(0|e)+""}function f(e){var t=document.createElement("span");return t.className="observablehq--cellname",t.textContent="".concat(e," = "),t}var h=Symbol.prototype.toString;function d(e){return h.call(e)}var p=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,v=Symbol.toStringTag,g={},y=p;function _(e,t){return m.call(e,t)}function b(e){return e[v]||e.constructor&&e.constructor.name||"Object"}function w(e,t){try{var n=e[t];return n&&n.constructor,n}catch(r){return g}}var x=[{symbol:"@@__IMMUTABLE_INDEXED__@@",name:"Indexed",modifier:!0},{symbol:"@@__IMMUTABLE_KEYED__@@",name:"Keyed",modifier:!0},{symbol:"@@__IMMUTABLE_LIST__@@",name:"List",arrayish:!0},{symbol:"@@__IMMUTABLE_MAP__@@",name:"Map"},{symbol:"@@__IMMUTABLE_ORDERED__@@",name:"Ordered",modifier:!0,prefix:!0},{symbol:"@@__IMMUTABLE_RECORD__@@",name:"Record"},{symbol:"@@__IMMUTABLE_SET__@@",name:"Set",arrayish:!0,setish:!0},{symbol:"@@__IMMUTABLE_STACK__@@",name:"Stack",arrayish:!0}];function A(e){try{var t=x.filter(function(t){var n=t.symbol;return!0===e[n]});if(!t.length)return;var n=t.find(function(e){return!e.modifier}),r="Map"===n.name&&t.find(function(e){return e.modifier&&e.prefix}),i=t.some(function(e){return e.arrayish}),o=t.some(function(e){return e.setish});return{name:"".concat(r?r.name:"").concat(n.name),symbols:t,arrayish:i&&!o,setish:o}}catch(a){return null}}var M=s.a.mark(k),S=s.a.mark(D),C=s.a.mark(O),E=s.a.mark(N),I=s.a.mark(j),T=s.a.mark(P),L=s.a.mark(R);function z(e,t,n){var r,i,a,s,l=u(e);e instanceof Map?(r="Map(".concat(e.size,")"),i=k):e instanceof Set?(r="Set(".concat(e.size,")"),i=D):l?(r="".concat(e.constructor.name,"(").concat(e.length,")"),i=N):(s=A(e))?(r="Immutable.".concat(s.name).concat("Record"===s.name?"":"(".concat(e.size,")")),l=s.arrayish,i=s.arrayish?j:s.setish?O:R):(r=b(e),i=P);var c=document.createElement("span");c.className="observablehq--expanded",n&&c.appendChild(f(n));var h=c.appendChild(document.createElement("a"));h.innerHTML="<svg width=8 height=8 class='observablehq--caret'>\n    <path d='M4 7L0 1h8z' fill='currentColor' />\n  </svg>",h.appendChild(document.createTextNode("".concat(r).concat(l?" [":" {"))),h.addEventListener("mouseup",function(t){t.stopPropagation(),Me(c,Y(e,null,n))}),i=i(e);for(var d=0;!(a=i.next()).done&&d<20;++d)c.appendChild(a.value);if(!a.done){var p=c.appendChild(document.createElement("a"));p.className="observablehq--field",p.style.display="block",p.appendChild(document.createTextNode("  \u2026 more")),p.addEventListener("mouseup",function(e){e.stopPropagation(),c.insertBefore(a.value,c.lastChild.previousSibling);for(var t=0;!(a=i.next()).done&&t<19;++t)c.insertBefore(a.value,c.lastChild.previousSibling);a.done&&c.removeChild(c.lastChild.previousSibling),o(c,"load")})}return c.appendChild(document.createTextNode(l?"]":"}")),c}function k(e){var t,n,r,i,o,a,u,c,f;return s.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:t=!0,n=!1,r=void 0,s.prev=3,i=e[Symbol.iterator]();case 5:if(t=(o=i.next()).done){s.next=15;break}return a=o.value,u=Object(l.a)(a,2),c=u[0],f=u[1],s.next=12,F(c,f);case 12:t=!0,s.next=5;break;case 15:s.next=21;break;case 17:s.prev=17,s.t0=s.catch(3),n=!0,r=s.t0;case 21:s.prev=21,s.prev=22,t||null==i.return||i.return();case 24:if(s.prev=24,!n){s.next=27;break}throw r;case 27:return s.finish(24);case 28:return s.finish(21);case 29:return s.delegateYield(P(e),"t1",30);case 30:case"end":return s.stop()}},M,null,[[3,17,21,29],[22,,24,28]])}function D(e){var t,n,r,i,o,a;return s.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:t=!0,n=!1,r=void 0,s.prev=3,i=e[Symbol.iterator]();case 5:if(t=(o=i.next()).done){s.next=12;break}return a=o.value,s.next=9,K(a);case 9:t=!0,s.next=5;break;case 12:s.next=18;break;case 14:s.prev=14,s.t0=s.catch(3),n=!0,r=s.t0;case 18:s.prev=18,s.prev=19,t||null==i.return||i.return();case 21:if(s.prev=21,!n){s.next=24;break}throw r;case 24:return s.finish(21);case 25:return s.finish(18);case 26:return s.delegateYield(P(e),"t1",27);case 27:case"end":return s.stop()}},S,null,[[3,14,18,26],[19,,21,25]])}function O(e){var t,n,r,i,o,a;return s.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:t=!0,n=!1,r=void 0,s.prev=3,i=e[Symbol.iterator]();case 5:if(t=(o=i.next()).done){s.next=12;break}return a=o.value,s.next=9,K(a);case 9:t=!0,s.next=5;break;case 12:s.next=18;break;case 14:s.prev=14,s.t0=s.catch(3),n=!0,r=s.t0;case 18:s.prev=18,s.prev=19,t||null==i.return||i.return();case 21:if(s.prev=21,!n){s.next=24;break}throw r;case 24:return s.finish(21);case 25:return s.finish(18);case 26:case"end":return s.stop()}},C,null,[[3,14,18,26],[19,,21,25]])}function N(e){var t,n,r,i,o,a,l,u,f;return s.a.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:t=0,n=e.length;case 1:if(!(t<n)){h.next=8;break}if(!(t in e)){h.next=5;break}return h.next=5,$(t,w(e,t),"observablehq--index");case 5:++t,h.next=1;break;case 8:h.t0=s.a.keys(e);case 9:if((h.t1=h.t0()).done){h.next=16;break}if(c(r=h.t1.value)||!_(e,r)){h.next=14;break}return h.next=14,$(r,w(e,r),"observablehq--key");case 14:h.next=9;break;case 16:i=!0,o=!1,a=void 0,h.prev=19,l=y(e)[Symbol.iterator]();case 21:if(i=(u=l.next()).done){h.next=28;break}return f=u.value,h.next=25,$(d(f),w(e,f),"observablehq--symbol");case 25:i=!0,h.next=21;break;case 28:h.next=34;break;case 30:h.prev=30,h.t2=h.catch(19),o=!0,a=h.t2;case 34:h.prev=34,h.prev=35,i||null==l.return||l.return();case 37:if(h.prev=37,!o){h.next=40;break}throw a;case 40:return h.finish(37);case 41:return h.finish(34);case 42:case"end":return h.stop()}},E,null,[[19,30,34,42],[35,,37,41]])}function j(e){var t,n;return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:t=0,n=e.size;case 2:if(!(t<n)){r.next=8;break}return r.next=5,$(t,e.get(t),!0);case 5:++t,r.next=2;break;case 8:case"end":return r.stop()}},I)}function P(e){var t,n,r,i,o,a,l;return s.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:u.t0=s.a.keys(e);case 1:if((u.t1=u.t0()).done){u.next=8;break}if(t=u.t1.value,!_(e,t)){u.next=6;break}return u.next=6,$(t,w(e,t),"observablehq--key");case 6:u.next=1;break;case 8:n=!0,r=!1,i=void 0,u.prev=11,o=y(e)[Symbol.iterator]();case 13:if(n=(a=o.next()).done){u.next=20;break}return l=a.value,u.next=17,$(d(l),w(e,l),"observablehq--symbol");case 17:n=!0,u.next=13;break;case 20:u.next=26;break;case 22:u.prev=22,u.t2=u.catch(11),r=!0,i=u.t2;case 26:u.prev=26,u.prev=27,n||null==o.return||o.return();case 29:if(u.prev=29,!r){u.next=32;break}throw i;case 32:return u.finish(29);case 33:return u.finish(26);case 34:case"end":return u.stop()}},T,null,[[11,22,26,34],[27,,29,33]])}function R(e){var t,n,r,i,o,a,u,c,f;return s.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:t=!0,n=!1,r=void 0,s.prev=3,i=e[Symbol.iterator]();case 5:if(t=(o=i.next()).done){s.next=15;break}return a=o.value,u=Object(l.a)(a,2),c=u[0],f=u[1],s.next=12,$(c,f,"observablehq--key");case 12:t=!0,s.next=5;break;case 15:s.next=21;break;case 17:s.prev=17,s.t0=s.catch(3),n=!0,r=s.t0;case 21:s.prev=21,s.prev=22,t||null==i.return||i.return();case 24:if(s.prev=24,!n){s.next=27;break}throw r;case 27:return s.finish(24);case 28:return s.finish(21);case 29:case"end":return s.stop()}},L,null,[[3,17,21,29],[22,,24,28]])}function $(e,t,n){var r=document.createElement("div"),i=r.appendChild(document.createElement("span"));return r.className="observablehq--field",i.className=n,i.textContent="  ".concat(e),r.appendChild(document.createTextNode(": ")),r.appendChild(Ae(t)),r}function F(e,t){var n=document.createElement("div");return n.className="observablehq--field",n.appendChild(document.createTextNode("  ")),n.appendChild(Ae(e)),n.appendChild(document.createTextNode(" => ")),n.appendChild(Ae(t)),n}function K(e){var t=document.createElement("div");return t.className="observablehq--field",t.appendChild(document.createTextNode("  ")),t.appendChild(Ae(e)),t}var U=s.a.mark(X),V=s.a.mark(J),B=s.a.mark(Z),H=s.a.mark(ee),G=s.a.mark(te),Q=s.a.mark(ne),q=s.a.mark(re);function W(e){var t=window.getSelection();return"Range"===t.type&&(t.containsNode(e,!0)||t.anchorNode.isSelfOrDescendant(e)||t.focusNode.isSelfOrDescendant(e))}function Y(e,t,n){var r,i,o,a,s=u(e);if(e instanceof Map?(r="Map(".concat(e.size,")"),i=X):e instanceof Set?(r="Set(".concat(e.size,")"),i=J):s?(r="".concat(e.constructor.name,"(").concat(e.length,")"),i=te):(a=A(e))?(r="Immutable.".concat(a.name).concat("Record"===a.name?"":"(".concat(e.size,")")),s=a.arrayish,i=a.arrayish?ee:a.setish?Z:re):(r=b(e),i=ne),t){var l=document.createElement("span");return l.className="observablehq--shallow",n&&l.appendChild(f(n)),l.appendChild(document.createTextNode(r)),l.addEventListener("mouseup",function(t){W(l)||(t.stopPropagation(),Me(l,Y(e)))}),l}var c=document.createElement("span");c.className="observablehq--collapsed",n&&c.appendChild(f(n));var h=c.appendChild(document.createElement("a"));h.innerHTML="<svg width=8 height=8 class='observablehq--caret'>\n    <path d='M7 4L1 8V0z' fill='currentColor' />\n  </svg>",h.appendChild(document.createTextNode("".concat(r).concat(s?" [":" {"))),c.addEventListener("mouseup",function(t){W(c)||(t.stopPropagation(),Me(c,z(e,0,n)))},!0),i=i(e);for(var d=0;!(o=i.next()).done&&d<20;++d)d>0&&c.appendChild(document.createTextNode(", ")),c.appendChild(o.value);return o.done||c.appendChild(document.createTextNode(", \u2026")),c.appendChild(document.createTextNode(s?"]":"}")),c}function X(e){var t,n,r,i,o,a,u,c,f;return s.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:t=!0,n=!1,r=void 0,s.prev=3,i=e[Symbol.iterator]();case 5:if(t=(o=i.next()).done){s.next=15;break}return a=o.value,u=Object(l.a)(a,2),c=u[0],f=u[1],s.next=12,ae(c,f);case 12:t=!0,s.next=5;break;case 15:s.next=21;break;case 17:s.prev=17,s.t0=s.catch(3),n=!0,r=s.t0;case 21:s.prev=21,s.prev=22,t||null==i.return||i.return();case 24:if(s.prev=24,!n){s.next=27;break}throw r;case 27:return s.finish(24);case 28:return s.finish(21);case 29:return s.delegateYield(ne(e),"t1",30);case 30:case"end":return s.stop()}},U,null,[[3,17,21,29],[22,,24,28]])}function J(e){var t,n,r,i,o,a;return s.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:t=!0,n=!1,r=void 0,s.prev=3,i=e[Symbol.iterator]();case 5:if(t=(o=i.next()).done){s.next=12;break}return a=o.value,s.next=9,Ae(a,!0);case 9:t=!0,s.next=5;break;case 12:s.next=18;break;case 14:s.prev=14,s.t0=s.catch(3),n=!0,r=s.t0;case 18:s.prev=18,s.prev=19,t||null==i.return||i.return();case 21:if(s.prev=21,!n){s.next=24;break}throw r;case 24:return s.finish(21);case 25:return s.finish(18);case 26:return s.delegateYield(ne(e),"t1",27);case 27:case"end":return s.stop()}},V,null,[[3,14,18,26],[19,,21,25]])}function Z(e){var t,n,r,i,o,a;return s.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:t=!0,n=!1,r=void 0,s.prev=3,i=e[Symbol.iterator]();case 5:if(t=(o=i.next()).done){s.next=12;break}return a=o.value,s.next=9,Ae(a,!0);case 9:t=!0,s.next=5;break;case 12:s.next=18;break;case 14:s.prev=14,s.t0=s.catch(3),n=!0,r=s.t0;case 18:s.prev=18,s.prev=19,t||null==i.return||i.return();case 21:if(s.prev=21,!n){s.next=24;break}throw r;case 24:return s.finish(21);case 25:return s.finish(18);case 26:case"end":return s.stop()}},B,null,[[3,14,18,26],[19,,21,25]])}function ee(e){var t,n,r;return s.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:t=-1,n=0,r=e.size;case 2:if(!(n<r)){i.next=12;break}if(!(n>t+1)){i.next=6;break}return i.next=6,ie(n-t-1);case 6:return i.next=8,Ae(e.get(n),!0);case 8:t=n;case 9:++n,i.next=2;break;case 12:if(!(n>t+1)){i.next=15;break}return i.next=15,ie(n-t-1);case 15:case"end":return i.stop()}},H)}function te(e){var t,n,r,i,o,a,l,u,f,h;return s.a.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:t=-1,n=0,r=e.length;case 2:if(!(n<r)){p.next=13;break}if(!(n in e)){p.next=10;break}if(!(n>t+1)){p.next=7;break}return p.next=7,ie(n-t-1);case 7:return p.next=9,Ae(w(e,n),!0);case 9:t=n;case 10:++n,p.next=2;break;case 13:if(!(n>t+1)){p.next=16;break}return p.next=16,ie(n-t-1);case 16:p.t0=s.a.keys(e);case 17:if((p.t1=p.t0()).done){p.next=24;break}if(c(i=p.t1.value)||!_(e,i)){p.next=22;break}return p.next=22,oe(i,w(e,i),"observablehq--key");case 22:p.next=17;break;case 24:o=!0,a=!1,l=void 0,p.prev=27,u=y(e)[Symbol.iterator]();case 29:if(o=(f=u.next()).done){p.next=36;break}return h=f.value,p.next=33,oe(d(h),w(e,h),"observablehq--symbol");case 33:o=!0,p.next=29;break;case 36:p.next=42;break;case 38:p.prev=38,p.t2=p.catch(27),a=!0,l=p.t2;case 42:p.prev=42,p.prev=43,o||null==u.return||u.return();case 45:if(p.prev=45,!a){p.next=48;break}throw l;case 48:return p.finish(45);case 49:return p.finish(42);case 50:case"end":return p.stop()}},G,null,[[27,38,42,50],[43,,45,49]])}function ne(e){var t,n,r,i,o,a,l;return s.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:u.t0=s.a.keys(e);case 1:if((u.t1=u.t0()).done){u.next=8;break}if(t=u.t1.value,!_(e,t)){u.next=6;break}return u.next=6,oe(t,w(e,t),"observablehq--key");case 6:u.next=1;break;case 8:n=!0,r=!1,i=void 0,u.prev=11,o=y(e)[Symbol.iterator]();case 13:if(n=(a=o.next()).done){u.next=20;break}return l=a.value,u.next=17,oe(d(l),w(e,l),"observablehq--symbol");case 17:n=!0,u.next=13;break;case 20:u.next=26;break;case 22:u.prev=22,u.t2=u.catch(11),r=!0,i=u.t2;case 26:u.prev=26,u.prev=27,n||null==o.return||o.return();case 29:if(u.prev=29,!r){u.next=32;break}throw i;case 32:return u.finish(29);case 33:return u.finish(26);case 34:case"end":return u.stop()}},Q,null,[[11,22,26,34],[27,,29,33]])}function re(e){var t,n,r,i,o,a,u,c,f;return s.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:t=!0,n=!1,r=void 0,s.prev=3,i=e[Symbol.iterator]();case 5:if(t=(o=i.next()).done){s.next=15;break}return a=o.value,u=Object(l.a)(a,2),c=u[0],f=u[1],s.next=12,oe(c,f,"observablehq--key");case 12:t=!0,s.next=5;break;case 15:s.next=21;break;case 17:s.prev=17,s.t0=s.catch(3),n=!0,r=s.t0;case 21:s.prev=21,s.prev=22,t||null==i.return||i.return();case 24:if(s.prev=24,!n){s.next=27;break}throw r;case 27:return s.finish(24);case 28:return s.finish(21);case 29:case"end":return s.stop()}},q,null,[[3,17,21,29],[22,,24,28]])}function ie(e){var t=document.createElement("span");return t.className="observablehq--empty",t.textContent=1===e?"empty":"empty \xd7 ".concat(e),t}function oe(e,t,n){var r=document.createDocumentFragment(),i=r.appendChild(document.createElement("span"));return i.className=n,i.textContent=e,r.appendChild(document.createTextNode(": ")),r.appendChild(Ae(t,!0)),r}function ae(e,t){var n=document.createDocumentFragment();return n.appendChild(Ae(e,!0)),n.appendChild(document.createTextNode(" => ")),n.appendChild(Ae(t,!0)),n}function se(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function le(e){return e<0?"-"+se(-e,6):e>9999?"+"+se(e,6):se(e,4)}var ue=Error.prototype.toString;var ce=RegExp.prototype.toString;var fe=20;function he(e){return e.replace(/[\\`\x00-\x09\x0b-\x19]|\${/g,de)}function de(e){var t=e.charCodeAt(0);switch(t){case 8:return"\\b";case 9:return"\\t";case 11:return"\\v";case 12:return"\\f";case 13:return"\\r"}return t<16?"\\x0"+t.toString(16):t<32?"\\x"+t.toString(16):"\\"+e}function pe(e,t){for(var n=0;t.exec(e);)++n;return n}var me=Function.prototype.toString,ve={prefix:"async \u0192"},ge={prefix:"async \u0192*"},ye={prefix:"class"},_e={prefix:"\u0192"},be={prefix:"\u0192*"};function we(e,t,n){var r=document.createElement("span");r.className="observablehq--function",n&&r.appendChild(f(n));var i=r.appendChild(document.createElement("span"));return i.className="observablehq--keyword",i.textContent=e.prefix,r.appendChild(document.createTextNode(t)),r}var xe=Object.prototype.toString;function Ae(e,t,n,r){var i,o=typeof e;switch(o){case"boolean":case"undefined":e+="";break;case"number":e=0===e&&1/e<0?"-0":e+"";break;case"bigint":e+="n";break;case"symbol":e=d(e);break;case"function":return function(e,t){var n,r,i=me.call(e);switch(e.constructor&&e.constructor.name){case"AsyncFunction":n=ve;break;case"AsyncGeneratorFunction":n=ge;break;case"GeneratorFunction":n=be;break;default:n=/^class\b/.test(i)?ye:_e}return n===ye?we(n,"",t):(r=/^(?:async\s*)?(\w+)\s*=>/.exec(i))?we(n,"("+r[1]+")",t):(r=/^(?:async\s*)?\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(i))?we(n,r[1]?"("+r[1].replace(/\s*,\s*/g,", ")+")":"()",t):(r=/^(?:async\s*)?function(?:\s*\*)?(?:\s*\w+)?\s*\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(i))?we(n,r[1]?"("+r[1].replace(/\s*,\s*/g,", ")+")":"()",t):we(n,"(\u2026)",t)}(e,r);case"string":return function(e,t,n,r){if(!1===t){if(pe(e,/["\n]/g)<=pe(e,/`|\${/g)){var i=document.createElement("span");r&&i.appendChild(f(r));var o=i.appendChild(document.createElement("span"));return o.className="observablehq--string",o.textContent=JSON.stringify(e),i}var a=e.split("\n");if(a.length>fe&&!n){var s=document.createElement("div");r&&s.appendChild(f(r));var l=s.appendChild(document.createElement("span"));l.className="observablehq--string",l.textContent="`"+he(a.slice(0,fe).join("\n"));var u=s.appendChild(document.createElement("span")),c=a.length-fe;return u.textContent="Show ".concat(c," truncated line").concat(c>1?"s":""),u.className="observablehq--string-expand",u.addEventListener("mouseup",function(n){n.stopPropagation(),Me(s,Ae(e,t,!0,r))}),s}var h=document.createElement("span");r&&h.appendChild(f(r));var d=h.appendChild(document.createElement("span"));return d.className="observablehq--string".concat(n?" observablehq--expanded":""),d.textContent="`"+he(e)+"`",h}var p=document.createElement("span");r&&p.appendChild(f(r));var m=p.appendChild(document.createElement("span"));return m.className="observablehq--string",m.textContent=JSON.stringify(e.length>100?"".concat(e.slice(0,50),"\u2026").concat(e.slice(-49)):e),p}(e,t,n,r);default:if(null===e){o=null,e="null";break}if(e instanceof Date){o="date",i=e,e=isNaN(i)?"Invalid Date":function(e){return 0===e.getUTCMilliseconds()&&0===e.getUTCSeconds()&&0===e.getUTCMinutes()&&0===e.getUTCHours()}(i)?le(i.getUTCFullYear())+"-"+se(i.getUTCMonth()+1,2)+"-"+se(i.getUTCDate(),2):le(i.getFullYear())+"-"+se(i.getMonth()+1,2)+"-"+se(i.getDate(),2)+"T"+se(i.getHours(),2)+":"+se(i.getMinutes(),2)+(i.getMilliseconds()?":"+se(i.getSeconds(),2)+"."+se(i.getMilliseconds(),3):i.getSeconds()?":"+se(i.getSeconds(),2):"");break}if(e===g){o="forbidden",e="[forbidden]";break}switch(xe.call(e)){case"[object RegExp]":o="regexp",e=function(e){return ce.call(e)}(e);break;case"[object Error]":case"[object DOMException]":o="error",e=function(e){return e.stack||ue.call(e)}(e);break;default:return(n?z:Y)(e,t,r)}}var a=document.createElement("span");r&&a.appendChild(f(r));var s=a.appendChild(document.createElement("span"));return s.className="observablehq--".concat(o),s.textContent=e,a}function Me(e,t){e.classList.contains("observablehq--inspect")&&t.classList.add("observablehq--inspect"),e.parentNode.replaceChild(t,e),o(t,"load")}var Se=/\s+\(\d+:\d+\)$/m,Ce=function(){function e(t){if(Object(r.a)(this,e),!t)throw new Error("invalid node");this._node=t,t.classList.add("observablehq")}return Object(i.a)(e,[{key:"pending",value:function(){var e=this._node;e.classList.remove("observablehq--error"),e.classList.add("observablehq--running")}},{key:"fulfilled",value:function(e,t){var n=this._node;if((!(e instanceof Element||e instanceof Text)||e.parentNode&&e.parentNode!==n)&&(e=Ae(e,!1,n.firstChild&&n.firstChild.classList&&n.firstChild.classList.contains("observablehq--expanded"),t)).classList.add("observablehq--inspect"),n.classList.remove("observablehq--running","observablehq--error"),n.firstChild!==e)if(n.firstChild){for(;n.lastChild!==n.firstChild;)n.removeChild(n.lastChild);n.replaceChild(e,n.firstChild)}else n.appendChild(e);o(n,"update")}},{key:"rejected",value:function(e,t){var n=this._node;for(n.classList.remove("observablehq--running"),n.classList.add("observablehq--error");n.lastChild;)n.removeChild(n.lastChild);var r=document.createElement("div");r.className="observablehq--inspect",t&&r.appendChild(f(t)),r.appendChild(document.createTextNode((e+"").replace(Se,""))),n.appendChild(r),o(n,"error",{error:e})}}]),e}();Ce.into=function(e){if("string"===typeof e&&null==(e=document.querySelector(e)))throw new Error("container not found");return function(){return new Ce(e.appendChild(document.createElement("div")))}};n(62),n(30);var Ee=n(50);n.d(t,"a",function(){return Ce}),n.d(t,"b",function(){return Ee.a})},function(e,t,n){var r=n(78),i=n(309),o=n(310),a=n(311),s=n(312),l=n(313);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,e.exports=u},function(e,t,n){var r=n(304),i=n(305),o=n(306),a=n(307),s=n(308);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(53);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(47)(Object,"create");e.exports=r},function(e,t,n){var r=n(328);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(83),i=n(53),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(168);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?n:t)&&("number"==i||"symbol"!=i&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(170)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(129),i=n(357)(r);e.exports=i},function(e,t,n){var r=n(15),i=n(133),o=n(371),a=n(192);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},function(e,t,n){var r=n(49),i=n(200),o=n(201);e.exports=function(e,t){return o(i(e,t,r),e+"")}},function(e,t,n){var r=n(53),i=n(40),o=n(85),a=n(28);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},function(e,t,n){"use strict";var r=n(14);e.exports={longestPath:function(e){var t={};r.forEach(e.sources(),function n(i){var o=e.node(i);if(r.has(t,i))return o.rank;t[i]=!0;var a=r.min(r.map(e.outEdges(i),function(t){return n(t.w)-e.edge(t).minlen}));a!==Number.POSITIVE_INFINITY&&void 0!==a&&null!==a||(a=0);return o.rank=a})},slack:function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}}},,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(11);function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){Object(r.a)(e,t,n[t])})}return e}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r=Array.prototype,i=r.map,o=r.forEach},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";t.a=function(e){return e}},function(e,t,n){"use strict";function r(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(1),i=function(e,t){void 0===t&&console.warn('THREE.TrackballControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.TrackballControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.');var n=this,i={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4};this.object=e,this.domElement=t,this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.keys=[65,83,68],this.mouseButtons={LEFT:r.MOUSE.ROTATE,MIDDLE:r.MOUSE.ZOOM,RIGHT:r.MOUSE.PAN},this.target=new r.Vector3;var o=new r.Vector3,a=1,s=i.NONE,l=i.NONE,u=new r.Vector3,c=new r.Vector2,f=new r.Vector2,h=new r.Vector3,d=0,p=new r.Vector2,m=new r.Vector2,v=0,g=0,y=new r.Vector2,_=new r.Vector2;this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom;var b={type:"change"},w={type:"start"},x={type:"end"};this.handleResize=function(){var e=n.domElement.getBoundingClientRect(),t=n.domElement.ownerDocument.documentElement;n.screen.left=e.left+window.pageXOffset-t.clientLeft,n.screen.top=e.top+window.pageYOffset-t.clientTop,n.screen.width=e.width,n.screen.height=e.height};var A=function(){var e=new r.Vector2;return function(t,r){return e.set((t-n.screen.left)/n.screen.width,(r-n.screen.top)/n.screen.height),e}}(),M=function(){var e=new r.Vector2;return function(t,r){return e.set((t-.5*n.screen.width-n.screen.left)/(.5*n.screen.width),(n.screen.height+2*(n.screen.top-r))/n.screen.width),e}}();function S(e){!1!==n.enabled&&(window.removeEventListener("keydown",S),l===i.NONE&&(e.keyCode!==n.keys[i.ROTATE]||n.noRotate?e.keyCode!==n.keys[i.ZOOM]||n.noZoom?e.keyCode!==n.keys[i.PAN]||n.noPan||(l=i.PAN):l=i.ZOOM:l=i.ROTATE))}function C(){!1!==n.enabled&&(l=i.NONE,window.addEventListener("keydown",S,!1))}function E(e){if(!1!==n.enabled){if(e.preventDefault(),e.stopPropagation(),s===i.NONE)switch(e.button){case n.mouseButtons.LEFT:s=i.ROTATE;break;case n.mouseButtons.MIDDLE:s=i.ZOOM;break;case n.mouseButtons.RIGHT:s=i.PAN;break;default:s=i.NONE}var t=l!==i.NONE?l:s;t!==i.ROTATE||n.noRotate?t!==i.ZOOM||n.noZoom?t!==i.PAN||n.noPan||(y.copy(A(e.pageX,e.pageY)),_.copy(y)):(p.copy(A(e.pageX,e.pageY)),m.copy(p)):(f.copy(M(e.pageX,e.pageY)),c.copy(f)),n.domElement.ownerDocument.addEventListener("mousemove",I,!1),n.domElement.ownerDocument.addEventListener("mouseup",T,!1),n.dispatchEvent(w)}}function I(e){if(!1!==n.enabled){e.preventDefault(),e.stopPropagation();var t=l!==i.NONE?l:s;t!==i.ROTATE||n.noRotate?t!==i.ZOOM||n.noZoom?t!==i.PAN||n.noPan||_.copy(A(e.pageX,e.pageY)):m.copy(A(e.pageX,e.pageY)):(c.copy(f),f.copy(M(e.pageX,e.pageY)))}}function T(e){!1!==n.enabled&&(e.preventDefault(),e.stopPropagation(),s=i.NONE,n.domElement.ownerDocument.removeEventListener("mousemove",I),n.domElement.ownerDocument.removeEventListener("mouseup",T),n.dispatchEvent(x))}function L(e){if(!1!==n.enabled&&!0!==n.noZoom){switch(e.preventDefault(),e.stopPropagation(),e.deltaMode){case 2:p.y-=.025*e.deltaY;break;case 1:p.y-=.01*e.deltaY;break;default:p.y-=25e-5*e.deltaY}n.dispatchEvent(w),n.dispatchEvent(x)}}function z(e){if(!1!==n.enabled){switch(e.preventDefault(),e.touches.length){case 1:s=i.TOUCH_ROTATE,f.copy(M(e.touches[0].pageX,e.touches[0].pageY)),c.copy(f);break;default:s=i.TOUCH_ZOOM_PAN;var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY;g=v=Math.sqrt(t*t+r*r);var o=(e.touches[0].pageX+e.touches[1].pageX)/2,a=(e.touches[0].pageY+e.touches[1].pageY)/2;y.copy(A(o,a)),_.copy(y)}n.dispatchEvent(w)}}function k(e){if(!1!==n.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:c.copy(f),f.copy(M(e.touches[0].pageX,e.touches[0].pageY));break;default:var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY;g=Math.sqrt(t*t+r*r);var i=(e.touches[0].pageX+e.touches[1].pageX)/2,o=(e.touches[0].pageY+e.touches[1].pageY)/2;_.copy(A(i,o))}}function D(e){if(!1!==n.enabled){switch(e.touches.length){case 0:s=i.NONE;break;case 1:s=i.TOUCH_ROTATE,f.copy(M(e.touches[0].pageX,e.touches[0].pageY)),c.copy(f)}n.dispatchEvent(x)}}function O(e){!1!==n.enabled&&e.preventDefault()}this.rotateCamera=function(){var e,t=new r.Vector3,i=new r.Quaternion,o=new r.Vector3,a=new r.Vector3,s=new r.Vector3,l=new r.Vector3;return function(){l.set(f.x-c.x,f.y-c.y,0),(e=l.length())?(u.copy(n.object.position).sub(n.target),o.copy(u).normalize(),a.copy(n.object.up).normalize(),s.crossVectors(a,o).normalize(),a.setLength(f.y-c.y),s.setLength(f.x-c.x),l.copy(a.add(s)),t.crossVectors(l,u).normalize(),e*=n.rotateSpeed,i.setFromAxisAngle(t,e),u.applyQuaternion(i),n.object.up.applyQuaternion(i),h.copy(t),d=e):!n.staticMoving&&d&&(d*=Math.sqrt(1-n.dynamicDampingFactor),u.copy(n.object.position).sub(n.target),i.setFromAxisAngle(h,d),u.applyQuaternion(i),n.object.up.applyQuaternion(i)),c.copy(f)}}(),this.zoomCamera=function(){var e;s===i.TOUCH_ZOOM_PAN?(e=v/g,v=g,n.object.isPerspectiveCamera?u.multiplyScalar(e):n.object.isOrthographicCamera?(n.object.zoom*=e,n.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(1!==(e=1+(m.y-p.y)*n.zoomSpeed)&&e>0&&(n.object.isPerspectiveCamera?u.multiplyScalar(e):n.object.isOrthographicCamera?(n.object.zoom/=e,n.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),n.staticMoving?p.copy(m):p.y+=(m.y-p.y)*this.dynamicDampingFactor)},this.panCamera=function(){var e=new r.Vector2,t=new r.Vector3,i=new r.Vector3;return function(){if(e.copy(_).sub(y),e.lengthSq()){if(n.object.isOrthographicCamera){var r=(n.object.right-n.object.left)/n.object.zoom/n.domElement.clientWidth,o=(n.object.top-n.object.bottom)/n.object.zoom/n.domElement.clientWidth;e.x*=r,e.y*=o}e.multiplyScalar(u.length()*n.panSpeed),i.copy(u).cross(n.object.up).setLength(e.x),i.add(t.copy(n.object.up).setLength(e.y)),n.object.position.add(i),n.target.add(i),n.staticMoving?y.copy(_):y.add(e.subVectors(_,y).multiplyScalar(n.dynamicDampingFactor))}}}(),this.checkDistances=function(){n.noZoom&&n.noPan||(u.lengthSq()>n.maxDistance*n.maxDistance&&(n.object.position.addVectors(n.target,u.setLength(n.maxDistance)),p.copy(m)),u.lengthSq()<n.minDistance*n.minDistance&&(n.object.position.addVectors(n.target,u.setLength(n.minDistance)),p.copy(m)))},this.update=function(){u.subVectors(n.object.position,n.target),n.noRotate||n.rotateCamera(),n.noZoom||n.zoomCamera(),n.noPan||n.panCamera(),n.object.position.addVectors(n.target,u),n.object.isPerspectiveCamera?(n.checkDistances(),n.object.lookAt(n.target),o.distanceToSquared(n.object.position)>1e-6&&(n.dispatchEvent(b),o.copy(n.object.position))):n.object.isOrthographicCamera?(n.object.lookAt(n.target),(o.distanceToSquared(n.object.position)>1e-6||a!==n.object.zoom)&&(n.dispatchEvent(b),o.copy(n.object.position),a=n.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")},this.reset=function(){s=i.NONE,l=i.NONE,n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.up.copy(n.up0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),u.subVectors(n.object.position,n.target),n.object.lookAt(n.target),n.dispatchEvent(b),o.copy(n.object.position),a=n.object.zoom},this.dispose=function(){n.domElement.removeEventListener("contextmenu",O,!1),n.domElement.removeEventListener("mousedown",E,!1),n.domElement.removeEventListener("wheel",L,!1),n.domElement.removeEventListener("touchstart",z,!1),n.domElement.removeEventListener("touchend",D,!1),n.domElement.removeEventListener("touchmove",k,!1),n.domElement.ownerDocument.removeEventListener("mousemove",I,!1),n.domElement.ownerDocument.removeEventListener("mouseup",T,!1),window.removeEventListener("keydown",S,!1),window.removeEventListener("keyup",C,!1)},this.domElement.addEventListener("contextmenu",O,!1),this.domElement.addEventListener("mousedown",E,!1),this.domElement.addEventListener("wheel",L,!1),this.domElement.addEventListener("touchstart",z,!1),this.domElement.addEventListener("touchend",D,!1),this.domElement.addEventListener("touchmove",k,!1),window.addEventListener("keydown",S,!1),window.addEventListener("keyup",C,!1),this.handleResize(),this.update()};i.prototype=Object.create(r.EventDispatcher.prototype),i.prototype.constructor=i},function(e,t,n){"use strict";var r=n(3),i=n(63);var o=n(16);function a(e){var t="function"===typeof Map?new Map:void 0;return(a=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return Object(o.a)(e,arguments,Object(r.a)(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Object(i.a)(a,e)})(e)}n.d(t,"a",function(){return a})},function(e,t,n){"use strict";e.exports=n(626)},function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"initialize",function(){return F}),n.d(r,"ga",function(){return K}),n.d(r,"set",function(){return U}),n.d(r,"send",function(){return V}),n.d(r,"pageview",function(){return B}),n.d(r,"modalview",function(){return H}),n.d(r,"timing",function(){return G}),n.d(r,"event",function(){return Q}),n.d(r,"exception",function(){return q}),n.d(r,"plugin",function(){return W}),n.d(r,"outboundLink",function(){return Y}),n.d(r,"testModeAPI",function(){return X}),n.d(r,"default",function(){return J});var i=n(0),o=n.n(i),a=n(23),s=n.n(a);function l(e){console.warn("[react-ga]",e)}function u(e){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v="_blank",g=1,y=function(e){function t(){var e,n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=this,i=(e=h(t)).call.apply(e,[this].concat(a)),n=!i||"object"!==u(i)&&"function"!==typeof i?d(r):i,m(d(n),"handleClick",function(e){var r=n.props,i=r.target,o=r.eventLabel,a=r.to,s=r.onClick,l=r.trackerNames,u={label:o},c=i!==v,f=!(e.ctrlKey||e.shiftKey||e.metaKey||e.button===g);c&&f?(e.preventDefault(),t.trackLink(u,function(){window.location.href=a},l)):t.trackLink(u,function(){},l),s&&s(e)}),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,i["Component"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.to,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){m(e,t,n[t])})}return e}({},c(e,["to"]),{href:t,onClick:this.handleClick});return this.props.target===v&&(n.rel="noopener noreferrer"),delete n.eventLabel,o.a.createElement("a",n)}}])&&f(n.prototype,r),a&&f(n,a),t}();function _(e){return e.replace(/^\s+|\s+$/g,"")}m(y,"trackLink",function(){l("ga tracking not enabled")}),m(y,"propTypes",{eventLabel:s.a.string.isRequired,target:s.a.string,to:s.a.string,onClick:s.a.func,trackerNames:s.a.arrayOf(s.a.string)}),m(y,"defaultProps",{target:null,to:null,onClick:null,trackerNames:null});var b=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;var w="REDACTED (Potential Email Address)";function x(e,t){return function(e){return/[^@]+@[^@]+/.test(e)}(e)?(l("This arg looks like an email address, redacting."),w):t?_(e).replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(e,t,n){return t>0&&t+e.length!==n.length&&e.search(b)>-1&&":"!==n.charAt(t-2)&&("-"!==n.charAt(t+e.length)||"-"===n.charAt(t-1))&&n.charAt(t-1).search(/[^\s-]/)<0?e.toLowerCase():e.substr(1).search(/[A-Z]|\../)>-1?e:e.charAt(0).toUpperCase()+e.substr(1)}):e}var A=function(e){var t,n,r,i,o,a,s,l="https://www.google-analytics.com/analytics.js";e&&e.gaAddress?l=e.gaAddress:e&&e.debug&&(l="https://www.google-analytics.com/analytics_debug.js"),t=window,n=document,r="script",i=l,o="ga",t.GoogleAnalyticsObject=o,t.ga=t.ga||function(){(t.ga.q=t.ga.q||[]).push(arguments)},t.ga.l=1*new Date,a=n.createElement(r),s=n.getElementsByTagName(r)[0],a.async=1,a.src=i,s.parentNode.insertBefore(a,s)};function M(e){console.info("[react-ga]",e)}var S=[],C={calls:S,ga:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];S.push([].concat(t))},resetCalls:function(){S.length=0}};function E(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){return(T="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var z="undefined"===typeof window||"undefined"===typeof document,k=!1,D=!0,O=!1,N=!0,j=function(){var e;return O?C.ga.apply(C,arguments):!z&&(window.ga?(e=window).ga.apply(e,arguments):l("ReactGA.initialize must be called first or GoogleAnalytics should be loaded manually"))};function P(e){return x(e,D)}function R(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0];if("function"===typeof j){if("string"!==typeof i)return void l("ga command must be a string");!N&&Array.isArray(e)||j.apply(void 0,n),Array.isArray(e)&&e.forEach(function(e){j.apply(void 0,L(["".concat(e,".").concat(i)].concat(n.slice(1))))})}}function $(e,t){e?(t&&(t.debug&&!0===t.debug&&(k=!0),!1===t.titleCase&&(D=!1)),t&&t.gaOptions?j("create",e,t.gaOptions):j("create",e,"auto")):l("gaTrackingID is required in initialize()")}function F(e,t){if(t&&!0===t.testMode)O=!0;else{if(z)return!1;t&&!0===t.standardImplementation||A(t)}return N=!t||"boolean"!==typeof t.alwaysSendToDefaultTracker||t.alwaysSendToDefaultTracker,Array.isArray(e)?e.forEach(function(e){"object"===T(e)?$(e.trackingId,e):l("All configs must be an object")}):$(e,t),!0}function K(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length>0&&(j.apply(void 0,t),k&&(M("called ga('arguments');"),M("with arguments: ".concat(JSON.stringify(t))))),window.ga}function U(e,t){e?"object"===T(e)?(0===Object.keys(e).length&&l("empty `fieldsObject` given to .set()"),R(t,"set",e),k&&(M("called ga('set', fieldsObject);"),M("with fieldsObject: ".concat(JSON.stringify(e))))):l("Expected `fieldsObject` arg to be an Object"):l("`fieldsObject` is required in .set()")}function V(e,t){R(t,"send",e),k&&(M("called ga('send', fieldObject);"),M("with fieldObject: ".concat(JSON.stringify(e))),M("with trackers: ".concat(JSON.stringify(t))))}function B(e,t,n){if(e){var r=_(e);if(""!==r){var i={};if(n&&(i.title=n),R(t,"send",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){I(e,t,n[t])})}return e}({hitType:"pageview",page:r},i)),k){M("called ga('send', 'pageview', path);");var o="";n&&(o=" and title: ".concat(n)),M("with path: ".concat(r).concat(o))}}else l("path cannot be an empty string in .pageview()")}else l("path is required in .pageview()")}function H(e,t){if(e){var n,r="/"===(n=_(e)).substring(0,1)?n.substring(1):n;if(""!==r){var i="/modal/".concat(r);R(t,"send","pageview",i),k&&(M("called ga('send', 'pageview', path);"),M("with path: ".concat(i)))}else l("modalName cannot be an empty string or a single / in .modalview()")}else l("modalName is required in .modalview(modalName)")}function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.category,n=e.variable,r=e.value,i=e.label,o=arguments.length>1?arguments[1]:void 0;if(t&&n&&r&&"number"===typeof r){var a={hitType:"timing",timingCategory:P(t),timingVar:P(n),timingValue:r};i&&(a.timingLabel=P(i)),V(a,o)}else l("args.category, args.variable AND args.value are required in timing() AND args.value has to be a number")}function Q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.category,n=e.action,r=e.label,i=e.value,o=e.nonInteraction,a=e.transport,s=E(e,["category","action","label","value","nonInteraction","transport"]),u=arguments.length>1?arguments[1]:void 0;if(t&&n){var c={hitType:"event",eventCategory:P(t),eventAction:P(n)};r&&(c.eventLabel=P(r)),"undefined"!==typeof i&&("number"!==typeof i?l("Expected `args.value` arg to be a Number."):c.eventValue=i),"undefined"!==typeof o&&("boolean"!==typeof o?l("`args.nonInteraction` must be a boolean."):c.nonInteraction=o),"undefined"!==typeof a&&("string"!==typeof a?l("`args.transport` must be a string."):(-1===["beacon","xhr","image"].indexOf(a)&&l("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),c.transport=a)),Object.keys(s).filter(function(e){return"dimension"===e.substr(0,"dimension".length)}).forEach(function(e){c[e]=s[e]}),Object.keys(s).filter(function(e){return"metric"===e.substr(0,"metric".length)}).forEach(function(e){c[e]=s[e]}),V(c,u)}else l("args.category AND args.action are required in event()")}function q(e,t){var n=e.description,r=e.fatal,i={hitType:"exception"};n&&(i.exDescription=P(n)),"undefined"!==typeof r&&("boolean"!==typeof r?l("`args.fatal` must be a boolean."):i.exFatal=r),V(i,t)}var W={require:function(e,t){if(e){var n=_(e);if(""!==n)if(t){if("object"!==T(t))return void l("Expected `options` arg to be an Object");0===Object.keys(t).length&&l("Empty `options` given to .require()"),K("require",n,t),k&&M("called ga('require', '".concat(n,"', ").concat(JSON.stringify(t)))}else K("require",n),k&&M("called ga('require', '".concat(n,"');"));else l("`name` cannot be an empty string in .require()")}else l("`name` is required in .require()")},execute:function(e,t){var n,r;if(1===(arguments.length<=2?0:arguments.length-2)?n=arguments.length<=2?void 0:arguments[2]:(r=arguments.length<=2?void 0:arguments[2],n=arguments.length<=3?void 0:arguments[3]),"string"!==typeof e)l("Expected `pluginName` arg to be a String.");else if("string"!==typeof t)l("Expected `action` arg to be a String.");else{var i="".concat(e,":").concat(t);n=n||null,r&&n?(K(i,r,n),k&&(M("called ga('".concat(i,"');")),M('actionType: "'.concat(r,'" with payload: ').concat(JSON.stringify(n))))):n?(K(i,n),k&&(M("called ga('".concat(i,"');")),M("with payload: ".concat(JSON.stringify(n))))):(K(i),k&&M("called ga('".concat(i,"');")))}}};function Y(e,t,n){if("function"===typeof t)if(e&&e.label){var r={hitType:"event",eventCategory:"Outbound",eventAction:"Click",eventLabel:P(e.label)},i=!1,o=setTimeout(function(){i=!0,t()},250);r.hitCallback=function(){clearTimeout(o),i||t()},V(r,n)}else l("args.label is required in outboundLink()");else l("hitCallback function is required")}var X=C,J={initialize:F,ga:K,set:U,send:V,pageview:B,modalview:H,timing:G,event:Q,exception:q,plugin:W,outboundLink:Y,testModeAPI:C};function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}y.origTrackLink=y.trackLink,y.trackLink=Y;var ee=y;t.a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Z(e,t,n[t])})}return e}({},r,{OutboundLink:ee})},,function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in n=Object(arguments[l]))i.call(n,u)&&(s[u]=n[u]);if(r){a=r(n);for(var c=0;c<a.length;c++)o.call(n,a[c])&&(s[a[c]]=n[a[c]])}}return s}},,,function(e,t,n){"use strict";var r=n(27);e.exports=s;var i="\0",o="\0",a="\x01";function s(e){this._isDirected=!r.has(e,"directed")||e.directed,this._isMultigraph=!!r.has(e,"multigraph")&&e.multigraph,this._isCompound=!!r.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[o]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function l(e,t){e[t]?e[t]++:e[t]=1}function u(e,t){--e[t]||delete e[t]}function c(e,t,n,o){var s=""+t,l=""+n;if(!e&&s>l){var u=s;s=l,l=u}return s+a+l+a+(r.isUndefined(o)?i:o)}function f(e,t){return c(e,t.v,t.w,t.name)}s.prototype._nodeCount=0,s.prototype._edgeCount=0,s.prototype.isDirected=function(){return this._isDirected},s.prototype.isMultigraph=function(){return this._isMultigraph},s.prototype.isCompound=function(){return this._isCompound},s.prototype.setGraph=function(e){return this._label=e,this},s.prototype.graph=function(){return this._label},s.prototype.setDefaultNodeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultNodeLabelFn=e,this},s.prototype.nodeCount=function(){return this._nodeCount},s.prototype.nodes=function(){return r.keys(this._nodes)},s.prototype.sources=function(){var e=this;return r.filter(this.nodes(),function(t){return r.isEmpty(e._in[t])})},s.prototype.sinks=function(){var e=this;return r.filter(this.nodes(),function(t){return r.isEmpty(e._out[t])})},s.prototype.setNodes=function(e,t){var n=arguments,i=this;return r.each(e,function(e){n.length>1?i.setNode(e,t):i.setNode(e)}),this},s.prototype.setNode=function(e,t){return r.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=o,this._children[e]={},this._children[o][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},s.prototype.node=function(e){return this._nodes[e]},s.prototype.hasNode=function(e){return r.has(this._nodes,e)},s.prototype.removeNode=function(e){var t=this;if(r.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],r.each(this.children(e),function(e){t.setParent(e)}),delete this._children[e]),r.each(r.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],r.each(r.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},s.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r.isUndefined(t))t=o;else{for(var n=t+="";!r.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},s.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},s.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!==o)return t}},s.prototype.children=function(e){if(r.isUndefined(e)&&(e=o),this._isCompound){var t=this._children[e];if(t)return r.keys(t)}else{if(e===o)return this.nodes();if(this.hasNode(e))return[]}},s.prototype.predecessors=function(e){var t=this._preds[e];if(t)return r.keys(t)},s.prototype.successors=function(e){var t=this._sucs[e];if(t)return r.keys(t)},s.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return r.union(t,this.successors(e))},s.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},s.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;r.each(this._nodes,function(n,r){e(r)&&t.setNode(r,n)}),r.each(this._edgeObjs,function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))});var i={};return this._isCompound&&r.each(t.nodes(),function(e){t.setParent(e,function e(r){var o=n.parent(r);return void 0===o||t.hasNode(o)?(i[r]=o,o):o in i?i[o]:e(o)}(e))}),t},s.prototype.setDefaultEdgeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultEdgeLabelFn=e,this},s.prototype.edgeCount=function(){return this._edgeCount},s.prototype.edges=function(){return r.values(this._edgeObjs)},s.prototype.setPath=function(e,t){var n=this,i=arguments;return r.reduce(e,function(e,r){return i.length>1?n.setEdge(e,r,t):n.setEdge(e,r),r}),this},s.prototype.setEdge=function(){var e,t,n,i,o=!1,a=arguments[0];"object"===typeof a&&null!==a&&"v"in a?(e=a.v,t=a.w,n=a.name,2===arguments.length&&(i=arguments[1],o=!0)):(e=a,t=arguments[1],n=arguments[3],arguments.length>2&&(i=arguments[2],o=!0)),e=""+e,t=""+t,r.isUndefined(n)||(n=""+n);var s=c(this._isDirected,e,t,n);if(r.has(this._edgeLabels,s))return o&&(this._edgeLabels[s]=i),this;if(!r.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[s]=o?i:this._defaultEdgeLabelFn(e,t,n);var u=function(e,t,n,r){var i=""+t,o=""+n;if(!e&&i>o){var a=i;i=o,o=a}var s={v:i,w:o};r&&(s.name=r);return s}(this._isDirected,e,t,n);return e=u.v,t=u.w,Object.freeze(u),this._edgeObjs[s]=u,l(this._preds[t],e),l(this._sucs[e],t),this._in[t][s]=u,this._out[e][s]=u,this._edgeCount++,this},s.prototype.edge=function(e,t,n){var r=1===arguments.length?f(this._isDirected,arguments[0]):c(this._isDirected,e,t,n);return this._edgeLabels[r]},s.prototype.hasEdge=function(e,t,n){var i=1===arguments.length?f(this._isDirected,arguments[0]):c(this._isDirected,e,t,n);return r.has(this._edgeLabels,i)},s.prototype.removeEdge=function(e,t,n){var r=1===arguments.length?f(this._isDirected,arguments[0]):c(this._isDirected,e,t,n),i=this._edgeObjs[r];return i&&(e=i.v,t=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],u(this._preds[t],e),u(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},s.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var i=r.values(n);return t?r.filter(i,function(e){return e.v===t}):i}},s.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var i=r.values(n);return t?r.filter(i,function(e){return e.w===t}):i}},s.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}},function(e,t,n){var r=n(47)(n(33),"Map");e.exports=r},function(e,t,n){var r=n(320),i=n(327),o=n(329),a=n(330),s=n(331);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t,n){(function(e){var r=n(166),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s}).call(this,n(84)(e))},function(e,t,n){var r=n(87),i=n(337),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(173),i=n(174),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),function(t){return o.call(e,t)}))}:i;e.exports=s},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},function(e,t,n){var r=n(179);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t,n){e.exports=n(183)},function(e,t,n){var r=n(130),i=n(42);e.exports=function(e,t){return e&&r(e,t,i)}},function(e,t,n){var r=n(356)();e.exports=r},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},function(e,t,n){var r=n(90),i=n(72);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},function(e,t,n){var r=n(15),i=n(59),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}},function(e,t,n){var r=n(378),i=n(194);e.exports=function(e,t){return null!=e&&i(e,t,r)}},function(e,t,n){var r=n(125),i=n(390);e.exports=function e(t,n,o,a,s){var l=-1,u=t.length;for(o||(o=i),s||(s=[]);++l<u;){var c=t[l];n>0&&o(c)?n>1?e(c,n-1,o,a,s):r(s,c):a||(s[s.length]=c)}return s}},function(e,t,n){var r=n(59);e.exports=function(e,t,n){for(var i=-1,o=e.length;++i<o;){var a=e[i],s=t(a);if(null!=s&&(void 0===l?s===s&&!r(s):n(s,l)))var l=s,u=a}return u}},function(e,t){e.exports=function(e,t,n,r){var i=e.x,o=e.y,a=i-r.x,s=o-r.y,l=Math.sqrt(t*t*s*s+n*n*a*a),u=Math.abs(t*n*a/l);r.x<i&&(u=-u);var c=Math.abs(t*n*s/l);r.y<o&&(c=-c);return{x:i+u,y:o+c}}},function(e,t,n){var r=n(475),i=n(476),o=n(477);e.exports=function(e,t,n){var a=t.label,s=e.append("g");"svg"===t.labelType?o(s,t):"string"!==typeof a||"html"===t.labelType?i(s,t):r(s,t);var l,u=s.node().getBBox();switch(n){case"top":l=-t.height/2;break;case"bottom":l=t.height/2-u.height;break;default:l=-u.height/2}return s.attr("transform","translate("+-u.width/2+","+l+")"),s}},,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"BrowserRouter",function(){return f}),n.d(t,"HashRouter",function(){return h}),n.d(t,"Link",function(){return d}),n.d(t,"NavLink",function(){return p});var r=n(36),i=n(0),o=n.n(i),a=n(44);n.d(t,"MemoryRouter",function(){return a.a}),n.d(t,"Prompt",function(){return a.b}),n.d(t,"Redirect",function(){return a.c}),n.d(t,"Route",function(){return a.d}),n.d(t,"Router",function(){return a.e}),n.d(t,"StaticRouter",function(){return a.f}),n.d(t,"Switch",function(){return a.g}),n.d(t,"generatePath",function(){return a.i}),n.d(t,"matchPath",function(){return a.j}),n.d(t,"withRouter",function(){return a.k}),n.d(t,"__RouterContext",function(){return a.h});var s=n(31),l=(n(23),n(17)),u=n(64),c=n(24),f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(s.a)(t.props),t}return Object(r.a)(t,e),t.prototype.render=function(){return o.a.createElement(a.e,{history:this.history,children:this.props.children})},t}(o.a.Component);var h=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(s.b)(t.props),t}return Object(r.a)(t,e),t.prototype.render=function(){return o.a.createElement(a.e,{history:this.history,children:this.props.children})},t}(o.a.Component);var d=function(e){function t(){return e.apply(this,arguments)||this}Object(r.a)(t,e);var n=t.prototype;return n.handleClick=function(e,t){try{this.props.onClick&&this.props.onClick(e)}catch(n){throw e.preventDefault(),n}e.defaultPrevented||0!==e.button||this.props.target&&"_self"!==this.props.target||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),(this.props.replace?t.replace:t.push)(this.props.to))},n.render=function(){var e=this,t=this.props,n=t.innerRef,r=(t.replace,t.to),i=Object(u.a)(t,["innerRef","replace","to"]);return o.a.createElement(a.h.Consumer,null,function(t){t||Object(c.a)(!1);var a="string"===typeof r?Object(s.c)(r,null,null,t.location):r,u=a?t.history.createHref(a):"";return o.a.createElement("a",Object(l.a)({},i,{onClick:function(n){return e.handleClick(n,t.history)},href:u,ref:n}))})},t}(o.a.Component);function p(e){var t=e["aria-current"],n=void 0===t?"page":t,r=e.activeClassName,i=void 0===r?"active":r,s=e.activeStyle,f=e.className,h=e.exact,p=e.isActive,m=e.location,v=e.strict,g=e.style,y=e.to,_=Object(u.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to"]),b="object"===typeof y?y.pathname:y,w=b&&b.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1");return o.a.createElement(a.h.Consumer,null,function(e){e||Object(c.a)(!1);var t=m?m.pathname:e.location.pathname,r=w?Object(a.j)(t,{path:w,exact:h,strict:v}):null,u=!!(p?p(r,e.location):r),b=u?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(e){return e}).join(" ")}(f,i):f,x=u?Object(l.a)({},g,s):g;return o.a.createElement(d,Object(l.a)({"aria-current":u&&n||null,className:b,style:x,to:y},_))})}},function(e,t,n){var r=n(265);e.exports=d,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t))},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",c=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(s+=e.slice(a,d),a=d+f.length,h)s+=h[1];else{var p=e[a],m=n[2],v=n[3],g=n[4],y=n[5],_=n[6],b=n[7];s&&(r.push(s),s="");var w=null!=m&&null!=p&&p!==m,x="+"===_||"*"===_,A="?"===_||"*"===_,M=n[2]||c,S=g||y;r.push({name:v||o++,prefix:m||"",delimiter:M,optional:A,repeat:x,partial:w,asterisk:!!b,pattern:S?u(S):b?".*":"[^"+l(M)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function s(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"===typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,i){for(var o="",s=n||{},l=(i||{}).pretty?a:encodeURIComponent,u=0;u<e.length;u++){var c=e[u];if("string"!==typeof c){var f,h=s[c.name];if(null==h){if(c.optional){c.partial&&(o+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(r(h)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=l(h[d]),!t[u].test(f))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(0===d?c.prefix:c.delimiter)+f}}else{if(f=c.asterisk?encodeURI(h).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}):l(h),!t[u].test(f))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+f+'"');o+=c.prefix+f}}else o+=c}return o}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function c(e,t){return e.keys=t,e}function f(e){return e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var u=e[s];if("string"===typeof u)a+=l(u);else{var h=l(u.prefix),d="(?:"+u.pattern+")";t.push(u),u.repeat&&(d+="(?:"+h+d+")*"),a+=d=u.optional?u.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=l(n.delimiter||"/"),m=a.slice(-p.length)===p;return i||(a=(m?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&m?"":"(?="+p+"|$)",c(new RegExp("^"+a,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return c(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(o(e,n),t,n)}(e,t,n)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return UrlViewer});var C_Users_nanma_Documents_GitHub_star_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9),C_Users_nanma_Documents_GitHub_star_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(C_Users_nanma_Documents_GitHub_star_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),react_three_fiber__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(10),three__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),drei__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(253),three_examples_jsm_controls_TrackballControls__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(109);function _typeof(e){return(_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function asyncGeneratorStep(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,i)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){asyncGeneratorStep(o,r,i,a,s,"next",e)}function s(e){asyncGeneratorStep(o,r,i,a,s,"throw",e)}a(void 0)})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _isNativeReflectConstruct(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function _wrapNativeSuper(e){var t="function"===typeof Map?new Map:void 0;return(_wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(n,e)})(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _possibleConstructorReturn(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?_assertThisInitialized(e):t}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _get(e,t,n){return(_get="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_superPropBase(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArray(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _iterableToArrayLimit(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function _unsupportedIterableToArray(e,t){if(e){if("string"===typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _createForOfIteratorHelper(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}Object(react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.e)({TrackballControls:three_examples_jsm_controls_TrackballControls__WEBPACK_IMPORTED_MODULE_5__.a});var Controls=function(e){var t=Object(react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.i)(),n=t.gl,r=t.camera,i=Object(react__WEBPACK_IMPORTED_MODULE_1__.useRef)();return Object(react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.f)(function(){return i.current.update()}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("trackballControls",_extends({ref:i,args:[r,n.domElement]},e))},DirLight=function(e){var t=e.direction,n=e.color,r=t.map(function(e){return-e}),i=Object(react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function(){return new three__WEBPACK_IMPORTED_MODULE_3__.DirectionalLight},[]);return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("primitive",{object:i,position:r,color:n}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("primitive",{object:i.target,position:[0,0,0]}))},Lighting=function(e){var t=e.backgroundColor,n=e.ambientColor,r=e.directionalLights,i=Object(react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function(){return new three__WEBPACK_IMPORTED_MODULE_3__.Color(t)},[t]);return Object(react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.f)(function(e){e.scene.background=i}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("ambientLight",{color:n}),r.map(function(e){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(DirLight,e)}))},aspectRatio=window.innerWidth/window.innerHeight,convertFOV=function(e){return e/aspectRatio*180/Math.PI},defaultLighting={backgroundColor:"#BBDAED",ambientColor:"#292929",directionalLights:[{direction:[1,-1,-1],color:"#EBEBE4"},{direction:[-1,0,0],color:"#E4E4EB"},{direction:[0,0,-1],color:"#1E1E1E"}]},defaultInitialCamera={fov:convertFOV(.75),position:[0,0,75],lookAt:[0,0,0],up:[0,1,0],far:217.46,near:.271},DesignCanvas=function(e){var t=e.lighting,n=e.camera,r=e.children,i=e.handleBackgroundClick,o=void 0===i?function(){}:i,a=n||defaultInitialCamera,s=a.fov,l=a.position,u=a.up,c=a.lookAt;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.a,{gl:{antialias:!0,alpha:!1},onPointerMissed:o},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(drei__WEBPACK_IMPORTED_MODULE_4__.a,_extends({makeDefault:!0},{fov:s,position:l,up:u}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Lighting,t||defaultLighting)),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Controls,{staticMoving:"true",rotateSpeed:6,zoomSpeed:3,panSpeed:1,target:c}),r)};function BuildPlane(e){var t=e.config,n=e.startGridHover,r=e.stopGridHover,i=t.position,o=t.quaternion,a=t.grid,s=t.color,l=t.size,u=t.field,c=_slicedToArray(Object(react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.h)(),2),f=c[0],h=c[1],d=_slicedToArray(Object(react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.h)(),2),p=d[0],m=d[1],v=u.embed(l),g=v/24,y=4*v,_=function(e){var t=u.quatTransform(o,[].concat(_toConsumableArray(e),[u.zero]));return u.vectoradd(i,t)};return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("group",{position:u.embedv(i),quaternion:u.embedv(function(e){var t=_slicedToArray(e,4),n=t[0];return[t[1],t[2],t[3],n]}(o))},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("meshLambertMaterial",{ref:p,transparent:!0,opacity:.5,color:s}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("mesh",{rotation:[Math.PI/2,0,0],material:m},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("cylinderBufferGeometry",{attach:"geometry",args:[y,y,.05,60]})),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("mesh",{material:m},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("torusBufferGeometry",{attach:"geometry",args:[y,.5,15,60]})),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("meshLambertMaterial",{ref:f,color:"black",side:three__WEBPACK_IMPORTED_MODULE_3__.DoubleSide}),a.map(function(e){var t=_slicedToArray(u.embedv(e),3),i=t[0],o=t[1],a=t[2];return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("mesh",{position:[i,o,a],key:JSON.stringify(e),material:h,onPointerOver:function(t){return function(e,t){e.stopPropagation(),n(_(t))}(t,e)},onPointerOut:function(t){return function(e,t){e.stopPropagation(),r(_(t))}(t,e)},onClick:function(t){return function(e,t){e.stopPropagation(),console.log("handle grid click: "+JSON.stringify(t))}(t,e)}},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("icosahedronBufferGeometry",{attach:"geometry",args:[g]}))}))}var computeNormal=function(e,t){var n=e[t.vertices[0]],r=e[t.vertices[1]],i=e[t.vertices[2]],o=(new three__WEBPACK_IMPORTED_MODULE_3__.Vector3).subVectors(r,n),a=(new three__WEBPACK_IMPORTED_MODULE_3__.Vector3).subVectors(i,n);return(new three__WEBPACK_IMPORTED_MODULE_3__.Vector3).crossVectors(o,a)},createGeometry=function(e){var t=e.vertices,n=e.faces,r=new three__WEBPACK_IMPORTED_MODULE_3__.Geometry;return r.vertices=t.map(function(e){return new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(e.x,e.y,e.z)}),r.faces=n.map(function(e){return new three__WEBPACK_IMPORTED_MODULE_3__.Face3(e.vertices[0],e.vertices[1],e.vertices[2],computeNormal(t,e))}),r.computeBoundingSphere(),r},Instance=function(e){var t=e.id,n=e.vectors,r=e.position,i=e.rotation,o=e.geometry,a=e.color,s=e.selected,l=e.highlightBall,u=void 0===l?function(){}:l,c=e.onClick,f=e.onHover,h=s?"#bbbbbb":u(t)?"#884444":"black";return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("group",{position:r,quaternion:i},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("mesh",{geometry:o,onPointerOver:function(e){e.stopPropagation(),f&&f(n,!0)},onPointerOut:function(e){e.stopPropagation(),f&&f(n,!1)},onClick:function(e){c&&(e.stopPropagation(),c&&c(t,n,s))}},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("meshLambertMaterial",{attach:"material",color:a,emissive:h})))},InstancedShape=function(e){var t=e.instances,n=e.shape,r=e.onClick,i=e.onHover,o=e.highlightBall,a=Object(react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function(){return createGeometry(n)},[n]);return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment,null,t.map(function(e){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Instance,_extends({key:e.id},e,{geometry:a,highlightBall:o,onClick:r,onHover:i}))}))},SortedGeometry=function(e){var t=e.sortedInstances,n=e.highlightBall,r=e.handleClick,i=e.onHover;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment,null,t.map(function(e){var t=e.shape,o=e.instances;return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(InstancedShape,{key:t.id,shape:t,instances:o,highlightBall:n,onClick:r,onHover:i})}))},ShapedGeometry=function(e){var t=e.shapes,n=e.instances,r=e.highlightBall,i=e.handleClick,o=e.onHover,a=function(e,t){return t.filter(function(t){return t.shapeId===e.id})},s=Object(react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function(){return Object.values(t).map(function(e){return{shape:e,instances:a(e,n)}})},[t,n]);return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(SortedGeometry,{sortedInstances:s,highlightBall:r,handleClick:i,onHover:o})},shapeInstance=function(e,t,n,r){var i=n[e.id];return i&&e.color===i.color?_objectSpread2(_objectSpread2({},i),{},{selected:t}):(i=_objectSpread2(_objectSpread2({},i=r(e)),{},{vectors:e.vectors}),n[e.id]=i,_objectSpread2(_objectSpread2({},i),{},{selected:t}))},MeshGeometry=function(e){var t=e.shown,n=e.selected,r=e.resolver,i=e.highlightBall,o=e.handleClick,a=e.onHover,s=Object(react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function(){return{}},[r]),l=Object(react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function(){return{}},[]);if(r){var u=r(s),c=[];return t.forEach(function(e){return c.push(shapeInstance(e,!1,l,u))}),n.forEach(function(e){return c.push(shapeInstance(e,!0,l,u))}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ShapedGeometry,{shapes:s,instances:c,highlightBall:i,handleClick:o,onHover:a})}return null},canonicalizedId=function(e){for(var t=e.map(function(e){return JSON.stringify(e)}),n=t[0],r=0,i=1;i<t.length;i++)t[i].localeCompare(n)<0&&(r=i,n=t[i]);for(var o=function(e){return t[(t.length+r+e)%t.length]},a=o(1).localeCompare(o(-1))<0?1:-1,s="",l=0;l<t.length;l++){s+=o(l*a)}return s},createInstance=function(e){return{id:canonicalizedId(e),vectors:e}},Adapter=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];_classCallCheck(this,e),this.shown=t,this.hidden=r,this.selected=n,this.groups=i}return _createClass(e,[{key:"clone",value:function(){return new e(new Map(this.shown),new Map(this.selected),new Map(this.hidden),_toConsumableArray(this.groups))}},{key:"selectAll",value:function(){var e=this.selected;this.selected=this.shown,this.shown=e}},{key:"clearSelection",value:function(){var e=this.shown;this.shown=this.selected,this.selected=e}},{key:"debugBottleneck",value:function(e){}},{key:"select",value:function(e){var t=createInstance(e).id;if(!this.selected.has(t)){var n=this.shown.get(t);if(!n)throw new Error("No shown instance to select at ".concat(t));this.shown.delete(t),this.selected.set(t,n),this.debugBottleneck(t)}}},{key:"unselect",value:function(e){var t=createInstance(e).id,n=this.selected.get(t);this.selected.delete(t),this.shown.set(t,n),this.debugBottleneck(t)}},{key:"selectionSize",value:function(){return this.selected.size}},{key:"selectedIterator",value:function(){return Array.from(this.selected.values()).map(function(e){return e.vectors}).values()}},{key:"createGroup",value:function(){if(!this.selectionIsGroup()){var e=new Set(this.selected.keys());this.groups.push(e)}}},{key:"disbandGroup",value:function(){var e=this;this.groups=this.groups.filter(function(t){return t.size!==e.selected.size||Array.from(t).some(function(t){return!e.selected.has(t)})})}},{key:"createLegacyGroup",value:function(){throw new Error("createLegacyGroup is not yet implemented")}},{key:"disbandLegacyGroup",value:function(){throw new Error("disbandLegacyGroup is not yet implemented")}},{key:"selectWithGrouping",value:function(e){var t=this,n=createInstance(e).id;if(!this.selected.has(n)){var r=this.getLargestGroup(e);if(r)r.forEach(function(e){var n=t.shown.get(e)||t.selected.get(e);t.shown.delete(e),t.selected.set(e,n),t.debugBottleneck(e)});else{var i=this.shown.get(n);if(!i)throw new Error("No shown instance to select at ".concat(n));this.shown.delete(n),this.selected.set(n,i),this.debugBottleneck(n)}}}},{key:"unselectWithGrouping",value:function(e){var t=this,n=createInstance(e).id;if(this.selected.has(n)){var r=this.getLargestGroup(e);if(r)r.forEach(function(e){var n=t.shown.get(e)||t.selected.get(e);t.selected.delete(e),t.shown.set(e,n),t.debugBottleneck(e)});else{var i=this.selected.get(n);this.selected.delete(n),this.shown.set(n,i),this.debugBottleneck(n)}}}},{key:"selectionIsGroup",value:function(){return!!this.getSelectionGroup()}},{key:"getSelectionGroup",value:function(){var e=this,t=this.selected.size;return 0!==t&&this.groups.find(function(n){return n.size===t&&Array.from(n).every(function(t){return e.selected.has(t)})})}},{key:"getLargestGroup",value:function(e){var t,n=this,r=createInstance(e).id,i=this.groups.filter(function(e){return e.has(r)});if(0===i.length)return null;var o=0;return i.map(function(e){e.size>o&&(t=e,o=e.size)}),t&&Array.from(t).map(function(e){return(n.selected.get(e)||n.shown.get(e)).vectors})}},{key:"delete",value:function(e){var t=createInstance(e).id;this.debugBottleneck(t),this.shown.delete(t),this.selected.delete(t),this.hidden.delete(t),this.groups.forEach(function(e){return e.delete(t)})}},{key:"manifestationRendered",value:function(e){var t=createInstance(e).id;return this.shown.has(t)||this.selected.has(t)}},{key:"manifestationHidden",value:function(e){var t=createInstance(e).id;return this.hidden.has(t)}},{key:"manifestationSelected",value:function(e){var t=createInstance(e).id;return this.selected.has(t)}},{key:"manifestationHasColor",value:function(e){var t=createInstance(e).id,n=this.shown.get(t)||this.selected.get(t);return n&&!!n.color}},{key:"manifestationColor",value:function(e){var t=createInstance(e).id;return(this.shown.get(t)||this.selected.get(t)).color}},{key:"setManifestationColor",value:function(e,t){var n=createInstance(e);n.color=t,this.shown.has(n.id)?this.shown.set(n.id,n):this.selected.has(n.id)&&this.selected.set(n.id,n)}},{key:"findOrCreateManifestation",value:function(e){var t=createInstance(e).id,n=this.shown.get(t)||this.hidden.get(t)||this.selected.get(t);return n?n.vectors:e}},{key:"showManifestation",value:function(e){var t=createInstance(e);this.shown.has(t.id)||this.selected.has(t.id)||(this.hidden.delete(t.id),this.shown.set(t.id,t),this.debugBottleneck(t.id))}},{key:"hideManifestation",value:function(e){var t=createInstance(e);t=this.shown.get(t.id)||this.selected.get(t.id)||this.hidden.get(t.id)||t,this.selected.delete(t.id)||this.shown.delete(t.id),this.hidden.set(t.id,t),this.debugBottleneck(t.id)}},{key:"allIterator",value:function(){var e=Array.from(this.shown.values()),t=Array.from(this.selected.values()),n=Array.from(this.hidden.values());return[].concat(_toConsumableArray(e),_toConsumableArray(t),_toConsumableArray(n)).map(function(e){return e.vectors}).values()}}]),e}(),PHI=.5*(Math.sqrt(5)+1);function grsign(e){var t=_slicedToArray(e,3),n=t[0],r=void 0===n?0:n,i=t[1],o=void 0===i?0:i,a=t[2],s=void 0===a?1:a,l=r+PHI*o;return((s>0)-(s<0))*((l>0)-(l<0))}function gcd(e,t){for(e=Math.abs(e),t=Math.abs(t);0!==t;){var n=[t,e%t];e=n[0],t=n[1]}return e}function simplify3(e,t,n){if((0|e)!==e||(0|t)!==t||(0|n)!==n)throw new TypeError("simplify3 operates only on integers.");var r=(e>0)-(e<0),i=(t>0)-(t<0),o=(n>0)-(n<0);e*=r,t*=i,n*=o,r*=o,i*=o;var a=gcd(gcd(e,t),n);return[r*e/a,i*t/a,n/a]}function reciprocal(e){var t=_slicedToArray(e,3),n=t[0],r=void 0===n?0:n,i=t[1],o=void 0===i?0:i,a=t[2],s=void 0===a?1:a;return simplify3((r+o)*s,0-o*s,r*r+r*o-o*o)}function getRandomInt(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)}function times(e,t){var n=_slicedToArray(e,3),r=n[0],i=void 0===r?0:r,o=n[1],a=void 0===o?0:o,s=n[2],l=void 0===s?1:s,u=_slicedToArray(t,3),c=u[0],f=void 0===c?0:c,h=u[1],d=void 0===h?0:h,p=u[2];return simplify3(i*f+a*d,i*d+a*f+a*d,l*(void 0===p?1:p))}function plus(e,t){var n=_slicedToArray(e,3),r=n[0],i=void 0===r?0:r,o=n[1],a=void 0===o?0:o,s=n[2],l=void 0===s?1:s,u=_slicedToArray(t,3),c=u[0],f=void 0===c?0:c,h=u[1],d=void 0===h?0:h,p=u[2],m=void 0===p?1:p;return simplify3(i*m+f*l,a*m+d*l,l*m)}function minus(e,t){var n=_slicedToArray(e,3),r=n[0],i=void 0===r?0:r,o=n[1],a=void 0===o?0:o,s=n[2],l=void 0===s?1:s,u=_slicedToArray(t,3),c=u[0],f=void 0===c?0:c,h=u[1],d=void 0===h?0:h,p=u[2],m=void 0===p?1:p;return simplify3(i*m-f*l,a*m-d*l,l*m)}function scalarmul(e,t){return _toConsumableArray(t.values()).map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0];return times(e,t)})}function negate(e){var t=_slicedToArray(e,3),n=t[0],r=void 0===n?0:n,i=t[1],o=void 0===i?0:i,a=t[2];return[0-r,0-o,void 0===a?1:a]}function vectoradd(e,t){return _toConsumableArray(e.values()).map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0],n=arguments.length>1?arguments[1]:void 0;return plus(e,t[n]||[0])})}function embed(e){var t=_slicedToArray(e,3),n=t[0],r=void 0===n?0:n,i=t[1],o=void 0===i?0:i,a=t[2];return(r+PHI*o)/(void 0===a?1:a)}function createRationalFromPairs(e){var t=_slicedToArray(e,4),n=t[0],r=void 0===n?0:n,i=t[1],o=void 0===i?1:i,a=t[2],s=void 0===a?0:a,l=t[3],u=void 0===l?1:l;return simplify3(r*u,s*o,o*u)}function quatmul(e,t){var n=times,r=plus,i=minus,o=_slicedToArray(e,4),a=o[0],s=void 0===a?[0]:a,l=o[1],u=void 0===l?[0]:l,c=o[2],f=void 0===c?[0]:c,h=o[3],d=void 0===h?[0]:h,p=_slicedToArray(t,4),m=p[0],v=void 0===m?[0]:m,g=p[1],y=void 0===g?[0]:g,_=p[2],b=void 0===_?[0]:_,w=p[3],x=void 0===w?[0]:w;return[i(n(s,v),r(r(n(u,y),n(f,b)),n(d,x))),r(r(n(s,y),n(u,v)),i(n(f,x),n(d,b))),r(r(n(s,b),n(f,v)),i(n(d,y),n(u,x))),r(r(n(s,x),n(d,v)),i(n(u,b),n(f,y)))]}function quatconj(e){var t=_slicedToArray(e,4),n=t[0],r=void 0===n?[0]:n,i=t[1],o=void 0===i?[0]:i,a=t[2],s=void 0===a?[0]:a,l=t[3],u=void 0===l?[0]:l;return[r,negate(o),negate(s),negate(u)]}function quatTransform(e,t){return quatmul(e,quatmul([[0]].concat(t),quatconj(e))).slice(1)}function quatnormalize(e){return scalarmul([e.map(grsign).reduce(function(e,t){return e||t})||1],e)}for(var one=[[1],[0],[0],[0]],h=[1,0,2],blue=[one,[[0],[1],[0],[0]],[[0],[0],[0],[1]],[[0],[0],[1],[0]]],yellow=[one,[h,h,h,h],[[-1,0,2],h,h,h]],red=[one,[[0,1,2],h,[-1,1,2]]],i=2;i<5;i++)red[i]=quatmul(red[i-1],red[1]);for(var vZomeIcosahedralQuaternions=[],b,r,y,_i=0,_blue=blue;_i<_blue.length;_i++){b=_blue[_i];var _iterator=_createForOfIteratorHelper(red),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){r=_step.value;var _iterator2=_createForOfIteratorHelper(yellow),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;)y=_step2.value,vZomeIcosahedralQuaternions.push(quatnormalize(quatmul(b,quatmul(y,r))))}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}}catch(err){_iterator.e(err)}finally{_iterator.f()}}var replacement=function(e){return"1"===e?["\u03c6"]:["1","\u03c6"]},symbolSequence=function(e){for(var t=["1"],n=0;n<e;n++)t=t.reduce(function(e,t){return[].concat(_toConsumableArray(e),_toConsumableArray(replacement(t)))},[]);return t},goldenSequence=function(e){return symbolSequence(e).map(function(e){return"1"===e?[1,0,1]:[0,1,1]})},goldenSeries=function(e){return goldenSequence(e).reduce(function(e,t){return e.length>0&&(t=plus(t,e[e.length-1])),e.push(t),e},[])},origin=function(e){for(var t=[],n=0;n<e;n++)t.push([0,0,1]);return t},goldenField={name:"golden",order:2,zero:[0,0,1],one:[1,0,1],goldenRatio:[0,1,1],quaternions:vZomeIcosahedralQuaternions,goldenSeries:goldenSeries,origin:origin,plus:plus,minus:minus,times:times,scalarmul:scalarmul,vectoradd:vectoradd,embed:embed,reciprocal:reciprocal,negate:negate,createRationalFromPairs:createRationalFromPairs,quatTransform:quatTransform,embedv:function(e){return e.map(embed)},createRational:function(e,t){return simplify3(e,0,t)},randomVector:function(){return[[getRandomInt(-12,12),0,1],[getRandomInt(-12,12),0,1],[getRandomInt(-12,12),0,1]]}},JavaDomNodeList=function(){function e(t){_classCallCheck(this,e),this.nativeNodeList=t,this.__interfaces=["org.w3c.dom.NodeList"]}return _createClass(e,[{key:"getLength",value:function(){return this.nativeNodeList.length}},{key:"item",value:function(e){var t=this.nativeNodeList.item(e);return 1===t.nodeType?new JavaDomElement(t):t}}]),e}(),JavaDomElement=function(){function e(t){_classCallCheck(this,e),this.nativeElement=t,this.__interfaces=["org.w3c.dom.Element"]}return _createClass(e,[{key:"getAttribute",value:function(e){return this.nativeElement.getAttribute&&this.nativeElement.getAttribute(e)}},{key:"getLocalName",value:function(){return this.nativeElement.localName}},{key:"getTextContent",value:function(){return this.nativeElement.textContent}},{key:"getChildNodes",value:function(){return new JavaDomNodeList(this.nativeElement.childNodes)}},{key:"getChildElement",value:function(t){for(var n=this.nativeElement.firstElementChild;n&&t.toLowerCase()!==n.nodeName.toLowerCase();)n=n.nextElementSibling;return n&&new e(n)}},{key:"getElementsByTagName",value:function(t){for(var n=this.nativeElement.firstElementChild,r=[];n;)t.toLowerCase()===n.nodeName.toLowerCase()&&r.push(new e(n)),n=n.nextElementSibling;return{getLength:function(){return r.length},item:function(e){return r[e]}}}}]),e}(),JsProperties=function(){function e(t){_classCallCheck(this,e),this.config=t}return _createClass(e,[{key:"getProperty",value:function(e){return this.config[e]}},{key:"get",value:function(e){return this.config[e]}}]),e}(),connectorUrl="data:null;base64,dlpvbWUgVkVGIDYgZmllbGQgZ29sZGVuCgo2MAooMCwwKSAoMS8yLC0xLzIpICgtMS8yLDApICgxLC0xKQooMCwwKSAoMS8yLDApICgtMSwxKSAoMS8yLC0xLzIpCigwLDApICgxLC0xKSAoLTEvMiwxLzIpICgxLzIsMCkKKDAsMCkgKDAsMSkgKDEvMiwtMS8yKSAoLTEvMiwxKQooMCwwKSAoMS8yLDApICgxLC0xKSAoMS8yLC0xLzIpCigwLDApICgxLC0xKSAoMS8yLC0xLzIpICgxLzIsMCkKKDAsMCkgKDEvMiwwKSAoMCwwKSAoLTEvMiwzLzIpCigwLDApICgtMS8yLDEpICgwLC0xKSAoMS8yLC0xLzIpCigwLDApICgxLzIsLTEpICgwLC0xKSAoMS8yLC0xLzIpCigwLDApICgxLzIsLTEpICgwLC0xKSAoLTEvMiwxLzIpCigwLDApICgtMS8yLDEpICgwLC0xKSAoLTEvMiwxLzIpCigwLDApICgwLDEpICgtMS8yLDEvMikgKDEvMiwtMSkKKDAsMCkgKDEvMiwwKSAoLTEsMSkgKC0xLzIsMS8yKQooMCwwKSAoMSwtMSkgKC0xLzIsMS8yKSAoLTEvMiwwKQooMCwwKSAoMS8yLDApICgwLDApICgxLzIsLTMvMikKKDAsMCkgKDAsMCkgKC0xLzIsMy8yKSAoLTEvMiwwKQooMCwwKSAoMS8yLC0xLzIpICgxLzIsMCkgKC0xLDEpCigwLDApICgxLC0xKSAoMS8yLC0xLzIpICgtMS8yLDApCigwLDApICgxLzIsLTEvMikgKC0xLzIsMSkgKDAsLTEpCigwLDApICgwLDEpICgxLzIsLTEvMikgKDEvMiwtMSkKKDAsMCkgKC0xLzIsMS8yKSAoLTEvMiwwKSAoMSwtMSkKKDAsMCkgKDAsMCkgKDEvMiwtMy8yKSAoMS8yLDApCigwLDApICgxLzIsMCkgKDEsLTEpICgtMS8yLDEvMikKKDAsMCkgKC0xLzIsMy8yKSAoMS8yLDApICgwLDApCigwLDApICgxLzIsLTMvMikgKDEvMiwwKSAoMCwwKQooMCwwKSAoLTEvMiwwKSAoMSwtMSkgKDEvMiwtMS8yKQooMCwwKSAoLTEvMiwxLzIpICgxLzIsMCkgKDEsLTEpCigwLDApICgxLzIsLTEpICgwLDEpICgxLzIsLTEvMikKKDAsMCkgKDEvMiwtMS8yKSAoMS8yLC0xKSAoMCwtMSkKKDAsMCkgKC0xLzIsMSkgKDAsMSkgKDEvMiwtMS8yKQooMCwwKSAoMS8yLC0xLzIpICgxLzIsMCkgKDEsLTEpCigwLDApICgtMS8yLDApICgtMSwxKSAoMS8yLC0xLzIpCigwLDApICgxLzIsLTMvMikgKC0xLzIsMCkgKDAsMCkKKDAsMCkgKDAsMCkgKC0xLzIsMy8yKSAoMS8yLDApCigwLDApICgxLzIsLTEvMikgKC0xLzIsMCkgKC0xLDEpCigwLDApICgwLDApICgxLzIsLTMvMikgKC0xLzIsMCkKKDAsMCkgKDAsLTEpICgxLzIsLTEvMikgKC0xLzIsMSkKKDAsMCkgKC0xLzIsMCkgKDAsMCkgKC0xLzIsMy8yKQooMCwwKSAoLTEsMSkgKDEvMiwtMS8yKSAoMS8yLDApCigwLDApICgwLDEpICgtMS8yLDEvMikgKC0xLzIsMSkKKDAsMCkgKC0xLzIsMS8yKSAoLTEvMiwwKSAoLTEsMSkKKDAsMCkgKDAsLTEpICgxLzIsLTEvMikgKDEvMiwtMSkKKDAsMCkgKDAsLTEpICgtMS8yLDEvMikgKDEvMiwtMSkKKDAsMCkgKDAsLTEpICgtMS8yLDEvMikgKC0xLzIsMSkKKDAsMCkgKC0xLzIsMSkgKDAsMSkgKC0xLzIsMS8yKQooMCwwKSAoLTEvMiwwKSAoMSwtMSkgKC0xLzIsMS8yKQooMCwwKSAoMS8yLC0xKSAoMCwxKSAoLTEvMiwxLzIpCigwLDApICgtMS8yLDEvMikgKDEvMiwwKSAoLTEsMSkKKDAsMCkgKC0xLDEpICgtMS8yLDEvMikgKDEvMiwwKQooMCwwKSAoMS8yLC0xLzIpICgtMS8yLDEpICgwLDEpCigwLDApICgtMS8yLDEvMikgKC0xLzIsMSkgKDAsLTEpCigwLDApICgtMS8yLDEvMikgKC0xLzIsMSkgKDAsMSkKKDAsMCkgKC0xLzIsMS8yKSAoMS8yLC0xKSAoMCwxKQooMCwwKSAoMS8yLC0xLzIpICgxLzIsLTEpICgwLDEpCigwLDApICgtMS8yLDMvMikgKC0xLzIsMCkgKDAsMCkKKDAsMCkgKC0xLzIsMCkgKDAsMCkgKDEvMiwtMy8yKQooMCwwKSAoLTEsMSkgKC0xLzIsMS8yKSAoLTEvMiwwKQooMCwwKSAoLTEvMiwxLzIpICgxLzIsLTEpICgwLC0xKQooMCwwKSAoLTEsMSkgKDEvMiwtMS8yKSAoLTEvMiwwKQooMCwwKSAoLTEvMiwwKSAoLTEsMSkgKC0xLzIsMS8yKQoKCgowCgoKCjYyCjMgMCAxIDIKNCAzIDQgNSA2CjQgNyA4IDkgMTAKNCAxMSAxMiAxMyAxNAo0IDE1IDE2IDE3IDE4CjMgMTEgMTQgMTkKNSAyMCA4IDcgMCAyMQo1IDE5IDIyIDIzIDQgMwo0IDI0IDI1IDI2IDI3CjUgMTMgMjggMTggMTcgMTQKNCAyOSAzMCA0IDIzCjQgOCAyMCAzMSAzMgo1IDI3IDI2IDMzIDMwIDI5CjQgMjggMTMgMzQgMzUKNCAyNSAzNiAzNyAzOAozIDM5IDMgNgo1IDkgNDAgMzUgMzQgMTAKNCAzNiA0MSA0MiA0MwozIDQ0IDI5IDIzCjUgNDUgNDEgMzYgMjUgMjQKNCA0NiA0NyA0NSAyNAozIDIwIDQ4IDMxCjQgNDkgNSAzMCAzMwozIDUwIDE1IDE4CjQgNTEgNTIgNTMgNDkKNCAxIDM5IDYgMgozIDUxIDQ5IDMzCjUgMTUgNDcgNDYgNDQgMTYKMyAzNCAxMyAxMgo0IDQ0IDQ2IDI3IDI5CjMgMzAgNSA0CjMgNyAxMCA1NAo1IDUzIDIgNiA1IDQ5CjMgNDEgNTUgNDIKNCA1NiA1NyAzNSA0MAo0IDU3IDUwIDE4IDI4CjUgNTUgNTggNTAgNTcgNTYKNCAwIDcgNTQgMQo0IDUwIDU4IDQ3IDE1CjMgNDYgMjQgMjcKMyA1MiAyMSA1MwozIDQ3IDU4IDQ1CjQgMTAgMzQgMTIgNTQKNCAzOSAxMSAxOSAzCjUgMzcgNDggNTIgNTEgMzgKNCAxNCAxNyAyMiAxOQo0IDE2IDQ0IDIzIDIyCjQgMzIgNTkgNDAgOQo0IDM4IDUxIDMzIDI2CjQgMjEgMCAyIDUzCjQgNDEgNDUgNTggNTUKMyA4IDMyIDkKMyAxNyAxNiAyMgozIDU3IDI4IDM1CjMgNTkgNTYgNDAKMyAyNSAzOCAyNgo0IDUyIDQ4IDIwIDIxCjQgNTUgNTYgNTkgNDIKNCA0MyAzMSA0OCAzNwo1IDMxIDQzIDQyIDU5IDMyCjMgMzYgNDMgMzcKNSA1NCAxMiAxMSAzOSAxCgoKCjAKCgo=",blueUrl="data:null;base64,dlpvbWUgVkVGIDYgZmllbGQgZ29sZGVuCmFjdHVhbApzY2FsZSAoMS8yLDApCgo5CigwLDApICAoMCw0KSAgKC0xLDIpICAoMiwtMykgCigwLDApICAoMCw0KSAgKC0xLDIpICAoLTIsMykgCigwLDApICAoMiwtMikgICgtMSwyKSAgKC0yLDMpIAooMCwwKSAgKDIsLTIpICAoLTEsMikgICgyLC0zKSAKKDAsMCkgICgwLDQpICAoMSwtMikgICgyLC0zKSAKKDAsMCkgICgyLC0yKSAgKDEsLTIpICAoMiwtMykgCigwLDApICAoMiwtMikgICgxLC0yKSAgKC0yLDMpIAooMCwwKSAgKDAsNCkgICgxLC0yKSAgKC0yLDMpIAooMCwwKSAgKDIsMikgICgwLDApICAoMCwwKSAKCgoKMAoKCgo0CjQgMCAxIDIgMwo0IDUgNiA3IDQKNCA1IDQgMCAzCjQgMSA3IDYgMgoKCgo1CiA0IDAgMSA4IDcKCgp0aXAgOAo=",yellowUrl="data:null;base64,dlpvbWUgVkVGIDYgZmllbGQgZ29sZGVuCgoxMwooMCwwKSAoLTEvMiwxKSAoMCwxKSAoMS8yLC0xLzIpCigwLDApICgtMS8yLDMvMikgKDEvMiwwKSAoMCwwKQooMCwwKSAoMS8yLDApICgxLC0xLzIpICgwLDApCigwLDApICgxLzIsLTEvMikgKDEvMiwxLzIpICgxLzIsLTEvMikKKDAsMCkgKDMvMiwtMSkgKDIsMCkgKDEvMiwtMS8yKQooMCwwKSAoLTEvMiwxKSAoMCwxKSAoLTEvMiwxLzIpCigwLDApICgxLzIsLTEvMikgKDEvMiwxLzIpICgtMS8yLDEvMikKKDAsMCkgKDEvMiwxLzIpICgzLzIsMS8yKSAoMS8yLC0xLzIpCigwLDApICgxLzIsMS8yKSAoMy8yLDEvMikgKC0xLzIsMS8yKQooMCwwKSAoMSwwKSAoMiwxKSAoMCwwKQooMCwwKSAoMS8yLDApICgxLDMvMikgKDAsMCkKKDAsMCkgKDMvMiwtMSkgKDIsMCkgKC0xLzIsMS8yKQooMCwwKSAoMy8yLC0zLzIpICgzLzIsMSkgKDAsMCkKCgoKMAoKCgoxMgo0IDAgMSAyIDMKNCA1IDAgMyA2CjMgMyAyIDcKMyAyIDYgOAozIDYgMyAxMAo0IDEwIDcgNCAxMgo0IDEgNSA2IDIKNCA3IDggMTEgNAozIDEwIDggNgo0IDggMTAgMTIgMTEKMyA4IDcgMgozIDcgMTAgMwoKCgo0CiA0IDkgMTEgMTIKCnRpcCA5Cm1pZGRsZSAxMCA4IDYgNyAyIDM=",redUrl="data:null;base64,dlpvbWUgVkVGIDYgZmllbGQgZ29sZGVuCgoyMQooMCwwKSAoLTEvMiwxLzIpICgzLzIsMSkgKC0yLDEpCigwLDApICgtMS8yLDEvMikgKDUvMiwxKSAoMCwtMykKKDAsMCkgKDEvMiwtMSkgKDMsMCkgKC0xLzIsLTUvMikKKDAsMCkgKDEvMiwtMS8yKSAoMS8yLDApICgtMSwxKQooMCwwKSAoMCwwKSAoLTEvMiwzLzIpICgtMS8yLDApCigwLDApICgwLDApICgxLzIsNS8yKSAoLTMvMiwwKQooMCwwKSAoMS8yLC0xLzIpICgzLzIsMSkgKC0yLDEpCigwLDApICgtMS8yLDEvMikgKDcvMiwyKSAoLTEsLTMpCigwLDApICgxLzIsLTEpICgxLDIpICgtMy8yLDEvMikKKDAsMCkgKC0xLzIsMSkgKDEsMikgKC0zLzIsMS8yKQooMCwwKSAoMCwwKSAoNy8yLC0xLzIpICgtMS8yLC0yKQooMCwwKSAoMS8yLC0xLzIpICg1LzIsMSkgKDAsLTMpCigwLDApICgwLDApICg5LzIsMS8yKSAoLTMvMiwtMikKKDAsMCkgKDEvMiwtMSkgKDAsMSkgKC0xLzIsMS8yKQooMCwwKSAoLTEvMiwxKSAoMCwxKSAoLTEvMiwxLzIpCigwLDApICgtMS8yLDEvMikgKDEvMiwwKSAoLTEsMSkKKDAsMCkgKDEvMiwtMSkgKDQsMSkgKC0zLzIsLTUvMikKKDAsMCkgKDEvMiwtMS8yKSAoNy8yLDIpICgtMSwtMykKKDAsMCkgKC0xLzIsMSkgKDQsMSkgKC0zLzIsLTUvMikKKDAsMCkgKDAsMCkgKDQsMikgKC0yLC0yKQooMCwwKSAoLTEvMiwxKSAoMywwKSAoLTEvMiwtNS8yKQoKCgowCgoKCjIwCjMgMCAxIDIKNCAzIDQgNSA2CjMgOCA5IDEwCjMgOSAxMSAxMAo0IDEzIDE0IDkgOAo0IDQgMTUgMCA1CjQgMiAxIDcgMTYKMyAwIDggMQo0IDE0IDMgNiA5CjMgOCAxMCAxCjMgOSA2IDExCjMgNSAwIDIKNCAxMSAyMCAxOCAxNwo0IDIwIDIgMTYgMTgKMyA2IDUgMjAKNCAxIDEwIDEyIDcKMyA2IDIwIDExCjQgMTUgMTMgOCAwCjQgMTAgMTEgMTcgMTIKMyA1IDIgMjAKCgoKNgogNyAxMiAxNyAxOCAxOSAxNgoKdGlwIDE5CgptaWRkbGUgOSAxMSAxMCAwIDggMSA1IDIgMjAgNg==",greenUrl="data:null;base64,dlpvbWUgVkVGIDYgZmllbGQgZ29sZGVuCnNjYWxlICgxLzIsMCkKCjE5CigwLDApICAoLTIsNykgICgwLDApICAoLTEsNSkgCigwLDApICAoMywwKSAgKC0yLDMpICAoMCw0KSAKKDAsMCkgICgtNCwxMCkgICgxLC0yKSAgKC00LDEwKSAKKDAsMCkgICgtNCwxMCkgICgtMSwyKSAgKC00LDEwKSAKKDAsMCkgICgtNiwxMykgICgwLDApICAoLTcsMTUpIAooMCwwKSAgKC0xLDIpICAoLTIsMykgICgyLC0yKSAKKDAsMCkgICgtMiw0KSAgKDEsLTIpICAoMCwxKSAKKDAsMCkgICg2LC04KSAgKDEsLTIpICAoNiwtOCkgCigwLDApICAoNCwtMikgICgtMSwyKSAgKDIsMSkgCigwLDApICAoMywwKSAgKDIsLTMpICAoMCw0KSAKKDAsMCkgICg0LC0yKSAgKDEsLTIpICAoMiwxKSAKKDAsMCkgICgyLDEpICAoMCwwKSAgKC0xLDYpIAooMCwwKSAgKDQsLTUpICAoMCwwKSAgKDMsLTMpIAooMCwwKSAgKC0xLDIpICAoMiwtMykgICgyLC0yKSAKKDAsMCkgICg4LC0xMSkgICgwLDApICAoOSwtMTMpIAooMCwwKSAgKDYsLTgpICAoLTEsMikgICg2LC04KSAKKDAsMCkgICgtMiw0KSAgKC0xLDIpICAoMCwxKSAKKDAsMCkgICgwLDEpICAoMCwwKSAgKDMsLTQpIAooMCwwKSAgKDIsMikgICgwLDApICAoMiwyKSAKCgoKMAoKCgoxOAozIDAgMSAyCjMgNSA2IDcKMyAzIDggOQo0IDQgMiAxMCAxMQo0IDEyIDcgMiA0CjMgMTMgNSAxMgo0IDcgMTQgMCAyCjQgMTQgMTUgMyAwCjQgMTUgMTIgNCAzCjMgMSAxMCAyCjMgOSAwIDMKMyA5IDEgMAozIDE2IDEzIDE1CjMgMTMgMTIgMTUKNCA2IDE3IDE0IDcKNCAzIDQgMTEgOAozIDUgNyAxMgo0IDE3IDE2IDE1IDE0CgoKCjEwCiAwIDMgNCAxIDkgMTEgMiAxMCAxOCA4Cgp0aXAgMTgK",shapes={connector:connectorUrl,blue:blueUrl,yellow:yellowUrl,red:redUrl,green:greenUrl},connectorUrl$1="data:null;base64,dlpvbWUgVkVGIDYgZmllbGQgZ29sZGVuCgo2MDAKKDAsMCkgKC0yLDUvMikgKC0xLzIsMy8yKSAoMCwwKQooMCwwKSAoLTMvMiwyKSAoMCwxLzIpICgwLDApCigwLDApICgwLC0xLzIpICgtMSwyKSAoLTEvMiwxKQooMCwwKSAoLTEvMiwwKSAoLTMvMiwzKSAoLTEvMiwxKQooMCwwKSAoMiwtNS8yKSAoMS8yLC0zLzIpICgwLDApCigwLDApICgyNS8yLC0zOS8yKSAoLTE3LzIsMTMpICgwLDApCigwLDApICgtMTAsMTcpICgxMS8yLC0xOS8yKSAoMTcvMiwtMTQpCigwLDApICgxLzIsMCkgKDMvMiwtMykgKDEvMiwtMSkKKDAsMCkgKC0zLzIsMykgKDEvMiwtMSkgKC0xLzIsMCkKKDAsMCkgKC0xLDIpICgxLzIsLTEpICgwLC0xLzIpCigwLDApICgwLDEvMikgKDAsMCkgKC0zLzIsMikKKDAsMCkgKC0xLzIsMy8yKSAoMCwwKSAoLTIsNS8yKQooMCwwKSAoLTEzLDIyKSAoLTEvMiwxKSAoLTEsMy8yKQooMCwwKSAoMSwtMSkgKC0xLzIsMSkgKC0xLDMvMikKKDAsMCkgKDEsLTEpICgxLzIsLTEpICgtMSwzLzIpCigwLDApICgtMTMsMjIpICgxLzIsLTEpICgtMSwzLzIpCigwLDApICgtMS8yLDApICgxLC0xKSAoLTEvMiwxLzIpCigwLDApICgtMTMvNCw5LzIpICgtOS80LDE3LzQpICgtMSw1LzQpCigwLDApICg5LzQsLTE3LzQpICgxLC01LzQpICgtMTMvNCw5LzIpCigwLDApICgtMSwxKSAoMS8yLC0xLzIpICgtMS8yLDApCigwLDApICgxLzIsLTEpICgxLzIsMCkgKDMvMiwtMykKKDAsMCkgKDE3LzIsLTE0KSAoLTEwLDE3KSAoMTEvMiwtMTkvMikKKDAsMCkgKC0xNCw0NS8yKSAoNCwtMTEvMikgKC0zLDkvMikKKDAsMCkgKC0xLDMvMikgKDMvMiwtMy8yKSAoMSwtMikKKDAsMCkgKC0xLDMvMikgKDEzLC0yMikgKC0xLzIsMSkKKDAsMCkgKDEsLTMvMikgKDEzLC0yMikgKC0xLzIsMSkKKDAsMCkgKDE1LzIsLTEyKSAoMCwtMSkgKC05LzIsMTUvMikKKDAsMCkgKC0xNS8yLDEyKSAoMCwtMSkgKC05LzIsMTUvMikKKDAsMCkgKDEvMiwtMy8yKSAoMy8yLC0zKSAoLTEsMikKKDAsMCkgKDAsLTEvMikgKDEsLTIpICgtMS8yLDEpCigwLDApICgxLC0yKSAoMS8yLC0xKSAoMCwxLzIpCigwLDApICgzLzIsLTMpICgxLC0yKSAoLTEvMiwzLzIpCigwLDApICgtMTMsMjIpICgtMS8yLDEpICgxLC0zLzIpCigwLDApICgwLDEpICgtOS8yLDE1LzIpICgtMTUvMiwxMikKKDAsMCkgKDAsMSkgKC05LzIsMTUvMikgKDE1LzIsLTEyKQooMCwwKSAoMCwtMSkgKC0xLzIsMS8yKSAoLTEvMiwxKQooMCwwKSAoLTIsOS80KSAoMTMvNCwtMTEvMikgKC01LzQsOS80KQooMCwwKSAoLTIsOS80KSAoLTEzLzQsMTEvMikgKC01LzQsOS80KQooMCwwKSAoMCwtMSkgKDEvMiwtMS8yKSAoLTEvMiwxKQooMCwwKSAoLTExLDM1LzIpICgtNiwxMCkgKDExLzIsLTgpCigwLDApICgtMjEvMiwzMy8yKSAoLTE1LzIsMjUvMikgKDkvMiwtMTMvMikKKDAsMCkgKDQsLTcpICgtMTUvMiwyNS8yKSAoMS8yLDApCigwLDApICgtMS8yLDEvMikgKDkvMiwtNykgKDgsLTEyKQooMCwwKSAoMSwtMikgKC0xLzIsMy8yKSAoLTMvMiwzKQooMCwwKSAoMS8yLC0xKSAoMCwxLzIpICgtMSwyKQooMCwwKSAoMSwtMikgKC0xLzIsMSkgKDAsMS8yKQooMCwwKSAoMy8yLC0zKSAoLTEsMikgKC0xLzIsMy8yKQooMCwwKSAoMS8yLC0xKSAoMCwxLzIpICgxLC0yKQooMCwwKSAoMCwwKSAoMy8yLC0yKSAoMCwtMS8yKQooMCwwKSAoMCwwKSAoMiwtNS8yKSAoMS8yLC0zLzIpCigwLDApICgtMS8yLDApICg1LC04KSAoMTUvMiwtMjMvMikKKDAsMCkgKC05LzIsMTMvMikgKDIzLzIsLTM3LzIpICgtMTEvMiwxOS8yKQooMCwwKSAoLTExLzIsOCkgKDExLC0zNS8yKSAoLTYsMTApCigwLDApICgtOCwxMikgKDEvMiwtMS8yKSAoOS8yLC03KQooMCwwKSAoMCwwKSAoNS8yLC03LzIpICgxLzIsMCkKKDAsMCkgKDAsMCkgKDMvMiwtMikgKDAsMS8yKQooMCwwKSAoLTEvMiwxKSAoMSwtMy8yKSAoMSwtMSkKKDAsMCkgKC0xLzIsMSkgKDIsLTMpICgzLzIsLTMvMikKKDAsMCkgKC0xLzIsMSkgKC0xLzIsMCkgKC0zLzIsMykKKDAsMCkgKC0xLzIsMSkgKDAsLTEvMikgKC0xLDIpCigwLDApICgxLC0zLzIpICgtMSwxKSAoLTEvMiwxKQooMCwwKSAoMSwtMy8yKSAoLTMvMiwzLzIpICgtMSwyKQooMCwwKSAoLTcsMTIpICgxLzIsLTEvMikgKC05LzIsOCkKKDAsMCkgKDcvMiwtNSkgKDExLC0zNS8yKSAoLTcsMTIpCigwLDApICg5LzIsLTEzLzIpICgyMS8yLC0zMy8yKSAoLTE1LzIsMjUvMikKKDAsMCkgKDEvMiwwKSAoLTQsNykgKC0xNS8yLDI1LzIpCigwLDApICgtNywxMikgKC03LzIsNSkgKC0xMSwzNS8yKQooMCwwKSAoMCwxLzIpICgxLC0yKSAoMS8yLC0xKQooMCwwKSAoLTEvMiwxKSAoMCwtMS8yKSAoMSwtMikKKDAsMCkgKC0xNS8yLDI1LzIpICgtOS8yLDEzLzIpICgtMjEvMiwzMy8yKQooMCwwKSAoMS8yLC0xKSAoMS8yLDApICgtMy8yLDMpCigwLDApICgxNy8yLC0xNCkgKC0xMCwxNykgKC0xMS8yLDE5LzIpCigwLDApICgwLDApICgyNS8yLC0zOS8yKSAoMTcvMiwtMTMpCigwLDApICgwLDApICgyLC01LzIpICgtMS8yLDMvMikKKDAsMCkgKDE1LzIsLTEyKSAoMCwxKSAoLTkvMiwxNS8yKQooMCwwKSAoLTE1LzIsMTIpICgwLDEpICgtOS8yLDE1LzIpCigwLDApICgxLzIsLTEpICgwLDEpICgxLzIsLTEvMikKKDAsMCkgKC0xLzIsMSkgKDAsMSkgKDEvMiwtMS8yKQooMCwwKSAoMCwwKSAoLTEvMiwzLzIpICgtMS8yLDApCigwLDApICg1LC04KSAoMTUvMiwtMjMvMikgKC0xLzIsMCkKKDAsMCkgKDEvMiwtMS8yKSAoOS8yLC03KSAoLTgsMTIpCigwLDApICgxLzIsLTEvMikgKC0xLzIsMSkgKDAsLTEpCigwLDApICgwLDEpICgxLzIsLTEvMikgKC0xLzIsMSkKKDAsMCkgKDgsLTEyKSAoMS8yLC0xLzIpICg5LzIsLTcpCigwLDApICgxLzIsMCkgKDUsLTgpICgxNS8yLC0yMy8yKQooMCwwKSAoMS8yLDApICgwLDApICgtMS8yLDMvMikKKDAsMCkgKDEzLC0yMikgKC0xLzIsMSkgKC0xLDMvMikKKDAsMCkgKDEzLC0yMikgKC0xLzIsMSkgKDEsLTMvMikKKDAsMCkgKDAsLTEpICgtOS8yLDE1LzIpICgxNS8yLC0xMikKKDAsMCkgKDAsLTEpICgtOS8yLDE1LzIpICgtMTUvMiwxMikKKDAsMCkgKDEzLC0yMikgKDEvMiwtMSkgKDEsLTMvMikKKDAsMCkgKDAsLTEpICg5LzIsLTE1LzIpICgxNS8yLC0xMikKKDAsMCkgKC05LzIsMTUvMikgKDE1LzIsLTEyKSAoMCwtMSkKKDAsMCkgKDkvMiwtMTUvMikgKDE1LzIsLTEyKSAoMCwtMSkKKDAsMCkgKC0xLzIsMS8yKSAoLTEvMiwxKSAoMCwtMSkKKDAsMCkgKDIxLzIsLTMzLzIpICgxNS8yLC0yNS8yKSAoLTkvMiwxMy8yKQooMCwwKSAoMTEsLTM1LzIpICg2LC0xMCkgKC0xMS8yLDgpCigwLDApICgxLzIsLTEvMikgKC05LzIsNykgKC04LDEyKQooMCwwKSAoLTQsNykgKDE1LzIsLTI1LzIpICgtMS8yLDApCigwLDApICgyMS8yLC0zMy8yKSAoLTE1LzIsMjUvMikgKDkvMiwtMTMvMikKKDAsMCkgKDExLC0zNS8yKSAoLTYsMTApICgxMS8yLC04KQooMCwwKSAoMS8yLC0xLzIpICg5LzIsLTcpICg4LC0xMikKKDAsMCkgKC00LDcpICgtMTUvMiwyNS8yKSAoMS8yLDApCigwLDApICgtMSwxKSAoLTEvMiwxKSAoMSwtMy8yKQooMCwwKSAoLTkvMiwxMy8yKSAoMjEvMiwtMzMvMikgKC0xNS8yLDI1LzIpCigwLDApICgxMS8yLC0xOS8yKSAoOS8yLC0xMy8yKSAoMjMvMiwtMzcvMikKKDAsMCkgKDcsLTEyKSAoNy8yLC01KSAoMTEsLTM1LzIpCigwLDApICgxLzIsMCkgKC0xLDEpICgtMS8yLDEvMikKKDAsMCkgKC05LzIsOCkgKDcsLTEyKSAoLTEvMiwxLzIpCigwLDApICgtMTUvMiwyNS8yKSAoLTEvMiwwKSAoNCwtNykKKDAsMCkgKDEvMiwtMS8yKSAoLTEvMiwwKSAoLTEsMSkKKDAsMCkgKC0xLDIpICgxLC0zLzIpICgzLzIsLTMvMikKKDAsMCkgKC0xLDIpICgtMS8yLDEpICgwLDEvMikKKDAsMCkgKC0zLzIsMykgKC0xLzIsMSkgKDEvMiwwKQooMCwwKSAoMCwwKSAoMS8yLC0zLzIpICgxLzIsMCkKKDAsMCkgKDAsMCkgKC0xLDEpICgtNy8yLDEzLzIpCigwLDApICgxMy80LC0xMS8yKSAoNS80LC05LzQpICgyLC05LzQpCigwLDApICgtMS8yLDEvMikgKDEvMiwtMSkgKDAsMSkKKDAsMCkgKC0xLzIsMSkgKDEsLTMvMikgKDEzLC0yMikKKDAsMCkgKC0xLzIsMSkgKDEsLTMvMikgKC0xLDEpCigwLDApICgxLzIsLTEpICgxLC0zLzIpICgtMSwxKQooMCwwKSAoMS8yLC0xKSAoMSwtMy8yKSAoMTMsLTIyKQooMCwwKSAoLTMvMiwzKSAoMS8yLC0xKSAoMS8yLDApCigwLDApICgtMSwyKSAoMS8yLC0xKSAoMCwxLzIpCigwLDApICgtMS8yLDEpICgtMSwzLzIpICgxLC0xKQooMCwwKSAoLTEsMikgKC0xLDMvMikgKDMvMiwtMy8yKQooMCwwKSAoLTMvMiwzLzIpICgtMS8yLDEpICgyLC0zKQooMCwwKSAoLTEvMiwwKSAoMCwwKSAoNS8yLC03LzIpCigwLDApICg3LzIsLTEzLzIpICgwLDApICgxLC0xKQooMCwwKSAoMCwtMSkgKC0xLzIsMS8yKSAoMS8yLC0xKQooMCwwKSAoLTIsOS80KSAoMTMvNCwtMTEvMikgKDUvNCwtOS80KQooMCwwKSAoNy8yLC0xMy8yKSAoMCwwKSAoLTEsMSkKKDAsMCkgKC0xLzIsMCkgKDAsMCkgKDEvMiwtMy8yKQooMCwwKSAoOS8yLC04KSAoLTcsMTIpICgtMS8yLDEvMikKKDAsMCkgKDE1LzIsLTI1LzIpICgxLzIsMCkgKDQsLTcpCigwLDApICgtMS8yLDEvMikgKDEvMiwwKSAoLTEsMSkKKDAsMCkgKDEvMiwwKSAoLTMvMiwzKSAoMS8yLC0xKQooMCwwKSAoLTEwLDE3KSAoLTExLzIsMTkvMikgKDE3LzIsLTE0KQooMCwwKSAoMjUvMiwtMzkvMikgKDE3LzIsLTEzKSAoMCwwKQooMCwwKSAoMiwtNS8yKSAoLTEvMiwzLzIpICgwLDApCigwLDApICgtMy8yLDMpICgxLC0yKSAoLTEvMiwzLzIpCigwLDApICgwLDEvMikgKDEsLTIpICgtMS8yLDEpCigwLDApICgtMS8yLDMvMikgKDMvMiwtMykgKC0xLDIpCigwLDApICgtOS8yLDEzLzIpICgyMS8yLC0zMy8yKSAoMTUvMiwtMjUvMikKKDAsMCkgKC0xMS8yLDgpICgxMSwtMzUvMikgKDYsLTEwKQooMCwwKSAoLTgsMTIpICgxLzIsLTEvMikgKC05LzIsNykKKDAsMCkgKC0xLzIsMCkgKC00LDcpICgxNS8yLC0yNS8yKQooMCwwKSAoLTEsNS80KSAoMTMvNCwtOS8yKSAoLTkvNCwxNy80KQooMCwwKSAoOS80LC0xNy80KSAoMSwtNS80KSAoMTMvNCwtOS8yKQooMCwwKSAoMy8yLC0zLzIpICgxLC0yKSAoLTEsMy8yKQooMCwwKSAoNCwtMTEvMikgKC0zLDkvMikgKC0xNCw0NS8yKQooMCwwKSAoNCwtMTEvMikgKC0zLDkvMikgKDE0LC00NS8yKQooMCwwKSAoMy8yLC0zLzIpICgxLC0yKSAoMSwtMy8yKQooMCwwKSAoLTEsMy8yKSAoLTMvMiwzLzIpICgxLC0yKQooMCwwKSAoLTE0LDQ1LzIpICgtNCwxMS8yKSAoLTMsOS8yKQooMCwwKSAoMTcvMiwtMTQpICgxMCwtMTcpICgxMS8yLC0xOS8yKQooMCwwKSAoMS8yLC0xKSAoLTEvMiwwKSAoMy8yLC0zKQooMCwwKSAoLTEzLzQsOS8yKSAoOS80LC0xNy80KSAoLTEsNS80KQooMCwwKSAoMS8yLC0zLzIpICgzLzIsLTMpICgxLC0yKQooMCwwKSAoMSwtMikgKDEvMiwtMy8yKSAoMy8yLC0zKQooMCwwKSAoLTEsNS80KSAoLTEzLzQsOS8yKSAoOS80LC0xNy80KQooMCwwKSAoLTEvMiwxKSAoLTEsMy8yKSAoLTEzLDIyKQooMCwwKSAoMS8yLC0xKSAoLTEsMy8yKSAoMSwtMSkKKDAsMCkgKDEvMiwtMSkgKC0xLDMvMikgKC0xMywyMikKKDAsMCkgKC03LzIsNSkgKC0xMSwzNS8yKSAoLTcsMTIpCigwLDApICgtOS8yLDEzLzIpICgtMjEvMiwzMy8yKSAoLTE1LzIsMjUvMikKKDAsMCkgKC0xLDMvMikgKC0xMywyMikgKC0xLzIsMSkKKDAsMCkgKC0xLDMvMikgKDEsLTEpICgtMS8yLDEpCigwLDApICgtMSwzLzIpICgxLC0xKSAoMS8yLC0xKQooMCwwKSAoLTEsMy8yKSAoLTEzLDIyKSAoMS8yLC0xKQooMCwwKSAoMCwxLzIpICgtMSwyKSAoMS8yLC0xKQooMCwwKSAoMy8yLC0zLzIpICgtMSwyKSAoLTEsMy8yKQooMCwwKSAoNSwtOCkgKC0xNS8yLDIzLzIpICgxLzIsMCkKKDAsMCkgKDIzLzIsLTM3LzIpICgxMS8yLC0xOS8yKSAoOS8yLC0xMy8yKQooMCwwKSAoMTEsLTM1LzIpICg2LC0xMCkgKDExLzIsLTgpCigwLDApICgxLzIsLTEvMikgKC05LzIsNykgKDgsLTEyKQooMCwwKSAoLTEzLzQsMTEvMikgKC01LzQsOS80KSAoLTIsOS80KQooMCwwKSAoLTEvMiwxKSAoMiwtMykgKC0zLzIsMy8yKQooMCwwKSAoMCwwKSAoNS8yLC03LzIpICgtMS8yLDApCigwLDApICgwLDApICgxLC0xKSAoNy8yLC0xMy8yKQooMCwwKSAoMjEvMiwtMzMvMikgKC0xNS8yLDI1LzIpICgtOS8yLDEzLzIpCigwLDApICgtMSwyKSAoLTEvMiwxKSAoMCwtMS8yKQooMCwwKSAoLTEvMiwxKSAoMCwxLzIpICgxLC0yKQooMCwwKSAoMTEsLTM1LzIpICgtNywxMikgKC03LzIsNSkKKDAsMCkgKC0xLzIsMS8yKSAoMS8yLC0xKSAoMCwtMSkKKDAsMCkgKDkvMiwtMTUvMikgKC0xNS8yLDEyKSAoMCwtMSkKKDAsMCkgKC05LzIsMTUvMikgKC0xNS8yLDEyKSAoMCwtMSkKKDAsMCkgKDEvMiwtMS8yKSAoMS8yLC0xKSAoMCwtMSkKKDAsMCkgKC0xLzIsMS8yKSAoMS8yLDApICgxLC0xKQooMCwwKSAoLTEsMSkgKDEvMiwtMS8yKSAoMS8yLDApCigwLDApICg2LC0xMCkgKDExLzIsLTgpICgxMSwtMzUvMikKKDAsMCkgKDE1LzIsLTI1LzIpICg5LzIsLTEzLzIpICgyMS8yLC0zMy8yKQooMCwwKSAoMTUvMiwtMjUvMikgKDEvMiwwKSAoLTQsNykKKDAsMCkgKC05LzIsNykgKDgsLTEyKSAoMS8yLC0xLzIpCigwLDApICgzLC05LzIpICgxNCwtNDUvMikgKC00LDExLzIpCigwLDApICgxLC0xKSAoMS8yLC0xLzIpICgtMS8yLDApCigwLDApICgtMTEvMiwxOS8yKSAoLTE3LzIsMTQpICgxMCwtMTcpCigwLDApICgtMS8yLDEpICgtMSwzLzIpICgtMSwxKQooMCwwKSAoLTcvMiw1KSAoLTExLDM1LzIpICg3LC0xMikKKDAsMCkgKC05LzIsMTMvMikgKC0yMy8yLDM3LzIpICgxMS8yLC0xOS8yKQooMCwwKSAoLTEvMiwwKSAoLTUsOCkgKC0xNS8yLDIzLzIpCigwLDApICg3LC0xMikgKC0xLzIsMS8yKSAoOS8yLC04KQooMCwwKSAoLTEsMSkgKC0xLzIsMS8yKSAoMS8yLDApCigwLDApICg5LzQsLTE3LzQpICgtMSw1LzQpICgxMy80LC05LzIpCigwLDApICgtMSw1LzQpICgtMTMvNCw5LzIpICgtOS80LDE3LzQpCigwLDApICgtMS8yLDEvMikgKC0xLzIsMCkgKDEsLTEpCigwLDApICgxLzIsLTEpICgtMS8yLDApICgtMy8yLDMpCigwLDApICgxNy8yLC0xNCkgKDEwLC0xNykgKC0xMS8yLDE5LzIpCigwLDApICgtMTQsNDUvMikgKC00LDExLzIpICgzLC05LzIpCigwLDApICgtMSwzLzIpICgtMy8yLDMvMikgKC0xLDIpCigwLDApICgtMTMvNCw5LzIpICg5LzQsLTE3LzQpICgxLC01LzQpCigwLDApICgtMS8yLDApICgtMSwxKSAoMS8yLC0xLzIpCigwLDApICgxLzIsMCkgKDAsMCkgKC01LzIsNy8yKQooMCwwKSAoMy8yLC0zLzIpICgxLzIsLTEpICgtMiwzKQooMCwwKSAoOS8yLC0xMy8yKSAoLTIxLzIsMzMvMikgKC0xNS8yLDI1LzIpCigwLDApICg3LzIsLTUpICgtMTEsMzUvMikgKC03LDEyKQooMCwwKSAoMTEsLTM1LzIpICgtNiwxMCkgKC0xMS8yLDgpCigwLDApICgtMS8yLDEvMikgKC0xLzIsMSkgKDAsMSkKKDAsMCkgKDMvMiwtMykgKC0xLDIpICgxLzIsLTMvMikKKDAsMCkgKDEsLTIpICgtMS8yLDEpICgwLC0xLzIpCigwLDApICgxLC0yKSAoLTEvMiwzLzIpICgzLzIsLTMpCigwLDApICgtOS8yLDcpICg4LC0xMikgKC0xLzIsMS8yKQooMCwwKSAoMS8yLC0xKSAoMCwxKSAoLTEvMiwxLzIpCigwLDApICg3LzIsLTUpICgtMTEsMzUvMikgKDcsLTEyKQooMCwwKSAoOS8yLC0xMy8yKSAoLTIxLzIsMzMvMikgKDE1LzIsLTI1LzIpCigwLDApICgtMiwzKSAoLTMvMiwzLzIpICgtMS8yLDEpCigwLDApICgtMSwzLzIpICgtMSwxKSAoLTEvMiwxKQooMCwwKSAoLTEsMy8yKSAoLTEsMSkgKDEvMiwtMSkKKDAsMCkgKC0yLDMpICgtMy8yLDMvMikgKDEvMiwtMSkKKDAsMCkgKDAsMCkgKC0zLzIsMikgKDAsMS8yKQooMCwwKSAoMTEsLTM1LzIpICg3LC0xMikgKDcvMiwtNSkKKDAsMCkgKC0xLzIsMSkgKDEvMiwwKSAoLTMvMiwzKQooMCwwKSAoLTEvMiwxKSAoMCwxLzIpICgtMSwyKQooMCwwKSAoMCwwKSAoLTUvMiw3LzIpICgtMS8yLDApCigwLDApICgwLDApICgtMy8yLDIpICgwLC0xLzIpCigwLDApICgtMS8yLDEpICgtMiwzKSAoLTMvMiwzLzIpCigwLDApICgtOS8yLDcpICgtOCwxMikgKDEvMiwtMS8yKQooMCwwKSAoNiwtMTApICgtMTEvMiw4KSAoMTEsLTM1LzIpCigwLDApICgxMS8yLC0xOS8yKSAoLTkvMiwxMy8yKSAoMjMvMiwtMzcvMikKKDAsMCkgKC0xNS8yLDIzLzIpICgtMS8yLDApICg1LC04KQooMCwwKSAoMTMvNCwtMTEvMikgKC01LzQsOS80KSAoLTIsOS80KQooMCwwKSAoMy8yLC0zKSAoLTEvMiwxKSAoLTEvMiwwKQooMCwwKSAoMCwtMS8yKSAoMCwwKSAoLTMvMiwyKQooMCwwKSAoMS8yLC0zLzIpICgwLDApICgtMiw1LzIpCigwLDApICgyMy8yLC0zNy8yKSAoMTEvMiwtMTkvMikgKC05LzIsMTMvMikKKDAsMCkgKDUsLTgpICgtMTUvMiwyMy8yKSAoLTEvMiwwKQooMCwwKSAoLTEvMiwwKSAoMCwwKSAoLTUvMiw3LzIpCigwLDApICgtMy8yLDMvMikgKC0xLzIsMSkgKC0yLDMpCigwLDApICgtMiw5LzQpICgtMTMvNCwxMS8yKSAoNS80LC05LzQpCigwLDApICgtMTEvMiwxOS8yKSAoOS8yLC0xMy8yKSAoLTIzLzIsMzcvMikKKDAsMCkgKDMvMiwtMikgKDAsMS8yKSAoMCwwKQooMCwwKSAoMSwtMy8yKSAoMSwtMSkgKDEvMiwtMSkKKDAsMCkgKC02LDEwKSAoMTEvMiwtOCkgKC0xMSwzNS8yKQooMCwwKSAoLTEvMiwxKSAoMCwxKSAoLTEvMiwxLzIpCigwLDApICgtNS80LDkvNCkgKDIsLTkvNCkgKDEzLzQsLTExLzIpCigwLDApICgxLC0xKSAoLTcvMiwxMy8yKSAoMCwwKQooMCwwKSAoLTEvMiwzLzIpICgxLzIsMCkgKDAsMCkKKDAsMCkgKC0xNy8yLDEzKSAoMCwwKSAoLTI1LzIsMzkvMikKKDAsMCkgKDExLzIsLTE5LzIpICgtMTcvMiwxNCkgKDEwLC0xNykKKDAsMCkgKC0xLzIsMCkgKC00LDcpICgtMTUvMiwyNS8yKQooMCwwKSAoLTExLDM1LzIpICgtNywxMikgKDcvMiwtNSkKKDAsMCkgKC0xLzIsMS8yKSAoLTkvMiw4KSAoLTcsMTIpCigwLDApICg5LzIsLTE1LzIpICgtMTUvMiwxMikgKDAsMSkKKDAsMCkgKDkvMiwtMTUvMikgKDE1LzIsLTEyKSAoMCwxKQooMCwwKSAoLTMvMiwzLzIpICgtMSwyKSAoMSwtMy8yKQooMCwwKSAoLTQsMTEvMikgKDMsLTkvMikgKDE0LC00NS8yKQooMCwwKSAoMTAsLTE3KSAoLTExLzIsMTkvMikgKC0xNy8yLDE0KQooMCwwKSAoOS8yLC0xMy8yKSAoMjMvMiwtMzcvMikgKC0xMS8yLDE5LzIpCigwLDApICgtMTEsMzUvMikgKDYsLTEwKSAoLTExLzIsOCkKKDAsMCkgKC0yMS8yLDMzLzIpICgxNS8yLC0yNS8yKSAoLTkvMiwxMy8yKQooMCwwKSAoNCwtNykgKDE1LzIsLTI1LzIpICgtMS8yLDApCigwLDApICgtMS8yLDEvMikgKC05LzIsNykgKC04LDEyKQooMCwwKSAoNiwtMTApICgxMS8yLC04KSAoLTExLDM1LzIpCigwLDApICgxMS8yLC0xOS8yKSAoOS8yLC0xMy8yKSAoLTIzLzIsMzcvMikKKDAsMCkgKDEvMiwtMSkgKC0xLDMvMikgKC0xLDEpCigwLDApICgxLC0yKSAoMS8yLC0xKSAoMCwtMS8yKQooMCwwKSAoLTEsMikgKC0xLDMvMikgKC0zLzIsMy8yKQooMCwwKSAoMywtOS8yKSAoLTE0LDQ1LzIpICgtNCwxMS8yKQooMCwwKSAoLTEsMikgKDEsLTMvMikgKC0zLzIsMy8yKQooMCwwKSAoLTE3LzIsMTMpICgwLDApICgyNS8yLC0zOS8yKQooMCwwKSAoLTEvMiwwKSAoMCwwKSAoLTEvMiwzLzIpCigwLDApICgxMS8yLC0xOS8yKSAoMTcvMiwtMTQpICgtMTAsMTcpCigwLDApICgxLC0zLzIpICgzLzIsLTMvMikgKC0xLDIpCigwLDApICgxLC0zLzIpICgxLC0xKSAoLTEvMiwxKQooMCwwKSAoLTMvMiwzLzIpICgxLzIsLTEpICgtMiwzKQooMCwwKSAoLTEvMiwwKSAoLTMvMiwzKSAoMS8yLC0xKQooMCwwKSAoMTAsLTE3KSAoLTExLzIsMTkvMikgKDE3LzIsLTE0KQooMCwwKSAoLTQsMTEvMikgKDMsLTkvMikgKC0xNCw0NS8yKQooMCwwKSAoLTMvMiwzLzIpICgtMSwyKSAoLTEsMy8yKQooMCwwKSAoNywtMTIpICg3LzIsLTUpICgtMTEsMzUvMikKKDAsMCkgKDAsLTEvMikgKC0xLDIpICgxLzIsLTEpCigwLDApICgxNS8yLC0yNS8yKSAoOS8yLC0xMy8yKSAoLTIxLzIsMzMvMikKKDAsMCkgKC0xMCwxNykgKC0xMS8yLDE5LzIpICgtMTcvMiwxNCkKKDAsMCkgKDEvMiwwKSAoLTMvMiwzKSAoLTEvMiwxKQooMCwwKSAoMSwtMSkgKDEvMiwtMSkgKDEsLTMvMikKKDAsMCkgKDExLzIsLTgpICgtMTEsMzUvMikgKC02LDEwKQooMCwwKSAoLTUvMiw3LzIpICgtMS8yLDApICgwLDApCigwLDApICgtMy8yLDIpICgwLC0xLzIpICgwLDApCigwLDApICgwLDEpICgtMS8yLDEvMikgKC0xLzIsMSkKKDAsMCkgKDEvMiwwKSAoLTEsMSkgKDEvMiwtMS8yKQooMCwwKSAoLTEwLDE3KSAoMTEvMiwtMTkvMikgKC0xNy8yLDE0KQooMCwwKSAoLTQsNykgKC0xNS8yLDI1LzIpICgtMS8yLDApCigwLDApICgtMSw1LzQpICgxMy80LC05LzIpICg5LzQsLTE3LzQpCigwLDApICgtMS8yLDMvMikgKDMvMiwtMykgKDEsLTIpCigwLDApICgtMy8yLDMpICgxLC0yKSAoMS8yLC0zLzIpCigwLDApICgtMTEsMzUvMikgKDcsLTEyKSAoLTcvMiw1KQooMCwwKSAoLTEvMiwxLzIpICg5LzIsLTgpICg3LC0xMikKKDAsMCkgKDEzLzQsLTkvMikgKDkvNCwtMTcvNCkgKC0xLDUvNCkKKDAsMCkgKC05LzQsMTcvNCkgKC0xLDUvNCkgKC0xMy80LDkvMikKKDAsMCkgKDEsLTEpICgtMS8yLDEvMikgKC0xLzIsMCkKKDAsMCkgKDEvMiwtMSkgKDAsLTEpICgtMS8yLDEvMikKKDAsMCkgKC0xLzIsMS8yKSAoLTEvMiwwKSAoLTEsMSkKKDAsMCkgKC0xLzIsMy8yKSAoLTEvMiwwKSAoMCwwKQooMCwwKSAoMS8yLC0zLzIpICgtMy8yLDMpICgxLC0yKQooMCwwKSAoLTMsOS8yKSAoLTE0LDQ1LzIpICg0LC0xMS8yKQooMCwwKSAoLTMsOS8yKSAoMTQsLTQ1LzIpICg0LC0xMS8yKQooMCwwKSAoMSwtMy8yKSAoLTEsMSkgKDEvMiwtMSkKKDAsMCkgKDEsLTMvMikgKC0zLzIsMy8yKSAoMSwtMikKKDAsMCkgKDIzLzIsLTM3LzIpICgtMTEvMiwxOS8yKSAoLTkvMiwxMy8yKQooMCwwKSAoMS8yLC0xKSAoMiwtMykgKC0zLzIsMy8yKQooMCwwKSAoMSwtMikgKC0xLDMvMikgKDMvMiwtMy8yKQooMCwwKSAoMy8yLC0zKSAoMS8yLC0xKSAoMS8yLDApCigwLDApICgtMS8yLDEvMikgKDkvMiwtOCkgKC03LDEyKQooMCwwKSAoNCwtNykgKDE1LzIsLTI1LzIpICgxLzIsMCkKKDAsMCkgKC05LzIsMTUvMikgKDE1LzIsLTEyKSAoMCwxKQooMCwwKSAoMS8yLC0xLzIpICgtMS8yLDEpICgwLDEpCigwLDApICgtMSwxKSAoNy8yLC0xMy8yKSAoMCwwKQooMCwwKSAoNS80LC05LzQpICgtMiw5LzQpICgtMTMvNCwxMS8yKQooMCwwKSAoLTUsOCkgKC0xNS8yLDIzLzIpICgxLzIsMCkKKDAsMCkgKDE1LzIsLTIzLzIpICgxLzIsMCkgKC01LDgpCigwLDApICg5LzIsLTcpICg4LC0xMikgKC0xLzIsMS8yKQooMCwwKSAoNCwtMTEvMikgKDMsLTkvMikgKDE0LC00NS8yKQooMCwwKSAoMCwxKSAoMS8yLC0xLzIpICgxLzIsLTEpCigwLDApICg0LC0xMS8yKSAoMywtOS8yKSAoLTE0LDQ1LzIpCigwLDApICgtMS8yLDApICgzLzIsLTMpICgxLzIsLTEpCigwLDApICgxMCwtMTcpICgxMS8yLC0xOS8yKSAoMTcvMiwtMTQpCigwLDApICgtMjUvMiwzOS8yKSAoLTE3LzIsMTMpICgwLDApCigwLDApICgtMiw1LzIpICgxLzIsLTMvMikgKDAsMCkKKDAsMCkgKDkvMiwtMTMvMikgKDIzLzIsLTM3LzIpICgxMS8yLC0xOS8yKQooMCwwKSAoMTEvMiwtOCkgKDExLC0zNS8yKSAoNiwtMTApCigwLDApICgxLzIsLTEvMikgKDEvMiwwKSAoLTEsMSkKKDAsMCkgKC0xNS8yLDI1LzIpICgxLzIsMCkgKDQsLTcpCigwLDApICgtOS8yLDgpICgtNywxMikgKC0xLzIsMS8yKQooMCwwKSAoMS8yLDApICgxLC0xKSAoLTEvMiwxLzIpCigwLDApICgtMS8yLDMvMikgKDAsMCkgKDIsLTUvMikKKDAsMCkgKDE3LzIsLTEzKSAoMCwwKSAoMjUvMiwtMzkvMikKKDAsMCkgKC0xMS8yLDE5LzIpICgtMTcvMiwxNCkgKC0xMCwxNykKKDAsMCkgKDkvMiwtOCkgKDcsLTEyKSAoLTEvMiwxLzIpCigwLDApICgtMTUvMiwyMy8yKSAoLTEvMiwwKSAoLTUsOCkKKDAsMCkgKDEvMiwtMy8yKSAoLTEvMiwwKSAoMCwwKQooMCwwKSAoLTEvMiwwKSAoLTEsMSkgKC0xLzIsMS8yKQooMCwwKSAoLTkvMiwxMy8yKSAoMjMvMiwtMzcvMikgKDExLzIsLTE5LzIpCigwLDApICgtMS8yLDApICg1LC04KSAoLTE1LzIsMjMvMikKKDAsMCkgKDE0LC00NS8yKSAoLTQsMTEvMikgKDMsLTkvMikKKDAsMCkgKDExLC0zNS8yKSAoNywtMTIpICgtNy8yLDUpCigwLDApICgtMS8yLDEpICgtMS8yLDApICgzLzIsLTMpCigwLDApICgwLC0xKSAoMS8yLC0xLzIpICgxLzIsLTEpCigwLDApICgwLDApICgtMiw1LzIpICgxLzIsLTMvMikKKDAsMCkgKDEvMiwtMSkgKDAsLTEvMikgKDEsLTIpCigwLDApICgxMywtMjIpICgxLzIsLTEpICgtMSwzLzIpCigwLDApICgwLC0xKSAoOS8yLC0xNS8yKSAoLTE1LzIsMTIpCigwLDApICg3LC0xMikgKC0xLzIsMS8yKSAoLTkvMiw4KQooMCwwKSAoLTEvMiwwKSAoNCwtNykgKC0xNS8yLDI1LzIpCigwLDApICgwLDApICgtMiw1LzIpICgtMS8yLDMvMikKKDAsMCkgKDAsMCkgKC0yNS8yLDM5LzIpICgxNy8yLC0xMykKKDAsMCkgKDUvNCwtOS80KSAoLTIsOS80KSAoMTMvNCwtMTEvMikKKDAsMCkgKC0xMy80LDExLzIpICgtNS80LDkvNCkgKDIsLTkvNCkKKDAsMCkgKDEzLzQsLTExLzIpICgtNS80LDkvNCkgKDIsLTkvNCkKKDAsMCkgKDAsMSkgKC0xLzIsMS8yKSAoMS8yLC0xKQooMCwwKSAoMS8yLC0xKSAoMSwtMy8yKSAoMSwtMSkKKDAsMCkgKC0xMS8yLDE5LzIpICgtOS8yLDEzLzIpICgyMy8yLC0zNy8yKQooMCwwKSAoMy8yLC0yKSAoMCwtMS8yKSAoMCwwKQooMCwwKSAoLTYsMTApICgtMTEvMiw4KSAoMTEsLTM1LzIpCigwLDApICgxNCwtNDUvMikgKDQsLTExLzIpICgzLC05LzIpCigwLDApICgtMTQsNDUvMikgKDQsLTExLzIpICgzLC05LzIpCigwLDApICg5LzQsLTE3LzQpICgtMSw1LzQpICgtMTMvNCw5LzIpCigwLDApICgzLzIsLTMpICgxLC0yKSAoMS8yLC0zLzIpCigwLDApICgtMy8yLDMpICgtMS8yLDEpICgtMS8yLDApCigwLDApICgxLzIsLTEpICgwLC0xKSAoMS8yLC0xLzIpCigwLDApICgwLDEpICg5LzIsLTE1LzIpICgtMTUvMiwxMikKKDAsMCkgKDE3LzIsLTEzKSAoMCwwKSAoLTI1LzIsMzkvMikKKDAsMCkgKC0xMS8yLDE5LzIpICgxNy8yLC0xNCkgKDEwLC0xNykKKDAsMCkgKDAsMCkgKC01LzIsNy8yKSAoMS8yLDApCigwLDApICgxLzIsLTEpICgtMiwzKSAoMy8yLC0zLzIpCigwLDApICgtMTEvMiwxOS8yKSAoLTkvMiwxMy8yKSAoLTIzLzIsMzcvMikKKDAsMCkgKDE1LzIsLTIzLzIpICgtMS8yLDApICgtNSw4KQooMCwwKSAoLTQsMTEvMikgKC0zLDkvMikgKC0xNCw0NS8yKQooMCwwKSAoLTEsMSkgKC0xLzIsMSkgKC0xLDMvMikKKDAsMCkgKC0xLDIpICgtMS8yLDMvMikgKC0zLzIsMykKKDAsMCkgKDAsMS8yKSAoLTEsMikgKC0xLzIsMSkKKDAsMCkgKC0xLzIsMy8yKSAoLTMvMiwzKSAoLTEsMikKKDAsMCkgKDIsLTMpICgzLzIsLTMvMikgKDEvMiwtMSkKKDAsMCkgKDUvMiwtNy8yKSAoMS8yLDApICgwLDApCigwLDApICgtMTcvMiwxNCkgKC0xMCwxNykgKC0xMS8yLDE5LzIpCigwLDApICgxLC0zLzIpICgxMywtMjIpICgxLzIsLTEpCigwLDApICgxNS8yLC0xMikgKDAsLTEpICg5LzIsLTE1LzIpCigwLDApICgxLzIsLTEvMikgKDEvMiwwKSAoMSwtMSkKKDAsMCkgKDEvMiwtMS8yKSAoLTkvMiw4KSAoLTcsMTIpCigwLDApICgxLC0xKSAoMS8yLC0xLzIpICgxLzIsMCkKKDAsMCkgKC0xNS8yLDI1LzIpICg5LzIsLTEzLzIpICgtMjEvMiwzMy8yKQooMCwwKSAoMTEvMiwtOCkgKDExLC0zNS8yKSAoLTYsMTApCigwLDApICgxLC01LzQpICgxMy80LC05LzIpICg5LzQsLTE3LzQpCigwLDApICgtMSwyKSAoLTEvMiwzLzIpICgzLzIsLTMpCigwLDApICgtMy8yLDMpICgtMSwyKSAoMS8yLC0zLzIpCigwLDApICgtOS80LDE3LzQpICgxLC01LzQpICgtMTMvNCw5LzIpCigwLDApICgxLC0xKSAoLTEvMiwxKSAoMSwtMy8yKQooMCwwKSAoMy8yLC0zLzIpICgtMSwyKSAoMSwtMy8yKQooMCwwKSAoLTYsMTApICgxMS8yLC04KSAoMTEsLTM1LzIpCigwLDApICgtMTEvMiwxOS8yKSAoOS8yLC0xMy8yKSAoMjMvMiwtMzcvMikKKDAsMCkgKC03LzIsNSkgKDExLC0zNS8yKSAoNywtMTIpCigwLDApICgtMTUvMiwxMikgKDAsLTEpICg5LzIsLTE1LzIpCigwLDApICgtMSwzLzIpICgxMywtMjIpICgxLzIsLTEpCigwLDApICgxLC0xKSAoNy8yLC0xMy8yKSAoMCwwKQooMCwwKSAoLTUvNCw5LzQpICgtMiw5LzQpICgxMy80LC0xMS8yKQooMCwwKSAoLTEvMiwxKSAoMCwtMSkgKC0xLzIsMS8yKQooMCwwKSAoLTgsMTIpICgtMS8yLDEvMikgKDkvMiwtNykKKDAsMCkgKC0xLzIsMCkgKC01LDgpICgxNS8yLC0yMy8yKQooMCwwKSAoMS8yLC0xKSAoLTEsMy8yKSAoMTMsLTIyKQooMCwwKSAoMTMvNCwtMTEvMikgKDUvNCwtOS80KSAoLTIsOS80KQooMCwwKSAoMCwwKSAoLTEsMSkgKDcvMiwtMTMvMikKKDAsMCkgKDAsMCkgKDEvMiwtMy8yKSAoLTEvMiwwKQooMCwwKSAoMCwxLzIpICgwLDApICgzLzIsLTIpCigwLDApICgxMS8yLC04KSAoLTExLDM1LzIpICg2LC0xMCkKKDAsMCkgKDgsLTEyKSAoLTEvMiwxLzIpICgtOS8yLDcpCigwLDApICgxLzIsMCkgKDQsLTcpICgxNS8yLC0yNS8yKQooMCwwKSAoLTEsMSkgKDEvMiwtMSkgKC0xLDMvMikKKDAsMCkgKC0xMS8yLDgpICgtMTEsMzUvMikgKDYsLTEwKQooMCwwKSAoNS8yLC03LzIpICgtMS8yLDApICgwLDApCigwLDApICgyLC0zKSAoLTMvMiwzLzIpICgxLzIsLTEpCigwLDApICgxLzIsMCkgKDMvMiwtMykgKC0xLzIsMSkKKDAsMCkgKDkvMiwtMTMvMikgKC0yMy8yLDM3LzIpICgtMTEvMiwxOS8yKQooMCwwKSAoMS8yLC0xLzIpICgxLzIsLTEpICgwLDEpCigwLDApICgtOS8yLDE1LzIpICgtMTUvMiwxMikgKDAsMSkKKDAsMCkgKC01LzQsOS80KSAoMiwtOS80KSAoLTEzLzQsMTEvMikKKDAsMCkgKDcsLTEyKSAoLTcvMiw1KSAoMTEsLTM1LzIpCigwLDApICgxLzIsLTEpICgwLC0xLzIpICgtMSwyKQooMCwwKSAoMTUvMiwtMjUvMikgKC05LzIsMTMvMikgKDIxLzIsLTMzLzIpCigwLDApICgyLC0zKSAoMy8yLC0zLzIpICgtMS8yLDEpCigwLDApICgyMy8yLC0zNy8yKSAoLTExLzIsMTkvMikgKDkvMiwtMTMvMikKKDAsMCkgKC0yMS8yLDMzLzIpICgtMTUvMiwyNS8yKSAoLTkvMiwxMy8yKQooMCwwKSAoLTExLDM1LzIpICgtNiwxMCkgKC0xMS8yLDgpCigwLDApICgtMS8yLDEvMikgKDkvMiwtNykgKC04LDEyKQooMCwwKSAoNCwtNykgKC0xNS8yLDI1LzIpICgtMS8yLDApCigwLDApICg3LzIsLTUpICgxMSwtMzUvMikgKDcsLTEyKQooMCwwKSAoMS8yLDApICg1LC04KSAoLTE1LzIsMjMvMikKKDAsMCkgKC03LDEyKSAoMS8yLC0xLzIpICg5LzIsLTgpCigwLDApICgtMTUvMiwxMikgKDAsMSkgKDkvMiwtMTUvMikKKDAsMCkgKDE1LzIsLTEyKSAoMCwxKSAoOS8yLC0xNS8yKQooMCwwKSAoLTEvMiwxKSAoMCwtMSkgKDEvMiwtMS8yKQooMCwwKSAoOCwtMTIpICgxLzIsLTEvMikgKC05LzIsNykKKDAsMCkgKC03LDEyKSAoNy8yLC01KSAoLTExLDM1LzIpCigwLDApICgtMy8yLDMvMikgKDEsLTIpICgxLC0zLzIpCigwLDApICgtMSwxKSAoMS8yLC0xKSAoMSwtMy8yKQooMCwwKSAoLTEvMiwwKSAoMy8yLC0zKSAoLTEvMiwxKQooMCwwKSAoMS8yLDApICgwLDApICgxLzIsLTMvMikKKDAsMCkgKDE1LzIsLTI1LzIpICgtMS8yLDApICgtNCw3KQooMCwwKSAoMS8yLC0xKSAoMiwtMykgKDMvMiwtMy8yKQooMCwwKSAoMiwtOS80KSAoLTEzLzQsMTEvMikgKDUvNCwtOS80KQooMCwwKSAoLTcvMiwxMy8yKSAoMCwwKSAoLTEsMSkKKDAsMCkgKDEzLzQsLTkvMikgKC05LzQsMTcvNCkgKC0xLDUvNCkKKDAsMCkgKDEvMiwtMy8yKSAoLTMvMiwzKSAoLTEsMikKKDAsMCkgKC00LDcpICgxNS8yLC0yNS8yKSAoMS8yLDApCigwLDApICgyMS8yLC0zMy8yKSAoMTUvMiwtMjUvMikgKDkvMiwtMTMvMikKKDAsMCkgKDEvMiwtMS8yKSAoOS8yLC04KSAoLTcsMTIpCigwLDApICgtMTEvMiw4KSAoLTExLDM1LzIpICgtNiwxMCkKKDAsMCkgKDAsLTEvMikgKDAsMCkgKDMvMiwtMikKKDAsMCkgKC05LzIsMTMvMikgKC0yMy8yLDM3LzIpICgtMTEvMiwxOS8yKQooMCwwKSAoLTYsMTApICgtMTEvMiw4KSAoLTExLDM1LzIpCigwLDApICgtNSw4KSAoLTE1LzIsMjMvMikgKC0xLzIsMCkKKDAsMCkgKDAsLTEvMikgKDEsLTIpICgxLzIsLTEpCigwLDApICgyLC05LzQpICgxMy80LC0xMS8yKSAoLTUvNCw5LzQpCigwLDApICgtNy8yLDEzLzIpICgwLDApICgxLC0xKQooMCwwKSAoLTE1LzIsMjUvMikgKC05LzIsMTMvMikgKDIxLzIsLTMzLzIpCigwLDApICgtMTUvMiwyNS8yKSAoLTEvMiwwKSAoLTQsNykKKDAsMCkgKDkvMiwtNykgKC04LDEyKSAoMS8yLC0xLzIpCigwLDApICgtMy8yLDMvMikgKDEsLTIpICgtMSwzLzIpCigwLDApICgtMTUvMiwyNS8yKSAoMS8yLDApICgtNCw3KQooMCwwKSAoOS8yLC03KSAoOCwtMTIpICgxLzIsLTEvMikKKDAsMCkgKC0yMy8yLDM3LzIpICgxMS8yLC0xOS8yKSAoLTkvMiwxMy8yKQooMCwwKSAoMSwtMy8yKSAoLTEzLDIyKSAoLTEvMiwxKQooMCwwKSAoLTcsMTIpICgtMS8yLDEvMikgKDkvMiwtOCkKKDAsMCkgKC04LDEyKSAoLTEvMiwxLzIpICgtOS8yLDcpCigwLDApICgyLC05LzQpICgxMy80LC0xMS8yKSAoNS80LC05LzQpCigwLDApICgxLC0zLzIpICgtMTMsMjIpICgxLzIsLTEpCigwLDApICgwLDApICgxLC0xKSAoLTcvMiwxMy8yKQooMCwwKSAoLTE1LzIsMjMvMikgKDEvMiwwKSAoLTUsOCkKKDAsMCkgKDkvMiwtMTMvMikgKDIxLzIsLTMzLzIpICgxNS8yLC0yNS8yKQooMCwwKSAoLTEsMikgKDEvMiwtMy8yKSAoMy8yLC0zKQooMCwwKSAoMTEvMiwtMTkvMikgKC05LzIsMTMvMikgKC0yMy8yLDM3LzIpCigwLDApICg2LC0xMCkgKC0xMS8yLDgpICgtMTEsMzUvMikKKDAsMCkgKC05LzIsNykgKC04LDEyKSAoLTEvMiwxLzIpCigwLDApICgtNy8yLDUpICgxMSwtMzUvMikgKC03LDEyKQooMCwwKSAoNywtMTIpICgxLzIsLTEvMikgKC05LzIsOCkKKDAsMCkgKC01LDgpICgxNS8yLC0yMy8yKSAoLTEvMiwwKQooMCwwKSAoMSwtMy8yKSAoMy8yLC0zLzIpICgxLC0yKQooMCwwKSAoMTUvMiwtMjMvMikgKDEvMiwwKSAoNSwtOCkKKDAsMCkgKC03LDEyKSAoLTcvMiw1KSAoMTEsLTM1LzIpCigwLDApICgxNS8yLC0yMy8yKSAoLTEvMiwwKSAoNSwtOCkKKDAsMCkgKC05LzIsOCkgKDcsLTEyKSAoMS8yLC0xLzIpCigwLDApICgxMS8yLC0xOS8yKSAoMTcvMiwtMTQpICgxMCwtMTcpCigwLDApICgtMSwxKSAoLTEvMiwxLzIpICgtMS8yLDApCigwLDApICgtNSw4KSAoMTUvMiwtMjMvMikgKDEvMiwwKQooMCwwKSAoMCwwKSAoLTEvMiwzLzIpICgxLzIsMCkKKDAsMCkgKC0xMSwzNS8yKSAoNiwtMTApICgxMS8yLC04KQooMCwwKSAoLTIzLzIsMzcvMikgKDExLzIsLTE5LzIpICg5LzIsLTEzLzIpCigwLDApICgtOS80LDE3LzQpICgxLC01LzQpICgxMy80LC05LzIpCigwLDApICgxLC01LzQpICgxMy80LC05LzIpICgtOS80LDE3LzQpCigwLDApICgzLC05LzIpICgxNCwtNDUvMikgKDQsLTExLzIpCigwLDApICgzLC05LzIpICgtMTQsNDUvMikgKDQsLTExLzIpCigwLDApICgxMy80LC05LzIpICg5LzQsLTE3LzQpICgxLC01LzQpCigwLDApICgxLC01LzQpICgtMTMvNCw5LzIpICgtOS80LDE3LzQpCigwLDApICgxLzIsLTEvMikgKC0xLzIsMCkgKDEsLTEpCigwLDApICgtMTcvMiwxNCkgKDEwLC0xNykgKDExLzIsLTE5LzIpCigwLDApICgxNCwtNDUvMikgKC00LDExLzIpICgtMyw5LzIpCigwLDApICgzLzIsLTMpICgxLzIsLTEpICgtMS8yLDApCigwLDApICgxLzIsMCkgKC00LDcpICgxNS8yLC0yNS8yKQooMCwwKSAoLTEsMikgKDEvMiwtMy8yKSAoLTMvMiwzKQooMCwwKSAoMS8yLDApICgxLC0xKSAoMS8yLC0xLzIpCigwLDApICgtMTUvMiwyMy8yKSAoMS8yLDApICg1LC04KQooMCwwKSAoLTE3LzIsMTQpICgxMCwtMTcpICgtMTEvMiwxOS8yKQooMCwwKSAoMTQsLTQ1LzIpICg0LC0xMS8yKSAoLTMsOS8yKQooMCwwKSAoMTUvMiwtMjUvMikgKC0xLzIsMCkgKDQsLTcpCigwLDApICgtMyw5LzIpICgxNCwtNDUvMikgKC00LDExLzIpCigwLDApICgtMyw5LzIpICgtMTQsNDUvMikgKC00LDExLzIpCigwLDApICgtMjUvMiwzOS8yKSAoMTcvMiwtMTMpICgwLDApCigwLDApICgzLzIsLTMvMikgKC0xLzIsMSkgKC0yLDMpCigwLDApICgtMTcvMiwxNCkgKC0xMCwxNykgKDExLzIsLTE5LzIpCigwLDApICgtMS8yLDEpICgxLzIsMCkgKDMvMiwtMykKKDAsMCkgKDEvMiwwKSAoLTUsOCkgKDE1LzIsLTIzLzIpCigwLDApICgtNywxMikgKC0xLzIsMS8yKSAoLTkvMiw4KQooMCwwKSAoMTEsLTM1LzIpICgtNywxMikgKDcvMiwtNSkKKDAsMCkgKDUsLTgpICgxNS8yLC0yMy8yKSAoMS8yLDApCigwLDApICgyLC05LzQpICgtMTMvNCwxMS8yKSAoLTUvNCw5LzQpCigwLDApICgzLzIsLTMvMikgKC0xLzIsMSkgKDIsLTMpCigwLDApICgzLzIsLTMvMikgKDEvMiwtMSkgKDIsLTMpCigwLDApICgtMiwzKSAoMy8yLC0zLzIpICgxLzIsLTEpCigwLDApICgtMiwzKSAoMy8yLC0zLzIpICgtMS8yLDEpCigwLDApICgxLzIsLTEvMikgKDkvMiwtOCkgKDcsLTEyKQooMCwwKSAoOS8yLC03KSAoLTgsMTIpICgtMS8yLDEvMikKKDAsMCkgKDEvMiwtMy8yKSAoMS8yLDApICgwLDApCigwLDApICgtMSwxKSAoLTcvMiwxMy8yKSAoMCwwKQooMCwwKSAoNS80LC05LzQpICgyLC05LzQpICgxMy80LC0xMS8yKQooMCwwKSAoLTkvMiw4KSAoLTcsMTIpICgxLzIsLTEvMikKKDAsMCkgKC0xLzIsMCkgKDEsLTEpICgxLzIsLTEvMikKKDAsMCkgKDEvMiwtMSkgKC0yLDMpICgtMy8yLDMvMikKKDAsMCkgKC0yMy8yLDM3LzIpICgtMTEvMiwxOS8yKSAoOS8yLC0xMy8yKQooMCwwKSAoMS8yLC0xKSAoMSwtMy8yKSAoLTEzLDIyKQooMCwwKSAoLTEvMiwxKSAoMSwtMy8yKSAoLTEzLDIyKQooMCwwKSAoMSwtMikgKDEsLTMvMikgKDMvMiwtMy8yKQooMCwwKSAoMTEvMiwtMTkvMikgKC0xNy8yLDE0KSAoLTEwLDE3KQooMCwwKSAoMy8yLC0zKSAoLTEvMiwxKSAoMS8yLDApCigwLDApICgxLC0yKSAoMS8yLC0zLzIpICgtMy8yLDMpCigwLDApICgtMTEvMiwxOS8yKSAoMTcvMiwtMTQpICgtMTAsMTcpCigwLDApICgtMS8yLDEvMikgKC05LzIsNykgKDgsLTEyKQooMCwwKSAoLTEzLzQsMTEvMikgKDUvNCwtOS80KSAoMiwtOS80KQooMCwwKSAoLTcsMTIpICg3LzIsLTUpICgxMSwtMzUvMikKKDAsMCkgKDkvMiwtMTMvMikgKC0yMy8yLDM3LzIpICgxMS8yLC0xOS8yKQooMCwwKSAoMS8yLDApICgtNSw4KSAoLTE1LzIsMjMvMikKKDAsMCkgKC0xLzIsMy8yKSAoLTMvMiwzKSAoMSwtMikKKDAsMCkgKC0xLzIsMSkgKC0yLDMpICgzLzIsLTMvMikKKDAsMCkgKDIsLTMpICgtMy8yLDMvMikgKC0xLzIsMSkKKDAsMCkgKC01LzQsOS80KSAoLTIsOS80KSAoLTEzLzQsMTEvMikKKDAsMCkgKDkvMiwtOCkgKC03LDEyKSAoMS8yLC0xLzIpCigwLDApICgtMTMvNCwxMS8yKSAoNS80LC05LzQpICgtMiw5LzQpCigwLDApICgxLzIsLTMvMikgKDAsMCkgKDIsLTUvMikKKDAsMCkgKDEzLzQsLTkvMikgKC05LzQsMTcvNCkgKDEsLTUvNCkKKDAsMCkgKDgsLTEyKSAoLTEvMiwxLzIpICg5LzIsLTcpCigwLDApICgtMTMvNCw5LzIpICgtOS80LDE3LzQpICgxLC01LzQpCigwLDApICgxLC0yKSAoLTEsMy8yKSAoLTMvMiwzLzIpCigwLDApICgxLzIsLTEvMikgKC05LzIsOCkgKDcsLTEyKQooMCwwKSAoMCwwKSAoMjUvMiwtMzkvMikgKC0xNy8yLDEzKQooMCwwKSAoNywtMTIpICgtNy8yLDUpICgtMTEsMzUvMikKKDAsMCkgKC0zLzIsMy8yKSAoMS8yLC0xKSAoMiwtMykKKDAsMCkgKDEsLTEpICgtMS8yLDEvMikgKDEvMiwwKQooMCwwKSAoMS8yLDApICgwLDApICg1LzIsLTcvMikKKDAsMCkgKC05LzIsMTMvMikgKC0yMS8yLDMzLzIpICgxNS8yLC0yNS8yKQooMCwwKSAoLTEvMiwwKSAoNCwtNykgKDE1LzIsLTI1LzIpCigwLDApICgtNS8yLDcvMikgKDEvMiwwKSAoMCwwKQooMCwwKSAoMSwtNS80KSAoLTEzLzQsOS8yKSAoOS80LC0xNy80KQooMCwwKSAoMCwxKSAoOS8yLC0xNS8yKSAoMTUvMiwtMTIpCigwLDApICgtMy8yLDMpICgtMSwyKSAoLTEvMiwzLzIpCigwLDApICg3LC0xMikgKDEvMiwtMS8yKSAoOS8yLC04KQooMCwwKSAoMS8yLDApICg0LC03KSAoLTE1LzIsMjUvMikKKDAsMCkgKDE1LzIsLTI1LzIpICgtOS8yLDEzLzIpICgtMjEvMiwzMy8yKQooMCwwKSAoLTIxLzIsMzMvMikgKDE1LzIsLTI1LzIpICg5LzIsLTEzLzIpCigwLDApICgtMTMsMjIpICgxLzIsLTEpICgxLC0zLzIpCigwLDApICg1LzQsLTkvNCkgKDIsLTkvNCkgKC0xMy80LDExLzIpCigwLDApICgtMTUvMiwyNS8yKSAoOS8yLC0xMy8yKSAoMjEvMiwtMzMvMikKKDAsMCkgKC0yMy8yLDM3LzIpICgtMTEvMiwxOS8yKSAoLTkvMiwxMy8yKQooMCwwKSAoLTExLDM1LzIpICgtNywxMikgKC03LzIsNSkKKDAsMCkgKC0xLzIsMS8yKSAoLTkvMiw4KSAoNywtMTIpCigwLDApICgxMCwtMTcpICgxMS8yLC0xOS8yKSAoLTE3LzIsMTQpCigwLDApICgtMSwzLzIpICgzLzIsLTMvMikgKC0xLDIpCigwLDApICgwLDApICgtMjUvMiwzOS8yKSAoLTE3LzIsMTMpCigwLDApICgtMS8yLDEpICgtMSwzLzIpICgxMywtMjIpCigwLDApICgtOS80LDE3LzQpICgtMSw1LzQpICgxMy80LC05LzIpCigwLDApICg5LzIsLTgpICg3LC0xMikgKDEvMiwtMS8yKQooMCwwKSAoLTExLDM1LzIpICg3LC0xMikgKDcvMiwtNSkKKDAsMCkgKDEsLTIpICgxLC0zLzIpICgtMy8yLDMvMikKKDAsMCkgKC00LDExLzIpICgtMyw5LzIpICgxNCwtNDUvMikKCgoKMAoKCgo3MjAKNCAwIDEgMiAzCjQgNCA1IDYgNwo0IDggOSAxMCAxMQo0IDEyIDEzIDE0IDE1CjQgMTYgMTcgMTggMTkKNCAyMCAyMSAyMiAyMwo0IDI0IDI1IDI2IDI3CjQgMjggMjkgMzAgMzEKNCAzMiAxMiAzMyAzNAo0IDM1IDM2IDM3IDM4CjQgMzkgNDAgNDEgNDIKNCA0MyA0NCA0NSA0Ngo0IDIwIDQ3IDQ4IDQ5CjQgNTAgNTEgNTIgNTMKNCA1NCA1NSA1NiA1Nwo0IDU4IDU5IDYwIDYxCjQgNjIgNjMgNjQgNjUKNCA2NiA2NyA2OCA2OQo0IDcwIDcxIDcyIDczCjQgNzQgNzUgNzYgNzcKNCA3OCA3OSA4MCA4MQo0IDgyIDgzIDg0IDg1CjQgODYgODcgODggODkKNCA4OCA4NyA5MCA5MQo0IDgxIDkyIDkzIDk0CjQgOTUgOTYgOTcgOTgKNCA5OSAxMDAgMTAxIDEwMgo0IDEwMyAyIDEwNCA1Mgo0IDIgMSAxMDUgMTA2CjQgMTA3IDEwOCAxMDkgMTEwCjQgMTExIDU2IDExMiAxMTMKNCAxMTQgMTE1IDExNiAxMTcKNCAxMTggMTE5IDEyMCAxMjEKNCAxMjIgMTIzIDEyNCAxMjUKNCAzNyAxMjYgMTI3IDEyOAo0IDEyOSAxMzAgMTMxIDEzMgo0IDE2IDEzMyAxMzQgMTM1CjQgMTM2IDEzNyAxMzggMTM5CjQgMTQwIDEyMyAxNDEgMTQyCjQgMTQzIDE0NCAxNDUgMTQ2CjQgMTQ3IDQzIDQ2IDE0OAo0IDE0OSAxNTAgMTUxIDE1Mgo0IDE1MyAxNTQgMTU1IDE1Ngo0IDE1NyAxNTggMTU5IDE2MAo0IDE2MSAxMjQgMTYyIDE2Mwo0IDE2NCAzMCAyOSAxNjUKNCAxNjYgMTY3IDE2OCAxNjkKNCAxMzYgMTcwIDEzIDE3MQo0IDE3MiAxNzMgMTc0IDE3NQo0IDE3NiAxNzcgMTc4IDE3OQo0IDE4MCAxODEgMTgyIDE4Mwo0IDE4NCAxODUgMTg2IDE4Nwo0IDE4OCAxNDcgMTQ4IDE4OQo0IDE5MCAxOTEgMTkyIDE5Mwo0IDE5NCA4MSAxOTUgMTk2CjQgOSAxOTcgOTYgOTUKNCAxOTggMTk5IDIwMCAyMDEKNCAyMDIgMjAzIDIwNCAyMDUKNCAxNjcgNDQgMTkxIDE5MAo0IDIwNiAyMDcgMjA4IDIwOQo0IDIwNSAyMDQgMjEwIDIxMQo0IDIxMiAxMCAxNCAyMTMKNCAyMTQgMTQxIDEyMyAyMTUKNCAxMTkgMTgxIDE4MCAyMTYKNCA0MiA0MSAxODkgMjE3CjQgMjE4IDIxOSA0NyAyMjAKNCAxMzQgMjIxIDIyMiAxMzUKNCAyMjMgOSA2NyAyMjQKNCAyMjUgMjI2IDIyNyAyMjgKNCA1OSAyMjkgMTczIDIzMAo0IDIzMSAyMzIgNTUgNzMKNCAyMzMgMjM0IDE5NyAyMzUKNCAyMzYgMjM3IDIzOCAyMzkKNCAxMTIgNTYgMTAwIDk5CjQgNzggMTc5IDI0MCA5NAo0IDI0MSAyMTkgMjQyIDI0Mwo0IDk3IDk2IDI0NCAyNDUKNCAxMzEgMjQ2IDI0NyAyNDgKNCAyNDkgMjUwIDI1MSAyNTIKNCAyNTMgMjU0IDI1NSAyNTYKNCAyNDMgMjU3IDI1OCAyNDEKNCA1MiAxMDQgMjU5IDUzCjQgNDEgNDAgMjYwIDI2MQo0IDI2MiAyNjMgMjE3IDExNwo0IDI2NCAyNjUgMjY2IDMKNCAyNjcgNjMgNjIgODQKNCAyNjggMjY5IDI3MCAyNzEKNCAyNzIgMTY4IDEgMjczCjQgMjc0IDI3NSAyNjkgMjY4CjQgMjc2IDI3NyAxOTQgMjc4CjQgMjc5IDI4MCAyMDIgMjgxCjQgMjgyIDI4MyAyMzIgMjMxCjQgMjQ4IDI0NyAyODQgMTMwCjQgMjg1IDI4NiAyODcgMjg4CjQgMjg5IDI5MCA0NyAyOTEKNCAxMzkgMTM4IDI5MiAyOTMKNCAyOTQgMTQxIDIxNCAyOTUKNCAyOTYgMjk3IDIyNiAyMjUKNCAxNTEgMjk4IDI5OSAzMDAKNCAxODYgOTIgODEgMTg3CjQgODAgMzAxIDE5NSA4MQo0IDEzNSAzMDIgMTcgMTYKNCAxMDggNjYgNjkgMTA5CjQgMzAzIDY3IDkgMzA0CjQgMjcwIDI2OSAzMDUgMzA2CjQgMTA3IDMwNyAzMDggMzA5CjQgMTU0IDMxMCAzMTEgMTU1CjQgMzAwIDI5OSAzMTIgNQo0IDIyMCA0NyAyOTAgMzEzCjQgMzE0IDExNyAyMTcgMzE1CjQgMTUzIDIyNyAzMTYgMzE3CjQgMTgyIDQ4IDMxOCAxODMKNCAzMTkgMTIwIDExOSAxNzcKNCAzMjAgMTYyIDMwIDMyMQo0IDIwNSAzMjIgMzIzIDIwMgo0IDIxNyAyNjMgMzI0IDMyNQo0IDMyNiAyOTYgMjI1IDMyNwo0IDMyOCAzMjIgMjA1IDExNAo0IDMyOSAyNDkgMjUyIDMzMAo0IDMzMSA4MiAzMzIgMzMzCjQgMzM0IDMzNSAzMzYgMzM3CjQgMTg5IDQxIDI2MSAxODgKNCAyODUgMjkwIDEgMAo0IDMzOCAxMCAxMyAzMzkKNCAzOCA4OCA5MSAzNQo0IDM0MCAzNDEgMzQyIDM0Mwo0IDM0NCAzNDUgMzQ2IDExMwo0IDM0NyAzNDggMzQ5IDM1MAo0IDkyIDExOCAxMjEgOTMKNCAyNTYgMzI5IDMzMCAyNTMKNCAxNyAzMTMgMjE4IDE4CjQgMTQ1IDE0NCAzNTEgMzUyCjQgMjA5IDIwOCAzNTMgNjEKNCAyMzQgNjggMzU0IDI0NAo0IDMxNyAzMTYgNjggMzU1CjQgMjg2IDE2IDM1NiAyODcKNCAzNTcgMjM0IDM1OCAxNTYKNCA5MCAzNTkgMzYwIDkxCjQgMzYxIDE2NCAxNjUgMzYyCjQgMzYzIDM2NCAyMDcgMjA2CjQgNjEgNjAgMjI2IDIwOQo0IDM2NSAyMjggMjk2IDMyNgo0IDMyNSAzNjYgMzY3IDIxNwo0IDYgMTA3IDM2OCAxNTAKNCAzOCAzNyAxMjggMjgwCjQgMTQ5IDE0IDY3IDcKNCAzNjkgNDUgNDAgMzkKNCAzNzAgMzcxIDYwIDM3Mgo0IDM3MyA3NyA3NiAzNzQKNCAzNzUgMzc2IDE1OCAxNTcKNCAxMSAxMCAxODEgMzc3CjQgMjA3IDIwNSAzNzggMjA4CjQgMzMgMTIgMTUgMzc5CjQgMTEgMzgwIDM4MSA4CjQgMTE1IDM4MiAzODMgMTE2CjQgMzg0IDY2IDEwOCAzODUKNCAzODYgMTI5IDM1MCAzMzUKNCAxNDQgMzg3IDI0MiAzNTEKNCAzODggMjMyIDM4OSAzOTAKNCAyNTQgMzkxIDM5MiAyNTUKNCAzIDIgMTAzIDI2NAo0IDIzMSAzOTMgMzczIDI4Mgo0IDI2IDI1IDM5NCAzOTUKNCAzOTYgMzk3IDEwMiAzOTgKNCAyNTIgMzk5IDM0MSAzMzAKNCA3MyA3MiAzOTMgMjMxCjQgNjQgNDAwIDgzIDY1CjQgNDAxIDQwMiA0MDMgNDA0CjQgMTcxIDEzIDQwNSA0MDYKNCA0MDcgMjgzIDI1MCA0MDgKNCAyNDIgMjE5IDQwOSAzNTEKNCA0MTAgNDExIDI0IDI3CjQgMzEyIDQxMiA0MTMgNDE0CjQgMzEwIDM2NSAzMjYgMzQ5CjQgMzUgNDE1IDQxNiAyODAKNCAxMjEgNDE3IDE4NSA5Mwo0IDE4NCA0MTggNDE5IDQyMAo0IDI4OCAzODcgMjkwIDI4NQo0IDQwMCA0MDUgNDIxIDI2Nwo0IDIyNCA0MjIgNDIzIDQyNAo0IDE5OSAyNDIgNDI1IDQyNgo0IDQxMiA0MjcgNDI4IDQxMwo0IDE1MiAxNTEgMzAwIDQyOQo0IDQzMCA0MjEgMjk0IDI5NQo0IDM3NCA3NiAxODggNzEKNCA0MzEgNDMyIDI2MiAxMTcKNCA3NyA0MzMgMjU0IDI1Mwo0IDQzNCAyOSA0MzUgNDM2CjQgMjg0IDQyNSAyNDIgMjQ2CjQgNDMzIDQzNyAzOTEgMjU0CjQgMTAwIDU2IDU1IDQzOAo0IDQzOSA0NDAgNDQxIDQ0Mgo0IDQ0MyAzMzggNDQ0IDQ0NQo0IDg5IDg4IDM4IDM1Ngo0IDQ0NiA0NDcgMjUzIDIyMgo0IDQ0OCAyNiAzOTUgNDE0CjQgNDQ0IDMzOCAzMzkgNDQ5CjQgNDUwIDI0OSAzMjkgMzQyCjQgNzUgMTY2IDE2OSA0NDYKNCA0NTEgNDUyIDI5IDQ1Mwo0IDQ1NCA0NDQgNDQ5IDMzMgo0IDQ1NSAyMzYgMzc4IDIwNQo0IDQ1NiAzNjkgNTUgNTQKNCAzMzAgMzQxIDM0MCAyNTMKNCAzMzIgNDU3IDQ1OCA0NTQKNCAxMjkgMzYwIDg5IDM1Ngo0IDM0MyA0NTkgNDAxIDM0MAo0IDE1MiAyOTQgMTQgMTQ5CjQgMTc5IDE3OCAzMTkgMjQwCjQgNDYgNDUgMiA0NjAKNCA0NjEgNDYyIDIzMCA0NjMKNCAyOSA0NTIgNDY0IDE2NQo0IDQ2NSAzMCAxNjQgNDY2CjQgNDY3IDMxNiAzNzEgMzg0CjQgMzY2IDU3IDQ1NiAzNjcKNCAzMDYgNDY4IDQyMCAzMTEKNCAxNTggNDY5IDM1OCAxNTkKNCAyOTggNDcwIDQ3MSA4NQo0IDM3MiA0NzIgNDczIDQ3NAo0IDIwNiA0MzUgMjI5IDM2Mwo0IDggMzgxIDI3NyAyNzYKNCA0NTIgNDI1IDM1OSA5MAo0IDQ2NiAxNjQgMzYxIDQxNgo0IDk0IDI0MCAxNzYgODEKNCA0MDUgMTMgMTIgMzIKNCAyMjYgNjAgMjUgMjQKNCAzMzQgNDY5IDQyNSA0NzUKNCA0NzYgNDc3IDc3IDM5Ngo0IDM1OCAyMzQgNDc4IDMwNQo0IDQ3OSAxNjYgNzUgNzQKNCA0ODAgMjIzIDIyNCA0MjQKNCAxMzIgMjAwIDQ4MSAxMjkKNCAyOTcgMjkgNDM0IDIzOAo0IDQ1OCAyMTIgMjEzIDQ4Mgo0IDE2OSA0ODMgNDQ3IDQ0Ngo0IDQ4NCA1NCA1NyAzNjYKNCAyMjEgMjcyIDI3MyA0ODUKNCA0ODYgMTcwIDE4MSA0NDMKNCAzMDQgOSA2OCA0ODcKNCAzNDggNDg4IDQ4OSA0OTAKNCAzMzcgMjk3IDQ2OSAzMzQKNCAyMDAgMTk5IDQyNiA0ODEKNCAyNTkgMTA0IDQ5MSA0OTIKNCAyODcgMzU2IDM4IDI2NQo0IDE4IDIxOCAyMjAgMzAyCjQgOTQgNDQxIDQ5MyA3OAo0IDM0MiAzMjkgMjU2IDM0Mwo0IDIwMiAzNjEgMzYyIDIxMQo0IDczIDU1IDQ0IDcwCjQgNDk0IDI1MSAxNjggMjMKNCAxNTAgMzY4IDI5OCAxNTEKNCA3NyA0NzcgNDk1IDI1Ngo0IDQ5NiAzNzAgNDk3IDQ5OAo0IDQ5OSA1MDAgMTMyIDI1Nwo0IDI2MSA1MDEgNTAyIDE4OAo0IDUwMyAxNjIgMjI5IDUwNAo0IDM5MyAzOTYgNzcgMzczCjQgMzk4IDUwNSA1MDYgMzk2CjQgMzE2IDIyNyA0MTEgMzk0CjQgNTA3IDMyNSA0MzEgNTA4CjQgMjk5IDUwOSA1MTAgNTExCjQgNTEyIDExMCA0MTQgNTEzCjQgMzEzIDI5MCAyMTkgMjE4CjQgNTE0IDQ5OSAyNTcgMjQzCjQgMjUzIDQ0NyA3NCA3Nwo0IDQyMSAxMTIgNjMgMjY3CjQgMzM5IDQ4NiA1MTUgNDQ5CjQgNDA5IDIxOSAyOTAgMTQzCjQgNTE2IDU5IDEyMyAxNDAKNCAxMzggMjU2IDUxNyAyOTIKNCA5MSAzNjAgMTI5IDM1CjQgNDkxIDUxIDUwIDQ5Mgo0IDUxOCAxMDUgMTkwIDE5Mwo0IDM1NiAyNDggMTMwIDEyOQo0IDM3NyAxODEgMTE5IDI3OAo0IDM0MSAzOTkgNDUwIDM0Mgo0IDU4IDUxOSAzNjQgMzYzCjQgMjMgMjIgNTIwIDQ5NAo0IDE2OCAyNTEgNDgzIDE2OQo0IDMxMSA1MjEgMzQ3IDM1MAo0IDI4MSAyMDIgMTE3IDMxNAo0IDUyMiA5NCAxODQgNTIzCjQgMCA1MjQgMjg2IDI4NQo0IDIxMyAxNCAxMyA1MjUKNCA0OTQgNTIwIDUyNiA1MjcKNCA1MTEgNDczIDQ5OCAyOTkKNCAyMTUgNDMwIDUyOCA1MjkKNCA0NzUgMzg2IDMzNSAzMzQKNCAyMDggMzc4IDQ0OCAzNTMKNCA0ODcgNjggNjcgMzAzCjQgMjczIDI4OSAxMzMgNDg1CjQgNDM4IDUzMCAzOTcgNTMxCjQgNTEgNDY1IDEwMyA1Mgo0IDM0MyA1MTUgNDQ1IDE5NQo0IDIxOSAxMjAgNDQwIDQzOQo0IDExNCAxNzIgMTc1IDQzMQo0IDUzMiA1MzMgNTM0IDQ3MAo0IDMxNyA1MTMgMTU0IDE1Mwo0IDIxNyAzNjcgNDg0IDUwMgo0IDUzNSAxNjggMTY3IDUzNgo0IDE2MCAxNTkgMzc2IDM3NQo0IDEyMCAyNzQgNDE3IDEyMQo0IDI0NSA1MzcgMTEwIDQyMAo0IDM5NCA0MTEgNDEwIDM5NQo0IDY5IDQ2NyA1MzggMTA5CjQgNTM5IDU0MCA1NDEgMjIyCjQgNDk1IDU0MiA1MTcgMjU2CjQgNTM4IDQ2NyAzODQgMzg1CjQgNTMzIDQwNSAyOTQgNTM0CjQgMjY2IDU0MyA1MzkgNTI0CjQgNDMyIDE2MSAxNjMgMjYyCjQgMjcxIDI3MCA1MDAgMTg0CjQgMzc4IDMyNyAzNjUgMzEwCjQgMzQgMzMgMzMyIDgyCjQgMzU5IDQyNSAzODcgODYKNCA0NDcgNDgzIDQ3OSA3NAo0IDIwOSAyMjYgNDM1IDIwNgo0IDI1MSAxODIgMzk5IDI1Mgo0IDU0NCAyNzQgMjM0IDIzMwo0IDU3IDU2IDM2OSA0NTYKNCA0NzQgNDczIDUxMSA0NDgKNCAxMDIgMTAxIDMyNSAzOTgKNCA0NCA1NSA1NDUgMjYwCjQgMjYzIDU0NiA1NDcgMzI0CjQgMzYyIDQxNSAzNSAyMTEKNCAyNTUgMzkyIDQzNyA0MzMKNCA0OTggNDk3IDMxMiAyOTkKNCAxMzMgMjg5IDI5MSAxMzQKNCA0OSA0OCAxODIgNTI3CjQgNTQ4IDMxNSA1NDkgNTUwCjQgMzA3IDMwMyAzMDQgMzA4CjQgNjMgMTEyIDM4OSA2NAo0IDIwNCA1NTEgMjggMjEwCjQgMTI1IDUwOCA1NTIgMTIyCjQgNTUzIDUwMyA1MDQgMzI4CjQgMzkxIDI1MSAyNTAgMzkyCjQgNDMxIDU1NCAxMTUgMTE0CjQgMTA1IDEgMTY3IDE5MAo0IDI1MCAzODkgNTU1IDQwOAo0IDI0MCAzMTkgMTc3IDE3Ngo0IDU1NiAyMjMgNDgwIDU1Nwo0IDU1OCAxNzAgMTgyIDQwMgo0IDExMyAxMTIgNDIxIDM0NAo0IDU1NCA1NTkgMzgyIDExNQo0IDU1IDIzMiA1MzAgNDM4CjQgNDEzIDQyOCA1NjAgNTYxCjQgNDI5IDE0MSAyOTQgMTUyCjQgMTA2IDEwNSA1MTggNTYyCjQgNDE5IDIzMyAyMzUgNTYzCjQgMzEyIDQ5NyA0NzQgNDQ4CjQgNTAxIDU0NSAzOSA0Mgo0IDU2NCA0NjUgNDUgNTUwCjQgMzY0IDExNCAyMDUgMjA3CjQgNDA4IDU1NSA1NDIgNDk1CjQgNTYyIDUxOCA1MzkgNTQzCjQgMzU2IDE0NSAzNTIgMTMyCjQgNTE1IDQ4NiA0NDMgNDQ1CjQgNDU5IDU1OCA0MDIgNDAxCjQgNTA2IDM4OCAzOTAgNTY1CjQgNTI4IDQzMCAyOTUgNTY2CjQgMTg5IDE0OCA1NjcgNTQzCjQgNTE0IDI3NSAyNzQgNTY4CjQgMzg3IDEwMyA4NyA4Ngo0IDE2MiAzNjkgNTQ2IDE2Mwo0IDUwMiA1MDEgNDIgMjE3CjQgNTY5IDc5IDc4IDM0MAo0IDExNiAzODMgNTU5IDU1NAo0IDI2MCA1NDUgNTAxIDI2MQo0IDM5OCA2MiA2NSA1MTcKNCA5NiAxOTcgMjM0IDI0NAo0IDQ5IDU3MCAyMSAyMAo0IDEzOSAyNTAgMTcwIDEzNgo0IDMzMiAzMyAzNzkgMzY4CjQgNTcxIDQ4OCAzNDggMzQ3CjQgNzYgNzUgNDQ2IDIyMgo0IDQ2OSAyOTcgNDg4IDU3MQo0IDUyNyA1MjYgNTcwIDQ5CjQgMSAyOTAgMjg5IDI3Mwo0IDI0NiAyNDIgMzg3IDI0Nwo0IDM4MyAxNjIgMTI0IDU1OQo0IDI5MSAyNzIgMjIxIDEzNAo0IDEyNyA0NjUgNDUyIDU3Mgo0IDE3NSA0NjEgNTczIDQzMQo0IDI4MCA1MCA1MyAzOAo0IDQ3MSA1NzQgNTMzIDUzMgo0IDE5MyAxOTIgMTg4IDc2CjQgNDI2IDU3NSA1NzYgNDgxCjQgNTUxIDQzNSAyOSAyOAo0IDQ1NCA0NTggNDgyIDM2OAo0IDUzNiAxNjcgMSA1NzcKNCAxMTAgNTc4IDMwNyAxMDcKNCAxMjIgNTUyIDM0NSAzNDQKNCAzMDkgMzA4IDU3OCAxMTAKNCA1NDggMzY5IDE2MiAzMjAKNCA1MDggNDMxIDU3MyA1NTIKNCAzNzkgNTc5IDI5OCAzNjgKNCA1NjUgMzkwIDU4MCA1MDUKNCAzNTIgNTgxIDE5IDEzMgo0IDU0MyAyNTkgNDkyIDE4OQo0IDU2NiA1ODIgMjk5IDI5OAo0IDUzIDI1OSA1NDMgMzgKNCAzNDkgMzQ4IDQ5MCAzMTAKNCAzODkgNDA1IDQwMCA2NAo0IDg3IDEwMyA0NTIgOTAKNCA2MCA1OSA0NzIgMzcyCjQgNDQyIDQ0MSA5NCAxOQo0IDQ4OSA1ODMgNTIxIDQ5MAo0IDU3MiA0NTIgMTAzIDEyNgo0IDU3NyAxIDE2OCA1MzUKNCAxMzAgMjg0IDI0NiAxMzEKNCA1NDcgMTYxIDQzMiAzMjQKNCAzNjggNDIzIDU1NyA0NTQKNCA0MjggMzE2IDYwIDU2MAo0IDMwIDE2MiA1MDMgNTg0CjQgNTYgMTI0IDE2MSA1NDcKNCAzOTkgMTgyIDE3MCA0NTAKNCAyMzcgMjI2IDI5NyAyMzgKNCA3MSAxODggNTAyIDcyCjQgNTc5IDU4NSAzMiAzNAo0IDEwMSAxMDAgNDM4IDUzMQo0IDMwOSA0ODAgNDI0IDEwNwo0IDgyIDUzMiA0NzAgMjk4CjQgMzUwIDE1NyAxNjAgMzExCjQgMzE1IDIxNyAxODkgNTQ5CjQgMTMgMTcwIDQ4NiAzMzkKNCAyNjQgMTAzIDM4NyAyODgKNCA0NyAxNjggMjcyIDI5MQo0IDc5IDMxOCAyMTYgODAKNCAzNiA1NzIgMTI2IDM3CjQgMzUwIDU3NiAyMDEgNTAwCjQgMjU2IDI1NSA0MzMgNzcKNCAyMTAgMjggMzEgMjAzCjQgNTgwIDExMiAyMzIgMzg4CjQgMjkwIDM4NyAxNDQgMTQzCjQgNTQxIDUzNSA1MzYgNTg2CjQgMjMyIDI4MyA0MDcgNTg3CjQgNDcyIDU5IDE0MSA0OTYKNCAzODUgMTA4IDEwNyAzMTIKNCAxNTYgMzU4IDIyNyAxNTMKNCA1NzYgNTc1IDE5OCAyMDEKNCA1MzQgMjk0IDQyMSA1NzQKNCAxNSA1ODUgNTc5IDM3OQo0IDM3NyAxOTYgMzgwIDExCjQgNDYzIDE3MiAxMTQgNTExCjQgNTg4IDU4OSA1OTAgNDkzCjQgMjkyIDUxNyA4MiAzMzEKNCAzNDUgODUgMzk4IDM0Ngo0IDUyNCA1MzkgMTYgMjg2CjQgNDgxIDU3NiAzNTAgMTI5CjQgNDU3IDUyNSAyMTIgNDU4CjQgMzY4IDQ4MiA0NTcgMzMyCjQgMzM2IDM0OSAyMTEgNTkxCjQgNzAgNDQgMTY3IDU5Mgo0IDU1MCA0NSAzNjkgNTQ4CjQgNTM5IDUxOCAxOTMgNzYKNCA0MTYgMzYxIDIwMiAyODAKNCA0MjQgNDIzIDM2OCAxMDcKNCAyMzUgMTk3IDI3NCA1NDQKNCAzMjEgMzAgNDY1IDU2NAo0IDMyMSAyODEgMzE0IDMyMAo0IDE1NiAxNTUgNTkzIDM1Nwo0IDMyMyA1NTMgMTE3IDIwMgo0IDIyNyAzNTggNTgzIDQ4OQo0IDQgMzcxIDE0MSA0MjkKNCAyNzggMTk0IDE5NiAzNzcKNCA0MTQgNDEzIDU2MSA0NDgKNCA2MSAzNTMgNTE5IDU4CjQgMjIgMjIyIDI1MyA1MjAKNCA0ODIgMjEzIDUyNSA0NTcKNCA1MzAgMjMyIDExMiA5OQo0IDE4NSA0MTcgNTk0IDE4Ngo0IDI4MyAxNjcgMTY2IDQ3OQo0IDM4MiAyMjkgMTYyIDM4Mwo0IDUyMCAyNTMgMzQwIDUyNgo0IDUwMCAzNzUgMTU3IDM1MAo0IDEwOSA1MzggNDE0IDExMAo0IDMwNSA0NzggNDY4IDMwNgo0IDM5MCAzODkgMTEyIDU4MAo0IDM3NiAyNzUgNDY5IDE1OAo0IDQxMSAyMjcgMjI2IDI0CjQgNTExIDUxMCA1OTUgNTczCjQgMzYwIDM1OSA4NiA4OQo0IDE3MyAyMjkgMTI0IDE3NAo0IDQzNiAyMzcgMjM2IDQ1NQo0IDQ1IDQ2NSA1MSA0OTEKNCAxMjYgMTAzIDQ2NSAxMjcKNCAyMzkgNTk2IDIxMSAzNDkKNCAxMTEgNTA3IDUwOCAxMjUKNCA1NDYgMzY5IDU2IDU0Nwo0IDE2MyA1NDYgMjYzIDI2Mgo0IDQwNCA0MDMgNTU4IDQ1OQo0IDUyNiAzNDAgNzggNTcwCjQgMzUzIDQ0OCA1MTEgNTE5CjQgNTQwIDU3NyA1MzUgNTQxCjQgNDczIDQ3MiA0OTYgNDk4CjQgMzUxIDQwOSA1ODEgMzUyCjQgNTU3IDQ4MCAzMDkgNDU0CjQgMTQgMjk0IDU4NSAxNQo0IDUxNyA1NjUgNTA1IDM5OAo0IDU1OSAxMjQgMjI5IDM4Mgo0IDMwMSAxODAgMTgzIDU2OQo0IDMyMiA1OTcgNTg0IDMyMwo0IDUwNSA1ODAgMzg4IDUwNgo0IDE4MSAxMCAzMzggNDQzCjQgNjcgMTQgNDIyIDIyNAo0IDM4MSAzMDkgMTg3IDI3Nwo0IDU5NCAxMTggOTIgMTg2CjQgMzU3IDU5MyA1MTIgMzU1CjQgNTk4IDUyMiA1MjMgNTY4CjQgNTIxIDU4MyA1NzEgMzQ3CjQgMzc4IDIzNiAyMzkgMzQ5CjQgMyAyNjYgNTI0IDAKNCA0MzUgMjI2IDIzNyA0MzYKNCAxOSAxOCAzMDIgMTM1CjQgMjk1IDIxNCA1ODIgNTY2CjQgMzk3IDUzMCA5OSAxMDIKNCAxMjQgMTIzIDQ2MiAxNzQKNCAyMTYgMTgwIDMwMSA4MAo0IDM5NSA0MTAgMzEwIDQxNAo0IDQ0MSA0NDAgNTg4IDQ5Mwo0IDM3MSA2NyA2NiAzODQKNCAyMyAxNjggNDcgMjAKNCAzOTIgMjUwIDI4MyA0MzcKNCA1NjggMjc0IDEyMCA1OTgKNCA0NjAgMiA0NCA0Mwo0IDE5IDU4MSAxNDYgMTYKNCA0NzAgNTM0IDU3NCA0NzEKNCAxMzIgMTMxIDI0OCAzNTYKNCAzNjcgNDU2IDU0IDQ4NAo0IDIwMyAzMSA1NTEgMjA0CjQgNTEzIDQxNCAzMTAgMTU0CjQgMTI1IDEyNCA1NiAxMTEKNCA1ODcgNDA3IDQ3NyA0NzYKNCA1MTkgNTExIDExNCAzNjQKNCAyMDEgMjAwIDEzMiA1MDAKNCAyNzUgMjQyIDE5OSAxOTgKNCA2OCAzMTYgNDY3IDY5CjQgODQgNjIgMzk4IDg1CjQgMjk5IDU4MiA1MjkgNTczCjQgNDk3IDM3MCAzNzIgNDc0CjQgMTEzIDM0NiA1MDcgMTExCjQgMTc0IDQ2MiA0NjEgMTc1CjQgOTggOTcgMTg3IDMwOQo0IDU3MCA3OCAxMzUgMjEKNCA0MjAgNDE5IDU2MyAxODcKNCA0ODUgMTMzIDE2IDUzOQo0IDI0MyAyNDIgMjc1IDUxNAo0IDE4OCAxOTIgNTYyIDU0Mwo0IDUyNyAxODIgMjUxIDQ5NAo0IDQ0OCA1NjEgNDEyIDMxMgo0IDcgNjcgMzcxIDQKNCA1NjEgNTYwIDQyNyA0MTIKNCA1NTIgNTczIDg1IDM0NQo0IDI5MyAyOTIgMzMxIDQwNgo0IDI3NiAxOTcgOSA4CjQgMzMzIDMzMiAzNDMgMTM3CjQgNDg4IDI5NyAyMjcgNDg5CjQgNTczIDU5NSA1MDkgMjk5CjQgNzIgNTAyIDM5NiAzOTMKNCA0MTQgNTM4IDM4NSAzMTIKNCAxOTcgMTE5IDExOCA1OTQKNCAzNjMgMjI5IDU5IDU4CjQgMzE4IDQ4IDExOSAyMTYKNCAxODcgOTcgMjQ1IDQyMAo0IDE0NiAxNDUgMzU2IDE2CjQgNTc0IDQyMSA0MDUgNTMzCjQgNDc3IDQwNyA0MDggNDk1CjQgNTAyIDQ4NCAzNjYgMzI1CjQgNDkyIDUwIDI4MCAxODkKNCA1ODkgNDcgMjE5IDQzOQo0IDI5OCA1NzkgMzQgODIKNCAzMDggMzA0IDQ4NyA1NzgKNCA2NSA4MyA4MiA1MTcKNCA1ODYgNTM2IDU3NyA1NDAKNCAyNSA2MCAzMTYgMzk0CjQgNDc1IDQyNSA0NTIgNDUxCjQgMzgwIDQ1NCAzMDkgMzgxCjQgNTY4IDUyMyA0OTkgNTE0CjQgMzQ0IDQyMSAxMjMgMTIyCjQgMjExIDU5NiA0NTUgMjA1CjQgMzM1IDM1MCAzNDkgMzM2CjQgNTk5IDM1IDEyOSAzODYKNCA0NjggNDc4IDI2OCAyNzEKNCA0OTMgNTkwIDEzNSA3OAo0IDIzMCAxNzMgMTcyIDQ2Mwo0IDU0MyA1NjcgMTQ3IDE4OAo0IDU4MyAzNTggNDY5IDU3MQo0IDcgNiAxNTAgMTQ5CjQgODUgNTI4IDU2NiAyOTgKNCA1IDMxMiAxMDcgNgo0IDE4MyAzMTggNzkgNTY5CjQgNDAgNDUgNDQgMjYwCjQgMTE3IDU1MyAzMjggMTE0CjQgMTkxIDQ0IDIgMTA2CjQgMzU0IDY4IDkgOTUKNCA0MjAgNDY4IDI3MSAxODQKNCAyMSAxMzUgMjIyIDIyCjQgMTAgOSAyMjMgNTU2CjQgNTA5IDE0MiA1MTYgNTEwCjQgMjQ3IDM4NyA0MjUgMjg0CjQgMTcxIDMzMyAxMzcgMTM2CjQgNTc1IDQ2OSAyNzUgMTk4CjQgNDE3IDI3NCAxOTcgNTk0CjQgMjkzIDM4OSAyNTAgMTM5CjQgMjQ0IDM1NCA1MzcgMjQ1CjQgNTM3IDM1NCA5NSA5OAo0IDEzNSA1OTAgNDQyIDE5CjQgNTkyIDE2NyAyODMgMjgyCjQgNDE4IDU0NCAyMzMgNDE5CjQgMTg3IDU2MyA0MTggMTg0CjQgNDI1IDQ2OSA1NzUgNDI2CjQgMTA0IDIgNDUgNDkxCjQgMjU4IDE5IDk0IDUyMgo0IDE1OSAzNTggMjc1IDM3Ngo0IDI4MCAxMjggMzYgMzUKNCAzNDYgMzk4IDMyNSA1MDcKNCA1MDAgMjcwIDMwNiAzMTEKNCA1OTggMTIwIDIxOSAyNDEKNCA1NjAgNjAgMzcxIDQyNwo0IDMzNyAzMzYgNTkxIDQ1Mwo0IDQ0OSA1MTUgMzQzIDMzMgo0IDMxIDMwIDQzNSA1NTEKNCAzMjcgMjI1IDIyOCAzNjUKNCA0NzggMjM0IDI3NCAyNjgKNCAyMTEgMjEwIDIwMyAyMDIKNCAyNzggMTE5IDE5NyAyNzYKNCA1OTMgNDIwIDExMCA1MTIKNCAxMTAgNTM3IDk4IDMwOQo0IDE0MiAxNDEgNTkgNTE2CjQgNTUwIDU0OSAyNzkgNTY0CjQgMjI4IDIyNyAyOTcgMjk2CjQgNTIzIDE4NCA1MDAgNDk5CjQgODUgNDcxIDUzMiA4Mgo0IDU3MyA0NjEgNDYzIDUxMQo0IDM0MCA0MDEgNDA0IDE5NQo0IDMxMCA0MTAgMjcgMzc4CjQgMjY1IDM4IDU0MyAyNjYKNCA1NTUgMzg5IDIzMiA1ODcKNCA0NjQgNDUyIDQ2NSA0NjYKNCA0NDAgMTIwIDQ4IDU4OAo0IDM1NSA2OCAyMzQgMzU3CjQgMjI5IDQzNSA1OTcgNTA0CjQgMTI4IDEyNyA1NzIgMzYKNCA1NDUgNTUgMzY5IDM5CjQgNTk2IDQzNCA0MzYgNDU1CjQgMTU1IDMxMSA0MjAgNTkzCjQgNDE1IDQ2NCA0NjYgNDE2CjQgMjQxIDI1OCA1MjIgNTk4CjQgNTA0IDU5NyAzMjIgMzI4CjQgNDI5IDMwMCA1IDQKNCA0MDYgMzMxIDMzMyAxNzEKNCA0MDYgNDA1IDM4OSAyOTMKNCA0MjMgNDIyIDU1NiA1NTcKNCA3NiA1ODYgNTQwIDUzOQo0IDI4MiAzNzMgMzc0IDU5Mgo0IDM1NSA1MTIgNTEzIDMxNwo0IDM0OSAzMjYgMzI3IDM3OAo0IDU4NCA1MDMgNTUzIDMyMwo0IDQwMiAxODIgMTgxIDQwMwo0IDUxMCA1MTYgMTQwIDU5NQo0IDQ1MyAyOSAyOTcgMzM3CjQgNDI3IDM3MSAzMTYgNDI4CjQgMTIzIDQyMSA0MzAgMjE1CjQgNTk1IDE0MCAxNDIgNTA5CjQgMjcgMjYgNDQ4IDM3OAo0IDQ5MCA1MjEgMzExIDMxMAo0IDMyMCAzMTQgMzE1IDU0OAo0IDExNyAxMTYgNTU0IDQzMQo0IDE5NSA0MDQgNDU5IDM0Mwo0IDUzMSAzOTcgMzk2IDUwMgo0IDE3OCA0OCAxMjAgMzE5CjQgMjIyIDIyMSA0ODUgNTM5CjQgMjM4IDQzNCA1OTYgMjM5CjQgNTkwIDU4OSA0MzkgNDQyCjQgNTc4IDQ4NyAzMDMgMzA3CjQgNDM3IDI4MyAyNTEgMzkxCjQgMzExIDE2MCAzNzUgNTAwCjQgMzk2IDUwNiA1NjUgNTE3CjQgNDAzIDE4MSAxNzAgNTU4CjQgNTg1IDI5NCA0MDUgMzIKNCAxNDEgMzcxIDM3MCA0OTYKNCA0MjIgMTQgMTAgNTU2CjQgMjU3IDEzMiAxOSAyNTgKNCAxNzcgMTE5IDQ4IDE3OAo0IDI4OCAyODcgMjY1IDI2NAo0IDEzNyAzNDMgMjU2IDEzOAo0IDU0OSAxODkgMjgwIDI3OQo0IDUyNSAxMyAxMCAyMTIKNCA0NTEgNTk5IDM4NiA0NzUKNCAzMjUgMTAxIDUzMSA1MDIKNCA0NTMgNTkxIDU5OSA0NTEKNCA1OTcgNDM1IDMwIDU4NAo0IDQ2MiAxMjMgNTkgMjMwCjQgNTY0IDI3OSAyODEgMzIxCjQgMTcwIDI1MCAyNDkgNDUwCjQgNTI5IDUyOCA4NSA1NzMKNCA1ODEgNDA5IDE0MyAxNDYKNCAzMDIgMjIwIDMxMyAxNwo0IDU2MyAyMzUgNTQ0IDQxOAo0IDgzIDQwMCAyNjcgODQKNCAzMjQgNDMyIDQzMSAzMjUKNCA1ODIgMjE0IDIxNSA1MjkKNCA1MTcgNTQyIDQ3NiAzOTYKNCAxOTIgMTkxIDEwNiA1NjIKNCAyMjIgNTQxIDU4NiA3Ngo0IDU5MSAyMTEgMzUgNTk5CjQgMjY5IDI3NSAzNTggMzA1CjQgMTk2IDE5NSA0NTQgMzgwCjQgNTkyIDM3NCA3MSA3MAo0IDQ4IDQ3IDU4OSA1ODgKNCAxOTUgMzAxIDU2OSAzNDAKNCAxNjUgNDY0IDQxNSAzNjIKNCA5MyAxODUgMTg0IDk0CjQgNDgzIDI1MSAyODMgNDc5CjQgNDQ1IDQ0NCA0NTQgMTk1CjQgNTY3IDQ2MCA0MyAxNDcKNCAyNzcgMTg3IDgxIDE5NAo0IDE0OCA0NiA0NjAgNTY3CjQgODEgMTc2IDE3OSA3OAo0IDU0MiA1NTUgNTg3IDQ3NgoKCgowCgoK",blueUrl$1="data:null;base64,dlpvbWUgVkVGIDYgZmllbGQgZ29sZGVuCgoyNwooMCwwKSAgKC0xLzIsMS8yKSAgKDEvMiwtMSkgICg0LDEpIAooMCwwKSAgKC0xLzIsMS8yKSAgKC0xLzIsMSkgICg0LDEpIAooMCwwKSAgKC0xLzIsMS8yKSAgKC0xLzIsMSkgICgwLDEpIAooMCwwKSAgKC0xLzIsMS8yKSAgKDEvMiwtMSkgICgwLDEpIAooMCwwKSAgKDEvMiwtMSkgICgtMSwzLzIpICAoMSwtMSkgCigwLDApICAoLTEvMiwxKSAgKC0xLDMvMikgICgxLC0xKSAKKDAsMCkgICgtMS8yLDEpICAoLTEsMy8yKSAgKDAsMSkgCigwLDApICAoMS8yLC0xKSAgKC0xLDMvMikgICgwLDEpIAooMCwwKSAgKDEvMiwtMSkgICgtMSwzLzIpICAoNCwxKSAKKDAsMCkgICgxLzIsLTEpICAoMSwtMy8yKSAgKDQsMSkgCigwLDApICAoMS8yLC0xLzIpICAoLTEvMiwxKSAgKDQsMSkgCigwLDApICAoMS8yLC0xLzIpICAoLTEvMiwxKSAgKDAsMSkgCigwLDApICAoMCwwKSAgKDAsMCkgICgxLC0xKSAKKDAsMCkgICgxLzIsLTEpICAoMSwtMy8yKSAgKDEsLTEpIAooMCwwKSAgKDEvMiwtMS8yKSAgKDEvMiwtMSkgICg0LDEpIAooMCwwKSAgKDEvMiwtMS8yKSAgKDEvMiwtMSkgICgwLDEpIAooMCwwKSAgKDAsMCkgICgwLDApICAoMywzKSAKKDAsMCkgICgxLzIsLTEpICAoMSwtMy8yKSAgKDMsMykgCigwLDApICAoMS8yLC0xKSAgKC0xLDMvMikgICgzLDMpIAooMCwwKSAgKC0xLzIsMSkgICgxLC0zLzIpICAoMywzKSAKKDAsMCkgICgtMS8yLDEpICAoLTEsMy8yKSAgKDMsMykgCigwLDApICAoLTEvMiwxKSAgKC0xLDMvMikgICg0LDEpIAooMCwwKSAgKC0xLzIsMSkgICgxLC0zLzIpICAoNCwxKSAKKDAsMCkgICgxLzIsLTEpICAoMSwtMy8yKSAgKDAsMSkgCigwLDApICAoMCwwKSAgKDAsMCkgICg0LDIpIAooMCwwKSAgKC0xLzIsMSkgICgxLC0zLzIpICAoMSwtMSkgCigwLDApICAoLTEvMiwxKSAgKDEsLTMvMikgICgwLDEpIAoKCgowCgoKCjI4CjQgMCAxIDIgMwo0IDQgNSA2IDcKNCA4IDkgMSAwCjQgMSAxMCAxMSAyCjMgMTIgNSA0CjMgMTIgNCAxMwo0IDEwIDE0IDE1IDExCjMgMTYgMTcgMTgKNCAzIDE1IDE0IDAKNCAxOSAyMCAyMSAyMgo0IDcgMyAyIDIzCjMgMTYgMjAgMTkKMyAxMiAxMyAyNQo0IDE5IDIyIDkgMTcKNCAyNiAyMyAyIDExCjQgMjIgMTAgMSA5CjMgMTYgMTggMjAKNCAyNSAxMyAyMyAyNgo0IDI2IDExIDE1IDYKNCAyMiAyMSAxNCAxMAozIDE2IDE5IDE3CjMgMTIgMjUgNQo0IDE4IDE3IDkgOAo0IDE4IDggMjEgMjAKNCA4IDAgMTQgMjEKNCA0IDcgMjMgMTMKNCAyNSAyNiA2IDUKNCA3IDYgMTUgMwoKCgoxNAogMTAgMSAxNyAyMiAyNCA4IDE5IDE2IDE4IDAgMjEgOSAxNCAyMAoKdGlwIDI0Cg==",yellowUrl$1="data:null;base64,dlpvbWUgVkVGIDYgZmllbGQgZ29sZGVuCgoyNQooMCwwKSAoLTIvMyw0LzMpICgxLzIsMS82KSAoMS8yLC0xKQooMCwwKSAoLTEvMiwxKSAoMCwxKSAoLTEvMiwxLzIpCigwLDApICgtMS8yLDMvMikgKDEvMiwwKSAoMCwwKQooMCwwKSAoLTEvNiw1LzYpICgtMS8yLDUvMykgKDAsMCkKKDAsMCkgKC0xLzIsMikgKDIsMS8yKSAoMCwwKQooMCwwKSAoMS8yLDApICgxLDMvMikgKDAsMCkKKDAsMCkgKDEvMiwxLzIpICgzLzIsMS8yKSAoLTEvMiwxLzIpCigwLDApICgxLzIsLTEvMikgKDEvMiwxLzIpICgtMS8yLDEvMikKKDAsMCkgKDEvMiwtMS8yKSAoMS8yLDEvMikgKDEvMiwtMS8yKQooMCwwKSAoLTEvMiwxKSAoMCwxKSAoMS8yLC0xLzIpCigwLDApICgxLzIsMCkgKDEsLTEvMikgKDAsMCkKKDAsMCkgKDEvMiwxLzIpICgzLzIsMS8yKSAoMS8yLC0xLzIpCigwLDApICgzLzIsLTEpICgyLDApICgxLzIsLTEvMikKKDAsMCkgKDMvMiwtMy8yKSAoMy8yLDEpICgwLDApCigwLDApICg1LzMsLTQvMykgKDMvMiw1LzYpICgtMS8yLDEpCigwLDApICgzLzIsLTEpICgyLDApICgtMS8yLDEvMikKKDAsMCkgKDUvMywtNC8zKSAoMy8yLDUvNikgKDEvMiwtMSkKKDAsMCkgKDAsMy8yKSAoMSwyKSAoMS8yLC0xKQooMCwwKSAoNy82LC01LzYpICg1LzIsLTIvMykgKDAsMCkKKDAsMCkgKDEsMCkgKDIsMSkgKDAsMCkKKDAsMCkgKC0yLzMsNC8zKSAoMS8yLDEvNikgKC0xLzIsMSkKKDAsMCkgKDAsMy8yKSAoMSwyKSAoLTEvMiwxKQooMCwwKSAoMSwtMy8yKSAoMSwtMSkgKDEvMiwtMSkKKDAsMCkgKDEsLTMvMikgKDEsLTEpICgtMS8yLDEpCigwLDApICgzLzIsLTIpICgwLDEvMikgKDAsMCkKCgoKMAoKCgoyNgo0IDAgMSAyIDMKMyA1IDYgNwozIDcgOCA1CjQgOSAyIDEwIDgKNCAyIDEgNyAxMAo0IDUgMTEgMTIgMTMKNCAxNCAxMiAxNSAxNgo0IDE3IDE2IDE4IDQKMyAxMCA3IDYKMyAxMSA1IDgKNCAyMCA5IDEgMAo0IDYgNSAxMyAxNQozIDQgMjEgMTcKNCAxIDkgOCA3CjQgMyAyIDkgMjAKNCAxNiAxNSAxMyAxOAo0IDIwIDAgMjIgMjMKNCAzIDIwIDIzIDI0CjQgMTggMTMgMTIgMTQKMyA4IDEwIDExCjMgMjMgMjIgMjQKNCAyMSAxNCAxNiAxNwo0IDQgMTggMTQgMjEKNCAxMSA2IDE1IDEyCjMgNiAxMSAxMAo0IDAgMyAyNCAyMgoKCgoxMAogNCAxOSAxMiAxNCAxNSAxNyAyMSAxMyAxNiAxOAoKdGlwIDE5Cm1pZGRsZSAxMCA3IDYgOCAxMSA1Cg==",redUrl$1="data:null;base64,dlpvbWUgVkVGIDYgZmllbGQgZ29sZGVuCgo0MQooMCwwKSAoMCwwKSAoMy8yLC0yKSAoMCwtMS8yKQooMCwwKSAoMCwwKSAoOS8xMCwtNy8xMCkgKC0xMy8xMCw3LzUpCigwLDApICgtMS8yLDEpICgtMy81LDkvNSkgKC0zLzEwLC0xLzEwKQooMCwwKSAoLTEvMiwxKSAoMCwxLzIpICgxLC0yKQooMCwwKSAoLTEsMy8yKSAoMTgvNSwxNy8xMCkgKC02LzUsLTI5LzEwKQooMCwwKSAoMS8yLC0xKSAoNCwzLzIpICgtMywwKQooMCwwKSAoMS8yLC0xKSAoMjMvNSwxLzUpICgtMTcvMTAsLTE5LzEwKQooMCwwKSAoMCwwKSAoMzEvMTAsMjcvMTApICgtNy8xMCwtMTcvNSkKKDAsMCkgKDAsMCkgKDUvMiw0KSAoLTIsLTMvMikKKDAsMCkgKDEvMiwtMSkgKDQsMSkgKC0zLzIsLTUvMikKKDAsMCkgKC0xLzIsMS8yKSAoNS8yLDEpICgwLC0zKQooMCwwKSAoMCwwKSAoNy8yLC0xLzIpICgtMS8yLC0yKQooMCwwKSAoMCwwKSAoOS8yLDEvMikgKC0zLzIsLTIpCigwLDApICgtMS8yLDEvMikgKDcvMiwyKSAoLTEsLTMpCigwLDApICgtMS8yLDEpICg0LDMvMikgKC0zLDApCigwLDApICgtMS8yLDEpICgyMy81LDEvNSkgKC0xNy8xMCwtMTkvMTApCigwLDApICgxLC0zLzIpICgxOC81LDE3LzEwKSAoLTYvNSwtMjkvMTApCigwLDApICgxLC0zLzIpICgzLDMpICgtNS8yLC0xKQooMCwwKSAoMS8yLC0xLzIpICg3LzIsMikgKC0xLC0zKQooMCwwKSAoMSwtMy8yKSAoMi81LDMvMTApICgtNC81LDkvMTApCigwLDApICgxLC0zLzIpICgxLC0xKSAoMS8yLC0xKQooMCwwKSAoMCwwKSAoMS8yLDUvMikgKC0zLzIsMCkKKDAsMCkgKC0xLzIsMS8yKSAoMy8yLDEpICgtMiwxKQooMCwwKSAoMS8yLC0xKSAoMywwKSAoLTEvMiwtNS8yKQooMCwwKSAoMS8yLC0xKSAoMCwxKSAoLTEvMiwxLzIpCigwLDApICgtMS8yLDEpICgwLDEpICgtMS8yLDEvMikKKDAsMCkgKC0xLzIsMSkgKDEsMikgKC0zLzIsMS8yKQooMCwwKSAoMS8yLC0xKSAoMSwyKSAoLTMvMiwxLzIpCigwLDApICgxLzIsLTEvMikgKDUvMiwxKSAoMCwtMykKKDAsMCkgKC0xLzIsMSkgKDQsMSkgKC0zLzIsLTUvMikKKDAsMCkgKC0xLzIsMSkgKDMsMCkgKC0xLzIsLTUvMikKKDAsMCkgKDEvMiwtMS8yKSAoMy8yLDEpICgtMiwxKQooMCwwKSAoMS8yLC0xKSAoMCwxLzIpICgxLC0yKQooMCwwKSAoMS8yLC0xKSAoLTMvNSw5LzUpICgtMy8xMCwtMS8xMCkKKDAsMCkgKC0xLDMvMikgKDIvNSwzLzEwKSAoLTQvNSw5LzEwKQooMCwwKSAoLTEsMy8yKSAoMSwtMSkgKDEvMiwtMSkKKDAsMCkgKC0xLzIsMS8yKSAoMS8yLDApICgtMSwxKQooMCwwKSAoLTEsMy8yKSAoMywzKSAoLTUvMiwtMSkKKDAsMCkgKDAsMCkgKC0xLzIsMy8yKSAoLTEvMiwwKQooMCwwKSAoMS8yLC0xLzIpICgxLzIsMCkgKC0xLDEpCigwLDApICgwLDApICg0LDIpICgtMiwtMikKCgoKMAoKCgo0Mgo0IDAgMSAyIDMKNCA1IDYgNyA4CjQgMTAgMTEgMTIgMTMKNCAxNCAxNSAxNiAxNwo0IDggNyAxNSAxNAo0IDMgMiAxOSAyMAozIDIxIDIyIDIzCjQgMjMgMTAgMTMgOQo0IDI0IDI1IDI2IDI3CjQgNiAxMyAxMiA3CjMgMjcgMjYgMTEKMyAyNiAyOCAxMQo0IDE2IDI5IDkgNAozIDIyIDI3IDEwCjMgMjEgMjMgMzAKMyAzMSAyMSAzMAo0IDMyIDMzIDEgMAo0IDIwIDE5IDM0IDM1CjQgMjggMzAgMjkgMTgKNCAxNSAxOCAyOSAxNgo0IDM2IDI0IDI3IDIyCjQgMzAgMjMgOSAyOQo0IDQgOSAxMyA2CjQgMTcgMTYgNCAzNwo0IDM4IDM2IDIyIDIxCjMgMzEgMzAgMjgKNCA3IDEyIDE4IDE1CjMgMjcgMTEgMTAKNCAzNyA0IDYgNQo0IDM1IDM0IDMzIDMyCjQgMzMgMzYgMzggMQo0IDEgMzggMzkgMgo1IDIwIDM1IDMyIDAgMwo0IDE5IDI1IDI0IDM0CjUgMTcgMzcgNSA4IDE0CjQgMTEgMjggMTggMTIKNCAzNCAyNCAzNiAzMwozIDIyIDEwIDIzCjQgMiAzOSAyNSAxOQo0IDM5IDM4IDIxIDMxCjQgMjUgMzkgMzEgMjYKMyAyNiAzMSAyOAoKCgoxNgogNCA5IDEzIDE4IDE3IDggMTQgNSA3IDYgMjkgMTIgMTUgMzcgNDAgMTYKCnRpcCA0MAptaWRkbGUgMzEgMzAgMjggMjYgMTEgMjcgMTAgMjIgMjMgMjEK",greenUrl$1="data:null;base64,dlpvbWUgVkVGIDYgZmllbGQgZ29sZGVuCgozOQooMCwwKSAgKDEvMiwtMS8yKSAgKDEvMiwtMSkgICgwLDEpIAooMCwwKSAgKDEvMiwxLzIpICAoLTEvMiwxLzIpICAoMS8yLDEvMikgCigwLDApICAoMSwtMS8yKSAgKDAsMCkgICgzLzIsLTEpIAooMCwwKSAgKDEsLTEpICAoLTEvMiwxLzIpICAoMS8yLDApIAooMCwwKSAgKDEvMiwwKSAgKDAsMCkgICgtMS8yLDMvMikgCigwLDApICAoMCwzLzIpICAoMCwwKSAgKC0xLzIsMikgCigwLDApICAoMiwyKSAgKDAsMCkgICgyLDIpIAooMCwwKSAgKDI3LzIsLTE3KSAgKDcxLC0xMTUpICAoNDMvMiwtNjEvMikgCigwLDApICAoNS8yLDEpICAoMSwtMy8yKSAgKDEsMykgCigwLDApICAoMjcvMiwtMTcpICAoLTcxLDExNSkgICg0My8yLC02MS8yKSAKKDAsMCkgICgtNjEvMiw1NCkgICg0NCwtNzEpICAoLTk5LzIsMTY5LzIpIAooMCwwKSAgKDMsMCkgICgtMS8yLDEpICAoMiwzLzIpIAooMCwwKSAgKDMvMiw1LzIpICAoLTEvMiwxKSAgKDIsMSkgCigwLDApICAoMSw1LzIpICAoMCwwKSAgKDEvMiwzKSAKKDAsMCkgICgzLzIsMy8yKSAgKDEvMiwtMS8yKSAgKDMvMiwzLzIpIAooMCwwKSAgKDIsMS8yKSAgKDAsMCkgICg1LzIsMCkgCigwLDApICAoMS8yLDEvMikgICgxLzIsLTEvMikgICgxLzIsMS8yKSAKKDAsMCkgICgxLzIsLTEvMikgICgtMS8yLDEpICAoMCwxKSAKKDAsMCkgICgxLC0xKSAgKDEvMiwtMS8yKSAgKDEvMiwwKSAKKDAsMCkgICg2NS8yLC01MikgICg0NCwtNzEpICAoMTAzLzIsLTE2NS8yKSAKKDAsMCkgICgtMjMvMiwxOSkgICgtNzEsMTE1KSAgKC0zOS8yLDY1LzIpIAooMCwwKSAgKDMvMiw1LzIpICAoMS8yLC0xKSAgKDIsMSkgCigwLDApICAoMy8yLDIpICAoMCwwKSAgKDUvMiwxLzIpIAooMCwwKSAgKDEsMykgICgxLzIsLTEvMikgICgzLzIsMikgCigwLDApICAoMSwzKSAgKC0xLzIsMS8yKSAgKDMvMiwyKSAKKDAsMCkgICgtNjEvMiw1NCkgICgtNDQsNzEpICAoLTk5LzIsMTY5LzIpIAooMCwwKSAgKDMvMiwzLzIpICAoLTEvMiwxLzIpICAoMy8yLDMvMikgCigwLDApICAoMiwzLzIpICAoMCwwKSAgKDEvMiw0KSAKKDAsMCkgICg4MS8yLC02MSkgICgwLDApICAoMTMxLzIsLTIwMy8yKSAKKDAsMCkgICgzLDApICAoMS8yLC0xKSAgKDIsMy8yKSAKKDAsMCkgICg2NS8yLC01MikgICgtNDQsNzEpICAoMTAzLzIsLTE2NS8yKSAKKDAsMCkgICgtNzcvMiw2MykgICgwLDApICAoLTEyNy8yLDIwNy8yKSAKKDAsMCkgICg1LzIsMSkgICgtMSwzLzIpICAoMSwzKSAKKDAsMCkgICgtMS8yLDEpICAoMSwtMy8yKSAgKDEsLTEpIAooMCwwKSAgKC0xLzIsMSkgICgtMSwzLzIpICAoMSwtMSkgCigwLDApICAoLTIzLzIsMTkpICAoNzEsLTExNSkgICgtMzkvMiw2NS8yKSAKKDAsMCkgICgtMSwyKSAgKDEvMiwtMSkgICgwLDEvMikgCigwLDApICAoMCwxLzIpICAoMCwwKSAgKDMvMiwtMikgCigwLDApICAoLTEsMikgICgtMS8yLDEpICAoMCwxLzIpIAoKCgowCgoKCjQwCjMgMCAxIDIKNCAzIDQgNSAxCjQgOCA5IDEwIDExCjMgMTIgMTMgMTQKNCAyIDE1IDE0IDE2CjMgMTcgMiAxNgo0IDE4IDE5IDIwIDE3CjMgMjEgMTMgMTIKMyAwIDMgMQo0IDIyIDIzIDE0IDE1CjQgNSAxNiAxNCAxMwo0IDI0IDIxIDcgMjUKMyAyMSAyNiAxMwo0IDIgMSAyNiAxNQozIDIzIDEyIDE0CjQgNCAxOCAxNiA1CjQgMjcgMjggMjUgMjkKNCAzIDMwIDMxIDQKNCAyNCAyMiAxNSAyNgo1IDExIDI3IDI5IDMyIDgKNCAzMyAzNCAzNSAyMAozIDE4IDE3IDE2CjQgMzYgMzcgMzEgMzAKNSAzNiAzNCAzMyAzOCAzNwo0IDEgNSAxMyAyNgo0IDIyIDI0IDI1IDI4CjQgMjEgMTIgOSA3CjMgMCAyIDE3CjMgMjEgMjQgMjYKNCAzNCAzNiAzMCAzNQo0IDE3IDIwIDM1IDAKNCA0IDMxIDE5IDE4CjQgMjkgMjUgNyAzMgo0IDMyIDcgOSA4CjQgMzggMzMgMjAgMTkKNCAxMSAxMCAyOCAyNwo0IDIzIDIyIDI4IDEwCjQgMCAzNSAzMCAzCjQgMTIgMjMgMTAgOQo0IDM3IDM4IDE5IDMxCgoKCjIwCiA2IDcgMTIgOSAxMSAyMiAyMSAyNyAyOCAxMCAzMiAyNiAyMyAyNSAyNCA4IDE1IDEzIDE0IDI5Cgp0aXAgNgo=",shapes$1={connector:connectorUrl$1,blue:blueUrl$1,yellow:yellowUrl$1,red:redUrl$1,green:greenUrl$1},connectorUrl$2="data:null;base64,dlpvbWUgVkVGIDYgZmllbGQgZ29sZGVuCgoxMgooMCwwKSAoLTEvMiwxLzIpICgxLzIsLTEpICgwLDApCigwLDApICgtMS8yLDEvMikgKC0xLzIsMSkgKDAsMCkKKDAsMCkgKDEvMiwtMSkgKDAsMCkgKC0xLzIsMS8yKQooMCwwKSAoMS8yLC0xKSAoMCwwKSAoMS8yLC0xLzIpCigwLDApICgwLDApICgtMS8yLDEvMikgKDEvMiwtMSkKKDAsMCkgKDAsMCkgKC0xLzIsMS8yKSAoLTEvMiwxKQooMCwwKSAoMCwwKSAoMS8yLC0xLzIpICgxLzIsLTEpCigwLDApICgwLDApICgxLzIsLTEvMikgKC0xLzIsMSkKKDAsMCkgKC0xLzIsMSkgKDAsMCkgKC0xLzIsMS8yKQooMCwwKSAoLTEvMiwxKSAoMCwwKSAoMS8yLC0xLzIpCigwLDApICgxLzIsLTEvMikgKDEvMiwtMSkgKDAsMCkKKDAsMCkgKDEvMiwtMS8yKSAoLTEvMiwxKSAoMCwwKQoKCgowCgoKCjIwCjMgIDEgMCAzIAozICAxIDIgMCAKMyAgMyAwIDUgCjMgIDQgMCAyIAozICA1IDAgNCAKMyAgNiAyIDEgCjMgIDcgMSAzIAozICA3IDMgOSAKMyAgNyA2IDEgCjMgIDggMiA2IAozICA4IDQgMiAKMyAgOSAzIDUgCjMgIDEwIDQgOCAKMyAgMTAgNSA0IAozICAxMCA5IDUgCjMgIDExIDYgNyAKMyAgMTEgNyA5IAozICAxMSA4IDYgCjMgIDExIDkgMTAgCjMgIDExIDEwIDggCgoKCjAKCgo=",blueUrl$2="data:null;base64,dlpvbWUgVkVGIDYgZmllbGQgZ29sZGVuCiBzY2FsZSAgKDAsMS8yKSAKCjExCigwLDApICAoLTEsMykgICgxLDApICAoMCwwKSAKKDAsMCkgICgtMSwyKSAgKDAsMikgICgxLC0xKSAKKDAsMCkgICgxLDEpICAoMSw0KSAgKDAsMikgCigwLDApICAoMSwyKSAgKDIsMikgICgtMSwzKSAKKDAsMCkgICgzLC0yKSAgKDIsMikgICgxLDEpIAooMCwwKSAgKDMsLTEpICAoMywwKSAgKDAsMikgCigwLDApICAoMywtMSkgICgyLDMpICAoLTEsNCkgCigwLDApICAoLTEsMikgICgxLC0xKSAgKDIsLTMpIAooMCwwKSAgKDEsMCkgICgyLC0yKSAgKDEsLTEpIAooMCwwKSAgKDEsLTEpICAoMSwwKSAgKDIsLTIpIAooMCwwKSAgKDIsMSkgICgzLDIpICAoMSwxKSAKCgoKMAoKCgoxMgo0IDAgMSAyIDMKMyAyIDQgNgozIDcgOCA5CjQgOSA4IDUgNAo0IDEgOSA0IDIKMyAxIDcgOQozIDMgMiA2CjMgNyAxIDAKMyA0IDUgNgozIDUgMyA2CjQgOCAwIDMgNQozIDggNyAwCgoKCjYKIDQgNSA2IDEwIDIgMwoKdGlwIDEwCg==",yellowUrl$2="data:null;base64,dlpvbWUgVkVGIDYgZmllbGQgZ29sZGVuCiBzY2FsZSAgKDAsMS8yKSAKCjkKKDAsMCkgICgyLDEpICAoMiwxKSAgKDIsMSkgCigwLDApICAoMywtMSkgICgzLC0xKSAgKDMsLTEpIAooMCwwKSAgKDMvMiwxLzIpICAoMiwxLzIpICAoNS8yLC0xKSAKKDAsMCkgICg1LzIsLTEpICAoMy8yLDEvMikgICgyLDEvMikgCigwLDApICAoLTEvMiwzLzIpICAoMCwzLzIpICAoMS8yLDApIAooMCwwKSAgKDAsMy8yKSAgKDEvMiwwKSAgKC0xLzIsMy8yKSAKKDAsMCkgICgtMSwyKSAgKC0xLDIpICAoLTEsMikgCigwLDApICAoMiwxLzIpICAoNS8yLC0xKSAgKDMvMiwxLzIpIAooMCwwKSAgKDEvMiwwKSAgKC0xLzIsMy8yKSAgKDAsMy8yKSAKCgoKMAoKCgo5CjMgMSAyIDMKMyA0IDUgNgo0IDIgNyA1IDQKNCAzIDIgNCA4CjMgMSA3IDIKNCA3IDMgOCA1CjMgNSA4IDYKMyAxIDMgNwozIDggNCA2CgoKCjUKIDAgMSA3IDIgMwoKdGlwIDAK",redUrl$2="data:null;base64,dlpvbWUgVkVGIDYgZmllbGQgZ29sZGVuCiBzY2FsZSAgKDAsMS8yKSAKIAoxMwooMCwwKSAgKDEvMiwxKSAgKC0xLzIsMy8yKSAgKDAsMS8yKSAKKDAsMCkgICgxLzIsMikgICgxLzIsMS8yKSAgKDAsMS8yKSAKKDAsMCkgICgzLzIsMCkgICgzLzIsLTEvMikgICgwLDEvMikgCigwLDApICAoMy8yLC0xKSAgKDEvMiwxLzIpICAoMCwxLzIpIAooMCwwKSAgKDEsMCkgICgwLDEpICAoLTEsMSkgCigwLDApICAoMy8yLC0xLzIpICAoMCwxLzIpICAoMS8yLC0xKSAKKDAsMCkgICgxLC0xKSAgKC0xLDIpICAoMCwwKSAKKDAsMCkgICgxLDIpICAoMiwtMSkgICgwLDApIAooMCwwKSAgKDEvMiwzLzIpICAoMSwxLzIpICAoMS8yLC0xKSAKKDAsMCkgICgxLDEpICAoMSwwKSAgKC0xLDEpIAooMCwwKSAgKDIsMSkgICgxLDEpICAoMCwwKSAKKDAsMCkgICgxLzIsMS8yKSAgKDAsMy8yKSAgKDEvMiwtMSkgCigwLDApICAoMy8yLDEvMikgICgxLC0xLzIpICAoMS8yLC0xKSAKCgoKMAoKCgoxNQo0IDAgMSAyIDMKMyA0IDUgNgozIDcgOCAyCjMgNSAwIDYKMyA3IDkgOAo0IDMgMiA4IDExCjQgNCA5IDEyIDUKMyA3IDEyIDkKMyAxMSA0IDYKMyAwIDMgNgozIDcgMSAxMgozIDMgMTEgNgozIDcgMiAxCjQgMTEgOCA5IDQKNCA1IDEyIDEgMAoKCgo3CiAxIDkgOCAyIDEwIDcgMTIKCnRpcCAxMAo=",greenUrl$2="data:null;base64,dlpvbWUgVkVGIDYgZmllbGQgZ29sZGVuCiBzY2FsZSAgKDAsMS8yKSAKCjExCigwLDApICAoLTIsOCkgICgwLDApICAoLTIsOCkgCigwLDApICAoMiwxKSAgKDQsLTcpICAoLTIsNykgCigwLDApICAoMiwxKSAgKC00LDcpICAoLTIsNykgCigwLDApICAoLTIsNykgICgtNCw3KSAgKDIsMSkgCigwLDApICAoMCwxKSAgKDQsLTcpICAoNCwtNSkgCigwLDApICAoMCwxKSAgKC00LDcpICAoNCwtNSkgCigwLDApICAoNCwtNikgICgwLDApICAoNCwtNikgCigwLDApICAoNCwtNSkgICgtNCw3KSAgKDAsMSkgCigwLDApICAoNCwtNSkgICg0LC03KSAgKDAsMSkgCigwLDApICAoLTIsNykgICg0LC03KSAgKDIsMSkgCigwLDApICAoMiwyKSAgKDAsMCkgICgyLDIpIAoKCgowCgoKCjEyCjMgMSAyIDAKMyAyIDMgMAozIDQgNSA2CjMgNyA4IDYKNCAyIDEgOCA3CjQgNCA4IDEgOQozIDggNCA2CjMgMyA5IDAKNCAzIDIgNyA1CjMgNSA3IDYKMyA5IDEgMAo0IDUgNCA5IDMKCgoKNgogMCAxIDIgOSAzIDEwCgp0aXAgMTAK",shapes$2={connector:connectorUrl$2,blue:blueUrl$2,yellow:yellowUrl$2,red:redUrl$2,green:greenUrl$2},shapes$3={default:shapes,lifelike:shapes$1,tiny:shapes$2},binaryTetrahedralGroupUrl="data:null;base64,dlpvbWUgVkVGIDQKCjI0CigwLDIpCSgwLDApCSgwLDApCSgwLDApCigwLDApCSgwLDIpCSgwLDApCSgwLDApCigwLDApCSgwLDApCSgwLDIpCSgwLDApCigwLDApCSgwLDApCSgwLDApCSgwLDIpCgooMCwxKQkoMCwxKQkoMCwxKQkoMCwxKQooMCwtMSkJKDAsLTEpCSgwLDEpCSgwLDEpCigwLC0xKQkoMCwxKQkoMCwtMSkJKDAsMSkKKDAsLTEpCSgwLDEpCSgwLDEpCSgwLC0xKQooMCwxKQkoMCwtMSkJKDAsLTEpCSgwLDEpCigwLDEpCSgwLC0xKQkoMCwxKQkoMCwtMSkKKDAsMSkJKDAsMSkJKDAsLTEpCSgwLC0xKQooMCwtMSkJKDAsLTEpCSgwLC0xKQkoMCwtMSkKCigwLC0yKQkoMCwwKQkoMCwwKQkoMCwwKQooMCwwKQkoMCwtMikJKDAsMCkJKDAsMCkKKDAsMCkJKDAsMCkJKDAsLTIpCSgwLDApCigwLDApCSgwLDApCSgwLDApCSgwLC0yKQoKKDAsLTEpCSgwLDEpCSgwLDEpCSgwLDEpCigwLDEpCSgwLC0xKQkoMCwxKQkoMCwxKQooMCwxKQkoMCwxKQkoMCwtMSkJKDAsMSkKKDAsMSkJKDAsMSkJKDAsMSkJKDAsLTEpCigwLC0xKQkoMCwtMSkJKDAsLTEpCSgwLDEpCigwLC0xKQkoMCwtMSkJKDAsMSkJKDAsLTEpCigwLC0xKQkoMCwxKQkoMCwtMSkJKDAsLTEpCigwLDEpCSgwLC0xKQkoMCwtMSkJKDAsLTEpCgoKCg==",H4rootsRotationalSubgroupUrl="data:null;base64,dlpvbWUgVkVGIDQKCjYwCigwLDIpCSgwLDApCSgwLDApCSgwLDApCigwLDApCSgwLDIpCSgwLDApCSgwLDApCigwLDApCSgwLDApCSgwLDIpCSgwLDApCigwLDApCSgwLDApCSgwLDApCSgwLDIpCgooMCwxKQkoMCwwKQkoMSwtMSkJKDEsMCkKKDAsLTEpCSgwLDApCSgtMSwxKQkoMSwwKQooMCwtMSkJKDAsMCkJKDEsLTEpCSgtMSwwKQooMCwxKQkoMCwwKQkoLTEsMSkJKC0xLDApCgooMSwtMSkJKDAsMCkJKDEsMCkJKDAsMSkKKC0xLDEpCSgwLDApCSgtMSwwKQkoMCwxKQooLTEsMSkJKDAsMCkJKDEsMCkJKDAsLTEpCigxLC0xKQkoMCwwKQkoLTEsMCkJKDAsLTEpCgooMSwwKQkoMCwwKQkoMCwxKQkoMSwtMSkKKC0xLDApCSgwLDApCSgwLC0xKQkoMSwtMSkKKC0xLDApCSgwLDApCSgwLDEpCSgtMSwxKQooMSwwKQkoMCwwKQkoMCwtMSkJKC0xLDEpCgooMCwxKQkoMSwwKQkoMCwwKQkoMSwtMSkKKDAsLTEpCSgtMSwwKQkoMCwwKQkoMSwtMSkKKDAsLTEpCSgxLDApCSgwLDApCSgtMSwxKQooMCwxKQkoLTEsMCkJKDAsMCkJKC0xLDEpCgooMSwtMSkJKDAsMSkJKDAsMCkJKDEsMCkKKC0xLDEpCSgwLC0xKQkoMCwwKQkoMSwwKQooLTEsMSkJKDAsMSkJKDAsMCkJKC0xLDApCigxLC0xKQkoMCwtMSkJKDAsMCkJKC0xLDApCgooMSwwKQkoMSwtMSkJKDAsMCkJKDAsMSkKKC0xLDApCSgtMSwxKQkoMCwwKQkoMCwxKQooLTEsMCkJKDEsLTEpCSgwLDApCSgwLC0xKQooMSwwKQkoLTEsMSkJKDAsMCkJKDAsLTEpCgooMSwtMSkJKDEsMCkJKDAsMSkJKDAsMCkKKC0xLDEpCSgtMSwwKQkoMCwxKQkoMCwwKQooLTEsMSkJKDEsMCkJKDAsLTEpCSgwLDApCigxLC0xKQkoLTEsMCkJKDAsLTEpCSgwLDApCgooMSwwKQkoMCwxKQkoMSwtMSkJKDAsMCkKKC0xLDApCSgwLC0xKQkoMSwtMSkJKDAsMCkKKC0xLDApCSgwLDEpCSgtMSwxKQkoMCwwKQooMSwwKQkoMCwtMSkJKC0xLDEpCSgwLDApCgooMCwxKQkoMSwtMSkJKDEsMCkJKDAsMCkKKDAsLTEpCSgtMSwxKQkoMSwwKQkoMCwwKQooMCwtMSkJKDEsLTEpCSgtMSwwKQkoMCwwKQooMCwxKQkoLTEsMSkJKC0xLDApCSgwLDApCgooMCwwKQkoMSwwKQkoMSwtMSkJKDAsMSkJCigwLDApCSgtMSwwKQkoLTEsMSkJKDAsMSkJCigwLDApCSgtMSwwKQkoMSwtMSkJKDAsLTEpCQooMCwwKQkoMSwwKQkoLTEsMSkJKDAsLTEpCQoKKDAsMCkJKDAsMSkJKDEsMCkJKDEsLTEpCQooMCwwKQkoMCwtMSkJKC0xLDApCSgxLC0xKQkKKDAsMCkJKDAsLTEpCSgxLDApCSgtMSwxKQkKKDAsMCkJKDAsMSkJKC0xLDApCSgtMSwxKQkKCigwLDApCSgxLC0xKQkoMCwxKQkoMSwwKQkKKDAsMCkJKC0xLDEpCSgwLC0xKQkoMSwwKQkKKDAsMCkJKC0xLDEpCSgwLDEpCSgtMSwwKQkKKDAsMCkJKDEsLTEpCSgwLC0xKQkoLTEsMCkJCgoKKDAsMSkJKDAsMSkJKDAsMSkJKDAsMSkKKDAsLTEpCSgwLC0xKQkoMCwxKQkoMCwxKQooMCwtMSkJKDAsMSkJKDAsLTEpCSgwLDEpCigwLC0xKQkoMCwxKQkoMCwxKQkoMCwtMSkKKDAsMSkJKDAsLTEpCSgwLC0xKQkoMCwxKQooMCwxKQkoMCwtMSkJKDAsMSkJKDAsLTEpCigwLDEpCSgwLDEpCSgwLC0xKQkoMCwtMSkKKDAsLTEpCSgwLC0xKQkoMCwtMSkJKDAsLTEpCgoKCgo=",H4rootsUrl="data:null;base64,dlpvbWUgVkVGIDQKCjEyMAooMCwyKQkoMCwwKQkoMCwwKQkoMCwwKQooMCwwKQkoMCwyKQkoMCwwKQkoMCwwKQooMCwwKQkoMCwwKQkoMCwyKQkoMCwwKQooMCwwKQkoMCwwKQkoMCwwKQkoMCwyKQoKKDAsMSkJKDAsMCkJKDEsLTEpCSgxLDApCigwLC0xKQkoMCwwKQkoMSwtMSkJKDEsMCkKKDAsMSkJKDAsMCkJKC0xLDEpCSgxLDApCigwLDEpCSgwLDApCSgxLC0xKQkoLTEsMCkKKDAsLTEpCSgwLDApCSgtMSwxKQkoMSwwKQooMCwtMSkJKDAsMCkJKDEsLTEpCSgtMSwwKQooMCwxKQkoMCwwKQkoLTEsMSkJKC0xLDApCigwLC0xKQkoMCwwKQkoLTEsMSkJKC0xLDApCigxLC0xKQkoMCwwKQkoMSwwKQkoMCwxKQooLTEsMSkJKDAsMCkJKDEsMCkJKDAsMSkKKDEsLTEpCSgwLDApCSgtMSwwKQkoMCwxKQooMSwtMSkJKDAsMCkJKDEsMCkJKDAsLTEpCigtMSwxKQkoMCwwKQkoLTEsMCkJKDAsMSkKKC0xLDEpCSgwLDApCSgxLDApCSgwLC0xKQooMSwtMSkJKDAsMCkJKC0xLDApCSgwLC0xKQooLTEsMSkJKDAsMCkJKC0xLDApCSgwLC0xKQooMSwwKQkoMCwwKQkoMCwxKQkoMSwtMSkKKC0xLDApCSgwLDApCSgwLDEpCSgxLC0xKQooMSwwKQkoMCwwKQkoMCwtMSkJKDEsLTEpCigxLDApCSgwLDApCSgwLDEpCSgtMSwxKQooLTEsMCkJKDAsMCkJKDAsLTEpCSgxLC0xKQooLTEsMCkJKDAsMCkJKDAsMSkJKC0xLDEpCigxLDApCSgwLDApCSgwLC0xKQkoLTEsMSkKKC0xLDApCSgwLDApCSgwLC0xKQkoLTEsMSkKCigwLDEpCSgxLDApCSgwLDApCSgxLC0xKQooMCwtMSkJKDEsMCkJKDAsMCkJKDEsLTEpCigwLDEpCSgtMSwwKQkoMCwwKQkoMSwtMSkKKDAsMSkJKDEsMCkJKDAsMCkJKC0xLDEpCigwLC0xKQkoLTEsMCkJKDAsMCkJKDEsLTEpCigwLC0xKQkoMSwwKQkoMCwwKQkoLTEsMSkKKDAsMSkJKC0xLDApCSgwLDApCSgtMSwxKQooMCwtMSkJKC0xLDApCSgwLDApCSgtMSwxKQooMSwtMSkJKDAsMSkJKDAsMCkJKDEsMCkKKC0xLDEpCSgwLDEpCSgwLDApCSgxLDApCigxLC0xKQkoMCwtMSkJKDAsMCkJKDEsMCkKKDEsLTEpCSgwLDEpCSgwLDApCSgtMSwwKQooLTEsMSkJKDAsLTEpCSgwLDApCSgxLDApCigtMSwxKQkoMCwxKQkoMCwwKQkoLTEsMCkKKDEsLTEpCSgwLC0xKQkoMCwwKQkoLTEsMCkKKC0xLDEpCSgwLC0xKQkoMCwwKQkoLTEsMCkKKDEsMCkJKDEsLTEpCSgwLDApCSgwLDEpCigtMSwwKQkoMSwtMSkJKDAsMCkJKDAsMSkKKDEsMCkJKC0xLDEpCSgwLDApCSgwLDEpCigxLDApCSgxLC0xKQkoMCwwKQkoMCwtMSkKKC0xLDApCSgtMSwxKQkoMCwwKQkoMCwxKQooLTEsMCkJKDEsLTEpCSgwLDApCSgwLC0xKQooMSwwKQkoLTEsMSkJKDAsMCkJKDAsLTEpCigtMSwwKQkoLTEsMSkJKDAsMCkJKDAsLTEpCgooMSwtMSkJKDEsMCkJKDAsMSkJKDAsMCkKKC0xLDEpCSgxLDApCSgwLDEpCSgwLDApCigxLC0xKQkoLTEsMCkJKDAsMSkJKDAsMCkKKDEsLTEpCSgxLDApCSgwLC0xKQkoMCwwKQooLTEsMSkJKC0xLDApCSgwLDEpCSgwLDApCigtMSwxKQkoMSwwKQkoMCwtMSkJKDAsMCkKKDEsLTEpCSgtMSwwKQkoMCwtMSkJKDAsMCkKKC0xLDEpCSgtMSwwKQkoMCwtMSkJKDAsMCkKKDEsMCkJKDAsMSkJKDEsLTEpCSgwLDApCigtMSwwKQkoMCwxKQkoMSwtMSkJKDAsMCkKKDEsMCkJKDAsLTEpCSgxLC0xKQkoMCwwKQooMSwwKQkoMCwxKQkoLTEsMSkJKDAsMCkKKC0xLDApCSgwLC0xKQkoMSwtMSkJKDAsMCkKKC0xLDApCSgwLDEpCSgtMSwxKQkoMCwwKQooMSwwKQkoMCwtMSkJKC0xLDEpCSgwLDApCigtMSwwKQkoMCwtMSkJKC0xLDEpCSgwLDApCigwLDEpCSgxLC0xKQkoMSwwKQkoMCwwKQooMCwtMSkJKDEsLTEpCSgxLDApCSgwLDApCigwLDEpCSgtMSwxKQkoMSwwKQkoMCwwKQooMCwxKQkoMSwtMSkJKC0xLDApCSgwLDApCigwLC0xKQkoLTEsMSkJKDEsMCkJKDAsMCkKKDAsLTEpCSgxLC0xKQkoLTEsMCkJKDAsMCkKKDAsMSkJKC0xLDEpCSgtMSwwKQkoMCwwKQooMCwtMSkJKC0xLDEpCSgtMSwwKQkoMCwwKQoKKDAsMCkJKDEsMCkJKDEsLTEpCSgwLDEpCQooMCwwKQkoLTEsMCkJKDEsLTEpCSgwLDEpCigwLDApCSgxLDApCSgtMSwxKQkoMCwxKQooMCwwKQkoMSwwKQkoMSwtMSkJKDAsLTEpCQooMCwwKQkoLTEsMCkJKC0xLDEpCSgwLDEpCQooMCwwKQkoLTEsMCkJKDEsLTEpCSgwLC0xKQkKKDAsMCkJKDEsMCkJKC0xLDEpCSgwLC0xKQkKKDAsMCkJKC0xLDApCSgtMSwxKQkoMCwtMSkJCigwLDApCSgwLDEpCSgxLDApCSgxLC0xKQkKKDAsMCkJKDAsLTEpCSgxLDApCSgxLC0xKQkKKDAsMCkJKDAsMSkJKC0xLDApCSgxLC0xKQkKKDAsMCkJKDAsMSkJKDEsMCkJKC0xLDEpCQooMCwwKQkoMCwtMSkJKC0xLDApCSgxLC0xKQkKKDAsMCkJKDAsLTEpCSgxLDApCSgtMSwxKQkKKDAsMCkJKDAsMSkJKC0xLDApCSgtMSwxKQkKKDAsMCkJKDAsLTEpCSgtMSwwKQkoLTEsMSkJCigwLDApCSgxLC0xKQkoMCwxKQkoMSwwKQkKKDAsMCkJKC0xLDEpCSgwLDEpCSgxLDApCQooMCwwKQkoMSwtMSkJKDAsLTEpCSgxLDApCQooMCwwKQkoMSwtMSkJKDAsMSkJKC0xLDApCQooMCwwKQkoLTEsMSkJKDAsLTEpCSgxLDApCQooMCwwKQkoLTEsMSkJKDAsMSkJKC0xLDApCQooMCwwKQkoMSwtMSkJKDAsLTEpCSgtMSwwKQkKKDAsMCkJKC0xLDEpCSgwLC0xKQkoLTEsMCkJCgoKCigwLDEpCSgwLDEpCSgwLDEpCSgwLDEpCigwLC0xKQkoMCwtMSkJKDAsMSkJKDAsMSkKKDAsLTEpCSgwLDEpCSgwLC0xKQkoMCwxKQooMCwtMSkJKDAsMSkJKDAsMSkJKDAsLTEpCigwLDEpCSgwLC0xKQkoMCwtMSkJKDAsMSkKKDAsMSkJKDAsLTEpCSgwLDEpCSgwLC0xKQooMCwxKQkoMCwxKQkoMCwtMSkJKDAsLTEpCigwLC0xKQkoMCwtMSkJKDAsLTEpCSgwLC0xKQoKCgooMCwtMikJKDAsMCkJKDAsMCkJKDAsMCkKKDAsMCkJKDAsLTIpCSgwLDApCSgwLDApCigwLDApCSgwLDApCSgwLC0yKQkoMCwwKQooMCwwKQkoMCwwKQkoMCwwKQkoMCwtMikKCigwLC0xKQkoMCwxKQkoMCwxKQkoMCwxKQooMCwxKQkoMCwtMSkJKDAsMSkJKDAsMSkKKDAsMSkJKDAsMSkJKDAsLTEpCSgwLDEpCigwLDEpCSgwLDEpCSgwLDEpCSgwLC0xKQooMCwtMSkJKDAsLTEpCSgwLC0xKQkoMCwxKQooMCwtMSkJKDAsLTEpCSgwLDEpCSgwLC0xKQooMCwtMSkJKDAsMSkJKDAsLTEpCSgwLC0xKQooMCwxKQkoMCwtMSkJKDAsLTEpCSgwLC0xKQoKCgo=",resources={binaryTetrahedralGroup:binaryTetrahedralGroupUrl,"H4roots-rotationalSubgroup":H4rootsRotationalSubgroupUrl,H4roots:H4rootsUrl},__extends=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),__spreadArrays=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},javaemul,java,com;!function(e){!function(e){var t=function(){function e(){}return e.ensureInt=function(e){return 0|e},e}();e.Coercions=t,t.__class="javaemul.internal.Coercions"}(e.internal||(e.internal={}))}(javaemul||(javaemul={})),function(e){!function(e){var t=function(){function e(){}return e.LOG10E_$LI$=function(){return null==e.LOG10E&&(e.LOG10E=Math.LOG10E),e.LOG10E},e}();e.JreHelper=t,t.__class="javaemul.internal.JreHelper"}(e.internal||(e.internal={}))}(javaemul||(javaemul={})),function(e){!function(t){var n=function(){function t(){}return t.TYPE_$LI$=function(){return null==t.TYPE&&(t.TYPE=Boolean),t.TYPE},t.compare=function(e,t){return e===t?0:e?1:-1},t.hashCode=function(e){return e?1231:1237},t.logicalAnd=function(e,t){return e&&t},t.logicalOr=function(e,t){return e||t},t.logicalXor=function(e,t){return e!==t},t.parseBoolean=function(e){return t=e,"true".toUpperCase()===(null===t?t:t.toUpperCase());var t},t.toString=function(e){return new String(e).toString()},t.valueOf$boolean=function(e){return e?t.TRUE:t.FALSE},t.valueOf$java_lang_String=function(e){return t.valueOf$boolean(t.parseBoolean(e))},t.valueOf=function(t){if("string"===typeof t||null===t)return e.internal.BooleanHelper.valueOf$java_lang_String(t);if("boolean"===typeof t||null===t)return e.internal.BooleanHelper.valueOf$boolean(t);throw new Error("invalid overload")},t.prototype.booleanValue=function(){return t.unsafeCast(e.internal.InternalPreconditions.checkNotNull(this))},t.unsafeCast=function(e){return e},t.prototype.compareTo$javaemul_internal_BooleanHelper=function(e){return t.compare(this.booleanValue(),e.booleanValue())},t.prototype.compareTo=function(t){if(null!=t&&t instanceof e.internal.BooleanHelper||null===t)return this.compareTo$javaemul_internal_BooleanHelper(t);throw new Error("invalid overload")},t.prototype.equals=function(t){return e.internal.InternalPreconditions.checkNotNull(this)===t},t.prototype.hashCode=function(){return t.hashCode(this.booleanValue())},t.prototype.toString=function(){return t.toString(this.booleanValue())},t.FALSE=!1,t.TRUE=!0,t}();t.BooleanHelper=n,n.__class="javaemul.internal.BooleanHelper",n.__interfaces=["java.lang.Comparable","java.io.Serializable"]}(e.internal||(e.internal={}))}(javaemul||(javaemul={})),function(e){!function(t){var n=function(){function t(){}return t.back_$LI$=function(){return null==t.back&&(t.back=t.createNativeObject()),t.back},t.front_$LI$=function(){return null==t.front&&(t.front=t.createNativeObject()),t.front},t.getHashCode=function(n){var r=":"+n,i=t.getProperty(t.front_$LI$(),r);if(!e.internal.JsUtils.isUndefined(i))return t.unsafeCastToInt(i);i=t.getProperty(t.back_$LI$(),r);var o=e.internal.JsUtils.isUndefined(i)?t.compute(n):t.unsafeCastToInt(i);return t.increment(),e.internal.JsUtils.setIntProperty(t.front_$LI$(),r,o),o},t.compute=function(t){for(var n,r=0,i=t.length,o=i-4,a=0;a<o;)r=(null==(n=t.charAt(a+3)).charCodeAt?n:n.charCodeAt(0))+31*(function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(t.charAt(a+2))+31*(function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(t.charAt(a+1))+31*(function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(t.charAt(a))+31*r))),r=e.internal.Coercions.ensureInt(r),a+=4;for(;a<i;)r=31*r+function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(t.charAt(a++));return r=e.internal.Coercions.ensureInt(r)},t.increment=function(){t.count===t.MAX_CACHE&&(t.back=t.front,t.front=t.createNativeObject(),t.count=0),++t.count},t.getProperty=function(e,t){return e[t]},t.createNativeObject=function(){return{}},t.unsafeCastToInt=function(e){return e},t.count=0,t.MAX_CACHE=256,t}();t.StringHashCache=n,n.__class="javaemul.internal.StringHashCache"}(e.internal||(e.internal={}))}(javaemul||(javaemul={})),function(e){var t;(function(e){var t=function(){function e(e){void 0===this.consumer&&(this.consumer=null),this.consumer=e}return e.prototype.apply=function(e){var t;return"function"===typeof(t=this.consumer)?t(e):t.accept(e),e},e}();e.ConsumingFunction=t,t.__class="javaemul.internal.stream.ConsumingFunction",t.__interfaces=["java.util.function.Function"]})((t=e.internal||(e.internal={})).stream||(t.stream={}))}(javaemul||(javaemul={})),function(e){var t;(function(t){var n=function(){function t(){}return t.prototype.chain=function(t){if(t.constructor!==e.internal.stream.StreamRowEnd)throw new java.lang.IllegalStateException},t.prototype.end=function(){},t}();t.TerminalStreamRow=n,n.__class="javaemul.internal.stream.TerminalStreamRow",n.__interfaces=["javaemul.internal.stream.StreamRow"]})((t=e.internal||(e.internal={})).stream||(t.stream={}))}(javaemul||(javaemul={})),function(e){var t;(function(e){var t=function(){function e(e){void 0===this.run&&(this.run=null),void 0===this.next&&(this.next=null),this.run=e}return e.prototype.chain=function(e){null!=this.next?this.next.chain(e):this.next=e},e.prototype.runChain=function(){var e;(void 0===(e=this.run).run?e:e.run)(),null!=this.next&&this.next.runChain()},e}();e.RunnableChain=t,t.__class="javaemul.internal.stream.RunnableChain"})((t=e.internal||(e.internal={})).stream||(t.stream={}))}(javaemul||(javaemul={})),function(e){var t;(function(e){var t=function(){function e(e){void 0===this.loudRunnable&&(this.loudRunnable=null),this.loudRunnable=e}return e.prototype.run=function(){try{(void 0===(e=this.loudRunnable).run?e:e.run)()}catch(t){console.error(t.message,t)}var e},e}();e.QuiteRunnable=t,t.__class="javaemul.internal.stream.QuiteRunnable",t.__interfaces=["java.lang.Runnable"]})((t=e.internal||(e.internal={})).stream||(t.stream={}))}(javaemul||(javaemul={})),function(e){var t;(function(e){var t=function(){function e(e){void 0===this.comparator&&(this.comparator=null),this.comparator=e}return e.prototype.apply=function(e,t){return(void 0===(n=this.comparator).compare?n:n.compare)(e,t)<=0?e:t;var n},e}();e.ChooseSmallest=t,t.__class="javaemul.internal.stream.ChooseSmallest",t.__interfaces=["java.util.function.BiFunction","java.util.function.BinaryOperator"]})((t=e.internal||(e.internal={})).stream||(t.stream={}))}(javaemul||(javaemul={})),function(e){var t;(function(t){var n=function(){function t(t){void 0===this.onCloseChain&&(this.onCloseChain=null),void 0===this.head&&(this.head=null),void 0===this.end&&(this.end=null),void 0===this.data&&(this.data=null),this.head=new e.internal.stream.StreamRowMap(function(e){return e}),this.end=new e.internal.stream.StreamRowEnd(this.head),this.head.chain(this.end),this.data=t}return t.prototype.chain=function(e){return this.end.chain(e),this},t.prototype.play=function(){for(var e=this.data.iterator();e.hasNext();){var t=e.next();if(!this.head.item(t))break}this.head.end()},t.prototype.foldRight=function(t,n){var r=new e.internal.stream.StreamRowReduce(t,n);return this.chain(r),this.play(),r.getResult()},t.prototype.filter=function(t){return this.chain(new e.internal.stream.StreamRowFilter(t))},t.prototype.map=function(t){return this.chain(new e.internal.stream.StreamRowMap(t))},t.prototype.mapToObj=function(t){return this.chain(new e.internal.stream.StreamRowMap(function(e){return"function"===typeof(n=t)?n(e):n.apply(e);var n}))},t.prototype.flatMap=function(t){return this.chain(new e.internal.stream.StreamRowFlatMap(t))},t.prototype.distinct=function(){return this.chain(new e.internal.stream.StreamRowCollector(new java.util.LinkedHashSet))},t.prototype.sorted$=function(){return this.sorted$java_util_Comparator(function(e,t){return e.compareTo(t)})},t.prototype.sorted$java_util_Comparator=function(t){return this.chain(new e.internal.stream.StreamRowSortingCollector(new java.util.ArrayList,t))},t.prototype.sorted=function(e){if("function"===typeof e&&2===e.length||null===e)return this.sorted$java_util_Comparator(e);if(void 0===e)return this.sorted$();throw new Error("invalid overload")},t.prototype.peek=function(t){var n=new e.internal.stream.ConsumingFunction(t);return this.chain(new e.internal.stream.StreamRowMap(function(e){return n.apply(e)}))},t.prototype.limit=function(t){var n=new e.internal.stream.CountingPredicate(t);return this.chain(new e.internal.stream.StreamRowFilterFlop(function(e){return n.test(e)}))},t.prototype.skip=function(t){var n=new e.internal.stream.CountingPredicate(t);return this.chain(new e.internal.stream.StreamRowFilter(function(e){return function(t){return!e.test(t)}}(n)))},t.prototype.forEach=function(e){this.peek(e),this.play()},t.prototype.forEachOrdered=function(e){this.forEach(e)},t.prototype.toArray$=function(){var t=new java.util.ArrayList;return this.chain(new e.internal.stream.StreamRowCollector(t)),this.play(),t.toArray$()},t.prototype.toArray$java_util_function_IntFunction=function(t){var n,r=new java.util.ArrayList;return this.chain(new e.internal.stream.StreamRowCollector(r)),this.play(),r.toArray$java_lang_Object_A("function"===typeof(n=t)?n(r.size()):n.apply(r.size()))},t.prototype.toArray=function(e){if("function"===typeof e&&1===e.length||null===e)return this.toArray$java_util_function_IntFunction(e);if(void 0===e)return this.toArray$();throw new Error("invalid overload")},t.prototype.reduce$java_lang_Object$java_util_function_BinaryOperator=function(e,t){return this.foldRight(java.util.Optional.of(e),t).get()},t.prototype.reduce$java_util_function_BinaryOperator=function(e){return this.foldRight(java.util.Optional.empty(),e)},t.prototype.collect$java_util_stream_Collector=function(t){var n,r="function"===typeof(n=t.supplier())?n():n.get(),i=t.accumulator(),o=new e.internal.stream.ConsumingFunction(function(e,t){return function(n){return"function"===typeof(r=t)?r(e,n):r.accept(e,n);var r}}(r,i));return this.chain(new e.internal.stream.StreamRowMap(function(e){return o.apply(e)})),this.play(),r},t.prototype.min=function(e){return this.foldRight(java.util.Optional.empty(),function(t,n){return(void 0===(r=e).compare?r:r.compare)(t,n)<=0?t:n;var r})},t.prototype.max=function(e){return this.foldRight(java.util.Optional.empty(),function(t,n){return(void 0===(r=e).compare?r:r.compare)(t,n)>=0?t:n;var r})},t.prototype.count=function(){var t=new e.internal.stream.StreamRowCount;return this.chain(t),this.play(),t.getCount()},t.prototype.anyMatch=function(t){var n=new e.internal.stream.StreamRowOnceFilter(t);return this.chain(n),this.play(),n.getPredicateValue()},t.prototype.allMatch=function(t){var n=new e.internal.stream.StreamRowAllFilter(t);return this.chain(n),this.play(),n.getPredicateValue()},t.prototype.noneMatch=function(e){return this.allMatch(function(t){return!("function"===typeof(n=e)?n(t):n.test(t));var n})},t.prototype.findFirst=function(){var t=new e.internal.stream.StreamRowOnceFilter(function(e){return!0});return this.chain(t),this.play(),t.getFirstMatch()},t.prototype.findAny=function(){return this.findFirst()},t.prototype.iterator=function(){var t=new java.util.ArrayList;return this.chain(new e.internal.stream.StreamRowCollector(t)),this.play(),t.iterator()},t.prototype.isParallel=function(){return!1},t.prototype.sequential=function(){return this},t.prototype.parallel=function(){return this},t.prototype.unordered=function(){return this},t.prototype.onClose=function(t){var n=new e.internal.stream.RunnableChain(function(){return new e.internal.stream.QuiteRunnable(t).run()});return null==this.onCloseChain?this.onCloseChain=n:this.onCloseChain.chain(n),this},t.prototype.close=function(){null!=this.onCloseChain&&this.onCloseChain.runChain()},t.prototype.mapToInt=function(e){throw new java.lang.IllegalStateException},t.prototype.mapToLong=function(e){throw new java.lang.IllegalStateException},t.prototype.mapToDouble=function(e){throw new java.lang.IllegalStateException},t.prototype.flatMapToInt=function(e){throw new java.lang.IllegalStateException},t.prototype.flatMapToLong=function(e){throw new java.lang.IllegalStateException},t.prototype.flatMapToDouble=function(e){throw new java.lang.IllegalStateException},t.prototype.spliterator=function(){throw new java.lang.IllegalStateException},t.prototype.reduce$java_lang_Object$java_util_function_BiFunction$java_util_function_BinaryOperator=function(e,t,n){throw new java.lang.IllegalStateException},t.prototype.reduce=function(e,t,n){if(null==e&&null!==e||("function"!==typeof t||2!==t.length)&&null!==t||("function"!==typeof n||2!==n.length)&&null!==n){if(null==e&&null!==e||("function"!==typeof t||2!==t.length)&&null!==t||void 0!==n){if(("function"===typeof e&&2===e.length||null===e)&&void 0===t&&void 0===n)return this.reduce$java_util_function_BinaryOperator(e);throw new Error("invalid overload")}return this.reduce$java_lang_Object$java_util_function_BinaryOperator(e,t)}return this.reduce$java_lang_Object$java_util_function_BiFunction$java_util_function_BinaryOperator(e,t,n)},t.prototype.collect$java_util_function_Supplier$java_util_function_BiConsumer$java_util_function_BiConsumer=function(e,t,n){throw new java.lang.IllegalStateException},t.prototype.collect=function(e,t,n){if(("function"===typeof e&&0===e.length||null===e)&&("function"===typeof t&&2===t.length||null===t)&&("function"===typeof n&&2===n.length||null===n))return this.collect$java_util_function_Supplier$java_util_function_BiConsumer$java_util_function_BiConsumer(e,t,n);if((null!=e&&null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("java.util.stream.Collector")>=0||null===e)&&void 0===t&&void 0===n)return this.collect$java_util_stream_Collector(e);throw new Error("invalid overload")},t}();t.StreamHelper=n,n.__class="javaemul.internal.stream.StreamHelper",n.__interfaces=["java.util.stream.Stream"]})((t=e.internal||(e.internal={})).stream||(t.stream={}))}(javaemul||(javaemul={})),function(e){var t;(function(e){var t=function(){function e(e){void 0===this.countDown&&(this.countDown=0),this.countDown=e}return e.prototype.test=function(e){return!(this.countDown<=0)&&(--this.countDown,!0)},e}();e.CountingPredicate=t,t.__class="javaemul.internal.stream.CountingPredicate",t.__interfaces=["java.util.function.Predicate"]})((t=e.internal||(e.internal={})).stream||(t.stream={}))}(javaemul||(javaemul={})),function(e){var t;(function(e){var t=function(){function e(){void 0===this.next&&(this.next=null)}return e.prototype.chain=function(e){this.next=e},e}();e.TransientStreamRow=t,t.__class="javaemul.internal.stream.TransientStreamRow",t.__interfaces=["javaemul.internal.stream.StreamRow"]})((t=e.internal||(e.internal={})).stream||(t.stream={}))}(javaemul||(javaemul={})),function(e){var t;(function(e){var t=function(){function e(){}return e.dryRun_$LI$=function(){return null==e.dryRun&&(e.dryRun=new e),e.dryRun},e.prototype.run=function(){},e}();e.VoidRunnable=t,t.__class="javaemul.internal.stream.VoidRunnable",t.__interfaces=["java.lang.Runnable"]})((t=e.internal||(e.internal={})).stream||(t.stream={}))}(javaemul||(javaemul={})),function(e){!function(e){var t=function(){function e(){}return e.getInfinity=function(){return 1/0},e.isUndefined=function(e){return null==e},e.unsafeCastToString=function(e){return e},e.setPropertySafe=function(e,t,n){try{e[t]=n}catch(r){}},e.getIntProperty=function(e,t){return e[t]},e.setIntProperty=function(e,t,n){e[t]=n},e.typeOf=function(e){return _typeof(e)},e}();e.JsUtils=t,t.__class="javaemul.internal.JsUtils"}(e.internal||(e.internal={}))}(javaemul||(javaemul={})),function(e){!function(e){var t=function(){function e(){}return e.getLongComparator=function(){return function(e,t){return t-e}},e}();e.LongCompareHolder=t,t.__class="javaemul.internal.LongCompareHolder"}(e.internal||(e.internal={}))}(javaemul||(javaemul={})),function(e){!function(t){var n=function(){function t(){}return t.clone=function(t){var n;if(null==t||"object"!=_typeof(t))return t;if(t instanceof Date)return(n=new Date).setTime(t.getTime()),n;if(t instanceof Array){n=[];for(var r=0,i=t.length;r<i;r++)n[r]=e.internal.ObjectHelper.clone(t[r]);return n}if(t instanceof Object){for(var o in n={},t)t.hasOwnProperty(o)&&(n[o]=e.internal.ObjectHelper.clone(t[o]));return n}throw new Error("Unable to copy obj! Its type isn't supported.")},t}();t.ObjectHelper=n,n.__class="javaemul.internal.ObjectHelper"}(e.internal||(e.internal={}))}(javaemul||(javaemul={})),function(e){!function(t){var n=function(){function t(e){void 0===this.value&&(this.value=null),this.value=e}return t.TYPE_$LI$=function(){return null==t.TYPE&&(t.TYPE=String),t.TYPE},t.charCount=function(e){return e>=t.MIN_SUPPLEMENTARY_CODE_POINT?2:1},t.codePointAt$char_A$int=function(e,n){return t.codePointAt$java_lang_CharSequence$int$int(new String(e),n,e.length)},t.codePointAt$char_A$int$int=function(e,n,r){return t.codePointAt$java_lang_CharSequence$int$int(new String(e),n,r)},t.codePointAt=function(t,n,r){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"string"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if(!(null!=t&&(null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.lang.CharSequence")>=0||"string"===typeof t)||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"string"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||void 0!==r){if(!(null!=t&&(null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.lang.CharSequence")>=0||"string"===typeof t)||null===t)||"number"!==typeof n&&null!==n||void 0!==r)throw new Error("invalid overload");return e.internal.CharacterHelper.codePointAt$java_lang_CharSequence$int(t,n)}return e.internal.CharacterHelper.codePointAt$char_A$int(t,n)}return e.internal.CharacterHelper.codePointAt$java_lang_CharSequence$int$int(t,n,r)}return e.internal.CharacterHelper.codePointAt$char_A$int$int(t,n,r)},t.codePointAt$java_lang_CharSequence$int=function(e,n){return t.codePointAt$java_lang_CharSequence$int$int(e,n,e.length)},t.codePointBefore$char_A$int=function(e,n){return t.codePointBefore$java_lang_CharSequence$int$int(new String(e),n,0)},t.codePointBefore$char_A$int$int=function(e,n,r){return t.codePointBefore$java_lang_CharSequence$int$int(new String(e),n,r)},t.codePointBefore=function(t,n,r){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"string"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if(!(null!=t&&(null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.lang.CharSequence")>=0||"string"===typeof t)||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"string"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||void 0!==r){if(!(null!=t&&(null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.lang.CharSequence")>=0||"string"===typeof t)||null===t)||"number"!==typeof n&&null!==n||void 0!==r)throw new Error("invalid overload");return e.internal.CharacterHelper.codePointBefore$java_lang_CharSequence$int(t,n)}return e.internal.CharacterHelper.codePointBefore$char_A$int(t,n)}return e.internal.CharacterHelper.codePointBefore$java_lang_CharSequence$int$int(t,n,r)}return e.internal.CharacterHelper.codePointBefore$char_A$int$int(t,n,r)},t.codePointBefore$java_lang_CharSequence$int=function(e,n){return t.codePointBefore$java_lang_CharSequence$int$int(e,n,0)},t.codePointCount$char_A$int$int=function(e,n,r){return t.codePointCount$java_lang_CharSequence$int$int(new String(e),n,n+r)},t.codePointCount=function(t,n,r){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"string"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if(!(null!=t&&(null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.lang.CharSequence")>=0||"string"===typeof t)||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r)throw new Error("invalid overload");return e.internal.CharacterHelper.codePointCount$java_lang_CharSequence$int$int(t,n,r)}return e.internal.CharacterHelper.codePointCount$char_A$int$int(t,n,r)},t.codePointCount$java_lang_CharSequence$int$int=function(e,n,r){for(var i=0,o=n;o<r;){var a=e.charAt(o++);t.isHighSurrogate(a)&&o<r&&t.isLowSurrogate(e.charAt(o))&&++o,++i}return i},t.compare=function(e,t){return(null==(n=e).charCodeAt?n:n.charCodeAt(0))-function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(t);var n},t.digit=function(e,n){return n<t.MIN_RADIX||n>t.MAX_RADIX?-1:function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(e)>="0".charCodeAt(0)&&function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(e)<"0".charCodeAt(0)+Math.min(n,10)?function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(e)-"0".charCodeAt(0):function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(e)>="a".charCodeAt(0)&&function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(e)<n+"a".charCodeAt(0)-10?function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(e)-"a".charCodeAt(0)+10:function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(e)>="A".charCodeAt(0)&&function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(e)<n+"A".charCodeAt(0)-10?function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(e)-"A".charCodeAt(0)+10:-1},t.getNumericValue=function(e){return 0|e.charCodeAt(0)},t.forDigit$int$int=function(e,n){return n<t.MIN_RADIX||n>t.MAX_RADIX?String.fromCharCode(0):e<0||e>=n?String.fromCharCode(0):t.forDigit$int(e)},t.forDigit=function(t,n){if("number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n){if("number"!==typeof t&&null!==t||void 0!==n)throw new Error("invalid overload");return e.internal.CharacterHelper.forDigit$int(t)}return e.internal.CharacterHelper.forDigit$int$int(t,n)},t.hashCode=function(e){return e.charCodeAt(0)},t.isDigit=function(e){var n=new String(e).toString().match(t.digitRegex());return null!=n&&n.length>0},t.digitRegex=function(){return new RegExp("\\d")},t.isHighSurrogate=function(e){return(null==(n=e).charCodeAt?n:n.charCodeAt(0))>=function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(t.MIN_HIGH_SURROGATE)&&function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(e)<=function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(t.MAX_HIGH_SURROGATE);var n},t.isLetter=function(e){return new String(e).toString().match(t.leterRegex()).length>0},t.leterRegex=function(){return new RegExp("[A-Z]","i")},t.isLetterOrDigit=function(e){return null!=new String(e).toString().match(t.leterOrDigitRegex())&&new String(e).toString().match(t.leterOrDigitRegex()).length>0},t.leterOrDigitRegex=function(){return new RegExp("[A-Z\\d]","i")},t.isLowerCase=function(e){return function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(t.toLowerCase$char(e))==function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(e)&&t.isLetter(e)},t.isLowSurrogate=function(e){return(null==(n=e).charCodeAt?n:n.charCodeAt(0))>=function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(t.MIN_LOW_SURROGATE)&&function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(e)<=function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(t.MAX_LOW_SURROGATE);var n},t.isSpace=function(e){switch(e.charCodeAt(0)){case 32:case 10:case 9:case 12:case 13:return!0;default:return!1}},t.isWhitespace$char=function(e){return new String(e).toString().match(t.whitespaceRegex()).length>0},t.isWhitespace=function(t){if("string"===typeof t||null===t)return e.internal.CharacterHelper.isWhitespace$char(t);if("number"===typeof t||null===t)return e.internal.CharacterHelper.isWhitespace$int(t);throw new Error("invalid overload")},t.isWhitespace$int=function(e){return String.fromCharCode(e).match(t.whitespaceRegex()).length>0},t.whitespaceRegex=function(){return new RegExp("[\\t-\\r \\u1680\\u180E\\u2000-\\u2006\\u2008-\\u200A\\u2028\\u2029\\u205F\\u3000\\uFEFF]|[\\x1C-\\x1F]")},t.isSupplementaryCodePoint=function(e){return e>=t.MIN_SUPPLEMENTARY_CODE_POINT&&e<=t.MAX_CODE_POINT},t.isSurrogatePair=function(e,n){return t.isHighSurrogate(e)&&t.isLowSurrogate(n)},t.isUpperCase=function(e){return function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(t.toUpperCase$char(e))==function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(e)&&t.isLetter(e)},t.isValidCodePoint=function(e){return e>=t.MIN_CODE_POINT&&e<=t.MAX_CODE_POINT},t.offsetByCodePoints$char_A$int$int$int$int=function(e,n,r,i,o){return t.offsetByCodePoints$java_lang_CharSequence$int$int(function(e,t,n){return e.substring(t,t+n)}(e.join(""),n,r),i,o)},t.offsetByCodePoints=function(t,n,r,i,o){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"string"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r||"number"!==typeof i&&null!==i||"number"!==typeof o&&null!==o){if(!(null!=t&&(null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.lang.CharSequence")>=0||"string"===typeof t)||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r||void 0!==i||void 0!==o)throw new Error("invalid overload");return e.internal.CharacterHelper.offsetByCodePoints$java_lang_CharSequence$int$int(t,n,r)}return e.internal.CharacterHelper.offsetByCodePoints$char_A$int$int$int$int(t,n,r,i,o)},t.offsetByCodePoints$java_lang_CharSequence$int$int=function(e,n,r){if(r<0)for(;r<0;)--n,t.isLowSurrogate(e.charAt(n))&&t.isHighSurrogate(e.charAt(n-1))&&--n,++r;else for(;r>0;)t.isHighSurrogate(e.charAt(n))&&t.isLowSurrogate(e.charAt(n+1))&&++n,++n,--r;return n},t.toChars$int=function(n){return e.internal.InternalPreconditions.checkCriticalArgument(n>=0&&n<=t.MAX_CODE_POINT,"CodePoint %s not in range [%s, %s]",""+n,"0",""+t.MAX_CODE_POINT),n>=t.MIN_SUPPLEMENTARY_CODE_POINT?[t.getHighSurrogate(n),t.getLowSurrogate(n)]:[String.fromCharCode(n)]},t.toChars$int$char_A$int=function(n,r,i){return e.internal.InternalPreconditions.checkCriticalArgument(n>=0&&n<=t.MAX_CODE_POINT,"CodePoint %s not in range [%s, %s]",""+n,"0",""+t.MAX_CODE_POINT),n>=t.MIN_SUPPLEMENTARY_CODE_POINT?(r[i++]=t.getHighSurrogate(n),r[i]=t.getLowSurrogate(n),2):(r[i]=String.fromCharCode(n),1)},t.toChars=function(t,n,r){if("number"!==typeof t&&null!==t||!(null!=n&&n instanceof Array&&(0==n.length||null==n[0]||"string"===typeof n[0])||null===n)||"number"!==typeof r&&null!==r){if("number"!==typeof t&&null!==t||void 0!==n||void 0!==r)throw new Error("invalid overload");return e.internal.CharacterHelper.toChars$int(t)}return e.internal.CharacterHelper.toChars$int$char_A$int(t,n,r)},t.toCodePoint=function(e,n){return t.MIN_SUPPLEMENTARY_CODE_POINT+((1023&(null==(r=e).charCodeAt?r:r.charCodeAt(0)))<<10)+(1023&function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(n));var r},t.toLowerCase$char=function(e){return new String(e).toString().toLowerCase().charAt(0)},t.toLowerCase=function(t){if("string"===typeof t||null===t)return e.internal.CharacterHelper.toLowerCase$char(t);if("number"===typeof t||null===t)return e.internal.CharacterHelper.toLowerCase$int(t);throw new Error("invalid overload")},t.toLowerCase$int=function(e){return new String(String.fromCharCode(e)).toString().toLowerCase().charAt(0).charCodeAt(0)},t.toString=function(e){return new String(e).toString()},t.toUpperCase$char=function(e){return new String(e).toString().toUpperCase().charAt(0)},t.toUpperCase=function(t){if("string"===typeof t||null===t)return e.internal.CharacterHelper.toUpperCase$char(t);if("number"===typeof t||null===t)return e.internal.CharacterHelper.toUpperCase$int(t);throw new Error("invalid overload")},t.toUpperCase$int=function(e){return new String(String.fromCharCode(e)).toString().toUpperCase().charAt(0)},t.valueOf=function(e){if(function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(e)<128){var n=t.BoxedValues.boxedValues_$LI$()[e.charCodeAt(0)];return null==function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(n)&&(n=t.BoxedValues.boxedValues_$LI$()[e.charCodeAt(0)]=new String(e)),n}return new String(e)},t.codePointAt$java_lang_CharSequence$int$int=function(e,n,r){var i,o=e.charAt(n++);return t.isHighSurrogate(o)&&n<r&&t.isLowSurrogate(i=e.charAt(n))?t.toCodePoint(o,i):o.charCodeAt(0)},t.codePointBefore$java_lang_CharSequence$int$int=function(e,n,r){var i,o=e.charAt(--n);return t.isLowSurrogate(o)&&n>r&&t.isHighSurrogate(i=e.charAt(n-1))?t.toCodePoint(i,o):o.charCodeAt(0)},t.forDigit$int=function(e){var t=e-10;return String.fromCharCode(t<0?"0".charCodeAt(0)+e:"a".charCodeAt(0)+t)},t.getHighSurrogate=function(e){return String.fromCharCode((null==(n=t.MIN_HIGH_SURROGATE).charCodeAt?n:n.charCodeAt(0))+(e-t.MIN_SUPPLEMENTARY_CODE_POINT>>10&1023));var n},t.getLowSurrogate=function(e){return String.fromCharCode((null==(n=t.MIN_LOW_SURROGATE).charCodeAt?n:n.charCodeAt(0))+(e-t.MIN_SUPPLEMENTARY_CODE_POINT&1023));var n},t.prototype.charValue=function(){return this.value},t.prototype.compareTo$javaemul_internal_CharacterHelper=function(e){return t.compare(this.value,e.value)},t.prototype.compareTo=function(t){if(null!=t&&t instanceof e.internal.CharacterHelper||null===t)return this.compareTo$javaemul_internal_CharacterHelper(t);throw new Error("invalid overload")},t.prototype.equals=function(t){return null!=t&&t instanceof e.internal.CharacterHelper&&(null==(n=t.value).charCodeAt?n:n.charCodeAt(0))==function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(this.value);var n},t.prototype.hashCode=function(){return t.hashCode(this.value)},t.prototype.toString=function(){return new String(this.value).toString()},t.MIN_RADIX=2,t.MAX_RADIX=36,t.MIN_VALUE="\0",t.MAX_VALUE="\uffff",t.MIN_SURROGATE="\ud800",t.MAX_SURROGATE="\udfff",t.MIN_LOW_SURROGATE="\udc00",t.MAX_LOW_SURROGATE="\udfff",t.MIN_HIGH_SURROGATE="\ud800",t.MAX_HIGH_SURROGATE="\udbff",t.MIN_SUPPLEMENTARY_CODE_POINT=65536,t.MIN_CODE_POINT=0,t.MAX_CODE_POINT=1114111,t.SIZE=16,t}();t.CharacterHelper=n,n.__class="javaemul.internal.CharacterHelper",n.__interfaces=["java.lang.Comparable","java.io.Serializable"],function(e){var t=function(){function e(){}return e.boxedValues_$LI$=function(){return null==e.boxedValues&&(e.boxedValues=function(e){for(var t=[];e-- >0;)t.push(null);return t}(128)),e.boxedValues},e}();e.BoxedValues=t,t.__class="javaemul.internal.CharacterHelper.BoxedValues"}(n=t.CharacterHelper||(t.CharacterHelper={}))}(e.internal||(e.internal={}))}(javaemul||(javaemul={})),function(e){!function(e){var t=function(){function e(){}return e.now=function(){return Date.now?Date.now():(new Date).getTime()},e}();e.DateUtil=t,t.__class="javaemul.internal.DateUtil"}(e.internal||(e.internal={}))}(javaemul||(javaemul={})),function(e){!function(t){var n=function(){function t(){}return t.clone=function(n,r,i){var o=t.unsafeClone(n,r,i);return e.internal.ArrayStamper.stampJavaTypeInfo(o,n)},t.unsafeClone=function(e,t,n){return e.slice(t,n)},t.createFrom=function(n,r){var i=t.createNativeArray(r);return e.internal.ArrayStamper.stampJavaTypeInfo(i,n)},t.createNativeArray=function(e){return new Array(e)},t.getLength=function(e){return 0|e.length},t.setLength=function(e,t){e.length=t},t.removeFrom=function(e,t,n){e.splice(t,n)},t.insertTo$java_lang_Object$int$java_lang_Object=function(e,t,n){e.splice(t,0,n)},t.insertTo$java_lang_Object$int$java_lang_Object_A=function(e,n,r){t.copy$java_lang_Object$int$java_lang_Object$int$int$boolean(r,0,e,n,r.length,!1)},t.insertTo=function(t,n,r){if(null==t&&null!==t||"number"!==typeof n&&null!==n||!(null!=r&&r instanceof Array&&(0==r.length||null==r[0]||null!=r[0])||null===r)){if(null==t&&null!==t||"number"!==typeof n&&null!==n||null==r&&null!==r)throw new Error("invalid overload");return e.internal.ArrayHelper.insertTo$java_lang_Object$int$java_lang_Object(t,n,r)}return e.internal.ArrayHelper.insertTo$java_lang_Object$int$java_lang_Object_A(t,n,r)},t.insertValuesToArray=function(e,n,r){t.copy$java_lang_Object$int$java_lang_Object$int$int$boolean(r,0,e,n,r.length,!1)},t.copy$java_lang_Object$int$java_lang_Object$int$int=function(e,n,r,i,o){t.copy$java_lang_Object$int$java_lang_Object$int$int$boolean(e,n,r,i,o,!0)},t.copy$java_lang_Object$int$java_lang_Object$int$int$boolean=function(e,n,r,i,o,a){e===r&&(e=t.unsafeClone(e,n,n+o),n=0);for(var s=n,l=n+o;s<l;){var u=Math.min(s+t.ARRAY_PROCESS_BATCH_SIZE,l);o=u-s,t.applySplice(r,i,a?o:0,t.unsafeClone(e,s,u)),s=u,i+=o}},t.copy=function(t,n,r,i,o,a){if(null==t&&null!==t||"number"!==typeof n&&null!==n||null==r&&null!==r||"number"!==typeof i&&null!==i||"number"!==typeof o&&null!==o||"boolean"!==typeof a&&null!==a){if(null==t&&null!==t||"number"!==typeof n&&null!==n||null==r&&null!==r||"number"!==typeof i&&null!==i||"number"!==typeof o&&null!==o||void 0!==a)throw new Error("invalid overload");return e.internal.ArrayHelper.copy$java_lang_Object$int$java_lang_Object$int$int(t,n,r,i,o)}return e.internal.ArrayHelper.copy$java_lang_Object$int$java_lang_Object$int$int$boolean(t,n,r,i,o,a)},t.applySplice=function(e,t,n,r){Array.prototype.splice.apply(e,[t,n].concat(r))},t.ARRAY_PROCESS_BATCH_SIZE=1e4,t}();t.ArrayHelper=n,n.__class="javaemul.internal.ArrayHelper"}(e.internal||(e.internal={}))}(javaemul||(javaemul={})),function(e){!function(t){var n=function(){function t(){}return t.EPSILON_$LI$=function(){return null==t.EPSILON&&(t.EPSILON=t.pow(2,-52)),t.EPSILON},t.MAX_VALUE_$LI$=function(){return null==t.MAX_VALUE&&(t.MAX_VALUE=(2-t.EPSILON_$LI$())*t.pow(2,1023)),t.MAX_VALUE},t.MIN_VALUE_$LI$=function(){return null==t.MIN_VALUE&&(t.MIN_VALUE=t.pow(2,-1022)),t.MIN_VALUE},t.nextDown=function(e){return-t.nextUp(-e)},t.ulp=function(e){return e<0?t.nextUp(e)-e:e- -t.nextUp(-e)},t.nextUp=function(e){if(e!==e)return e;if(0===e)return-t.MAX_VALUE_$LI$();if(0===e)return 0;if(e===+t.MAX_VALUE_$LI$())return 0;var n=e*(e<0?1-t.EPSILON_$LI$()/2:1+t.EPSILON_$LI$());n===e&&(n=t.MIN_VALUE_$LI$()*t.EPSILON_$LI$()>0?e+t.MIN_VALUE_$LI$()*t.EPSILON_$LI$():e+t.MIN_VALUE_$LI$()),0===n&&(n=+t.MAX_VALUE_$LI$());var r=e+(n-e)/2;e<r&&r<n&&(n=r);var i=(n+e)/2;return e<i&&i<n&&(n=i),0===n?-0:n},t.PI_OVER_180_$LI$=function(){return null==t.PI_OVER_180&&(t.PI_OVER_180=t.PI/180),t.PI_OVER_180},t.PI_UNDER_180_$LI$=function(){return null==t.PI_UNDER_180&&(t.PI_UNDER_180=180/t.PI),t.PI_UNDER_180},t.abs$double=function(e){return e<=0?0-e:e},t.abs$float=function(e){return t.abs$double(e)},t.abs$int=function(e){return e<0?-e:e},t.abs=function(t){if("number"===typeof t||null===t)return e.internal.MathHelper.abs$int(t);if("number"===typeof t||null===t)return e.internal.MathHelper.abs$long(t);if("number"===typeof t||null===t)return e.internal.MathHelper.abs$float(t);if("number"===typeof t||null===t)return e.internal.MathHelper.abs$double(t);throw new Error("invalid overload")},t.abs$long=function(e){return e<0?-e:e},t.acos=function(e){return Math.acos(e)},t.asin=function(e){return Math.asin(e)},t.atan=function(e){return Math.atan(e)},t.atan2=function(e,t){return Math.atan2(e,t)},t.cbrt=function(e){return t.pow(e,1/3)},t.ceil=function(e){return Math.ceil(e)},t.copySign$double$double=function(e,t){return t<0?e<0?e:-e:e>0?e:-e},t.copySign$float$float=function(e,n){return t.copySign$double$double(e,n)},t.copySign=function(t,n){if("number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n){if("number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n)throw new Error("invalid overload");return e.internal.MathHelper.copySign$double$double(t,n)}return e.internal.MathHelper.copySign$float$float(t,n)},t.cos=function(e){return Math.cos(e)},t.cosh=function(e){return(t.exp(e)+t.exp(-e))/2},t.exp=function(e){return Math.exp(e)},t.expm1=function(n){return 0===n||isNaN(n)?n:(r=n,Number.NEGATIVE_INFINITY!==r&&Number.POSITIVE_INFINITY!==r?n<0?-1:e.internal.DoubleHelper.POSITIVE_INFINITY:t.exp(n)+1);var r},t.floor=function(e){return Math.floor(e)},t.hypot=function(e,n){return t.sqrt(e*e+n*n)},t.log=function(e){return Math.log(e)},t.log10=function(e){return Math.log(e)*Math.LOG10E},t.log1p=function(e){return t.log(e+1)},t.max$double$double=function(e,t){return Math.max(e,t)},t.max$float$float=function(e,t){return Math.max(e,t)},t.max$int$int=function(e,t){return e>t?e:t},t.max=function(t,n){if("number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n){if("number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n){if("number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n){if("number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n)throw new Error("invalid overload");return e.internal.MathHelper.max$double$double(t,n)}return e.internal.MathHelper.max$float$float(t,n)}return e.internal.MathHelper.max$long$long(t,n)}return e.internal.MathHelper.max$int$int(t,n)},t.max$long$long=function(e,t){return e>t?e:t},t.min$double$double=function(e,t){return Math.min(e,t)},t.min$float$float=function(e,t){return Math.min(e,t)},t.min$int$int=function(e,t){return e<t?e:t},t.min=function(t,n){if("number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n){if("number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n){if("number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n){if("number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n)throw new Error("invalid overload");return e.internal.MathHelper.min$double$double(t,n)}return e.internal.MathHelper.min$float$float(t,n)}return e.internal.MathHelper.min$long$long(t,n)}return e.internal.MathHelper.min$int$int(t,n)},t.min$long$long=function(e,t){return e<t?e:t},t.pow=function(e,t){return Math.pow(e,t)},t.random=function(){return Math.random()},t.rint=function(e){return isNaN(e)?e:(n=e,Number.NEGATIVE_INFINITY===n||Number.POSITIVE_INFINITY===n?e:0===e?e:t.round$double(e));var n},t.round$double=function(e){return(t=Math.round(e))<0?Math.ceil(t):Math.floor(t);var t},t.round$float=function(e){var n=Math.round(e);return t.unsafeCastToInt(n)},t.round=function(t){if("number"===typeof t||null===t)return e.internal.MathHelper.round$float(t);if("number"===typeof t||null===t)return e.internal.MathHelper.round$double(t);throw new Error("invalid overload")},t.unsafeCastToInt=function(e){return e},t.scalb$double$int=function(e,n){return n>=31||n<=-31?e*t.pow(2,n):n>0?e*(1<<n):0===n?e:1*e/(1<<-n)},t.scalb$float$int=function(e,n){return n>=31||n<=-31?e*t.pow(2,n):n>0?e*(1<<n):0===n?e:1*e/(1<<-n)},t.scalb=function(t,n){if("number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n){if("number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n)throw new Error("invalid overload");return e.internal.MathHelper.scalb$double$int(t,n)}return e.internal.MathHelper.scalb$float$int(t,n)},t.signum$double=function(e){return e>0?1:e<0?-1:0},t.signum$float=function(e){return e>0?1:e<0?-1:0},t.signum=function(t){if("number"===typeof t||null===t)return e.internal.MathHelper.signum$float(t);if("number"===typeof t||null===t)return e.internal.MathHelper.signum$double(t);throw new Error("invalid overload")},t.sin=function(e){return Math.sin(e)},t.sinh=function(e){return(t.exp(e)-t.exp(-e))/2},t.sqrt=function(e){return Math.sqrt(e)},t.tan=function(e){return Math.tan(e)},t.tanh=function(n){if(n===e.internal.JsUtils.getInfinity())return 1;if(n===-e.internal.JsUtils.getInfinity())return-1;var r=t.exp(2*n);return(r-1)/(r+1)},t.toDegrees=function(e){return e*t.PI_UNDER_180_$LI$()},t.toRadians=function(e){return e*t.PI_OVER_180_$LI$()},t.IEEEremainder=function(e,t){var n=Math.abs(e%t);return isNaN(n)||n===t||n<=Math.abs(t)/2?n:(e>0?1:e<0?-1:0)*(n-t)},t.E=2.718281828459045,t.PI=3.141592653589793,t}();t.MathHelper=n,n.__class="javaemul.internal.MathHelper"}(e.internal||(e.internal={}))}(javaemul||(javaemul={})),function(e){!function(e){var t=function(){function e(){}return e.stampJavaTypeInfo=function(e,t){return e},e}();e.ArrayStamper=t,t.__class="javaemul.internal.ArrayStamper"}(e.internal||(e.internal={}))}(javaemul||(javaemul={})),function(e){!function(t){var n=function(){function t(){}return t.hashCodeForString=function(t){return e.internal.StringHashCache.getHashCode(t)},t.getIdentityHashCode=function(n){return null==n?0:"string"===typeof n?t.hashCodeForString(e.internal.JsUtils.unsafeCastToString(n)):t.getObjectIdentityHashCode(n)},t.getObjectIdentityHashCode=function(e){return null!=e[t.HASH_CODE_PROPERTY]?e[t.HASH_CODE_PROPERTY]:e[t.HASH_CODE_PROPERTY]=t.getNextHashId()},t.getNextHashId=function(){return++t.sNextHashId},t.sNextHashId=0,t.HASH_CODE_PROPERTY="$H",t}();t.HashCodes=n,n.__class="javaemul.internal.HashCodes"}(e.internal||(e.internal={}))}(javaemul||(javaemul={})),function(e){!function(t){var n=function(){function t(){}return t.__decodeAndValidateInt=function(e,n,r){var i=t.__decodeNumberString(e);return t.__parseAndValidateInt(i.payload,i.radix,n,r)},t.__decodeNumberString=function(e){var n,r,i;return void 0===r&&(r=0),"-"===e.substr(r,"-".length)?(n=!0,e=e.substring(1)):(n=!1,function(t,n,r){return void 0===r&&(r=0),"+"===e.substr(r,"+".length)}()&&(e=e.substring(1))),function(t,n,r){return void 0===r&&(r=0),"0x"===e.substr(r,"0x".length)}()||function(t,n,r){return void 0===r&&(r=0),"0X"===e.substr(r,"0X".length)}()?(e=e.substring(2),i=16):!function(t,n,r){return void 0===r&&(r=0),"#"===e.substr(r,"#".length)}()?i=function(t,n,r){return void 0===r&&(r=0),"0"===e.substr(r,"0".length)}()?8:10:(e=e.substring(1),i=16),n&&(e="-"+e),new t.__Decode(i,e)},t.__parseAndValidateDouble=function(e){if(!t.__isValidDouble(e))throw java.lang.NumberFormatException.forInputString(e);return parseFloat(e)},t.__parseAndValidateInt=function(t,n,r,i){if(null==t)throw java.lang.NumberFormatException.forNullInputString();if(n<e.internal.CharacterHelper.MIN_RADIX||n>e.internal.CharacterHelper.MAX_RADIX)throw java.lang.NumberFormatException.forRadix(n);for(var o,a=t.length,s=a>0&&((null==(o=t.charAt(0)).charCodeAt?o:o.charCodeAt(0))=="-".charCodeAt(0)||function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(t.charAt(0))=="+".charCodeAt(0))?1:0;s<a;s++)if(-1===e.internal.CharacterHelper.digit(t.charAt(s),n))throw java.lang.NumberFormatException.forInputString(t);var l=0|parseInt(t,n),u=l<r;if(e.internal.DoubleHelper.isNaN(l))throw java.lang.NumberFormatException.forInputString(t);if(u||l>i)throw java.lang.NumberFormatException.forInputString(t);return l},t.__parseAndValidateLong=function(n,r){if(null==n)throw java.lang.NumberFormatException.forNullInputString();if(r<e.internal.CharacterHelper.MIN_RADIX||r>e.internal.CharacterHelper.MAX_RADIX)throw java.lang.NumberFormatException.forRadix(r);var i=n,o=n.length,a=!1;if(o>0){var s=n.charAt(0);(function(e){return null==e.charCodeAt?e:e.charCodeAt(0)})(s)!="-".charCodeAt(0)&&function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(s)!="+".charCodeAt(0)||(n=n.substring(1),o--,a=function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(s)=="-".charCodeAt(0))}if(0===o)throw java.lang.NumberFormatException.forInputString(i);for(;n.length>0&&function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(n.charAt(0))=="0".charCodeAt(0);)n=n.substring(1),o--;if(o>t.__ParseLong.maxLengthForRadix_$LI$()[r])throw java.lang.NumberFormatException.forInputString(i);for(var l=0;l<o;l++)if(-1===e.internal.CharacterHelper.digit(n.charAt(l),r))throw java.lang.NumberFormatException.forInputString(i);var u=0,c=t.__ParseLong.maxDigitsForRadix_$LI$()[r],f=t.__ParseLong.maxDigitsRadixPower_$LI$()[r],h=-t.__ParseLong.maxValueForRadix_$LI$()[r],d=!0,p=o%c;for(p>0&&(u=-(0|parseInt(n.substring(0,p),r)),n=n.substring(p),o-=p,d=!1);o>=c;){if(p=0|parseInt(n.substring(0,c),r),n=n.substring(c),o-=c,d)d=!1;else{if(u<h)throw java.lang.NumberFormatException.forInputString(i);u*=f}u-=p}if(u>0)throw java.lang.NumberFormatException.forInputString(i);if(!a&&(u=-u)<0)throw java.lang.NumberFormatException.forInputString(i);return u},t.__isValidDouble=function(e){return null==t.floatRegex&&(t.floatRegex=t.createFloatRegex()),t.floatRegex.test(e)},t.createFloatRegex=function(){return/^\s*[+-]?(NaN|Infinity|((\d+\.?\d*)|(\.\d+))([eE][+-]?\d+)?[dDfF]?)\s*$/},t.prototype.byteValue=function(){return 0|this.intValue()},t.prototype.shortValue=function(){return 0|this.intValue()},t.floatRegex=null,t}();t.NumberHelper=n,n.__class="javaemul.internal.NumberHelper",n.__interfaces=["java.io.Serializable"],function(e){var t=function(){return function(e,t){void 0===this.payload&&(this.payload=null),void 0===this.radix&&(this.radix=0),this.radix=e,this.payload=t}}();e.__Decode=t,t.__class="javaemul.internal.NumberHelper.__Decode";var n=function(){function e(){}return e.__static_initialize=function(){e.__static_initialized||(e.__static_initialized=!0,e.__static_initializer_0())},e.maxDigitsForRadix_$LI$=function(){return e.__static_initialize(),null==e.maxDigitsForRadix&&(e.maxDigitsForRadix=[-1,-1,30,19,15,13,11,11,10,9,9,8,8,8,8,7,7,7,7,7,7,7,6,6,6,6,6,6,6,6,6,6,6,6,6,6,5]),e.maxDigitsForRadix},e.maxDigitsRadixPower_$LI$=function(){return e.__static_initialize(),null==e.maxDigitsRadixPower&&(e.maxDigitsRadixPower=function(e){for(var t=[];e-- >0;)t.push(0);return t}(37)),e.maxDigitsRadixPower},e.maxLengthForRadix_$LI$=function(){return e.__static_initialize(),null==e.maxLengthForRadix&&(e.maxLengthForRadix=[-1,-1,63,40,32,28,25,23,21,20,19,19,18,18,17,17,16,16,16,15,15,15,15,14,14,14,14,14,14,13,13,13,13,13,13,13,13]),e.maxLengthForRadix},e.maxValueForRadix_$LI$=function(){return e.__static_initialize(),null==e.maxValueForRadix&&(e.maxValueForRadix=function(e){for(var t=[];e-- >0;)t.push(0);return t}(37)),e.maxValueForRadix},e.__static_initializer_0=function(){for(var t=2;t<=36;t++)e.maxDigitsRadixPower_$LI$()[t]=0|Math.pow(t,e.maxDigitsForRadix_$LI$()[t]),e.maxValueForRadix_$LI$()[t]=(n=0x8000000000000000/e.maxDigitsRadixPower_$LI$()[t])<0?Math.ceil(n):Math.floor(n);var n},e.__static_initialized=!1,e}();e.__ParseLong=n,n.__class="javaemul.internal.NumberHelper.__ParseLong"}(n=t.NumberHelper||(t.NumberHelper={}))}(e.internal||(e.internal={}))}(javaemul||(javaemul={})),function(e){!function(t){var n=function(){function t(t,n,r,i){if("string"!==typeof t&&null!==t||"string"!==typeof n&&null!==n||"number"!==typeof r&&null!==r||"string"!==typeof i&&null!==i)if("string"!==typeof t&&null!==t||"string"!==typeof n&&null!==n||"string"!==typeof r&&null!==r||void 0!==i)if(!(null!=t&&t instanceof e.net.URL||null===t)||"string"!==typeof n&&null!==n||void 0!==r||void 0!==i){if("string"!==typeof t&&null!==t||void 0!==n||void 0!==r||void 0!==i)throw new Error("invalid overload");s=(l=arguments)[0];void 0===this.jsUrl&&(this.jsUrl=null),this.jsUrl=e.net.InternalJsURLFactory.newJsURL(s)}else{var o=(l=arguments)[0],a=l[1];void 0===this.jsUrl&&(this.jsUrl=null),this.jsUrl=e.net.InternalJsURLFactory.newJsURL(a,o.jsUrl)}else{var s=t+"//"+n+"/"+(l=arguments)[2];void 0===this.jsUrl&&(this.jsUrl=null),this.jsUrl=e.net.InternalJsURLFactory.newJsURL(s),void 0===this.jsUrl&&(this.jsUrl=null)}else{var l=arguments,s=t+"//"+n+":"+r+"/"+i;void 0===this.jsUrl&&(this.jsUrl=null),this.jsUrl=e.net.InternalJsURLFactory.newJsURL(s),void 0===this.jsUrl&&(this.jsUrl=null)}}return t.prototype.openStream=function(){var n=this.makeConnection();switch(n.responseType){case"arraybuffer":return new e.io.ByteArrayInputStream(new Int8Array(n.response));case"blob":var r=self.FileReaderSync;return"function"===typeof r?new e.io.ByteArrayInputStream(r.readAsArrayBuffer(n.response)):new e.io.ByteArrayInputStream(t.createObjectURL(n.response).split("").map(function(e){return e.charCodeAt(0)}));default:return new e.io.ByteArrayInputStream(n.response.toString().split("").map(function(e){return e.charCodeAt(0)}))}},t.createObjectURL=function(t){return e.net.InternalJsURLFactory.jsURLCtor_$LI$().createObjectURL(t)},t.prototype.equals=function(t){if(this===t)return!0;if(!(null!=t&&t instanceof e.net.URL))return!1;var n=t;return e.util.Objects.equals(this.jsUrl,n.jsUrl)},t.prototype.hashCode=function(){return(e=this.jsUrl).hashCode?e.hashCode():e.toString().split("").reduce(function(e,t){return(e<<5)-e+t.charCodeAt(0)|0},0);var e},t.prototype.getAuthority=function(){var e=this.jsUrl.username,t=this.jsUrl.password;return null==e&&null==t?"":null!=e&&null!=t?e+":"+t:null!=e?e:t},t.prototype.getContent=function(){return this.makeConnection().response},t.prototype.getDefaultPort=function(){switch(this.getProtocol().toLowerCase()){case"http":case"ws":return 80;case"https":case"wss":return 443;case"ftp":return 21;case"sftp":return 22;case"gopher":return 70;case"file":return 0}return-1},t.prototype.getFile=function(){var e=this.getPath(),t=this.getQuery();return e+(t.length>0?"?"+t:"")},t.prototype.getHost=function(){return this.jsUrl.hostname},t.prototype.getPath=function(){return this.jsUrl.pathname},t.prototype.getPort=function(){return this.jsUrl.port},t.prototype.getProtocol=function(){return this.jsUrl.protocol},t.prototype.getQuery=function(){return this.jsUrl.search},t.prototype.getRef=function(){return this.jsUrl.hash},t.prototype.getUserInfo=function(){return this.jsUrl.username},t.prototype.sameFile=function(t){return e.util.Objects.equals(this.getProtocol(),t.getProtocol())&&e.util.Objects.equals(this.getAuthority(),t.getAuthority())&&e.util.Objects.equals(this.getHost(),t.getHost())&&this.getPort()===t.getPort()&&e.util.Objects.equals(this.getFile(),t.getFile())},t.prototype.toExternalForm=function(){return this.jsUrl.toString()},t.prototype.makeConnection=function(){var e=new XMLHttpRequest;return e.open("GET",this.jsUrl.href,!1),e.send(),e},t.prototype.toString=function(){return this.jsUrl.href},t}();t.URL=n,n.__class="java.net.URL",n.__interfaces=["java.io.Serializable"]}(e.net||(e.net={}))}(java||(java={})),function(java){!function(net){var InternalJsURLFactory=function(){function InternalJsURLFactory(){}return InternalJsURLFactory.jsURLCtor_$LI$=function(){return null==InternalJsURLFactory.jsURLCtor&&(InternalJsURLFactory.jsURLCtor=InternalJsURLFactory.getJsURLConstructor()),InternalJsURLFactory.jsURLCtor},InternalJsURLFactory.getJsURLConstructor=function(){var URLConstructor;return java.lang.System.ENVIRONMENT_IS_NODE_$LI$()?URLConstructor=eval('global.URL || (global.URL = require("url").URL)'):java.lang.System.ENVIRONMENT_IS_SHELL_$LI$()?(java.net.InternalJsURLForShell,URLConstructor=eval("this.URL || (this.URL = internalJsURLForShellClass)")):URLConstructor=function(){return eval("URL")}.call(null),URLConstructor},InternalJsURLFactory.newJsURL=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=InternalJsURLFactory.jsURLCtor_$LI$();return new(n.bind.apply(n,[null].concat(e)))},InternalJsURLFactory}();net.InternalJsURLFactory=InternalJsURLFactory,InternalJsURLFactory.__class="java.net.InternalJsURLFactory"}(java.net||(java.net={}))}(java||(java={})),function(e){!function(e){var t=function(){return function(e,t){if("string"!==typeof e&&null!==e||!(null!=t&&t instanceof Object||null===t)){if("string"!==typeof e&&null!==e||void 0!==t)throw new Error("invalid overload");if(void 0===this.href&&(this.href=null),void 0===this.protocol&&(this.protocol=null),void 0===this.username&&(this.username=null),void 0===this.password&&(this.password=null),void 0===this.hostname&&(this.hostname=null),void 0===this.port&&(this.port=null),void 0===this.pathname&&(this.pathname=null),void 0===this.search&&(this.search=null),void 0===this.hash&&(this.hash=null),this.href=e,-1===(n=e.indexOf("://")))throw new Error("Wrong URL, no protocol");this.protocol=e.substring(0,n),(i=-1===(r=e.indexOf("@",n+3))?-1:e.indexOf(":",n+3))>r&&(i=-1),this.username=-1===r?null:-1===i?e.substring(n+3,r):e.substring(n+3,i),this.password=-1===r||-1===i?null:e.substring(r+1,i),s=-1===r?n+3:r+1,l=e.indexOf("/",s),u=e.indexOf(":",s),this.hostname=-1===u||u>l?e.substring(s,l):e.substring(s,u),this.port=-1!==u&&u<l?javaemul.internal.IntegerHelper.parseInt(e.substring(u+1,l)):null,c=e.indexOf("?",l),f=e.indexOf("#",l),this.search=-1!==c?-1===f?e.substring(c+1):e.substring(c+1,f):null,this.hash=-1!==f?e.substring(f+1):null,this.pathname=-1===c&&-1===f?e.substring(l+1):e.substring(l+1,-1===c?f:c)}else{var n,r,i,o=arguments,a=t.href+o[0];if(void 0===this.href&&(this.href=null),void 0===this.protocol&&(this.protocol=null),void 0===this.username&&(this.username=null),void 0===this.password&&(this.password=null),void 0===this.hostname&&(this.hostname=null),void 0===this.port&&(this.port=null),void 0===this.pathname&&(this.pathname=null),void 0===this.search&&(this.search=null),void 0===this.hash&&(this.hash=null),this.href=a,-1===(n=a.indexOf("://")))throw new Error("Wrong URL, no protocol");this.protocol=a.substring(0,n),(i=-1===(r=a.indexOf("@",n+3))?-1:a.indexOf(":",n+3))>r&&(i=-1),this.username=-1===r?null:-1===i?a.substring(n+3,r):a.substring(n+3,i),this.password=-1===r||-1===i?null:a.substring(r+1,i);var s=-1===r?n+3:r+1,l=a.indexOf("/",s),u=a.indexOf(":",s);this.hostname=-1===u||u>l?a.substring(s,l):a.substring(s,u),this.port=-1!==u&&u<l?javaemul.internal.IntegerHelper.parseInt(a.substring(u+1,l)):null;var c=a.indexOf("?",l),f=a.indexOf("#",l);this.search=-1!==c?-1===f?a.substring(c+1):a.substring(c+1,f):null,this.hash=-1!==f?a.substring(f+1):null,this.pathname=-1===c&&-1===f?a.substring(l+1):a.substring(l+1,-1===c?f:c),void 0===this.href&&(this.href=null),void 0===this.protocol&&(this.protocol=null),void 0===this.username&&(this.username=null),void 0===this.password&&(this.password=null),void 0===this.hostname&&(this.hostname=null),void 0===this.port&&(this.port=null),void 0===this.pathname&&(this.pathname=null),void 0===this.search&&(this.search=null),void 0===this.hash&&(this.hash=null)}}}();e.InternalJsURLForShell=t,t.__class="java.net.InternalJsURLForShell"}(e.net||(e.net={}))}(java||(java={})),function(e){!function(e){var t=function(){function e(e){void 0===this.listener&&(this.listener=null),this.listener=e}return e.prototype.getListener=function(){return this.listener},e}();e.EventListenerProxy=t,t.__class="java.util.EventListenerProxy",t.__interfaces=["java.util.EventListener"]}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n;((n=t.Map||(t.Map={})).Entry||(n.Entry={})).comparingByValue=function(t){return e.util.Objects.requireNonNull(t),function(e,n){return(void 0===(r=t).compare?r:r.compare)(e.getValue(),n.getValue());var r}}}(e.util||(e.util={}))}(java||(java={})),function(java){!function(util){var InternalJsMapFactory=function(){function InternalJsMapFactory(){}return InternalJsMapFactory.jsMapCtor_$LI$=function(){return null==InternalJsMapFactory.jsMapCtor&&(InternalJsMapFactory.jsMapCtor=InternalJsMapFactory.getJsMapConstructor()),InternalJsMapFactory.jsMapCtor},InternalJsMapFactory.getJsMapConstructor=function(){return function(){return eval("Map")}.call(null)},InternalJsMapFactory.newJsMap=function(){return new(InternalJsMapFactory.jsMapCtor_$LI$())},InternalJsMapFactory}();util.InternalJsMapFactory=InternalJsMapFactory,InternalJsMapFactory.__class="java.util.InternalJsMapFactory"}(java.util||(java.util={}))}(java||(java={})),function(e){!function(t){var n=function(){function t(e){if("number"===typeof e||null===e)for(this.bits=[];e>0;)this.bits.push(!1),e--;else{if(void 0!==e)throw new Error("invalid overload");this.bits=[]}}return t.valueOf=function(e){var n=new t;n.bits=new Array(64*e.length);for(var r=0;r<64*e.length;r++)n.bits[r]=0!==(e[r/64|0]&1<<r%64);return n},t.prototype.flip$int=function(e){this.bits[e]=!this.bits[e]},t.prototype.flip$int$int=function(e,t){for(var n=e;n<=t;n++)this.flip$int(n)},t.prototype.flip=function(e,t){if("number"!==typeof e&&null!==e||"number"!==typeof t&&null!==t){if("number"!==typeof e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.flip$int(e)}return this.flip$int$int(e,t)},t.prototype.set$int=function(e){this.bits[e]=!0},t.prototype.set$int$boolean=function(e,t){t?this.set$int(e):this.clear$int(e)},t.prototype.set$int$int=function(e,t){for(var n=e;n<=t;n++)this.set$int(n)},t.prototype.set$int$int$boolean=function(e,t,n){n?this.set$int$int(e,t):this.clear$int$int(e,t)},t.prototype.set=function(e,t,n){if("number"!==typeof e&&null!==e||"number"!==typeof t&&null!==t||"boolean"!==typeof n&&null!==n){if("number"!==typeof e&&null!==e||"boolean"!==typeof t&&null!==t||void 0!==n){if("number"!==typeof e&&null!==e||"number"!==typeof t&&null!==t||void 0!==n){if("number"!==typeof e&&null!==e||void 0!==t||void 0!==n)throw new Error("invalid overload");return this.set$int(e)}return this.set$int$int(e,t)}return this.set$int$boolean(e,t)}return this.set$int$int$boolean(e,t,n)},t.prototype.clear$int=function(e){this.bits[e]=!1},t.prototype.clear$int$int=function(e,t){for(var n=e;n<=t;n++)this.clear$int(n)},t.prototype.clear=function(e,t){if("number"!==typeof e&&null!==e||"number"!==typeof t&&null!==t){if("number"!==typeof e&&null!==e||void 0!==t){if(void 0===e&&void 0===t)return this.clear$();throw new Error("invalid overload")}return this.clear$int(e)}return this.clear$int$int(e,t)},t.prototype.clear$=function(){this.bits=[]},t.prototype.get$int=function(e){return this.bits[e]},t.prototype.get$int$int=function(e,n){for(var r=new t,i=e;i<=n;i++)r.bits.push(this.bits[i]);return r},t.prototype.get=function(e,t){if("number"!==typeof e&&null!==e||"number"!==typeof t&&null!==t){if("number"!==typeof e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.get$int(e)}return this.get$int$int(e,t)},t.prototype.length=function(){return this.bits.length},t.prototype.isEmpty=function(){return 0===this.bits.length},t.prototype.cardinality=function(){for(var e=0,t=0;t<this.bits.length;t++)e+=this.bits[t]?1:0;return e},t.prototype.and=function(e){for(var t=0;t<this.bits.length;t++)this.bits[t]=this.bits[t]&&e.get$int(t)},t.prototype.or=function(e){for(var t=0;t<this.bits.length;t++)this.bits[t]=this.bits[t]||e.get$int(t)},t.prototype.xor=function(e){for(var t=0;t<this.bits.length;t++)this.bits[t]=this.bits[t]&&!e.get$int(t)||!this.bits[t]&&e.get$int(t)},t.prototype.andNot=function(e){for(var t=0;t<this.bits.length;t++)this.bits[t]=this.bits[t]&&!e.get$int(t)},t.prototype.size=function(){return this.bits.length},t.prototype.equals=function(t){if(!(null!=t&&t instanceof e.util.BitSet))return!1;if(this===t)return!0;var n=t;if(n.bits.length!==this.bits.length)return!1;for(var r=0;r<n.bits.length;r++)if(!n.bits[r]==this.bits[r])return!1;return!0},t.prototype.clone=function(){var e=new t;return e.bits=this.bits.slice(0,this.bits.length),e},t}();t.BitSet=n,n.__class="java.util.BitSet",n.__interfaces=["java.lang.Cloneable","java.io.Serializable"]}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(){function t(){}return t.compare=function(e,t,n){return e===t?0:(void 0===(r=n).compare?r:r.compare)(e,t);var r},t.deepEquals=function(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(i=n,(r=t)&&r.equals?r.equals(i):r===i)return!0;var r,i,o=t.constructor,a=n.constructor;return!(!o.isArray()||!function(e,t){return e&&e.equals?e.equals(t):e===t}(o,a))&&(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||null!=t[0])?e.util.Arrays.deepEquals(t,n):null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"boolean"===typeof t[0])?e.util.Arrays.equals$boolean_A$boolean_A(t,n):null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])?e.util.Arrays.equals$byte_A$byte_A(t,n):null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"string"===typeof t[0])?e.util.Arrays.equals$char_A$char_A(t,n):null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])?e.util.Arrays.equals$short_A$short_A(t,n):null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])?e.util.Arrays.equals$int_A$int_A(t,n):null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])?e.util.Arrays.equals$long_A$long_A(t,n):null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])?e.util.Arrays.equals$float_A$float_A(t,n):!(null!=t&&t instanceof Array)||0!=t.length&&null!=t[0]&&"number"!==typeof t[0]||e.util.Arrays.equals$double_A$double_A(t,n))},t.equals=function(e,t){return e===t||null!=e&&(r=t,(n=e)&&n.equals?n.equals(r):n===r);var n,r},t.hashCode=function(e){return null!=e?function(e){return e.hashCode?e.hashCode():e.toString().split("").reduce(function(e,t){return(e<<5)-e+t.charCodeAt(0)|0},0)}(e):0},t.hash=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.util.Arrays.hashCode$java_lang_Object_A(t)},t.isNull=function(e){return null==e},t.nonNull=function(e){return null!=e},t.requireNonNull$java_lang_Object=function(t){if(null==t)throw new e.lang.NullPointerException;return t},t.requireNonNull$java_lang_Object$java_lang_String=function(t,n){if(null==t)throw new e.lang.NullPointerException(n);return t},t.requireNonNull=function(t,n){if(null==t&&null!==t||"string"!==typeof n&&null!==n){if(null==t&&null!==t||("function"!==typeof n||0!==n.length)&&null!==n){if(null==t&&null!==t||void 0!==n)throw new Error("invalid overload");return e.util.Objects.requireNonNull$java_lang_Object(t)}return e.util.Objects.requireNonNull$java_lang_Object$java_util_function_Supplier(t,n)}return e.util.Objects.requireNonNull$java_lang_Object$java_lang_String(t,n)},t.requireNonNull$java_lang_Object$java_util_function_Supplier=function(t,n){if(null==t)throw new e.lang.NullPointerException("function"===typeof(r=n)?r():r.get());var r;return t},t.toString$java_lang_Object=function(e){return new String(e).toString()},t.toString$java_lang_Object$java_lang_String=function(e,t){return null!=e?e.toString():t},t.toString=function(t,n){if(null==t&&null!==t||"string"!==typeof n&&null!==n){if(null==t&&null!==t||void 0!==n)throw new Error("invalid overload");return e.util.Objects.toString$java_lang_Object(t)}return e.util.Objects.toString$java_lang_Object$java_lang_String(t,n)},t}();t.Objects=n,n.__class="java.util.Objects"}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(){function t(e){if(null!=e||null===e)void 0===this.ref&&(this.ref=null),this.ref=javaemul.internal.InternalPreconditions.checkCriticalNotNull(e);else{if(void 0!==e)throw new Error("invalid overload");void 0===this.ref&&(this.ref=null),this.ref=null}}return t.empty=function(){return t.EMPTY_$LI$()},t.of=function(e){return new t(e)},t.ofNullable=function(e){return null==e?t.empty():t.of(e)},t.EMPTY_$LI$=function(){return null==t.EMPTY&&(t.EMPTY=new t),t.EMPTY},t.prototype.isPresent=function(){return null!=this.ref},t.prototype.get=function(){return javaemul.internal.InternalPreconditions.checkCriticalElement(this.isPresent()),this.ref},t.prototype.ifPresent=function(e){var t,n=this;this.isPresent()&&("function"===typeof(t=e)?t(n.ref):t.accept(n.ref))},t.prototype.filter=function(e){var n,r=this;return javaemul.internal.InternalPreconditions.checkCriticalNotNull(e),!this.isPresent()||("function"===typeof(n=e)?n(r.ref):n.test(r.ref))?this:t.empty()},t.prototype.map=function(e){var n,r=this;return javaemul.internal.InternalPreconditions.checkCriticalNotNull(e),this.isPresent()?t.ofNullable("function"===typeof(n=e)?n(r.ref):n.apply(r.ref)):t.empty()},t.prototype.flatMap=function(e){var n,r=this;return javaemul.internal.InternalPreconditions.checkCriticalNotNull(e),this.isPresent()?javaemul.internal.InternalPreconditions.checkCriticalNotNull("function"===typeof(n=e)?n(r.ref):n.apply(r.ref)):t.empty()},t.prototype.orElse=function(e){return this.isPresent()?this.ref:e},t.prototype.orElseGet=function(e){return this.isPresent()?this.ref:"function"===typeof(t=e)?t():t.get();var t},t.prototype.orElseThrow=function(e){if(this.isPresent())return this.ref;throw"function"===typeof(t=e)?t():t.get();var t},t.prototype.equals=function(t){if(t===this)return!0;if(!(null!=t&&t instanceof e.util.Optional))return!1;var n=t;return e.util.Objects.equals(this.ref,n.ref)},t.prototype.hashCode=function(){return e.util.Objects.hashCode(this.ref)},t.prototype.toString=function(){return this.isPresent()?"Optional.of("+new String(this.ref).toString()+")":"Optional.empty()"},t}();t.Optional=n,n.__class="java.util.Optional"}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(){function t(e){if("number"===typeof e||null===e)void 0===this.ref&&(this.ref=0),void 0===this.present&&(this.present=!1),this.ref=e,this.present=!0;else{if(void 0!==e)throw new Error("invalid overload");void 0===this.ref&&(this.ref=0),void 0===this.present&&(this.present=!1),this.ref=0,this.present=!1}}return t.empty=function(){return t.EMPTY_$LI$()},t.of=function(e){return new t(e)},t.EMPTY_$LI$=function(){return null==t.EMPTY&&(t.EMPTY=new t),t.EMPTY},t.prototype.isPresent=function(){return this.present},t.prototype.getAsDouble=function(){return javaemul.internal.InternalPreconditions.checkCriticalElement(this.present),this.ref},t.prototype.ifPresent=function(e){var t,n=this;this.present&&("function"===typeof(t=e)?t(n.ref):t.accept(n.ref))},t.prototype.orElse=function(e){return this.present?this.ref:e},t.prototype.orElseGet=function(e){return this.present?this.ref:"function"===typeof(t=e)?t():t.getAsDouble();var t},t.prototype.orElseThrow=function(e){if(this.present)return this.ref;throw"function"===typeof(t=e)?t():t.get();var t},t.prototype.equals=function(t){if(t===this)return!0;if(!(null!=t&&t instanceof e.util.OptionalDouble))return!1;var n=t;return this.present===n.present&&this.ref-n.ref===0},t.prototype.hashCode=function(){return this.present?javaemul.internal.DoubleHelper.hashCode(this.ref):0},t.prototype.toString=function(){return this.present?"OptionalDouble.of("+this.ref+")":"OptionalDouble.empty()"},t}();t.OptionalDouble=n,n.__class="java.util.OptionalDouble"}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(){function t(){this.changed=!1,void 0===this.obs&&(this.obs=null),this.obs=new e.util.Vector}return t.prototype.addObserver=function(t){if(null==t)throw new e.lang.NullPointerException;this.obs.contains(t)||this.obs.addElement(t)},t.prototype.deleteObserver=function(e){this.obs.removeElement(e)},t.prototype.notifyObservers$=function(){this.notifyObservers$java_lang_Object(null)},t.prototype.notifyObservers$java_lang_Object=function(e){var t;if(this.changed){t=this.obs.toArray$(),this.clearChanged();for(var n=t.length-1;n>=0;n--)t[n].update(this,e)}},t.prototype.notifyObservers=function(e){if(null!=e||null===e)return this.notifyObservers$java_lang_Object(e);if(void 0===e)return this.notifyObservers$();throw new Error("invalid overload")},t.prototype.deleteObservers=function(){this.obs.removeAllElements()},t.prototype.setChanged=function(){this.changed=!0},t.prototype.clearChanged=function(){this.changed=!1},t.prototype.hasChanged=function(){return this.changed},t.prototype.countObservers=function(){return this.obs.size()},t}();t.Observable=n,n.__class="java.util.Observable"}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(){function t(t){this.backingMap=e.util.InternalJsMapFactory.newJsMap(),void 0===this.host&&(this.host=null),void 0===this.__size&&(this.__size=0),this.host=t}return t.prototype.forEach=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=function(t){var n,r=t.next();"function"===typeof(n=e)?n(r):n.accept(r)},n=this.iterator();n.hasNext();)t(n)},t.prototype.put=function(t,n){var r=this.hash(t),i=this.getChainOrEmpty(r);if(0===i.length)this.backingMap.set(r,i);else{var o=this.findEntryInChain(t,i);if(null!=o)return o.setValue(n)}return i[i.length]=new e.util.AbstractMap.SimpleEntry(t,n),this.__size++,e.util.ConcurrentModificationDetector.structureChanged(this.host),null},t.prototype.remove=function(t){for(var n=this.hash(t),r=this.getChainOrEmpty(n),i=0;i<r.length;i++){var o=r[i];if(this.host._equals(t,o.getKey()))return 1===r.length?(javaemul.internal.ArrayHelper.setLength(r,0),this.backingMap.delete(n)):javaemul.internal.ArrayHelper.removeFrom(r,i,1),this.__size--,e.util.ConcurrentModificationDetector.structureChanged(this.host),o.getValue()}return null},t.prototype.getEntry=function(e){return this.findEntryInChain(e,this.getChainOrEmpty(this.hash(e)))},t.prototype.findEntryInChain=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(this.host._equals(e,r.getKey()))return r}return null},t.prototype.size=function(){return this.__size},t.prototype.iterator=function(){return new t.InternalHashCodeMap$0(this)},t.prototype.getChainOrEmpty=function(e){var t=this.unsafeCastToArray(this.backingMap.get(e));return null==t?this.newEntryChain():t},t.prototype.newEntryChain=function(){return[]},t.prototype.unsafeCastToArray=function(e){return e},t.prototype.hash=function(e){return null==e?0:this.host.getHashCode(e)},t}();t.InternalHashCodeMap=n,n.__class="java.util.InternalHashCodeMap",n.__interfaces=["java.lang.Iterable"],function(e){var t=function(){function e(e){this.__parent=e,this.chains=this.__parent.backingMap.entries(),this.itemIndex=0,this.chain=this.__parent.newEntryChain(),this.lastEntry=null}return e.prototype.forEachRemaining=function(e){var t,n=this;for(javaemul.internal.InternalPreconditions.checkNotNull(e);this.hasNext();)"function"===typeof(t=e)?t(n.next()):t.accept(n.next())},e.prototype.hasNext=function(){if(this.itemIndex<this.chain.length)return!0;var e=this.chains.next();return!e.done&&(this.chain=this.__parent.unsafeCastToArray(e.value[1]),this.itemIndex=0,!0)},e.prototype.next=function(){return this.lastEntry=this.chain[this.itemIndex++],this.lastEntry},e.prototype.remove=function(){this.__parent.remove(this.lastEntry.getKey()),0!==this.itemIndex&&this.itemIndex--},e}();e.InternalHashCodeMap$0=t,t.__interfaces=["java.util.Iterator"]}(n=t.InternalHashCodeMap||(t.InternalHashCodeMap={}))}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n;((n=t.stream||(t.stream={})).IntStream||(n.IntStream={})).range=function(t,n){if(t>=n)return e.util.Collections.emptyList().stream();for(var r=new e.util.ArrayList;t<n;++t)r.add(t);return r.stream()}}(e.util||(e.util={}))}(java||(java={})),function(e){!function(e){var t;(function(e){var t;(t=e.Characteristics||(e.Characteristics={}))[t.CONCURRENT=0]="CONCURRENT",t[t.UNORDERED=1]="UNORDERED",t[t.IDENTITY_FINISH=2]="IDENTITY_FINISH"})((t=e.stream||(e.stream={})).Collector||(t.Collector={}))}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n;((n=t.stream||(t.stream={})).Stream||(n.Stream={})).of=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.util.Arrays.asList.apply(null,t).stream()}}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(){function t(e){if("number"===typeof e||null===e)void 0===this.ref&&(this.ref=0),void 0===this.present&&(this.present=!1),this.ref=e,this.present=!0;else{if(void 0!==e)throw new Error("invalid overload");void 0===this.ref&&(this.ref=0),void 0===this.present&&(this.present=!1),this.ref=0,this.present=!1}}return t.empty=function(){return t.EMPTY_$LI$()},t.of=function(e){return new t(e)},t.EMPTY_$LI$=function(){return null==t.EMPTY&&(t.EMPTY=new t),t.EMPTY},t.prototype.isPresent=function(){return this.present},t.prototype.getAsInt=function(){return javaemul.internal.InternalPreconditions.checkCriticalElement(this.present),this.ref},t.prototype.ifPresent=function(e){var t,n=this;this.present&&("function"===typeof(t=e)?t(n.ref):t.accept(n.ref))},t.prototype.orElse=function(e){return this.present?this.ref:e},t.prototype.orElseGet=function(e){return this.present?this.ref:"function"===typeof(t=e)?t():t.getAsInt();var t},t.prototype.orElseThrow=function(e){if(this.present)return this.ref;throw"function"===typeof(t=e)?t():t.get();var t},t.prototype.equals=function(t){if(t===this)return!0;if(!(null!=t&&t instanceof e.util.OptionalInt))return!1;var n=t;return this.present===n.present&&this.ref-n.ref===0},t.prototype.hashCode=function(){return this.present?javaemul.internal.IntegerHelper.hashCode(this.ref):0},t.prototype.toString=function(){return this.present?"OptionalInt.of("+this.ref+")":"OptionalInt.empty()"},t}();t.OptionalInt=n,n.__class="java.util.OptionalInt"}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(){function t(e){if("number"===typeof e||null===e)void 0===this.ref&&(this.ref=0),void 0===this.present&&(this.present=!1),this.ref=e,this.present=!0;else{if(void 0!==e)throw new Error("invalid overload");void 0===this.ref&&(this.ref=0),void 0===this.present&&(this.present=!1),this.ref=0,this.present=!1}}return t.empty=function(){return t.EMPTY_$LI$()},t.of=function(e){return new t(e)},t.EMPTY_$LI$=function(){return null==t.EMPTY&&(t.EMPTY=new t),t.EMPTY},t.prototype.isPresent=function(){return this.present},t.prototype.getAsLong=function(){return javaemul.internal.InternalPreconditions.checkCriticalElement(this.present),this.ref},t.prototype.ifPresent=function(e){var t,n=this;this.present&&("function"===typeof(t=e)?t(n.ref):t.accept(n.ref))},t.prototype.orElse=function(e){return this.present?this.ref:e},t.prototype.orElseGet=function(e){return this.present?this.ref:"function"===typeof(t=e)?t():t.getAsLong();var t},t.prototype.orElseThrow=function(e){if(this.present)return this.ref;throw"function"===typeof(t=e)?t():t.get();var t},t.prototype.equals=function(t){if(t===this)return!0;if(!(null!=t&&t instanceof e.util.OptionalLong))return!1;var n=t;return this.present===n.present&&this.ref-n.ref===0},t.prototype.hashCode=function(){return this.present?javaemul.internal.LongHelper.hashCode(this.ref):0},t.prototype.toString=function(){return this.present?"OptionalLong.of("+this.ref+")":"OptionalLong.empty()"},t}();t.OptionalLong=n,n.__class="java.util.OptionalLong"}(e.util||(e.util={}))}(java||(java={})),function(e){!function(e){var t=function(){function e(e){void 0===this.source&&(this.source=null),this.source=e}return e.prototype.getSource=function(){return this.source},e}();e.EventObject=t,t.__class="java.util.EventObject"}(e.util||(e.util={}))}(java||(java={})),function(e){var t;(t=e.util||(e.util={})).InternalJsMap||(t.InternalJsMap={})}(java||(java={})),function(e){!function(t){var n=function(){function t(e,t,n){if("string"!==typeof e&&null!==e||"string"!==typeof t&&null!==t||"boolean"!==typeof n&&null!==n)if("string"!==typeof e&&null!==e||"string"!==typeof t&&null!==t||void 0!==n){if("string"!==typeof e&&null!==e||void 0!==t||void 0!==n)throw new Error("invalid overload");void 0===this.currentPosition&&(this.currentPosition=0),void 0===this.newPosition&&(this.newPosition=0),void 0===this.maxPosition&&(this.maxPosition=0),void 0===this.str&&(this.str=null),void 0===this.delimiters&&(this.delimiters=null),void 0===this.retDelims&&(this.retDelims=!1),void 0===this.delimsChanged&&(this.delimsChanged=!1),void 0===this.maxDelimCodePoint&&(this.maxDelimCodePoint=0),void 0===this.delimiterCodePoints&&(this.delimiterCodePoints=null),this.hasSurrogates=!1,this.currentPosition=0,this.newPosition=-1,this.delimsChanged=!1,this.str=e,this.maxPosition=e.length,this.delimiters=" \t\n\r\f",this.retDelims=!1,this.setMaxDelimCodePoint(),void 0===this.currentPosition&&(this.currentPosition=0),void 0===this.newPosition&&(this.newPosition=0),void 0===this.maxPosition&&(this.maxPosition=0),void 0===this.str&&(this.str=null),void 0===this.delimiters&&(this.delimiters=null),void 0===this.retDelims&&(this.retDelims=!1),void 0===this.delimsChanged&&(this.delimsChanged=!1),void 0===this.maxDelimCodePoint&&(this.maxDelimCodePoint=0),void 0===this.delimiterCodePoints&&(this.delimiterCodePoints=null),this.hasSurrogates=!1}else{void 0===this.currentPosition&&(this.currentPosition=0),void 0===this.newPosition&&(this.newPosition=0),void 0===this.maxPosition&&(this.maxPosition=0),void 0===this.str&&(this.str=null),void 0===this.delimiters&&(this.delimiters=null),void 0===this.retDelims&&(this.retDelims=!1),void 0===this.delimsChanged&&(this.delimsChanged=!1),void 0===this.maxDelimCodePoint&&(this.maxDelimCodePoint=0),void 0===this.delimiterCodePoints&&(this.delimiterCodePoints=null),this.hasSurrogates=!1,this.currentPosition=0,this.newPosition=-1,this.delimsChanged=!1,this.str=e,this.maxPosition=e.length,this.delimiters=t,this.retDelims=!1,this.setMaxDelimCodePoint(),void 0===this.currentPosition&&(this.currentPosition=0),void 0===this.newPosition&&(this.newPosition=0),void 0===this.maxPosition&&(this.maxPosition=0),void 0===this.str&&(this.str=null),void 0===this.delimiters&&(this.delimiters=null),void 0===this.retDelims&&(this.retDelims=!1),void 0===this.delimsChanged&&(this.delimsChanged=!1),void 0===this.maxDelimCodePoint&&(this.maxDelimCodePoint=0),void 0===this.delimiterCodePoints&&(this.delimiterCodePoints=null),this.hasSurrogates=!1}else void 0===this.currentPosition&&(this.currentPosition=0),void 0===this.newPosition&&(this.newPosition=0),void 0===this.maxPosition&&(this.maxPosition=0),void 0===this.str&&(this.str=null),void 0===this.delimiters&&(this.delimiters=null),void 0===this.retDelims&&(this.retDelims=!1),void 0===this.delimsChanged&&(this.delimsChanged=!1),void 0===this.maxDelimCodePoint&&(this.maxDelimCodePoint=0),void 0===this.delimiterCodePoints&&(this.delimiterCodePoints=null),this.hasSurrogates=!1,this.currentPosition=0,this.newPosition=-1,this.delimsChanged=!1,this.str=e,this.maxPosition=e.length,this.delimiters=t,this.retDelims=n,this.setMaxDelimCodePoint()}return t.prototype.setMaxDelimCodePoint=function(){if(null!=this.delimiters){for(var e,t=0,n=0,r=0;r<this.delimiters.length;r+=javaemul.internal.CharacterHelper.charCount(e))(e=this.delimiters.charAt(r).charCodeAt(0))>=function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(javaemul.internal.CharacterHelper.MIN_HIGH_SURROGATE)&&e<=function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(javaemul.internal.CharacterHelper.MAX_LOW_SURROGATE)&&(e=this.delimiters.charCodeAt(r),this.hasSurrogates=!0),t<e&&(t=e),n++;if(this.maxDelimCodePoint=t,this.hasSurrogates){this.delimiterCodePoints=function(e){for(var t=[];e-- >0;)t.push(0);return t}(n);r=0;for(var i=0;r<n;r++,i+=javaemul.internal.CharacterHelper.charCount(e))e=this.delimiters.charCodeAt(i),this.delimiterCodePoints[r]=e}}else this.maxDelimCodePoint=0},t.prototype.skipDelimiters=function(t){if(null==this.delimiters)throw new e.lang.NullPointerException;for(var n=t;!this.retDelims&&n<this.maxPosition;)if(this.hasSurrogates){if((r=this.str.charCodeAt(n))>this.maxDelimCodePoint||!this.isDelimiter(r))break;n+=javaemul.internal.CharacterHelper.charCount(r)}else{var r;if(function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(r=this.str.charAt(n))>this.maxDelimCodePoint||this.delimiters.indexOf(r)<0)break;n++}return n},t.prototype.scanToken=function(e){for(var t=e;t<this.maxPosition;)if(this.hasSurrogates){if((n=this.str.charCodeAt(t))<=this.maxDelimCodePoint&&this.isDelimiter(n))break;t+=javaemul.internal.CharacterHelper.charCount(n)}else{var n;if(function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(n=this.str.charAt(t))<=this.maxDelimCodePoint&&this.delimiters.indexOf(n)>=0)break;t++}this.retDelims&&e===t&&(this.hasSurrogates?(n=this.str.charCodeAt(t))<=this.maxDelimCodePoint&&this.isDelimiter(n)&&(t+=javaemul.internal.CharacterHelper.charCount(n)):function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(n=this.str.charAt(t))<=this.maxDelimCodePoint&&this.delimiters.indexOf(n)>=0&&t++);return t},t.prototype.isDelimiter=function(e){for(var t=0;t<this.delimiterCodePoints.length;t++)if(this.delimiterCodePoints[t]===e)return!0;return!1},t.prototype.hasMoreTokens=function(){return this.newPosition=this.skipDelimiters(this.currentPosition),this.newPosition<this.maxPosition},t.prototype.nextToken$=function(){if(this.currentPosition=this.newPosition>=0&&!this.delimsChanged?this.newPosition:this.skipDelimiters(this.currentPosition),this.delimsChanged=!1,this.newPosition=-1,this.currentPosition>=this.maxPosition)throw new e.util.NoSuchElementException;var t=this.currentPosition;return this.currentPosition=this.scanToken(this.currentPosition),this.str.substring(t,this.currentPosition)},t.prototype.nextToken$java_lang_String=function(e){return this.delimiters=e,this.delimsChanged=!0,this.setMaxDelimCodePoint(),this.nextToken$()},t.prototype.nextToken=function(e){if("string"===typeof e||null===e)return this.nextToken$java_lang_String(e);if(void 0===e)return this.nextToken$();throw new Error("invalid overload")},t.prototype.hasMoreElements=function(){return this.hasMoreTokens()},t.prototype.nextElement=function(){return this.nextToken$()},t.prototype.countTokens=function(){for(var e=0,t=this.currentPosition;t<this.maxPosition&&!((t=this.skipDelimiters(t))>=this.maxPosition);)t=this.scanToken(t),e++;return e},t}();t.StringTokenizer=n,n.__class="java.util.StringTokenizer",n.__interfaces=["java.util.Enumeration"]}(e.util||(e.util={}))}(java||(java={})),function(e){var t;(function(t){var n=function(){function t(e,t){void 0===this._pattern&&(this._pattern=null),void 0===this.text&&(this.text=null),void 0===this.starts&&(this.starts=null),void 0===this.ends&&(this.ends=null),void 0===this.groups&&(this.groups=null),this.first=-1,this.last=0,this.lastAppendPosition=0,this._pattern=e,this.text=t,this.reset$()}return t.prototype.hasGroups=function(){if(null==this.groups)throw new e.lang.IllegalStateException("No match available")},t.prototype.searchWith=function(e){var n=0|e.lastIndex,r=e.exec(this.text);if(this.groups=r,null==this.groups)return this.reset$(),!1;this.starts=[],this.ends=[];var i=[],o=[],a=new t.NonCapturesToCaptures(i,o),s=e.source.replace(new RegExp("((?:\\\\.|\\[\\^?\\]\\]|\\[\\^?(?:[^\\\\\\]]|\\\\.|)+\\])+)|\\(((?:\\?\\:)?)|(\\))","g"),function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apply(t)}}(a)),l=new RegExp(s),u=new t.IndexGetter(e.source,i,o,this.starts,this.ends,n);return this.text.substring(n).replace(l,function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apply(t)}}(u)),!0},t.prototype.end$=function(){return this.end$int(0)},t.prototype.end$int=function(e){return this.hasGroups(),this.ends[e]},t.prototype.end$java_lang_String=function(e){return this.end$int(this._pattern.namedGroupsNames.get(e)+this.regionStart())},t.prototype.end=function(e){if("string"===typeof e||null===e)return this.end$java_lang_String(e);if("number"===typeof e||null===e)return this.end$int(e);if(void 0===e)return this.end$();throw new Error("invalid overload")},t.prototype.find$=function(){return this.searchWith(this._pattern.regexp)},t.prototype.find$int=function(e){return this._pattern.regexp.lastIndex=e,this.find$()},t.prototype.find=function(e){if("number"===typeof e||null===e)return this.find$int(e);if(void 0===e)return this.find$();throw new Error("invalid overload")},t.prototype.group$=function(){return this.group$int(0)},t.prototype.group$int=function(e){return this.hasGroups(),this.groups[e]},t.prototype.group$java_lang_String=function(e){return this.group$int(this._pattern.namedGroupsNames.get(e)+this.regionStart())},t.prototype.group=function(e){if("string"===typeof e||null===e)return this.group$java_lang_String(e);if("number"===typeof e||null===e)return this.group$int(e);if(void 0===e)return this.group$();throw new Error("invalid overload")},t.prototype.groupCount=function(){return this.groups.length-1},t.prototype.hitEnd=function(){return this.end$()===this.text.length},t.prototype.lookingAt=function(){return this.reset$(),this.searchWith(e.util.regex.Pattern.compile$java_lang_String("^(?:"+this._pattern.pattern()+")").regexp)},t.prototype.matches=function(){return this.reset$(),this.searchWith(e.util.regex.Pattern.compile$java_lang_String("^(?:"+this._pattern.pattern()+")$").regexp)},t.prototype.pattern=function(){return this._pattern},t.prototype.regionEnd=function(){return this.hasGroups(),this.groups.length},t.prototype.regionStart=function(){return this.hasGroups(),1},t.prototype.replaceAll=function(e){return this.reset$(),this.text=this.text.replace(this._pattern.regexp,e),this.text},t.prototype.replaceFirst=function(e){this.reset$();var n=new t.FirstReplacer(e);return this.text=this.text.replace(this._pattern.regexp,function(e){return function(t){return e.apply(t)}}(n)),this.text},t.prototype.reset$=function(){return this._pattern.regexp.lastIndex=0,this.groups=null,this.starts=null,this.ends=null,this.first=-1,this.last=0,this},t.prototype.reset$java_lang_CharSequence=function(e){return this.text=e.toString(),this.reset$()},t.prototype.reset=function(e){if(null!=e&&(null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("java.lang.CharSequence")>=0||"string"===typeof e)||null===e)return this.reset$java_lang_CharSequence(e);if(void 0===e)return this.reset$();throw new Error("invalid overload")},t.prototype.start$=function(){return this.start$int(0)},t.prototype.start$int=function(e){return this.hasGroups(),this.starts[e]},t.prototype.start$java_lang_String=function(e){return this.start$int(this._pattern.namedGroupsNames.get(e)+this.regionStart())},t.prototype.start=function(e){if("string"===typeof e||null===e)return this.start$java_lang_String(e);if("number"===typeof e||null===e)return this.start$int(e);if(void 0===e)return this.start$();throw new Error("invalid overload")},t.prototype.toMatchResult=function(){return this},t.prototype.usePattern=function(e){return this._pattern=e,this},t}();t.Matcher=n,n.__class="java.util.regex.Matcher",n.__interfaces=["java.util.regex.MatchResult"],function(t){var n=function(){function t(e,t,n,r,i,o){void 0===this.regexString&&(this.regexString=null),void 0===this.parenthesisStart&&(this.parenthesisStart=null),void 0===this.parenthesisEnd&&(this.parenthesisEnd=null),void 0===this.starts&&(this.starts=null),void 0===this.ends&&(this.ends=null),void 0===this.startLastIndex&&(this.startLastIndex=0),this.regexString=e,this.parenthesisStart=t,this.parenthesisEnd=n,this.starts=r,this.ends=i,this.startLastIndex=o}return t.prototype.apply=function(t){this.starts.push(t[t.length-2]),this.ends.push(this.starts[0]+t[0].length);var n=new e.util.Stack;n.push(this.ends[0]),n.push(this.starts[0]);for(var r,i=0,o=0;o<t.length-3;++o){for(var a=this.parenthesisStart[o];this.parenthesisEnd[i]<a;)i+=1,n.pop();var s=n.pop(),l=null!=t[o+1]?t[o+1].length:0;n.push(s+l),n.push(s),(null==(r=this.regexString.charAt(a+1)).charCodeAt?r:r.charCodeAt(0))!="?".charCodeAt(0)&&(0===l?(this.starts.push(-1),this.ends.push(-1)):(s+=this.startLastIndex,this.starts.push(s),this.ends.push(s+l)))}return this.starts[0]+=this.startLastIndex,this.ends[0]+=this.startLastIndex,t[0]},t}();t.IndexGetter=n,n.__class="java.util.regex.Matcher.IndexGetter",n.__interfaces=["java.util.function.Function"];var r=function(){function e(e,t){void 0===this.start&&(this.start=null),void 0===this.ends&&(this.ends=null),this.start=e,this.ends=t}return e.prototype.apply=function(e){if(void 0!==e[1])return e[1];if(void 0!==e[2])return this.start.push(javaemul.internal.IntegerHelper.parseInt(e[e.length-2])),"(";if(void 0!==e[3])return this.ends.push(javaemul.internal.IntegerHelper.parseInt(e[e.length-2])),e[3];throw new Error("NonCapturesToCaptures")},e}();t.NonCapturesToCaptures=r,r.__class="java.util.regex.Matcher.NonCapturesToCaptures",r.__interfaces=["java.util.function.Function"];var i=function(){function e(e){void 0===this.replacement&&(this.replacement=null),this.first=!0,this.replacement=e}return e.prototype.apply=function(e){return this.first?(this.first=!1,this.replacement):e[0]},e}();t.FirstReplacer=i,i.__class="java.util.regex.Matcher.FirstReplacer",i.__interfaces=["java.util.function.Function"]}(n=t.Matcher||(t.Matcher={}))})((t=e.util||(e.util={})).regex||(t.regex={}))}(java||(java={})),function(e){var t;(function(t){var n=function(){function t(e,t,n){void 0===this.regexp&&(this.regexp=null),void 0===this._flags&&(this._flags=0),void 0===this.namedGroupsNames&&(this.namedGroupsNames=null),this.regexp=e,this._flags=t,this.namedGroupsNames=n}return t.compile$java_lang_String=function(e){return t.compile$java_lang_String$int(e,0)},t.compile$java_lang_String$int=function(n,r){var i="g";(r&t.MULTILINE)>0&&(i+="m"),(r&t.CASE_INSENSITIVE)>0&&(i+="i"),(r&t.UNICODE_CHARACTER_CLASS)>0&&(i+="u"),(r&t.UNICODE_CASE)>0&&(i+="ui");var o=new e.util.HashMap,a=new t.GroupNameRemover(o);n=n.replace(new RegExp("(?:\\\\\\\\)*(\\\\?)\\[\\^?\\]?|(?:\\\\\\\\)*(\\\\?)\\]|(?:\\\\\\\\)*(\\\\?)\\((?:(\\?\\:)|\\?<([^>]+)>)?","g"),function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apply(t)}}(a)).replace(new RegExp("(\\?\\:|(?:[*+?]|\\{[^\\}]+\\})*)((?:[^\\\\()|]|\\\\.|\\[\\^?\\]\\]|\\[\\^?(?:[^\\\\\\]]|\\\\.|)+\\])*)","g"),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(void 0===e[2]||0===e[2].length)return e[1];var n=e[e.length-1],r=javaemul.internal.IntegerHelper.parseInt(e[e.length-2]),i=r+e[0].length,o=r>0&&"("===n.charAt(r-1)||r>2&&"(?:"===n.substr(r-3,3),a=n.length>i&&")"===n.charAt(i);return o&&a?e[1]+e[2]:e[1]+"(?:"+e[2]+")"});try{return new t(new RegExp(n,i),r,o)}catch(s){throw new e.util.regex.PatternSyntaxException(s,n)}},t.compile=function(t,n){if("string"!==typeof t&&null!==t||"number"!==typeof n&&null!==n){if("string"!==typeof t&&null!==t||void 0!==n)throw new Error("invalid overload");return e.util.regex.Pattern.compile$java_lang_String(t)}return e.util.regex.Pattern.compile$java_lang_String$int(t,n)},t.prototype.flags=function(){return this._flags},t.prototype.matcher=function(t){return new e.util.regex.Matcher(this,t.toString())},t.matches=function(e,n){return t.compile$java_lang_String(e).matcher(n).matches()},t.prototype.pattern=function(){return this.regexp.source},t.quote=function(e){return JSON.stringify(e)},t.prototype.split=function(e,t){return void 0===t&&(t=0),e.toString().split(this.regexp,t).toArray()},t.prototype.splitAsStream=function(t){return e.util.Arrays.stream(this.split(t))},t.prototype.toString=function(){return this.pattern()},t.CASE_INSENSITIVE=2,t.MULTILINE=8,t.UNICODE_CASE=64,t.UNICODE_CHARACTER_CLASS=256,t}();t.Pattern=n,n.__class="java.util.regex.Pattern",n.__interfaces=["java.io.Serializable"],function(e){var t=function(){function e(e){void 0===this.namedGroupsNames&&(this.namedGroupsNames=null),this.count=0,this.inBrackets=!1,this.namedGroupsNames=e}return e.prototype.apply=function(e){return this.inBrackets||void 0!==e[2]?(this.inBrackets=void 0===e[2]||1===e[2].length,e[0]):void 0!==e[1]?(this.inBrackets=0===e[1].length,e[0]):void 0!==e[3]&&0!==e[3].length?e[0]:(void 0===e[4]&&(this.count+=1),void 0!==e[5]&&(this.namedGroupsNames.put(e[5],this.count),e[0]=e[0].replace(new RegExp("\\?<[^>]+>"),"")),e[0])},e}();e.GroupNameRemover=t,t.__class="java.util.regex.Pattern.GroupNameRemover",t.__interfaces=["java.util.function.Function"]}(n=t.Pattern||(t.Pattern={}))})((t=e.util||(e.util={})).regex||(t.regex={}))}(java||(java={})),function(e){!function(t){var n=function(){function t(){}return t.prototype.stream=function(){return new javaemul.internal.stream.StreamHelper(this)},t.prototype.forEach=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=function(t){var n,r=t.next();"function"===typeof(n=e)?n(r):n.accept(r)},n=this.iterator();n.hasNext();)t(n)},t.prototype.parallelStream=function(){return this.stream()},t.prototype.removeIf=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=!1,n=function(n){var r;("function"===typeof(r=e)?r(n.next()):r.test(n.next()))&&(n.remove(),t=!0)},r=this.iterator();r.hasNext();)n(r);return t},t.prototype.add=function(t){throw new e.lang.UnsupportedOperationException("Add not supported on this collection")},t.prototype.addAll=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=!1,n=e.iterator();n.hasNext();){var r=n.next();t=this.add(r)||t}return t},t.prototype.clear=function(){for(var e=this.iterator();e.hasNext();)e.next(),e.remove()},t.prototype.contains=function(e){return this.advanceToFind(e,!1)},t.prototype.containsAll=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=e.iterator();t.hasNext();){var n=t.next();if(!this.contains(n))return!1}return!0},t.prototype.isEmpty=function(){return 0===this.size()},t.prototype.remove=function(e){return this.advanceToFind(e,!0)},t.prototype.removeAll=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=!1,n=this.iterator();n.hasNext();){var r=n.next();e.contains(r)&&(n.remove(),t=!0)}return t},t.prototype.retainAll=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=!1,n=this.iterator();n.hasNext();){var r=n.next();e.contains(r)||(n.remove(),t=!0)}return t},t.prototype.toArray$=function(){return this.toArray$java_lang_Object_A(function(e){for(var t=[];e-- >0;)t.push(null);return t}(this.size()))},t.prototype.toArray$java_lang_Object_A=function(e){var t=this.size();e.length<t&&(e=javaemul.internal.ArrayHelper.createFrom(e,t));for(var n=e,r=this.iterator(),i=0;i<t;++i)n[i]=r.next();return e.length>t&&(e[t]=null),e},t.prototype.toArray=function(e){if(null!=e&&e instanceof Array&&(0==e.length||null==e[0]||null!=e[0])||null===e)return this.toArray$java_lang_Object_A(e);if(void 0===e)return this.toArray$();throw new Error("invalid overload")},t.prototype.toString=function(){for(var t=new e.util.StringJoiner(", ","[","]"),n=this.iterator();n.hasNext();){var r=n.next();t.add(r===this?"(this Collection)":new String(r).toString())}return t.toString()},t.prototype.advanceToFind=function(t,n){for(var r=this.iterator();r.hasNext();){var i=r.next();if(e.util.Objects.equals(t,i))return n&&r.remove(),!0}return!1},t}();t.AbstractCollection=n,n.__class="java.util.AbstractCollection",n.__interfaces=["java.util.Collection","java.lang.Iterable"]}(e.util||(e.util={}))}(java||(java={})),function(e){!function(e){var t=function(){function e(){this.state=e.VIRGIN,void 0===this.nextExecutionTime&&(this.nextExecutionTime=0),this.period=0,void 0===this.handle&&(this.handle=0)}return e.prototype.cancel=function(){var t=this.state===e.SCHEDULED;return this.state=e.CANCELLED,this.nextExecutionTime=0,this.period=0,t},e.prototype.scheduledExecutionTime=function(){return this.period<0?this.nextExecutionTime+this.period:this.nextExecutionTime-this.period},e.VIRGIN=0,e.SCHEDULED=1,e.EXECUTED=2,e.CANCELLED=3,e}();e.TimerTask=t,t.__class="java.util.TimerTask",t.__interfaces=["java.lang.Runnable"]}(e.util||(e.util={}))}(java||(java={})),function(e){!function(e){var t=function(){function e(t){if("number"===typeof t||null===t)void 0===this.nextNextGaussian&&(this.nextNextGaussian=0),void 0===this.seedhi&&(this.seedhi=0),void 0===this.seedlo&&(this.seedlo=0),this.haveNextNextGaussian=!1,this.setSeed$long(t);else{if(void 0!==t)throw new Error("invalid overload");void 0===this.nextNextGaussian&&(this.nextNextGaussian=0),void 0===this.seedhi&&(this.seedhi=0),void 0===this.seedlo&&(this.seedlo=0),this.haveNextNextGaussian=!1;var n=e.uniqueSeed+++javaemul.internal.DateUtil.now(),r=16777215&(0|Math.floor(n*e.twoToTheMinus24)),i=n-r*e.twoToThe24|0;this.setSeed$int$int(r,i)}}return e.__static_initialize=function(){e.__static_initialized||(e.__static_initialized=!0,e.__static_initializer_0())},e.twoToTheXMinus24_$LI$=function(){return e.__static_initialize(),null==e.twoToTheXMinus24&&(e.twoToTheXMinus24=function(e){for(var t=[];e-- >0;)t.push(0);return t}(25)),e.twoToTheXMinus24},e.twoToTheXMinus48_$LI$=function(){return e.__static_initialize(),null==e.twoToTheXMinus48&&(e.twoToTheXMinus48=function(e){for(var t=[];e-- >0;)t.push(0);return t}(33)),e.twoToTheXMinus48},e.__static_initializer_0=function(){for(var t=152587890625e-16,n=32;n>=0;n--)e.twoToTheXMinus48_$LI$()[n]=t,t*=.5;var r=1;for(n=24;n>=0;n--)e.twoToTheXMinus24_$LI$()[n]=r,r*=.5},e.prototype.nextBoolean=function(){return 0!==this.nextInternal(1)},e.prototype.nextBytes=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=0,n=0,r=0;n<e.length;)0===r?(t=0|this.nextInternal(32),r=3):r--,e[n++]=0|t,t>>=8},e.prototype.nextDouble=function(){return this.nextInternal(26)*e.twoToTheMinus26+this.nextInternal(27)*e.twoToTheMinus53},e.prototype.nextFloat=function(){return this.nextInternal(24)*e.twoToTheMinus24},e.prototype.nextGaussian=function(){if(this.haveNextNextGaussian)return this.haveNextNextGaussian=!1,this.nextNextGaussian;var e,t,n;do{n=(e=2*this.nextDouble()-1)*e+(t=2*this.nextDouble()-1)*t}while(n>=1);var r=0===n?0:Math.sqrt(-2*Math.log(n)/n);return this.nextNextGaussian=t*r,this.haveNextNextGaussian=!0,e*r},e.prototype.nextInt$=function(){return 0|this.nextInternal(32)},e.prototype.nextInt$int=function(t){if(javaemul.internal.InternalPreconditions.checkCriticalArgument(t>0,"Random nextInt parameter can only be positive: %s",""+t),(t&-t)===t)return t*this.nextInternal(31)*e.twoToTheMinus31|0;var n,r;do{r=(n=this.nextInternal(31))%t}while(n-r+(t-1)<0);return 0|r},e.prototype.nextInt=function(e){if("number"===typeof e||null===e)return this.nextInt$int(e);if(void 0===e)return this.nextInt$();throw new Error("invalid overload")},e.prototype.nextLong=function(){return(((e=this.nextInternal(32))<0?Math.ceil(e):Math.floor(e))<<32)+function(e){return e<0?Math.ceil(e):Math.floor(e)}(this.nextInternal(32));var e},e.prototype.setSeed$long=function(e){this.setSeed$int$int(e>>24&16777215|0,16777215&e|0)},e.prototype.next=function(e){return 0|this.nextInternal(e)},e.prototype.nextInternal=function(t){var n=this.seedhi*e.multiplierLo+this.seedlo*e.multiplierHi,r=this.seedlo*e.multiplierLo+11,i=Math.floor(r*e.twoToTheMinus24);if(n+=i,r-=i*e.twoToThe24,n%=e.twoToThe24,this.seedhi=n,this.seedlo=r,t<=24)return Math.floor(this.seedhi*e.twoToTheXMinus24_$LI$()[t]);var o=this.seedhi*(1<<t-24)+Math.floor(this.seedlo*e.twoToTheXMinus48_$LI$()[t]);return o>=e.twoToThe31&&(o-=e.twoToThe32),o},e.prototype.setSeed$int$int=function(e,t){this.seedhi=1502^e,this.seedlo=15525485^t,this.haveNextNextGaussian=!1},e.prototype.setSeed=function(e,t){if("number"!==typeof e&&null!==e||"number"!==typeof t&&null!==t){if("number"!==typeof e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.setSeed$long(e)}return this.setSeed$int$int(e,t)},e.__static_initialized=!1,e.multiplierHi=1502,e.multiplierLo=15525485,e.twoToThe24=16777216,e.twoToThe31=2147483648,e.twoToThe32=4294967296,e.twoToTheMinus24=5.960464477539063e-8,e.twoToTheMinus26=1.4901161193847656e-8,e.twoToTheMinus31=4.656612873077393e-10,e.twoToTheMinus53=1.1102230246251565e-16,e.uniqueSeed=0,e}();e.Random=t,t.__class="java.util.Random"}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(){function e(){}return e.ROOT_$LI$=function(){return null==e.ROOT&&(e.ROOT=new e.RootLocale),e.ROOT},e.ENGLISH_$LI$=function(){return null==e.ENGLISH&&(e.ENGLISH=new e.EnglishLocale),e.ENGLISH},e.US_$LI$=function(){return null==e.US&&(e.US=new e.USLocale),e.US},e.FRANCE_$LI$=function(){return null==e.FRANCE&&(e.FRANCE=new e.FrenchLocale),e.FRANCE},e.UK_$LI$=function(){return null==e.UK&&(e.UK=new e.UKLocale),e.UK},e.defaultLocale_$LI$=function(){return null==e.defaultLocale&&(e.defaultLocale=new e.DefaultLocale),e.defaultLocale},e.getDefault=function(){return e.defaultLocale_$LI$()},e}();t.Locale=n,n.__class="java.util.Locale",function(t){var n=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.toString=function(){return""},t}(e.util.Locale);t.RootLocale=n,n.__class="java.util.Locale.RootLocale";var r=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.toString=function(){return"en"},t}(e.util.Locale);t.EnglishLocale=r,r.__class="java.util.Locale.EnglishLocale";var i=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.toString=function(){return"fr"},t}(e.util.Locale);t.FrenchLocale=i,i.__class="java.util.Locale.FrenchLocale";var o=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.toString=function(){return"en_US"},t}(e.util.Locale);t.USLocale=o,o.__class="java.util.Locale.USLocale";var a=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.toString=function(){return"en-gb"},t}(e.util.Locale);t.UKLocale=a,a.__class="java.util.Locale.UKLocale";var s=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.toString=function(){return"fr"},t}(e.util.Locale);t.DefaultLocale=s,s.__class="java.util.Locale.DefaultLocale"}(n=t.Locale||(t.Locale={}))}(e.util||(e.util={}))}(java||(java={})),function(e){!function(e){var t=function(){function e(){}return e.NATURAL_$LI$=function(){return null==e.NATURAL&&(e.NATURAL=function(t,n){return(new e.NaturalComparator).compare(t,n)}),e.NATURAL},e.natural=function(){return e.NATURAL_$LI$()},e}();e.Comparators=t,t.__class="java.util.Comparators",function(e){var t=function(){function e(){}return e.prototype.compare=function(e,t){return javaemul.internal.InternalPreconditions.checkNotNull(e),javaemul.internal.InternalPreconditions.checkNotNull(t),void 0===e.compareTo?e.toString().localeCompare(t.toString()):e.compareTo(t)},e}();e.NaturalComparator=t,t.__class="java.util.Comparators.NaturalComparator",t.__interfaces=["java.util.Comparator"]}(t=e.Comparators||(e.Comparators={}))}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(){function t(e,n,r,i,o,a){if("number"!==typeof e&&null!==e||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r||"number"!==typeof i&&null!==i||"number"!==typeof o&&null!==o||"number"!==typeof a&&null!==a)if("number"!==typeof e&&null!==e||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r||"number"!==typeof i&&null!==i||"number"!==typeof o&&null!==o||void 0!==a)if("number"!==typeof e&&null!==e||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r||void 0!==i||void 0!==o||void 0!==a)if("string"!==typeof e&&null!==e||void 0!==n||void 0!==r||void 0!==i||void 0!==o||void 0!==a)if("number"!==typeof e&&null!==e||void 0!==n||void 0!==r||void 0!==i||void 0!==o||void 0!==a){if(void 0!==e||void 0!==n||void 0!==r||void 0!==i||void 0!==o||void 0!==a)throw new Error("invalid overload");void 0===this.jsdate&&(this.jsdate=null),this.jsdate=new(t.jsdateClass())}else{var s=arguments[0];void 0===this.jsdate&&(this.jsdate=null),this.jsdate=new(t.jsdateClass())(s)}else{arguments[0];var l=arguments,u=t.parse(l[0]);void 0===this.jsdate&&(this.jsdate=null),this.jsdate=new(t.jsdateClass())(u),void 0===this.jsdate&&(this.jsdate=null)}else{void 0===this.jsdate&&(this.jsdate=null),this.jsdate=new(t.jsdateClass()),this.jsdate.setFullYear(this.jsdate,e+1900,n,r),this.jsdate.setHours(this.jsdate,0,0,0,0),this.fixDaylightSavings(0),void 0===this.jsdate&&(this.jsdate=null)}else{void 0===this.jsdate&&(this.jsdate=null),this.jsdate=new(t.jsdateClass()),this.jsdate.setFullYear(this.jsdate,e+1900,n,r),this.jsdate.setHours(this.jsdate,i,o,0,0),this.fixDaylightSavings(i),void 0===this.jsdate&&(this.jsdate=null)}else{void 0===this.jsdate&&(this.jsdate=null),this.jsdate=new(t.jsdateClass()),this.jsdate.setFullYear(this.jsdate,e+1900,n,r),this.jsdate.setHours(this.jsdate,i,o,a,0),this.fixDaylightSavings(i)}}return t.parse=function(n){var r,i=t.jsdateClass().parse(n);if(isNaN(i))throw new e.lang.IllegalArgumentException;return(r=i)<0?Math.ceil(r):Math.floor(r)},t.UTC=function(e,n,r,i,o,a){return t.jsdateClass().UTC(e+1900,n,r,i,o,a,0)},t.padTwo=function(e){return e<10?"0"+e:new String(e).toString()},t.jsdateClass=function(){return window.Date},t.prototype.after=function(e){return this.getTime()>e.getTime()},t.prototype.before=function(e){return this.getTime()<e.getTime()},t.prototype.clone=function(){return new t(this.getTime())},t.prototype.compareTo$java_util_Date=function(e){return this.getTime()-e.getTime()},t.prototype.compareTo=function(e){if(null!=e&&e instanceof t||null===e)return this.compareTo$java_util_Date(e);throw new Error("invalid overload")},t.prototype.equals=function(e){return null!=e&&e instanceof t&&this.getTime()===e.getTime()},t.prototype.getDate=function(){return this.jsdate.getDate(this.jsdate)},t.prototype.getDay=function(){return this.jsdate.getDay(this.jsdate)},t.prototype.getHours=function(){return this.jsdate.getHours(this.jsdate)},t.prototype.getMinutes=function(){return this.jsdate.getMinutes(this.jsdate)},t.prototype.getMonth=function(){return this.jsdate.getMonth(this.jsdate)},t.prototype.getSeconds=function(){return this.jsdate.getSeconds(this.jsdate)},t.prototype.getTime=function(){return this.jsdate.getTime(this.jsdate)},t.prototype.getTimezoneOffset=function(){return this.jsdate.getTimezoneOffset(this.jsdate)},t.prototype.getYear=function(){return this.jsdate.getFullYear(this.jsdate)-1900},t.prototype.hashCode=function(){var e=this.getTime();return e^e>>>32|0},t.prototype.setDate=function(e){var t=this.getHours();this.jsdate.setDate(this.jsdate,e),this.fixDaylightSavings(t)},t.prototype.setHours=function(e){this.jsdate.setHours(this.jsdate,e),this.fixDaylightSavings(e)},t.prototype.setMinutes=function(e){var t=this.getHours()+(e/60|0);this.jsdate.setMinutes(this.jsdate,e),this.fixDaylightSavings(t)},t.prototype.setMonth=function(e){var t=this.getHours();this.jsdate.setMonth(this.jsdate,e),this.fixDaylightSavings(t)},t.prototype.setSeconds=function(e){var t=this.getHours()+(e/3600|0);this.jsdate.setSeconds(this.jsdate,e),this.fixDaylightSavings(t)},t.prototype.setTime=function(e){this.jsdate.setTime(this.jsdate,e)},t.prototype.setYear=function(e){var t=this.getHours();this.jsdate.setFullYear(this.jsdate,e+1900),this.fixDaylightSavings(t)},t.prototype.toGMTString=function(){return this.jsdate.getUTCDate(this.jsdate)+" "+t.StringData.MONTHS_$LI$()[this.jsdate.getUTCMonth(this.jsdate)]+" "+this.jsdate.getUTCFullYear(this.jsdate)+" "+t.padTwo(this.jsdate.getUTCHours(this.jsdate))+":"+t.padTwo(this.jsdate.getUTCMinutes(this.jsdate))+":"+t.padTwo(this.jsdate.getUTCSeconds(this.jsdate))+" GMT"},t.prototype.toLocaleString=function(){return this.jsdate.toLocaleString()},t.prototype.toString=function(){var e=-(0|this.getTimezoneOffset()),n=(e>=0?"+":"")+(e/60|0),r=t.padTwo(Math.abs(e)%60);return t.StringData.DAYS_$LI$()[0|this.getDay()]+" "+t.StringData.MONTHS_$LI$()[0|this.getMonth()]+" "+t.padTwo(0|this.getDate())+" "+t.padTwo(0|this.getHours())+":"+t.padTwo(0|this.getMinutes())+":"+t.padTwo(0|this.getSeconds())+" GMT"+n+r+" "+this.jsdate.getFullYear(this.jsdate)},t.prototype.fixDaylightSavings=function(e){if(e%=24,this.getHours()!==e){var n=new(t.jsdateClass())(this.getTime());n.setDate(n.getDate(n)+1);var r=this.jsdate.getTimezoneOffset(this.jsdate)-n.getTimezoneOffset(n);if(r>0){var i=r/60|0,o=r%60,a=0|this.getDate();(0|this.getHours())+i>=24&&a++;var s=new(t.jsdateClass())(this.jsdate.getFullYear(this.jsdate),this.getMonth(),a,e+i,this.getMinutes()+o,this.getSeconds(),this.jsdate.getMilliseconds(this.jsdate));this.setTime(s.getMilliseconds(s))}}var l=this.getTime();this.setTime(l+t.ONE_HOUR_IN_MILLISECONDS),this.getHours()!==e&&this.setTime(l)},t.ONE_HOUR_IN_MILLISECONDS=36e5,t}();t.Date=n,n.__class="java.util.Date",n.__interfaces=["java.lang.Cloneable","java.lang.Comparable","java.io.Serializable"],function(e){var t=function(){function e(){}return e.DAYS_$LI$=function(){return null==e.DAYS&&(e.DAYS=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),e.DAYS},e.MONTHS_$LI$=function(){return null==e.MONTHS&&(e.MONTHS=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),e.MONTHS},e}();e.StringData=t,t.__class="java.util.Date.StringData"}(n=t.Date||(t.Date={}))}(e.util||(e.util={}))}(java||(java={})),function(e){var t;(function(t){var n=function(){function t(){void 0===this.formatter&&(this.formatter=null),void 0===this.level&&(this.level=null)}return t.prototype.getFormatter=function(){return this.formatter},t.prototype.getLevel=function(){return null!=this.level?this.level:e.util.logging.Level.ALL_$LI$()},t.prototype.isLoggable=function(e){return this.getLevel().intValue()<=e.getLevel().intValue()},t.prototype.setFormatter=function(e){this.formatter=e},t.prototype.setLevel=function(e){this.level=e},t}();t.Handler=n,n.__class="java.util.logging.Handler"})((t=e.util||(e.util={})).logging||(t.logging={}))}(java||(java={})),function(e){var t;(function(t){var n=function(){function t(t,n){if(!(null!=t&&t instanceof e.util.logging.Level||null===t)||"string"!==typeof n&&null!==n){if(void 0!==t||void 0!==n)throw new Error("invalid overload");void 0===this.level&&(this.level=null),void 0===this.msg&&(this.msg=null),void 0===this.millis&&(this.millis=0),this.loggerName="",this.thrown=null}else void 0===this.level&&(this.level=null),void 0===this.msg&&(this.msg=null),void 0===this.millis&&(this.millis=0),this.loggerName="",this.thrown=null,this.level=t,this.msg=n,this.millis=e.lang.System.currentTimeMillis()}return t.prototype.getLevel=function(){return this.level},t.prototype.getLoggerName=function(){return this.loggerName},t.prototype.getMessage=function(){return this.msg},t.prototype.getMillis=function(){return this.millis},t.prototype.getThrown=function(){return this.thrown},t.prototype.setLevel=function(e){this.level=e},t.prototype.setLoggerName=function(e){this.loggerName=e},t.prototype.setMessage=function(e){this.msg=e},t.prototype.setMillis=function(e){this.millis=e},t.prototype.setThrown=function(e){this.thrown=e},t}();t.LogRecord=n,n.__class="java.util.logging.LogRecord",n.__interfaces=["java.io.Serializable"]})((t=e.util||(e.util={})).logging||(t.logging={}))}(java||(java={})),function(e){var t;(function(t){var n=function(){function t(){this.loggerMap=new e.util.HashMap}return t.getLogManager=function(){if(null==t.singleton){t.singleton=new t;var n=new e.util.logging.Logger("",null);n.setLevel(e.util.logging.Level.INFO_$LI$()),t.singleton.addLoggerImpl(n)}return t.singleton},t.prototype.addLogger=function(e){return null==this.getLogger(e.getName())&&(this.addLoggerAndEnsureParents(e),!0)},t.prototype.getLogger=function(e){return this.loggerMap.get(e)},t.prototype.getLoggerNames=function(){return e.util.Collections.enumeration(this.loggerMap.keySet())},t.prototype.addLoggerAndEnsureParents=function(e){var t=e.getName(),n=t.substring(0,Math.max(0,t.lastIndexOf(".")));e.setParent(this.ensureLogger(n)),this.addLoggerImpl(e)},t.prototype.addLoggerImpl=function(t){"ENABLED"===e.lang.System.getProperty$java_lang_String$java_lang_String("gwt.logging.simpleConsoleHandler","ENABLED")&&0===t.getName().length&&t.addHandler(new e.util.logging.SimpleConsoleLogHandler),this.loggerMap.put(t.getName(),t)},t.prototype.ensureLogger=function(t){var n=this.getLogger(t);if(null==n){var r=new e.util.logging.Logger(t,null);return this.addLoggerAndEnsureParents(r),r}return n},t.singleton=null,t}();t.LogManager=n,n.__class="java.util.logging.LogManager"})((t=e.util||(e.util={})).logging||(t.logging={}))}(java||(java={})),function(e){var t;(function(e){var t=function(){function e(){}return e.prototype.formatMessage=function(e){return this.format(e)},e}();e.Formatter=t,t.__class="java.util.logging.Formatter"})((t=e.util||(e.util={})).logging||(t.logging={}))}(java||(java={})),function(e){var t;(function(t){var n=function(){function t(){}return t.ALL_$LI$=function(){return null==t.ALL&&(t.ALL=new t.LevelAll),t.ALL},t.CONFIG_$LI$=function(){return null==t.CONFIG&&(t.CONFIG=new t.LevelConfig),t.CONFIG},t.FINE_$LI$=function(){return null==t.FINE&&(t.FINE=new t.LevelFine),t.FINE},t.FINER_$LI$=function(){return null==t.FINER&&(t.FINER=new t.LevelFiner),t.FINER},t.FINEST_$LI$=function(){return null==t.FINEST&&(t.FINEST=new t.LevelFinest),t.FINEST},t.INFO_$LI$=function(){return null==t.INFO&&(t.INFO=new t.LevelInfo),t.INFO},t.OFF_$LI$=function(){return null==t.OFF&&(t.OFF=new t.LevelOff),t.OFF},t.SEVERE_$LI$=function(){return null==t.SEVERE&&(t.SEVERE=new t.LevelSevere),t.SEVERE},t.WARNING_$LI$=function(){return null==t.WARNING&&(t.WARNING=new t.LevelWarning),t.WARNING},t.parse=function(n){if(e.util.logging.Logger.assertLoggingValues(),"FALSE"===e.lang.System.getProperty$java_lang_String$java_lang_String("gwt.logging.enabled","FALSE"))return null;switch(n.toUpperCase()){case"ALL":return t.ALL_$LI$();case"CONFIG":return t.CONFIG_$LI$();case"FINE":return t.FINE_$LI$();case"FINER":return t.FINER_$LI$();case"FINEST":return t.FINEST_$LI$();case"INFO":return t.INFO_$LI$();case"OFF":return t.OFF_$LI$();case"SEVERE":return t.SEVERE_$LI$();case"WARNING":return t.WARNING_$LI$();default:throw new e.lang.IllegalArgumentException('Invalid level "'+n+'"')}},t.prototype.getName=function(){return"DUMMY"},t.prototype.intValue=function(){return-1},t.prototype.toString=function(){return this.getName()},t}();t.Level=n,n.__class="java.util.logging.Level",n.__interfaces=["java.io.Serializable"],function(t){var n=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.getName=function(){return"ALL"},t.prototype.intValue=function(){return javaemul.internal.IntegerHelper.MIN_VALUE},t}(e.util.logging.Level);t.LevelAll=n,n.__class="java.util.logging.Level.LevelAll",n.__interfaces=["java.io.Serializable"];var r=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.getName=function(){return"CONFIG"},t.prototype.intValue=function(){return 700},t}(e.util.logging.Level);t.LevelConfig=r,r.__class="java.util.logging.Level.LevelConfig",r.__interfaces=["java.io.Serializable"];var i=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.getName=function(){return"FINE"},t.prototype.intValue=function(){return 500},t}(e.util.logging.Level);t.LevelFine=i,i.__class="java.util.logging.Level.LevelFine",i.__interfaces=["java.io.Serializable"];var o=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.getName=function(){return"FINER"},t.prototype.intValue=function(){return 400},t}(e.util.logging.Level);t.LevelFiner=o,o.__class="java.util.logging.Level.LevelFiner",o.__interfaces=["java.io.Serializable"];var a=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.getName=function(){return"FINEST"},t.prototype.intValue=function(){return 300},t}(e.util.logging.Level);t.LevelFinest=a,a.__class="java.util.logging.Level.LevelFinest",a.__interfaces=["java.io.Serializable"];var s=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.getName=function(){return"INFO"},t.prototype.intValue=function(){return 800},t}(e.util.logging.Level);t.LevelInfo=s,s.__class="java.util.logging.Level.LevelInfo",s.__interfaces=["java.io.Serializable"];var l=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.getName=function(){return"OFF"},t.prototype.intValue=function(){return javaemul.internal.IntegerHelper.MAX_VALUE},t}(e.util.logging.Level);t.LevelOff=l,l.__class="java.util.logging.Level.LevelOff",l.__interfaces=["java.io.Serializable"];var u=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.getName=function(){return"SEVERE"},t.prototype.intValue=function(){return 1e3},t}(e.util.logging.Level);t.LevelSevere=u,u.__class="java.util.logging.Level.LevelSevere",u.__interfaces=["java.io.Serializable"];var c=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.getName=function(){return"WARNING"},t.prototype.intValue=function(){return 900},t}(e.util.logging.Level);t.LevelWarning=c,c.__class="java.util.logging.Level.LevelWarning",c.__interfaces=["java.io.Serializable"]}(n=t.Level||(t.Level={}))})((t=e.util||(e.util={})).logging||(t.logging={}))}(java||(java={})),function(e){!function(t){var n=function(){function t(e,t,n){if((null!=e&&(null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("java.lang.CharSequence")>=0||"string"===typeof e)||null===e)&&(null!=t&&(null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.lang.CharSequence")>=0||"string"===typeof t)||null===t)&&(null!=n&&(null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("java.lang.CharSequence")>=0||"string"===typeof n)||null===n))void 0===this.delimiter&&(this.delimiter=null),void 0===this.prefix&&(this.prefix=null),void 0===this.suffix&&(this.suffix=null),void 0===this.builder&&(this.builder=null),void 0===this.emptyValue&&(this.emptyValue=null),javaemul.internal.InternalPreconditions.checkNotNull(e,"delimiter"),javaemul.internal.InternalPreconditions.checkNotNull(t,"prefix"),javaemul.internal.InternalPreconditions.checkNotNull(n,"suffix"),this.delimiter=e.toString(),this.prefix=t.toString(),this.suffix=n.toString(),this.emptyValue=this.prefix+this.suffix;else{if(!(null!=e&&(null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("java.lang.CharSequence")>=0||"string"===typeof e)||null===e)||void 0!==t||void 0!==n)throw new Error("invalid overload");void 0===this.delimiter&&(this.delimiter=null),void 0===this.prefix&&(this.prefix=null),void 0===this.suffix&&(this.suffix=null),void 0===this.builder&&(this.builder=null),void 0===this.emptyValue&&(this.emptyValue=null),javaemul.internal.InternalPreconditions.checkNotNull(e,"delimiter"),javaemul.internal.InternalPreconditions.checkNotNull("","prefix"),javaemul.internal.InternalPreconditions.checkNotNull("","suffix"),this.delimiter=e.toString(),this.prefix="".toString(),this.suffix="".toString(),this.emptyValue=this.prefix+this.suffix,void 0===this.delimiter&&(this.delimiter=null),void 0===this.prefix&&(this.prefix=null),void 0===this.suffix&&(this.suffix=null),void 0===this.builder&&(this.builder=null),void 0===this.emptyValue&&(this.emptyValue=null)}}return t.prototype.add=function(e){return this.initBuilderOrAddDelimiter(),this.builder.append$java_lang_CharSequence(e),this},t.prototype.length=function(){return null==this.builder?this.emptyValue.length:this.builder.length()+this.suffix.length},t.prototype.merge=function(e){if(null!=e.builder){var t=e.builder.length();this.initBuilderOrAddDelimiter(),this.builder.append$java_lang_CharSequence$int$int(e.builder,e.prefix.length,t)}return this},t.prototype.setEmptyValue=function(e){return javaemul.internal.InternalPreconditions.checkNotNull(e),this.emptyValue=e.toString(),this},t.prototype.toString=function(){return null==this.builder?this.emptyValue:0===this.suffix.length?this.builder.toString():this.builder.toString()+this.suffix},t.prototype.initBuilderOrAddDelimiter=function(){null==this.builder?this.builder=new e.lang.StringBuilder(this.prefix):this.builder.append$java_lang_String(this.delimiter)},t}();t.StringJoiner=n,n.__class="java.util.StringJoiner"}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(){function t(){}return t.prototype.equals=function(t){if(!(null!=t&&null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.util.Map.Entry")>=0))return!1;var n=t;return e.util.Objects.equals(this.getKey(),n.getKey())&&e.util.Objects.equals(this.getValue(),n.getValue())},t.prototype.hashCode=function(){return e.util.Objects.hashCode(this.getKey())^e.util.Objects.hashCode(this.getValue())},t.prototype.toString=function(){return this.getKey()+"="+this.getValue()},t}();t.AbstractMapEntry=n,n.__class="java.util.AbstractMapEntry",n.__interfaces=["java.util.Map.Entry"]}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(){function t(){}return t.prototype.engineDigest$=function(){throw new Error("cannot invoke abstract overloaded method... check your argument(s) type(s)")},t.prototype.engineDigest$byte_A$int$int=function(t,n,r){var i=this.engineDigest$();if(t.length<i.length+n)throw new e.security.DigestException("Insufficient buffer space for digest");if(r<i.length)throw new e.security.DigestException("Length not large enough to hold digest");return e.lang.System.arraycopy(i,0,t,n,i.length),i.length},t.prototype.engineDigest=function(e,t,n){if(!(null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"number"===typeof e[0])||null===e)||"number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n){if(void 0===e&&void 0===t&&void 0===n)return this.engineDigest$();throw new Error("invalid overload")}return this.engineDigest$byte_A$int$int(e,t,n)},t.prototype.engineGetDigestLength=function(){return 0},t.prototype.engineUpdate$byte=function(e){throw new Error("cannot invoke abstract overloaded method... check your argument(s) type(s)")},t.prototype.engineUpdate$byte_A$int$int=function(e,t,n){throw new Error("cannot invoke abstract overloaded method... check your argument(s) type(s)")},t.prototype.engineUpdate=function(e,t,n){if(!(null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"number"===typeof e[0])||null===e)||"number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n){if("number"!==typeof e&&null!==e||void 0!==t||void 0!==n)throw new Error("invalid overload");return this.engineUpdate$byte(e)}return this.engineUpdate$byte_A$int$int(e,t,n)},t}();t.MessageDigestSpi=n,n.__class="java.security.MessageDigestSpi"}(e.security||(e.security={}))}(java||(java={})),function(e){!function(t){var n=function(){function t(){}return t.checkOffsetAndCount$byte_A$int$int=function(e,n,r){javaemul.internal.InternalPreconditions.checkNotNull(e),t.checkOffsetAndCount$int$int$int(e.length,n,r)},t.checkOffsetAndCount=function(t,n,r){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"string"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if("number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r)throw new Error("invalid overload");return e.io.IOUtils.checkOffsetAndCount$int$int$int(t,n,r)}return e.io.IOUtils.checkOffsetAndCount$char_A$int$int(t,n,r)}return e.io.IOUtils.checkOffsetAndCount$byte_A$int$int(t,n,r)},t.checkOffsetAndCount$char_A$int$int=function(e,n,r){javaemul.internal.InternalPreconditions.checkNotNull(e),t.checkOffsetAndCount$int$int$int(e.length,n,r)},t.checkOffsetAndCount$int$int$int=function(t,n,r){if(n<0||r<0||n+r>t)throw new e.lang.IndexOutOfBoundsException},t}();t.IOUtils=n,n.__class="java.io.IOUtils"}(e.io||(e.io={}))}(java||(java={})),function(e){!function(t){var n=function(){function t(t){if(null!=t||null===t){if(void 0===this.writeBuffer&&(this.writeBuffer=null),void 0===this.lock&&(this.lock=null),null==t)throw new e.lang.NullPointerException;this.lock=t}else{if(void 0!==t)throw new Error("invalid overload");void 0===this.writeBuffer&&(this.writeBuffer=null),void 0===this.lock&&(this.lock=null),this.lock=this}}return t.prototype.write$int=function(e){null==this.writeBuffer&&(this.writeBuffer=function(e){for(var t=[];e-- >0;)t.push(null);return t}(t.WRITE_BUFFER_SIZE)),this.writeBuffer[0]=String.fromCharCode(e),this.write$char_A$int$int(this.writeBuffer,0,1)},t.prototype.write$char_A=function(e){this.write$char_A$int$int(e,0,e.length)},t.prototype.write$char_A$int$int=function(e,t,n){throw new Error("cannot invoke abstract overloaded method... check your argument(s) type(s)")},t.prototype.write$java_lang_String=function(e){this.write$java_lang_String$int$int(e,0,e.length)},t.prototype.write$java_lang_String$int$int=function(e,n,r){var i,o,a,s,l=void 0;r<=t.WRITE_BUFFER_SIZE?(null==this.writeBuffer&&(this.writeBuffer=function(e){for(var t=[];e-- >0;)t.push(null);return t}(t.WRITE_BUFFER_SIZE)),l=this.writeBuffer):l=function(e){for(var t=[];e-- >0;)t.push(null);return t}(r),i=e,o=n,a=n+r,(s=l).splice.apply(s,[0,a-o].concat(i.substring(o,a).split(""))),this.write$char_A$int$int(l,0,r)},t.prototype.write=function(e,t,n){if("string"!==typeof e&&null!==e||"number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n){if(!(null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"string"===typeof e[0])||null===e)||"number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n){if((null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"string"===typeof e[0])||null===e)&&void 0===t&&void 0===n)return this.write$char_A(e);if("string"!==typeof e&&null!==e||void 0!==t||void 0!==n){if("number"!==typeof e&&null!==e||void 0!==t||void 0!==n)throw new Error("invalid overload");return this.write$int(e)}return this.write$java_lang_String(e)}return this.write$char_A$int$int(e,t,n)}return this.write$java_lang_String$int$int(e,t,n)},t.prototype.append$java_lang_CharSequence=function(e){return null==e?this.write$java_lang_String("null"):this.write$java_lang_String(e.toString()),this},t.prototype.append$java_lang_CharSequence$int$int=function(e,t,n){var r=null==e?"null":e;return this.write$java_lang_String(r.substring(t,n).toString()),this},t.prototype.append=function(e,t,n){if(!(null!=e&&(null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("java.lang.CharSequence")>=0||"string"===typeof e)||null===e)||"number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n){if((null!=e&&(null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("java.lang.CharSequence")>=0||"string"===typeof e)||null===e)&&void 0===t&&void 0===n)return this.append$java_lang_CharSequence(e);if("string"!==typeof e&&null!==e||void 0!==t||void 0!==n)throw new Error("invalid overload");return this.append$char(e)}return this.append$java_lang_CharSequence$int$int(e,t,n)},t.prototype.append$char=function(e){return this.write$int(e.charCodeAt(0)),this},t.WRITE_BUFFER_SIZE=1024,t}();t.Writer=n,n.__class="java.io.Writer",n.__interfaces=["java.lang.Appendable","java.io.Closeable","java.lang.AutoCloseable","java.io.Flushable"]}(e.io||(e.io={}))}(java||(java={})),function(e){!function(t){var n=function(){function t(){}return t.prototype.available=function(){return 0},t.prototype.close=function(){},t.prototype.mark=function(e){},t.prototype.markSupported=function(){return!1},t.prototype.read$=function(){throw new Error("cannot invoke abstract overloaded method... check your argument(s) type(s)")},t.prototype.read$byte_A=function(e){return javaemul.internal.InternalPreconditions.checkNotNull(e),this.read$byte_A$int$int(e,0,e.length)},t.prototype.read$byte_A$int$int=function(t,n,r){e.io.IOUtils.checkOffsetAndCount$byte_A$int$int(t,n,r);for(var i=0;i<r;++i){var o=void 0;try{if(-1===(o=this.read$()))return 0===i?-1:i}catch(a){if(0!==i)return i;throw a}t[n+i]=0|o}return r},t.prototype.read=function(e,t,n){if(!(null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"number"===typeof e[0])||null===e)||"number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n){if((null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"number"===typeof e[0])||null===e)&&void 0===t&&void 0===n)return this.read$byte_A(e);if(void 0===e&&void 0===t&&void 0===n)return this.read$();throw new Error("invalid overload")}return this.read$byte_A$int$int(e,t,n)},t.prototype.reset=function(){throw new e.io.IOException},t.prototype.skip=function(e){if(e<=0)return 0;for(var n=function(e){for(var t=[];e-- >0;)t.push(0);return t}(0|Math.min(t.MAX_SKIP_BUFFER_SIZE,e)),r=0;r<e;){var i=0|Math.min(e-r,n.length),o=this.read$byte_A$int$int(n,0,i);if(-1===o)break;if(r+=o,o<i)break}return r},t.MAX_SKIP_BUFFER_SIZE=4096,t}();t.InputStream=n,n.__class="java.io.InputStream",n.__interfaces=["java.io.Closeable","java.lang.AutoCloseable"]}(e.io||(e.io={}))}(java||(java={})),function(e){!function(t){var n=function(){function t(t){if(null!=t||null===t){if(void 0===this.lock&&(this.lock=null),this.skipBuffer=null,null==t)throw new e.lang.NullPointerException;this.lock=t}else{if(void 0!==t)throw new Error("invalid overload");void 0===this.lock&&(this.lock=null),this.skipBuffer=null,this.lock=this}}return t.prototype.read$=function(){var e=[null];return-1===this.read$char_A$int$int(e,0,1)?-1:e[0].charCodeAt(0)},t.prototype.read$char_A=function(e){return this.read$char_A$int$int(e,0,e.length)},t.prototype.read$char_A$int$int=function(e,t,n){throw new Error("cannot invoke abstract overloaded method... check your argument(s) type(s)")},t.prototype.read=function(e,t,n){if(!(null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"string"===typeof e[0])||null===e)||"number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n){if((null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"string"===typeof e[0])||null===e)&&void 0===t&&void 0===n)return this.read$char_A(e);if(void 0===e&&void 0===t&&void 0===n)return this.read$();throw new Error("invalid overload")}return this.read$char_A$int$int(e,t,n)},t.prototype.skip=function(n){if(n<0)throw new e.lang.IllegalArgumentException("skip value is negative");var r=0|Math.min(n,t.maxSkipBufferSize);(null==this.skipBuffer||this.skipBuffer.length<r)&&(this.skipBuffer=function(e){for(var t=[];e-- >0;)t.push(null);return t}(r));for(var i=n;i>0;){var o=this.read$char_A$int$int(this.skipBuffer,0,0|Math.min(i,r));if(-1===o)break;i-=o}return n-i},t.prototype.ready=function(){return!1},t.prototype.markSupported=function(){return!1},t.prototype.mark=function(t){throw new e.io.IOException("mark() not supported")},t.prototype.reset=function(){throw new e.io.IOException("reset() not supported")},t.maxSkipBufferSize=8192,t}();t.Reader=n,n.__class="java.io.Reader",n.__interfaces=["java.io.Closeable","java.lang.AutoCloseable"]}(e.io||(e.io={}))}(java||(java={})),function(e){!function(t){var n=function(){function t(){}return t.prototype.close=function(){},t.prototype.flush=function(){},t.prototype.write$byte_A=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e),this.write$byte_A$int$int(e,0,e.length)},t.prototype.write$byte_A$int$int=function(t,n,r){e.io.IOUtils.checkOffsetAndCount$byte_A$int$int(t,n,r);for(var i=n;i<n+r;i++)this.write$int(t[i])},t.prototype.write=function(e,t,n){if(!(null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"number"===typeof e[0])||null===e)||"number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n){if((null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"number"===typeof e[0])||null===e)&&void 0===t&&void 0===n)return this.write$byte_A(e);if("number"!==typeof e&&null!==e||void 0!==t||void 0!==n)throw new Error("invalid overload");return this.write$int(e)}return this.write$byte_A$int$int(e,t,n)},t.prototype.write$int=function(e){throw new Error("cannot invoke abstract overloaded method... check your argument(s) type(s)")},t}();t.OutputStream=n,n.__class="java.io.OutputStream",n.__interfaces=["java.io.Closeable","java.lang.AutoCloseable","java.io.Flushable"]}(e.io||(e.io={}))}(java||(java={})),function(e){var t;(function(e){var t=function(){function e(e){void 0===this.referent&&(this.referent=null),this.referent=e}return e.prototype.get=function(){return this.referent},e.prototype.clear=function(){this.referent=null},e}();e.Reference=t,t.__class="java.lang.ref.Reference"})((t=e.lang||(e.lang={})).ref||(t.ref={}))}(java||(java={})),function(e){!function(e){var t=function(e){function t(t,n){var r=this;if("string"!==typeof t&&null!==t||!(null!=n&&n instanceof Error||null===n))if("string"!==typeof t&&null!==t||void 0!==n)if("boolean"!==typeof t&&null!==t||void 0!==n)if("string"!==typeof t&&null!==t||void 0!==n)if("number"!==typeof t&&null!==t||void 0!==n)if("number"!==typeof t&&null!==t||void 0!==n)if("number"!==typeof t&&null!==t||void 0!==n)if("number"!==typeof t&&null!==t||void 0!==n)if(null==t&&null!==t||void 0!==n){if(void 0!==t||void 0!==n)throw new Error("invalid overload");r=e.call(this)||this}else(r=e.call(this,new String(t).toString())||this).message=new String(t).toString();else{var i=new String(arguments[0]).toString();(r=e.call(this,i)||this).message=i}else{var o=new String(arguments[0]).toString();(r=e.call(this,o)||this).message=o}else{var a=new String(arguments[0]).toString();(r=e.call(this,a)||this).message=a}else{var s=new String(arguments[0]).toString();(r=e.call(this,s)||this).message=s}else{var l=new String(arguments[0]).toString();(r=e.call(this,l)||this).message=l}else{var u=new String(arguments[0]).toString();(r=e.call(this,u)||this).message=u}else(r=e.call(this,t)||this).message=t;else(r=e.call(this,t)||this).message=t;return r}return __extends(t,e),t}(Error);e.AssertionError=t,t.__class="java.lang.AssertionError",t.__interfaces=["java.io.Serializable"]}(e.lang||(e.lang={}))}(java||(java={})),function(e){!function(t){var n=function(){function t(e,t,n,r){if("string"!==typeof e&&null!==e||"string"!==typeof t&&null!==t||"string"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if(void 0!==e||void 0!==t||void 0!==n||void 0!==r)throw new Error("invalid overload");void 0===this.className&&(this.className=null),void 0===this.fileName&&(this.fileName=null),void 0===this.lineNumber&&(this.lineNumber=0),void 0===this.methodName&&(this.methodName=null)}else void 0===this.className&&(this.className=null),void 0===this.fileName&&(this.fileName=null),void 0===this.lineNumber&&(this.lineNumber=0),void 0===this.methodName&&(this.methodName=null),this.className=e,this.methodName=t,this.fileName=n,this.lineNumber=r}return t.prototype.getClassName=function(){return this.className},t.prototype.getFileName=function(){return this.fileName},t.prototype.getLineNumber=function(){return this.lineNumber},t.prototype.getMethodName=function(){return this.methodName},t.prototype.equals=function(t){if(null!=t&&t instanceof e.lang.StackTraceElement){var n=t;return this.lineNumber===n.lineNumber&&e.util.Objects.equals(this.methodName,n.methodName)&&e.util.Objects.equals(this.className,n.className)&&e.util.Objects.equals(this.fileName,n.fileName)}return!1},t.prototype.hashCode=function(){return e.util.Objects.hash(this.lineNumber,this.className,this.methodName,this.fileName)},t.prototype.toString=function(){return this.className+"."+this.methodName+"("+(null!=this.fileName?this.fileName:"Unknown Source")+(this.lineNumber>=0?":"+this.lineNumber:"")+")"},t}();t.StackTraceElement=n,n.__class="java.lang.StackTraceElement",n.__interfaces=["java.io.Serializable"]}(e.lang||(e.lang={}))}(java||(java={})),function(e){!function(e){var t=function(e){function t(t,n){var r=this;if("string"!==typeof t&&null!==t||!(null!=n&&n instanceof Error||null===n))if("string"!==typeof t&&null!==t||void 0!==n)if((null!=t&&t instanceof Error||null===t)&&void 0===n){var i=arguments[0];(r=e.call(this,i)||this).message=i}else{if(void 0!==t||void 0!==n)throw new Error("invalid overload");r=e.call(this)||this}else{(r=e.call(this,t)||this).message=t}else{(r=e.call(this,t)||this).message=t}return r}return __extends(t,e),t.serialVersionUID=0x39c25654802f0e00,t}(Error);e.VirtualMachineError=t,t.__class="java.lang.VirtualMachineError",t.__interfaces=["java.io.Serializable"]}(e.lang||(e.lang={}))}(java||(java={})),function(e){!function(e){var t=function(e){function t(t,n,r,i){var o=this;if("string"!==typeof t&&null!==t||!(null!=n&&n instanceof Error||null===n)||"boolean"!==typeof r&&null!==r||"boolean"!==typeof i&&null!==i)if("string"!==typeof t&&null!==t||!(null!=n&&n instanceof Error||null===n)||void 0!==r||void 0!==i)if("string"!==typeof t&&null!==t||void 0!==n||void 0!==r||void 0!==i)if((null!=t&&t instanceof Error||null===t)&&void 0===n&&void 0===r&&void 0===i){var a=arguments[0];(o=e.call(this,a)||this).message=a}else{if(void 0!==t||void 0!==n||void 0!==r||void 0!==i)throw new Error("invalid overload");o=e.call(this)||this}else{(o=e.call(this,t)||this).message=t}else{(o=e.call(this,t)||this).message=t}else{(o=e.call(this,t)||this).message=t}return o}return __extends(t,e),t}(Error);e.Exception=t,t.__class="java.lang.Exception",t.__interfaces=["java.io.Serializable"]}(e.lang||(e.lang={}))}(java||(java={})),function(e){!function(e){var t=function(){return function(){}}();e.Void=t,t.__class="java.lang.Void"}(e.lang||(e.lang={}))}(java||(java={})),function(e){!function(e){var t=function(e){function t(t,n){var r=this;if("string"!==typeof t&&null!==t||!(null!=n&&n instanceof Error||null===n))if("string"!==typeof t&&null!==t||void 0!==n)if((null!=t&&t instanceof Error||null===t)&&void 0===n){var i=arguments[0];(r=e.call(this,i)||this).message=i}else{if(void 0!==t||void 0!==n)throw new Error("invalid overload");r=e.call(this)||this}else{(r=e.call(this,t)||this).message=t}else{(r=e.call(this,t)||this).message=t}return r}return __extends(t,e),t}(Error);e.IllegalAccessError=t,t.__class="java.lang.IllegalAccessError",t.__interfaces=["java.io.Serializable"]}(e.lang||(e.lang={}))}(java||(java={})),function(e){var t;(function(e){var t=function(){function e(){}return e.newInstance=function(e,t){var n=[];return n.length=t,n},e}();e.Array=t,t.__class="java.lang.reflect.Array"})((t=e.lang||(e.lang={})).reflect||(t.reflect={}))}(java||(java={})),function(e){!function(e){var t=function(e){function t(t,n){var r=this;if("string"!==typeof t&&null!==t||!(null!=n&&n instanceof Error||null===n))if("string"!==typeof t&&null!==t||void 0!==n)if((null!=t&&t instanceof Error||null===t)&&void 0===n){var i=arguments[0];(r=e.call(this,i)||this).message=i}else{if(void 0!==t||void 0!==n)throw new Error("invalid overload");r=e.call(this)||this}else{(r=e.call(this,t)||this).message=t}else{(r=e.call(this,t)||this).message=t}return r}return __extends(t,e),t}(Error);e.NoSuchMethodError=t,t.__class="java.lang.NoSuchMethodError",t.__interfaces=["java.io.Serializable"]}(e.lang||(e.lang={}))}(java||(java={})),function(e){var t;(function(e){var t;(t=e.ElementType||(e.ElementType={}))[t.ANNOTATION_TYPE=0]="ANNOTATION_TYPE",t[t.CONSTRUCTOR=1]="CONSTRUCTOR",t[t.FIELD=2]="FIELD",t[t.LOCAL_VARIABLE=3]="LOCAL_VARIABLE",t[t.METHOD=4]="METHOD",t[t.PACKAGE=5]="PACKAGE",t[t.PARAMETER=6]="PARAMETER",t[t.TYPE=7]="TYPE"})((t=e.lang||(e.lang={})).annotation||(t.annotation={}))}(java||(java={})),function(e){var t;(function(e){var t;(t=e.RetentionPolicy||(e.RetentionPolicy={}))[t.CLASS=0]="CLASS",t[t.RUNTIME=1]="RUNTIME",t[t.SOURCE=2]="SOURCE"})((t=e.lang||(e.lang={})).annotation||(t.annotation={}))}(java||(java={})),function(e){var t;(function(e){var t=function(e){function t(){var n=e.call(this)||this;return Object.setPrototypeOf(n,t.prototype),n}return __extends(t,e),t}(Error);e.AnnotationFormatError=t,t.__class="java.lang.annotation.AnnotationFormatError",t.__interfaces=["java.io.Serializable"]})((t=e.lang||(e.lang={})).annotation||(t.annotation={}))}(java||(java={})),function(e){!function(t){var n=function(){function t(){void 0===this.enumValueOfFunc&&(this.enumValueOfFunc=null),void 0===this.modifiers&&(this.modifiers=0),void 0===this.componentType&&(this.componentType=null),void 0===this.enumConstantsFunc&&(this.enumConstantsFunc=null),void 0===this.enumSuperclass&&(this.enumSuperclass=null),void 0===this.superclass&&(this.superclass=null),void 0===this.simpleName&&(this.simpleName=null),void 0===this.typeName&&(this.typeName=null),void 0===this.canonicalName&&(this.canonicalName=null),void 0===this.packageName&&(this.packageName=null),void 0===this.compoundName&&(this.compoundName=null),void 0===this.typeId&&(this.typeId=null),void 0===this.arrayLiterals&&(this.arrayLiterals=null),this.sequentialId=t.nextSequentialId++,this.typeName=null,this.simpleName=null,this.packageName=null,this.compoundName=null,this.canonicalName=null,this.typeId=null,this.arrayLiterals=null}return t.constructors_$LI$=function(){return null==t.constructors&&(t.constructors=new Array),t.constructors},t.classes_$LI$=function(){return null==t.classes&&(t.classes=new Array),t.classes},t.getConstructorForClass=function(e){var n=0|t.classes_$LI$().indexOf(e);return-1===n?null:t.constructors_$LI$()[n]},t.getClassForConstructor=function(e){var n=0|t.constructors_$LI$().indexOf(e);return-1===n?null:t.classes_$LI$()[n]},t.mapConstructorToClass=function(e,n){t.constructors_$LI$().push(e),t.classes_$LI$().push(n)},t.getClassLiteralForArray=function(e,t){var n=e.arrayLiterals=null==e.arrayLiterals?[]:e.arrayLiterals;return null!=n[t]?n[t]:n[t]=e.createClassLiteralForArray(t)},t.prototype.createClassLiteralForArray=function(n){var r=new e.lang.Class;return r.modifiers=t.ARRAY,r.superclass=Object,r.componentType=n>1?t.getClassLiteralForArray(this,n-1):this,r},t.createForClass=function(e,n,r,i){var o=t.createClassObject(e,n,r);return o.superclass=i,o},t.createForEnum=function(e,n,r,i,o,a){var s=t.createClassObject(e,n,r);return s.modifiers=null!=o?t.ENUM:0,s.superclass=s.enumSuperclass=i,s.enumConstantsFunc=o,s.enumValueOfFunc=a,s},t.createForInterface=function(e,n){var r=t.createClassObject(e,n,null);return r.modifiers=t.INTERFACE,r},t.createForPrimitive=function(e,n){var r=t.createClassObject("",e,n);return r.modifiers=t.PRIMITIVE,r},t.getPrototypeForClass=function(e){return e.isPrimitive()?null:t.getConstructorForClass(e).prototype},t.createClassObject=function(t,n,r){var i=new e.lang.Class;return i.packageName=t,i.compoundName=n,i},t.initializeNames=function(e){if(e.isArray()){var t=e.componentType;return t.isPrimitive()?e.typeName="["+t.typeId:t.isArray()?e.typeName="["+function(e){return"string"===typeof e?e:e.__class?e.__class:e.name}(t):e.typeName="[L"+("string"===typeof(n=t)?n:n.__class?n.__class:n.name)+";",e.canonicalName=t.getCanonicalName()+"[]",void(e.simpleName=function(e){return"string"===typeof e?e.substring(e.lastIndexOf(".")+1):e.__class?e.__class.substring(e.__class.lastIndexOf(".")+1):e.name.substring(e.name.lastIndexOf(".")+1)}(t)+"[]")}var n,r=e.packageName,i=e.compoundName.split("/");e.typeName=[r,i.join("$")].join("."),e.canonicalName=[r,i.join(".")].join("."),e.simpleName=i[i.length-1]},t.synthesizePrimitiveNamesFromTypeId=function(e,t){e.typeName="Class$"+t,e.canonicalName=e.typeName,e.simpleName=e.typeName},t.prototype.desiredAssertionStatus=function(){return!1},t.prototype.ensureNamesAreInitialized=function(){null==this.typeName&&t.initializeNames(this)},t.prototype.getCanonicalName=function(){return this.ensureNamesAreInitialized(),this.canonicalName},t.prototype.getComponentType=function(){return this.componentType},t.prototype.getEnumConstants=function(){return this.enumConstantsFunc&&this.enumConstantsFunc()},t.prototype.getName=function(){return this.ensureNamesAreInitialized(),this.typeName},t.prototype.getSimpleName=function(){return this.ensureNamesAreInitialized(),this.simpleName},t.prototype.getSuperclass=function(){return this.superclass},t.prototype.isArray=function(){return 0!==(this.modifiers&t.ARRAY)},t.prototype.isEnum=function(){return 0!==(this.modifiers&t.ENUM)},t.prototype.isInterface=function(){return 0!==(this.modifiers&t.INTERFACE)},t.prototype.isPrimitive=function(){return 0!==(this.modifiers&t.PRIMITIVE)},t.prototype.toString=function(){return(this.isInterface()?"interface ":this.isPrimitive()?"":"class ")+("string"===typeof(e=this)?e:e.__class?e.__class:e.name);var e},t.prototype.getEnumSuperclass=function(){return this.enumSuperclass},t.PRIMITIVE=1,t.INTERFACE=2,t.ARRAY=4,t.ENUM=8,t.nextSequentialId=1,t}();t.Class=n,n.__class="java.lang.Class",n.__interfaces=["java.lang.reflect.Type"]}(e.lang||(e.lang={}))}(java||(java={})),function(e){!function(t){var n=function(){function t(){void 0===this.value&&(this.value=null)}return t.prototype.initialValue=function(){return null},t.prototype.get=function(){return this.value},t.prototype.set=function(e){this.value=e},t.prototype.remove=function(){},t.prototype.childValue=function(t){throw new e.lang.UnsupportedOperationException},t}();t.ThreadLocal=n,n.__class="java.lang.ThreadLocal"}(e.lang||(e.lang={}))}(java||(java={})),function(e){!function(e){var t=function(){function e(e){void 0===this.string&&(this.string=null),this.string=e}return e.prototype.length=function(){return this.string.length},e.prototype.setLength=function(e){var t=this.length();e<t?this.string=this.string.substring(0,e):e>t&&(this.string+=new String(function(e){for(var t=[];e-- >0;)t.push(null);return t}(e-t)).toString())},e.prototype.capacity=function(){return javaemul.internal.IntegerHelper.MAX_VALUE},e.prototype.ensureCapacity=function(e){},e.prototype.trimToSize=function(){},e.prototype.charAt=function(e){return this.string.charAt(e)},e.prototype.getChars=function(e,t,n,r){for(javaemul.internal.InternalPreconditions.checkStringBounds(e,t,this.length()),javaemul.internal.InternalPreconditions.checkStringBounds(r,r+(t-e),n.length);e<t;)n[r++]=this.string.charAt(e++)},e.prototype.setCharAt=function(e,t){this.replace0(e,e+1,new String(t).toString())},e.prototype.subSequence=function(e,t){return this.string.substring(e,t)},e.prototype.substring$int=function(e){return this.string.substring(e)},e.prototype.substring$int$int=function(e,t){return this.string.substring(e,t)},e.prototype.substring=function(e,t){if("number"!==typeof e&&null!==e||"number"!==typeof t&&null!==t){if("number"!==typeof e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.substring$int(e)}return this.substring$int$int(e,t)},e.prototype.indexOf$java_lang_String=function(e){return this.string.indexOf(e)},e.prototype.indexOf$java_lang_String$int=function(e,t){return this.string.indexOf(e,t)},e.prototype.indexOf=function(e,t){if("string"!==typeof e&&null!==e||"number"!==typeof t&&null!==t){if("string"!==typeof e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.indexOf$java_lang_String(e)}return this.indexOf$java_lang_String$int(e,t)},e.prototype.lastIndexOf$java_lang_String=function(e){return this.string.lastIndexOf(e)},e.prototype.lastIndexOf$java_lang_String$int=function(e,t){return this.string.lastIndexOf(e,t)},e.prototype.lastIndexOf=function(e,t){if("string"!==typeof e&&null!==e||"number"!==typeof t&&null!==t){if("string"!==typeof e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.lastIndexOf$java_lang_String(e)}return this.lastIndexOf$java_lang_String$int(e,t)},e.prototype.toString=function(){return this.string},e.prototype.append0=function(e,t,n){null==e&&(e="null"),this.string+=e.substring(t,n)},e.prototype.appendCodePoint0=function(e){this.string+=new String(String.fromCharCode(e)).toString()},e.prototype.replace0=function(e,t,n){this.string=this.string.substring(0,e)+n+this.string.substring(t)},e.prototype.reverse0=function(){var t=this.string.length;if(!(t<=1)){var n=function(e){for(var t=[];e-- >0;)t.push(null);return t}(t);n[0]=this.string.charAt(t-1);for(var r=1;r<t;r++)n[r]=this.string.charAt(t-1-r),javaemul.internal.CharacterHelper.isSurrogatePair(n[r],n[r-1])&&e.swap(n,r-1,r);this.string=new String(n)}},e.swap=function(e,t,n){var r=e[t];e[t]=e[n],e[n]=r},e}();e.AbstractStringBuilder=t,t.__class="java.lang.AbstractStringBuilder"}(e.lang||(e.lang={}))}(java||(java={})),function(e){!function(t){var n=function(){function t(e,t){void 0===this.__name&&(this.__name=null),void 0===this.__ordinal&&(this.__ordinal=0),this.__name=e,this.__ordinal=t}return t.valueOf$java_lang_Class$java_lang_String=function(e,n){var r,i=javaemul.internal.InternalPreconditions.checkNotNull(e).enumValueOfFunc;return javaemul.internal.InternalPreconditions.checkCriticalArgument(null!=i,"EnumValueOfFunc is null at enum class: %s, enum value name: %s","string"===typeof(r=e)?r:r.__class?r.__class:r.name,n),javaemul.internal.InternalPreconditions.checkNotNull(n),t.invokeValueOf(i,n)},t.valueOf=function(t,n){if((null==t||null==t.__class&&!function(e){try{return new e,!0}catch(t){return!1}}(t))&&null!==t||"string"!==typeof n&&null!==n){if(!(null!=t&&t instanceof Object||null===t)||"string"!==typeof n&&null!==n)throw new Error("invalid overload");return e.lang.Enum.valueOf$def_js_Object$java_lang_String(t,n)}return e.lang.Enum.valueOf$java_lang_Class$java_lang_String(t,n)},t.createValueOfMap=function(e){for(var n=new Object,r=0;r<e.length;r++){var i=e[r];t.put0(n,":"+i.name(),i)}return n},t.valueOf$def_js_Object$java_lang_String=function(t,n){javaemul.internal.InternalPreconditions.checkNotNull(n);var r=e.lang.Enum.get0(t,":"+n);return javaemul.internal.InternalPreconditions.checkCriticalArgument(null!=r,"Enum constant undefined: %s",n),r},t.get0=function(e,t){return e[t]},t.invokeValueOf=function(e,t){return e(t)},t.put0=function(e,t,n){e[t]=n},t.prototype.compareTo$java_lang_Enum=function(e){return this.__ordinal-e.__ordinal},t.prototype.compareTo=function(e){if(null!=e||null===e)return this.compareTo$java_lang_Enum(e);throw new Error("invalid overload")},t.prototype.getDeclaringClass=function(){return null},t.prototype.name=function(){return null!=this.__name?this.__name:""+this.__ordinal},t.prototype.ordinal=function(){return this.__ordinal},t.prototype.toString=function(){return this.name()},t}();t.Enum=n,n.__class="java.lang.Enum",n.__interfaces=["java.lang.Comparable","java.io.Serializable"]}(e.lang||(e.lang={}))}(java||(java={})),function(e){!function(e){var t=function(){function e(){}return e.isDesignTime=function(){return!1},e}();e.Beans=t,t.__class="java.beans.Beans"}(e.beans||(e.beans={}))}(java||(java={})),function(e){!function(e){var t=function(){function e(){}return e.prototype.getPropertyType=function(){return null},e}();e.PropertyDescriptor=t,t.__class="java.beans.PropertyDescriptor"}(e.beans||(e.beans={}))}(java||(java={})),function(e){var t;(function(t){var n=function(){function t(){}return t.get=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new e.nio.file.Path(t.join(e.nio.file.Path.PATH_SEPARATOR_$LI$()))},t}();t.Paths=n,n.__class="java.nio.file.Paths"})((t=e.nio||(e.nio={})).file||(t.file={}))}(java||(java={})),function(e){!function(t){var n=function(){function e(){}return e.BIG_ENDIAN_$LI$=function(){return null==e.BIG_ENDIAN&&(e.BIG_ENDIAN=new e),e.BIG_ENDIAN},e.LITTLE_ENDIAN_$LI$=function(){return null==e.LITTLE_ENDIAN&&(e.LITTLE_ENDIAN=new e),e.LITTLE_ENDIAN},e.prototype.toString=function(){return this===e.BIG_ENDIAN_$LI$()?"BIG_ENDIAN":"LITTLE_ENDIAN"},e.nativeOrder=function(){return null==e.NativeInstanceHolder.INSTANCE&&(e.NativeInstanceHolder.INSTANCE=e.NativeInstanceHolder.nativeOrderTester()),e.NativeInstanceHolder.INSTANCE},e}();t.ByteOrder=n,n.__class="java.nio.ByteOrder",function(t){var n=function(){function t(){}return t.nativeOrderTester=function(){var t=new ArrayBuffer(2),n=new Uint8Array(t),r=new Uint16Array(t);if(n.set(Uint8Array.from([170,187]),0),48042===r[0])return e.nio.ByteOrder.LITTLE_ENDIAN_$LI$();if(43707===r[0])return e.nio.ByteOrder.BIG_ENDIAN_$LI$();throw new Error("Something crazy just happened in native order test")},t.INSTANCE=null,t}();t.NativeInstanceHolder=n,n.__class="java.nio.ByteOrder.NativeInstanceHolder"}(n=t.ByteOrder||(t.ByteOrder={}))}(e.nio||(e.nio={}))}(java||(java={})),function(e){!function(t){var n=function(){function t(e,t){void 0===this._capacity&&(this._capacity=0),void 0===this.readOnly&&(this.readOnly=!1),void 0===this._position&&(this._position=0),void 0===this._limit&&(this._limit=0),void 0===this._mark&&(this._mark=0),this._capacity=e,this.readOnly=t,this._position=0,this._limit=e,this._mark=-1}return t.prototype.arrayOffset=function(){return 0},t.prototype.capacity=function(){return this._capacity},t.prototype.clear=function(){return this._limit=this._capacity,this._position=0,this._mark=-1,this},t.prototype.flip=function(){return this._limit=this._position,this._position=0,this._mark=-1,this},t.prototype.hasArray=function(){return null!=this.array()},t.prototype.hasRemaining=function(){return this._position<this._limit},t.prototype.isDirect=function(){return!1},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.limit$=function(){return this._limit},t.prototype.limit$int=function(t){if(t>this._capacity)throw new e.lang.IllegalArgumentException("limit is bigger than capacity");return this._limit=t,this._position=Math.min(this._position,this._limit),this._mark>this._limit&&(this._mark=-1),this},t.prototype.limit=function(e){if("number"===typeof e||null===e)return this.limit$int(e);if(void 0===e)return this.limit$();throw new Error("invalid overload")},t.prototype.mark=function(){return this._mark=this._position,this},t.prototype.position$=function(){return this._position},t.prototype.position$int=function(t){if(t>this._limit)throw new e.lang.IllegalArgumentException("position is bigger than limit");return this._position=t,this._mark>this._position&&(this._mark=-1),this},t.prototype.position=function(e){if("number"===typeof e||null===e)return this.position$int(e);if(void 0===e)return this.position$();throw new Error("invalid overload")},t.prototype.remaining=function(){return this._limit-this._position},t.prototype.reset=function(){if(-1===this._mark)throw new e.nio.InvalidMarkException;return this._position=this._mark,this},t.prototype.rewind=function(){return this._position=0,this._mark=-1,this},t}();t.Buffer=n,n.__class="java.nio.Buffer"}(e.nio||(e.nio={}))}(java||(java={})),function(e){var t;(function(t){var n=function(){function t(e,t){void 0===this.__name&&(this.__name=null),this.__name=e}return t.availableCharsets=function(){if(null==t.AvailableCharsets.CHARSETS){var n=new e.util.TreeMap;n.put(javaemul.internal.EmulatedCharset.ISO_8859_1_$LI$().name(),javaemul.internal.EmulatedCharset.ISO_8859_1_$LI$()),n.put(javaemul.internal.EmulatedCharset.ISO_LATIN_1_$LI$().name(),javaemul.internal.EmulatedCharset.ISO_LATIN_1_$LI$()),n.put(javaemul.internal.EmulatedCharset.UTF_8_$LI$().name(),javaemul.internal.EmulatedCharset.UTF_8_$LI$()),t.AvailableCharsets.CHARSETS=e.util.Collections.unmodifiableSortedMap(n)}return t.AvailableCharsets.CHARSETS},t.forName=function(n){if(javaemul.internal.InternalPreconditions.checkArgument(null!=n,"Null charset name"),n=n.toUpperCase(),javaemul.internal.EmulatedCharset.ISO_8859_1_$LI$().name()===n)return javaemul.internal.EmulatedCharset.ISO_8859_1_$LI$();if(javaemul.internal.EmulatedCharset.ISO_LATIN_1_$LI$().name()===n)return javaemul.internal.EmulatedCharset.ISO_LATIN_1_$LI$();if(javaemul.internal.EmulatedCharset.UTF_8_$LI$().name()===n)return javaemul.internal.EmulatedCharset.UTF_8_$LI$();throw t.createLegalCharsetNameRegex().test(n)?new e.nio.charset.UnsupportedCharsetException(n):new e.nio.charset.IllegalCharsetNameException(n)},t.createLegalCharsetNameRegex=function(){return new RegExp("^[A-Za-z0-9][\\w-:\\.\\+]*$")},t.prototype.name=function(){return this.__name},t.prototype.compareTo$java_nio_charset_Charset=function(e){return this.__name.toUpperCase().localeCompare(e.__name.toUpperCase())},t.prototype.compareTo=function(t){if(null!=t&&t instanceof e.nio.charset.Charset||null===t)return this.compareTo$java_nio_charset_Charset(t);throw new Error("invalid overload")},t.prototype.hashCode=function(){return(e=this.__name).hashCode?e.hashCode():e.toString().split("").reduce(function(e,t){return(e<<5)-e+t.charCodeAt(0)|0},0);var e},t.prototype.equals=function(t){if(t===this)return!0;if(!(null!=t&&t instanceof e.nio.charset.Charset))return!1;var n=t;return this.__name===n.__name},t.prototype.toString=function(){return this.__name},t}();t.Charset=n,n.__class="java.nio.charset.Charset",n.__interfaces=["java.lang.Comparable"],function(e){var t=function(){function e(){}return e.CHARSETS=null,e}();e.AvailableCharsets=t,t.__class="java.nio.charset.Charset.AvailableCharsets"}(n=t.Charset||(t.Charset={}))})((t=e.nio||(e.nio={})).charset||(t.charset={}))}(java||(java={})),function(e){!function(e){var t=function(){function e(){}return e.getInstance=function(){return null==e.collator&&(e.collator=new e),e.collator},e.prototype.compare=function(e,t){return e.localeCompare(t)},e.collator=null,e}();e.Collator=t,t.__class="java.text.Collator",t.__interfaces=["java.util.Comparator"]}(e.text||(e.text={}))}(java||(java={})),function(e){!function(t){var n=function(){function t(){}return t.normalize=function(t,n){return t.toString().normalize(e.text.Normalizer.Form[n]).toString()},t}();t.Normalizer=n,n.__class="java.text.Normalizer",function(e){var t;(t=e.Form||(e.Form={}))[t.NFD=0]="NFD",t[t.NFC=1]="NFC",t[t.NFKD=2]="NFKD",t[t.NFKC=3]="NFKC"}(n=t.Normalizer||(t.Normalizer={}))}(e.text||(e.text={}))}(java||(java={})),function(e){!function(t){var n=function(){function t(e){this.index=0,this.errorIndex=-1,this.index=e}return t.prototype.getIndex=function(){return this.index},t.prototype.setIndex=function(e){this.index=e},t.prototype.setErrorIndex=function(e){this.errorIndex=e},t.prototype.getErrorIndex=function(){return this.errorIndex},t.prototype.equals=function(t){if(null==t)return!1;if(!(null!=t&&t instanceof e.text.ParsePosition))return!1;var n=t;return this.index===n.index&&this.errorIndex===n.errorIndex},t.prototype.hashCode=function(){return this.errorIndex<<16|this.index},t.prototype.toString=function(){return("string"===typeof(e=this.constructor)?e:e.__class?e.__class:e.name)+"[index="+this.index+",errorIndex="+this.errorIndex+"]";var e},t}();t.ParsePosition=n,n.__class="java.text.ParsePosition"}(e.text||(e.text={}))}(java||(java={})),function(e){var t;(function(t){var n=function(e){function t(t){var n=e.call(this)||this;return void 0===n.previous&&(n.previous=null),n.previous=t,n}return __extends(t,e),t.prototype.chain=function(e){null!=this.previous&&this.previous.chain(e),this.previous=e,e.chain(this)},t.prototype.item=function(e){return!0},t}(e.internal.stream.TerminalStreamRow);t.StreamRowEnd=n,n.__class="javaemul.internal.stream.StreamRowEnd",n.__interfaces=["javaemul.internal.stream.StreamRow"]})((t=e.internal||(e.internal={})).stream||(t.stream={}))}(javaemul||(javaemul={})),function(e){var t;(function(t){var n=function(e){function t(t){var n=e.call(this)||this;return void 0===n.predicate&&(n.predicate=null),void 0===n.predicateValue&&(n.predicateValue=!1),void 0===n.attempts&&(n.attempts=0),n.predicate=t,n}return __extends(t,e),t.prototype.getPredicateValue=function(){return 0===this.attempts||this.predicateValue},t.prototype.item=function(e){var t;return++this.attempts,this.predicateValue=("function"===typeof(t=this.predicate)?t(e):t.test(e))&&this.predicateValue,this.predicateValue},t}(e.internal.stream.TerminalStreamRow);t.StreamRowAllFilter=n,n.__class="javaemul.internal.stream.StreamRowAllFilter",n.__interfaces=["javaemul.internal.stream.StreamRow"]})((t=e.internal||(e.internal={})).stream||(t.stream={}))}(javaemul||(javaemul={})),function(e){var t;(function(t){var n=function(e){function t(t){var n=e.call(this)||this;return void 0===n.predicate&&(n.predicate=null),void 0===n.predicateValue&&(n.predicateValue=!1),n.firstMatch=java.util.Optional.empty(),n.predicate=t,n}return __extends(t,e),t.prototype.getFirstMatch=function(){return this.firstMatch},t.prototype.getPredicateValue=function(){return this.predicateValue},t.prototype.item=function(e){var t;return this.predicateValue="function"===typeof(t=this.predicate)?t(e):t.test(e),this.predicateValue&&(this.firstMatch=java.util.Optional.of(e)),!this.predicateValue},t}(e.internal.stream.TerminalStreamRow);t.StreamRowOnceFilter=n,n.__class="javaemul.internal.stream.StreamRowOnceFilter",n.__interfaces=["javaemul.internal.stream.StreamRow"]})((t=e.internal||(e.internal={})).stream||(t.stream={}))}(javaemul||(javaemul={})),function(e){var t;(function(t){var n=function(e){function t(t,n){var r=e.call(this)||this;return void 0===r.result&&(r.result=null),void 0===r.operator&&(r.operator=null),r.result=t,r.operator=n,r}return __extends(t,e),t.prototype.getResult=function(){return this.result},t.prototype.item=function(e){var t=this;return this.result=java.util.Optional.of(this.result.map(function(n){return"function"===typeof(r=t.operator)?r(n,e):r.apply(n,e);var r}).orElse(e)),!0},t}(e.internal.stream.TerminalStreamRow);t.StreamRowReduce=n,n.__class="javaemul.internal.stream.StreamRowReduce",n.__interfaces=["javaemul.internal.stream.StreamRow"]})((t=e.internal||(e.internal={})).stream||(t.stream={}))}(javaemul||(javaemul={})),function(e){var t;(function(t){var n=function(e){function t(){var t=e.call(this)||this;return void 0===t.count&&(t.count=0),t}return __extends(t,e),t.prototype.getCount=function(){return this.count},t.prototype.item=function(e){return++this.count,!0},t}(e.internal.stream.TerminalStreamRow);t.StreamRowCount=n,n.__class="javaemul.internal.stream.StreamRowCount",n.__interfaces=["javaemul.internal.stream.StreamRow"]})((t=e.internal||(e.internal={})).stream||(t.stream={}))}(javaemul||(javaemul={})),function(e){var t;(function(t){var n=function(e){function t(t){var n=e.call(this)||this;return void 0===n.collection&&(n.collection=null),n.collection=t,n}return __extends(t,e),t.prototype.item=function(e){return this.collection.add(e),!0},t.prototype.end=function(){for(var e=this.collection.iterator();e.hasNext();){var t=e.next();if(!this.next.item(t))break}this.next.end()},t}(e.internal.stream.TransientStreamRow);t.StreamRowCollector=n,n.__class="javaemul.internal.stream.StreamRowCollector",n.__interfaces=["javaemul.internal.stream.StreamRow"]})((t=e.internal||(e.internal={})).stream||(t.stream={}))}(javaemul||(javaemul={})),function(e){var t;(function(t){var n=function(e){function t(t){var n=e.call(this)||this;return void 0===n.map&&(n.map=null),n.map=t,n}return __extends(t,e),t.prototype.item=function(e){return this.next.item("function"===typeof(t=this.map)?t(e):t.apply(e));var t},t.prototype.end=function(){this.next.end()},t}(e.internal.stream.TransientStreamRow);t.StreamRowMap=n,n.__class="javaemul.internal.stream.StreamRowMap",n.__interfaces=["javaemul.internal.stream.StreamRow"]})((t=e.internal||(e.internal={})).stream||(t.stream={}))}(javaemul||(javaemul={})),function(e){var t;(function(t){var n=function(e){function t(t){var n=e.call(this)||this;return void 0===n.predicate&&(n.predicate=null),n.predicate=t,n}return __extends(t,e),t.prototype.item=function(e){return("function"===typeof(t=this.predicate)?!t(e):!t.test(e))||this.next.item(e);var t},t.prototype.end=function(){this.next.end()},t}(e.internal.stream.TransientStreamRow);t.StreamRowFilter=n,n.__class="javaemul.internal.stream.StreamRowFilter",n.__interfaces=["javaemul.internal.stream.StreamRow"]})((t=e.internal||(e.internal={})).stream||(t.stream={}))}(javaemul||(javaemul={})),function(e){var t;(function(t){var n=function(e){function t(t){var n=e.call(this)||this;return void 0===n.predicate&&(n.predicate=null),n.predicate=t,n}return __extends(t,e),t.prototype.item=function(e){var t;return!!("function"===typeof(t=this.predicate)?t(e):t.test(e))&&this.next.item(e)},t.prototype.end=function(){this.next.end()},t}(e.internal.stream.TransientStreamRow);t.StreamRowFilterFlop=n,n.__class="javaemul.internal.stream.StreamRowFilterFlop",n.__interfaces=["javaemul.internal.stream.StreamRow"]})((t=e.internal||(e.internal={})).stream||(t.stream={}))}(javaemul||(javaemul={})),function(e){var t;(function(t){var n=function(t){function n(e){var n=t.call(this)||this;return void 0===n.flatMap&&(n.flatMap=null),n.flatMap=e,n}return __extends(n,t),n.prototype.item=function(t){var n,r=this,i="function"===typeof(n=this.flatMap)?n(t):n.apply(t);try{try{i.forEach(function(t){if(!r.next.item(t))throw new e.internal.stream.StopException})}catch(o){return!1}}finally{i.close()}return!0},n.prototype.end=function(){this.next.end()},n}(e.internal.stream.TransientStreamRow);t.StreamRowFlatMap=n,n.__class="javaemul.internal.stream.StreamRowFlatMap",n.__interfaces=["javaemul.internal.stream.StreamRow"]})((t=e.internal||(e.internal={})).stream||(t.stream={}))}(javaemul||(javaemul={})),function(e){!function(t){var n=function(n){function r(e){var t=this;if("string"===typeof e||null===e){t=n.call(this)||this}else{if("number"!==typeof e&&null!==e)throw new Error("invalid overload");arguments[0],t=n.call(this)||this}return t}return __extends(r,n),r.compare=function(e,t){return e<t?-1:e>t?1:e===t?0:r.isNaN(e)?r.isNaN(t)?0:1:-1},r.doubleToLongBits=function(e){if(r.isNaN(e))return 0x7ff8000000000000;var t=!1;if(0===e)return 1/e===r.NEGATIVE_INFINITY?-0x8000000000000000:0;if(e<0&&(t=!0,e=-e),r.isInfinite(e))return t?-4503599627370496:0x7ff0000000000000;var n=0;if(e<1){for(var i=512,o=0;o<10;o++,i>>=1)e<r.PowersTable.invPowers_$LI$()[o]&&n-i>=-1023&&(e*=r.PowersTable.powers_$LI$()[o],n-=i);e<1&&n-1>=-1023&&(e*=2,n--)}else if(e>=2)for(i=512,o=0;o<10;o++,i>>=1)e>=r.PowersTable.powers_$LI$()[o]&&(e*=r.PowersTable.invPowers_$LI$()[o],n+=i);n>-1023?e-=1:e*=.5;var a,s=(a=e*r.POWER_20)<0?Math.ceil(a):Math.floor(a);return e-=s*r.POWER_MINUS_20,s|=n+1023<<20,t&&(s|=2147483648),s<<32|function(e){return e<0?Math.ceil(e):Math.floor(e)}(e*r.POWER_52)},r.hashCode=function(e){return 0|e},r.isInfinite=function(t){return t===e.internal.JsUtils.getInfinity()||t===-e.internal.JsUtils.getInfinity()},r.isNaN=function(e){return isNaN(e)},r.longBitsToDouble=function(e){var t,n=(t=e>>32)<0?Math.ceil(t):Math.floor(t),i=function(e){return e<0?Math.ceil(e):Math.floor(e)}(4294967295&e);n<0&&(n+=4294967296),i<0&&(i+=4294967296);var o=0!==(-2147483648&n),a=n>>20&2047|0;if(n&=1048575,0===a){var s=n*r.POWER_MINUS_20+i*r.POWER_MINUS_52;return s*=r.POWER_MINUS_1022,o?0===s?-0:-s:s}if(2047===a)return 0===n&&0===i?o?r.NEGATIVE_INFINITY:r.POSITIVE_INFINITY:r.NaN;a-=1023;var l=1+n*r.POWER_MINUS_20+i*r.POWER_MINUS_52;if(a>0)for(var u=512,c=0;c<10;c++,u>>=1)a>=u&&(l*=r.PowersTable.powers_$LI$()[c],a-=u);else if(a<0)for(;a<0;)for(u=512,c=0;c<10;c++,u>>=1)a<=-u&&(l*=r.PowersTable.invPowers_$LI$()[c],a+=u);return o?-l:l},r.parseDouble=function(e){return t.NumberHelper.__parseAndValidateDouble(e)},r.toString=function(e){return new String(e).toString()},r.valueOf$double=function(e){return new Number(e)},r.valueOf$java_lang_String=function(e){return new Number(e)},r.valueOf=function(t){if("string"===typeof t||null===t)return e.internal.DoubleHelper.valueOf$java_lang_String(t);if("number"===typeof t||null===t)return e.internal.DoubleHelper.valueOf$double(t);throw new Error("invalid overload")},r.prototype.byteValue=function(){return 0|this.doubleValue()},r.prototype.compareTo$javaemul_internal_DoubleHelper=function(e){return r.compare(this.doubleValue(),e.doubleValue())},r.prototype.compareTo=function(t){if(null!=t&&t instanceof e.internal.DoubleHelper||null===t)return this.compareTo$javaemul_internal_DoubleHelper(t);throw new Error("invalid overload")},r.prototype.doubleValue=function(){return r.unsafeCast(e.internal.InternalPreconditions.checkNotNull(this))},r.unsafeCast=function(e){return e},r.prototype.equals=function(t){return e.internal.InternalPreconditions.checkNotNull(this)===t},r.prototype.floatValue=function(){return this.doubleValue()},r.prototype.hashCode=function(){return r.hashCode(this.doubleValue())},r.prototype.intValue=function(){return 0|this.doubleValue()},r.prototype.isInfinite=function(){return r.isInfinite(this.doubleValue())},r.prototype.isNaN=function(){return r.isNaN(this.doubleValue())},r.prototype.longValue=function(){return(e=this.doubleValue())<0?Math.ceil(e):Math.floor(e);var e},r.prototype.shortValue=function(){return 0|this.doubleValue()},r.prototype.toString=function(){return r.toString(this.doubleValue())},r.MAX_VALUE=1.7976931348623157e308,r.MIN_VALUE=5e-324,r.MIN_NORMAL=2.2250738585072014e-308,r.MAX_EXPONENT=1023,r.MIN_EXPONENT=-1022,r.NaN=NaN,r.NEGATIVE_INFINITY=-1/0,r.POSITIVE_INFINITY=1/0,r.SIZE=64,r.POWER_512=1.3407807929942597e154,r.POWER_MINUS_512=7.458340731200207e-155,r.POWER_256=1.157920892373162e77,r.POWER_MINUS_256=8.636168555094445e-78,r.POWER_128=3.402823669209385e38,r.POWER_MINUS_128=2.938735877055719e-39,r.POWER_64=0x10000000000000000,r.POWER_MINUS_64=5.421010862427522e-20,r.POWER_52=4503599627370496,r.POWER_MINUS_52=2.220446049250313e-16,r.POWER_32=4294967296,r.POWER_MINUS_32=2.3283064365386963e-10,r.POWER_31=2147483648,r.POWER_20=1048576,r.POWER_MINUS_20=9.5367431640625e-7,r.POWER_16=65536,r.POWER_MINUS_16=152587890625e-16,r.POWER_8=256,r.POWER_MINUS_8=.00390625,r.POWER_4=16,r.POWER_MINUS_4=.0625,r.POWER_2=4,r.POWER_MINUS_2=.25,r.POWER_1=2,r.POWER_MINUS_1=.5,r.POWER_MINUS_1022=2.2250738585072014e-308,r}(e.internal.NumberHelper);t.DoubleHelper=n,n.__class="javaemul.internal.DoubleHelper",n.__interfaces=["java.lang.Comparable","java.io.Serializable"],function(t){var n=function(){function t(){}return t.powers_$LI$=function(){return null==t.powers&&(t.powers=[e.internal.DoubleHelper.POWER_512,e.internal.DoubleHelper.POWER_256,e.internal.DoubleHelper.POWER_128,e.internal.DoubleHelper.POWER_64,e.internal.DoubleHelper.POWER_32,e.internal.DoubleHelper.POWER_16,e.internal.DoubleHelper.POWER_8,e.internal.DoubleHelper.POWER_4,e.internal.DoubleHelper.POWER_2,e.internal.DoubleHelper.POWER_1]),t.powers},t.invPowers_$LI$=function(){return null==t.invPowers&&(t.invPowers=[e.internal.DoubleHelper.POWER_MINUS_512,e.internal.DoubleHelper.POWER_MINUS_256,e.internal.DoubleHelper.POWER_MINUS_128,e.internal.DoubleHelper.POWER_MINUS_64,e.internal.DoubleHelper.POWER_MINUS_32,e.internal.DoubleHelper.POWER_MINUS_16,e.internal.DoubleHelper.POWER_MINUS_8,e.internal.DoubleHelper.POWER_MINUS_4,e.internal.DoubleHelper.POWER_MINUS_2,e.internal.DoubleHelper.POWER_MINUS_1]),t.invPowers},t}();t.PowersTable=n,n.__class="javaemul.internal.DoubleHelper.PowersTable"}(n=t.DoubleHelper||(t.DoubleHelper={}))}(e.internal||(e.internal={}))}(javaemul||(javaemul={})),function(e){!function(t){var n=function(n){function r(e){var t=this;if("string"===typeof e||null===e){void 0===(t=n.call(this)||this).value&&(t.value=0),t.value=r.parseShort(e)}else{if("number"!==typeof e&&null!==e)throw new Error("invalid overload");var i=arguments[0];void 0===(t=n.call(this)||this).value&&(t.value=0),t.value=i}return t}return __extends(r,n),r.MIN_VALUE_$LI$=function(){return null==r.MIN_VALUE&&(r.MIN_VALUE=32768),r.MIN_VALUE},r.MAX_VALUE_$LI$=function(){return null==r.MAX_VALUE&&(r.MAX_VALUE=32767),r.MAX_VALUE},r.TYPE_$LI$=function(){return null==r.TYPE&&(r.TYPE=Number),r.TYPE},r.compare=function(e,t){return e-t},r.decode=function(e){return r.valueOf$short(0|t.NumberHelper.__decodeAndValidateInt(e,r.MIN_VALUE_$LI$(),r.MAX_VALUE_$LI$()))},r.hashCode=function(e){return e},r.parseShort=function(e,n){return void 0===n&&(n=10),0|t.NumberHelper.__parseAndValidateInt(e,n,r.MIN_VALUE_$LI$(),r.MAX_VALUE_$LI$())},r.reverseBytes=function(e){return(255&e)<<8|(65280&e)>>8|0},r.toString=function(e){return new String(e).toString()},r.valueOf$short=function(e){if(e>-129&&e<128){var t=e+128,n=r.BoxedValues.boxedValues_$LI$()[t];return null==n&&(n=r.BoxedValues.boxedValues_$LI$()[t]=new Number(e)),n}return new Number(e)},r.valueOf$java_lang_String=function(e){return r.valueOf$java_lang_String$int(e,10)},r.valueOf$java_lang_String$int=function(e,t){return r.valueOf$short(r.parseShort(e,t))},r.valueOf=function(t,n){if("string"!==typeof t&&null!==t||"number"!==typeof n&&null!==n){if("string"!==typeof t&&null!==t||void 0!==n){if("number"!==typeof t&&null!==t||void 0!==n)throw new Error("invalid overload");return e.internal.ShortHelper.valueOf$short(t)}return e.internal.ShortHelper.valueOf$java_lang_String(t)}return e.internal.ShortHelper.valueOf$java_lang_String$int(t,n)},r.prototype.byteValue=function(){return 0|this.value},r.prototype.compareTo$javaemul_internal_ShortHelper=function(e){return r.compare(this.value,e.value)},r.prototype.compareTo=function(t){if(null!=t&&t instanceof e.internal.ShortHelper||null===t)return this.compareTo$javaemul_internal_ShortHelper(t);throw new Error("invalid overload")},r.prototype.doubleValue=function(){return this.value},r.prototype.equals=function(t){return null!=t&&t instanceof e.internal.ShortHelper&&t.value===this.value},r.prototype.floatValue=function(){return this.value},r.prototype.hashCode=function(){return r.hashCode(this.value)},r.prototype.intValue=function(){return this.value},r.prototype.longValue=function(){return this.value},r.prototype.shortValue=function(){return this.value},r.prototype.toString=function(){return r.toString(this.value)},r.SIZE=16,r}(e.internal.NumberHelper);t.ShortHelper=n,n.__class="javaemul.internal.ShortHelper",n.__interfaces=["java.lang.Comparable","java.io.Serializable"],function(e){var t=function(){function e(){}return e.boxedValues_$LI$=function(){return null==e.boxedValues&&(e.boxedValues=function(e){for(var t=[];e-- >0;)t.push(null);return t}(256)),e.boxedValues},e}();e.BoxedValues=t,t.__class="javaemul.internal.ShortHelper.BoxedValues"}(n=t.ShortHelper||(t.ShortHelper={}))}(e.internal||(e.internal={}))}(javaemul||(javaemul={})),function(e){!function(t){var n=function(n){function r(e){var t=this;if("string"===typeof e||null===e){void 0===(t=n.call(this)||this).value&&(t.value=0),t.value=r.parseByte(e)}else{if("number"!==typeof e&&null!==e)throw new Error("invalid overload");var i=arguments[0];void 0===(t=n.call(this)||this).value&&(t.value=0),t.value=i}return t}return __extends(r,n),r.MIN_VALUE_$LI$=function(){return null==r.MIN_VALUE&&(r.MIN_VALUE=128),r.MIN_VALUE},r.MAX_VALUE_$LI$=function(){return null==r.MAX_VALUE&&(r.MAX_VALUE=127),r.MAX_VALUE},r.TYPE_$LI$=function(){return null==r.TYPE&&(r.TYPE=Number),r.TYPE},r.compare=function(e,t){return e-t},r.decode=function(e){return r.valueOf$byte(0|t.NumberHelper.__decodeAndValidateInt(e,r.MIN_VALUE_$LI$(),r.MAX_VALUE_$LI$()))},r.hashCode=function(e){return e},r.parseByte=function(e,n){return void 0===n&&(n=10),0|t.NumberHelper.__parseAndValidateInt(e,n,r.MIN_VALUE_$LI$(),r.MAX_VALUE_$LI$())},r.toString=function(e){return new String(e).toString()},r.valueOf$byte=function(e){var t=e+128,n=r.BoxedValues.boxedValues_$LI$()[t];return null==n&&(n=r.BoxedValues.boxedValues_$LI$()[t]=new Number(e)),n},r.valueOf$java_lang_String=function(e){return r.valueOf$java_lang_String$int(e,10)},r.valueOf$java_lang_String$int=function(t,n){return e.internal.ByteHelper.valueOf(r.parseByte(t,n))},r.valueOf=function(t,n){if("string"!==typeof t&&null!==t||"number"!==typeof n&&null!==n){if("string"!==typeof t&&null!==t||void 0!==n){if("number"!==typeof t&&null!==t||void 0!==n)throw new Error("invalid overload");return e.internal.ByteHelper.valueOf$byte(t)}return e.internal.ByteHelper.valueOf$java_lang_String(t)}return e.internal.ByteHelper.valueOf$java_lang_String$int(t,n)},r.prototype.byteValue=function(){return this.value},r.prototype.compareTo$javaemul_internal_ByteHelper=function(e){return r.compare(this.value,e.value)},r.prototype.compareTo=function(t){if(null!=t&&t instanceof e.internal.ByteHelper||null===t)return this.compareTo$javaemul_internal_ByteHelper(t);throw new Error("invalid overload")},r.prototype.doubleValue=function(){return this.value},r.prototype.equals=function(t){return null!=t&&t instanceof e.internal.ByteHelper&&t.value===this.value},r.prototype.floatValue=function(){return this.value},r.prototype.hashCode=function(){return r.hashCode(this.value)},r.prototype.intValue=function(){return this.value},r.prototype.longValue=function(){return this.value},r.prototype.shortValue=function(){return this.value},r.prototype.toString=function(){return r.toString(this.value)},r.SIZE=8,r}(e.internal.NumberHelper);t.ByteHelper=n,n.__class="javaemul.internal.ByteHelper",n.__interfaces=["java.lang.Comparable","java.io.Serializable"],function(e){var t=function(){function e(){}return e.boxedValues_$LI$=function(){return null==e.boxedValues&&(e.boxedValues=function(e){for(var t=[];e-- >0;)t.push(null);return t}(256)),e.boxedValues},e}();e.BoxedValues=t,t.__class="javaemul.internal.ByteHelper.BoxedValues"}(n=t.ByteHelper||(t.ByteHelper={}))}(e.internal||(e.internal={}))}(javaemul||(javaemul={})),function(e){!function(t){var n=function(n){function r(e){var t=this;if("string"===typeof e||null===e){void 0===(t=n.call(this)||this).value&&(t.value=0),t.value=r.parseFloat(e)}else if("number"===typeof e||null===e){var i=arguments[0];void 0===(t=n.call(this)||this).value&&(t.value=0),t.value=i}else{if("number"!==typeof e&&null!==e)throw new Error("invalid overload");i=arguments[0];void 0===(t=n.call(this)||this).value&&(t.value=0),t.value=i}return t}return __extends(r,n),r.compare=function(t,n){return e.internal.DoubleHelper.compare(t,n)},r.floatToIntBits=function(t){if(r.isNaN(t))return 2143289344;if(0===t)return 1/t===r.NEGATIVE_INFINITY?-2147483648:0;var n=!1;if(t<0&&(n=!0,t=-t),r.isInfinite(t))return n?-8388608:2139095040;var i=e.internal.DoubleHelper.doubleToLongBits(t),o=(i>>52&2047)-1023|0,a=(0xfffffffffffff&i)>>29|0;o<=-127&&(a=(8388608|a)>>-127-o+1,o=-127);var s=n?r.POWER_31_INT:0;return s|=o+127<<23,0|(s|=a)},r.hashCode=function(e){return 0|e},r.intBitsToFloat=function(t){var n=0!==(-2147483648&t),i=t>>23&255;if(t&=8388607,0===i){if(0===t)return n?-0:0}else if(255===i)return 0===t?n?r.NEGATIVE_INFINITY:r.POSITIVE_INFINITY:r.NaN;if(0===i){for(i=1;0===(8388608&t);)t<<=1,i--;t&=8388607}var o,a=n?-0x8000000000000000:0;return a|=((o=i+896)<0?Math.ceil(o):Math.floor(o))<<52,a|=function(e){return e<0?Math.ceil(e):Math.floor(e)}(t)<<29,e.internal.DoubleHelper.longBitsToDouble(a)},r.isInfinite=function(t){return e.internal.DoubleHelper.isInfinite(t)},r.isNaN=function(t){return e.internal.DoubleHelper.isNaN(t)},r.parseFloat=function(e){var n=t.NumberHelper.__parseAndValidateDouble(e);return n>r.MAX_VALUE?r.POSITIVE_INFINITY:n<-r.MAX_VALUE?r.NEGATIVE_INFINITY:n},r.toString=function(e){return new String(e).toString()},r.valueOf$float=function(e){return new Number(e)},r.valueOf$java_lang_String=function(e){return new Number(e)},r.valueOf=function(t){if("string"===typeof t||null===t)return e.internal.FloatHelper.valueOf$java_lang_String(t);if("number"===typeof t||null===t)return e.internal.FloatHelper.valueOf$float(t);throw new Error("invalid overload")},r.prototype.byteValue=function(){return 0|this.value},r.prototype.compareTo$javaemul_internal_FloatHelper=function(e){return r.compare(this.value,e.value)},r.prototype.compareTo=function(t){if(null!=t&&t instanceof e.internal.FloatHelper||null===t)return this.compareTo$javaemul_internal_FloatHelper(t);throw new Error("invalid overload")},r.prototype.doubleValue=function(){return this.value},r.prototype.equals=function(t){return null!=t&&t instanceof e.internal.FloatHelper&&t.value===this.value},r.prototype.floatValue=function(){return this.value},r.prototype.hashCode=function(){return r.hashCode(this.value)},r.prototype.intValue=function(){return 0|this.value},r.prototype.isInfinite=function(){return r.isInfinite(this.value)},r.prototype.isNaN=function(){return r.isNaN(this.value)},r.prototype.longValue=function(){return(e=this.value)<0?Math.ceil(e):Math.floor(e);var e},r.prototype.shortValue=function(){return 0|this.value},r.prototype.toString=function(){return r.toString(this.value)},r.MAX_VALUE=3.4028235e38,r.MIN_VALUE=1.4e-45,r.MAX_EXPONENT=127,r.MIN_EXPONENT=-126,r.MIN_NORMAL=1.17549435e-38,r.NaN=NaN,r.NEGATIVE_INFINITY=-1/0,r.POSITIVE_INFINITY=1/0,r.SIZE=32,r.POWER_31_INT=2147483648,r}(e.internal.NumberHelper);t.FloatHelper=n,n.__class="javaemul.internal.FloatHelper",n.__interfaces=["java.lang.Comparable","java.io.Serializable"]}(e.internal||(e.internal={}))}(javaemul||(javaemul={})),function(e){!function(t){var n=function(n){function r(e){var t=this;if("string"===typeof e||null===e){void 0===(t=n.call(this)||this).value&&(t.value=0),t.value=r.parseInt(e)}else{if("number"!==typeof e&&null!==e)throw new Error("invalid overload");var i=arguments[0];void 0===(t=n.call(this)||this).value&&(t.value=0),t.value=i}return t}return __extends(r,n),r.bitCount=function(e){return e=((e=((e-=e>>1&1431655765)>>2&858993459)+(858993459&e))>>4)+e&252645135,e+=e>>8,63&(e+=e>>16)},r.compare=function(e,t){return e<t?-1:e>t?1:0},r.decode=function(e){return r.valueOf$int(t.NumberHelper.__decodeAndValidateInt(e,r.MIN_VALUE,r.MAX_VALUE))},r.hashCode=function(e){return e},r.highestOneBit=function(e){if(e<0)return r.MIN_VALUE;if(0===e)return 0;var t=void 0;for(t=1073741824;0===(t&e);t>>=1);return t},r.lowestOneBit=function(e){return e&-e},r.numberOfLeadingZeros=function(e){if(e<0)return 0;if(0===e)return r.SIZE;var t=void 0,n=void 0,i=void 0;return i=16-(n=(t=-(e>>16))>>16&16),i+=n=(t=(e>>=n)-256)>>16&8,i+=n=(t=(e<<=n)-4096)>>16&4,(i+=n=(t=(e<<=n)-16384)>>16&2)+2-(n=(t=(e<<=n)>>14)&~(t>>1))},r.numberOfTrailingZeros=function(e){if(0===e)return r.SIZE;for(var t=0,n=1;0===(n&e);n<<=1)t++;return t},r.parseInt=function(e,n){return void 0===n&&(n=10),t.NumberHelper.__parseAndValidateInt(e,n,r.MIN_VALUE,r.MAX_VALUE)},r.reverse=function(e){var t=r.ReverseNibbles.reverseNibbles_$LI$();return t[e>>>28]|t[e>>24&15]<<4|t[e>>20&15]<<8|t[e>>16&15]<<12|t[e>>12&15]<<16|t[e>>8&15]<<20|t[e>>4&15]<<24|t[15&e]<<28},r.reverseBytes=function(e){return(255&e)<<24|(65280&e)<<8|(16711680&e)>>8|(-16777216&e)>>>24},r.rotateLeft=function(e,t){for(;t-- >0;)e=e<<1|(e<0?1:0);return e},r.rotateRight=function(e,t){for(var n=e&r.MAX_VALUE,i=e<0?1073741824:0;t-- >0;){var o=1&n;n=i|n>>1,i=0===o?0:1073741824}return 0!==i&&(n|=r.MIN_VALUE),n},r.signum=function(e){return 0===e?0:e<0?-1:1},r.toBinaryString=function(e){return r.toUnsignedRadixString(e,2)},r.toHexString=function(e){return r.toUnsignedRadixString(e,16)},r.toOctalString=function(e){return r.toUnsignedRadixString(e,8)},r.toString$int=function(e){return new String(e).toString()},r.toString$int$int=function(t,n){return 10===n||n<e.internal.CharacterHelper.MIN_RADIX||n>e.internal.CharacterHelper.MAX_RADIX?new String(t).toString():r.toRadixString(t,n)},r.toString=function(t,n){if("number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n){if("number"!==typeof t&&null!==t||void 0!==n)throw new Error("invalid overload");return e.internal.IntegerHelper.toString$int(t)}return e.internal.IntegerHelper.toString$int$int(t,n)},r.valueOf$int=function(e){if(e>-129&&e<128){var t=e+128,n=r.BoxedValues.boxedValues_$LI$()[t];return null==n&&(n=r.BoxedValues.boxedValues_$LI$()[t]=new Number(e)),n}return new Number(e)},r.valueOf$java_lang_String=function(e){return r.valueOf$java_lang_String$int(e,10)},r.valueOf$java_lang_String$int=function(e,t){return r.valueOf$int(r.parseInt(e,t))},r.valueOf=function(t,n){if("string"!==typeof t&&null!==t||"number"!==typeof n&&null!==n){if("string"!==typeof t&&null!==t||void 0!==n){if("number"!==typeof t&&null!==t||void 0!==n)throw new Error("invalid overload");return e.internal.IntegerHelper.valueOf$int(t)}return e.internal.IntegerHelper.valueOf$java_lang_String(t)}return e.internal.IntegerHelper.valueOf$java_lang_String$int(t,n)},r.toRadixString=function(e,t){return e.toString(t)},r.toUnsignedRadixString=function(e,t){return(e>>>0).toString(t)},r.prototype.byteValue=function(){return 0|this.value},r.prototype.compareTo$javaemul_internal_IntegerHelper=function(e){return r.compare(this.value,e.value)},r.prototype.compareTo=function(t){if(null!=t&&t instanceof e.internal.IntegerHelper||null===t)return this.compareTo$javaemul_internal_IntegerHelper(t);throw new Error("invalid overload")},r.prototype.doubleValue=function(){return this.value},r.prototype.equals=function(t){return null!=t&&t instanceof e.internal.IntegerHelper&&t.value===this.value},r.prototype.floatValue=function(){return this.value},r.prototype.hashCode=function(){return r.hashCode(this.value)},r.prototype.intValue=function(){return this.value},r.prototype.longValue=function(){return this.value},r.prototype.shortValue=function(){return 0|this.value},r.prototype.toString=function(){return r.toString$int(this.value)},r.getInteger=function(e){return r.decode(java.lang.System.getProperty$java_lang_String(e))},r.MAX_VALUE=2147483647,r.MIN_VALUE=-2147483648,r.SIZE=32,r}(e.internal.NumberHelper);t.IntegerHelper=n,n.__class="javaemul.internal.IntegerHelper",n.__interfaces=["java.lang.Comparable","java.io.Serializable"],function(e){var t=function(){function e(){}return e.boxedValues_$LI$=function(){return null==e.boxedValues&&(e.boxedValues=function(e){for(var t=[];e-- >0;)t.push(null);return t}(256)),e.boxedValues},e}();e.BoxedValues=t,t.__class="javaemul.internal.IntegerHelper.BoxedValues";var n=function(){function e(){}return e.reverseNibbles_$LI$=function(){return null==e.reverseNibbles&&(e.reverseNibbles=[0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15]),e.reverseNibbles},e}();e.ReverseNibbles=n,n.__class="javaemul.internal.IntegerHelper.ReverseNibbles"}(n=t.IntegerHelper||(t.IntegerHelper={}))}(e.internal||(e.internal={}))}(javaemul||(javaemul={})),function(e){!function(t){var n=function(n){function r(e){var t=this;if("string"===typeof e||null===e){void 0===(t=n.call(this)||this).value&&(t.value=0),t.value=r.parseLong(e)}else{if("number"!==typeof e&&null!==e)throw new Error("invalid overload");var i=arguments[0];void 0===(t=n.call(this)||this).value&&(t.value=0),t.value=i}return t}return __extends(r,n),r.bitCount=function(t){var n=t>>32|0,r=0|t;return e.internal.IntegerHelper.bitCount(n)+e.internal.IntegerHelper.bitCount(r)},r.compare=function(e,t){return e<t?-1:e>t?1:0},r.decode=function(e){var n=t.NumberHelper.__decodeNumberString(e);return r.valueOf$java_lang_String$int(n.payload,n.radix)},r.hashCode=function(e){return 0|e},r.highestOneBit=function(t){var n,r=t>>32|0;return 0!==r?((n=e.internal.IntegerHelper.highestOneBit(r))<0?Math.ceil(n):Math.floor(n))<<32:4294967295&e.internal.IntegerHelper.highestOneBit(0|t)},r.lowestOneBit=function(e){return e&-e},r.numberOfLeadingZeros=function(t){var n=t>>32|0;return 0!==n?e.internal.IntegerHelper.numberOfLeadingZeros(n):e.internal.IntegerHelper.numberOfLeadingZeros(0|t)+32},r.numberOfTrailingZeros=function(t){var n=0|t;return 0!==n?e.internal.IntegerHelper.numberOfTrailingZeros(n):e.internal.IntegerHelper.numberOfTrailingZeros(t>>32|0)+32},r.parseLong=function(e,n){return void 0===n&&(n=10),t.NumberHelper.__parseAndValidateLong(e,n)},r.reverse=function(t){var n,r=t>>>32|0,i=0|t;return((n=e.internal.IntegerHelper.reverse(i))<0?Math.ceil(n):Math.floor(n))<<32|4294967295&e.internal.IntegerHelper.reverse(r)},r.reverseBytes=function(t){var n,r=t>>>32|0,i=0|t;return((n=e.internal.IntegerHelper.reverseBytes(i))<0?Math.ceil(n):Math.floor(n))<<32|4294967295&e.internal.IntegerHelper.reverseBytes(r)},r.rotateLeft=function(e,t){for(;t-- >0;)e=e<<1|(e<0?1:0);return e},r.rotateRight=function(e,t){for(var n=e&r.MAX_VALUE,i=e<0?0x4000000000000000:0;t-- >0;){var o=1&n;n=i|n>>1,i=0===o?0:0x4000000000000000}return 0!==i&&(n|=r.MIN_VALUE),n},r.signum=function(e){return 0===e?0:e<0?-1:1},r.toBinaryString=function(e){return r.toPowerOfTwoUnsignedString(e,1)},r.toHexString=function(e){return r.toPowerOfTwoUnsignedString(e,4)},r.toOctalString=function(e){return r.toPowerOfTwoUnsignedString(e,3)},r.toString$long=function(e){return new String(e).toString()},r.toString$long$int=function(t,n){if(10===n||n<e.internal.CharacterHelper.MIN_RADIX||n>e.internal.CharacterHelper.MAX_RADIX)return new String(t).toString();var r=0|t;if(r===t)return e.internal.IntegerHelper.toString$int$int(r,n);var i=t<0;i||(t=-t);var o,a,s,l=n<8?65:23,u=function(e){for(var t=[];e-- >0;)t.push(null);return t}(l),c=l,f=n;do{var h=(o=t/f)<0?Math.ceil(o):Math.floor(o);u[--c]=e.internal.CharacterHelper.forDigit$int(f*h-t|0),t=h}while(0!==t);return i&&(u[--c]="-"),a=c,s=l-c,u.join("").substring(a,a+s)},r.toString=function(t,n){if("number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n){if("number"!==typeof t&&null!==t||void 0!==n)throw new Error("invalid overload");return e.internal.LongHelper.toString$long(t)}return e.internal.LongHelper.toString$long$int(t,n)},r.valueOf$long=function(e){if(e>-129&&e<128){var t=128+(0|e),n=r.BoxedValues.boxedValues_$LI$()[t];return null==n&&(n=r.BoxedValues.boxedValues_$LI$()[t]=new Number(e)),n}return new Number(e)},r.valueOf$java_lang_String=function(e){return r.valueOf$java_lang_String$int(e,10)},r.valueOf$java_lang_String$int=function(e,t){return r.valueOf$long(r.parseLong(e,t))},r.valueOf=function(t,n){if("string"!==typeof t&&null!==t||"number"!==typeof n&&null!==n){if("string"!==typeof t&&null!==t||void 0!==n){if("number"!==typeof t&&null!==t||void 0!==n)throw new Error("invalid overload");return e.internal.LongHelper.valueOf$long(t)}return e.internal.LongHelper.valueOf$java_lang_String(t)}return e.internal.LongHelper.valueOf$java_lang_String$int(t,n)},r.toPowerOfTwoUnsignedString=function(t,n){var r=1<<n;if(e.internal.IntegerHelper.MIN_VALUE<=t&&t<=e.internal.IntegerHelper.MAX_VALUE)return e.internal.IntegerHelper.toString$int$int(0|t,r);var i,o,a=r-1,s=1+(64/n|0),l=function(e){for(var t=[];e-- >0;)t.push(null);return t}(s),u=s;do{l[--u]=e.internal.CharacterHelper.forDigit$int((0|t)&a),t>>>=n}while(0!==t);return i=u,o=s-u,l.join("").substring(i,i+o)},r.prototype.byteValue=function(){return 0|this.value},r.prototype.compareTo$javaemul_internal_LongHelper=function(e){return r.compare(this.value,e.value)},r.prototype.compareTo=function(t){if(null!=t&&t instanceof e.internal.LongHelper||null===t)return this.compareTo$javaemul_internal_LongHelper(t);throw new Error("invalid overload")},r.prototype.doubleValue=function(){return this.value},r.prototype.equals=function(t){return null!=t&&t instanceof e.internal.LongHelper&&t.value===this.value},r.prototype.floatValue=function(){return this.value},r.prototype.hashCode=function(){return r.hashCode(this.value)},r.prototype.intValue=function(){return 0|this.value},r.prototype.longValue=function(){return this.value},r.prototype.shortValue=function(){return 0|this.value},r.prototype.toString=function(){return r.toString$long(this.value)},r.MAX_VALUE=0x8000000000000000,r.MIN_VALUE=-0x8000000000000000,r.SIZE=64,r}(e.internal.NumberHelper);t.LongHelper=n,n.__class="javaemul.internal.LongHelper",n.__interfaces=["java.lang.Comparable","java.io.Serializable"],function(e){var t=function(){function e(){}return e.boxedValues_$LI$=function(){return null==e.boxedValues&&(e.boxedValues=function(e){for(var t=[];e-- >0;)t.push(null);return t}(256)),e.boxedValues},e}();e.BoxedValues=t,t.__class="javaemul.internal.LongHelper.BoxedValues"}(n=t.LongHelper||(t.LongHelper={}))}(e.internal||(e.internal={}))}(javaemul||(javaemul={})),function(e){!function(t){var n=function(){function t(n){if("string"===typeof n||null===n){var r=new e.io.StringReader(n);void 0===this.reader&&(this.reader=null),void 0===this.matcher&&(this.matcher=null),void 0===this.nextDelimiterWithPattern&&(this.nextDelimiterWithPattern=null),this.currentDelimiter=t.whiteSpacePattern_$LI$(),this.buf=function(e){for(var t=[];e-- >0;)t.push(null);return t}(1024),this.bufferFilledLength=0,this.currentPosition=0,this.nextTokenStart=0,this.nextDelimiterStart=-1,this.nextDelimiterEnd=-1,this.defaultRadix=10,this.closed=!1,this.reader=r,void 0===this.reader&&(this.reader=null),void 0===this.matcher&&(this.matcher=null),void 0===this.nextDelimiterWithPattern&&(this.nextDelimiterWithPattern=null),this.currentDelimiter=t.whiteSpacePattern_$LI$(),this.buf=function(e){for(var t=[];e-- >0;)t.push(null);return t}(1024),this.bufferFilledLength=0,this.currentPosition=0,this.nextTokenStart=0,this.nextDelimiterStart=-1,this.nextDelimiterEnd=-1,this.defaultRadix=10,this.closed=!1}else if(null!=n&&n instanceof e.io.InputStream||null===n){var i=arguments[0];r=new e.io.InputStreamReader(i);void 0===this.reader&&(this.reader=null),void 0===this.matcher&&(this.matcher=null),void 0===this.nextDelimiterWithPattern&&(this.nextDelimiterWithPattern=null),this.currentDelimiter=t.whiteSpacePattern_$LI$(),this.buf=function(e){for(var t=[];e-- >0;)t.push(null);return t}(1024),this.bufferFilledLength=0,this.currentPosition=0,this.nextTokenStart=0,this.nextDelimiterStart=-1,this.nextDelimiterEnd=-1,this.defaultRadix=10,this.closed=!1,this.reader=r,void 0===this.reader&&(this.reader=null),void 0===this.matcher&&(this.matcher=null),void 0===this.nextDelimiterWithPattern&&(this.nextDelimiterWithPattern=null),this.currentDelimiter=t.whiteSpacePattern_$LI$(),this.buf=function(e){for(var t=[];e-- >0;)t.push(null);return t}(1024),this.bufferFilledLength=0,this.currentPosition=0,this.nextTokenStart=0,this.nextDelimiterStart=-1,this.nextDelimiterEnd=-1,this.defaultRadix=10,this.closed=!1}else{if(!(null!=n&&n instanceof e.io.Reader||null===n))throw new Error("invalid overload");r=arguments[0];void 0===this.reader&&(this.reader=null),void 0===this.matcher&&(this.matcher=null),void 0===this.nextDelimiterWithPattern&&(this.nextDelimiterWithPattern=null),this.currentDelimiter=t.whiteSpacePattern_$LI$(),this.buf=function(e){for(var t=[];e-- >0;)t.push(null);return t}(1024),this.bufferFilledLength=0,this.currentPosition=0,this.nextTokenStart=0,this.nextDelimiterStart=-1,this.nextDelimiterEnd=-1,this.defaultRadix=10,this.closed=!1,this.reader=r}}return t.prototype.forEachRemaining=function(e){var t,n=this;for(javaemul.internal.InternalPreconditions.checkNotNull(e);this.hasNext();)"function"===typeof(t=e)?t(n.next()):t.accept(n.next())},t.prototype.remove=function(){throw new e.lang.UnsupportedOperationException},t.numeral_$LI$=function(){return null==t.numeral&&(t.numeral=t.digit+"+"),t.numeral},t.decimalNumeral_$LI$=function(){return null==t.decimalNumeral&&(t.decimalNumeral="(?:"+t.numeral_$LI$()+"|"+t.numeral_$LI$()+t.decimalSeparator+t.digit+"*|"+t.decimalSeparator+t.digit+"+)"),t.decimalNumeral},t.exponent_$LI$=function(){return null==t.exponent&&(t.exponent="(?:[eE][+-]?"+t.digit+"+)"),t.exponent},t.decimal_$LI$=function(){return null==t.decimal&&(t.decimal="(?:[-+]?"+t.decimalNumeral_$LI$()+t.exponent_$LI$()+"?)"),t.decimal},t.signedNonNumber_$LI$=function(){return null==t.signedNonNumber&&(t.signedNonNumber="(?:[-+]?"+t.nonNumber+")"),t.signedNonNumber},t.booleanPattern_$LI$=function(){return null==t.booleanPattern&&(t.booleanPattern=e.util.regex.Pattern.compile("true|TRUE|True|1|false|FALSE|False|0")),t.booleanPattern},t.integerPattern_$LI$=function(){return null==t.integerPattern&&(t.integerPattern=e.util.regex.Pattern.compile("[-+]?"+t.numeral_$LI$())),t.integerPattern},t.floatPattern_$LI$=function(){return null==t.floatPattern&&(t.floatPattern=e.util.regex.Pattern.compile(t.decimal_$LI$()+"|"+t.hexFloat+"|"+t.signedNonNumber_$LI$())),t.floatPattern},t.endLinePattern_$LI$=function(){return null==t.endLinePattern&&(t.endLinePattern=e.util.regex.Pattern.compile("[\\n\\r]+")),t.endLinePattern},t.whiteSpacePattern_$LI$=function(){return null==t.whiteSpacePattern&&(t.whiteSpacePattern=e.util.regex.Pattern.compile("\\s+")),t.whiteSpacePattern},t.prototype.close=function(){this.closed=!0,this.reader.close()},t.prototype.delimiter=function(){return this.currentDelimiter},t.prototype.useDelimiter$java_lang_String=function(t){return this.useDelimiter$java_util_regex_Pattern(e.util.regex.Pattern.compile$java_lang_String(t))},t.prototype.useDelimiter=function(t){if("string"===typeof t||null===t)return this.useDelimiter$java_lang_String(t);if(null!=t&&t instanceof e.util.regex.Pattern||null===t)return this.useDelimiter$java_util_regex_Pattern(t);throw new Error("invalid overload")},t.prototype.useDelimiter$java_util_regex_Pattern=function(e){return this.currentDelimiter=e,this},t.prototype.hasNext$=function(){return(!this.closed||this.currentPosition!==this.bufferFilledLength)&&(-1!==this.nextDelimiterStart&&this.nextDelimiterWithPattern===this.currentDelimiter||(this.searchNextTo$java_util_regex_Pattern(this.currentDelimiter),this.nextDelimiterWithPattern=this.currentDelimiter),this.currentPosition!==this.bufferFilledLength)},t.prototype.searchNextTo$java_util_regex_Pattern=function(e){this.searchNextTo$java_util_regex_Pattern$boolean(e,!1)},t.prototype.searchNextTo$java_util_regex_Pattern$boolean=function(t,n){try{for(this.nextTokenStart=0;!this.closed||this.bufferFilledLength!==this.currentPosition+this.nextTokenStart;){if(this.matcher=t.matcher((o=this.buf.join(""),a=this.currentPosition+this.nextTokenStart,s=this.bufferFilledLength-this.currentPosition-this.nextTokenStart,o.substring(a,a+s))),this.matcher.find$()){if(this.matcher.start$()>0||n)return this.nextDelimiterStart=this.currentPosition+this.nextTokenStart+this.matcher.start$(),void(this.nextDelimiterEnd=this.currentPosition+this.nextTokenStart+this.matcher.end$());if(this.nextTokenStart+=this.matcher.end$(),this.currentPosition+this.nextTokenStart<this.bufferFilledLength)continue}if(this.buf.length===this.bufferFilledLength){if(this.currentPosition<(this.buf.length/2|0)){var r=function(e){for(var t=[];e-- >0;)t.push(null);return t}(2*this.buf.length);e.lang.System.arraycopy(this.buf,this.currentPosition,r,0,this.bufferFilledLength-this.currentPosition),this.buf=r}else e.lang.System.arraycopy(this.buf,this.currentPosition,this.buf,0,this.bufferFilledLength-this.currentPosition);this.bufferFilledLength-=this.currentPosition,this.currentPosition=0,this.nextDelimiterStart=this.nextDelimiterEnd=-1}if(this.closed)break;var i=this.reader.read$char_A$int$int(this.buf,this.bufferFilledLength,this.buf.length-this.bufferFilledLength);if(i<=0)try{this.close()}catch(l){}else this.bufferFilledLength+=i}}catch(l){try{this.close()}catch(u){}}var o,a,s;this.nextDelimiterStart=this.nextDelimiterEnd=this.bufferFilledLength},t.prototype.searchNextTo=function(t,n){if(!(null!=t&&t instanceof e.util.regex.Pattern||null===t)||"boolean"!==typeof n&&null!==n){if((null!=t&&t instanceof e.util.regex.Pattern||null===t)&&void 0===n)return this.searchNextTo$java_util_regex_Pattern(t);throw new Error("invalid overload")}return this.searchNextTo$java_util_regex_Pattern$boolean(t,n)},t.prototype.next=function(){if(!this.hasNext$())throw new e.util.NoSuchElementException("No more token");var t,n,r,i=(t=this.buf.join(""),n=this.currentPosition+this.nextTokenStart,r=this.nextDelimiterStart-this.currentPosition-this.nextTokenStart,t.substring(n,n+r));return this.currentPosition=this.nextDelimiterStart,this.nextDelimiterStart=this.nextDelimiterEnd=-1,i},t.prototype.hasNext$java_util_regex_Pattern=function(e){return this.hasNext$()&&e.matcher((t=this.buf.join(""),n=this.currentPosition+this.nextTokenStart,r=this.nextDelimiterStart-this.currentPosition-this.nextTokenStart,t.substring(n,n+r))).matches();var t,n,r},t.prototype.hasNext=function(t){if(null!=t&&t instanceof e.util.regex.Pattern||null===t)return this.hasNext$java_util_regex_Pattern(t);if("string"===typeof t||null===t)return this.hasNext$java_lang_String(t);if(void 0===t)return this.hasNext$();throw new Error("invalid overload")},t.prototype.hasNext$java_lang_String=function(t){return this.hasNext$()&&e.util.regex.Pattern.matches(t,(n=this.buf.join(""),r=this.currentPosition+this.nextTokenStart,i=this.nextDelimiterStart-this.currentPosition-this.nextTokenStart,n.substring(r,r+i)));var n,r,i},t.prototype.radix=function(){return this.defaultRadix},t.prototype.hasNextBoolean=function(){return this.hasNext$java_util_regex_Pattern(t.booleanPattern_$LI$())},t.prototype.nextBoolean=function(){if(!this.hasNextBoolean())throw new e.util.InputMismatchException("Next token is not a boolean");var t,n=this.next().charAt(0);return(null==(t=n).charCodeAt?t:t.charCodeAt(0))=="t".charCodeAt(0)||function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(n)=="T".charCodeAt(0)||function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(n)=="1".charCodeAt(0)},t.prototype.hasNextByte=function(){return this.hasNext$java_util_regex_Pattern(t.integerPattern_$LI$())},t.prototype.nextByte=function(){if(!this.hasNextByte())throw new e.util.InputMismatchException("Next token is not a byte");return javaemul.internal.ByteHelper.parseByte(this.next())},t.prototype.hasNextDouble=function(){return this.hasNext$java_util_regex_Pattern(t.floatPattern_$LI$())},t.prototype.nextDouble=function(){if(!this.hasNextDouble())throw new e.util.InputMismatchException("Next token is not a double");return javaemul.internal.DoubleHelper.parseDouble(this.next())},t.prototype.hasNextFloat=function(){return this.hasNext$java_util_regex_Pattern(t.floatPattern_$LI$())},t.prototype.nextFloat=function(){if(!this.hasNextFloat())throw new e.util.InputMismatchException("Next token is not a float");return javaemul.internal.FloatHelper.parseFloat(this.next())},t.prototype.hasNextInt=function(){return this.hasNext$java_util_regex_Pattern(t.integerPattern_$LI$())},t.prototype.nextInt=function(){if(!this.hasNextInt())throw new e.util.InputMismatchException("Next token is not a int");return javaemul.internal.IntegerHelper.parseInt(this.next())},t.prototype.hasNextLine=function(){return(!this.closed||this.currentPosition!==this.bufferFilledLength)&&(-1!==this.nextDelimiterStart&&this.nextDelimiterWithPattern===t.endLinePattern_$LI$()||(this.searchNextTo$java_util_regex_Pattern$boolean(t.endLinePattern_$LI$(),!0),this.nextDelimiterWithPattern=t.endLinePattern_$LI$()),this.currentPosition!==this.bufferFilledLength)},t.prototype.nextLine=function(){if(!this.hasNextLine())throw new e.util.InputMismatchException("No new line");var t,n,r,i=(t=this.buf.join(""),n=this.currentPosition,r=this.nextDelimiterStart-this.currentPosition,t.substring(n,n+r));return this.currentPosition=this.nextDelimiterEnd,this.nextDelimiterStart=this.nextDelimiterEnd=-1,i},t.prototype.hasNextLong=function(){return this.hasNext$java_util_regex_Pattern(t.integerPattern_$LI$())},t.prototype.nextLong=function(){if(!this.hasNextLong())throw new e.util.InputMismatchException("Next token is not a long");return javaemul.internal.LongHelper.parseLong(this.next())},t.prototype.hasNextShort=function(){return this.hasNext$java_util_regex_Pattern(t.integerPattern_$LI$())},t.prototype.nextShort=function(){if(!this.hasNextShort())throw new e.util.InputMismatchException("Next token is not a short");return javaemul.internal.ShortHelper.parseShort(this.next())},t.prototype.reset=function(){return this.useDelimiter$java_util_regex_Pattern(t.whiteSpacePattern_$LI$())},t.prototype.skip$java_lang_String=function(t){return this.skip$java_util_regex_Pattern(e.util.regex.Pattern.compile$java_lang_String(t))},t.prototype.skip=function(t){if("string"===typeof t||null===t)return this.skip$java_lang_String(t);if(null!=t&&t instanceof e.util.regex.Pattern||null===t)return this.skip$java_util_regex_Pattern(t);throw new Error("invalid overload")},t.prototype.skip$java_util_regex_Pattern=function(t){if(this.closed&&this.currentPosition===this.bufferFilledLength)throw new e.util.NoSuchElementException("No more token");if(this.searchNextTo$java_util_regex_Pattern$boolean(t,!0),this.nextDelimiterStart!==this.currentPosition)throw new e.util.NoSuchElementException("The specified pattern was not found");return this.currentPosition=this.nextDelimiterEnd,this.nextDelimiterStart=this.nextDelimiterEnd=-1,this},t.prototype.findInLine$java_lang_String=function(t){return this.findInLine$java_util_regex_Pattern(e.util.regex.Pattern.compile$java_lang_String(t))},t.prototype.findInLine=function(t){if("string"===typeof t||null===t)return this.findInLine$java_lang_String(t);if(null!=t&&t instanceof e.util.regex.Pattern||null===t)return this.findInLine$java_util_regex_Pattern(t);throw new Error("invalid overload")},t.prototype.findInLine$java_util_regex_Pattern=function(e){return this.hasNextLine()?(this.matcher=e.matcher((t=this.buf.join(""),n=this.currentPosition,r=this.nextDelimiterStart-this.currentPosition,t.substring(n,n+r))),this.matcher.find$()?(this.nextLine(),this.matcher.group$()):(this.nextDelimiterStart=this.nextDelimiterEnd=-1,null)):null;var t,n,r},t.prototype.match=function(){if(null==this.matcher)throw new e.lang.IllegalStateException("No match result is available");return this.matcher},t.digit="[\\d]",t.decimalSeparator="[.,]",t.hexFloat="(?:[-+]?0[xX][0-9a-fA-F]*\\.[0-9a-fA-F]+(?:[pP][-+]?[0-9]+)?)",t.nonNumber="(?:NaN|Infinity)",t}();t.Scanner=n,n.__class="java.util.Scanner",n.__interfaces=["java.util.Iterator","java.io.Closeable","java.lang.AutoCloseable"]}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(t){function n(){return t.call(this)||this}return __extends(n,t),n.prototype.stream=function(){return new javaemul.internal.stream.StreamHelper(this)},n.prototype.forEach=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=function(t){var n,r=t.next();"function"===typeof(n=e)?n(r):n.accept(r)},n=this.iterator();n.hasNext();)t(n)},n.prototype.parallelStream=function(){return this.stream()},n.prototype.removeIf=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=!1,n=function(n){var r;("function"===typeof(r=e)?r(n.next()):r.test(n.next()))&&(n.remove(),t=!0)},r=this.iterator();r.hasNext();)n(r);return t},n.prototype.equals=function(e){if(e===this)return!0;if(!(null!=e&&null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("java.util.Set")>=0))return!1;var t=e;return t.size()===this.size()&&this.containsAll(t)},n.prototype.hashCode=function(){return e.util.Collections.hashCode$java_lang_Iterable(this)},n.prototype.removeAll=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);var t=this.size();if(t<e.size())for(var n=this.iterator();n.hasNext();){var r=n.next();e.contains(r)&&n.remove()}else for(var i=e.iterator();i.hasNext();){var o=i.next();this.remove(o)}return t!==this.size()},n}(e.util.AbstractCollection);t.AbstractSet=n,n.__class="java.util.AbstractSet",n.__interfaces=["java.util.Collection","java.util.Set","java.lang.Iterable"]}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(t){function n(){var e=t.call(this)||this;return void 0===e.modCount&&(e.modCount=0),e}return __extends(n,t),n.prototype.stream=function(){return new javaemul.internal.stream.StreamHelper(this)},n.prototype.forEach=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=function(t){var n,r=t.next();"function"===typeof(n=e)?n(r):n.accept(r)},n=this.iterator();n.hasNext();)t(n)},n.prototype.parallelStream=function(){return this.stream()},n.prototype.sort=function(t){var n=this.toArray();e.util.Arrays.sort(n,t);for(var r=this.listIterator(),i=0;i<n.length;i++){var o=n[i];r.next(),r.set(o)}},n.prototype.removeIf=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=!1,n=function(n){var r;("function"===typeof(r=e)?r(n.next()):r.test(n.next()))&&(n.remove(),t=!0)},r=this.iterator();r.hasNext();)n(r);return t},n.prototype.add$java_lang_Object=function(e){return this.add(this.size(),e),!0},n.prototype.add$int$java_lang_Object=function(t,n){throw new e.lang.UnsupportedOperationException("Add not supported on this list")},n.prototype.add=function(e,t){if("number"!==typeof e&&null!==e||null==t&&null!==t){if(null==e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.add$java_lang_Object(e)}return this.add$int$java_lang_Object(e,t)},n.prototype.addAll$int$java_util_Collection=function(e,t){javaemul.internal.InternalPreconditions.checkNotNull(t);for(var n=!1,r=t.iterator();r.hasNext();){var i=r.next();this.add(e++,i),n=!0}return n},n.prototype.addAll=function(e,n){if("number"!==typeof e&&null!==e||!(null!=n&&null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("java.util.Collection")>=0||null===n)){if((null!=e&&null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("java.util.Collection")>=0||null===e)&&void 0===n)return t.prototype.addAll.call(this,e);throw new Error("invalid overload")}return this.addAll$int$java_util_Collection(e,n)},n.prototype.clear=function(){this.removeRange(0,this.size())},n.prototype.equals=function(t){if(t===this)return!0;if(!(null!=t&&null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.util.List")>=0))return!1;var n=t;if(this.size()!==n.size())return!1;for(var r=n.iterator(),i=this.iterator();i.hasNext();){var o=i.next(),a=r.next();if(!e.util.Objects.equals(o,a))return!1}return!0},n.prototype.hashCode=function(){return e.util.Collections.hashCode$java_lang_Iterable(this)},n.prototype.indexOf=function(t){for(var n=0,r=this.size();n<r;++n)if(e.util.Objects.equals(t,this.get(n)))return n;return-1},n.prototype.iterator=function(){return new n.IteratorImpl(this)},n.prototype.lastIndexOf=function(t){for(var n=this.size()-1;n>-1;--n)if(e.util.Objects.equals(t,this.get(n)))return n;return-1},n.prototype.listIterator$=function(){return this.listIterator$int(0)},n.prototype.listIterator$int=function(e){return new n.ListIteratorImpl(this,e)},n.prototype.listIterator=function(e){if("number"===typeof e||null===e)return this.listIterator$int(e);if(void 0===e)return this.listIterator$();throw new Error("invalid overload")},n.prototype.remove$int=function(t){throw new e.lang.UnsupportedOperationException("Remove not supported on this list")},n.prototype.remove=function(e){if("number"===typeof e||null===e)return this.remove$int(e);if(null!=e||null===e)return t.prototype.remove.call(this,e);throw new Error("invalid overload")},n.prototype.set=function(t,n){throw new e.lang.UnsupportedOperationException("Set not supported on this list")},n.prototype.subList=function(e,t){return new n.SubList(this,e,t)},n.prototype.removeRange=function(e,t){for(var n=this.listIterator$int(e),r=e;r<t;++r)n.next(),n.remove()},n}(e.util.AbstractCollection);t.AbstractList=n,n.__class="java.util.AbstractList",n.__interfaces=["java.util.List","java.util.Collection","java.lang.Iterable"],function(t){var n=function(){function e(e){this.__parent=e,void 0===this.i&&(this.i=0),void 0===this.last&&(this.last=0),this.i=0,this.last=-1}return e.prototype.forEachRemaining=function(e){var t,n=this;for(javaemul.internal.InternalPreconditions.checkNotNull(e);this.hasNext();)"function"===typeof(t=e)?t(n.next()):t.accept(n.next())},e.prototype.hasNext=function(){return this.i<this.__parent.size()},e.prototype.next=function(){return javaemul.internal.InternalPreconditions.checkElement(this.hasNext()),this.__parent.get(this.last=this.i++)},e.prototype.remove=function(){javaemul.internal.InternalPreconditions.checkState(-1!==this.last),this.__parent.remove$int(this.last),this.i=this.last,this.last=-1},e}();t.IteratorImpl=n,n.__class="java.util.AbstractList.IteratorImpl",n.__interfaces=["java.util.Iterator"];var r=function(e){function t(t,n,r){var i=e.call(this)||this;return void 0===i.wrapped&&(i.wrapped=null),void 0===i.fromIndex&&(i.fromIndex=0),void 0===i.__size&&(i.__size=0),javaemul.internal.InternalPreconditions.checkCriticalPositionIndexes(n,r,t.size()),i.wrapped=t,i.fromIndex=n,i.__size=r-n,i}return __extends(t,e),t.prototype.add$int$java_lang_Object=function(e,t){javaemul.internal.InternalPreconditions.checkPositionIndex(e,this.__size),this.wrapped.add(this.fromIndex+e,t),this.__size++},t.prototype.add=function(e,t){if("number"!==typeof e&&null!==e||null==t&&null!==t){if(null==e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.add$java_lang_Object(e)}return this.add$int$java_lang_Object(e,t)},t.prototype.get=function(e){return javaemul.internal.InternalPreconditions.checkElementIndex(e,this.__size),this.wrapped.get(this.fromIndex+e)},t.prototype.remove$int=function(e){javaemul.internal.InternalPreconditions.checkElementIndex(e,this.__size);var t=this.wrapped.remove$int(this.fromIndex+e);return this.__size--,t},t.prototype.remove=function(t){if("number"===typeof t||null===t)return this.remove$int(t);if(null!=t||null===t)return e.prototype.remove.call(this,t);throw new Error("invalid overload")},t.prototype.set=function(e,t){return javaemul.internal.InternalPreconditions.checkElementIndex(e,this.__size),this.wrapped.set(this.fromIndex+e,t)},t.prototype.size=function(){return this.__size},t}(e.util.AbstractList);t.SubList=r,r.__class="java.util.AbstractList.SubList",r.__interfaces=["java.util.List","java.util.Collection","java.lang.Iterable"];var i=function(e){function t(t,n){var r=this;if("number"===typeof n||null===n)Array.prototype.slice.call(arguments,[1]),r=e.call(this,t)||this,javaemul.internal.InternalPreconditions.checkPositionIndex(n,t.size()),r.i=n;else{if(void 0!==n)throw new Error("invalid overload");Array.prototype.slice.call(arguments,[1]),r=e.call(this,t)||this}return r}return __extends(t,e),t.prototype.forEachRemaining=function(e){var t,n=this;for(javaemul.internal.InternalPreconditions.checkNotNull(e);this.hasNext();)"function"===typeof(t=e)?t(n.next()):t.accept(n.next())},t.prototype.add=function(e){this.__parent.add(this.i,e),this.i++,this.last=-1},t.prototype.hasPrevious=function(){return this.i>0},t.prototype.nextIndex=function(){return this.i},t.prototype.previous=function(){return javaemul.internal.InternalPreconditions.checkElement(this.hasPrevious()),this.__parent.get(this.last=--this.i)},t.prototype.previousIndex=function(){return this.i-1},t.prototype.set=function(e){javaemul.internal.InternalPreconditions.checkState(-1!==this.last),this.__parent.set(this.last,e)},t}(t.IteratorImpl);t.ListIteratorImpl=i,i.__class="java.util.AbstractList.ListIteratorImpl",i.__interfaces=["java.util.Iterator","java.util.ListIterator"]}(n=t.AbstractList||(t.AbstractList={}))}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.stream=function(){return new javaemul.internal.stream.StreamHelper(this)},t.prototype.forEach=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=function(t){var n,r=t.next();"function"===typeof(n=e)?n(r):n.accept(r)},n=this.iterator();n.hasNext();)t(n)},t.prototype.parallelStream=function(){return this.stream()},t.prototype.removeIf=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=!1,n=function(n){var r;("function"===typeof(r=e)?r(n.next()):r.test(n.next()))&&(n.remove(),t=!0)},r=this.iterator();r.hasNext();)n(r);return t},t.prototype.add=function(e){return javaemul.internal.InternalPreconditions.checkState(this.offer(e),"Unable to add element to queue"),!0},t.prototype.addAll=function(t){return javaemul.internal.InternalPreconditions.checkNotNull(t),javaemul.internal.InternalPreconditions.checkArgument(t!==this,"Can't add a queue to itself"),e.prototype.addAll.call(this,t)},t.prototype.clear=function(){for(;null!=this.poll(););},t.prototype.element=function(){var e=this.peek();return javaemul.internal.InternalPreconditions.checkElement(null!=e,"Queue is empty"),e},t.prototype.remove=function(t){if(null!=t||null===t)return e.prototype.remove.call(this,t);if(void 0===t)return this.remove$();throw new Error("invalid overload")},t.prototype.remove$=function(){var e=this.poll();return javaemul.internal.InternalPreconditions.checkElement(null!=e,"Queue is empty"),e},t}(e.util.AbstractCollection);t.AbstractQueue=n,n.__class="java.util.AbstractQueue",n.__interfaces=["java.util.Collection","java.util.Queue","java.lang.Iterable"]}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(t){function n(e){var r=this;if(null!=e&&null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("java.util.Collection")>=0||null===e){var i=e.size();void 0===(r=t.call(this)||this).head&&(r.head=0),void 0===r.tail&&(r.tail=0),r.array=function(e){for(var t=[];e-- >0;)t.push(null);return t}(n.MIN_INITIAL_CAPACITY),javaemul.internal.ArrayHelper.setLength(r.array,n.nextArrayLength(i)),void 0===r.head&&(r.head=0),void 0===r.tail&&(r.tail=0),r.array=function(e){for(var t=[];e-- >0;)t.push(null);return t}(n.MIN_INITIAL_CAPACITY),r.addAll(e)}else if("number"===typeof e||null===e){i=arguments[0];void 0===(r=t.call(this)||this).head&&(r.head=0),void 0===r.tail&&(r.tail=0),r.array=function(e){for(var t=[];e-- >0;)t.push(null);return t}(n.MIN_INITIAL_CAPACITY),javaemul.internal.ArrayHelper.setLength(r.array,n.nextArrayLength(i))}else{if(void 0!==e)throw new Error("invalid overload");void 0===(r=t.call(this)||this).head&&(r.head=0),void 0===r.tail&&(r.tail=0),r.array=function(e){for(var t=[];e-- >0;)t.push(null);return t}(n.MIN_INITIAL_CAPACITY)}return r}return __extends(n,t),n.prototype.stream=function(){return new javaemul.internal.stream.StreamHelper(this)},n.prototype.forEach=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=function(t){var n,r=t.next();"function"===typeof(n=e)?n(r):n.accept(r)},n=this.iterator();n.hasNext();)t(n)},n.prototype.parallelStream=function(){return this.stream()},n.prototype.removeIf=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=!1,n=function(n){var r;("function"===typeof(r=e)?r(n.next()):r.test(n.next()))&&(n.remove(),t=!0)},r=this.iterator();r.hasNext();)n(r);return t},n.checkConcurrentModification=function(t){if(!t)throw new e.util.ConcurrentModificationException},n.nextArrayLength=function(e){return n.nextPowerOfTwo(Math.max(n.MIN_INITIAL_CAPACITY,e))},n.nextPowerOfTwo=function(e){return javaemul.internal.IntegerHelper.highestOneBit(e)<<1},n.prototype.add=function(e){return this.addLast(e),!0},n.prototype.addFirst=function(e){javaemul.internal.InternalPreconditions.checkCriticalNotNull(e),this.head=this.head-1&this.array.length-1,this.array[this.head]=e,this.ensureCapacity()},n.prototype.addLast=function(e){javaemul.internal.InternalPreconditions.checkCriticalNotNull(e),this.array[this.tail]=e,this.tail=this.tail+1&this.array.length-1,this.ensureCapacity()},n.prototype.clear=function(){this.head!==this.tail&&(this.array=function(e){for(var t=[];e-- >0;)t.push(null);return t}(n.MIN_INITIAL_CAPACITY),this.head=0,this.tail=0)},n.prototype.clone=function(){return new n(this)},n.prototype.contains$java_lang_Object=function(e){return this.contains$java_util_Iterator$java_lang_Object(this.iterator(),e)},n.prototype.descendingIterator=function(){return new n.DescendingIteratorImpl(this)},n.prototype.element=function(){return this.getFirst()},n.prototype.getFirst=function(){var e=this.peekFirstElement();return javaemul.internal.InternalPreconditions.checkElement(null!=e),e},n.prototype.getLast=function(){var e=this.peekLastElement();return javaemul.internal.InternalPreconditions.checkElement(null!=e),e},n.prototype.isEmpty=function(){return this.head===this.tail},n.prototype.iterator=function(){return new n.IteratorImpl(this)},n.prototype.offer=function(e){return this.offerLast(e)},n.prototype.offerFirst=function(e){return this.addFirst(e),!0},n.prototype.offerLast=function(e){return this.addLast(e),!0},n.prototype.peek=function(){return this.peekFirst()},n.prototype.peekFirst=function(){return this.peekFirstElement()},n.prototype.peekLast=function(){return this.peekLastElement()},n.prototype.poll=function(){return this.pollFirst()},n.prototype.pollFirst=function(){var e=this.peekFirstElement();return null==e?null:(this.array[this.head]=null,this.head=this.head+1&this.array.length-1,e)},n.prototype.pollLast=function(){var e=this.peekLastElement();return null==e?null:(this.tail=this.tail-1&this.array.length-1,this.array[this.tail]=null,e)},n.prototype.pop=function(){return this.removeFirst()},n.prototype.push=function(e){this.addFirst(e)},n.prototype.remove$=function(){return this.removeFirst()},n.prototype.remove$java_lang_Object=function(e){return this.removeFirstOccurrence(e)},n.prototype.removeFirst=function(){var e=this.pollFirst();return javaemul.internal.InternalPreconditions.checkElement(null!=e),e},n.prototype.removeFirstOccurrence=function(e){return this.remove$java_util_Iterator$java_lang_Object(this.iterator(),e)},n.prototype.removeLast=function(){var e=this.pollLast();return javaemul.internal.InternalPreconditions.checkElement(null!=e),e},n.prototype.removeLastOccurrence=function(e){return this.remove$java_util_Iterator$java_lang_Object(this.descendingIterator(),e)},n.prototype.size=function(){return this.tail-this.head&this.array.length-1},n.prototype.toArray$java_lang_Object_A=function(e){var t=this.size();return e.length<t&&(e=javaemul.internal.ArrayHelper.createFrom(e,t)),this.copyElements(e,t),e.length>t&&(e[t]=null),e},n.prototype.toArray=function(e){if(null!=e&&e instanceof Array&&(0==e.length||null==e[0]||null!=e[0])||null===e)return this.toArray$java_lang_Object_A(e);if(void 0===e)return this.toArray$();throw new Error("invalid overload")},n.prototype.contains$java_util_Iterator$java_lang_Object=function(e,t){if(null==t)return!1;for(;e.hasNext();)if(n=t,r=e.next(),n&&n.equals?n.equals(r):n===r)return!0;var n,r;return!1},n.prototype.contains=function(e,t){if(!(null!=e&&null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("java.util.Iterator")>=0||null===e)||null==t&&null!==t){if(null==e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.contains$java_lang_Object(e)}return this.contains$java_util_Iterator$java_lang_Object(e,t)},n.prototype.remove$java_util_Iterator$java_lang_Object=function(e,t){return!!this.contains$java_util_Iterator$java_lang_Object(e,t)&&(e.remove(),!0)},n.prototype.remove=function(e,t){if(!(null!=e&&null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("java.util.Iterator")>=0||null===e)||null==t&&null!==t){if(null==e&&null!==e||void 0!==t){if(void 0===e&&void 0===t)return this.remove$();throw new Error("invalid overload")}return this.remove$java_lang_Object(e)}return this.remove$java_util_Iterator$java_lang_Object(e,t)},n.prototype.peekFirstElement=function(){return this.array[this.head]},n.prototype.peekLastElement=function(){return this.array[this.tail-1&this.array.length-1]},n.prototype.copyElements=function(e,t){for(var n=this.array.length-1,r=this.head,i=0;i<t;r=r+1&n,++i)e[i]=this.array[r]},n.prototype.ensureCapacity=function(){if(this.head===this.tail){var e=this.array.length,t=n.nextArrayLength(e);if(0!==this.head){var r=javaemul.internal.ArrayHelper.createFrom(this.array,t);this.copyElements(r,e),this.array=r,this.head=0}else javaemul.internal.ArrayHelper.setLength(this.array,t);this.tail=e}},n.prototype.removeAtIndex=function(e){var t=this.array.length-1,r=e-this.head&t,i=this.tail-e&t,o=this.tail-this.head&t;return n.checkConcurrentModification(r<o),r>=i?(this.shiftLeftAtIndex(e),-1):(this.shiftRightAtIndex(e),1)},n.prototype.shiftLeftAtIndex=function(e){var t=this.array.length-1;for(this.tail=this.tail-1&t;e!==this.tail;){var n=e+1&t;this.array[e]=this.array[n],e=n}this.array[this.tail]=null},n.prototype.shiftRightAtIndex=function(e){for(var t=this.array.length-1;e!==this.head;){var n=e-1&t;this.array[e]=this.array[n],e=n}this.array[this.head]=null,this.head=this.head+1&t},n.MIN_INITIAL_CAPACITY=8,n}(e.util.AbstractCollection);t.ArrayDeque=n,n.__class="java.util.ArrayDeque",n.__interfaces=["java.lang.Cloneable","java.util.Collection","java.util.Queue","java.util.Deque","java.lang.Iterable"],function(e){var t=function(){function t(e){this.__parent=e,this.currentIndex=this.__parent.head,this.fence=this.__parent.tail,this.lastIndex=-1}return t.prototype.forEachRemaining=function(e){var t,n=this;for(javaemul.internal.InternalPreconditions.checkNotNull(e);this.hasNext();)"function"===typeof(t=e)?t(n.next()):t.accept(n.next())},t.prototype.hasNext=function(){return this.currentIndex!==this.fence},t.prototype.next=function(){javaemul.internal.InternalPreconditions.checkCriticalElement(this.hasNext());var t=this.__parent.array[this.currentIndex];return e.checkConcurrentModification(this.fence===this.__parent.tail&&null!=t),this.lastIndex=this.currentIndex,this.currentIndex=this.currentIndex+1&this.__parent.array.length-1,t},t.prototype.remove=function(){javaemul.internal.InternalPreconditions.checkState(this.lastIndex>=0),this.__parent.removeAtIndex(this.lastIndex)<0&&(this.currentIndex=this.currentIndex-1&this.__parent.array.length-1,this.fence=this.__parent.tail),this.lastIndex=-1},t}();e.IteratorImpl=t,t.__class="java.util.ArrayDeque.IteratorImpl",t.__interfaces=["java.util.Iterator"];var n=function(){function t(e){this.__parent=e,this.currentIndex=this.__parent.tail,this.fence=this.__parent.head,this.lastIndex=-1}return t.prototype.forEachRemaining=function(e){var t,n=this;for(javaemul.internal.InternalPreconditions.checkNotNull(e);this.hasNext();)"function"===typeof(t=e)?t(n.next()):t.accept(n.next())},t.prototype.hasNext=function(){return this.currentIndex!==this.fence},t.prototype.next=function(){javaemul.internal.InternalPreconditions.checkCriticalElement(this.hasNext()),this.currentIndex=this.currentIndex-1&this.__parent.array.length-1;var t=this.__parent.array[this.currentIndex];return e.checkConcurrentModification(this.fence===this.__parent.head&&null!=t),this.lastIndex=this.currentIndex,t},t.prototype.remove=function(){javaemul.internal.InternalPreconditions.checkState(this.lastIndex>=0),this.__parent.removeAtIndex(this.lastIndex)>0&&(this.currentIndex=this.currentIndex+1&this.__parent.array.length-1,this.fence=this.__parent.head),this.lastIndex=-1},t}();e.DescendingIteratorImpl=n,n.__class="java.util.ArrayDeque.DescendingIteratorImpl",n.__interfaces=["java.util.Iterator"]}(n=t.ArrayDeque||(t.ArrayDeque={}))}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(){function n(e,t){if("string"!==typeof e&&null!==e||"boolean"!==typeof t&&null!==t)if("string"!==typeof e&&null!==e||void 0!==t)if("boolean"!==typeof e&&null!==e||void 0!==t){if(void 0!==e||void 0!==t)throw new Error("invalid overload");var r="Timer-"+ ++n.nextSerialNumber;void 0===this.name&&(this.name=null),this.timeouts=new Array,this.intervals=new Array,this.name=r,void 0===this.name&&(this.name=null),this.timeouts=new Array,this.intervals=new Array}else{arguments[0];var i="Timer-"+ ++n.nextSerialNumber;void 0===this.name&&(this.name=null),this.timeouts=new Array,this.intervals=new Array,this.name=i,void 0===this.name&&(this.name=null),this.timeouts=new Array,this.intervals=new Array,void 0===this.name&&(this.name=null),this.timeouts=new Array,this.intervals=new Array}else{void 0===this.name&&(this.name=null),this.timeouts=new Array,this.intervals=new Array,this.name=e,void 0===this.name&&(this.name=null),this.timeouts=new Array,this.intervals=new Array}else{void 0===this.name&&(this.name=null),this.timeouts=new Array,this.intervals=new Array,this.name=e}}return n.prototype.schedule$java_util_TimerTask$long=function(n,r){if(r<0)throw new e.lang.IllegalArgumentException("Negative delay.");this.schedule$java_util_TimerTask$java_util_Date(n,new t.Date(e.lang.System.currentTimeMillis()+r))},n.prototype.schedule$java_util_TimerTask$java_util_Date=function(t,n){var r=this;t.nextExecutionTime=n.getTime(),t.handle=0|window.setTimeout(function(){t.state!==e.util.TimerTask.CANCELLED&&(t.run(),t.state=e.util.TimerTask.EXECUTED),r.timeouts.splice(r.timeouts.indexOf(t),1)},n.getTime()-e.lang.System.currentTimeMillis()),this.timeouts.push(t),t.state=e.util.TimerTask.SCHEDULED},n.prototype.schedule$java_util_TimerTask$long$long=function(n,r,i){if(r<0)throw new e.lang.IllegalArgumentException("Negative delay.");this.schedule$java_util_TimerTask$java_util_Date$long(n,new t.Date(e.lang.System.currentTimeMillis()+r),i)},n.prototype.schedule$java_util_TimerTask$java_util_Date$long=function(t,n,r){var i=this;if(r<=0)throw new e.lang.IllegalArgumentException("Non-positive period.");t.period=r,t.nextExecutionTime=n.getTime(),t.handle=0|window.setTimeout(function(){t.state!==e.util.TimerTask.CANCELLED?(t.run(),i.schedule$java_util_TimerTask$long$long(t,r,r)):i.timeouts.splice(i.timeouts.indexOf(t),1)},n.getTime()-e.lang.System.currentTimeMillis()),this.timeouts.push(t),t.state=e.util.TimerTask.SCHEDULED},n.prototype.schedule=function(n,r,i){if((null!=n&&n instanceof e.util.TimerTask||null===n)&&(null!=r&&r instanceof t.Date||null===r)&&("number"===typeof i||null===i))return this.schedule$java_util_TimerTask$java_util_Date$long(n,r,i);if(!(null!=n&&n instanceof e.util.TimerTask||null===n)||"number"!==typeof r&&null!==r||"number"!==typeof i&&null!==i){if((null!=n&&n instanceof e.util.TimerTask||null===n)&&(null!=r&&r instanceof t.Date||null===r)&&void 0===i)return this.schedule$java_util_TimerTask$java_util_Date(n,r);if(!(null!=n&&n instanceof e.util.TimerTask||null===n)||"number"!==typeof r&&null!==r||void 0!==i)throw new Error("invalid overload");return this.schedule$java_util_TimerTask$long(n,r)}return this.schedule$java_util_TimerTask$long$long(n,r,i)},n.prototype.scheduleAtFixedRate$java_util_TimerTask$long$long=function(n,r,i){if(r<0)throw new e.lang.IllegalArgumentException("Negative delay.");this.scheduleAtFixedRate$java_util_TimerTask$java_util_Date$long(n,new t.Date(e.lang.System.currentTimeMillis()+r),i)},n.prototype.scheduleAtFixedRate$java_util_TimerTask$java_util_Date$long=function(t,r,i){if(i<=0)throw new e.lang.IllegalArgumentException("Non-positive period.");t.period=i,t.nextExecutionTime=r.getTime();var o=new n.Timer$0(this,t);this.schedule$java_util_TimerTask$java_util_Date(o,r),t.handle=o.handle},n.prototype.scheduleAtFixedRate=function(n,r,i){if((null!=n&&n instanceof e.util.TimerTask||null===n)&&(null!=r&&r instanceof t.Date||null===r)&&("number"===typeof i||null===i))return this.scheduleAtFixedRate$java_util_TimerTask$java_util_Date$long(n,r,i);if(!(null!=n&&n instanceof e.util.TimerTask||null===n)||"number"!==typeof r&&null!==r||"number"!==typeof i&&null!==i)throw new Error("invalid overload");return this.scheduleAtFixedRate$java_util_TimerTask$long$long(n,r,i)},n.prototype.cancel=function(){for(var e=0;e<this.timeouts.length;e++){var t=this.timeouts[e];clearTimeout(t.handle)}for(var n=0;n<this.intervals.length;n++){t=this.intervals[n];clearInterval(t.handle)}this.intervals=new Array,this.timeouts=new Array},n.prototype.purge=function(){var t=this.timeouts.filter(function(t){return t.handle!==e.util.TimerTask.EXECUTED&&t.handle!==e.util.TimerTask.CANCELLED}),n=this.intervals.filter(function(t){return t.handle!==e.util.TimerTask.EXECUTED&&t.handle!==e.util.TimerTask.CANCELLED}),r=this.timeouts.length-t.length+this.intervals.length-n.length;return this.timeouts=t,this.intervals=n,r},n.nextSerialNumber=0,n}();t.Timer=n,n.__class="java.util.Timer",function(t){var n=function(t){function n(e,n){var r=t.call(this)||this;return r.task=n,r.__parent=e,r}return __extends(n,t),n.prototype.run=function(){var t=this;this.task.state!==e.util.TimerTask.CANCELLED&&(this.task.nextExecutionTime=e.lang.System.currentTimeMillis()+this.task.period,this.task.handle=0|window.setInterval(function(){t.task.state!==e.util.TimerTask.CANCELLED?(t.task.nextExecutionTime=e.lang.System.currentTimeMillis()+t.task.period,t.task.run()):(clearInterval(t.task.handle),t.__parent.intervals.splice(t.__parent.intervals.indexOf(t.task),1))},this.task.period),this.__parent.intervals.push(this.task),this.task.run())},n}(e.util.TimerTask);t.Timer$0=n,n.__interfaces=["java.lang.Runnable"]}(n=t.Timer||(t.Timer={}))}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(){function t(){}return t.CASE_INSENSITIVE_ORDER_$LI$=function(){return null==t.CASE_INSENSITIVE_ORDER&&(t.CASE_INSENSITIVE_ORDER=function(e,t){return e.toUpperCase().localeCompare(t.toUpperCase())}),t.CASE_INSENSITIVE_ORDER},t.copyValueOf$char_A=function(e){return t.valueOf$char_A(e)},t.copyValueOf$char_A$int$int=function(e,n,r){return t.valueOf$char_A$int$int(e,n,r)},t.copyValueOf=function(t,n,r){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"string"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if((null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"string"===typeof t[0])||null===t)&&void 0===n&&void 0===r)return e.internal.StringHelper.copyValueOf$char_A(t);throw new Error("invalid overload")}return e.internal.StringHelper.copyValueOf$char_A$int$int(t,n,r)},t.valueOf$boolean=function(e){return""+e},t.valueOf$char=function(e){return""+e},t.valueOf$char_A$int$int=function(t,n,r){var i=n+r;e.internal.InternalPreconditions.checkStringBounds(n,i,t.length);for(var o=e.internal.ArrayHelper.ARRAY_PROCESS_BATCH_SIZE,a="",s=n;s<i;){var l=Math.min(s+o,i);a+=e.internal.ArrayHelper.unsafeClone(t,s,l).join(""),s=l}return a},t.valueOf=function(t,n,r){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"string"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if((null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"string"===typeof t[0])||null===t)&&void 0===n&&void 0===r)return e.internal.StringHelper.valueOf$char_A(t);if("boolean"!==typeof t&&null!==t||void 0!==n||void 0!==r){if("string"!==typeof t&&null!==t||void 0!==n||void 0!==r){if("number"!==typeof t&&null!==t||void 0!==n||void 0!==r){if("number"!==typeof t&&null!==t||void 0!==n||void 0!==r){if("number"!==typeof t&&null!==t||void 0!==n||void 0!==r){if("number"!==typeof t&&null!==t||void 0!==n||void 0!==r){if(null==t&&null!==t||void 0!==n||void 0!==r)throw new Error("invalid overload");return e.internal.StringHelper.valueOf$java_lang_Object(t)}return e.internal.StringHelper.valueOf$double(t)}return e.internal.StringHelper.valueOf$float(t)}return e.internal.StringHelper.valueOf$long(t)}return e.internal.StringHelper.valueOf$int(t)}return e.internal.StringHelper.valueOf$char(t)}return e.internal.StringHelper.valueOf$boolean(t)}return e.internal.StringHelper.valueOf$char_A$int$int(t,n,r)},t.fromCharCode=function(e){return String.fromCharCode(0|e)},t.valueOf$char_A=function(e){return t.valueOf$char_A$int$int(e,0,e.length)},t.valueOf$double=function(e){return""+e},t.valueOf$float=function(e){return""+e},t.valueOf$int=function(e){return""+e},t.valueOf$long=function(e){return""+e},t.valueOf$java_lang_Object=function(e){return null==e?"null":e.toString()},t.translateReplaceString=function(e){for(var t,n=0;0<=(n=e.indexOf("\\",n));)t=e.charAt(n+1),e=(null==t.charCodeAt?t:t.charCodeAt(0))=="$".charCodeAt(0)?e.substring(0,n)+"$"+e.substring(++n):e.substring(0,n)+e.substring(++n);return e},t.compareTo=function(e,t){return e==t?0:e<t?-1:1},t.getCharset=function(e){try{return java.nio.charset.Charset.forName(e)}catch(t){throw new java.io.UnsupportedEncodingException(e)}},t.fromCodePoint=function(t){if(t>=e.internal.CharacterHelper.MIN_SUPPLEMENTARY_CODE_POINT){var n=e.internal.CharacterHelper.getHighSurrogate(t),r=e.internal.CharacterHelper.getLowSurrogate(t);return new String(n).toString()+new String(r).toString()}return new String(String.fromCharCode(t)).toString()},t.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return""},t.join=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];java.util.Objects.requireNonNull(e),java.util.Objects.requireNonNull(t);for(var r=new java.util.StringJoiner(e),i=0;i<t.length;i++){var o=t[i];r.add(o)}return r.toString()},t}();t.StringHelper=n,n.__class="javaemul.internal.StringHelper"}(e.internal||(e.internal={}))}(javaemul||(javaemul={})),function(e){!function(t){var n=function(n){function r(e,t,r,i,o,a,s){var l=this;if("number"!==typeof e&&null!==e||"number"!==typeof t&&null!==t||"number"!==typeof r&&null!==r||"number"!==typeof i&&null!==i||"number"!==typeof o&&null!==o||"number"!==typeof a&&null!==a||"number"!==typeof s&&null!==s){if("number"!==typeof e&&null!==e||void 0!==t||void 0!==r||void 0!==i||void 0!==o||void 0!==a||void 0!==s)throw new Error("invalid overload");var u=arguments[0];void 0===(l=n.call(this,u)||this).nanos&&(l.nanos=0),l.nanos=1e6*(u%1e3|0)}else{void 0===(l=n.call(this,e,t,r,i,o,a)||this).nanos&&(l.nanos=0),l.setNanos(s)}return l}return __extends(r,n),r.valueOf=function(t){var n=t.split(" ");if(2!==n.length)throw new e.lang.IllegalArgumentException("Invalid escape format: "+t);var i=n[1].split("\\."),o=!0,a=0;if(1===i.length)o=!1;else if(2!==i.length)throw new e.lang.IllegalArgumentException("Invalid escape format: "+t);var s=e.sql.Date.valueOf(n[0]),l=e.sql.Time.valueOf(i[0]);if(o){var u=i[1],c=u.length;if(c>9)throw new e.lang.IllegalArgumentException("Invalid escape format: "+t);c<9&&(u+="00000000".substring(c-1));try{a=javaemul.internal.IntegerHelper.valueOf(u)}catch(f){throw new e.lang.IllegalArgumentException("Invalid escape format: "+t)}}return new r(s.getYear(),s.getMonth(),s.getDate(),l.getHours(),l.getMinutes(),l.getSeconds(),a)},r.padNine=function(t){var n=new e.lang.StringBuilder("000000000"),r=new String(t).toString();return(n=n.replace(9-r.length,9,r)).toString()},r.prototype.after$java_sql_Timestamp=function(e){return this.getTime()>e.getTime()||this.getTime()===e.getTime()&&this.getNanos()>e.getNanos()},r.prototype.after=function(r){if(null!=r&&r instanceof e.sql.Timestamp||null===r)return this.after$java_sql_Timestamp(r);if(null!=r&&r instanceof t.Date||null===r)return n.prototype.after.call(this,r);throw new Error("invalid overload")},r.prototype.before$java_sql_Timestamp=function(e){return this.getTime()<e.getTime()||this.getTime()===e.getTime()&&this.getNanos()<e.getNanos()},r.prototype.before=function(r){if(null!=r&&r instanceof e.sql.Timestamp||null===r)return this.before$java_sql_Timestamp(r);if(null!=r&&r instanceof t.Date||null===r)return n.prototype.before.call(this,r);throw new Error("invalid overload")},r.prototype.compareTo$java_util_Date=function(t){return null!=t&&t instanceof e.sql.Timestamp?this.compareTo$java_sql_Timestamp(t):this.compareTo$java_sql_Timestamp(new r(t.getTime()))},r.prototype.compareTo$java_sql_Timestamp=function(e){var t=this.getTime()-e.getTime();return 0===t?this.getNanos()-e.getNanos():t},r.prototype.compareTo=function(n){if(null!=n&&n instanceof e.sql.Timestamp||null===n)return this.compareTo$java_sql_Timestamp(n);if(null!=n&&n instanceof t.Date||null===n)return this.compareTo$java_util_Date(n);throw new Error("invalid overload")},r.prototype.equals$java_lang_Object=function(t){return null!=t&&t instanceof e.sql.Timestamp&&this.equals$java_sql_Timestamp(t)},r.prototype.equals$java_sql_Timestamp=function(e){return null!=e&&this.getTime()===e.getTime()&&this.getNanos()===e.getNanos()},r.prototype.equals=function(t){if(null!=t&&t instanceof e.sql.Timestamp||null===t)return this.equals$java_sql_Timestamp(t);if(null!=t||null===t)return this.equals$java_lang_Object(t);throw new Error("invalid overload")},r.prototype.getNanos=function(){return this.nanos},r.prototype.getTime=function(){return n.prototype.getTime.call(this)},r.prototype.hashCode=function(){return(e=this).hashCode?e.hashCode():e.toString().split("").reduce(function(e,t){return(e<<5)-e+t.charCodeAt(0)|0},0);var e},r.prototype.setNanos=function(t){if(t<0||t>999999999)throw new e.lang.IllegalArgumentException("nanos out of range "+t);this.nanos=t,n.prototype.setTime.call(this,1e3*function(e){return e<0?Math.ceil(e):Math.floor(e)}(this.getTime()/1e3)+(this.nanos/1e6|0))},r.prototype.setTime=function(e){n.prototype.setTime.call(this,e),this.nanos=1e6*(e%1e3|0)},r}(e.util.Date);t.Timestamp=n,n.__class="java.sql.Timestamp",n.__interfaces=["java.lang.Cloneable","java.lang.Comparable","java.io.Serializable"]}(e.sql||(e.sql={}))}(java||(java={})),function(e){!function(t){var n=function(t){function n(e,n,r){var i=this;if("number"!==typeof e&&null!==e||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if("number"!==typeof e&&null!==e||void 0!==n||void 0!==r)throw new Error("invalid overload");var o=arguments[0];i=t.call(this,o)||this}else{i=t.call(this,70,0,1,e,n,r)||this}return i}return __extends(n,t),n.valueOf=function(t){var r=t.split(":");if(3!==r.length)throw new e.lang.IllegalArgumentException("Invalid escape format: "+t);try{return new n(javaemul.internal.IntegerHelper.parseInt(r[0]),javaemul.internal.IntegerHelper.parseInt(r[1]),javaemul.internal.IntegerHelper.parseInt(r[2]))}catch(i){throw new e.lang.IllegalArgumentException("Invalid escape format: "+t)}},n.prototype.getDate=function(){throw new e.lang.IllegalArgumentException},n.prototype.getDay=function(){throw new e.lang.IllegalArgumentException},n.prototype.getMonth=function(){throw new e.lang.IllegalArgumentException},n.prototype.getYear=function(){throw new e.lang.IllegalArgumentException},n.prototype.setDate=function(t){throw new e.lang.IllegalArgumentException},n.prototype.setMonth=function(t){throw new e.lang.IllegalArgumentException},n.prototype.setYear=function(t){throw new e.lang.IllegalArgumentException},n}(e.util.Date);t.Time=n,n.__class="java.sql.Time",n.__interfaces=["java.lang.Cloneable","java.lang.Comparable","java.io.Serializable"]}(e.sql||(e.sql={}))}(java||(java={})),function(e){!function(t){var n=function(t){function n(e,n,r){var i=this;if("number"!==typeof e&&null!==e||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if("number"!==typeof e&&null!==e||void 0!==n||void 0!==r)throw new Error("invalid overload");var o=arguments[0];i=t.call(this,o)||this}else{i=t.call(this,e,n,r)||this}return i}return __extends(n,t),n.valueOf=function(t){var r=t.split("-");if(3!==r.length)throw new e.lang.IllegalArgumentException("Invalid escape format: "+t);try{return new n(javaemul.internal.IntegerHelper.parseInt(r[0])-1900,javaemul.internal.IntegerHelper.parseInt(r[1])-1,javaemul.internal.IntegerHelper.parseInt(r[2]))}catch(i){throw new e.lang.IllegalArgumentException("Invalid escape format: "+t)}},n.prototype.getHours=function(){throw new e.lang.IllegalArgumentException},n.prototype.getMinutes=function(){throw new e.lang.IllegalArgumentException},n.prototype.getSeconds=function(){throw new e.lang.IllegalArgumentException},n.prototype.setHours=function(t){throw new e.lang.IllegalArgumentException},n.prototype.setMinutes=function(t){throw new e.lang.IllegalArgumentException},n.prototype.setSeconds=function(t){throw new e.lang.IllegalArgumentException},n}(e.util.Date);t.Date=n,n.__class="java.sql.Date",n.__interfaces=["java.lang.Cloneable","java.lang.Comparable","java.io.Serializable"]}(e.sql||(e.sql={}))}(java||(java={})),function(e){var t;(function(t){var n=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),n.prototype.publish=function(e){if(this.isLoggable(e)){var t=this.toConsoleLogLevel(e.getLevel());console.log(t,e.getMessage()),null!=e.getThrown()&&console.log(t,e.getThrown())}},n.prototype.toConsoleLogLevel=function(t){var n=t.intValue();return n>=e.util.logging.Level.SEVERE_$LI$().intValue()?"error":n>=e.util.logging.Level.WARNING_$LI$().intValue()?"warn":n>=e.util.logging.Level.INFO_$LI$().intValue()?"info":"log"},n.prototype.close=function(){},n.prototype.flush=function(){},n}(e.util.logging.Handler);t.SimpleConsoleLogHandler=n,n.__class="java.util.logging.SimpleConsoleLogHandler"})((t=e.util||(e.util={})).logging||(t.logging={}))}(java||(java={})),function(e){!function(t){var n=function(){function t(t){this.backingMap=e.util.InternalJsMapFactory.newJsMap(),void 0===this.host&&(this.host=null),void 0===this.size&&(this.size=0),void 0===this.valueMod&&(this.valueMod=0),this.host=t}return t.prototype.forEach=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=function(t){var n,r=t.next();"function"===typeof(n=e)?n(r):n.accept(r)},n=this.iterator();n.hasNext();)t(n)},t.prototype.contains=function(e){return!javaemul.internal.JsUtils.isUndefined(this.backingMap.get(e))},t.prototype.get=function(e){return this.backingMap.get(e)},t.prototype.put=function(n,r){var i=this.backingMap.get(n);return this.backingMap.set(n,t.toNullIfUndefined(r)),javaemul.internal.JsUtils.isUndefined(i)?(this.size++,e.util.ConcurrentModificationDetector.structureChanged(this.host)):this.valueMod++,i},t.prototype.remove=function(t){var n=this.backingMap.get(t);return javaemul.internal.JsUtils.isUndefined(n)?this.valueMod++:(this.backingMap.delete(t),this.size--,e.util.ConcurrentModificationDetector.structureChanged(this.host)),n},t.prototype.getSize=function(){return this.size},t.prototype.iterator=function(){return new t.InternalStringMap$0(this)},t.prototype.newMapEntry=function(e,n){return new t.InternalStringMap$1(this,e,n)},t.toNullIfUndefined=function(e){return javaemul.internal.JsUtils.isUndefined(e)?null:e},t}();t.InternalStringMap=n,n.__class="java.util.InternalStringMap",n.__interfaces=["java.lang.Iterable"],function(t){var n=function(){function e(e){this.__parent=e,this.entries=this.__parent.backingMap.entries(),this.current=this.entries.next(),void 0===this.last&&(this.last=null)}return e.prototype.forEachRemaining=function(e){var t,n=this;for(javaemul.internal.InternalPreconditions.checkNotNull(e);this.hasNext();)"function"===typeof(t=e)?t(n.next()):t.accept(n.next())},e.prototype.hasNext=function(){return!this.current.done},e.prototype.next=function(){return this.last=this.current,this.current=this.entries.next(),this.__parent.newMapEntry(this.last,this.__parent.valueMod)},e.prototype.remove=function(){this.__parent.remove(this.last.value[0])},e}();t.InternalStringMap$0=n,n.__interfaces=["java.util.Iterator"];var r=function(e){function t(t,n,r){var i=e.call(this)||this;return i.entry=n,i.lastValueMod=r,i.__parent=t,i}return __extends(t,e),t.prototype.getKey=function(){return this.entry.value[0]},t.prototype.getValue=function(){return this.__parent.valueMod!==this.lastValueMod?this.__parent.get(this.entry.value[0]):this.entry.value[1]},t.prototype.setValue=function(e){return this.__parent.put(this.entry.value[0],e)},t}(e.util.AbstractMapEntry);t.InternalStringMap$1=r,r.__interfaces=["java.util.Map.Entry"]}(n=t.InternalStringMap||(t.InternalStringMap={}))}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(t){function n(e){var n=t.call(this)||this;return void 0===n.algorithm&&(n.algorithm=null),n.algorithm=e,n}return __extends(n,t),n.getInstance=function(t){if("MD5"===t)return new n.Md5Digest;throw new e.security.NoSuchAlgorithmException(t+" not supported")},n.isEqual=function(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;++r)if(e[r]!==t[r])return!1;return!0},n.prototype.digest$=function(){return this.engineDigest$()},n.prototype.digest$byte_A=function(e){return this.update$byte_A(e),this.digest$()},n.prototype.digest$byte_A$int$int=function(e,t,n){return this.engineDigest$byte_A$int$int(e,t,n)},n.prototype.digest=function(e,t,n){if(!(null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"number"===typeof e[0])||null===e)||"number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n){if((null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"number"===typeof e[0])||null===e)&&void 0===t&&void 0===n)return this.digest$byte_A(e);if(void 0===e&&void 0===t&&void 0===n)return this.digest$();throw new Error("invalid overload")}return this.digest$byte_A$int$int(e,t,n)},n.prototype.getAlgorithm=function(){return this.algorithm},n.prototype.getDigestLength=function(){return this.engineGetDigestLength()},n.prototype.reset=function(){this.engineReset()},n.prototype.update$byte=function(e){this.engineUpdate$byte(e)},n.prototype.update$byte_A=function(e){this.engineUpdate$byte_A$int$int(e,0,e.length)},n.prototype.update$byte_A$int$int=function(e,t,n){this.engineUpdate$byte_A$int$int(e,t,n)},n.prototype.update=function(e,t,n){if(!(null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"number"===typeof e[0])||null===e)||"number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n){if((null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"number"===typeof e[0])||null===e)&&void 0===t&&void 0===n)return this.update$byte_A(e);if("number"!==typeof e&&null!==e||void 0!==t||void 0!==n)throw new Error("invalid overload");return this.update$byte(e)}return this.update$byte_A$int$int(e,t,n)},n}(e.security.MessageDigestSpi);t.MessageDigest=n,n.__class="java.security.MessageDigest",function(t){var n=function(t){function n(){var e=t.call(this,"MD5")||this;return void 0===e.buffer&&(e.buffer=null),void 0===e.counter&&(e.counter=0),e.oneByte=[0],void 0===e.remainder&&(e.remainder=0),void 0===e.state&&(e.state=null),void 0===e.x&&(e.x=null),e.engineReset(),e}return __extends(n,t),n.padding_$LI$=function(){return null==n.padding&&(n.padding=[128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),n.padding},n.toBytes=function(e){var t=[0,0,0,0,0,0,0,0];return t[0]=0|e,e>>>=8,t[1]=0|e,e>>>=8,t[2]=0|e,e>>>=8,t[3]=0|e,e>>>=8,t[4]=0|e,e>>>=8,t[5]=0|e,e>>>=8,t[6]=0|e,e>>>=8,t[7]=0|e,t},n.byte2int=function(e,t){for(var n=0,r=0;r<16;r++)t[r]=255&e[n++]|(255&e[n++])<<8|(255&e[n++])<<16|(255&e[n++])<<24},n.f=function(e,t,n){return n^e&(t^n)},n.ff=function(e,t,r,i,o,a,s){return(e=(e+=o+s+n.f(t,r,i))<<a|e>>>-a)+t},n.g=function(e,t,n){return t^n&(e^t)},n.gg=function(e,t,r,i,o,a,s){return(e=(e+=o+s+n.g(t,r,i))<<a|e>>>-a)+t},n.h=function(e,t,n){return e^t^n},n.hh=function(e,t,r,i,o,a,s){return(e=(e+=o+s+n.h(t,r,i))<<a|e>>>-a)+t},n.i=function(e,t,n){return t^(e|~n)},n.ii=function(e,t,r,i,o,a,s){return(e=(e+=o+s+n.i(t,r,i))<<a|e>>>-a)+t},n.int2byte=function(e,t){for(var n=0,r=0;n<4;n++)t[r++]=255&e[n]|0,t[r++]=e[n]>>>8&255|0,t[r++]=e[n]>>>16&255|0,t[r++]=e[n]>>>24&255|0},n.prototype.engineDigest=function(e,n,r){if(!(null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"number"===typeof e[0])||null===e)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if(void 0===e&&void 0===n&&void 0===r)return this.engineDigest$();throw new Error("invalid overload")}return t.prototype.engineDigest.call(this,e,n,r)},n.prototype.engineDigest$=function(){var e=n.toBytes(this.counter<<3),t=function(e){for(var t=[];e-- >0;)t.push(0);return t}(16);return this.remainder>8?this.engineUpdate$byte_A$int$int(n.padding_$LI$(),0,this.remainder-8):this.engineUpdate$byte_A$int$int(n.padding_$LI$(),0,this.remainder-8+64),this.engineUpdate$byte_A$int$int(e,0,8),n.int2byte(this.state,t),this.reset(),t},n.prototype.engineGetDigestLength=function(){return 16},n.prototype.engineReset=function(){this.buffer=function(e){for(var t=[];e-- >0;)t.push(0);return t}(64),this.state=[0,0,0,0],this.x=function(e){for(var t=[];e-- >0;)t.push(0);return t}(16),this.state[0]=1732584193,this.state[1]=-271733879,this.state[2]=-1732584194,this.state[3]=271733878,this.counter=0,this.remainder=64},n.prototype.engineUpdate$byte=function(e){this.oneByte[0]=e,this.engineUpdate$byte_A$int$int(this.oneByte,0,1)},n.prototype.engineUpdate$byte_A$int$int=function(t,n,r){for(;;){if(!(r>=this.remainder)){e.lang.System.arraycopy(t,n,this.buffer,63&this.counter|0,r),this.counter+=r,this.remainder-=r;break}e.lang.System.arraycopy(t,n,this.buffer,63&this.counter|0,this.remainder),this.transform(this.buffer),this.counter+=this.remainder,n+=this.remainder,r-=this.remainder,this.remainder=64}},n.prototype.engineUpdate=function(e,t,n){if(!(null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"number"===typeof e[0])||null===e)||"number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n){if("number"!==typeof e&&null!==e||void 0!==t||void 0!==n)throw new Error("invalid overload");return this.engineUpdate$byte(e)}return this.engineUpdate$byte_A$int$int(e,t,n)},n.prototype.transform=function(e){var t,r,i,o;n.byte2int(e,this.x),t=this.state[0],r=this.state[1],i=this.state[2],o=this.state[3],t=n.ff(t,r,i,o,this.x[0],7,-680876936),o=n.ff(o,t,r,i,this.x[1],12,-389564586),i=n.ff(i,o,t,r,this.x[2],17,606105819),r=n.ff(r,i,o,t,this.x[3],22,-1044525330),t=n.ff(t,r,i,o,this.x[4],7,-176418897),o=n.ff(o,t,r,i,this.x[5],12,1200080426),i=n.ff(i,o,t,r,this.x[6],17,-1473231341),r=n.ff(r,i,o,t,this.x[7],22,-45705983),t=n.ff(t,r,i,o,this.x[8],7,1770035416),o=n.ff(o,t,r,i,this.x[9],12,-1958414417),i=n.ff(i,o,t,r,this.x[10],17,-42063),r=n.ff(r,i,o,t,this.x[11],22,-1990404162),t=n.ff(t,r,i,o,this.x[12],7,1804603682),o=n.ff(o,t,r,i,this.x[13],12,-40341101),i=n.ff(i,o,t,r,this.x[14],17,-1502002290),r=n.ff(r,i,o,t,this.x[15],22,1236535329),t=n.gg(t,r,i,o,this.x[1],5,-165796510),o=n.gg(o,t,r,i,this.x[6],9,-1069501632),i=n.gg(i,o,t,r,this.x[11],14,643717713),r=n.gg(r,i,o,t,this.x[0],20,-373897302),t=n.gg(t,r,i,o,this.x[5],5,-701558691),o=n.gg(o,t,r,i,this.x[10],9,38016083),i=n.gg(i,o,t,r,this.x[15],14,-660478335),r=n.gg(r,i,o,t,this.x[4],20,-405537848),t=n.gg(t,r,i,o,this.x[9],5,568446438),o=n.gg(o,t,r,i,this.x[14],9,-1019803690),i=n.gg(i,o,t,r,this.x[3],14,-187363961),r=n.gg(r,i,o,t,this.x[8],20,1163531501),t=n.gg(t,r,i,o,this.x[13],5,-1444681467),o=n.gg(o,t,r,i,this.x[2],9,-51403784),i=n.gg(i,o,t,r,this.x[7],14,1735328473),r=n.gg(r,i,o,t,this.x[12],20,-1926607734),t=n.hh(t,r,i,o,this.x[5],4,-378558),o=n.hh(o,t,r,i,this.x[8],11,-2022574463),i=n.hh(i,o,t,r,this.x[11],16,1839030562),r=n.hh(r,i,o,t,this.x[14],23,-35309556),t=n.hh(t,r,i,o,this.x[1],4,-1530992060),o=n.hh(o,t,r,i,this.x[4],11,1272893353),i=n.hh(i,o,t,r,this.x[7],16,-155497632),r=n.hh(r,i,o,t,this.x[10],23,-1094730640),t=n.hh(t,r,i,o,this.x[13],4,681279174),o=n.hh(o,t,r,i,this.x[0],11,-358537222),i=n.hh(i,o,t,r,this.x[3],16,-722521979),r=n.hh(r,i,o,t,this.x[6],23,76029189),t=n.hh(t,r,i,o,this.x[9],4,-640364487),o=n.hh(o,t,r,i,this.x[12],11,-421815835),i=n.hh(i,o,t,r,this.x[15],16,530742520),r=n.hh(r,i,o,t,this.x[2],23,-995338651),t=n.ii(t,r,i,o,this.x[0],6,-198630844),o=n.ii(o,t,r,i,this.x[7],10,1126891415),i=n.ii(i,o,t,r,this.x[14],15,-1416354905),r=n.ii(r,i,o,t,this.x[5],21,-57434055),t=n.ii(t,r,i,o,this.x[12],6,1700485571),o=n.ii(o,t,r,i,this.x[3],10,-1894986606),i=n.ii(i,o,t,r,this.x[10],15,-1051523),r=n.ii(r,i,o,t,this.x[1],21,-2054922799),t=n.ii(t,r,i,o,this.x[8],6,1873313359),o=n.ii(o,t,r,i,this.x[15],10,-30611744),i=n.ii(i,o,t,r,this.x[6],15,-1560198380),r=n.ii(r,i,o,t,this.x[13],21,1309151649),t=n.ii(t,r,i,o,this.x[4],6,-145523070),o=n.ii(o,t,r,i,this.x[11],10,-1120210379),i=n.ii(i,o,t,r,this.x[2],15,718787259),r=n.ii(r,i,o,t,this.x[9],21,-343485551),this.state[0]=javaemul.internal.Coercions.ensureInt(this.state[0]+t),this.state[1]=javaemul.internal.Coercions.ensureInt(this.state[1]+r),this.state[2]=javaemul.internal.Coercions.ensureInt(this.state[2]+i),this.state[3]=javaemul.internal.Coercions.ensureInt(this.state[3]+o)},n}(e.security.MessageDigest);t.Md5Digest=n,n.__class="java.security.MessageDigest.Md5Digest"}(n=t.MessageDigest||(t.MessageDigest={}))}(e.security||(e.security={}))}(java||(java={})),function(e){!function(t){var n=function(t){function n(n,r){var i=this;if(!(null!=n&&n instanceof e.io.OutputStream||null===n)||"string"!==typeof r&&null!==r)if((null!=n&&n instanceof e.io.OutputStream||null===n)&&(null!=r&&r instanceof e.nio.charset.Charset||null===r)){var o=arguments[1];if(void 0===(i=t.call(this,n)||this).out&&(i.out=null),null==o)throw new e.lang.NullPointerException("charset");i.out=n}else{if(!(null!=n&&n instanceof e.io.OutputStream||null===n)||void 0!==r)throw new Error("invalid overload");void 0===(i=t.call(this,n)||this).out&&(i.out=null),i.out=n}else{if(void 0===(i=t.call(this,n)||this).out&&(i.out=null),null==r)throw new e.lang.NullPointerException("charsetName");i.out=n}return i}return __extends(n,t),n.prototype.flushBuffer=function(){this.out.flush()},n.prototype.write$int=function(e){this.out.write$int(e)},n.prototype.write$char_A$int$int=function(e,t,n){for(var r=function(e){for(var t=[];e-- >0;)t.push(0);return t}(n),i=0;i<n;++i)r[i]=0|e[i+t].charCodeAt(0);this.out.write$byte_A$int$int(r,0,n)},n.prototype.write=function(e,t,n){if(!(null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"string"===typeof e[0])||null===e)||"number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n){if("string"!==typeof e&&null!==e||"number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n){if((null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"string"===typeof e[0])||null===e)&&void 0===t&&void 0===n)return this.write$char_A(e);if("string"!==typeof e&&null!==e||void 0!==t||void 0!==n){if("number"!==typeof e&&null!==e||void 0!==t||void 0!==n)throw new Error("invalid overload");return this.write$int(e)}return this.write$java_lang_String(e)}return this.write$java_lang_String$int$int(e,t,n)}return this.write$char_A$int$int(e,t,n)},n.prototype.write$java_lang_String$int$int=function(e,t,n){this.out.write$byte_A$int$int(e.split("").map(function(e){return e.charCodeAt(0)}),t,n)},n.prototype.flush=function(){this.out.flush()},n.prototype.close=function(){this.out.close()},n}(e.io.Writer);t.OutputStreamWriter=n,n.__class="java.io.OutputStreamWriter",n.__interfaces=["java.lang.Appendable","java.io.Closeable","java.lang.AutoCloseable","java.io.Flushable"]}(e.io||(e.io={}))}(java||(java={})),function(e){!function(t){var n=function(e){function t(t){var n=e.call(this)||this;return void 0===n.in&&(n.in=null),n.in=t,n}return __extends(t,e),t.prototype.available=function(){return this.in.available()},t.prototype.close=function(){this.in.close()},t.prototype.mark=function(e){this.in.mark(e)},t.prototype.markSupported=function(){return this.in.markSupported()},t.prototype.read=function(t,n,r){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if((null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)&&void 0===n&&void 0===r)return this.read$byte_A(t);if(void 0===t&&void 0===n&&void 0===r)return this.read$();throw new Error("invalid overload")}return e.prototype.read.call(this,t,n,r)},t.prototype.read$=function(){return this.in.read$()},t.prototype.reset=function(){this.in.reset()},t.prototype.skip=function(e){return this.in.skip(e)},t}(e.io.InputStream);t.FilterInputStream=n,n.__class="java.io.FilterInputStream",n.__interfaces=["java.io.Closeable","java.lang.AutoCloseable"]}(e.io||(e.io={}))}(java||(java={})),function(e){!function(t){var n=function(t){function n(e,n,r){var i=this;if(!(null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"number"===typeof e[0])||null===e)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if(!(null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"number"===typeof e[0])||null===e)||void 0!==n||void 0!==r)throw new Error("invalid overload");var o=-1;void 0===(i=t.call(this)||this).buf&&(i.buf=null),void 0===i.pos&&(i.pos=0),void 0===i._mark&&(i._mark=0),void 0===i.count&&(i.count=0),-1===o&&(o=e.length),i.buf=e,i.pos=0,i._mark=0,i.count=0+o>e.length?e.length:0+o,void 0===i.buf&&(i.buf=null),void 0===i.pos&&(i.pos=0),void 0===i._mark&&(i._mark=0),void 0===i.count&&(i.count=0)}else void 0===(i=t.call(this)||this).buf&&(i.buf=null),void 0===i.pos&&(i.pos=0),void 0===i._mark&&(i._mark=0),void 0===i.count&&(i.count=0),-1===r&&(r=e.length),i.buf=e,i.pos=n,i._mark=n,i.count=n+r>e.length?e.length:n+r;return i}return __extends(n,t),n.prototype.available=function(){return this.count-this.pos},n.prototype.close=function(){},n.prototype.mark=function(e){this._mark=this.pos},n.prototype.markSupported=function(){return!0},n.prototype.read$=function(){return this.read$byte_A$int$int(null,0,0)},n.prototype.read$byte_A$int$int=function(t,n,r){if(null==t)return this.pos<this.count?255&this.buf[this.pos++]:-1;if(e.io.IOUtils.checkOffsetAndCount$byte_A$int$int(t,n,r),this.pos>=this.count)return-1;if(0===r)return 0;var i=this.count-this.pos<r?this.count-this.pos:r;return e.lang.System.arraycopy(this.buf,this.pos,t,n,i),this.pos+=i,i},n.prototype.read=function(e,t,n){if(!(null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"number"===typeof e[0])||null===e)||"number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n){if((null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"number"===typeof e[0])||null===e)&&void 0===t&&void 0===n)return this.read$byte_A(e);if(void 0===e&&void 0===t&&void 0===n)return this.read$();throw new Error("invalid overload")}return this.read$byte_A$int$int(e,t,n)},n.prototype.reset=function(){this.pos=this._mark},n.prototype.skip=function(e){if(e<=0)return 0;var t=this.pos;return this.pos=this.count-this.pos<e?this.count:this.pos+e|0,this.pos-t},n}(e.io.InputStream);t.ByteArrayInputStream=n,n.__class="java.io.ByteArrayInputStream",n.__interfaces=["java.io.Closeable","java.lang.AutoCloseable"]}(e.io||(e.io={}))}(java||(java={})),function(e){!function(t){var n=function(t){function n(r,i){var o=this;if(!(null!=r&&r instanceof e.io.Reader||null===r)||"number"!==typeof i&&null!==i){if(!(null!=r&&r instanceof e.io.Reader||null===r)||void 0!==i)throw new Error("invalid overload");var a=n.defaultCharBufferSize;if(void 0===(o=t.call(this,r)||this).in&&(o.in=null),void 0===o.cb&&(o.cb=null),void 0===o.nChars&&(o.nChars=0),void 0===o.nextChar&&(o.nextChar=0),void 0===o.markedChar&&(o.markedChar=0),void 0===o.readAheadLimit&&(o.readAheadLimit=0),void 0===o.skipLF&&(o.skipLF=!1),void 0===o.markedSkipLF&&(o.markedSkipLF=!1),o.markedChar=n.UNMARKED,o.readAheadLimit=0,o.skipLF=!1,o.markedSkipLF=!1,a<=0)throw new e.lang.IllegalArgumentException("Buffer size <= 0");o.in=r,o.cb=function(e){for(var t=[];e-- >0;)t.push(null);return t}(a),o.nextChar=o.nChars=0,void 0===o.in&&(o.in=null),void 0===o.cb&&(o.cb=null),void 0===o.nChars&&(o.nChars=0),void 0===o.nextChar&&(o.nextChar=0),void 0===o.markedChar&&(o.markedChar=0),void 0===o.readAheadLimit&&(o.readAheadLimit=0),void 0===o.skipLF&&(o.skipLF=!1),void 0===o.markedSkipLF&&(o.markedSkipLF=!1)}else{if(void 0===(o=t.call(this,r)||this).in&&(o.in=null),void 0===o.cb&&(o.cb=null),void 0===o.nChars&&(o.nChars=0),void 0===o.nextChar&&(o.nextChar=0),void 0===o.markedChar&&(o.markedChar=0),void 0===o.readAheadLimit&&(o.readAheadLimit=0),void 0===o.skipLF&&(o.skipLF=!1),void 0===o.markedSkipLF&&(o.markedSkipLF=!1),o.markedChar=n.UNMARKED,o.readAheadLimit=0,o.skipLF=!1,o.markedSkipLF=!1,i<=0)throw new e.lang.IllegalArgumentException("Buffer size <= 0");o.in=r,o.cb=function(e){for(var t=[];e-- >0;)t.push(null);return t}(i),o.nextChar=o.nChars=0}return o}return __extends(n,t),n.prototype.ensureOpen=function(){if(null==this.in)throw new e.io.IOException("Stream closed")},n.prototype.fill=function(){var t,r;if(this.markedChar<=n.UNMARKED)t=0;else{var i=this.nextChar-this.markedChar;if(i>=this.readAheadLimit)this.markedChar=n.INVALIDATED,this.readAheadLimit=0,t=0;else{if(this.readAheadLimit<=this.cb.length)e.lang.System.arraycopy(this.cb,this.markedChar,this.cb,0,i),this.markedChar=0,t=i;else{var o=function(e){for(var t=[];e-- >0;)t.push(null);return t}(this.readAheadLimit);e.lang.System.arraycopy(this.cb,this.markedChar,o,0,i),this.cb=o,this.markedChar=0,t=i}this.nextChar=this.nChars=i}}do{r=this.in.read$char_A$int$int(this.cb,t,this.cb.length-t)}while(0===r);r>0&&(this.nChars=t+r,this.nextChar=t)},n.prototype.read$=function(){for(this.ensureOpen();;){if(this.nextChar>=this.nChars&&(this.fill(),this.nextChar>=this.nChars))return-1;if(!this.skipLF||(this.skipLF=!1,(null==(e=this.cb[this.nextChar]).charCodeAt?e:e.charCodeAt(0))!="\n".charCodeAt(0)))return this.cb[this.nextChar++].charCodeAt(0);this.nextChar++}var e},n.prototype.read1=function(t,r,i){if(this.nextChar>=this.nChars){if(i>=this.cb.length&&this.markedChar<=n.UNMARKED&&!this.skipLF)return this.in.read$char_A$int$int(t,r,i);this.fill()}if(this.nextChar>=this.nChars)return-1;if(this.skipLF&&(this.skipLF=!1,(null==(o=this.cb[this.nextChar]).charCodeAt?o:o.charCodeAt(0))=="\n".charCodeAt(0)&&(this.nextChar++,this.nextChar>=this.nChars&&this.fill(),this.nextChar>=this.nChars)))return-1;var o,a=Math.min(i,this.nChars-this.nextChar);return e.lang.System.arraycopy(this.cb,this.nextChar,t,r,a),this.nextChar+=a,a},n.prototype.read$char_A$int$int=function(t,n,r){if(this.ensureOpen(),n<0||n>t.length||r<0||n+r>t.length||n+r<0)throw new e.lang.IndexOutOfBoundsException;if(0===r)return 0;var i=this.read1(t,n,r);if(i<=0)return i;for(;i<r&&this.in.ready();){var o=this.read1(t,n+i,r-i);if(o<=0)break;i+=o}return i},n.prototype.read=function(e,t,n){if(!(null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"string"===typeof e[0])||null===e)||"number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n){if((null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"string"===typeof e[0])||null===e)&&void 0===t&&void 0===n)return this.read$char_A(e);if(void 0===e&&void 0===t&&void 0===n)return this.read$();throw new Error("invalid overload")}return this.read$char_A$int$int(e,t,n)},n.prototype.readLine$boolean=function(t){var r,i=null;this.ensureOpen();for(var o=t||this.skipLF;;){if(this.nextChar>=this.nChars&&this.fill(),this.nextChar>=this.nChars)return null!=i&&i.length()>0?i.toString():null;var a=!1,s=String.fromCharCode(0),l=void 0;o&&function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(this.cb[this.nextChar])=="\n".charCodeAt(0)&&this.nextChar++,this.skipLF=!1,o=!1;e:for(l=this.nextChar;l<this.nChars;l++)if(function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(s=this.cb[l])=="\n".charCodeAt(0)||function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(s)=="\r".charCodeAt(0)){a=!0;break e}if(r=this.nextChar,this.nextChar=l,a){var u=void 0;return null==i?u=function(e,t,n){return e.substring(t,t+n)}(this.cb.join(""),r,l-r):(i.append$char_A$int$int(this.cb,r,l-r),u=i.toString()),this.nextChar++,function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(s)=="\r".charCodeAt(0)&&(this.skipLF=!0),u}null==i&&(i=new e.lang.StringBuffer(n.defaultExpectedLineLength)),i.append$char_A$int$int(this.cb,r,l-r)}},n.prototype.readLine=function(e){if("boolean"===typeof e||null===e)return this.readLine$boolean(e);if(void 0===e)return this.readLine$();throw new Error("invalid overload")},n.prototype.readLine$=function(){return this.readLine$boolean(!1)},n.prototype.skip=function(t){if(t<0)throw new e.lang.IllegalArgumentException("skip value is negative");this.ensureOpen();for(var n=t;n>0&&(this.nextChar>=this.nChars&&this.fill(),!(this.nextChar>=this.nChars));){this.skipLF&&(this.skipLF=!1,(null==(i=this.cb[this.nextChar]).charCodeAt?i:i.charCodeAt(0))=="\n".charCodeAt(0)&&this.nextChar++);var r=this.nChars-this.nextChar;if(n<=r){this.nextChar+=n,n=0;break}n-=r,this.nextChar=this.nChars}return t-n;var i},n.prototype.ready=function(){var e;return this.ensureOpen(),this.skipLF&&(this.nextChar>=this.nChars&&this.in.ready()&&this.fill(),this.nextChar<this.nChars&&((null==(e=this.cb[this.nextChar]).charCodeAt?e:e.charCodeAt(0))=="\n".charCodeAt(0)&&this.nextChar++,this.skipLF=!1)),this.nextChar<this.nChars||this.in.ready()},n.prototype.markSupported=function(){return!0},n.prototype.mark=function(t){if(t<0)throw new e.lang.IllegalArgumentException("Read-ahead limit < 0");this.ensureOpen(),this.readAheadLimit=t,this.markedChar=this.nextChar,this.markedSkipLF=this.skipLF},n.prototype.reset=function(){if(this.ensureOpen(),this.markedChar<0)throw new e.io.IOException(this.markedChar===n.INVALIDATED?"Mark invalid":"Stream not marked");this.nextChar=this.markedChar,this.skipLF=this.markedSkipLF},n.prototype.close=function(){if(null!=this.in)try{this.in.close()}finally{this.in=null,this.cb=null}},n.INVALIDATED=-2,n.UNMARKED=-1,n.defaultCharBufferSize=8192,n.defaultExpectedLineLength=80,n}(e.io.Reader);t.BufferedReader=n,n.__class="java.io.BufferedReader",n.__interfaces=["java.io.Closeable","java.lang.AutoCloseable"]}(e.io||(e.io={}))}(java||(java={})),function(e){!function(t){var n=function(t){function n(n,r){var i=this;if(!(null!=n&&n instanceof e.io.InputStream||null===n)||"string"!==typeof r&&null!==r)if((null!=n&&n instanceof e.io.InputStream||null===n)&&(null!=r&&r instanceof e.nio.charset.Charset||null===r)){var o=arguments[1];if(void 0===(i=t.call(this,n)||this).in&&(i.in=null),i.in=n,null==o)throw new e.lang.NullPointerException("charset")}else{if(!(null!=n&&n instanceof e.io.InputStream||null===n)||void 0!==r)throw new Error("invalid overload");void 0===(i=t.call(this,n)||this).in&&(i.in=null),i.in=n}else{void 0===(i=t.call(this,n)||this).in&&(i.in=null),i.in=n}return i}return __extends(n,t),n.prototype.read$char_A$int$int=function(e,t,n){var r=function(e){for(var t=[];e-- >0;)t.push(0);return t}(n-t),i=this.in.read$byte_A$int$int(r,0,n);if(i>0)for(var o=0;o<i;++o)e[o+t]=String.fromCharCode(r[o]).charAt(0);return i},n.prototype.read=function(e,t,n){if(!(null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"string"===typeof e[0])||null===e)||"number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n){if((null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"string"===typeof e[0])||null===e)&&void 0===t&&void 0===n)return this.read$char_A(e);if(void 0===e&&void 0===t&&void 0===n)return this.read$();throw new Error("invalid overload")}return this.read$char_A$int$int(e,t,n)},n.prototype.ready=function(){return this.in.available()>0},n.prototype.close=function(){this.in.close()},n}(e.io.Reader);t.InputStreamReader=n,n.__class="java.io.InputStreamReader",n.__interfaces=["java.io.Closeable","java.lang.AutoCloseable"]}(e.io||(e.io={}))}(java||(java={})),function(e){!function(t){var n=function(t){function n(e){var n=t.call(this)||this;return void 0===n.charArray&&(n.charArray=null),void 0===n.where&&(n.where=0),n.marked=-1,void 0===n.markedLen&&(n.markedLen=0),n.charArray=e.split(""),n}return __extends(n,t),n.prototype.read$char_A$int$int=function(t,n,r){if(n<0||n>t.length||r<0||n+r>t.length||n+r<0)throw new e.lang.IndexOutOfBoundsException;if(0===r)return 0;if(this.where===this.charArray.length)return-1;var i=Math.min(this.charArray.length-this.where,r);return e.lang.System.arraycopy(this.charArray,this.where,t,n,i),this.where+=i,i},n.prototype.read=function(e,t,n){if(!(null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"string"===typeof e[0])||null===e)||"number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n){if((null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"string"===typeof e[0])||null===e)&&void 0===t&&void 0===n)return this.read$char_A(e);if(void 0===e&&void 0===t&&void 0===n)return this.read$();throw new Error("invalid overload")}return this.read$char_A$int$int(e,t,n)},n.prototype.close=function(){this.where=this.charArray.length},n.prototype.ready=function(){return this.where<this.charArray.length},n.prototype.markSupported=function(){return!0},n.prototype.mark=function(e){this.marked=this.where,this.markedLen=e},n.prototype.reset=function(){if(-1===this.marked||this.where>this.marked+this.markedLen)throw new e.io.IOException("The stream not been marked or mark has been invalidated");this.where=this.marked},n}(e.io.Reader);t.StringReader=n,n.__class="java.io.StringReader",n.__interfaces=["java.io.Closeable","java.lang.AutoCloseable"]}(e.io||(e.io={}))}(java||(java={})),function(e){!function(t){var n=function(t){function n(e){var n=t.call(this)||this;return void 0===n.out&&(n.out=null),n.out=e,n}return __extends(n,t),n.prototype.close=function(){var t=null;try{this.flush()}catch(n){t=n}try{this.out.close()}catch(n){null==t&&(t=n)}if(null!=t)throw new e.io.IOException(t)},n.prototype.flush=function(){this.out.flush()},n.prototype.write=function(e,n,r){if(!(null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"number"===typeof e[0])||null===e)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if((null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"number"===typeof e[0])||null===e)&&void 0===n&&void 0===r)return this.write$byte_A(e);if("number"!==typeof e&&null!==e||void 0!==n||void 0!==r)throw new Error("invalid overload");return this.write$int(e)}t.prototype.write.call(this,e,n,r)},n.prototype.write$int=function(e){this.out.write$int(e)},n}(e.io.OutputStream);t.FilterOutputStream=n,n.__class="java.io.FilterOutputStream",n.__interfaces=["java.io.Closeable","java.lang.AutoCloseable","java.io.Flushable"]}(e.io||(e.io={}))}(java||(java={})),function(e){!function(t){var n=function(t){function n(n){var r=this;if("number"===typeof n||null===n){if(void 0===(r=t.call(this)||this).buf&&(r.buf=null),void 0===r.count&&(r.count=0),!(n>=0))throw new e.lang.IllegalArgumentException("size < 0");r.buf=function(e){for(var t=[];e-- >0;)t.push(0);return t}(n)}else{if(void 0!==n)throw new Error("invalid overload");void 0===(r=t.call(this)||this).buf&&(r.buf=null),void 0===r.count&&(r.count=0),r.buf=function(e){for(var t=[];e-- >0;)t.push(0);return t}(32)}return r}return __extends(n,t),n.prototype.close=function(){t.prototype.close.call(this)},n.prototype.expand=function(t){if(!(this.count+t<=this.buf.length)){var n=function(e){for(var t=[];e-- >0;)t.push(0);return t}(2*(this.count+t));e.lang.System.arraycopy(this.buf,0,n,0,this.count),this.buf=n}},n.prototype.reset=function(){this.count=0},n.prototype.size=function(){return this.count},n.prototype.toByteArray=function(){var t=function(e){for(var t=[];e-- >0;)t.push(0);return t}(this.count);return e.lang.System.arraycopy(this.buf,0,t,0,this.count),t},n.prototype.toString$=function(){return e=this.buf.map(function(e){return String.fromCharCode(e)}).join(""),t=this.count,e.substring(0,0+t);var e,t},n.prototype.toString$int=function(e){for(var t=function(e){for(var t=[];e-- >0;)t.push(null);return t}(this.size()),n=0;n<t.length;n++)t[n]=String.fromCharCode((255&e)<<8|255&this.buf[n]);return new String(t)},n.prototype.toString$java_lang_String=function(e){return t=this.buf.map(function(e){return String.fromCharCode(e)}).join(""),n=this.count,t.substring(0,0+n);var t,n},n.prototype.toString=function(e){if("string"===typeof e||null===e)return this.toString$java_lang_String(e);if("number"===typeof e||null===e)return this.toString$int(e);if(void 0===e)return this.toString$();throw new Error("invalid overload")},n.prototype.write$byte_A$int$int=function(t,n,r){e.io.IOUtils.checkOffsetAndCount$byte_A$int$int(t,n,r),0!==r&&(this.expand(r),e.lang.System.arraycopy(t,n,this.buf,this.count,r),this.count+=r)},n.prototype.write=function(e,t,n){if(!(null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"number"===typeof e[0])||null===e)||"number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n){if((null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"number"===typeof e[0])||null===e)&&void 0===t&&void 0===n)return this.write$byte_A(e);if("number"!==typeof e&&null!==e||void 0!==t||void 0!==n)throw new Error("invalid overload");return this.write$int(e)}return this.write$byte_A$int$int(e,t,n)},n.prototype.write$int=function(e){this.count===this.buf.length&&this.expand(1),this.buf[this.count++]=0|e},n.prototype.writeTo=function(e){e.write$byte_A$int$int(this.buf,0,this.count)},n}(e.io.OutputStream);t.ByteArrayOutputStream=n,n.__class="java.io.ByteArrayOutputStream",n.__interfaces=["java.io.Closeable","java.lang.AutoCloseable","java.io.Flushable"]}(e.io||(e.io={}))}(java||(java={})),function(e){var t;(function(t){var n=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t}(e.lang.ref.Reference);t.WeakReference=n,n.__class="java.lang.ref.WeakReference"})((t=e.lang||(e.lang={})).ref||(t.ref={}))}(java||(java={})),function(e){!function(t){var n=function(e){function t(t,n){var r=this;if("string"!==typeof t&&null!==t||!(null!=n&&n instanceof Error||null===n))if("string"!==typeof t&&null!==t||void 0!==n)if((null!=t&&t instanceof Error||null===t)&&void 0===n){var i=arguments[0];r=e.call(this,i)||this}else{if(void 0!==t||void 0!==n)throw new Error("invalid overload");r=e.call(this)||this}else{r=e.call(this,t)||this}else{r=e.call(this,t,n)||this}return r}return __extends(t,e),t.__java_lang_InternalError_serialVersionUID=-0x7dc4ccb23ff53c00,t}(e.lang.VirtualMachineError);t.InternalError=n,n.__class="java.lang.InternalError",n.__interfaces=["java.io.Serializable"]}(e.lang||(e.lang={}))}(java||(java={})),function(e){!function(e){var t=function(e){function t(t){var n=this;if("string"===typeof t||null===t)(n=e.call(this,t)||this).message=t;else{if(void 0!==t)throw new Error("invalid overload");n=e.call(this)||this}return n}return __extends(t,e),t}(Error);e.TooManyListenersException=t,t.__class="java.util.TooManyListenersException",t.__interfaces=["java.io.Serializable"]}(e.util||(e.util={}))}(java||(java={})),function(e){!function(e){var t=function(e){function t(t){var n=this;if("string"===typeof t||null===t)(n=e.call(this,t)||this).message=t;else{if(void 0!==t)throw new Error("invalid overload");n=e.call(this)||this}return n}return __extends(t,e),t}(Error);e.GeneralSecurityException=t,t.__class="java.security.GeneralSecurityException",t.__interfaces=["java.io.Serializable"]}(e.security||(e.security={}))}(java||(java={})),function(e){!function(e){var t=function(e){function t(t,n){var r=this;if("string"!==typeof t&&null!==t||!(null!=n&&n instanceof Error||null===n))if("string"!==typeof t&&null!==t||void 0!==n)if((null!=t&&t instanceof Error||null===t)&&void 0===n){var i=arguments[0];(r=e.call(this,i)||this).message=i}else{if(void 0!==t||void 0!==n)throw new Error("invalid overload");r=e.call(this)||this}else{(r=e.call(this,t)||this).message=t}else{(r=e.call(this,t)||this).message=t}return r}return __extends(t,e),t}(Error);e.IOException=t,t.__class="java.io.IOException",t.__interfaces=["java.io.Serializable"]}(e.io||(e.io={}))}(java||(java={})),function(e){!function(e){var t=function(e){function t(t,n,r,i){var o=this;if("string"!==typeof t&&null!==t||!(null!=n&&n instanceof Error||null===n)||"boolean"!==typeof r&&null!==r||"boolean"!==typeof i&&null!==i)if("string"!==typeof t&&null!==t||!(null!=n&&n instanceof Error||null===n)||void 0!==r||void 0!==i)if("string"!==typeof t&&null!==t||void 0!==n||void 0!==r||void 0!==i)if((null!=t&&t instanceof Error||null===t)&&void 0===n&&void 0===r&&void 0===i){var a=arguments[0];(o=e.call(this,a)||this).message=a}else{if(void 0!==t||void 0!==n||void 0!==r||void 0!==i)throw new Error("invalid overload");o=e.call(this)||this}else{(o=e.call(this,t)||this).message=t}else{(o=e.call(this,t)||this).message=t}else{(o=e.call(this,t)||this).message=t}return o}return __extends(t,e),t}(Error);e.RuntimeException=t,t.__class="java.lang.RuntimeException",t.__interfaces=["java.io.Serializable"]}(e.lang||(e.lang={}))}(java||(java={})),function(e){!function(e){var t=function(e){function t(t){var n=this;if("string"===typeof t||null===t)(n=e.call(this,t)||this).message=t;else{if(void 0!==t)throw new Error("invalid overload");n=e.call(this)||this}return n}return __extends(t,e),t}(Error);e.CloneNotSupportedException=t,t.__class="java.lang.CloneNotSupportedException",t.__interfaces=["java.io.Serializable"]}(e.lang||(e.lang={}))}(java||(java={})),function(e){!function(e){var t=function(e){function t(t){var n=this;if("string"===typeof t||null===t)(n=e.call(this,t)||this).message=t;else{if(void 0!==t)throw new Error("invalid overload");n=e.call(this)||this}return n}return __extends(t,e),t}(Error);e.InterruptedException=t,t.__class="java.lang.InterruptedException",t.__interfaces=["java.io.Serializable"]}(e.lang||(e.lang={}))}(java||(java={})),function(e){!function(e){var t=function(e){function t(t){var n=this;if("string"===typeof t||null===t)(n=e.call(this,t)||this).message=t;else{if(void 0!==t)throw new Error("invalid overload");n=e.call(this)||this}return n}return __extends(t,e),t}(Error);e.ReflectiveOperationException=t,t.__class="java.lang.ReflectiveOperationException",t.__interfaces=["java.io.Serializable"]}(e.lang||(e.lang={}))}(java||(java={})),function(e){!function(e){var t=function(e){function t(t){var n=this;if("string"===typeof t||null===t)(n=e.call(this,t)||this).message=t;else{if(void 0!==t)throw new Error("invalid overload");n=e.call(this)||this}return n}return __extends(t,e),t}(Error);e.NoSuchMethodException=t,t.__class="java.lang.NoSuchMethodException",t.__interfaces=["java.io.Serializable"]}(e.lang||(e.lang={}))}(java||(java={})),function(e){!function(e){var t=function(e){function t(n,r){var i=e.call(this,n)||this;return i.message=n,Object.setPrototypeOf(i,t.prototype),void 0===i.errorOffset&&(i.errorOffset=0),i.errorOffset=r,i}return __extends(t,e),t.prototype.getErrorOffset=function(){return this.errorOffset},t}(Error);e.ParseException=t,t.__class="java.text.ParseException",t.__interfaces=["java.io.Serializable"]}(e.text||(e.text={}))}(java||(java={})),function(e){!function(t){var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.childValue=function(e){return e},t}(e.lang.ThreadLocal);t.InheritableThreadLocal=n,n.__class="java.lang.InheritableThreadLocal"}(e.lang||(e.lang={}))}(java||(java={})),function(e){!function(t){var n=function(t){function n(e){var n=this;if("string"===typeof e||null===e){n=t.call(this,e)||this}else if(null!=e&&(null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("java.lang.CharSequence")>=0||"string"===typeof e)||null===e){n=t.call(this,new String(e).toString())||this}else if("number"===typeof e||null===e){arguments[0],n=t.call(this,"")||this}else{if(void 0!==e)throw new Error("invalid overload");n=t.call(this,"")||this}return n}return __extends(n,t),n.prototype.append$boolean=function(e){return this.string+=e,this},n.prototype.append$char=function(e){return this.string+=new String(e).toString(),this},n.prototype.append$char_A=function(e){return this.string+=new String(e).toString(),this},n.prototype.append$char_A$int$int=function(e,t,n){return this.string+=function(t,n,r){return e.join("").substring(n,n+r)}(0,t,n),this},n.prototype.append=function(t,n,r){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"string"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if(!(null!=t&&(null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.lang.CharSequence")>=0||"string"===typeof t)||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if((null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"string"===typeof t[0])||null===t)&&void 0===n&&void 0===r)return this.append$char_A(t);if("string"!==typeof t&&null!==t||void 0!==n||void 0!==r){if((null!=t&&t instanceof e.lang.StringBuffer||null===t)&&void 0===n&&void 0===r)return this.append$java_lang_StringBuffer(t);if((null!=t&&(null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.lang.CharSequence")>=0||"string"===typeof t)||null===t)&&void 0===n&&void 0===r)return this.append$java_lang_CharSequence(t);if("boolean"!==typeof t&&null!==t||void 0!==n||void 0!==r){if("string"!==typeof t&&null!==t||void 0!==n||void 0!==r){if("number"!==typeof t&&null!==t||void 0!==n||void 0!==r){if("number"!==typeof t&&null!==t||void 0!==n||void 0!==r){if("number"!==typeof t&&null!==t||void 0!==n||void 0!==r){if("number"!==typeof t&&null!==t||void 0!==n||void 0!==r){if(null==t&&null!==t||void 0!==n||void 0!==r)throw new Error("invalid overload");return this.append$java_lang_Object(t)}return this.append$double(t)}return this.append$float(t)}return this.append$long(t)}return this.append$int(t)}return this.append$char(t)}return this.append$boolean(t)}return this.append$java_lang_String(t)}return this.append$java_lang_CharSequence$int$int(t,n,r)}return this.append$char_A$int$int(t,n,r)},n.prototype.append$java_lang_CharSequence=function(e){return this.string+=e,this},n.prototype.append$java_lang_CharSequence$int$int=function(e,t,n){return this.append0(e,t,n),this},n.prototype.append$double=function(e){return this.string+=e,this},n.prototype.append$float=function(e){return this.string+=e,this},n.prototype.append$int=function(e){return this.string+=e,this},n.prototype.append$long=function(e){return this.string+=e,this},n.prototype.append$java_lang_Object=function(e){return this.string+=e,this},n.prototype.append$java_lang_String=function(e){return this.string+=e,this},n.prototype.append$java_lang_StringBuffer=function(e){return this.string+=e,this},n.prototype.appendCodePoint=function(e){return this.appendCodePoint0(e),this},n.prototype.delete=function(e,t){return this.replace0(e,t,""),this},n.prototype.deleteCharAt=function(e){return this.replace0(e,e+1,""),this},n.prototype.insert$int$boolean=function(e,t){return this.insert$int$java_lang_String(e,new String(t).toString())},n.prototype.insert$int$char=function(e,t){return this.replace0(e,e,new String(t).toString()),this},n.prototype.insert$int$char_A=function(e,t){return this.insert$int$java_lang_String(e,new String(t).toString())},n.prototype.insert$int$char_A$int$int=function(e,t,n,r){return this.insert$int$java_lang_String(e,function(e,n,r){return t.join("").substring(n,n+r)}(0,n,r))},n.prototype.insert=function(e,t,n,r){if("number"!==typeof e&&null!==e||!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"string"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if("number"!==typeof e&&null!==e||!(null!=t&&(null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.lang.CharSequence")>=0||"string"===typeof t)||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if("number"!==typeof e&&null!==e||!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"string"===typeof t[0])||null===t)||void 0!==n||void 0!==r){if("number"!==typeof e&&null!==e||"string"!==typeof t&&null!==t||void 0!==n||void 0!==r){if("number"!==typeof e&&null!==e||!(null!=t&&(null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.lang.CharSequence")>=0||"string"===typeof t)||null===t)||void 0!==n||void 0!==r){if("number"!==typeof e&&null!==e||"boolean"!==typeof t&&null!==t||void 0!==n||void 0!==r){if("number"!==typeof e&&null!==e||"string"!==typeof t&&null!==t||void 0!==n||void 0!==r){if("number"!==typeof e&&null!==e||"number"!==typeof t&&null!==t||void 0!==n||void 0!==r){if("number"!==typeof e&&null!==e||"number"!==typeof t&&null!==t||void 0!==n||void 0!==r){if("number"!==typeof e&&null!==e||"number"!==typeof t&&null!==t||void 0!==n||void 0!==r){if("number"!==typeof e&&null!==e||"number"!==typeof t&&null!==t||void 0!==n||void 0!==r){if("number"!==typeof e&&null!==e||null==t&&null!==t||void 0!==n||void 0!==r)throw new Error("invalid overload");return this.insert$int$java_lang_Object(e,t)}return this.insert$int$double(e,t)}return this.insert$int$float(e,t)}return this.insert$int$long(e,t)}return this.insert$int$int(e,t)}return this.insert$int$char(e,t)}return this.insert$int$boolean(e,t)}return this.insert$int$java_lang_CharSequence(e,t)}return this.insert$int$java_lang_String(e,t)}return this.insert$int$char_A(e,t)}return this.insert$int$java_lang_CharSequence$int$int(e,t,n,r)}return this.insert$int$char_A$int$int(e,t,n,r)},n.prototype.insert$int$java_lang_CharSequence=function(e,t){return this.insert$int$java_lang_String(e,t.toString())},n.prototype.insert$int$java_lang_CharSequence$int$int=function(e,t,n,r){return this.insert$int$java_lang_String(e,t.substring(n,r).toString())},n.prototype.insert$int$double=function(e,t){return this.insert$int$java_lang_String(e,new String(t).toString())},n.prototype.insert$int$float=function(e,t){return this.insert$int$java_lang_String(e,new String(t).toString())},n.prototype.insert$int$int=function(e,t){return this.insert$int$java_lang_String(e,new String(t).toString())},n.prototype.insert$int$long=function(e,t){return this.insert$int$java_lang_String(e,new String(t).toString())},n.prototype.insert$int$java_lang_Object=function(e,t){return this.insert$int$java_lang_String(e,new String(t).toString())},n.prototype.insert$int$java_lang_String=function(e,t){return this.replace0(e,e,t),this},n.prototype.replace=function(e,t,n){return this.replace0(e,t,n),this},n.prototype.reverse=function(){return this.reverse0(),this},n}(e.lang.AbstractStringBuilder);t.StringBuilder=n,n.__class="java.lang.StringBuilder",n.__interfaces=["java.lang.CharSequence","java.lang.Appendable"]}(e.lang||(e.lang={}))}(java||(java={})),function(e){!function(t){var n=function(t){function n(e){var n=this;if("string"===typeof e||null===e){n=t.call(this,e)||this}else if(null!=e&&(null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("java.lang.CharSequence")>=0||"string"===typeof e)||null===e){n=t.call(this,new String(e).toString())||this}else if("number"===typeof e||null===e){arguments[0],n=t.call(this,"")||this}else{if(void 0!==e)throw new Error("invalid overload");n=t.call(this,"")||this}return n}return __extends(n,t),n.prototype.append$boolean=function(e){return this.string+=e,this},n.prototype.append$char=function(e){return this.string+=e,this},n.prototype.append$char_A=function(e){return this.string+=new String(e).toString(),this},n.prototype.append$char_A$int$int=function(e,t,n){return this.string+=function(t,n,r){return e.join("").substring(n,n+r)}(0,t,n),this},n.prototype.append=function(t,n,r){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"string"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if(!(null!=t&&(null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.lang.CharSequence")>=0||"string"===typeof t)||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if((null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"string"===typeof t[0])||null===t)&&void 0===n&&void 0===r)return this.append$char_A(t);if("string"!==typeof t&&null!==t||void 0!==n||void 0!==r){if((null!=t&&t instanceof e.lang.StringBuffer||null===t)&&void 0===n&&void 0===r)return this.append$java_lang_StringBuffer(t);if((null!=t&&(null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.lang.CharSequence")>=0||"string"===typeof t)||null===t)&&void 0===n&&void 0===r)return this.append$java_lang_CharSequence(t);if("boolean"!==typeof t&&null!==t||void 0!==n||void 0!==r){if("string"!==typeof t&&null!==t||void 0!==n||void 0!==r){if("number"!==typeof t&&null!==t||void 0!==n||void 0!==r){if("number"!==typeof t&&null!==t||void 0!==n||void 0!==r){if("number"!==typeof t&&null!==t||void 0!==n||void 0!==r){if("number"!==typeof t&&null!==t||void 0!==n||void 0!==r){if(null==t&&null!==t||void 0!==n||void 0!==r)throw new Error("invalid overload");return this.append$java_lang_Object(t)}return this.append$double(t)}return this.append$float(t)}return this.append$long(t)}return this.append$int(t)}return this.append$char(t)}return this.append$boolean(t)}return this.append$java_lang_String(t)}return this.append$java_lang_CharSequence$int$int(t,n,r)}return this.append$char_A$int$int(t,n,r)},n.prototype.append$java_lang_CharSequence=function(e){return this.string+=e,this},n.prototype.append$java_lang_CharSequence$int$int=function(e,t,n){return this.append0(e,t,n),this},n.prototype.append$double=function(e){return this.string+=e,this},n.prototype.append$float=function(e){return this.string+=e,this},n.prototype.append$int=function(e){return this.string+=e,this},n.prototype.append$long=function(e){return this.string+=e,this},n.prototype.append$java_lang_Object=function(e){return this.string+=e,this},n.prototype.append$java_lang_String=function(e){return this.string+=e,this},n.prototype.append$java_lang_StringBuffer=function(e){return this.string+=e,this},n.prototype.appendCodePoint=function(e){return this.appendCodePoint0(e),this},n.prototype.delete=function(e,t){return this.replace0(e,t,""),this},n.prototype.deleteCharAt=function(e){return this.replace0(e,e+1,""),this},n.prototype.insert$int$boolean=function(e,t){return this.insert$int$java_lang_String(e,new String(t).toString())},n.prototype.insert$int$char=function(e,t){return this.insert$int$java_lang_String(e,new String(t).toString())},n.prototype.insert$int$char_A=function(e,t){return this.insert$int$java_lang_String(e,new String(t).toString())},n.prototype.insert$int$char_A$int$int=function(e,t,n,r){return this.insert$int$java_lang_String(e,function(e,n,r){return t.join("").substring(n,n+r)}(0,n,r))},n.prototype.insert=function(e,t,n,r){if("number"!==typeof e&&null!==e||!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"string"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if("number"!==typeof e&&null!==e||!(null!=t&&(null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.lang.CharSequence")>=0||"string"===typeof t)||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if("number"!==typeof e&&null!==e||!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"string"===typeof t[0])||null===t)||void 0!==n||void 0!==r){if("number"!==typeof e&&null!==e||"string"!==typeof t&&null!==t||void 0!==n||void 0!==r){if("number"!==typeof e&&null!==e||!(null!=t&&(null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.lang.CharSequence")>=0||"string"===typeof t)||null===t)||void 0!==n||void 0!==r){if("number"!==typeof e&&null!==e||"boolean"!==typeof t&&null!==t||void 0!==n||void 0!==r){if("number"!==typeof e&&null!==e||"string"!==typeof t&&null!==t||void 0!==n||void 0!==r){if("number"!==typeof e&&null!==e||"number"!==typeof t&&null!==t||void 0!==n||void 0!==r){if("number"!==typeof e&&null!==e||"number"!==typeof t&&null!==t||void 0!==n||void 0!==r){if("number"!==typeof e&&null!==e||"number"!==typeof t&&null!==t||void 0!==n||void 0!==r){if("number"!==typeof e&&null!==e||"number"!==typeof t&&null!==t||void 0!==n||void 0!==r){if("number"!==typeof e&&null!==e||null==t&&null!==t||void 0!==n||void 0!==r)throw new Error("invalid overload");return this.insert$int$java_lang_Object(e,t)}return this.insert$int$double(e,t)}return this.insert$int$float(e,t)}return this.insert$int$long(e,t)}return this.insert$int$int(e,t)}return this.insert$int$char(e,t)}return this.insert$int$boolean(e,t)}return this.insert$int$java_lang_CharSequence(e,t)}return this.insert$int$java_lang_String(e,t)}return this.insert$int$char_A(e,t)}return this.insert$int$java_lang_CharSequence$int$int(e,t,n,r)}return this.insert$int$char_A$int$int(e,t,n,r)},n.prototype.insert$int$java_lang_CharSequence=function(e,t){return this.insert$int$java_lang_String(e,t.toString())},n.prototype.insert$int$java_lang_CharSequence$int$int=function(e,t,n,r){return this.insert$int$java_lang_String(e,t.substring(n,r).toString())},n.prototype.insert$int$double=function(e,t){return this.insert$int$java_lang_String(e,new String(t).toString())},n.prototype.insert$int$float=function(e,t){return this.insert$int$java_lang_String(e,new String(t).toString())},n.prototype.insert$int$int=function(e,t){return this.insert$int$java_lang_String(e,new String(t).toString())},n.prototype.insert$int$long=function(e,t){return this.insert$int$java_lang_String(e,new String(t).toString())},n.prototype.insert$int$java_lang_Object=function(e,t){return this.insert$int$java_lang_String(e,new String(t).toString())},n.prototype.insert$int$java_lang_String=function(e,t){return this.replace0(e,e,t),this},n.prototype.replace=function(e,t,n){return this.replace0(e,t,n),this},n.prototype.reverse=function(){return this.reverse0(),this},n}(e.lang.AbstractStringBuilder);t.StringBuffer=n,n.__class="java.lang.StringBuffer",n.__interfaces=["java.lang.CharSequence","java.lang.Appendable"]}(e.lang||(e.lang={}))}(java||(java={})),function(e){!function(t){var n=function(t){function n(n,r){var i=t.call(this,0|n.byteLength,r)||this;return void 0===i._buffer&&(i._buffer=null),void 0===i._array&&(i._array=null),void 0===i._data&&(i._data=null),i._order=e.nio.ByteOrder.BIG_ENDIAN_$LI$(),i._buffer=n,i._array=new Int8Array(n),i._data=new DataView(n),i}return __extends(n,t),n.allocate=function(e){return new n(new ArrayBuffer(e),!1)},n.prototype.array=function(){return this._array},n.prototype.asReadOnlyBuffer=function(){var e=new n(this._buffer,!0);return e.limit$int(this.limit$()),e.position$int(this.position$()),e._mark=this._mark,e},n.prototype.compact=function(){if(this.isReadOnly())throw new e.nio.ReadOnlyBufferException;for(var t=this.position$(),n=t;n<this.limit$();++n)this.put$int$byte(n-t,this.get$int(n));return this.position$int(this.limit$()-this.position$()),this.limit$int(this.capacity()),this._mark=-1,this},n.prototype.compareTo$java_nio_ByteBuffer=function(e){return this._array.toString().localeCompare(e.toString())},n.prototype.compareTo=function(t){if(null!=t&&t instanceof e.nio.ByteBuffer||null===t)return this.compareTo$java_nio_ByteBuffer(t);throw new Error("invalid overload")},n.prototype.duplicate=function(){var e=new n(this._buffer,this.isReadOnly());return e.limit$int(this.limit$()),e.position$int(this.position$()),e._mark=this._mark,e},n.prototype.equals=function(t){return this===t||null!=t&&t instanceof e.nio.ByteBuffer&&e.util.Objects.equals(this._array,t._array)},n.prototype.get$=function(){if(this.position$()===this.limit$())throw new e.nio.BufferUnderflowException;var t=this._array[this.position$()];return this.position$int(this.position$()+1),t},n.prototype.get$byte_A=function(e){return this.get$byte_A$int$int(e,0,e.length)},n.prototype.get$byte_A$int$int=function(t,n,r){if(this.remaining()<r)throw new e.nio.BufferUnderflowException;for(var i=n;i<n+r;i++)t[i]=this.get$();return this},n.prototype.get=function(e,t,n){if(!(null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"number"===typeof e[0])||null===e)||"number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n){if((null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"number"===typeof e[0])||null===e)&&void 0===t&&void 0===n)return this.get$byte_A(e);if("number"!==typeof e&&null!==e||void 0!==t||void 0!==n){if(void 0===e&&void 0===t&&void 0===n)return this.get$();throw new Error("invalid overload")}return this.get$int(e)}return this.get$byte_A$int$int(e,t,n)},n.prototype.get$int=function(t){if(t<0||t>this.limit$())throw new e.lang.IndexOutOfBoundsException;return this._array[t]},n.prototype.getChar$=function(){if(this.remaining()<2)throw new e.nio.BufferUnderflowException;var t=String.fromCharCode(0|this._data.getInt16(this.position$(),this._order===e.nio.ByteOrder.LITTLE_ENDIAN_$LI$())).charAt(0);return this.position$int(this.position$()+2),t},n.prototype.getChar$int=function(t){if(t<0||t>this.limit$()-1)throw new e.lang.IndexOutOfBoundsException;return String.fromCharCode(0|this._data.getInt16(t,this._order===e.nio.ByteOrder.LITTLE_ENDIAN_$LI$())).charAt(0)},n.prototype.getChar=function(e){if("number"===typeof e||null===e)return this.getChar$int(e);if(void 0===e)return this.getChar$();throw new Error("invalid overload")},n.prototype.getDouble$=function(){if(this.remaining()<8)throw new e.nio.BufferUnderflowException;var t=this._data.getFloat64(this.position$(),this._order===e.nio.ByteOrder.LITTLE_ENDIAN_$LI$());return this.position$int(this.position$()+8),t},n.prototype.getDouble$int=function(t){if(t<0||t>this.limit$()-7)throw new e.lang.IndexOutOfBoundsException;return this._data.getFloat64(t,this._order===e.nio.ByteOrder.LITTLE_ENDIAN_$LI$())},n.prototype.getDouble=function(e){if("number"===typeof e||null===e)return this.getDouble$int(e);if(void 0===e)return this.getDouble$();throw new Error("invalid overload")},n.prototype.getFloat$=function(){if(this.remaining()<4)throw new e.nio.BufferUnderflowException;var t=this._data.getFloat32(this.position$(),this._order===e.nio.ByteOrder.LITTLE_ENDIAN_$LI$());return this.position$int(this.position$()+4),t},n.prototype.getFloat$int=function(t){if(t<0||t>this.limit$()-3)throw new e.lang.IndexOutOfBoundsException;return this._data.getFloat32(t,this._order===e.nio.ByteOrder.LITTLE_ENDIAN_$LI$())},n.prototype.getFloat=function(e){if("number"===typeof e||null===e)return this.getFloat$int(e);if(void 0===e)return this.getFloat$();throw new Error("invalid overload")},n.prototype.getInt$=function(){if(this.remaining()<4)throw new e.nio.BufferUnderflowException;var t=this._data.getInt32(this.position$(),this._order===e.nio.ByteOrder.LITTLE_ENDIAN_$LI$());return this.position$int(this.position$()+4),t},n.prototype.getInt$int=function(t){if(t<0||t>this.limit$()-3)throw new e.lang.IndexOutOfBoundsException;return this._data.getInt32(t,this._order===e.nio.ByteOrder.LITTLE_ENDIAN_$LI$())},n.prototype.getInt=function(e){if("number"===typeof e||null===e)return this.getInt$int(e);if(void 0===e)return this.getInt$();throw new Error("invalid overload")},n.prototype.getLong$=function(){if(this.remaining()<8)throw new e.nio.BufferUnderflowException;var t=this._data.getInt32(this.position$(),this._order===e.nio.ByteOrder.LITTLE_ENDIAN_$LI$()),n=this._data.getInt32(this.position$()+4,this._order===e.nio.ByteOrder.LITTLE_ENDIAN_$LI$());if(this._order===e.nio.ByteOrder.LITTLE_ENDIAN_$LI$()){var r=t;t=n,n=r}return this.position$int(this.position$()+8),4294967296*t+n},n.prototype.getLong$int=function(t){if(t<0||t>this.limit$()-7)throw new e.lang.IndexOutOfBoundsException;var n=this._data.getInt32(t,this._order===e.nio.ByteOrder.LITTLE_ENDIAN_$LI$()),r=this._data.getInt32(t+4,this._order===e.nio.ByteOrder.LITTLE_ENDIAN_$LI$());if(this._order===e.nio.ByteOrder.LITTLE_ENDIAN_$LI$()){var i=n;n=r,r=i}return 4294967296*n+r},n.prototype.getLong=function(e){if("number"===typeof e||null===e)return this.getLong$int(e);if(void 0===e)return this.getLong$();throw new Error("invalid overload")},n.prototype.getShort$=function(){if(this.remaining()<2)throw new e.nio.BufferUnderflowException;var t=this._data.getInt16(this.position$(),this._order===e.nio.ByteOrder.LITTLE_ENDIAN_$LI$());return this.position$int(this.position$()+2),t},n.prototype.getShort$int=function(t){if(t<0||t>this.limit$()-1)throw new e.lang.IndexOutOfBoundsException;return this._data.getInt16(t,this._order===e.nio.ByteOrder.LITTLE_ENDIAN_$LI$())},n.prototype.getShort=function(e){if("number"===typeof e||null===e)return this.getShort$int(e);if(void 0===e)return this.getShort$();throw new Error("invalid overload")},n.prototype.order$=function(){return this._order},n.prototype.order$java_nio_ByteOrder=function(e){return this._order=e,this},n.prototype.order=function(t){if(null!=t&&t instanceof e.nio.ByteOrder||null===t)return this.order$java_nio_ByteOrder(t);if(void 0===t)return this.order$();throw new Error("invalid overload")},n.prototype.put$byte=function(t){if(this.isReadOnly())throw new e.nio.ReadOnlyBufferException;if(this.position$()===this.limit$())throw new e.nio.BufferOverflowException;return this._array[this.position$()]=t,this.position$int(this.position$()+1),this},n.prototype.put$byte_A=function(e){return this.put$byte_A$int$int(e,0,e.length)},n.prototype.put$byte_A$int$int=function(t,n,r){if(this.isReadOnly())throw new e.nio.ReadOnlyBufferException;if(this.remaining()<r)throw new e.nio.BufferOverflowException;for(var i=n;i<n+r;i++)this.put$byte(t[i]);return this},n.prototype.put=function(e,t,n){if(!(null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"number"===typeof e[0])||null===e)||"number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n){if("number"!==typeof e&&null!==e||"number"!==typeof t&&null!==t||void 0!==n){if((null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"number"===typeof e[0])||null===e)&&void 0===t&&void 0===n)return this.put$byte_A(e);if("number"!==typeof e&&null!==e||void 0!==t||void 0!==n)throw new Error("invalid overload");return this.put$byte(e)}return this.put$int$byte(e,t)}return this.put$byte_A$int$int(e,t,n)},n.prototype.put$int$byte=function(t,n){if(this.isReadOnly())throw new e.nio.ReadOnlyBufferException;if(t<0||t>this.limit$())throw new e.lang.IndexOutOfBoundsException;return this._array[t]=n,this},n.prototype.putChar$char=function(t){if(this.isReadOnly())throw new e.nio.ReadOnlyBufferException;if(this.remaining()<2)throw new e.nio.BufferOverflowException;return this._data.setInt16(this.position$(),t.charCodeAt(0),this._order===e.nio.ByteOrder.LITTLE_ENDIAN_$LI$()),this.position$int(this.position$()+2),this},n.prototype.putChar$int$char=function(t,n){if(this.isReadOnly())throw new e.nio.ReadOnlyBufferException;if(t<0||t>this.limit$()-1)throw new e.lang.IndexOutOfBoundsException;return this._data.setInt16(t,n.charCodeAt(0),this._order===e.nio.ByteOrder.LITTLE_ENDIAN_$LI$()),this},n.prototype.putChar=function(e,t){if("number"!==typeof e&&null!==e||"string"!==typeof t&&null!==t){if("string"!==typeof e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.putChar$char(e)}return this.putChar$int$char(e,t)},n.prototype.putDouble$double=function(t){if(this.isReadOnly())throw new e.nio.ReadOnlyBufferException;if(this.remaining()<8)throw new e.nio.BufferOverflowException;return this._data.setFloat64(this.position$(),t,this._order===e.nio.ByteOrder.LITTLE_ENDIAN_$LI$()),this.position$int(this.position$()+8),this},n.prototype.putDouble$int$double=function(t,n){if(this.isReadOnly())throw new e.nio.ReadOnlyBufferException;if(t<0||t>this.limit$()-7)throw new e.lang.IndexOutOfBoundsException;return this._data.setFloat64(t,n,this._order===e.nio.ByteOrder.LITTLE_ENDIAN_$LI$()),this},n.prototype.putDouble=function(e,t){if("number"!==typeof e&&null!==e||"number"!==typeof t&&null!==t){if("number"!==typeof e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.putDouble$double(e)}return this.putDouble$int$double(e,t)},n.prototype.putFloat$float=function(t){if(this.isReadOnly())throw new e.nio.ReadOnlyBufferException;if(this.remaining()<4)throw new e.nio.BufferOverflowException;return this._data.setFloat32(this.position$(),t,this._order===e.nio.ByteOrder.LITTLE_ENDIAN_$LI$()),this.position$int(this.position$()+4),this},n.prototype.putFloat$int$float=function(t,n){if(this.isReadOnly())throw new e.nio.ReadOnlyBufferException;if(t<0||t>this.limit$()-3)throw new e.lang.IndexOutOfBoundsException;return this._data.setFloat32(t,n,this._order===e.nio.ByteOrder.LITTLE_ENDIAN_$LI$()),this},n.prototype.putFloat=function(e,t){if("number"!==typeof e&&null!==e||"number"!==typeof t&&null!==t){if("number"!==typeof e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.putFloat$float(e)}return this.putFloat$int$float(e,t)},n.prototype.putInt$int=function(t){if(this.isReadOnly())throw new e.nio.ReadOnlyBufferException;if(this.remaining()<4)throw new e.nio.BufferOverflowException;return this._data.setInt32(this.position$(),t,this._order===e.nio.ByteOrder.LITTLE_ENDIAN_$LI$()),this.position$int(this.position$()+4),this},n.prototype.putInt$int$int=function(t,n){if(this.isReadOnly())throw new e.nio.ReadOnlyBufferException;if(t<0||t>this.limit$()-3)throw new e.lang.IndexOutOfBoundsException;return this._data.setInt32(t,n,this._order===e.nio.ByteOrder.LITTLE_ENDIAN_$LI$()),this},n.prototype.putInt=function(e,t){if("number"!==typeof e&&null!==e||"number"!==typeof t&&null!==t){if("number"!==typeof e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.putInt$int(e)}return this.putInt$int$int(e,t)},n.prototype.putLong$long=function(t){if(this.isReadOnly())throw new e.nio.ReadOnlyBufferException;if(this.remaining()<8)throw new e.nio.BufferOverflowException;var n,r=0|((n=t/4294967296)<0?Math.ceil(n):Math.floor(n)),i=t%4294967296|0;if(this._order===e.nio.ByteOrder.LITTLE_ENDIAN_$LI$()){var o=r;r=i,i=o}return this._data.setInt32(this.position$(),r,this._order===e.nio.ByteOrder.LITTLE_ENDIAN_$LI$()),this._data.setInt32(this.position$()+4,i,this._order===e.nio.ByteOrder.LITTLE_ENDIAN_$LI$()),this.position$int(this.position$()+8),this},n.prototype.putLong$int$long=function(t,n){if(this.isReadOnly())throw new e.nio.ReadOnlyBufferException;if(t<0||t>this.limit$()-7)throw new e.lang.IndexOutOfBoundsException;var r,i=0|((r=n/4294967296)<0?Math.ceil(r):Math.floor(r)),o=n%4294967296|0;if(this._order===e.nio.ByteOrder.LITTLE_ENDIAN_$LI$()){var a=i;i=o,o=a}return this._data.setInt32(t,i,this._order===e.nio.ByteOrder.LITTLE_ENDIAN_$LI$()),this._data.setInt32(t+4,o,this._order===e.nio.ByteOrder.LITTLE_ENDIAN_$LI$()),this},n.prototype.putLong=function(e,t){if("number"!==typeof e&&null!==e||"number"!==typeof t&&null!==t){if("number"!==typeof e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.putLong$long(e)}return this.putLong$int$long(e,t)},n.prototype.putShort$short=function(t){if(this.isReadOnly())throw new e.nio.ReadOnlyBufferException;if(this.remaining()<2)throw new e.nio.BufferOverflowException;return this._data.setInt16(this.position$(),t,this._order===e.nio.ByteOrder.LITTLE_ENDIAN_$LI$()),this.position$int(this.position$()+2),this},n.prototype.putShort$int$short=function(t,n){if(this.isReadOnly())throw new e.nio.ReadOnlyBufferException;if(t<0||t>this.limit$()-1)throw new e.lang.IndexOutOfBoundsException;return this._data.setInt16(t,n,this._order===e.nio.ByteOrder.LITTLE_ENDIAN_$LI$()),this},n.prototype.putShort=function(e,t){if("number"!==typeof e&&null!==e||"number"!==typeof t&&null!==t){if("number"!==typeof e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.putShort$short(e)}return this.putShort$int$short(e,t)},n.prototype.slice=function(){return new n(this._buffer,this.isReadOnly())},n.prototype.hashCode=function(){return e.util.Objects.hash(this._array)},n.wrap$byte_A=function(e){return n.wrap$byte_A$int$int(e,0,e.length)},n.wrap$byte_A$int$int=function(e,t,r){var i=new ArrayBuffer(r);return new Int8Array(i).set(Int8Array.from(e.slice(t,t+r))),new n(i,!0)},n.wrap=function(t,n,r){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if(!(null!=t&&t instanceof ArrayBuffer||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if((null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)&&void 0===n&&void 0===r)return e.nio.ByteBuffer.wrap$byte_A(t);if((null!=t&&t instanceof ArrayBuffer||null===t)&&void 0===n&&void 0===r)return e.nio.ByteBuffer.wrap$def_js_ArrayBuffer(t);throw new Error("invalid overload")}return e.nio.ByteBuffer.wrap$def_js_ArrayBuffer$int$double(t,n,r)}return e.nio.ByteBuffer.wrap$byte_A$int$int(t,n,r)},n.wrap$def_js_ArrayBuffer=function(e){return n.wrap$def_js_ArrayBuffer$int$double(e,0,e.byteLength)},n.wrap$def_js_ArrayBuffer$int$double=function(e,t,r){return new n(e.slice(t,t+r),!1)},n}(e.nio.Buffer);t.ByteBuffer=n,n.__class="java.nio.ByteBuffer",n.__interfaces=["java.lang.Comparable"]}(e.nio||(e.nio={}))}(java||(java={})),function(e){!function(t){var n=function(e){function t(t){return e.call(this,t,null)||this}return __extends(t,e),t.UTF_8_$LI$=function(){return null==t.UTF_8&&(t.UTF_8=new t.UtfCharset("UTF-8")),t.UTF_8},t.ISO_LATIN_1_$LI$=function(){return null==t.ISO_LATIN_1&&(t.ISO_LATIN_1=new t.LatinCharset("ISO-LATIN-1")),t.ISO_LATIN_1},t.ISO_8859_1_$LI$=function(){return null==t.ISO_8859_1&&(t.ISO_8859_1=new t.LatinCharset("ISO-8859-1")),t.ISO_8859_1},t}(java.nio.charset.Charset);t.EmulatedCharset=n,n.__class="javaemul.internal.EmulatedCharset",n.__interfaces=["java.lang.Comparable"],function(t){var n=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.getBytes=function(e){for(var t,n=e.length,r=function(e){for(var t=[];e-- >0;)t.push(0);return t}(n),i=0;i<n;++i)r[i]=255&(null==(t=e.charAt(i)).charCodeAt?t:t.charCodeAt(0))|0;return r},t.prototype.decodeString=function(e,t,n){for(var r=function(e){for(var t=[];e-- >0;)t.push(null);return t}(n),i=0;i<n;++i)r[i]=String.fromCharCode(255&e[t+i]);return r},t}(e.internal.EmulatedCharset);t.LatinCharset=n,n.__class="javaemul.internal.EmulatedCharset.LatinCharset",n.__interfaces=["java.lang.Comparable"];var r=function(t){function n(e){return t.call(this,e)||this}return __extends(n,t),n.prototype.decodeString=function(t,n,r){for(var i=0,o=0;o<r;){if(++i,128===(192&(u=t[n+o])))throw new java.lang.IllegalArgumentException("Invalid UTF8 sequence");if(0===(128&u))++o;else if(192===(224&u))o+=2;else if(224===(240&u))o+=3;else{if(240!==(248&u))throw new java.lang.IllegalArgumentException("Invalid UTF8 sequence");o+=4}if(o>r)throw new java.lang.IndexOutOfBoundsException("Invalid UTF8 sequence")}var a=function(e){for(var t=[];e-- >0;)t.push(null);return t}(i),s=0,l=0;for(o=0;o<r;){var u;for(0===(128&(u=t[n+o++]))?(l=1,u&=127):192===(224&u)?(l=2,u&=31):224===(240&u)?(l=3,u&=15):240===(248&u)?(l=4,u&=7):248===(252&u)&&(l=5,u&=3);--l>0;){var c=t[n+o++];if(128!==(192&c))throw new java.lang.IllegalArgumentException("Invalid UTF8 sequence at "+(n+o-1)+", byte="+e.internal.IntegerHelper.toHexString(c));u=u<<6|63&c}s+=e.internal.CharacterHelper.toChars$int$char_A$int(u,a,s)}return a},n.prototype.getBytes=function(t){for(var n=t.length,r=0,i=0;i<n;){var o=t.charCodeAt(i);i+=e.internal.CharacterHelper.charCount(o),o<128?r++:o<2048?r+=2:o<65536?r+=3:o<1<<21?r+=4:o<1<<26&&(r+=5)}var a=function(e){for(var t=[];e-- >0;)t.push(0);return t}(r),s=0;for(i=0;i<n;){o=t.charCodeAt(i);i+=e.internal.CharacterHelper.charCount(o),s+=this.encodeUtf8(a,s,o)}return a},n.prototype.encodeUtf8=function(e,t,n){if(n<128)return e[t]=127&n|0,1;if(n<2048)return e[t++]=192|n>>6&31,e[t]=128|63&n,2;if(n<65536)return e[t++]=224|n>>12&15,e[t++]=128|n>>6&63,e[t]=128|63&n,3;if(n<1<<21)return e[t++]=240|n>>18&7,e[t++]=128|n>>12&63,e[t++]=128|n>>6&63,e[t]=128|63&n,4;if(n<1<<26)return e[t++]=248|n>>24&3,e[t++]=128|n>>18&63,e[t++]=128|n>>12&63,e[t++]=128|n>>6&63,e[t]=128|63&n,5;throw new java.lang.IllegalArgumentException("Character out of range: "+n)},n}(e.internal.EmulatedCharset);t.UtfCharset=r,r.__class="javaemul.internal.EmulatedCharset.UtfCharset",r.__interfaces=["java.lang.Comparable"]}(n=t.EmulatedCharset||(t.EmulatedCharset={}))}(e.internal||(e.internal={}))}(javaemul||(javaemul={})),function(e){var t;(function(t){var n=function(e){function t(t,n){var r=e.call(this,t)||this;return void 0===r.comparator&&(r.comparator=null),r.comparator=n,r}return __extends(t,e),t.prototype.end=function(){java.util.Collections.sort$java_util_List$java_util_Comparator(this.collection,this.comparator),e.prototype.end.call(this)},t}(e.internal.stream.StreamRowCollector);t.StreamRowSortingCollector=n,n.__class="javaemul.internal.stream.StreamRowSortingCollector",n.__interfaces=["javaemul.internal.stream.StreamRow"]})((t=e.internal||(e.internal={})).stream||(t.stream={}))}(javaemul||(javaemul={})),function(e){!function(t){var n=function(){function t(){}return t.prototype.putIfAbsent=function(e,t){var n=this.get(e);return null==n&&(n=this.put(e,t)),n},t.prototype.computeIfAbsent=function(e,t){var n,r;return null==(n=this.get(e))&&null!=(n="function"===typeof(r=t)?r(e):r.apply(e))&&this.put(e,n),n},t.prototype.merge=function(e,t,n){var r,i=this.get(e),o=null==i?t:"function"===typeof(r=n)?r(i,t):r.apply(i,t);return null==o?this.remove(e):this.put(e,o),o},t.prototype.getOrDefault=function(e,t){var n;return null!=(n=this.get(e))||this.containsKey(e)?n:t},t.prototype.replaceAll=function(t){e.util.Objects.requireNonNull(t);for(var n=function(n){var r,i,o,a=n.next();try{r=a.getKey(),i=a.getValue()}catch(s){throw new e.lang.RuntimeException(s)}i="function"===typeof(o=t)?o(r,i):o.apply(r,i);try{a.setValue(i)}catch(s){throw new e.lang.RuntimeException(s)}},r=this.entrySet().iterator();r.hasNext();)n(r)},t.prototype.clear=function(){this.entrySet().clear()},t.prototype.containsKey=function(e){return null!=this.implFindEntry(e,!1)},t.prototype.containsValue=function(t){for(var n=this.entrySet().iterator();n.hasNext();){var r=n.next().getValue();if(e.util.Objects.equals(t,r))return!0}return!1},t.prototype.containsEntry=function(t){var n=t.getKey(),r=t.getValue(),i=this.get(n);return!!e.util.Objects.equals(r,i)&&!(null==i&&!this.containsKey(n))},t.prototype.equals=function(e){if(e===this)return!0;if(!(null!=e&&null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("java.util.Map")>=0))return!1;var t=e;if(this.size()!==t.size())return!1;for(var n=t.entrySet().iterator();n.hasNext();){var r=n.next();if(!this.containsEntry(r))return!1}return!0},t.prototype.get=function(e){return t.getEntryValueOrNull(this.implFindEntry(e,!1))},t.prototype.hashCode=function(){return e.util.Collections.hashCode$java_lang_Iterable(this.entrySet())},t.prototype.isEmpty=function(){return 0===this.size()},t.prototype.keySet=function(){return new t.AbstractMap$0(this)},t.prototype.put=function(t,n){throw new e.lang.UnsupportedOperationException("Put not supported on this map")},t.prototype.putAll=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=e.entrySet().iterator();t.hasNext();){var n=t.next();this.put(n.getKey(),n.getValue())}},t.prototype.remove=function(e){return t.getEntryValueOrNull(this.implFindEntry(e,!0))},t.prototype.size=function(){return this.entrySet().size()},t.prototype.toString$=function(){for(var t=new e.util.StringJoiner(", ","{","}"),n=this.entrySet().iterator();n.hasNext();){var r=n.next();t.add(this.toString$java_util_Map_Entry(r))}return t.toString()},t.prototype.toString$java_util_Map_Entry=function(e){return this.toString$java_lang_Object(e.getKey())+"="+this.toString$java_lang_Object(e.getValue())},t.prototype.toString=function(e){if(null!=e&&null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("java.util.Map.Entry")>=0||null===e)return this.toString$java_util_Map_Entry(e);if(null!=e||null===e)return this.toString$java_lang_Object(e);if(void 0===e)return this.toString$();throw new Error("invalid overload")},t.prototype.toString$java_lang_Object=function(e){return e===this?"(this Map)":new String(e).toString()},t.prototype.values=function(){return new t.AbstractMap$1(this)},t.getEntryKeyOrNull=function(e){return null==e?null:e.getKey()},t.getEntryValueOrNull=function(e){return null==e?null:e.getValue()},t.prototype.implFindEntry=function(n,r){for(var i=this.entrySet().iterator();i.hasNext();){var o=i.next(),a=o.getKey();if(e.util.Objects.equals(n,a))return r&&(o=new t.SimpleEntry(o.getKey(),o.getValue()),i.remove()),o}return null},t}();t.AbstractMap=n,n.__class="java.util.AbstractMap",n.__interfaces=["java.util.Map"],function(t){var n=function(){function t(e,t){void 0===this.key&&(this.key=null),void 0===this.value&&(this.value=null),this.key=e,this.value=t}return t.prototype.getKey=function(){return this.key},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(e){var t=this.value;return this.value=e,t},t.prototype.equals=function(t){if(!(null!=t&&null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.util.Map.Entry")>=0))return!1;var n=t;return e.util.Objects.equals(this.key,n.getKey())&&e.util.Objects.equals(this.value,n.getValue())},t.prototype.hashCode=function(){return e.util.Objects.hashCode(this.key)^e.util.Objects.hashCode(this.value)},t.prototype.toString=function(){return this.key+"="+this.value},t}();t.AbstractEntry=n,n.__class="java.util.AbstractMap.AbstractEntry",n.__interfaces=["java.util.Map.Entry"];var r=function(e){function t(t,n){var r=this;if(null==t&&null!==t||null==n&&null!==n){if(!(null!=t&&null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.util.Map.Entry")>=0||null===t)||void 0!==n)throw new Error("invalid overload");var i=arguments[0];r=e.call(this,i.getKey(),i.getValue())||this}else{r=e.call(this,t,n)||this}return r}return __extends(t,e),t}(t.AbstractEntry);t.SimpleEntry=r,r.__class="java.util.AbstractMap.SimpleEntry",r.__interfaces=["java.util.Map.Entry"];var i=function(t){function n(e,n){var r=this;if(null==e&&null!==e||null==n&&null!==n){if(!(null!=e&&null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("java.util.Map.Entry")>=0||null===e)||void 0!==n)throw new Error("invalid overload");var i=arguments[0];r=t.call(this,i.getKey(),i.getValue())||this}else{r=t.call(this,e,n)||this}return r}return __extends(n,t),n.prototype.setValue=function(t){throw new e.lang.UnsupportedOperationException},n}(t.AbstractEntry);t.SimpleImmutableEntry=i,i.__class="java.util.AbstractMap.SimpleImmutableEntry",i.__interfaces=["java.util.Map.Entry"];var o=function(e){function t(t){var n=e.call(this)||this;return n.__parent=t,n}return __extends(t,e),t.prototype.clear=function(){this.clear()},t.prototype.contains=function(e){return this.__parent.containsKey(e)},t.prototype.iterator=function(){var e=this.__parent.entrySet().iterator();return new t.AbstractMap$0$0(this,e)},t.prototype.remove=function(e){return!!this.__parent.containsKey(e)&&(this.remove(e),!0)},t.prototype.size=function(){return this.size()},t}(e.util.AbstractSet);t.AbstractMap$0=o,o.__interfaces=["java.util.Collection","java.util.Set","java.lang.Iterable"],function(e){var t=function(){function e(e,t){this.outerIter=t,this.__parent=e}return e.prototype.forEachRemaining=function(e){var t,n=this;for(javaemul.internal.InternalPreconditions.checkNotNull(e);this.hasNext();)"function"===typeof(t=e)?t(n.next()):t.accept(n.next())},e.prototype.hasNext=function(){return this.outerIter.hasNext()},e.prototype.next=function(){return this.outerIter.next().getKey()},e.prototype.remove=function(){this.outerIter.remove()},e}();e.AbstractMap$0$0=t,t.__interfaces=["java.util.Iterator"]}(o=t.AbstractMap$0||(t.AbstractMap$0={}));var a=function(e){function t(t){var n=e.call(this)||this;return n.__parent=t,n}return __extends(t,e),t.prototype.clear=function(){this.clear()},t.prototype.contains=function(e){return this.__parent.containsValue(e)},t.prototype.iterator=function(){var e=this.__parent.entrySet().iterator();return new t.AbstractMap$1$0(this,e)},t.prototype.size=function(){return this.size()},t}(e.util.AbstractCollection);t.AbstractMap$1=a,a.__interfaces=["java.util.Collection","java.lang.Iterable"],function(e){var t=function(){function e(e,t){this.outerIter=t,this.__parent=e}return e.prototype.forEachRemaining=function(e){var t,n=this;for(javaemul.internal.InternalPreconditions.checkNotNull(e);this.hasNext();)"function"===typeof(t=e)?t(n.next()):t.accept(n.next())},e.prototype.hasNext=function(){return this.outerIter.hasNext()},e.prototype.next=function(){return this.outerIter.next().getValue()},e.prototype.remove=function(){this.outerIter.remove()},e}();e.AbstractMap$1$0=t,t.__interfaces=["java.util.Iterator"]}(a=t.AbstractMap$1||(t.AbstractMap$1={}))}(n=t.AbstractMap||(t.AbstractMap={}))}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(t){function n(n,r){var i=this;if("number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r)if((null!=n&&null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("java.util.Collection")>=0||null===n)&&void 0===r){var o=arguments[0];void 0===(i=t.call(this)||this).map&&(i.map=null),void 0===i.exposeElement&&(i.exposeElement=null),i.map=new e.util.HashMap(o.size()),i.addAll(o)}else if((null!=n&&n instanceof e.util.HashMap||null===n)&&void 0===r){var a=arguments[0];void 0===(i=t.call(this)||this).map&&(i.map=null),void 0===i.exposeElement&&(i.exposeElement=null),i.map=a}else if("number"!==typeof n&&null!==n||void 0!==r){if(void 0!==n||void 0!==r)throw new Error("invalid overload");void 0===(i=t.call(this)||this).map&&(i.map=null),void 0===i.exposeElement&&(i.exposeElement=null),i.map=new e.util.HashMap}else{void 0===(i=t.call(this)||this).map&&(i.map=null),void 0===i.exposeElement&&(i.exposeElement=null),i.map=new e.util.HashMap(n)}else{void 0===(i=t.call(this)||this).map&&(i.map=null),void 0===i.exposeElement&&(i.exposeElement=null),i.map=new e.util.HashMap(n,r)}return i}return __extends(n,t),n.prototype.stream=function(){return new javaemul.internal.stream.StreamHelper(this)},n.prototype.forEach=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=function(t){var n,r=t.next();"function"===typeof(n=e)?n(r):n.accept(r)},n=this.iterator();n.hasNext();)t(n)},n.prototype.parallelStream=function(){return this.stream()},n.prototype.removeIf=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=!1,n=function(n){var r;("function"===typeof(r=e)?r(n.next()):r.test(n.next()))&&(n.remove(),t=!0)},r=this.iterator();r.hasNext();)n(r);return t},n.prototype.add=function(e){return null==this.map.put(e,this)},n.prototype.clear=function(){this.map.clear()},n.prototype.clone=function(){return new n(this)},n.prototype.contains=function(e){return this.map.containsKey(e)},n.prototype.isEmpty=function(){return this.map.isEmpty()},n.prototype.iterator=function(){return this.map.keySet().iterator()},n.prototype.remove=function(e){return null!=this.map.remove(e)},n.prototype.size=function(){return this.map.size()},n.prototype.toString=function(){return this.map.keySet().toString()},n}(e.util.AbstractSet);t.HashSet=n,n.__class="java.util.HashSet",n.__interfaces=["java.lang.Cloneable","java.util.Collection","java.util.Set","java.lang.Iterable","java.io.Serializable"]}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(t){function n(){return t.call(this)||this}return __extends(n,t),n.allOf=function(e){var t=e.getEnumConstants(),r=javaemul.internal.ArrayHelper.clone(t,0,t.length);return new n.EnumSetImpl(t,r,t.length)},n.complementOf=function(e){for(var t=e,r=t.all,i=t.set,o=javaemul.internal.ArrayHelper.createFrom(i,i.length),a=0,s=i.length;a<s;++a)null==i[a]&&(o[a]=r[a]);return new n.EnumSetImpl(r,o,r.length-t.__size)},n.copyOf$java_util_Collection=function(t){if(null!=t&&t instanceof e.util.EnumSet)return n.copyOf$java_util_Collection(t);javaemul.internal.InternalPreconditions.checkArgument(!t.isEmpty(),"Collection is empty");for(var r=t.iterator(),i=r.next(),o=n.of(i);r.hasNext();){var a=r.next();o.add(a)}return o},n.copyOf$java_util_EnumSet=function(e){return function(e){if(void 0!=e.clone)return e.clone();var t=Object.create(e);for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(e)},n.copyOf=function(t){if(null!=t&&t instanceof e.util.EnumSet||null===t)return e.util.EnumSet.copyOf$java_util_EnumSet(t);if(null!=t&&null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.util.Collection")>=0||null===t)return e.util.EnumSet.copyOf$java_util_Collection(t);throw new Error("invalid overload")},n.noneOf=function(e){var t=e.getEnumConstants();return new n.EnumSetImpl(t,javaemul.internal.ArrayHelper.createFrom(t,t.length),0)},n.ofOne=function(e){var t=n.noneOf(e.getDeclaringClass());return t.add(e),t},n.of=function(t){for(var r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a=n.ofOne(t);return(r=e.util.Collections).addAll.apply(r,__spreadArrays([a],i)),a},n.range=function(e,t){javaemul.internal.InternalPreconditions.checkArgument(e.compareTo(t)<=0,"%s > %s",e,t);for(var r=e.getDeclaringClass().getEnumConstants(),i=javaemul.internal.ArrayHelper.createFrom(r,r.length),o=e.ordinal(),a=t.ordinal()+1,s=o;s<a;++s)i[s]=r[s];return new n.EnumSetImpl(r,i,a-o)},n}(e.util.AbstractSet);t.EnumSet=n,n.__class="java.util.EnumSet",n.__interfaces=["java.util.Collection","java.util.Set","java.lang.Iterable"],function(t){var n=function(n){function r(e,t,r){var i=n.call(this)||this;return void 0===i.all&&(i.all=null),void 0===i.set&&(i.set=null),void 0===i.__size&&(i.__size=0),i.all=e,i.set=t,i.__size=r,i}return __extends(r,n),r.prototype.add$java_lang_Enum=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);var t=e.ordinal();return null==this.set[t]&&(this.set[t]=e,++this.__size,!0)},r.prototype.add=function(e){if(null!=e||null===e)return this.add$java_lang_Enum(e);if(null!=e||null===e)return n.prototype.add.call(this,e);throw new Error("invalid overload")},r.prototype.clone=function(){var e=javaemul.internal.ArrayHelper.clone(this.set,0,this.set.length);return new t.EnumSetImpl(this.all,e,this.__size)},r.prototype.contains=function(t){return null!=t&&t instanceof e.lang.Enum&&this.containsEnum(t)},r.prototype.containsEnum=function(e){return null!=e&&this.set[e.ordinal()]===e},r.prototype.iterator=function(){return new r.IteratorImpl(this)},r.prototype.remove=function(t){return null!=t&&t instanceof e.lang.Enum&&this.removeEnum(t)},r.prototype.removeEnum=function(e){return null!=e&&this.set[e.ordinal()]===e&&(this.set[e.ordinal()]=null,--this.__size,!0)},r.prototype.size=function(){return this.__size},r.prototype.capacity=function(){return this.all.length},r}(e.util.EnumSet);t.EnumSetImpl=n,n.__class="java.util.EnumSet.EnumSetImpl",n.__interfaces=["java.util.Collection","java.util.Set","java.lang.Iterable"],function(e){var t=function(){function e(e){this.__parent=e,this.i=-1,this.last=-1,this.findNext()}return e.prototype.forEachRemaining=function(e){var t,n=this;for(javaemul.internal.InternalPreconditions.checkNotNull(e);this.hasNext();)"function"===typeof(t=e)?t(n.next()):t.accept(n.next())},e.prototype.hasNext=function(){return this.i<this.__parent.capacity()},e.prototype.next=function(){return javaemul.internal.InternalPreconditions.checkElement(this.hasNext()),this.last=this.i,this.findNext(),this.__parent.set[this.last]},e.prototype.remove=function(){javaemul.internal.InternalPreconditions.checkState(-1!==this.last),this.__parent.set[this.last]=null,--this.__parent.__size,this.last=-1},e.prototype.findNext=function(){++this.i;for(var e=this.__parent.capacity();this.i<e;++this.i)if(null!=this.__parent.set[this.i])return},e}();e.IteratorImpl=t,t.__class="java.util.EnumSet.EnumSetImpl.IteratorImpl",t.__interfaces=["java.util.Iterator"]}(n=t.EnumSetImpl||(t.EnumSetImpl={}))}(n=t.EnumSet||(t.EnumSet={}))}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(t){function n(n){var r=this;if(null!=n&&null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("java.util.Collection")>=0||null===n){void 0===(r=t.call(this)||this).map&&(r.map=null),r.map=new e.util.TreeMap,void 0===r.map&&(r.map=null),r.addAll(n)}else if("function"===typeof n&&2===n.length||null===n){void 0===(r=t.call(this)||this).map&&(r.map=null),r.map=new e.util.TreeMap(n)}else if(null!=n&&null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("java.util.SortedSet")>=0||null===n){var i=arguments[0],o=javaemul.internal.InternalPreconditions.checkNotNull(i).comparator();void 0===(r=t.call(this)||this).map&&(r.map=null),r.map=new e.util.TreeMap(o),void 0===r.map&&(r.map=null),r.addAll(i)}else if(null!=n&&null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("java.util.NavigableMap")>=0||null===n){var a=arguments[0];void 0===(r=t.call(this)||this).map&&(r.map=null),r.map=a}else{if(void 0!==n)throw new Error("invalid overload");void 0===(r=t.call(this)||this).map&&(r.map=null),r.map=new e.util.TreeMap}return r}return __extends(n,t),n.prototype.stream=function(){return new javaemul.internal.stream.StreamHelper(this)},n.prototype.forEach=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=function(t){var n,r=t.next();"function"===typeof(n=e)?n(r):n.accept(r)},n=this.iterator();n.hasNext();)t(n)},n.prototype.parallelStream=function(){return this.stream()},n.prototype.removeIf=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=!1,n=function(n){var r;("function"===typeof(r=e)?r(n.next()):r.test(n.next()))&&(n.remove(),t=!0)},r=this.iterator();r.hasNext();)n(r);return t},n.prototype.add=function(e){return null==this.map.put(e,javaemul.internal.BooleanHelper.FALSE)},n.prototype.ceiling=function(e){return this.map.ceilingKey(e)},n.prototype.clear=function(){this.map.clear()},n.prototype.comparator=function(){return this.map.comparator()},n.prototype.contains=function(e){return this.map.containsKey(e)},n.prototype.descendingIterator=function(){return this.descendingSet().iterator()},n.prototype.descendingSet=function(){return new n(this.map.descendingMap())},n.prototype.first=function(){return this.map.firstKey()},n.prototype.floor=function(e){return this.map.floorKey(e)},n.prototype.headSet$java_lang_Object=function(e){return this.headSet(e,!1)},n.prototype.headSet$java_lang_Object$boolean=function(e,t){return new n(this.map.headMap(e,t))},n.prototype.headSet=function(e,t){if(null==e&&null!==e||"boolean"!==typeof t&&null!==t){if(null==e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.headSet$java_lang_Object(e)}return this.headSet$java_lang_Object$boolean(e,t)},n.prototype.higher=function(e){return this.map.higherKey(e)},n.prototype.iterator=function(){return this.map.keySet().iterator()},n.prototype.last=function(){return this.map.lastKey()},n.prototype.lower=function(e){return this.map.lowerKey(e)},n.prototype.pollFirst=function(){return e.util.AbstractMap.getEntryKeyOrNull(this.map.pollFirstEntry())},n.prototype.pollLast=function(){return e.util.AbstractMap.getEntryKeyOrNull(this.map.pollLastEntry())},n.prototype.remove=function(e){return null!=this.map.remove(e)},n.prototype.size=function(){return this.map.size()},n.prototype.subSet$java_lang_Object$boolean$java_lang_Object$boolean=function(e,t,r,i){return new n(this.map.subMap(e,t,r,i))},n.prototype.subSet=function(e,t,n,r){if(null==e&&null!==e||"boolean"!==typeof t&&null!==t||null==n&&null!==n||"boolean"!==typeof r&&null!==r){if(null==e&&null!==e||null==t&&null!==t||void 0!==n||void 0!==r)throw new Error("invalid overload");return this.subSet$java_lang_Object$java_lang_Object(e,t)}return this.subSet$java_lang_Object$boolean$java_lang_Object$boolean(e,t,n,r)},n.prototype.subSet$java_lang_Object$java_lang_Object=function(e,t){return this.subSet(e,!0,t,!1)},n.prototype.tailSet$java_lang_Object=function(e){return this.tailSet(e,!0)},n.prototype.tailSet$java_lang_Object$boolean=function(e,t){return new n(this.map.tailMap(e,t))},n.prototype.tailSet=function(e,t){if(null==e&&null!==e||"boolean"!==typeof t&&null!==t){if(null==e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.tailSet$java_lang_Object(e)}return this.tailSet$java_lang_Object$boolean(e,t)},n}(e.util.AbstractSet);t.TreeSet=n,n.__class="java.util.TreeSet",n.__interfaces=["java.util.SortedSet","java.util.Collection","java.util.Set","java.util.NavigableSet","java.lang.Iterable","java.io.Serializable"]}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(t){function n(n,r){var i=this;if("number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r)if((null!=n&&null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("java.util.Collection")>=0||null===n)&&void 0===r){var o=arguments[0];void 0===(i=t.call(this)||this).arrayList&&(i.arrayList=null),void 0===i.exposeElement&&(i.exposeElement=null),i.arrayList=new e.util.ArrayList,i.addAll$java_util_Collection(o)}else if("number"!==typeof n&&null!==n||void 0!==r){if(void 0!==n||void 0!==r)throw new Error("invalid overload");void 0===(i=t.call(this)||this).arrayList&&(i.arrayList=null),void 0===i.exposeElement&&(i.exposeElement=null),i.arrayList=new e.util.ArrayList}else{void 0===(i=t.call(this)||this).arrayList&&(i.arrayList=null),void 0===i.exposeElement&&(i.exposeElement=null),i.arrayList=new e.util.ArrayList(n)}else{void 0===(i=t.call(this)||this).arrayList&&(i.arrayList=null),void 0===i.exposeElement&&(i.exposeElement=null),i.arrayList=new e.util.ArrayList(n),void 0===i.arrayList&&(i.arrayList=null),void 0===i.exposeElement&&(i.exposeElement=null)}return i}return __extends(n,t),n.prototype.stream=function(){return new javaemul.internal.stream.StreamHelper(this)},n.prototype.forEach=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=function(t){var n,r=t.next();"function"===typeof(n=e)?n(r):n.accept(r)},n=this.iterator();n.hasNext();)t(n)},n.prototype.parallelStream=function(){return this.stream()},n.prototype.sort=function(t){var n=this.toArray();e.util.Arrays.sort(n,t);for(var r=this.listIterator(),i=0;i<n.length;i++){var o=n[i];r.next(),r.set(o)}},n.prototype.removeIf=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=!1,n=function(n){var r;("function"===typeof(r=e)?r(n.next()):r.test(n.next()))&&(n.remove(),t=!0)},r=this.iterator();r.hasNext();)n(r);return t},n.prototype.add$java_lang_Object=function(e){return this.arrayList.add(e)},n.prototype.add$int$java_lang_Object=function(e,t){n.checkArrayElementIndex(e,this.size()+1),this.arrayList.add(e,t)},n.prototype.add=function(e,t){if("number"!==typeof e&&null!==e||null==t&&null!==t){if(null==e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.add$java_lang_Object(e)}return this.add$int$java_lang_Object(e,t)},n.prototype.addAll$java_util_Collection=function(e){return this.arrayList.addAll$java_util_Collection(e)},n.prototype.addAll$int$java_util_Collection=function(e,t){return this.arrayList.addAll$int$java_util_Collection(e,t)},n.prototype.addAll=function(e,t){if("number"!==typeof e&&null!==e||!(null!=t&&null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.util.Collection")>=0||null===t)){if((null!=e&&null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("java.util.Collection")>=0||null===e)&&void 0===t)return this.addAll$java_util_Collection(e);throw new Error("invalid overload")}return this.addAll$int$java_util_Collection(e,t)},n.prototype.addElement=function(e){this.add(e)},n.prototype.capacity=function(){return this.arrayList.size()},n.prototype.clear=function(){this.arrayList.clear()},n.prototype.clone=function(){return new n(this)},n.prototype.contains=function(e){return this.arrayList.contains(e)},n.prototype.containsAll=function(e){return this.arrayList.containsAll(e)},n.prototype.copyInto=function(e){for(var t=-1,n=this.size();++t<n;)e[t]=this.get(t)},n.prototype.elementAt=function(e){return this.get(e)},n.prototype.elements=function(){return e.util.Collections.enumeration(this.arrayList)},n.prototype.ensureCapacity=function(e){this.arrayList.ensureCapacity(e)},n.prototype.firstElement=function(){return javaemul.internal.InternalPreconditions.checkElement(!this.isEmpty()),this.get(0)},n.prototype.get=function(e){return n.checkArrayElementIndex(e,this.size()),this.arrayList.get(e)},n.prototype.indexOf$java_lang_Object=function(e){return this.arrayList.indexOf$java_lang_Object(e)},n.prototype.indexOf$java_lang_Object$int=function(e,t){return n.checkArrayIndexOutOfBounds(t>=0,t),this.arrayList.indexOf$java_lang_Object$int(e,t)},n.prototype.indexOf=function(e,t){if(null==e&&null!==e||"number"!==typeof t&&null!==t){if(null==e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.indexOf$java_lang_Object(e)}return this.indexOf$java_lang_Object$int(e,t)},n.prototype.insertElementAt=function(e,t){this.add(t,e)},n.prototype.isEmpty=function(){return 0===this.arrayList.size()},n.prototype.iterator=function(){return this.arrayList.iterator()},n.prototype.lastElement=function(){return javaemul.internal.InternalPreconditions.checkElement(!this.isEmpty()),this.get(this.size()-1)},n.prototype.lastIndexOf$java_lang_Object=function(e){return this.arrayList.lastIndexOf$java_lang_Object(e)},n.prototype.lastIndexOf$java_lang_Object$int=function(e,t){return n.checkArrayIndexOutOfBounds(t<this.size(),t),this.arrayList.lastIndexOf$java_lang_Object$int(e,t)},n.prototype.lastIndexOf=function(e,t){if(null==e&&null!==e||"number"!==typeof t&&null!==t){if(null==e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.lastIndexOf$java_lang_Object(e)}return this.lastIndexOf$java_lang_Object$int(e,t)},n.prototype.remove$int=function(e){return n.checkArrayElementIndex(e,this.size()),this.arrayList.remove$int(e)},n.prototype.remove=function(e){if("number"===typeof e||null===e)return this.remove$int(e);if(null!=e||null===e)return t.prototype.remove.call(this,e);throw new Error("invalid overload")},n.prototype.removeAll=function(e){return this.arrayList.removeAll(e)},n.prototype.removeAllElements=function(){this.clear()},n.prototype.removeElement=function(e){return this.remove(e)},n.prototype.removeElementAt=function(e){this.remove$int(e)},n.prototype.set=function(e,t){return n.checkArrayElementIndex(e,this.size()),this.arrayList.set(e,t)},n.prototype.setElementAt=function(e,t){this.set(t,e)},n.prototype.setSize=function(e){n.checkArrayIndexOutOfBounds(e>=0,e),this.arrayList.setSize(e)},n.prototype.size=function(){return this.arrayList.size()},n.prototype.subList=function(e,t){return this.arrayList.subList(e,t)},n.prototype.toArray$=function(){return this.arrayList.toArray$()},n.prototype.toArray$java_lang_Object_A=function(e){return this.arrayList.toArray$java_lang_Object_A(e)},n.prototype.toArray=function(e){if(null!=e&&e instanceof Array&&(0==e.length||null==e[0]||null!=e[0])||null===e)return this.toArray$java_lang_Object_A(e);if(void 0===e)return this.toArray$();throw new Error("invalid overload")},n.prototype.toString=function(){return this.arrayList.toString()},n.prototype.trimToSize=function(){this.arrayList.trimToSize()},n.prototype.removeRange=function(e,t){this.arrayList.removeRange(e,t)},n.checkArrayElementIndex=function(t,n){if(t<0||t>=n)throw new e.lang.ArrayIndexOutOfBoundsException},n.checkArrayIndexOutOfBounds=function(t,n){if(!t)throw new e.lang.ArrayIndexOutOfBoundsException(new String(n).toString())},n}(e.util.AbstractList);t.Vector=n,n.__class="java.util.Vector",n.__interfaces=["java.util.RandomAccess","java.util.List","java.lang.Cloneable","java.util.Collection","java.lang.Iterable","java.io.Serializable"]}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(t){function n(){return t.call(this)||this}return __extends(n,t),n.prototype.add$int$java_lang_Object=function(e,t){this.listIterator$int(e).add(t)},n.prototype.add=function(e,t){if("number"!==typeof e&&null!==e||null==t&&null!==t){if(null==e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.add$java_lang_Object(e)}return this.add$int$java_lang_Object(e,t)},n.prototype.addAll$int$java_util_Collection=function(e,t){javaemul.internal.InternalPreconditions.checkNotNull(t);for(var n=!1,r=this.listIterator$int(e),i=t.iterator();i.hasNext();){var o=i.next();r.add(o),n=!0}return n},n.prototype.addAll=function(e,n){if("number"!==typeof e&&null!==e||!(null!=n&&null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("java.util.Collection")>=0||null===n)){if((null!=e&&null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("java.util.Collection")>=0||null===e)&&void 0===n)return t.prototype.addAll.call(this,e);throw new Error("invalid overload")}return this.addAll$int$java_util_Collection(e,n)},n.prototype.get=function(t){var n=this.listIterator$int(t);try{return n.next()}catch(r){throw new e.lang.IndexOutOfBoundsException("Can't get element "+t)}},n.prototype.iterator=function(){return this.listIterator$()},n.prototype.listIterator$int=function(e){throw new Error("cannot invoke abstract overloaded method... check your argument(s) type(s)")},n.prototype.listIterator=function(e){if("number"===typeof e||null===e)return this.listIterator$int(e);if(void 0===e)return this.listIterator$();throw new Error("invalid overload")},n.prototype.remove$int=function(t){var n=this.listIterator$int(t);try{var r=n.next();return n.remove(),r}catch(i){throw new e.lang.IndexOutOfBoundsException("Can't remove element "+t)}},n.prototype.remove=function(e){if("number"===typeof e||null===e)return this.remove$int(e);if(null!=e||null===e)return t.prototype.remove.call(this,e);throw new Error("invalid overload")},n.prototype.set=function(t,n){var r=this.listIterator$int(t);try{var i=r.next();return r.set(n),i}catch(o){throw new e.lang.IndexOutOfBoundsException("Can't set element "+t)}},n}(e.util.AbstractList);t.AbstractSequentialList=n,n.__class="java.util.AbstractSequentialList",n.__interfaces=["java.util.List","java.util.Collection","java.lang.Iterable"]}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(t){function n(e){var n=this;if(null!=e&&null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("java.util.Collection")>=0||null===e){void 0===(n=t.call(this)||this).array&&(n.array=null),void 0===n.exposeElement&&(n.exposeElement=null),n.array=[],javaemul.internal.ArrayHelper.insertValuesToArray(n.array,0,e.toArray$())}else if("number"===typeof e||null===e){var r=arguments[0];void 0===(n=t.call(this)||this).array&&(n.array=null),void 0===n.exposeElement&&(n.exposeElement=null),javaemul.internal.InternalPreconditions.checkArgument(r>=0,"Initial capacity must not be negative"),n.array=[]}else{if(void 0!==e)throw new Error("invalid overload");void 0===(n=t.call(this)||this).array&&(n.array=null),void 0===n.exposeElement&&(n.exposeElement=null),n.array=[]}return n}return __extends(n,t),n.prototype.stream=function(){return new javaemul.internal.stream.StreamHelper(this)},n.prototype.forEach=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=function(t){var n,r=t.next();"function"===typeof(n=e)?n(r):n.accept(r)},n=this.iterator();n.hasNext();)t(n)},n.prototype.parallelStream=function(){return this.stream()},n.prototype.sort=function(t){var n=this.toArray();e.util.Arrays.sort(n,t);for(var r=this.listIterator(),i=0;i<n.length;i++){var o=n[i];r.next(),r.set(o)}},n.prototype.removeIf=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=!1,n=function(n){var r;("function"===typeof(r=e)?r(n.next()):r.test(n.next()))&&(n.remove(),t=!0)},r=this.iterator();r.hasNext();)n(r);return t},n.prototype.add$java_lang_Object=function(e){return this.array[this.array.length]=e,!0},n.prototype.add$int$java_lang_Object=function(e,t){javaemul.internal.InternalPreconditions.checkPositionIndex(e,this.array.length),javaemul.internal.ArrayHelper.insertTo$java_lang_Object$int$java_lang_Object(this.array,e,t)},n.prototype.add=function(e,t){if("number"!==typeof e&&null!==e||null==t&&null!==t){if(null==e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.add$java_lang_Object(e)}return this.add$int$java_lang_Object(e,t)},n.prototype.addAll$java_util_Collection=function(e){var t=e.toArray$();return 0!==t.length&&(javaemul.internal.ArrayHelper.insertValuesToArray(this.array,this.array.length,t),!0)},n.prototype.addAll$int$java_util_Collection=function(e,t){javaemul.internal.InternalPreconditions.checkPositionIndex(e,this.array.length);var n=t.toArray$();return 0!==n.length&&(javaemul.internal.ArrayHelper.insertValuesToArray(this.array,e,n),!0)},n.prototype.addAll=function(e,t){if("number"!==typeof e&&null!==e||!(null!=t&&null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.util.Collection")>=0||null===t)){if((null!=e&&null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("java.util.Collection")>=0||null===e)&&void 0===t)return this.addAll$java_util_Collection(e);throw new Error("invalid overload")}return this.addAll$int$java_util_Collection(e,t)},n.prototype.clear=function(){this.array=[]},n.prototype.clone=function(){return new n(this)},n.prototype.contains=function(e){return-1!==this.indexOf$java_lang_Object(e)},n.prototype.ensureCapacity=function(e){},n.prototype.get=function(e){return javaemul.internal.InternalPreconditions.checkElementIndex(e,this.array.length),this.array[e]},n.prototype.indexOf$java_lang_Object=function(e){return this.indexOf$java_lang_Object$int(e,0)},n.prototype.iterator=function(){return new n.ArrayList$0(this)},n.prototype.isEmpty=function(){return 0===this.array.length},n.prototype.lastIndexOf$java_lang_Object=function(e){return this.lastIndexOf$java_lang_Object$int(e,this.size()-1)},n.prototype.remove$int=function(e){var t=this.get(e);return javaemul.internal.ArrayHelper.removeFrom(this.array,e,1),t},n.prototype.remove=function(e){if("number"===typeof e||null===e)return this.remove$int(e);if(null!=e||null===e)return this.remove$java_lang_Object(e);throw new Error("invalid overload")},n.prototype.remove$java_lang_Object=function(e){var t=this.indexOf$java_lang_Object(e);return-1!==t&&(this.remove$int(t),!0)},n.prototype.set=function(e,t){var n=this.get(e);return this.array[e]=t,n},n.prototype.size=function(){return this.array.length},n.prototype.toArray$=function(){return javaemul.internal.ArrayHelper.clone(this.array,0,this.array.length)},n.prototype.toArray$java_lang_Object_A=function(e){var t=this.array.length;e.length<t&&(e=javaemul.internal.ArrayHelper.createFrom(e,t));for(var n=0;n<t;++n)e[n]=this.array[n];return e.length>t&&(e[t]=null),e},n.prototype.toArray=function(e){if(null!=e&&e instanceof Array&&(0==e.length||null==e[0]||null!=e[0])||null===e)return this.toArray$java_lang_Object_A(e);if(void 0===e)return this.toArray$();throw new Error("invalid overload")},n.prototype.trimToSize=function(){},n.prototype.removeRange=function(e,t){javaemul.internal.InternalPreconditions.checkPositionIndexes(e,t,this.array.length);var n=t-e;javaemul.internal.ArrayHelper.removeFrom(this.array,e,n)},n.prototype.indexOf$java_lang_Object$int=function(t,n){for(;n<this.array.length;++n)if(e.util.Objects.equals(t,this.array[n]))return n;return-1},n.prototype.indexOf=function(e,t){if(null==e&&null!==e||"number"!==typeof t&&null!==t){if(null==e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.indexOf$java_lang_Object(e)}return this.indexOf$java_lang_Object$int(e,t)},n.prototype.lastIndexOf$java_lang_Object$int=function(t,n){for(;n>=0;--n)if(e.util.Objects.equals(t,this.array[n]))return n;return-1},n.prototype.lastIndexOf=function(e,t){if(null==e&&null!==e||"number"!==typeof t&&null!==t){if(null==e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.lastIndexOf$java_lang_Object(e)}return this.lastIndexOf$java_lang_Object$int(e,t)},n.prototype.setSize=function(e){javaemul.internal.ArrayHelper.setLength(this.array,e)},n}(e.util.AbstractList);t.ArrayList=n,n.__class="java.util.ArrayList",n.__interfaces=["java.util.RandomAccess","java.util.List","java.lang.Cloneable","java.util.Collection","java.lang.Iterable","java.io.Serializable"],function(e){var t=function(){function e(e){this.__parent=e,this.i=0,this.last=-1}return e.prototype.forEachRemaining=function(e){var t,n=this;for(javaemul.internal.InternalPreconditions.checkNotNull(e);this.hasNext();)"function"===typeof(t=e)?t(n.next()):t.accept(n.next())},e.prototype.hasNext=function(){return this.i<this.__parent.array.length},e.prototype.next=function(){return javaemul.internal.InternalPreconditions.checkElement(this.hasNext()),this.last=this.i++,this.__parent.array[this.last]},e.prototype.remove=function(){javaemul.internal.InternalPreconditions.checkState(-1!==this.last),this.__parent.remove$int(this.i=this.last),this.last=-1},e}();e.ArrayList$0=t,t.__interfaces=["java.util.Iterator"]}(n=t.ArrayList||(t.ArrayList={}))}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(){function t(){}return t.asList=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])&&(e=e[0]),new t.ArrayList(e)},t.stream=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.asList.apply(this,e).stream()},t.binarySearch$byte_A$byte=function(e,t){for(var n=0,r=e.length-1;n<=r;){var i=n+(r-n>>1),o=e[i];if(o<t)n=i+1;else{if(!(o>t))return i;r=i-1}}return-n-1},t.binarySearch$char_A$char=function(e,t){for(var n,r=0,i=e.length-1;r<=i;){var o=r+(i-r>>1),a=e[o];if((null==(n=a).charCodeAt?n:n.charCodeAt(0))<function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(t))r=o+1;else{if(!(function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(a)>function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(t)))return o;i=o-1}}return-r-1},t.binarySearch$double_A$double=function(e,t){for(var n=0,r=e.length-1;n<=r;){var i=n+(r-n>>1),o=e[i];if(o<t)n=i+1;else{if(!(o>t))return i;r=i-1}}return-n-1},t.binarySearch$float_A$float=function(e,t){for(var n=0,r=e.length-1;n<=r;){var i=n+(r-n>>1),o=e[i];if(o<t)n=i+1;else{if(!(o>t))return i;r=i-1}}return-n-1},t.binarySearch$int_A$int=function(e,t){for(var n=0,r=e.length-1;n<=r;){var i=n+(r-n>>1),o=e[i];if(o<t)n=i+1;else{if(!(o>t))return i;r=i-1}}return-n-1},t.binarySearch$long_A$long=function(e,t){for(var n=0,r=e.length-1;n<=r;){var i=n+(r-n>>1),o=e[i];if(o<t)n=i+1;else{if(!(o>t))return i;r=i-1}}return-n-1},t.binarySearch$java_lang_Object_A$java_lang_Object=function(n,r){return t.binarySearch(n,r,e.util.Comparators.natural())},t.binarySearch$short_A$short=function(e,t){for(var n=0,r=e.length-1;n<=r;){var i=n+(r-n>>1),o=e[i];if(o<t)n=i+1;else{if(!(o>t))return i;r=i-1}}return-n-1},t.binarySearch$java_lang_Object_A$java_lang_Object$java_util_Comparator=function(t,n,r){null==r&&(r=e.util.Comparators.natural());for(var i,o=0,a=t.length-1;o<=a;){var s=o+(a-o>>1),l=t[s],u=(void 0===(i=r).compare?i:i.compare)(l,n);if(u<0)o=s+1;else{if(!(u>0))return s;a=s-1}}return-o-1},t.binarySearch=function(t,n,r){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||null!=t[0])||null===t)||null==n&&null!==n||("function"!==typeof r||2!==r.length)&&null!==r){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||void 0!==r){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"string"===typeof t[0])||null===t)||"string"!==typeof n&&null!==n||void 0!==r){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||void 0!==r){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||void 0!==r){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||void 0!==r){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||void 0!==r){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||void 0!==r){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||null!=t[0])||null===t)||null==n&&null!==n||void 0!==r)throw new Error("invalid overload");return e.util.Arrays.binarySearch$java_lang_Object_A$java_lang_Object(t,n)}return e.util.Arrays.binarySearch$double_A$double(t,n)}return e.util.Arrays.binarySearch$float_A$float(t,n)}return e.util.Arrays.binarySearch$long_A$long(t,n)}return e.util.Arrays.binarySearch$int_A$int(t,n)}return e.util.Arrays.binarySearch$short_A$short(t,n)}return e.util.Arrays.binarySearch$char_A$char(t,n)}return e.util.Arrays.binarySearch$byte_A$byte(t,n)}return e.util.Arrays.binarySearch$java_lang_Object_A$java_lang_Object$java_util_Comparator(t,n,r)},t.copyOf$boolean_A$int=function(e,n){return javaemul.internal.InternalPreconditions.checkArraySize(n),t.copyOfRange$boolean_A$int$int(e,0,n)},t.copyOf=function(t,n){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"boolean"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"string"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||null!=t[0])||null===t)||"number"!==typeof n&&null!==n)throw new Error("invalid overload");return e.util.Arrays.copyOf$java_lang_Object_A$int(t,n)}return e.util.Arrays.copyOf$short_A$int(t,n)}return e.util.Arrays.copyOf$long_A$int(t,n)}return e.util.Arrays.copyOf$int_A$int(t,n)}return e.util.Arrays.copyOf$float_A$int(t,n)}return e.util.Arrays.copyOf$double_A$int(t,n)}return e.util.Arrays.copyOf$char_A$int(t,n)}return e.util.Arrays.copyOf$byte_A$int(t,n)}return e.util.Arrays.copyOf$boolean_A$int(t,n)},t.copyOf$byte_A$int=function(e,n){return javaemul.internal.InternalPreconditions.checkArraySize(n),t.copyOfRange$byte_A$int$int(e,0,n)},t.copyOf$char_A$int=function(e,n){return javaemul.internal.InternalPreconditions.checkArraySize(n),t.copyOfRange$char_A$int$int(e,0,n)},t.copyOf$double_A$int=function(e,n){return javaemul.internal.InternalPreconditions.checkArraySize(n),t.copyOfRange$double_A$int$int(e,0,n)},t.copyOf$float_A$int=function(e,n){return javaemul.internal.InternalPreconditions.checkArraySize(n),t.copyOfRange$float_A$int$int(e,0,n)},t.copyOf$int_A$int=function(e,n){return javaemul.internal.InternalPreconditions.checkArraySize(n),t.copyOfRange$int_A$int$int(e,0,n)},t.copyOf$long_A$int=function(e,n){return javaemul.internal.InternalPreconditions.checkArraySize(n),t.copyOfRange$long_A$int$int(e,0,n)},t.copyOf$short_A$int=function(e,n){return javaemul.internal.InternalPreconditions.checkArraySize(n),t.copyOfRange$short_A$int$int(e,0,n)},t.copyOf$java_lang_Object_A$int=function(e,t){javaemul.internal.InternalPreconditions.checkArraySize(t),javaemul.internal.InternalPreconditions.checkNotNull(e,"original");var n=javaemul.internal.ArrayHelper.clone(e,0,t);return javaemul.internal.ArrayHelper.setLength(n,t),n},t.copyOfRange$boolean_A$int$int=function(e,n,r){var i=t.getCopyLength(e,n,r),o=function(e){for(var t=[];e-- >0;)t.push(!1);return t}(r-n);return javaemul.internal.ArrayHelper.copy$java_lang_Object$int$java_lang_Object$int$int(e,n,o,0,i),o},t.copyOfRange=function(t,n,r){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"boolean"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"string"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||null!=t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r)throw new Error("invalid overload");return e.util.Arrays.copyOfRange$java_lang_Object_A$int$int(t,n,r)}return e.util.Arrays.copyOfRange$short_A$int$int(t,n,r)}return e.util.Arrays.copyOfRange$long_A$int$int(t,n,r)}return e.util.Arrays.copyOfRange$int_A$int$int(t,n,r)}return e.util.Arrays.copyOfRange$float_A$int$int(t,n,r)}return e.util.Arrays.copyOfRange$double_A$int$int(t,n,r)}return e.util.Arrays.copyOfRange$char_A$int$int(t,n,r)}return e.util.Arrays.copyOfRange$byte_A$int$int(t,n,r)}return e.util.Arrays.copyOfRange$boolean_A$int$int(t,n,r)},t.copyOfRange$byte_A$int$int=function(e,n,r){var i=t.getCopyLength(e,n,r),o=function(e){for(var t=[];e-- >0;)t.push(0);return t}(r-n);return javaemul.internal.ArrayHelper.copy$java_lang_Object$int$java_lang_Object$int$int(e,n,o,0,i),o},t.copyOfRange$char_A$int$int=function(e,n,r){var i=t.getCopyLength(e,n,r),o=function(e){for(var t=[];e-- >0;)t.push(null);return t}(r-n);return javaemul.internal.ArrayHelper.copy$java_lang_Object$int$java_lang_Object$int$int(e,n,o,0,i),o},t.copyOfRange$double_A$int$int=function(e,n,r){var i=t.getCopyLength(e,n,r),o=function(e){for(var t=[];e-- >0;)t.push(0);return t}(r-n);return javaemul.internal.ArrayHelper.copy$java_lang_Object$int$java_lang_Object$int$int(e,n,o,0,i),o},t.copyOfRange$float_A$int$int=function(e,n,r){var i=t.getCopyLength(e,n,r),o=function(e){for(var t=[];e-- >0;)t.push(0);return t}(r-n);return javaemul.internal.ArrayHelper.copy$java_lang_Object$int$java_lang_Object$int$int(e,n,o,0,i),o},t.copyOfRange$int_A$int$int=function(e,n,r){var i=t.getCopyLength(e,n,r),o=function(e){for(var t=[];e-- >0;)t.push(0);return t}(r-n);return javaemul.internal.ArrayHelper.copy$java_lang_Object$int$java_lang_Object$int$int(e,n,o,0,i),o},t.copyOfRange$long_A$int$int=function(e,n,r){var i=t.getCopyLength(e,n,r),o=function(e){for(var t=[];e-- >0;)t.push(0);return t}(r-n);return javaemul.internal.ArrayHelper.copy$java_lang_Object$int$java_lang_Object$int$int(e,n,o,0,i),o},t.copyOfRange$short_A$int$int=function(e,n,r){var i=t.getCopyLength(e,n,r),o=function(e){for(var t=[];e-- >0;)t.push(0);return t}(r-n);return javaemul.internal.ArrayHelper.copy$java_lang_Object$int$java_lang_Object$int$int(e,n,o,0,i),o},t.copyOfRange$java_lang_Object_A$int$int=function(e,n,r){var i=t.getCopyLength(e,n,r),o=javaemul.internal.ArrayHelper.createFrom(e,r-n);return javaemul.internal.ArrayHelper.copy$java_lang_Object$int$java_lang_Object$int$int(e,n,o,0,i),o},t.deepEquals=function(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(t.length!==n.length)return!1;for(var r=0,i=t.length;r<i;++r)if(!e.util.Objects.deepEquals(t[r],n[r]))return!1;return!0},t.deepHashCode=function(n){if(null==n)return 0;for(var r=1,i=0;i<n.length;i++){var o=n[i];r=31*r+(null!=o&&o instanceof Array&&(0==o.length||null==o[0]||null!=o[0])?t.deepHashCode(o):null!=o&&o instanceof Array&&(0==o.length||null==o[0]||"boolean"===typeof o[0])?t.hashCode$boolean_A(o):null!=o&&o instanceof Array&&(0==o.length||null==o[0]||"number"===typeof o[0])?t.hashCode$byte_A(o):null!=o&&o instanceof Array&&(0==o.length||null==o[0]||"string"===typeof o[0])?t.hashCode$char_A(o):null!=o&&o instanceof Array&&(0==o.length||null==o[0]||"number"===typeof o[0])?t.hashCode$short_A(o):null!=o&&o instanceof Array&&(0==o.length||null==o[0]||"number"===typeof o[0])?t.hashCode$int_A(o):null!=o&&o instanceof Array&&(0==o.length||null==o[0]||"number"===typeof o[0])?t.hashCode$long_A(o):null!=o&&o instanceof Array&&(0==o.length||null==o[0]||"number"===typeof o[0])?t.hashCode$float_A(o):null!=o&&o instanceof Array&&(0==o.length||null==o[0]||"number"===typeof o[0])?t.hashCode$double_A(o):e.util.Objects.hashCode(o)),r=javaemul.internal.Coercions.ensureInt(r)}return r},t.deepToString$java_lang_Object_A=function(n){return t.deepToString$java_lang_Object_A$java_util_Set(n,new e.util.HashSet)},t.equals$boolean_A$boolean_A=function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0},t.equals=function(t,n){if((null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"boolean"===typeof t[0])||null===t)&&(null!=n&&n instanceof Array&&(0==n.length||null==n[0]||"boolean"===typeof n[0])||null===n))return e.util.Arrays.equals$boolean_A$boolean_A(t,n);if((null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)&&(null!=n&&n instanceof Array&&(0==n.length||null==n[0]||"number"===typeof n[0])||null===n))return e.util.Arrays.equals$byte_A$byte_A(t,n);if((null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"string"===typeof t[0])||null===t)&&(null!=n&&n instanceof Array&&(0==n.length||null==n[0]||"string"===typeof n[0])||null===n))return e.util.Arrays.equals$char_A$char_A(t,n);if((null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)&&(null!=n&&n instanceof Array&&(0==n.length||null==n[0]||"number"===typeof n[0])||null===n))return e.util.Arrays.equals$double_A$double_A(t,n);if((null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)&&(null!=n&&n instanceof Array&&(0==n.length||null==n[0]||"number"===typeof n[0])||null===n))return e.util.Arrays.equals$float_A$float_A(t,n);if((null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)&&(null!=n&&n instanceof Array&&(0==n.length||null==n[0]||"number"===typeof n[0])||null===n))return e.util.Arrays.equals$int_A$int_A(t,n);if((null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)&&(null!=n&&n instanceof Array&&(0==n.length||null==n[0]||"number"===typeof n[0])||null===n))return e.util.Arrays.equals$long_A$long_A(t,n);if((null!=t&&t instanceof Array&&(0==t.length||null==t[0]||null!=t[0])||null===t)&&(null!=n&&n instanceof Array&&(0==n.length||null==n[0]||null!=n[0])||null===n))return e.util.Arrays.equals$java_lang_Object_A$java_lang_Object_A(t,n);if((null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)&&(null!=n&&n instanceof Array&&(0==n.length||null==n[0]||"number"===typeof n[0])||null===n))return e.util.Arrays.equals$short_A$short_A(t,n);throw new Error("invalid overload")},t.equals$byte_A$byte_A=function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0},t.equals$char_A$char_A=function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if((null==(r=e[n]).charCodeAt?r:r.charCodeAt(0))!=function(e){return null==e.charCodeAt?e:e.charCodeAt(0)}(t[n]))return!1;var r;return!0},t.equals$double_A$double_A=function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0},t.equals$float_A$float_A=function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0},t.equals$int_A$int_A=function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0},t.equals$long_A$long_A=function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0},t.equals$java_lang_Object_A$java_lang_Object_A=function(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(t.length!==n.length)return!1;for(var r=0;r<t.length;++r){var i=t[r],o=n[r];if(!e.util.Objects.equals(i,o))return!1}return!0},t.equals$short_A$short_A=function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0},t.fill$boolean_A$boolean=function(e,n){t.fill$boolean_A$int$int$boolean(e,0,e.length,n)},t.fill$boolean_A$int$int$boolean=function(e,t,n,r){for(var i=t;i<n;++i)e[i]=r},t.fill=function(t,n,r,i){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"boolean"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r||"boolean"!==typeof i&&null!==i){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r||"number"!==typeof i&&null!==i){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"string"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r||"string"!==typeof i&&null!==i){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r||"number"!==typeof i&&null!==i){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r||"number"!==typeof i&&null!==i){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r||"number"!==typeof i&&null!==i){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r||"number"!==typeof i&&null!==i){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r||"number"!==typeof i&&null!==i){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||null!=t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r||null==i&&null!==i){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"boolean"===typeof t[0])||null===t)||"boolean"!==typeof n&&null!==n||void 0!==r||void 0!==i){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||void 0!==r||void 0!==i){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"string"===typeof t[0])||null===t)||"string"!==typeof n&&null!==n||void 0!==r||void 0!==i){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||void 0!==r||void 0!==i){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||void 0!==r||void 0!==i){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||void 0!==r||void 0!==i){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||void 0!==r||void 0!==i){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||void 0!==r||void 0!==i){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||null!=t[0])||null===t)||null==n&&null!==n||void 0!==r||void 0!==i)throw new Error("invalid overload");return e.util.Arrays.fill$java_lang_Object_A$java_lang_Object(t,n)}return e.util.Arrays.fill$double_A$double(t,n)}return e.util.Arrays.fill$float_A$float(t,n)}return e.util.Arrays.fill$long_A$long(t,n)}return e.util.Arrays.fill$int_A$int(t,n)}return e.util.Arrays.fill$short_A$short(t,n)}return e.util.Arrays.fill$char_A$char(t,n)}return e.util.Arrays.fill$byte_A$byte(t,n)}return e.util.Arrays.fill$boolean_A$boolean(t,n)}return e.util.Arrays.fill$java_lang_Object_A$int$int$java_lang_Object(t,n,r,i)}return e.util.Arrays.fill$double_A$int$int$double(t,n,r,i)}return e.util.Arrays.fill$float_A$int$int$float(t,n,r,i)}return e.util.Arrays.fill$long_A$int$int$long(t,n,r,i)}return e.util.Arrays.fill$int_A$int$int$int(t,n,r,i)}return e.util.Arrays.fill$short_A$int$int$short(t,n,r,i)}return e.util.Arrays.fill$char_A$int$int$char(t,n,r,i)}return e.util.Arrays.fill$byte_A$int$int$byte(t,n,r,i)}return e.util.Arrays.fill$boolean_A$int$int$boolean(t,n,r,i)},t.fill$byte_A$byte=function(e,n){t.fill$byte_A$int$int$byte(e,0,e.length,n)},t.fill$byte_A$int$int$byte=function(e,t,n,r){for(var i=t;i<n;++i)e[i]=r},t.fill$char_A$char=function(e,n){t.fill$char_A$int$int$char(e,0,e.length,n)},t.fill$char_A$int$int$char=function(e,t,n,r){for(var i=t;i<n;++i)e[i]=r},t.fill$double_A$double=function(e,n){t.fill$double_A$int$int$double(e,0,e.length,n)},t.fill$double_A$int$int$double=function(e,t,n,r){for(var i=t;i<n;++i)e[i]=r},t.fill$float_A$float=function(e,n){t.fill$float_A$int$int$float(e,0,e.length,n)},t.fill$float_A$int$int$float=function(e,t,n,r){for(var i=t;i<n;++i)e[i]=r},t.fill$int_A$int=function(e,n){t.fill$int_A$int$int$int(e,0,e.length,n)},t.fill$int_A$int$int$int=function(e,t,n,r){for(var i=t;i<n;++i)e[i]=r},t.fill$long_A$int$int$long=function(e,t,n,r){for(var i=t;i<n;++i)e[i]=r},t.fill$long_A$long=function(e,n){t.fill$long_A$int$int$long(e,0,e.length,n)},t.fill$java_lang_Object_A$int$int$java_lang_Object=function(e,t,n,r){for(var i=t;i<n;++i)e[i]=r},t.fill$java_lang_Object_A$java_lang_Object=function(e,n){t.fill$java_lang_Object_A$int$int$java_lang_Object(e,0,e.length,n)},t.fill$short_A$int$int$short=function(e,t,n,r){for(var i=t;i<n;++i)e[i]=r},t.fill$short_A$short=function(e,n){t.fill$short_A$int$int$short(e,0,e.length,n)},t.hashCode$boolean_A=function(e){if(null==e)return 0;for(var t=1,n=0;n<e.length;n++){var r=e[n];t=31*t+javaemul.internal.BooleanHelper.hashCode(r),t=javaemul.internal.Coercions.ensureInt(t)}return t},t.hashCode=function(t){if(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"boolean"===typeof t[0])||null===t)return e.util.Arrays.hashCode$boolean_A(t);if(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)return e.util.Arrays.hashCode$byte_A(t);if(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"string"===typeof t[0])||null===t)return e.util.Arrays.hashCode$char_A(t);if(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)return e.util.Arrays.hashCode$double_A(t);if(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)return e.util.Arrays.hashCode$float_A(t);if(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)return e.util.Arrays.hashCode$int_A(t);if(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)return e.util.Arrays.hashCode$long_A(t);if(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||null!=t[0])||null===t)return e.util.Arrays.hashCode$java_lang_Object_A(t);if(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)return e.util.Arrays.hashCode$short_A(t);throw new Error("invalid overload")},t.hashCode$byte_A=function(e){if(null==e)return 0;for(var t=1,n=0;n<e.length;n++){var r=e[n];t=31*t+javaemul.internal.ByteHelper.hashCode(r),t=javaemul.internal.Coercions.ensureInt(t)}return t},t.hashCode$char_A=function(e){if(null==e)return 0;for(var t=1,n=0;n<e.length;n++){var r=e[n];t=31*t+javaemul.internal.CharacterHelper.hashCode(r),t=javaemul.internal.Coercions.ensureInt(t)}return t},t.hashCode$double_A=function(e){if(null==e)return 0;for(var t=1,n=0;n<e.length;n++){var r=e[n];t=31*t+javaemul.internal.DoubleHelper.hashCode(r),t=javaemul.internal.Coercions.ensureInt(t)}return t},t.hashCode$float_A=function(e){if(null==e)return 0;for(var t=1,n=0;n<e.length;n++){var r=e[n];t=31*t+javaemul.internal.FloatHelper.hashCode(r),t=javaemul.internal.Coercions.ensureInt(t)}return t},t.hashCode$int_A=function(e){if(null==e)return 0;for(var t=1,n=0;n<e.length;n++){var r=e[n];t=31*t+javaemul.internal.IntegerHelper.hashCode(r),t=javaemul.internal.Coercions.ensureInt(t)}return t},t.hashCode$long_A=function(e){if(null==e)return 0;for(var t=1,n=0;n<e.length;n++){var r=e[n];t=31*t+javaemul.internal.LongHelper.hashCode(r),t=javaemul.internal.Coercions.ensureInt(t)}return t},t.hashCode$java_lang_Object_A=function(t){if(null==t)return 0;for(var n=1,r=0;r<t.length;r++){var i=t[r];n=31*n+e.util.Objects.hashCode(i),n=javaemul.internal.Coercions.ensureInt(n)}return n},t.hashCode$short_A=function(e){if(null==e)return 0;for(var t=1,n=0;n<e.length;n++){var r=e[n];t=31*t+javaemul.internal.ShortHelper.hashCode(r),t=javaemul.internal.Coercions.ensureInt(t)}return t},t.sort$byte_A=function(e){t.nativeNumberSort$java_lang_Object(e)},t.sort$byte_A$int$int=function(e,n,r){javaemul.internal.InternalPreconditions.checkPositionIndexes(n,r,e.length),t.nativeNumberSort$java_lang_Object$int$int(e,n,r)},t.sort$char_A=function(e){t.nativeNumberSort$java_lang_Object(e)},t.sort$char_A$int$int=function(e,n,r){javaemul.internal.InternalPreconditions.checkPositionIndexes(n,r,e.length),t.nativeNumberSort$java_lang_Object$int$int(e,n,r)},t.sort$double_A=function(e){t.nativeNumberSort$java_lang_Object(e)},t.sort$double_A$int$int=function(e,n,r){javaemul.internal.InternalPreconditions.checkPositionIndexes(n,r,e.length),t.nativeNumberSort$java_lang_Object$int$int(e,n,r)},t.sort$float_A=function(e){t.nativeNumberSort$java_lang_Object(e)},t.sort$float_A$int$int=function(e,n,r){javaemul.internal.InternalPreconditions.checkPositionIndexes(n,r,e.length),t.nativeNumberSort$java_lang_Object$int$int(e,n,r)},t.sort$int_A=function(e){t.nativeNumberSort$java_lang_Object(e)},t.sort$int_A$int$int=function(e,n,r){javaemul.internal.InternalPreconditions.checkPositionIndexes(n,r,e.length),t.nativeNumberSort$java_lang_Object$int$int(e,n,r)},t.sort$long_A=function(e){t.nativeLongSort$java_lang_Object$java_lang_Object(e,javaemul.internal.LongCompareHolder.getLongComparator())},t.sort$long_A$int$int=function(e,n,r){javaemul.internal.InternalPreconditions.checkPositionIndexes(n,r,e.length),t.nativeLongSort$java_lang_Object$int$int(e,n,r)},t.sort$java_lang_Object_A=function(n){t.mergeSort$java_lang_Object_A$int$int$java_util_Comparator(n,0,n.length,e.util.Comparators.natural())},t.sort$java_lang_Object_A$int$int=function(n,r,i){t.mergeSort$java_lang_Object_A$int$int$java_util_Comparator(n,r,i,e.util.Comparators.natural())},t.sort$short_A=function(e){t.nativeNumberSort$java_lang_Object(e)},t.sort$short_A$int$int=function(e,n,r){javaemul.internal.InternalPreconditions.checkPositionIndexes(n,r,e.length),t.nativeNumberSort$java_lang_Object$int$int(e,n,r)},t.sort$java_lang_Object_A$java_util_Comparator=function(e,n){t.mergeSort$java_lang_Object_A$int$int$java_util_Comparator(e,0,e.length,n)},t.sort$java_lang_Object_A$int$int$java_util_Comparator=function(e,n,r,i){javaemul.internal.InternalPreconditions.checkPositionIndexes(n,r,e.length),t.mergeSort$java_lang_Object_A$int$int$java_util_Comparator(e,n,r,i)},t.sort=function(t,n,r,i){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||null!=t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r||("function"!==typeof i||2!==i.length)&&null!==i){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r||void 0!==i){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"string"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r||void 0!==i){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r||void 0!==i){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r||void 0!==i){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r||void 0!==i){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r||void 0!==i){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||null!=t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r||void 0!==i){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r||void 0!==i){if((null!=t&&t instanceof Array&&(0==t.length||null==t[0]||null!=t[0])||null===t)&&("function"===typeof n&&2===n.length||null===n)&&void 0===r&&void 0===i)return e.util.Arrays.sort$java_lang_Object_A$java_util_Comparator(t,n);if((null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)&&void 0===n&&void 0===r&&void 0===i)return e.util.Arrays.sort$byte_A(t);if((null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"string"===typeof t[0])||null===t)&&void 0===n&&void 0===r&&void 0===i)return e.util.Arrays.sort$char_A(t);if((null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)&&void 0===n&&void 0===r&&void 0===i)return e.util.Arrays.sort$double_A(t);if((null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)&&void 0===n&&void 0===r&&void 0===i)return e.util.Arrays.sort$float_A(t);if((null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)&&void 0===n&&void 0===r&&void 0===i)return e.util.Arrays.sort$int_A(t);if((null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)&&void 0===n&&void 0===r&&void 0===i)return e.util.Arrays.sort$long_A(t);if((null!=t&&t instanceof Array&&(0==t.length||null==t[0]||null!=t[0])||null===t)&&void 0===n&&void 0===r&&void 0===i)return e.util.Arrays.sort$java_lang_Object_A(t);if((null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)&&void 0===n&&void 0===r&&void 0===i)return e.util.Arrays.sort$short_A(t);throw new Error("invalid overload")}return e.util.Arrays.sort$short_A$int$int(t,n,r)}return e.util.Arrays.sort$java_lang_Object_A$int$int(t,n,r)}return e.util.Arrays.sort$long_A$int$int(t,n,r)}return e.util.Arrays.sort$int_A$int$int(t,n,r)}return e.util.Arrays.sort$float_A$int$int(t,n,r)}return e.util.Arrays.sort$double_A$int$int(t,n,r)}return e.util.Arrays.sort$char_A$int$int(t,n,r)}return e.util.Arrays.sort$byte_A$int$int(t,n,r)}return e.util.Arrays.sort$java_lang_Object_A$int$int$java_util_Comparator(t,n,r,i)},t.toString$boolean_A=function(t){if(null==t)return"null";for(var n=new e.util.StringJoiner(", ","[","]"),r=0;r<t.length;r++){var i=t[r];n.add(new String(i).toString())}return n.toString()},t.toString=function(t){if(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"boolean"===typeof t[0])||null===t)return e.util.Arrays.toString$boolean_A(t);if(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)return e.util.Arrays.toString$byte_A(t);if(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"string"===typeof t[0])||null===t)return e.util.Arrays.toString$char_A(t);if(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)return e.util.Arrays.toString$double_A(t);if(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)return e.util.Arrays.toString$float_A(t);if(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)return e.util.Arrays.toString$int_A(t);if(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)return e.util.Arrays.toString$long_A(t);if(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||null!=t[0])||null===t)return e.util.Arrays.toString$java_lang_Object_A(t);if(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)return e.util.Arrays.toString$short_A(t);throw new Error("invalid overload")},t.toString$byte_A=function(t){if(null==t)return"null";for(var n=new e.util.StringJoiner(", ","[","]"),r=0;r<t.length;r++){var i=t[r];n.add(new String(i).toString())}return n.toString()},t.toString$char_A=function(t){if(null==t)return"null";for(var n=new e.util.StringJoiner(", ","[","]"),r=0;r<t.length;r++){var i=t[r];n.add(new String(i).toString())}return n.toString()},t.toString$double_A=function(t){if(null==t)return"null";for(var n=new e.util.StringJoiner(", ","[","]"),r=0;r<t.length;r++){var i=t[r];n.add(new String(i).toString())}return n.toString()},t.toString$float_A=function(t){if(null==t)return"null";for(var n=new e.util.StringJoiner(", ","[","]"),r=0;r<t.length;r++){var i=t[r];n.add(new String(i).toString())}return n.toString()},t.toString$int_A=function(t){if(null==t)return"null";for(var n=new e.util.StringJoiner(", ","[","]"),r=0;r<t.length;r++){var i=t[r];n.add(new String(i).toString())}return n.toString()},t.toString$long_A=function(t){if(null==t)return"null";for(var n=new e.util.StringJoiner(", ","[","]"),r=0;r<t.length;r++){var i=t[r];n.add(new String(i).toString())}return n.toString()},t.toString$java_lang_Object_A=function(e){return null==e?"null":t.asList.apply(null,e).toString()},t.toString$short_A=function(t){if(null==t)return"null";for(var n=new e.util.StringJoiner(", ","[","]"),r=0;r<t.length;r++){var i=t[r];n.add(new String(i).toString())}return n.toString()},t.deepToString$java_lang_Object_A$java_util_Set=function(n,r){if(null==n)return"null";if(!r.add(n))return"[...]";for(var i=new e.util.StringJoiner(", ","[","]"),o=0;o<n.length;o++){var a=n[o];if(null!=a&&a.constructor.isArray())if(null!=a&&a instanceof Array&&(0==a.length||null==a[0]||null!=a[0]))if(r.contains(a))i.add("[...]");else{var s=a,l=new e.util.HashSet(r);i.add(t.deepToString$java_lang_Object_A$java_util_Set(s,l))}else null!=a&&a instanceof Array&&(0==a.length||null==a[0]||"boolean"===typeof a[0])?i.add(t.toString$boolean_A(a)):null!=a&&a instanceof Array&&(0==a.length||null==a[0]||"number"===typeof a[0])?i.add(t.toString$byte_A(a)):null!=a&&a instanceof Array&&(0==a.length||null==a[0]||"string"===typeof a[0])?i.add(t.toString$char_A(a)):null!=a&&a instanceof Array&&(0==a.length||null==a[0]||"number"===typeof a[0])?i.add(t.toString$short_A(a)):null!=a&&a instanceof Array&&(0==a.length||null==a[0]||"number"===typeof a[0])?i.add(t.toString$int_A(a)):null!=a&&a instanceof Array&&(0==a.length||null==a[0]||"number"===typeof a[0])?i.add(t.toString$long_A(a)):null!=a&&a instanceof Array&&(0==a.length||null==a[0]||"number"===typeof a[0])?i.add(t.toString$float_A(a)):null!=a&&a instanceof Array&&(0==a.length||null==a[0]||"number"===typeof a[0])&&i.add(t.toString$double_A(a));else i.add(new String(a).toString())}return i.toString()},t.deepToString=function(t,n){if((null!=t&&t instanceof Array&&(0==t.length||null==t[0]||null!=t[0])||null===t)&&(null!=n&&null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("java.util.Set")>=0||null===n))return e.util.Arrays.deepToString$java_lang_Object_A$java_util_Set(t,n);if((null!=t&&t instanceof Array&&(0==t.length||null==t[0]||null!=t[0])||null===t)&&void 0===n)return e.util.Arrays.deepToString$java_lang_Object_A(t);throw new Error("invalid overload")},t.getCopyLength=function(e,t,n){javaemul.internal.InternalPreconditions.checkArgument(t<=n,"%s > %s",t,n);var r=javaemul.internal.ArrayHelper.getLength(e);return n=Math.min(n,r),javaemul.internal.InternalPreconditions.checkCriticalPositionIndexes(t,n,r),n-t},t.insertionSort=function(e,t,n,r){for(var i=t+1;i<n;++i)for(var o=i;o>t&&(void 0===(s=r).compare?s:s.compare)(e[o-1],e[o])>0;--o){var a=e[o];e[o]=e[o-1],e[o-1]=a}var s},t.merge=function(e,t,n,r,i,o,a,s){for(var l,u=n;o<a;)u>=r||t<n&&(void 0===(l=s).compare?l:l.compare)(e[t],e[u])<=0?i[o++]=e[t++]:i[o++]=e[u++]},t.mergeSort$java_lang_Object_A$int$int$java_util_Comparator=function(n,r,i,o){null==o&&(o=e.util.Comparators.natural());var a=t.copyOfRange$java_lang_Object_A$int$int(n,r,i);t.mergeSort$java_lang_Object_A$java_lang_Object_A$int$int$int$java_util_Comparator(a,n,r,i,-r,o)},t.mergeSort$java_lang_Object_A$java_lang_Object_A$int$int$int$java_util_Comparator=function(e,n,r,i,o,a){if(i-r<7)t.insertionSort(n,r,i,a);else{var s,l=r+o,u=i+o,c=l+(u-l>>1);if(t.mergeSort$java_lang_Object_A$java_lang_Object_A$int$int$int$java_util_Comparator(n,e,l,c,-o,a),t.mergeSort$java_lang_Object_A$java_lang_Object_A$int$int$int$java_util_Comparator(n,e,c,u,-o,a),(void 0===(s=a).compare?s:s.compare)(e[c-1],e[c])<=0)for(;r<i;)n[r++]=e[l++];else t.merge(e,l,c,u,n,r,i,a)}},t.mergeSort=function(t,n,r,i,o,a){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||null!=t[0])||null===t)||!(null!=n&&n instanceof Array&&(0==n.length||null==n[0]||null!=n[0])||null===n)||"number"!==typeof r&&null!==r||"number"!==typeof i&&null!==i||"number"!==typeof o&&null!==o||("function"!==typeof a||2!==a.length)&&null!==a){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||null!=t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r||("function"!==typeof i||2!==i.length)&&null!==i||void 0!==o||void 0!==a)throw new Error("invalid overload");return e.util.Arrays.mergeSort$java_lang_Object_A$int$int$java_util_Comparator(t,n,r,i)}return e.util.Arrays.mergeSort$java_lang_Object_A$java_lang_Object_A$int$int$int$java_util_Comparator(t,n,r,i,o,a)},t.nativeLongSort$java_lang_Object$java_lang_Object=function(e,t){e.sort(t)},t.nativeLongSort$java_lang_Object$int$int=function(e,n,r){var i=javaemul.internal.ArrayHelper.unsafeClone(e,n,r);t.nativeLongSort$java_lang_Object$java_lang_Object(i,javaemul.internal.LongCompareHolder.getLongComparator()),javaemul.internal.ArrayHelper.copy$java_lang_Object$int$java_lang_Object$int$int(i,0,e,n,r-n)},t.nativeLongSort=function(t,n,r){if(null==t&&null!==t||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if(null==t&&null!==t||null==n&&null!==n||void 0!==r)throw new Error("invalid overload");return e.util.Arrays.nativeLongSort$java_lang_Object$java_lang_Object(t,n)}return e.util.Arrays.nativeLongSort$java_lang_Object$int$int(t,n,r)},t.nativeNumberSort$java_lang_Object=function(e){e.sort(function(e,t){return e-t})},t.nativeNumberSort$java_lang_Object$int$int=function(e,n,r){var i=javaemul.internal.ArrayHelper.unsafeClone(e,n,r);t.nativeNumberSort$java_lang_Object(i),javaemul.internal.ArrayHelper.copy$java_lang_Object$int$java_lang_Object$int$int(i,0,e,n,r-n)},t.nativeNumberSort=function(t,n,r){if(null==t&&null!==t||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if(null==t&&null!==t||void 0!==n||void 0!==r)throw new Error("invalid overload");return e.util.Arrays.nativeNumberSort$java_lang_Object(t)}return e.util.Arrays.nativeNumberSort$java_lang_Object$int$int(t,n,r)},t}();t.Arrays=n,n.__class="java.util.Arrays",function(t){var n=function(e){function t(t){var n=e.call(this)||this;return void 0===n.array&&(n.array=null),n.array=t,n}return __extends(t,e),t.prototype.contains=function(e){return-1!==this.indexOf(e)},t.prototype.get=function(e){return javaemul.internal.InternalPreconditions.checkElementIndex(e,this.size()),this.array[e]},t.prototype.set=function(e,t){var n=this.get(e);return this.array[e]=t,n},t.prototype.size=function(){return this.array.length},t.prototype.toArray$=function(){return this.toArray$java_lang_Object_A(function(e){for(var t=[];e-- >0;)t.push(null);return t}(this.array.length))},t.prototype.toArray$java_lang_Object_A=function(e){var t=this.size();e.length<t&&(e=javaemul.internal.ArrayHelper.createFrom(e,t));for(var n=0;n<t;++n)e[n]=this.array[n];return e.length>t&&(e[t]=null),e},t.prototype.toArray=function(e){if(null!=e&&e instanceof Array&&(0==e.length||null==e[0]||null!=e[0])||null===e)return this.toArray$java_lang_Object_A(e);if(void 0===e)return this.toArray$();throw new Error("invalid overload")},t}(e.util.AbstractList);t.ArrayList=n,n.__class="java.util.Arrays.ArrayList",n.__interfaces=["java.util.RandomAccess","java.util.List","java.util.Collection","java.lang.Iterable","java.io.Serializable"]}(n=t.Arrays||(t.Arrays={}))}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(t){function n(r,i){var o=this;if("number"!==typeof r&&null!==r||("function"!==typeof i||2!==i.length)&&null!==i)if(("function"===typeof r&&2===r.length||null===r)&&void 0===i){var a=arguments[0],s=n.INITIAL_CAPACITY,l=a;void 0===(o=t.call(this)||this).cmp&&(o.cmp=null),void 0===o.heap&&(o.heap=null),o.heap=new e.util.ArrayList(s),null==l&&(l=e.util.Comparators.natural()),o.cmp=l,void 0===o.cmp&&(o.cmp=null),void 0===o.heap&&(o.heap=null)}else if((null!=r&&r instanceof e.util.PriorityQueue||null===r)&&void 0===i){var u=arguments[0],c=u.size(),f=u.comparator();void 0===(o=t.call(this)||this).cmp&&(o.cmp=null),void 0===o.heap&&(o.heap=null),o.heap=new e.util.ArrayList(c),null==f&&(f=e.util.Comparators.natural()),o.cmp=f,void 0===o.cmp&&(o.cmp=null),void 0===o.heap&&(o.heap=null),o.addAll(u)}else if((null!=r&&null!=r.constructor&&null!=r.constructor.__interfaces&&r.constructor.__interfaces.indexOf("java.util.SortedSet")>=0||null===r)&&void 0===i){var h=arguments[0],d=h.size(),p=h.comparator();void 0===(o=t.call(this)||this).cmp&&(o.cmp=null),void 0===o.heap&&(o.heap=null),o.heap=new e.util.ArrayList(d),null==p&&(p=e.util.Comparators.natural()),o.cmp=p,void 0===o.cmp&&(o.cmp=null),void 0===o.heap&&(o.heap=null),o.addAll(h)}else if((null!=r&&null!=r.constructor&&null!=r.constructor.__interfaces&&r.constructor.__interfaces.indexOf("java.util.Collection")>=0||null===r)&&void 0===i){var m=arguments[0],v=m.size(),g=null;void 0===(o=t.call(this)||this).cmp&&(o.cmp=null),void 0===o.heap&&(o.heap=null),o.heap=new e.util.ArrayList(v),null==g&&(g=e.util.Comparators.natural()),o.cmp=g,void 0===o.cmp&&(o.cmp=null),void 0===o.heap&&(o.heap=null),void 0===o.cmp&&(o.cmp=null),void 0===o.heap&&(o.heap=null),o.addAll(m)}else if("number"!==typeof r&&null!==r||void 0!==i){if(void 0!==r||void 0!==i)throw new Error("invalid overload");var y=n.INITIAL_CAPACITY,_=null;void 0===(o=t.call(this)||this).cmp&&(o.cmp=null),void 0===o.heap&&(o.heap=null),o.heap=new e.util.ArrayList(y),null==_&&(_=e.util.Comparators.natural()),o.cmp=_,void 0===o.cmp&&(o.cmp=null),void 0===o.heap&&(o.heap=null),void 0===o.cmp&&(o.cmp=null),void 0===o.heap&&(o.heap=null)}else{var b=null;void 0===(o=t.call(this)||this).cmp&&(o.cmp=null),void 0===o.heap&&(o.heap=null),o.heap=new e.util.ArrayList(r),null==b&&(b=e.util.Comparators.natural()),o.cmp=b,void 0===o.cmp&&(o.cmp=null),void 0===o.heap&&(o.heap=null)}else{void 0===(o=t.call(this)||this).cmp&&(o.cmp=null),void 0===o.heap&&(o.heap=null),o.heap=new e.util.ArrayList(r),null==i&&(i=e.util.Comparators.natural()),o.cmp=i}return o}return __extends(n,t),n.getLeftChild=function(e){return 2*e+1},n.getParent=function(e){return(e-1)/2|0},n.getRightChild=function(e){return 2*e+2},n.isLeaf=function(e,t){return 2*e+1>=t},n.prototype.addAll=function(e){return!!this.heap.addAll$java_util_Collection(e)&&(this.makeHeap(0),!0)},n.prototype.clear=function(){this.heap.clear()},n.prototype.comparator=function(){return this.cmp===e.util.Comparators.natural()?null:this.cmp},n.prototype.contains=function(e){return this.heap.contains(e)},n.prototype.containsAll=function(e){return this.heap.containsAll(e)},n.prototype.isEmpty=function(){return this.heap.isEmpty()},n.prototype.iterator=function(){return e.util.Collections.unmodifiableList(this.heap).iterator()},n.prototype.offer=function(e){var t,r=this.heap.size();for(this.heap.add(e);r>0;){var i=r;if(r=n.getParent(r),(void 0===(t=this.cmp).compare?t:t.compare)(this.heap.get(r),e)<=0)return this.heap.set(i,e),!0;this.heap.set(i,this.heap.get(r))}return this.heap.set(r,e),!0},n.prototype.peek=function(){return 0===this.heap.size()?null:this.heap.get(0)},n.prototype.poll=function(){if(0===this.heap.size())return null;var e=this.heap.get(0);return this.removeAtIndex(0),e},n.prototype.remove$java_lang_Object=function(e){var t=this.heap.indexOf$java_lang_Object(e);return!(t<0)&&(this.removeAtIndex(t),!0)},n.prototype.remove=function(e){if(null!=e||null===e)return this.remove$java_lang_Object(e);if(void 0===e)return this.remove$();throw new Error("invalid overload")},n.prototype.removeAll=function(e){return!!this.heap.removeAll(e)&&(this.makeHeap(0),!0)},n.prototype.retainAll=function(e){return!!this.heap.retainAll(e)&&(this.makeHeap(0),!0)},n.prototype.size=function(){return this.heap.size()},n.prototype.toArray$=function(){return this.heap.toArray$()},n.prototype.toArray$java_lang_Object_A=function(e){return this.heap.toArray$java_lang_Object_A(e)},n.prototype.toArray=function(e){if(null!=e&&e instanceof Array&&(0==e.length||null==e[0]||null!=e[0])||null===e)return this.toArray$java_lang_Object_A(e);if(void 0===e)return this.toArray$();throw new Error("invalid overload")},n.prototype.toString=function(){return this.heap.toString()},n.prototype.makeHeap=function(e){if(!this.isLeaf(e)){this.makeHeap(n.getLeftChild(e));var t=n.getRightChild(e);t<this.heap.size()&&this.makeHeap(t),this.mergeHeaps(e)}},n.prototype.mergeHeaps=function(e){for(var t,r=this.heap.size(),i=this.heap.get(e);!n.isLeaf(e,r);){var o=this.getSmallestChild(e,r);if((void 0===(t=this.cmp).compare?t:t.compare)(i,this.heap.get(o))<0)break;this.heap.set(e,this.heap.get(o)),e=o}this.heap.set(e,i)},n.prototype.getSmallestChild=function(e,t){var r,i,o=n.getLeftChild(e),a=o+1;return r=o,a<t&&(void 0===(i=this.cmp).compare?i:i.compare)(this.heap.get(a),this.heap.get(o))<0&&(r=a),r},n.prototype.isLeaf=function(e){return n.isLeaf(e,this.heap.size())},n.prototype.removeAtIndex=function(e){var t=this.heap.remove$int(this.heap.size()-1);e<this.heap.size()&&(this.heap.set(e,t),this.mergeHeaps(e))},n.INITIAL_CAPACITY=11,n}(e.util.AbstractQueue);t.PriorityQueue=n,n.__class="java.util.PriorityQueue",n.__interfaces=["java.util.Collection","java.util.Queue","java.lang.Iterable"]}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(t){function n(e){return t.call(this,e)||this}return __extends(n,t),n.prototype.print$java_lang_String=function(e){try{this.write$byte_A(e.split("").map(function(e){return e.charCodeAt(0)}))}catch(t){console.error(t.message,t)}},n.prototype.print=function(e){if("string"===typeof e||null===e)return this.print$java_lang_String(e);if(null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"string"===typeof e[0])||null===e)return this.print$char_A(e);if("boolean"===typeof e||null===e)return this.print$boolean(e);if("string"===typeof e||null===e)return this.print$char(e);if("number"===typeof e||null===e)return this.print$int(e);if("number"===typeof e||null===e)return this.print$long(e);if("number"===typeof e||null===e)return this.print$float(e);if("number"===typeof e||null===e)return this.print$double(e);if(null!=e||null===e)return this.print$java_lang_Object(e);throw new Error("invalid overload")},n.prototype.println$java_lang_String=function(t){this.print$java_lang_String(t+e.lang.System.lineSeparator())},n.prototype.println=function(e){if("string"===typeof e||null===e)return this.println$java_lang_String(e);if(null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"string"===typeof e[0])||null===e)return this.println$char_A(e);if("boolean"===typeof e||null===e)return this.println$boolean(e);if("string"===typeof e||null===e)return this.println$char(e);if("number"===typeof e||null===e)return this.println$int(e);if("number"===typeof e||null===e)return this.println$long(e);if("number"===typeof e||null===e)return this.println$float(e);if("number"===typeof e||null===e)return this.println$double(e);if(null!=e||null===e)return this.println$java_lang_Object(e);if(void 0===e)return this.println$();throw new Error("invalid overload")},n.prototype.print$boolean=function(e){this.print$java_lang_String(new String(e).toString())},n.prototype.print$char=function(e){this.print$java_lang_String(new String(e).toString())},n.prototype.print$char_A=function(e){this.println$java_lang_String(new String(e).toString())},n.prototype.print$double=function(e){this.print$java_lang_String(new String(e).toString())},n.prototype.print$float=function(e){this.print$java_lang_String(new String(e).toString())},n.prototype.print$int=function(e){this.print$java_lang_String(new String(e).toString())},n.prototype.print$long=function(e){this.print$java_lang_String(new String(e).toString())},n.prototype.print$java_lang_Object=function(e){this.print$java_lang_String(new String(e).toString())},n.prototype.println$=function(){this.println$java_lang_String("")},n.prototype.println$boolean=function(e){this.println$java_lang_String(new String(e).toString())},n.prototype.println$char=function(e){this.println$java_lang_String(new String(e).toString())},n.prototype.println$char_A=function(e){this.println$java_lang_String(new String(e).toString())},n.prototype.println$double=function(e){this.println$java_lang_String(new String(e).toString())},n.prototype.println$float=function(e){this.println$java_lang_String(new String(e).toString())},n.prototype.println$int=function(e){this.println$java_lang_String(new String(e).toString())},n.prototype.println$long=function(e){this.println$java_lang_String(new String(e).toString())},n.prototype.println$java_lang_Object=function(e){this.println$java_lang_String(new String(e).toString())},n}(e.io.FilterOutputStream);t.PrintStream=n,n.__class="java.io.PrintStream",n.__interfaces=["java.io.Closeable","java.lang.AutoCloseable","java.io.Flushable"]}(e.io||(e.io={}))}(java||(java={})),function(e){!function(t){var n=function(e){function t(t){var n=this;if("string"===typeof t||null===t)n=e.call(this,t)||this;else{if(void 0!==t)throw new Error("invalid overload");n=e.call(this)||this}return n}return __extends(t,e),t}(e.security.GeneralSecurityException);t.DigestException=n,n.__class="java.security.DigestException",n.__interfaces=["java.io.Serializable"]}(e.security||(e.security={}))}(java||(java={})),function(e){!function(t){var n=function(e){function t(t){var n=this;if("string"===typeof t||null===t)n=e.call(this,t)||this;else{if(void 0!==t)throw new Error("invalid overload");n=e.call(this)||this}return n}return __extends(t,e),t}(e.security.GeneralSecurityException);t.NoSuchAlgorithmException=n,n.__class="java.security.NoSuchAlgorithmException",n.__interfaces=["java.io.Serializable"]}(e.security||(e.security={}))}(java||(java={})),function(e){!function(t){var n=function(e){function t(t){var n=this;if("string"===typeof t||null===t)n=e.call(this,t)||this;else{if(void 0!==t)throw new Error("invalid overload");n=e.call(this)||this}return n}return __extends(t,e),t}(e.io.IOException);t.UnsupportedEncodingException=n,n.__class="java.io.UnsupportedEncodingException",n.__interfaces=["java.io.Serializable"]}(e.io||(e.io={}))}(java||(java={})),function(e){var t;(function(e){var t=function(e){function t(){var n=e.call(this)||this;return Object.setPrototypeOf(n,t.prototype),n}return __extends(t,e),t}(java.lang.RuntimeException);e.StopException=t,t.__class="javaemul.internal.stream.StopException",t.__interfaces=["java.io.Serializable"]})((t=e.internal||(e.internal={})).stream||(t.stream={}))}(javaemul||(javaemul={})),function(e){!function(t){var n=function(e){function t(n,r,i){var o=e.call(this,n)||this;return Object.setPrototypeOf(o,t.prototype),void 0===o.className&&(o.className=null),void 0===o.key&&(o.key=null),o.key=i,o.className=r,o}return __extends(t,e),t.prototype.getClassName=function(){return this.className},t.prototype.getKey=function(){return this.key},t}(e.lang.RuntimeException);t.MissingResourceException=n,n.__class="java.util.MissingResourceException",n.__interfaces=["java.io.Serializable"]}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(e){function t(t){var n=this;if("string"===typeof t||null===t)n=e.call(this,t)||this;else{if(void 0!==t)throw new Error("invalid overload");n=e.call(this)||this}return n}return __extends(t,e),t}(e.lang.RuntimeException);t.ConcurrentModificationException=n,n.__class="java.util.ConcurrentModificationException",n.__interfaces=["java.io.Serializable"]}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(e){function t(t){var n=this;if("string"===typeof t||null===t)n=e.call(this,t)||this;else{if(void 0!==t)throw new Error("invalid overload");n=e.call(this)||this}return n}return __extends(t,e),t}(e.lang.RuntimeException);t.NoSuchElementException=n,n.__class="java.util.NoSuchElementException",n.__interfaces=["java.io.Serializable"]}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(e){function t(){var n=e.call(this)||this;return Object.setPrototypeOf(n,t.prototype),n}return __extends(t,e),t}(e.lang.RuntimeException);t.EmptyStackException=n,n.__class="java.util.EmptyStackException",n.__interfaces=["java.io.Serializable"]}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(t){function n(n,r){var i=this;if("string"!==typeof n&&null!==n||!(null!=r&&r instanceof e.io.IOException||null===r)){if(!(null!=n&&n instanceof e.io.IOException||null===n)||void 0!==r)throw new Error("invalid overload");var o=arguments[0];i=t.call(this,javaemul.internal.InternalPreconditions.checkNotNull(o))||this}else{i=t.call(this,n,javaemul.internal.InternalPreconditions.checkNotNull(r))||this}return i}return __extends(n,t),n.prototype.getCause=function(){return null},n}(e.lang.RuntimeException);t.UncheckedIOException=n,n.__class="java.io.UncheckedIOException",n.__interfaces=["java.io.Serializable"]}(e.io||(e.io={}))}(java||(java={})),function(e){!function(t){var n=function(e){function t(t,n){var r=this;if("string"!==typeof t&&null!==t||!(null!=n&&n instanceof Error||null===n))if("string"!==typeof t&&null!==t||void 0!==n)if((null!=t&&t instanceof Error||null===t)&&void 0===n){var i=arguments[0];r=e.call(this,i)||this}else{if(void 0!==t||void 0!==n)throw new Error("invalid overload");r=e.call(this)||this}else{var o=arguments[0];r=e.call(this,o)||this}else{r=e.call(this,t,n)||this}return r}return __extends(t,e),t}(e.lang.RuntimeException);t.IllegalStateException=n,n.__class="java.lang.IllegalStateException",n.__interfaces=["java.io.Serializable"]}(e.lang||(e.lang={}))}(java||(java={})),function(e){!function(t){var n=function(e){function t(t){var n=this;if("string"===typeof t||null===t)n=e.call(this,t)||this;else{if(void 0!==t)throw new Error("invalid overload");n=e.call(this)||this}return n}return __extends(t,e),t.prototype.createError=function(e){return new TypeError(e)},t}(e.lang.RuntimeException);t.NullPointerException=n,n.__class="java.lang.NullPointerException",n.__interfaces=["java.io.Serializable"]}(e.lang||(e.lang={}))}(java||(java={})),function(e){!function(t){var n=function(e){function t(t,n){var r=this;if("string"!==typeof t&&null!==t||!(null!=n&&n instanceof Error||null===n))if("string"!==typeof t&&null!==t||void 0!==n)if((null!=t&&t instanceof Error||null===t)&&void 0===n){var i=arguments[0];r=e.call(this,i)||this}else{if(void 0!==t||void 0!==n)throw new Error("invalid overload");r=e.call(this)||this}else{var o=arguments[0];r=e.call(this,o)||this}else{r=e.call(this,t,n)||this}return r}return __extends(t,e),t}(e.lang.RuntimeException);t.IllegalAccessException=n,n.__class="java.lang.IllegalAccessException",n.__interfaces=["java.io.Serializable"]}(e.lang||(e.lang={}))}(java||(java={})),function(e){!function(t){var n=function(e){function t(t,n){var r=this;if("string"!==typeof t&&null!==t||!(null!=n&&n instanceof Error||null===n))if("string"!==typeof t&&null!==t||void 0!==n)if((null!=t&&t instanceof Error||null===t)&&void 0===n){var i=arguments[0];r=e.call(this,i)||this}else{if(void 0!==t||void 0!==n)throw new Error("invalid overload");r=e.call(this)||this}else{r=e.call(this,t)||this}else{r=e.call(this,t,n)||this}return r}return __extends(t,e),t}(e.lang.RuntimeException);t.IllegalArgumentException=n,n.__class="java.lang.IllegalArgumentException",n.__interfaces=["java.io.Serializable"]}(e.lang||(e.lang={}))}(java||(java={})),function(e){var t;(function(t){var n=function(e){function t(){var n=e.call(this)||this;return Object.setPrototypeOf(n,t.prototype),n}return __extends(t,e),t}(e.lang.RuntimeException);t.AnnotationTypeMismatchException=n,n.__class="java.lang.annotation.AnnotationTypeMismatchException",n.__interfaces=["java.io.Serializable"]})((t=e.lang||(e.lang={})).annotation||(t.annotation={}))}(java||(java={})),function(e){var t;(function(t){var n=function(e){function t(n,r){var i=e.call(this,"Incomplete annotation: trying to access "+r+" on "+n)||this;return Object.setPrototypeOf(i,t.prototype),void 0===i.__annotationType&&(i.__annotationType=null),void 0===i.__elementName&&(i.__elementName=null),i.__annotationType=n,i.__elementName=r,i}return __extends(t,e),t.prototype.annotationType=function(){return this.__annotationType},t.prototype.elementName=function(){return this.__elementName},t}(e.lang.RuntimeException);t.IncompleteAnnotationException=n,n.__class="java.lang.annotation.IncompleteAnnotationException",n.__interfaces=["java.io.Serializable"]})((t=e.lang||(e.lang={})).annotation||(t.annotation={}))}(java||(java={})),function(e){!function(t){var n=function(e){function t(t){var n=this;if("string"===typeof t||null===t)n=e.call(this,t)||this;else{if(void 0!==t)throw new Error("invalid overload");n=e.call(this)||this}return n}return __extends(t,e),t}(e.lang.RuntimeException);t.ClassCastException=n,n.__class="java.lang.ClassCastException",n.__interfaces=["java.io.Serializable"]}(e.lang||(e.lang={}))}(java||(java={})),function(e){!function(t){var n=function(e){function t(t){var n=this;if("string"===typeof t||null===t)n=e.call(this,t)||this;else{if(void 0!==t)throw new Error("invalid overload");n=e.call(this)||this}return n}return __extends(t,e),t}(e.lang.RuntimeException);t.NegativeArraySizeException=n,n.__class="java.lang.NegativeArraySizeException",n.__interfaces=["java.io.Serializable"]}(e.lang||(e.lang={}))}(java||(java={})),function(e){!function(t){var n=function(e){function t(t){var n=this;if("string"===typeof t||null===t)n=e.call(this,t)||this;else{if(void 0!==t)throw new Error("invalid overload");n=e.call(this)||this}return n}return __extends(t,e),t}(e.lang.RuntimeException);t.ArrayStoreException=n,n.__class="java.lang.ArrayStoreException",n.__interfaces=["java.io.Serializable"]}(e.lang||(e.lang={}))}(java||(java={})),function(e){!function(t){var n=function(e){function t(t){var n=this;if("string"===typeof t||null===t)n=e.call(this,t)||this;else{if(void 0!==t)throw new Error("invalid overload");n=e.call(this)||this}return n}return __extends(t,e),t}(e.lang.RuntimeException);t.ArithmeticException=n,n.__class="java.lang.ArithmeticException",n.__interfaces=["java.io.Serializable"]}(e.lang||(e.lang={}))}(java||(java={})),function(e){!function(t){var n=function(e){function t(t,n){var r=this;if("string"!==typeof t&&null!==t||!(null!=n&&n instanceof Error||null===n))if("string"!==typeof t&&null!==t||void 0!==n)if((null!=t&&t instanceof Error||null===t)&&void 0===n){var i=arguments[0];r=e.call(this,i)||this}else{if(void 0!==t||void 0!==n)throw new Error("invalid overload");r=e.call(this)||this}else{r=e.call(this,t)||this}else{r=e.call(this,t,n)||this}return r}return __extends(t,e),t}(e.lang.RuntimeException);t.UnsupportedOperationException=n,n.__class="java.lang.UnsupportedOperationException",n.__interfaces=["java.io.Serializable"]}(e.lang||(e.lang={}))}(java||(java={})),function(e){!function(t){var n=function(e){function t(t){var n=this;if("string"===typeof t||null===t)n=e.call(this,t)||this;else{if(void 0!==t)throw new Error("invalid overload");n=e.call(this)||this}return n}return __extends(t,e),t}(e.lang.RuntimeException);t.IndexOutOfBoundsException=n,n.__class="java.lang.IndexOutOfBoundsException",n.__interfaces=["java.io.Serializable"]}(e.lang||(e.lang={}))}(java||(java={})),function(e){!function(t){var n=function(e){function t(){var n=e.call(this)||this;return Object.setPrototypeOf(n,t.prototype),n}return __extends(t,e),t}(e.lang.RuntimeException);t.BufferUnderflowException=n,n.__class="java.nio.BufferUnderflowException",n.__interfaces=["java.io.Serializable"]}(e.nio||(e.nio={}))}(java||(java={})),function(e){!function(t){var n=function(e){function t(){var n=e.call(this)||this;return Object.setPrototypeOf(n,t.prototype),n}return __extends(t,e),t}(e.lang.RuntimeException);t.BufferOverflowException=n,n.__class="java.nio.BufferOverflowException",n.__interfaces=["java.io.Serializable"]}(e.nio||(e.nio={}))}(java||(java={})),function(e){!function(t){var n=function(e){function t(t){var n=this;if("string"===typeof t||null===t)n=e.call(this,t)||this;else{if(void 0!==t)throw new Error("invalid overload");n=e.call(this)||this}return n}return __extends(t,e),t}(e.lang.ReflectiveOperationException);t.InstantiationException=n,n.__class="java.lang.InstantiationException",n.__interfaces=["java.io.Serializable"]}(e.lang||(e.lang={}))}(java||(java={})),function(e){var t;(function(e){var t=function(){function e(){}return e.ISO_8859_1_$LI$=function(){return null==e.ISO_8859_1&&(e.ISO_8859_1=javaemul.internal.EmulatedCharset.ISO_8859_1_$LI$()),e.ISO_8859_1},e.UTF_8_$LI$=function(){return null==e.UTF_8&&(e.UTF_8=javaemul.internal.EmulatedCharset.UTF_8_$LI$()),e.UTF_8},e}();e.StandardCharsets=t,t.__class="java.nio.charset.StandardCharsets"})((t=e.nio||(e.nio={})).charset||(t.charset={}))}(java||(java={})),function(e){!function(t){var n=function(n){function r(e,t){var r=this;if("number"!==typeof e&&null!==e||"number"!==typeof t&&null!==t)if((null!=e&&null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("java.util.Map")>=0||null===e)&&void 0===t){var i=arguments[0];void 0===(r=n.call(this)||this).hashCodeMap&&(r.hashCodeMap=null),void 0===r.stringMap&&(r.stringMap=null),r.reset(),r.putAll(i)}else if("number"!==typeof e&&null!==e||void 0!==t){if(void 0!==e||void 0!==t)throw new Error("invalid overload");void 0===(r=n.call(this)||this).hashCodeMap&&(r.hashCodeMap=null),void 0===r.stringMap&&(r.stringMap=null),r.reset()}else{void 0===(r=n.call(this)||this).hashCodeMap&&(r.hashCodeMap=null),void 0===r.stringMap&&(r.stringMap=null),javaemul.internal.InternalPreconditions.checkArgument(e>=0,"Negative initial capacity"),javaemul.internal.InternalPreconditions.checkArgument(!0,"Non-positive load factor"),r.reset(),void 0===r.hashCodeMap&&(r.hashCodeMap=null),void 0===r.stringMap&&(r.stringMap=null)}else{void 0===(r=n.call(this)||this).hashCodeMap&&(r.hashCodeMap=null),void 0===r.stringMap&&(r.stringMap=null),javaemul.internal.InternalPreconditions.checkArgument(e>=0,"Negative initial capacity"),javaemul.internal.InternalPreconditions.checkArgument(t>=0,"Non-positive load factor"),r.reset()}return r}return __extends(r,n),r.prototype.clear=function(){this.reset()},r.prototype.reset=function(){this.hashCodeMap=new e.util.InternalHashCodeMap(this),this.stringMap=new e.util.InternalStringMap(this),e.util.ConcurrentModificationDetector.structureChanged(this)},r.prototype.containsKey=function(e){return"string"===typeof e?this.hasStringValue(javaemul.internal.JsUtils.unsafeCastToString(e)):this.hasHashValue(e)},r.prototype.containsValue=function(e){return this._containsValue(e,this.stringMap)||this._containsValue(e,this.hashCodeMap)},r.prototype._containsValue=function(e,t){for(var n=t.iterator();n.hasNext();){var r=n.next();if(this._equals(e,r.getValue()))return!0}return!1},r.prototype.entrySet=function(){return new r.EntrySet(this)},r.prototype.get=function(e){var t="string"===typeof e?this.getStringValue(javaemul.internal.JsUtils.unsafeCastToString(e)):this.getHashValue(e);return void 0===t?null:t},r.prototype.put=function(e,t){return"string"===typeof e?this.putStringValue(javaemul.internal.JsUtils.unsafeCastToString(e),t):this.putHashValue(e,t)},r.prototype.remove=function(e){return"string"===typeof e?this.removeStringValue(javaemul.internal.JsUtils.unsafeCastToString(e)):this.removeHashValue(e)},r.prototype.size=function(){return this.hashCodeMap.size()+this.stringMap.getSize()},r.prototype.getHashValue=function(e){return t.AbstractMap.getEntryValueOrNull(this.hashCodeMap.getEntry(e))},r.prototype.getStringValue=function(e){return null==e?this.getHashValue(null):this.stringMap.get(e)},r.prototype.hasHashValue=function(e){return null!=this.hashCodeMap.getEntry(e)},r.prototype.hasStringValue=function(e){return null==e?this.hasHashValue(null):this.stringMap.contains(e)},r.prototype.putHashValue=function(e,t){return this.hashCodeMap.put(e,t)},r.prototype.putStringValue=function(e,t){return null==e?this.putHashValue(null,t):this.stringMap.put(e,t)},r.prototype.removeHashValue=function(e){return this.hashCodeMap.remove(e)},r.prototype.removeStringValue=function(e){return null==e?this.removeHashValue(null):this.stringMap.remove(e)},r}(e.util.AbstractMap);t.AbstractHashMap=n,n.__class="java.util.AbstractHashMap",n.__interfaces=["java.util.Map"],function(t){var n=function(e){function n(t){var n=e.call(this)||this;return n.__parent=t,n}return __extends(n,e),n.prototype.clear=function(){this.clear()},n.prototype.contains=function(e){return null!=e&&null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("java.util.Map.Entry")>=0&&this.__parent.containsEntry(e)},n.prototype.iterator=function(){return new t.EntrySetIterator(this.__parent)},n.prototype.remove=function(e){if(this.contains(e)){var t=e.getKey();return this.remove(t),!0}return!1},n.prototype.size=function(){return this.size()},n}(e.util.AbstractSet);t.EntrySet=n,n.__class="java.util.AbstractHashMap.EntrySet",n.__interfaces=["java.util.Collection","java.util.Set","java.lang.Iterable"];var r=function(){function t(t){this.__parent=t,void 0===this.stringMapEntries&&(this.stringMapEntries=null),void 0===this.current&&(this.current=null),void 0===this.last&&(this.last=null),void 0===this.__hasNext&&(this.__hasNext=!1),this.stringMapEntries=t.stringMap.iterator(),this.current=this.stringMapEntries,this.__hasNext=this.computeHasNext(),e.util.ConcurrentModificationDetector.recordLastKnownStructure(t,this)}return t.prototype.forEachRemaining=function(e){var t,n=this;for(javaemul.internal.InternalPreconditions.checkNotNull(e);this.hasNext();)"function"===typeof(t=e)?t(n.next()):t.accept(n.next())},t.prototype.hasNext=function(){return this.__hasNext},t.prototype.computeHasNext=function(){return!!this.current.hasNext()||this.current===this.stringMapEntries&&(this.current=this.__parent.hashCodeMap.iterator(),this.current.hasNext())},t.prototype.next=function(){e.util.ConcurrentModificationDetector.checkStructuralChange(this.__parent,this),javaemul.internal.InternalPreconditions.checkElement(this.hasNext()),this.last=this.current;var t=this.current.next();return this.__hasNext=this.computeHasNext(),t},t.prototype.remove=function(){javaemul.internal.InternalPreconditions.checkState(null!=this.last),e.util.ConcurrentModificationDetector.checkStructuralChange(this.__parent,this),this.last.remove(),this.last=null,this.__hasNext=this.computeHasNext(),e.util.ConcurrentModificationDetector.recordLastKnownStructure(this.__parent,this)},t}();t.EntrySetIterator=r,r.__class="java.util.AbstractHashMap.EntrySetIterator",r.__interfaces=["java.util.Iterator"]}(n=t.AbstractHashMap||(t.AbstractHashMap={}))}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(t){function n(n){var r=this;if(null!=n&&(null!=n.__class||function(e){try{return new e,!0}catch(t){return!1}}(n))||null===n){void 0===(r=t.call(this)||this).__keySet&&(r.__keySet=null),void 0===r.__values&&(r.__values=null),r.init$java_lang_Class(n)}else if(null!=n&&n instanceof e.util.EnumMap||null===n){var i=arguments[0];void 0===(r=t.call(this)||this).__keySet&&(r.__keySet=null),void 0===r.__values&&(r.__values=null),r.init$java_util_EnumMap(i)}else{if(!(null!=n&&null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("java.util.Map")>=0||null===n))throw new Error("invalid overload");i=arguments[0];void 0===(r=t.call(this)||this).__keySet&&(r.__keySet=null),void 0===r.__values&&(r.__values=null),null!=i&&i instanceof e.util.EnumMap?r.init$java_util_EnumMap(i):(javaemul.internal.InternalPreconditions.checkArgument(!i.isEmpty(),"Specified map is empty"),r.init$java_lang_Class(i.keySet().iterator().next().getDeclaringClass()),r.putAll(i))}return r}return __extends(n,t),n.prototype.clear=function(){this.__keySet.clear(),this.__values=function(e){for(var t=[];e-- >0;)t.push(null);return t}(this.__values.length)},n.prototype.clone=function(){return new n(this)},n.prototype.containsKey=function(e){return this.__keySet.contains(e)},n.prototype.containsValue=function(t){for(var n=this.__keySet.iterator();n.hasNext();){var r=n.next();if(e.util.Objects.equals(t,this.__values[r.ordinal()]))return!0}return!1},n.prototype.entrySet=function(){return new n.EntrySet(this)},n.prototype.get=function(e){return this.__keySet.contains(e)?this.__values[this.asOrdinal(e)]:null},n.prototype.put$java_lang_Enum$java_lang_Object=function(e,t){return this.__keySet.add(e),this.set(e.ordinal(),t)},n.prototype.put=function(e,n){if(null==e&&null!==e||null==n&&null!==n){if(null==e&&null!==e||null==n&&null!==n)throw new Error("invalid overload");return t.prototype.put.call(this,e,n)}return this.put$java_lang_Enum$java_lang_Object(e,n)},n.prototype.remove=function(e){return this.__keySet.remove(e)?this.set(this.asOrdinal(e),null):null},n.prototype.size=function(){return this.__keySet.size()},n.prototype.asKey=function(e){return e},n.prototype.asOrdinal=function(e){return this.asKey(e).ordinal()},n.prototype.init$java_lang_Class=function(t){this.__keySet=e.util.EnumSet.noneOf(t),this.__values=function(e){for(var t=[];e-- >0;)t.push(null);return t}(this.__keySet.capacity())},n.prototype.init=function(t){if(null!=t&&(null!=t.__class||function(e){try{return new e,!0}catch(t){return!1}}(t))||null===t)return this.init$java_lang_Class(t);if(null!=t&&t instanceof e.util.EnumMap||null===t)return this.init$java_util_EnumMap(t);throw new Error("invalid overload")},n.prototype.init$java_util_EnumMap=function(e){this.__keySet=function(e){if(void 0!=e.clone)return e.clone();var t=Object.create(e);for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(e.__keySet),this.__values=javaemul.internal.ArrayHelper.clone(e.__values,0,e.__values.length)},n.prototype.set=function(e,t){var n=this.__values[e];return this.__values[e]=t,n},n}(e.util.AbstractMap);t.EnumMap=n,n.__class="java.util.EnumMap",n.__interfaces=["java.util.Map"],function(t){var n=function(e){function n(t){var n=e.call(this)||this;return n.__parent=t,n}return __extends(n,e),n.prototype.clear=function(){this.clear()},n.prototype.contains=function(e){return null!=e&&null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("java.util.Map.Entry")>=0&&this.__parent.containsEntry(e)},n.prototype.iterator=function(){return new t.EntrySetIterator(this.__parent)},n.prototype.remove=function(e){if(this.contains(e)){var t=e.getKey();return this.remove(t),!0}return!1},n.prototype.size=function(){return this.size()},n}(e.util.AbstractSet);t.EntrySet=n,n.__class="java.util.EnumMap.EntrySet",n.__interfaces=["java.util.Collection","java.util.Set","java.lang.Iterable"];var r=function(){function e(e){this.__parent=e,this.it=this.__parent.__keySet.iterator(),void 0===this.key&&(this.key=null)}return e.prototype.forEachRemaining=function(e){var t,n=this;for(javaemul.internal.InternalPreconditions.checkNotNull(e);this.hasNext();)"function"===typeof(t=e)?t(n.next()):t.accept(n.next())},e.prototype.hasNext=function(){return this.it.hasNext()},e.prototype.next=function(){return this.key=this.it.next(),new t.MapEntry(this.__parent,this.key)},e.prototype.remove=function(){javaemul.internal.InternalPreconditions.checkState(null!=this.key),this.__parent.remove(this.key),this.key=null},e}();t.EntrySetIterator=r,r.__class="java.util.EnumMap.EntrySetIterator",r.__interfaces=["java.util.Iterator"];var i=function(e){function t(t,n){var r=e.call(this)||this;return r.__parent=t,void 0===r.key&&(r.key=null),r.key=n,r}return __extends(t,e),t.prototype.getKey=function(){return this.key},t.prototype.getValue=function(){return this.__parent.__values[this.key.ordinal()]},t.prototype.setValue=function(e){return this.__parent.set(this.key.ordinal(),e)},t}(e.util.AbstractMapEntry);t.MapEntry=i,i.__class="java.util.EnumMap.MapEntry",i.__interfaces=["java.util.Map.Entry"]}(n=t.EnumMap||(t.EnumMap={}))}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(n){function r(){return n.call(this)||this}return __extends(r,n),r.prototype.putIfAbsent=function(e,t){var n=this.get(e);return null==n&&(n=this.put(e,t)),n},r.prototype.computeIfAbsent=function(e,t){var n,r;return null==(n=this.get(e))&&null!=(n="function"===typeof(r=t)?r(e):r.apply(e))&&this.put(e,n),n},r.prototype.merge=function(e,t,n){var r,i=this.get(e),o=null==i?t:"function"===typeof(r=n)?r(i,t):r.apply(i,t);return null==o?this.remove(e):this.put(e,o),o},r.prototype.getOrDefault=function(e,t){var n;return null!=(n=this.get(e))||this.containsKey(e)?n:t},r.prototype.replaceAll=function(t){e.util.Objects.requireNonNull(t);for(var n=function(n){var r,i,o,a=n.next();try{r=a.getKey(),i=a.getValue()}catch(s){throw new e.lang.RuntimeException(s)}i="function"===typeof(o=t)?o(r,i):o.apply(r,i);try{a.setValue(i)}catch(s){throw new e.lang.RuntimeException(s)}},r=this.entrySet().iterator();r.hasNext();)n(r)},r.copyOf=function(e){return null==e?null:new t.AbstractMap.SimpleImmutableEntry(e)},r.getKeyOrNSE=function(t){if(null==t)throw new e.util.NoSuchElementException;return t.getKey()},r.prototype.ceilingEntry=function(e){return r.copyOf(this.getCeilingEntry(e))},r.prototype.ceilingKey=function(e){return t.AbstractMap.getEntryKeyOrNull(this.getCeilingEntry(e))},r.prototype.containsKey=function(e){var t=e;return null!=this.getEntry(t)},r.prototype.descendingKeySet=function(){return this.descendingMap().navigableKeySet()},r.prototype.descendingMap=function(){return new r.DescendingMap(this)},r.prototype.entrySet=function(){return new r.EntrySet(this)},r.prototype.firstEntry=function(){return r.copyOf(this.getFirstEntry())},r.prototype.firstKey=function(){return r.getKeyOrNSE(this.getFirstEntry())},r.prototype.floorEntry=function(e){return r.copyOf(this.getFloorEntry(e))},r.prototype.floorKey=function(e){return t.AbstractMap.getEntryKeyOrNull(this.getFloorEntry(e))},r.prototype.get=function(e){var n=e;return t.AbstractMap.getEntryValueOrNull(this.getEntry(n))},r.prototype.headMap=function(e,t){if(null==e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.headMap$java_lang_Object(e)},r.prototype.headMap$java_lang_Object=function(e){return this.headMap(e,!1)},r.prototype.higherEntry=function(e){return r.copyOf(this.getHigherEntry(e))},r.prototype.higherKey=function(e){return t.AbstractMap.getEntryKeyOrNull(this.getHigherEntry(e))},r.prototype.keySet=function(){return this.navigableKeySet()},r.prototype.lastEntry=function(){return r.copyOf(this.getLastEntry())},r.prototype.lastKey=function(){return r.getKeyOrNSE(this.getLastEntry())},r.prototype.lowerEntry=function(e){return r.copyOf(this.getLowerEntry(e))},r.prototype.lowerKey=function(e){return t.AbstractMap.getEntryKeyOrNull(this.getLowerEntry(e))},r.prototype.navigableKeySet=function(){return new r.NavigableKeySet(this)},r.prototype.pollFirstEntry=function(){return this.pollEntry(this.getFirstEntry())},r.prototype.pollLastEntry=function(){return this.pollEntry(this.getLastEntry())},r.prototype.subMap=function(e,t,n,r){if(null==e&&null!==e||null==t&&null!==t||void 0!==n||void 0!==r)throw new Error("invalid overload");return this.subMap$java_lang_Object$java_lang_Object(e,t)},r.prototype.subMap$java_lang_Object$java_lang_Object=function(e,t){return this.subMap(e,!0,t,!1)},r.prototype.tailMap=function(e,t){if(null==e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.tailMap$java_lang_Object(e)},r.prototype.tailMap$java_lang_Object=function(e){return this.tailMap(e,!0)},r.prototype.containsEntry=function(t){var n=t.getKey(),r=this.getEntry(n);return null!=r&&e.util.Objects.equals(r.getValue(),t.getValue())},r.prototype.pollEntry=function(e){return null!=e&&this.removeEntry(e),r.copyOf(e)},r}(e.util.AbstractMap);t.AbstractNavigableMap=n,n.__class="java.util.AbstractNavigableMap",n.__interfaces=["java.util.Map","java.util.NavigableMap","java.util.SortedMap"],function(n){var r=function(t){function n(e){var n=t.call(this)||this;return n.__parent=e,n}return __extends(n,t),n.prototype.clear=function(){this.ascendingMap().clear()},n.prototype.comparator=function(){return e.util.Collections.reverseOrder$java_util_Comparator(this.ascendingMap().comparator())},n.prototype.descendingMap=function(){return this.ascendingMap()},n.prototype.headMap$java_lang_Object$boolean=function(e,t){return this.ascendingMap().tailMap(e,t).descendingMap()},n.prototype.headMap=function(e,t){if(null==e&&null!==e||"boolean"!==typeof t&&null!==t){if(null==e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.headMap$java_lang_Object(e)}return this.headMap$java_lang_Object$boolean(e,t)},n.prototype.put=function(e,t){return this.ascendingMap().put(e,t)},n.prototype.remove=function(e){return this.ascendingMap().remove(e)},n.prototype.size=function(){return this.ascendingMap().size()},n.prototype.subMap$java_lang_Object$boolean$java_lang_Object$boolean=function(e,t,n,r){return this.ascendingMap().subMap(n,r,e,t).descendingMap()},n.prototype.subMap=function(e,t,n,r){if(null==e&&null!==e||"boolean"!==typeof t&&null!==t||null==n&&null!==n||"boolean"!==typeof r&&null!==r){if(null==e&&null!==e||null==t&&null!==t||void 0!==n||void 0!==r)throw new Error("invalid overload");return this.subMap$java_lang_Object$java_lang_Object(e,t)}return this.subMap$java_lang_Object$boolean$java_lang_Object$boolean(e,t,n,r)},n.prototype.tailMap$java_lang_Object$boolean=function(e,t){return this.ascendingMap().headMap(e,t).descendingMap()},n.prototype.tailMap=function(e,t){if(null==e&&null!==e||"boolean"!==typeof t&&null!==t){if(null==e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.tailMap$java_lang_Object(e)}return this.tailMap$java_lang_Object$boolean(e,t)},n.prototype.ascendingMap=function(){return this.__parent},n.prototype.descendingEntryIterator=function(){return this.ascendingMap().entryIterator()},n.prototype.entryIterator=function(){return this.ascendingMap().descendingEntryIterator()},n.prototype.getEntry=function(e){return this.ascendingMap().getEntry(e)},n.prototype.getFirstEntry=function(){return this.ascendingMap().getLastEntry()},n.prototype.getLastEntry=function(){return this.ascendingMap().getFirstEntry()},n.prototype.getCeilingEntry=function(e){return this.ascendingMap().getFloorEntry(e)},n.prototype.getFloorEntry=function(e){return this.ascendingMap().getCeilingEntry(e)},n.prototype.getHigherEntry=function(e){return this.ascendingMap().getLowerEntry(e)},n.prototype.getLowerEntry=function(e){return this.ascendingMap().getHigherEntry(e)},n.prototype.removeEntry=function(e){return this.ascendingMap().removeEntry(e)},n}(e.util.AbstractNavigableMap);n.DescendingMap=r,r.__class="java.util.AbstractNavigableMap.DescendingMap",r.__interfaces=["java.util.Map","java.util.NavigableMap","java.util.SortedMap"];var i=function(e){function t(t){var n=e.call(this)||this;return n.__parent=t,n}return __extends(t,e),t.prototype.contains=function(e){return null!=e&&null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("java.util.Map.Entry")>=0&&this.__parent.containsEntry(e)},t.prototype.iterator=function(){return this.__parent.entryIterator()},t.prototype.remove=function(e){if(null!=e&&null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("java.util.Map.Entry")>=0){var t=e;return this.__parent.removeEntry(t)}return!1},t.prototype.size=function(){return this.size()},t}(e.util.AbstractSet);n.EntrySet=i,i.__class="java.util.AbstractNavigableMap.EntrySet",i.__interfaces=["java.util.Collection","java.util.Set","java.lang.Iterable"];var o=function(e){function n(t){var n=e.call(this)||this;return void 0===n.map&&(n.map=null),n.map=t,n}return __extends(n,e),n.prototype.stream=function(){return new javaemul.internal.stream.StreamHelper(this)},n.prototype.forEach=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=function(t){var n,r=t.next();"function"===typeof(n=e)?n(r):n.accept(r)},n=this.iterator();n.hasNext();)t(n)},n.prototype.parallelStream=function(){return this.stream()},n.prototype.removeIf=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=!1,n=function(n){var r;("function"===typeof(r=e)?r(n.next()):r.test(n.next()))&&(n.remove(),t=!0)},r=this.iterator();r.hasNext();)n(r);return t},n.prototype.ceiling=function(e){return this.map.ceilingKey(e)},n.prototype.clear=function(){this.map.clear()},n.prototype.comparator=function(){return this.map.comparator()},n.prototype.contains=function(e){return this.map.containsKey(e)},n.prototype.descendingIterator=function(){return this.descendingSet().iterator()},n.prototype.descendingSet=function(){return this.map.descendingMap().navigableKeySet()},n.prototype.first=function(){return this.map.firstKey()},n.prototype.floor=function(e){return this.map.floorKey(e)},n.prototype.headSet$java_lang_Object=function(e){return this.headSet(e,!1)},n.prototype.headSet$java_lang_Object$boolean=function(e,t){return this.map.headMap(e,t).navigableKeySet()},n.prototype.headSet=function(e,t){if(null==e&&null!==e||"boolean"!==typeof t&&null!==t){if(null==e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.headSet$java_lang_Object(e)}return this.headSet$java_lang_Object$boolean(e,t)},n.prototype.higher=function(e){return this.map.higherKey(e)},n.prototype.iterator=function(){var e=this.map.entrySet().iterator();return new n.NavigableKeySet$0(this,e)},n.prototype.last=function(){return this.map.lastKey()},n.prototype.lower=function(e){return this.map.lowerKey(e)},n.prototype.pollFirst=function(){return t.AbstractMap.getEntryKeyOrNull(this.map.pollFirstEntry())},n.prototype.pollLast=function(){return t.AbstractMap.getEntryKeyOrNull(this.map.pollLastEntry())},n.prototype.remove=function(e){return!!this.map.containsKey(e)&&(this.map.remove(e),!0)},n.prototype.size=function(){return this.map.size()},n.prototype.subSet$java_lang_Object$boolean$java_lang_Object$boolean=function(e,t,n,r){return this.map.subMap(e,t,n,r).navigableKeySet()},n.prototype.subSet=function(e,t,n,r){if(null==e&&null!==e||"boolean"!==typeof t&&null!==t||null==n&&null!==n||"boolean"!==typeof r&&null!==r){if(null==e&&null!==e||null==t&&null!==t||void 0!==n||void 0!==r)throw new Error("invalid overload");return this.subSet$java_lang_Object$java_lang_Object(e,t)}return this.subSet$java_lang_Object$boolean$java_lang_Object$boolean(e,t,n,r)},n.prototype.subSet$java_lang_Object$java_lang_Object=function(e,t){return this.subSet(e,!0,t,!1)},n.prototype.tailSet$java_lang_Object=function(e){return this.tailSet(e,!0)},n.prototype.tailSet$java_lang_Object$boolean=function(e,t){return this.map.tailMap(e,t).navigableKeySet()},n.prototype.tailSet=function(e,t){if(null==e&&null!==e||"boolean"!==typeof t&&null!==t){if(null==e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.tailSet$java_lang_Object(e)}return this.tailSet$java_lang_Object$boolean(e,t)},n}(e.util.AbstractSet);n.NavigableKeySet=o,o.__class="java.util.AbstractNavigableMap.NavigableKeySet",o.__interfaces=["java.util.SortedSet","java.util.Collection","java.util.Set","java.util.NavigableSet","java.lang.Iterable"],function(e){var t=function(){function e(e,t){this.entryIterator=t,this.__parent=e}return e.prototype.forEachRemaining=function(e){var t,n=this;for(javaemul.internal.InternalPreconditions.checkNotNull(e);this.hasNext();)"function"===typeof(t=e)?t(n.next()):t.accept(n.next())},e.prototype.hasNext=function(){return this.entryIterator.hasNext()},e.prototype.next=function(){return this.entryIterator.next().getKey()},e.prototype.remove=function(){this.entryIterator.remove()},e}();e.NavigableKeySet$0=t,t.__interfaces=["java.util.Iterator"]}(o=n.NavigableKeySet||(n.NavigableKeySet={}))}(n=t.AbstractNavigableMap||(t.AbstractNavigableMap={}))}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(){function t(){}return t.EMPTY_LIST_$LI$=function(){return null==t.EMPTY_LIST&&(t.EMPTY_LIST=new t.EmptyList),t.EMPTY_LIST},t.EMPTY_MAP_$LI$=function(){return null==t.EMPTY_MAP&&(t.EMPTY_MAP=new t.EmptyMap),t.EMPTY_MAP},t.EMPTY_SET_$LI$=function(){return null==t.EMPTY_SET&&(t.EMPTY_SET=new t.EmptySet),t.EMPTY_SET},t.addAll=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=!1,i=0;i<t.length;i++){var o=t[i];r=e.add(o)||r}return r},t.asLifoQueue=function(e){return new t.LifoQueue(e)},t.binarySearch$java_util_List$java_lang_Object=function(e,n){return t.binarySearch(e,n,null)},t.binarySearch$java_util_List$java_lang_Object$java_util_Comparator=function(t,n,r){null==r&&(r=e.util.Comparators.natural());for(var i,o=0,a=t.size()-1;o<=a;){var s=o+(a-o>>1),l=t.get(s),u=(void 0===(i=r).compare?i:i.compare)(l,n);if(u<0)o=s+1;else{if(!(u>0))return s;a=s-1}}return-o-1},t.binarySearch=function(t,n,r){if(!(null!=t&&null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.util.List")>=0||null===t)||null==n&&null!==n||("function"!==typeof r||2!==r.length)&&null!==r){if(!(null!=t&&null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.util.List")>=0||null===t)||null==n&&null!==n||void 0!==r)throw new Error("invalid overload");return e.util.Collections.binarySearch$java_util_List$java_lang_Object(t,n)}return e.util.Collections.binarySearch$java_util_List$java_lang_Object$java_util_Comparator(t,n,r)},t.copy=function(t,n){if(n.size()>t.size())throw new e.lang.IndexOutOfBoundsException("src does not fit in dest");for(var r=t.listIterator$(),i=n.iterator();i.hasNext();){var o=i.next();r.next(),r.set(o)}},t.disjoint=function(e,t){var n=e,r=t;null!=e&&null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("java.util.Set")>=0&&!(null!=t&&null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.util.Set")>=0)&&(n=t,r=e);for(var i=n.iterator();i.hasNext();){var o=i.next();if(r.contains(o))return!1}return!0},t.emptyIterator=function(){return t.EmptyListIterator.INSTANCE_$LI$()},t.emptyList=function(){return t.EMPTY_LIST_$LI$()},t.emptyListIterator=function(){return t.EmptyListIterator.INSTANCE_$LI$()},t.emptyMap=function(){return t.EMPTY_MAP_$LI$()},t.emptySet=function(){return t.EMPTY_SET_$LI$()},t.enumeration=function(e){var n=e.iterator();return new t.Collections$0(n)},t.fill=function(e,t){for(var n=e.listIterator$();n.hasNext();)n.next(),n.set(t)},t.frequency=function(t,n){for(var r=0,i=t.iterator();i.hasNext();){var o=i.next();e.util.Objects.equals(n,o)&&++r}return r},t.list=function(t){for(var n=new e.util.ArrayList;t.hasMoreElements();)n.add(t.nextElement());return n},t.max$java_util_Collection=function(e){return t.max$java_util_Collection$java_util_Comparator(e,null)},t.max$java_util_Collection$java_util_Comparator=function(t,n){null==n&&(n=e.util.Comparators.natural());for(var r,i=t.iterator(),o=i.next();i.hasNext();){var a=i.next();(void 0===(r=n).compare?r:r.compare)(a,o)>0&&(o=a)}return o},t.max=function(t,n){if((null!=t&&null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.util.Collection")>=0||null===t)&&("function"===typeof n&&2===n.length||null===n))return e.util.Collections.max$java_util_Collection$java_util_Comparator(t,n);if((null!=t&&null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.util.Collection")>=0||null===t)&&void 0===n)return e.util.Collections.max$java_util_Collection(t);throw new Error("invalid overload")},t.min=function(e,n){return void 0===n&&(n=null),t.max$java_util_Collection$java_util_Comparator(e,t.reverseOrder$java_util_Comparator(n))},t.newSetFromMap=function(e){return javaemul.internal.InternalPreconditions.checkArgument(e.isEmpty(),"map is not empty"),new t.SetFromMap(e)},t.nCopies=function(n,r){for(var i=new e.util.ArrayList,o=0;o<n;++o)i.add(r);return t.unmodifiableList(i)},t.replaceAll=function(t,n,r){for(var i=!1,o=t.listIterator$();o.hasNext();){var a=o.next();e.util.Objects.equals(a,n)&&(o.set(r),i=!0)}return i},t.reverse=function(e){if(null!=e&&null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("java.util.RandomAccess")>=0)for(var n=0,r=e.size()-1;n<r;++n,--r)t.swap(e,n,r);else for(var i=e.listIterator$(),o=e.listIterator$int(e.size());i.nextIndex()<o.previousIndex();){var a=i.next(),s=o.previous();i.set(s),o.set(a)}},t.reverseOrder$=function(){return t.ReverseComparator.INSTANCE_$LI$()},t.reverseOrder$java_util_Comparator=function(e){return null==e?t.reverseOrder$():function(t,n){return(void 0===(r=e).compare?r:r.compare)(n,t);var r}},t.reverseOrder=function(t){if("function"===typeof t&&2===t.length||null===t)return e.util.Collections.reverseOrder$java_util_Comparator(t);if(void 0===t)return e.util.Collections.reverseOrder$();throw new Error("invalid overload")},t.rotate=function(e,n){javaemul.internal.InternalPreconditions.checkNotNull(e);var r=e.size();if(0!==r){var i=n%r;if(0!==i)if(i<0&&(i+=r),null!=e&&null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("java.util.RandomAccess")>=0)for(var o=e,a=o.get(0),s=0,l=0,u=0;u<r;u++)s=(s+i)%r,a=o.set(s,a),s===l&&(s=++l,a=o.get(l));else{var c=r-i,f=e.subList(0,c),h=e.subList(c,r);t.reverse(f),t.reverse(h),t.reverse(e)}}},t.shuffle=function(e,n){if(void 0===n&&(n=t.RandomHolder.rnd_$LI$()),null!=e&&null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("java.util.RandomAccess")>=0)for(var r=e.size()-1;r>=1;r--)t.swapImpl$java_util_List$int$int(e,r,n.nextInt$int(r+1));else{var i=e.toArray$();for(r=i.length-1;r>=1;r--)t.swapImpl$java_lang_Object_A$int$int(i,r,n.nextInt$int(r+1));for(var o=e.listIterator$(),a=0;a<i.length;a++){var s=i[a];o.next(),o.set(s)}}},t.singleton=function(n){var r=new e.util.HashSet(1);return r.add(n),t.unmodifiableSet(r)},t.singletonList=function(e){return new t.SingletonList(e)},t.singletonMap=function(n,r){var i=new e.util.HashMap(1);return i.put(n,r),t.unmodifiableMap(i)},t.sort$java_util_List=function(e){t.sort$java_util_List$java_util_Comparator(e,null)},t.sort$java_util_List$java_util_Comparator=function(n,r){var i=n.toArray$();e.util.Arrays.sort$java_lang_Object_A$java_util_Comparator(i,r),t.replaceContents(n,i)},t.sort=function(t,n){if((null!=t&&null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.util.List")>=0||null===t)&&("function"===typeof n&&2===n.length||null===n))return e.util.Collections.sort$java_util_List$java_util_Comparator(t,n);if((null!=t&&null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.util.List")>=0||null===t)&&void 0===n)return e.util.Collections.sort$java_util_List(t);throw new Error("invalid overload")},t.swap=function(e,n,r){t.swapImpl$java_util_List$int$int(e,n,r)},t.unmodifiableCollection=function(e){return new t.UnmodifiableCollection(e)},t.unmodifiableList=function(e){return null!=e&&null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("java.util.RandomAccess")>=0?new t.UnmodifiableRandomAccessList(e):new t.UnmodifiableList(e)},t.unmodifiableMap=function(e){return new t.UnmodifiableMap(e)},t.unmodifiableSet=function(e){return new t.UnmodifiableSet(e)},t.unmodifiableSortedMap=function(e){return new t.UnmodifiableSortedMap(e)},t.unmodifiableSortedSet=function(e){return new t.UnmodifiableSortedSet(e)},t.hashCode$java_lang_Iterable=function(t){for(var n=0,r=t.iterator();r.hasNext();){var i=r.next();n+=e.util.Objects.hashCode(i),n=javaemul.internal.Coercions.ensureInt(n)}return n},t.hashCode$java_util_List=function(t){for(var n=1,r=t.iterator();r.hasNext();){var i=r.next();n=31*n+e.util.Objects.hashCode(i),n=javaemul.internal.Coercions.ensureInt(n)}return n},t.hashCode=function(t){if(null!=t&&null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.util.List")>=0||null===t)return e.util.Collections.hashCode$java_util_List(t);if(null!=t&&null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.lang.Iterable")>=0||null===t)return e.util.Collections.hashCode$java_lang_Iterable(t);throw new Error("invalid overload")},t.replaceContents=function(e,t){for(var n=e.size(),r=0;r<n;r++)e.set(r,t[r])},t.swapImpl$java_util_List$int$int=function(e,t,n){var r=e.get(t);e.set(t,e.get(n)),e.set(n,r)},t.swapImpl=function(t,n,r){if(!(null!=t&&null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.util.List")>=0||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||null!=t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r)throw new Error("invalid overload");return e.util.Collections.swapImpl$java_lang_Object_A$int$int(t,n,r)}return e.util.Collections.swapImpl$java_util_List$int$int(t,n,r)},t.swapImpl$java_lang_Object_A$int$int=function(e,t,n){var r=e[t];e[t]=e[n],e[n]=r},t.synchronizedList=function(t){return new e.util.ArrayList(t)},t.synchronizedSet=function(t){return new e.util.HashSet(t)},t}();t.Collections=n,n.__class="java.util.Collections",function(t){var n=function(e){function t(t){var n=e.call(this)||this;return void 0===n.deque&&(n.deque=null),n.deque=t,n}return __extends(t,e),t.prototype.iterator=function(){return this.deque.iterator()},t.prototype.offer=function(e){return this.deque.offerFirst(e)},t.prototype.peek=function(){return this.deque.peekFirst()},t.prototype.poll=function(){return this.deque.pollFirst()},t.prototype.size=function(){return this.deque.size()},t}(e.util.AbstractQueue);t.LifoQueue=n,n.__class="java.util.Collections.LifoQueue",n.__interfaces=["java.util.Collection","java.util.Queue","java.lang.Iterable","java.io.Serializable"];var r=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.prototype.contains=function(e){return!1},n.prototype.get=function(e){return javaemul.internal.InternalPreconditions.checkElementIndex(e,0),null},n.prototype.iterator=function(){return t.emptyIterator()},n.prototype.listIterator=function(t){if("number"===typeof t||null===t)return e.prototype.listIterator.call(this,t);if(void 0===t)return this.listIterator$();throw new Error("invalid overload")},n.prototype.listIterator$=function(){return t.emptyListIterator()},n.prototype.size=function(){return 0},n}(e.util.AbstractList);t.EmptyList=r,r.__class="java.util.Collections.EmptyList",r.__interfaces=["java.util.RandomAccess","java.util.List","java.util.Collection","java.lang.Iterable","java.io.Serializable"];var i=function(){function n(){}return n.prototype.forEachRemaining=function(e){var t,n=this;for(javaemul.internal.InternalPreconditions.checkNotNull(e);this.hasNext();)"function"===typeof(t=e)?t(n.next()):t.accept(n.next())},n.INSTANCE_$LI$=function(){return null==n.INSTANCE&&(n.INSTANCE=new t.EmptyListIterator),n.INSTANCE},n.prototype.add=function(t){throw new e.lang.UnsupportedOperationException},n.prototype.hasNext=function(){return!1},n.prototype.hasPrevious=function(){return!1},n.prototype.next=function(){throw new e.util.NoSuchElementException},n.prototype.nextIndex=function(){return 0},n.prototype.previous=function(){throw new e.util.NoSuchElementException},n.prototype.previousIndex=function(){return-1},n.prototype.remove=function(){throw new e.lang.IllegalStateException},n.prototype.set=function(t){throw new e.lang.IllegalStateException},n}();t.EmptyListIterator=i,i.__class="java.util.Collections.EmptyListIterator",i.__interfaces=["java.util.Iterator","java.util.ListIterator"];var o=function(e){function n(){return e.call(this)||this}return __extends(n,e),n.prototype.contains=function(e){return!1},n.prototype.iterator=function(){return t.emptyIterator()},n.prototype.size=function(){return 0},n}(e.util.AbstractSet);t.EmptySet=o,o.__class="java.util.Collections.EmptySet",o.__interfaces=["java.util.Collection","java.util.Set","java.lang.Iterable","java.io.Serializable"];var a=function(t){function n(){return t.call(this)||this}return __extends(n,t),n.prototype.containsKey=function(e){return!1},n.prototype.containsValue=function(e){return!1},n.prototype.entrySet=function(){return e.util.Collections.EMPTY_SET_$LI$()},n.prototype.get=function(e){return null},n.prototype.keySet=function(){return e.util.Collections.EMPTY_SET_$LI$()},n.prototype.size=function(){return 0},n.prototype.values=function(){return e.util.Collections.EMPTY_LIST_$LI$()},n}(e.util.AbstractMap);t.EmptyMap=a,a.__class="java.util.Collections.EmptyMap",a.__interfaces=["java.util.Map","java.io.Serializable"];var s=function(){function e(){}return e.INSTANCE_$LI$=function(){return null==e.INSTANCE&&(e.INSTANCE=new t.ReverseComparator),e.INSTANCE},e.prototype.compare$java_lang_Comparable$java_lang_Comparable=function(e,t){return t.compareTo(e)},e.prototype.compare=function(e,t){if((null!=e&&null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("java.lang.Comparable")>=0||null===e)&&(null!=t&&null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.lang.Comparable")>=0||null===t))return this.compare$java_lang_Comparable$java_lang_Comparable(e,t);throw new Error("invalid overload")},e}();t.ReverseComparator=s,s.__class="java.util.Collections.ReverseComparator",s.__interfaces=["java.util.Comparator"];var l=function(e){function t(t){var n=e.call(this)||this;return void 0===n.backingMap&&(n.backingMap=null),void 0===n.__keySet&&(n.__keySet=null),n.backingMap=t,n}return __extends(t,e),t.prototype.add=function(e){return null==this.backingMap.put(e,javaemul.internal.BooleanHelper.TRUE)},t.prototype.clear=function(){this.backingMap.clear()},t.prototype.contains=function(e){return this.backingMap.containsKey(e)},t.prototype.equals=function(e){return e===this||(t=this.keySet(),n=e,t&&t.equals?t.equals(n):t===n);var t,n},t.prototype.hashCode=function(){return(e=this.keySet()).hashCode?e.hashCode():e.toString().split("").reduce(function(e,t){return(e<<5)-e+t.charCodeAt(0)|0},0);var e},t.prototype.iterator=function(){return this.keySet().iterator()},t.prototype.remove=function(e){return null!=this.backingMap.remove(e)},t.prototype.size=function(){return this.keySet().size()},t.prototype.toString=function(){return this.keySet().toString()},t.prototype.keySet=function(){return null==this.__keySet&&(this.__keySet=this.backingMap.keySet()),this.__keySet},t}(e.util.AbstractSet);t.SetFromMap=l,l.__class="java.util.Collections.SetFromMap",l.__interfaces=["java.util.Collection","java.util.Set","java.lang.Iterable","java.io.Serializable"];var u=function(t){function n(e){var n=t.call(this)||this;return void 0===n.element&&(n.element=null),n.element=e,n}return __extends(n,t),n.prototype.contains=function(t){return e.util.Objects.equals(this.element,t)},n.prototype.get=function(e){return javaemul.internal.InternalPreconditions.checkElementIndex(e,1),this.element},n.prototype.size=function(){return 1},n}(e.util.AbstractList);t.SingletonList=u,u.__class="java.util.Collections.SingletonList",u.__interfaces=["java.util.List","java.util.Collection","java.lang.Iterable","java.io.Serializable"];var c=function(){function n(e){void 0===this.coll&&(this.coll=null),this.coll=e}return n.prototype.stream=function(){return new javaemul.internal.stream.StreamHelper(this)},n.prototype.forEach=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=function(t){var n,r=t.next();"function"===typeof(n=e)?n(r):n.accept(r)},n=this.iterator();n.hasNext();)t(n)},n.prototype.parallelStream=function(){return this.stream()},n.prototype.removeIf=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=!1,n=function(n){var r;("function"===typeof(r=e)?r(n.next()):r.test(n.next()))&&(n.remove(),t=!0)},r=this.iterator();r.hasNext();)n(r);return t},n.prototype.add=function(t){throw new e.lang.UnsupportedOperationException},n.prototype.addAll=function(t){throw new e.lang.UnsupportedOperationException},n.prototype.clear=function(){throw new e.lang.UnsupportedOperationException},n.prototype.contains=function(e){return this.coll.contains(e)},n.prototype.containsAll=function(e){return this.coll.containsAll(e)},n.prototype.isEmpty=function(){return this.coll.isEmpty()},n.prototype.iterator=function(){return new t.UnmodifiableCollectionIterator(this.coll.iterator())},n.prototype.remove=function(t){throw new e.lang.UnsupportedOperationException},n.prototype.removeAll=function(t){throw new e.lang.UnsupportedOperationException},n.prototype.retainAll=function(t){throw new e.lang.UnsupportedOperationException},n.prototype.size=function(){return this.coll.size()},n.prototype.toArray$=function(){return this.coll.toArray$()},n.prototype.toArray$java_lang_Object_A=function(e){return this.coll.toArray$java_lang_Object_A(e)},n.prototype.toArray=function(e){if(null!=e&&e instanceof Array&&(0==e.length||null==e[0]||null!=e[0])||null===e)return this.toArray$java_lang_Object_A(e);if(void 0===e)return this.toArray$();throw new Error("invalid overload")},n.prototype.toString=function(){return this.coll.toString()},n}();t.UnmodifiableCollection=c,c.__class="java.util.Collections.UnmodifiableCollection",c.__interfaces=["java.util.Collection","java.lang.Iterable"];var f=function(){function t(e){void 0===this.it&&(this.it=null),this.it=e}return t.prototype.forEachRemaining=function(e){var t,n=this;for(javaemul.internal.InternalPreconditions.checkNotNull(e);this.hasNext();)"function"===typeof(t=e)?t(n.next()):t.accept(n.next())},t.prototype.hasNext=function(){return this.it.hasNext()},t.prototype.next=function(){return this.it.next()},t.prototype.remove=function(){throw new e.lang.UnsupportedOperationException},t}();t.UnmodifiableCollectionIterator=f,f.__class="java.util.Collections.UnmodifiableCollectionIterator",f.__interfaces=["java.util.Iterator"];var h=function(){function t(){}return t.rnd_$LI$=function(){return null==t.rnd&&(t.rnd=new e.util.Random),t.rnd},t}();t.RandomHolder=h,h.__class="java.util.Collections.RandomHolder";var d=function(n){function r(e){var t=n.call(this,e)||this;return void 0===t.list&&(t.list=null),t.list=e,t}return __extends(r,n),r.prototype.stream=function(){return new javaemul.internal.stream.StreamHelper(this)},r.prototype.forEach=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=function(t){var n,r=t.next();"function"===typeof(n=e)?n(r):n.accept(r)},n=this.iterator();n.hasNext();)t(n)},r.prototype.parallelStream=function(){return this.stream()},r.prototype.sort=function(t){var n=this.toArray();e.util.Arrays.sort(n,t);for(var r=this.listIterator(),i=0;i<n.length;i++){var o=n[i];r.next(),r.set(o)}},r.prototype.removeIf=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=!1,n=function(n){var r;("function"===typeof(r=e)?r(n.next()):r.test(n.next()))&&(n.remove(),t=!0)},r=this.iterator();r.hasNext();)n(r);return t},r.prototype.add$int$java_lang_Object=function(t,n){throw new e.lang.UnsupportedOperationException},r.prototype.add=function(e,t){if(!("number"!==typeof e&&null!==e||null==t&&null!==t))return this.add$int$java_lang_Object(e,t);if(null==e&&null!==e||void 0!==t)throw new Error("invalid overload");n.prototype.add.call(this,e)},r.prototype.addAll$int$java_util_Collection=function(t,n){throw new e.lang.UnsupportedOperationException},r.prototype.addAll=function(e,t){if("number"!==typeof e&&null!==e||!(null!=t&&null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.util.Collection")>=0||null===t)){if((null!=e&&null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("java.util.Collection")>=0||null===e)&&void 0===t)return n.prototype.addAll.call(this,e);throw new Error("invalid overload")}return this.addAll$int$java_util_Collection(e,t)},r.prototype.equals=function(e){return t=this.list,n=e,t&&t.equals?t.equals(n):t===n;var t,n},r.prototype.get=function(e){return this.list.get(e)},r.prototype.hashCode=function(){return(e=this.list).hashCode?e.hashCode():e.toString().split("").reduce(function(e,t){return(e<<5)-e+t.charCodeAt(0)|0},0);var e},r.prototype.indexOf=function(e){return this.list.indexOf(e)},r.prototype.isEmpty=function(){return this.list.isEmpty()},r.prototype.lastIndexOf=function(e){return this.list.lastIndexOf(e)},r.prototype.listIterator$=function(){return this.listIterator$int(0)},r.prototype.listIterator$int=function(e){return new t.UnmodifiableListIterator(this.list.listIterator$int(e))},r.prototype.listIterator=function(e){if("number"===typeof e||null===e)return this.listIterator$int(e);if(void 0===e)return this.listIterator$();throw new Error("invalid overload")},r.prototype.remove$int=function(t){throw new e.lang.UnsupportedOperationException},r.prototype.remove=function(e){if("number"===typeof e||null===e)return this.remove$int(e);if(null!=e||null===e)return n.prototype.remove.call(this,e);throw new Error("invalid overload")},r.prototype.set=function(t,n){throw new e.lang.UnsupportedOperationException},r.prototype.subList=function(e,n){return new t.UnmodifiableList(this.list.subList(e,n))},r}(t.UnmodifiableCollection);t.UnmodifiableList=d,d.__class="java.util.Collections.UnmodifiableList",d.__interfaces=["java.util.List","java.util.Collection","java.lang.Iterable"];var p=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.stream=function(){return new javaemul.internal.stream.StreamHelper(this)},t.prototype.forEach=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=function(t){var n,r=t.next();"function"===typeof(n=e)?n(r):n.accept(r)},n=this.iterator();n.hasNext();)t(n)},t.prototype.parallelStream=function(){return this.stream()},t.prototype.removeIf=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=!1,n=function(n){var r;("function"===typeof(r=e)?r(n.next()):r.test(n.next()))&&(n.remove(),t=!0)},r=this.iterator();r.hasNext();)n(r);return t},t.prototype.equals=function(e){return t=this.coll,n=e,t&&t.equals?t.equals(n):t===n;var t,n},t.prototype.hashCode=function(){return(e=this.coll).hashCode?e.hashCode():e.toString().split("").reduce(function(e,t){return(e<<5)-e+t.charCodeAt(0)|0},0);var e},t}(t.UnmodifiableCollection);t.UnmodifiableSet=p,p.__class="java.util.Collections.UnmodifiableSet",p.__interfaces=["java.util.Collection","java.util.Set","java.lang.Iterable"];var m=function(t){function n(e){var n=t.call(this,e)||this;return void 0===n.lit&&(n.lit=null),n.lit=e,n}return __extends(n,t),n.prototype.forEachRemaining=function(e){var t,n=this;for(javaemul.internal.InternalPreconditions.checkNotNull(e);this.hasNext();)"function"===typeof(t=e)?t(n.next()):t.accept(n.next())},n.prototype.add=function(t){throw new e.lang.UnsupportedOperationException},n.prototype.hasPrevious=function(){return this.lit.hasPrevious()},n.prototype.nextIndex=function(){return this.lit.nextIndex()},n.prototype.previous=function(){return this.lit.previous()},n.prototype.previousIndex=function(){return this.lit.previousIndex()},n.prototype.set=function(t){throw new e.lang.UnsupportedOperationException},n}(t.UnmodifiableCollectionIterator);t.UnmodifiableListIterator=m,m.__class="java.util.Collections.UnmodifiableListIterator",m.__interfaces=["java.util.Iterator","java.util.ListIterator"];var v=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t}(t.UnmodifiableList);t.UnmodifiableRandomAccessList=v,v.__class="java.util.Collections.UnmodifiableRandomAccessList",v.__interfaces=["java.util.RandomAccess","java.util.List","java.util.Collection","java.lang.Iterable"];var g=function(){function n(e){void 0===this.__entrySet&&(this.__entrySet=null),void 0===this.__keySet&&(this.__keySet=null),void 0===this.map&&(this.map=null),void 0===this.__values&&(this.__values=null),this.map=e}return n.prototype.putIfAbsent=function(e,t){var n=this.get(e);return null==n&&(n=this.put(e,t)),n},n.prototype.computeIfAbsent=function(e,t){var n,r;return null==(n=this.get(e))&&null!=(n="function"===typeof(r=t)?r(e):r.apply(e))&&this.put(e,n),n},n.prototype.merge=function(e,t,n){var r,i=this.get(e),o=null==i?t:"function"===typeof(r=n)?r(i,t):r.apply(i,t);return null==o?this.remove(e):this.put(e,o),o},n.prototype.getOrDefault=function(e,t){var n;return null!=(n=this.get(e))||this.containsKey(e)?n:t},n.prototype.replaceAll=function(t){e.util.Objects.requireNonNull(t);for(var n=function(n){var r,i,o,a=n.next();try{r=a.getKey(),i=a.getValue()}catch(s){throw new e.lang.RuntimeException(s)}i="function"===typeof(o=t)?o(r,i):o.apply(r,i);try{a.setValue(i)}catch(s){throw new e.lang.RuntimeException(s)}},r=this.entrySet().iterator();r.hasNext();)n(r)},n.prototype.clear=function(){throw new e.lang.UnsupportedOperationException},n.prototype.containsKey=function(e){return this.map.containsKey(e)},n.prototype.containsValue=function(e){return this.map.containsValue(e)},n.prototype.entrySet=function(){return null==this.__entrySet&&(this.__entrySet=new n.UnmodifiableEntrySet(this.map.entrySet())),this.__entrySet},n.prototype.equals=function(e){return t=this.map,n=e,t&&t.equals?t.equals(n):t===n;var t,n},n.prototype.get=function(e){return this.map.get(e)},n.prototype.hashCode=function(){return(e=this.map).hashCode?e.hashCode():e.toString().split("").reduce(function(e,t){return(e<<5)-e+t.charCodeAt(0)|0},0);var e},n.prototype.isEmpty=function(){return this.map.isEmpty()},n.prototype.keySet=function(){return null==this.__keySet&&(this.__keySet=new t.UnmodifiableSet(this.map.keySet())),this.__keySet},n.prototype.put=function(t,n){throw new e.lang.UnsupportedOperationException},n.prototype.putAll=function(t){throw new e.lang.UnsupportedOperationException},n.prototype.remove=function(t){throw new e.lang.UnsupportedOperationException},n.prototype.size=function(){return this.map.size()},n.prototype.toString=function(){return this.map.toString()},n.prototype.values=function(){return null==this.__values&&(this.__values=new t.UnmodifiableCollection(this.map.values())),this.__values},n}();t.UnmodifiableMap=g,g.__class="java.util.Collections.UnmodifiableMap",g.__interfaces=["java.util.Map"],function(n){var r=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.contains=function(e){return this.coll.contains(e)},t.prototype.containsAll=function(e){return this.coll.containsAll(e)},t.prototype.iterator=function(){var e=this.coll.iterator();return new t.UnmodifiableEntrySet$0(this,e)},t.prototype.toArray$=function(){var t=e.prototype.toArray$.call(this);return this.wrap(t,t.length),t},t.prototype.toArray$java_lang_Object_A=function(t){var n=e.prototype.toArray$java_lang_Object_A.call(this,t);return this.wrap(n,this.coll.size()),n},t.prototype.toArray=function(e){if(null!=e&&e instanceof Array&&(0==e.length||null==e[0]||null!=e[0])||null===e)return this.toArray$java_lang_Object_A(e);if(void 0===e)return this.toArray$();throw new Error("invalid overload")},t.prototype.wrap=function(e,n){for(var r=0;r<n;++r)e[r]=new t.UnmodifiableEntry(e[r])},t}(t.UnmodifiableSet);n.UnmodifiableEntrySet=r,r.__class="java.util.Collections.UnmodifiableMap.UnmodifiableEntrySet",r.__interfaces=["java.util.Collection","java.util.Set","java.lang.Iterable"],function(t){var n=function(){function t(e){void 0===this.entry&&(this.entry=null),this.entry=e}return t.prototype.equals=function(e){return t=this.entry,n=e,t&&t.equals?t.equals(n):t===n;var t,n},t.prototype.getKey=function(){return this.entry.getKey()},t.prototype.getValue=function(){return this.entry.getValue()},t.prototype.hashCode=function(){return(e=this.entry).hashCode?e.hashCode():e.toString().split("").reduce(function(e,t){return(e<<5)-e+t.charCodeAt(0)|0},0);var e},t.prototype.setValue=function(t){throw new e.lang.UnsupportedOperationException},t.prototype.toString=function(){return this.entry.toString()},t}();t.UnmodifiableEntry=n,n.__class="java.util.Collections.UnmodifiableMap.UnmodifiableEntrySet.UnmodifiableEntry",n.__interfaces=["java.util.Map.Entry"];var r=function(){function n(e,t){this.it=t,this.__parent=e}return n.prototype.forEachRemaining=function(e){var t,n=this;for(javaemul.internal.InternalPreconditions.checkNotNull(e);this.hasNext();)"function"===typeof(t=e)?t(n.next()):t.accept(n.next())},n.prototype.hasNext=function(){return this.it.hasNext()},n.prototype.next=function(){return new t.UnmodifiableEntry(this.it.next())},n.prototype.remove=function(){throw new e.lang.UnsupportedOperationException},n}();t.UnmodifiableEntrySet$0=r,r.__interfaces=["java.util.Iterator"]}(r=n.UnmodifiableEntrySet||(n.UnmodifiableEntrySet={}))}(g=t.UnmodifiableMap||(t.UnmodifiableMap={}));var y=function(e){function n(t){var n=e.call(this,t)||this;return void 0===n.sortedSet&&(n.sortedSet=null),n.sortedSet=t,n}return __extends(n,e),n.prototype.stream=function(){return new javaemul.internal.stream.StreamHelper(this)},n.prototype.forEach=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=function(t){var n,r=t.next();"function"===typeof(n=e)?n(r):n.accept(r)},n=this.iterator();n.hasNext();)t(n)},n.prototype.parallelStream=function(){return this.stream()},n.prototype.removeIf=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=!1,n=function(n){var r;("function"===typeof(r=e)?r(n.next()):r.test(n.next()))&&(n.remove(),t=!0)},r=this.iterator();r.hasNext();)n(r);return t},n.prototype.comparator=function(){return this.sortedSet.comparator()},n.prototype.equals=function(e){return t=this.sortedSet,n=e,t&&t.equals?t.equals(n):t===n;var t,n},n.prototype.first=function(){return this.sortedSet.first()},n.prototype.hashCode=function(){return(e=this.sortedSet).hashCode?e.hashCode():e.toString().split("").reduce(function(e,t){return(e<<5)-e+t.charCodeAt(0)|0},0);var e},n.prototype.headSet=function(e){return new t.UnmodifiableSortedSet(this.sortedSet.headSet(e))},n.prototype.last=function(){return this.sortedSet.last()},n.prototype.subSet=function(e,n){return new t.UnmodifiableSortedSet(this.sortedSet.subSet(e,n))},n.prototype.tailSet=function(e){return new t.UnmodifiableSortedSet(this.sortedSet.tailSet(e))},n}(t.UnmodifiableSet);t.UnmodifiableSortedSet=y,y.__class="java.util.Collections.UnmodifiableSortedSet",y.__interfaces=["java.util.SortedSet","java.util.Collection","java.util.Set","java.lang.Iterable"];var _=function(n){function r(e){var t=n.call(this,e)||this;return void 0===t.sortedMap&&(t.sortedMap=null),t.sortedMap=e,t}return __extends(r,n),r.prototype.putIfAbsent=function(e,t){var n=this.get(e);return null==n&&(n=this.put(e,t)),n},r.prototype.computeIfAbsent=function(e,t){var n,r;return null==(n=this.get(e))&&null!=(n="function"===typeof(r=t)?r(e):r.apply(e))&&this.put(e,n),n},r.prototype.merge=function(e,t,n){var r,i=this.get(e),o=null==i?t:"function"===typeof(r=n)?r(i,t):r.apply(i,t);return null==o?this.remove(e):this.put(e,o),o},r.prototype.getOrDefault=function(e,t){var n;return null!=(n=this.get(e))||this.containsKey(e)?n:t},r.prototype.replaceAll=function(t){e.util.Objects.requireNonNull(t);for(var n=function(n){var r,i,o,a=n.next();try{r=a.getKey(),i=a.getValue()}catch(s){throw new e.lang.RuntimeException(s)}i="function"===typeof(o=t)?o(r,i):o.apply(r,i);try{a.setValue(i)}catch(s){throw new e.lang.RuntimeException(s)}},r=this.entrySet().iterator();r.hasNext();)n(r)},r.prototype.comparator=function(){return this.sortedMap.comparator()},r.prototype.equals=function(e){return t=this.sortedMap,n=e,t&&t.equals?t.equals(n):t===n;var t,n},r.prototype.firstKey=function(){return this.sortedMap.firstKey()},r.prototype.hashCode=function(){return(e=this.sortedMap).hashCode?e.hashCode():e.toString().split("").reduce(function(e,t){return(e<<5)-e+t.charCodeAt(0)|0},0);var e},r.prototype.headMap=function(e){return new t.UnmodifiableSortedMap(this.sortedMap.headMap(e))},r.prototype.lastKey=function(){return this.sortedMap.lastKey()},r.prototype.subMap=function(e,n){return new t.UnmodifiableSortedMap(this.sortedMap.subMap(e,n))},r.prototype.tailMap=function(e){return new t.UnmodifiableSortedMap(this.sortedMap.tailMap(e))},r}(t.UnmodifiableMap);t.UnmodifiableSortedMap=_,_.__class="java.util.Collections.UnmodifiableSortedMap",_.__interfaces=["java.util.Map","java.util.SortedMap"];var b=function(){function e(e){this.it=e}return e.prototype.hasMoreElements=function(){return this.it.hasNext()},e.prototype.nextElement=function(){return this.it.next()},e}();t.Collections$0=b,b.__interfaces=["java.util.Enumeration"]}(n=t.Collections||(t.Collections={}))}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(t){function n(n,r){var i=this;if("number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r)if((null!=n&&null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("java.util.Collection")>=0||null===n)&&void 0===r){var o=arguments[0];(i=t.call(this,new e.util.LinkedHashMap)||this).addAll(o)}else if("number"!==typeof n&&null!==n||void 0!==r){if(void 0!==n||void 0!==r)throw new Error("invalid overload");i=t.call(this,new e.util.LinkedHashMap)||this}else{i=t.call(this,new e.util.LinkedHashMap(n))||this}else{i=t.call(this,new e.util.LinkedHashMap(n,r))||this}return i}return __extends(n,t),n.prototype.stream=function(){return new javaemul.internal.stream.StreamHelper(this)},n.prototype.forEach=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=function(t){var n,r=t.next();"function"===typeof(n=e)?n(r):n.accept(r)},n=this.iterator();n.hasNext();)t(n)},n.prototype.parallelStream=function(){return this.stream()},n.prototype.removeIf=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=!1,n=function(n){var r;("function"===typeof(r=e)?r(n.next()):r.test(n.next()))&&(n.remove(),t=!0)},r=this.iterator();r.hasNext();)n(r);return t},n.prototype.clone=function(){return new n(this)},n}(e.util.HashSet);t.LinkedHashSet=n,n.__class="java.util.LinkedHashSet",n.__interfaces=["java.lang.Cloneable","java.util.Collection","java.util.Set","java.lang.Iterable","java.io.Serializable"]}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(t){function n(){return t.call(this)||this}return __extends(n,t),n.prototype.clone=function(){var e=new n;return e.addAll$java_util_Collection(this),e},n.prototype.empty=function(){return this.isEmpty()},n.prototype.peek=function(){var t=this.size();if(t>0)return this.get(t-1);throw new e.util.EmptyStackException},n.prototype.pop=function(){var t=this.size();if(t>0)return this.remove$int(t-1);throw new e.util.EmptyStackException},n.prototype.push=function(e){return this.add(e),e},n.prototype.search=function(e){var t=this.lastIndexOf$java_lang_Object(e);return t>=0?this.size()-t:-1},n}(e.util.Vector);t.Stack=n,n.__class="java.util.Stack",n.__interfaces=["java.util.RandomAccess","java.util.List","java.lang.Cloneable","java.util.Collection","java.lang.Iterable","java.io.Serializable"]}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(t){function n(e){var r=this;if(null!=e&&null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("java.util.Collection")>=0||null===e)void 0===(r=t.call(this)||this).exposeElement&&(r.exposeElement=null),void 0===r.header&&(r.header=null),void 0===r.tail&&(r.tail=null),void 0===r.__size&&(r.__size=0),r.header=new n.Node,r.tail=new n.Node,r.reset(),r.addAll(e);else{if(void 0!==e)throw new Error("invalid overload");void 0===(r=t.call(this)||this).exposeElement&&(r.exposeElement=null),void 0===r.header&&(r.header=null),void 0===r.tail&&(r.tail=null),void 0===r.__size&&(r.__size=0),r.header=new n.Node,r.tail=new n.Node,r.reset()}return r}return __extends(n,t),n.prototype.stream=function(){return new javaemul.internal.stream.StreamHelper(this)},n.prototype.forEach=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=function(t){var n,r=t.next();"function"===typeof(n=e)?n(r):n.accept(r)},n=this.iterator();n.hasNext();)t(n)},n.prototype.parallelStream=function(){return this.stream()},n.prototype.sort=function(t){var n=this.toArray();e.util.Arrays.sort(n,t);for(var r=this.listIterator(),i=0;i<n.length;i++){var o=n[i];r.next(),r.set(o)}},n.prototype.removeIf=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=!1,n=function(n){var r;("function"===typeof(r=e)?r(n.next()):r.test(n.next()))&&(n.remove(),t=!0)},r=this.iterator();r.hasNext();)n(r);return t},n.prototype.add=function(e,n){if("number"!==typeof e&&null!==e||null==n&&null!==n){if(null==e&&null!==e||void 0!==n)throw new Error("invalid overload");return this.add$java_lang_Object(e)}t.prototype.add.call(this,e,n)},n.prototype.add$java_lang_Object=function(e){return this.addLast(e),!0},n.prototype.addFirst=function(e){this.addNode(e,this.header,this.header.next)},n.prototype.addLast=function(e){this.addNode(e,this.tail.prev,this.tail)},n.prototype.clear=function(){this.reset()},n.prototype.reset=function(){this.header.next=this.tail,this.tail.prev=this.header,this.header.prev=this.tail.next=null,this.__size=0},n.prototype.clone=function(){return new n(this)},n.prototype.descendingIterator=function(){return new n.DescendingIteratorImpl(this)},n.prototype.element=function(){return this.getFirst()},n.prototype.getFirst=function(){return javaemul.internal.InternalPreconditions.checkElement(0!==this.__size),this.header.next.value},n.prototype.getLast=function(){return javaemul.internal.InternalPreconditions.checkElement(0!==this.__size),this.tail.prev.value},n.prototype.listIterator$int=function(e){var t;if(javaemul.internal.InternalPreconditions.checkPositionIndex(e,this.__size),e>=this.__size>>1){t=this.tail;for(var r=this.__size;r>e;--r)t=t.prev}else{t=this.header.next;for(r=0;r<e;++r)t=t.next}return new n.ListIteratorImpl2(this,e,t)},n.prototype.listIterator=function(e){if("number"===typeof e||null===e)return this.listIterator$int(e);if(void 0===e)return this.listIterator$();throw new Error("invalid overload")},n.prototype.offer=function(e){return this.offerLast(e)},n.prototype.offerFirst=function(e){return this.addFirst(e),!0},n.prototype.offerLast=function(e){return this.addLast(e),!0},n.prototype.peek=function(){return this.peekFirst()},n.prototype.peekFirst=function(){return 0===this.__size?null:this.getFirst()},n.prototype.peekLast=function(){return 0===this.__size?null:this.getLast()},n.prototype.poll=function(){return this.pollFirst()},n.prototype.pollFirst=function(){return 0===this.__size?null:this.removeFirst()},n.prototype.pollLast=function(){return 0===this.__size?null:this.removeLast()},n.prototype.pop=function(){return this.removeFirst()},n.prototype.push=function(e){this.addFirst(e)},n.prototype.remove=function(e){if("number"===typeof e||null===e)return t.prototype.remove.call(this,e);if(null!=e||null===e)return t.prototype.remove.call(this,e);if(void 0===e)return this.remove$();throw new Error("invalid overload")},n.prototype.remove$=function(){return this.removeFirst()},n.prototype.removeFirst=function(){return javaemul.internal.InternalPreconditions.checkElement(0!==this.__size),this.removeNode(this.header.next)},n.prototype.removeFirstOccurrence=function(e){return this.remove(e)},n.prototype.removeLast=function(){return javaemul.internal.InternalPreconditions.checkElement(0!==this.__size),this.removeNode(this.tail.prev)},n.prototype.removeLastOccurrence=function(t){for(var n=this.tail.prev;n!==this.header;n=n.prev)if(e.util.Objects.equals(n.value,t))return this.removeNode(n),!0;return!1},n.prototype.size=function(){return this.__size},n.prototype.addNode=function(e,t,r){var i=new n.Node;i.value=e,i.prev=t,i.next=r,r.prev=t.next=i,++this.__size},n.prototype.removeNode=function(e){var t=e.value;return e.next.prev=e.prev,e.prev.next=e.next,e.next=e.prev=null,e.value=null,--this.__size,t},n}(e.util.AbstractSequentialList);t.LinkedList=n,n.__class="java.util.LinkedList",n.__interfaces=["java.lang.Cloneable","java.util.List","java.util.Collection","java.util.Queue","java.util.Deque","java.lang.Iterable","java.io.Serializable"],function(e){var t=function(){function t(t){this.__parent=t,this.itr=new e.ListIteratorImpl2(this.__parent,this.__parent.__size,this.__parent.tail)}return t.prototype.forEachRemaining=function(e){var t,n=this;for(javaemul.internal.InternalPreconditions.checkNotNull(e);this.hasNext();)"function"===typeof(t=e)?t(n.next()):t.accept(n.next())},t.prototype.hasNext=function(){return this.itr.hasPrevious()},t.prototype.next=function(){return this.itr.previous()},t.prototype.remove=function(){this.itr.remove()},t}();e.DescendingIteratorImpl=t,t.__class="java.util.LinkedList.DescendingIteratorImpl",t.__interfaces=["java.util.Iterator"];var n=function(){function e(e,t,n){this.__parent=e,void 0===this.currentIndex&&(this.currentIndex=0),void 0===this.currentNode&&(this.currentNode=null),this.lastNode=null,this.currentNode=n,this.currentIndex=t}return e.prototype.forEachRemaining=function(e){var t,n=this;for(javaemul.internal.InternalPreconditions.checkNotNull(e);this.hasNext();)"function"===typeof(t=e)?t(n.next()):t.accept(n.next())},e.prototype.add=function(e){this.__parent.addNode(e,this.currentNode.prev,this.currentNode),++this.currentIndex,this.lastNode=null},e.prototype.hasNext=function(){return this.currentNode!==this.__parent.tail},e.prototype.hasPrevious=function(){return this.currentNode.prev!==this.__parent.header},e.prototype.next=function(){return javaemul.internal.InternalPreconditions.checkElement(this.hasNext()),this.lastNode=this.currentNode,this.currentNode=this.currentNode.next,++this.currentIndex,this.lastNode.value},e.prototype.nextIndex=function(){return this.currentIndex},e.prototype.previous=function(){return javaemul.internal.InternalPreconditions.checkElement(this.hasPrevious()),this.lastNode=this.currentNode=this.currentNode.prev,--this.currentIndex,this.lastNode.value},e.prototype.previousIndex=function(){return this.currentIndex-1},e.prototype.remove=function(){javaemul.internal.InternalPreconditions.checkState(null!=this.lastNode);var e=this.lastNode.next;this.__parent.removeNode(this.lastNode),this.currentNode===this.lastNode?this.currentNode=e:--this.currentIndex,this.lastNode=null},e.prototype.set=function(e){javaemul.internal.InternalPreconditions.checkState(null!=this.lastNode),this.lastNode.value=e},e}();e.ListIteratorImpl2=n,n.__class="java.util.LinkedList.ListIteratorImpl2",n.__interfaces=["java.util.Iterator","java.util.ListIterator"];var r=function(){return function(){void 0===this.next&&(this.next=null),void 0===this.prev&&(this.prev=null),void 0===this.value&&(this.value=null)}}();e.Node=r,r.__class="java.util.LinkedList.Node"}(n=t.LinkedList||(t.LinkedList={}))}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(e){function t(t){var n=this;if("string"===typeof t||null===t)n=e.call(this,t)||this;else{if(void 0!==t)throw new Error("invalid overload");n=e.call(this)||this}return n}return __extends(t,e),t}(e.util.NoSuchElementException);t.InputMismatchException=n,n.__class="java.util.InputMismatchException",n.__interfaces=["java.io.Serializable"]}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(e){function t(){var n=e.call(this)||this;return Object.setPrototypeOf(n,t.prototype),n}return __extends(t,e),t}(e.lang.IllegalStateException);t.InvalidMarkException=n,n.__class="java.nio.InvalidMarkException",n.__interfaces=["java.io.Serializable"]}(e.nio||(e.nio={}))}(java||(java={})),function(e){var t;(function(t){var n=function(e){function t(n,r,i){var o=this;if("string"!==typeof n&&null!==n||"string"!==typeof r&&null!==r||"number"!==typeof i&&null!==i){if(!(null!=n&&n instanceof Error||null===n)||"string"!==typeof r&&null!==r||void 0!==i)throw new Error("invalid overload");a=arguments[0],void 0===(o=e.call(this,a)||this).pattern&&(o.pattern=null),o.pattern=r}else{var a=t.createSyntaxError(n,i);void 0===(o=e.call(this,a)||this).pattern&&(o.pattern=null),o.pattern=r,void 0===o.pattern&&(o.pattern=null)}return o}return __extends(t,e),t.createSyntaxError=function(e,t){var n=new SyntaxError(e);return n.columnNumber=t,n},t.prototype.getIndex=function(){return null.columnNumber},t.prototype.getDescription=function(){return this.message},t.prototype.getPattern=function(){return this.pattern},t.prototype.getMessage=function(){return this.getDescription()+" Pattern: "+this.pattern},t}(e.lang.IllegalArgumentException);t.PatternSyntaxException=n,n.__class="java.util.regex.PatternSyntaxException",n.__interfaces=["java.io.Serializable"]})((t=e.util||(e.util={})).regex||(t.regex={}))}(java||(java={})),function(e){!function(t){var n=function(t){function n(e){var n=this;if("string"===typeof e||null===e)n=t.call(this,e)||this;else{if(void 0!==e)throw new Error("invalid overload");n=t.call(this)||this}return n}return __extends(n,t),n.forInputString=function(t){return new e.lang.NumberFormatException('For input string: "'+t+'"')},n.forNullInputString=function(){return new e.lang.NumberFormatException("null")},n.forRadix=function(t){return new e.lang.NumberFormatException("radix "+t+" out of range")},n}(e.lang.IllegalArgumentException);t.NumberFormatException=n,n.__class="java.lang.NumberFormatException",n.__interfaces=["java.io.Serializable"]}(e.lang||(e.lang={}))}(java||(java={})),function(e){var t;(function(t){var n=function(e){function t(n){var r=e.call(this,new String(n).toString())||this;return Object.setPrototypeOf(r,t.prototype),void 0===r.charsetName&&(r.charsetName=null),r.charsetName=n,r}return __extends(t,e),t.prototype.getCharsetName=function(){return this.charsetName},t}(e.lang.IllegalArgumentException);t.IllegalCharsetNameException=n,n.__class="java.nio.charset.IllegalCharsetNameException",n.__interfaces=["java.io.Serializable"]})((t=e.nio||(e.nio={})).charset||(t.charset={}))}(java||(java={})),function(e){var t;(function(t){var n=function(e){function t(n){var r=e.call(this,new String(n).toString())||this;return Object.setPrototypeOf(r,t.prototype),void 0===r.charsetName&&(r.charsetName=null),r.charsetName=n,r}return __extends(t,e),t.prototype.getCharsetName=function(){return this.charsetName},t}(e.lang.IllegalArgumentException);t.UnsupportedCharsetException=n,n.__class="java.nio.charset.UnsupportedCharsetException",n.__interfaces=["java.io.Serializable"]})((t=e.nio||(e.nio={})).charset||(t.charset={}))}(java||(java={})),function(e){!function(t){var n=function(e){function t(){var n=e.call(this)||this;return Object.setPrototypeOf(n,t.prototype),n}return __extends(t,e),t}(e.lang.UnsupportedOperationException);t.ReadOnlyBufferException=n,n.__class="java.nio.ReadOnlyBufferException",n.__interfaces=["java.io.Serializable"]}(e.nio||(e.nio={}))}(java||(java={})),function(e){!function(t){var n=function(e){function t(t){var n=this;if("string"===typeof t||null===t){n=e.call(this,t)||this}else if("number"===typeof t||null===t){var r=arguments[0];n=e.call(this,"String index out of range: "+r)||this}else{if(void 0!==t)throw new Error("invalid overload");n=e.call(this)||this}return n}return __extends(t,e),t}(e.lang.IndexOutOfBoundsException);t.StringIndexOutOfBoundsException=n,n.__class="java.lang.StringIndexOutOfBoundsException",n.__interfaces=["java.io.Serializable"]}(e.lang||(e.lang={}))}(java||(java={})),function(e){!function(t){var n=function(e){function t(t){var n=this;if("string"===typeof t||null===t){n=e.call(this,t)||this}else if("number"===typeof t||null===t){var r=arguments[0];n=e.call(this,"Array index "+r+" out of range")||this}else{if(void 0!==t)throw new Error("invalid overload");n=e.call(this)||this}return n}return __extends(t,e),t}(e.lang.IndexOutOfBoundsException);t.ArrayIndexOutOfBoundsException=n,n.__class="java.lang.ArrayIndexOutOfBoundsException",n.__interfaces=["java.io.Serializable"]}(e.lang||(e.lang={}))}(java||(java={})),function(e){!function(t){var n=function(t){function n(e){var n=this;if(null!=e&&null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("java.util.Map")>=0||null===e){void 0===(n=t.call(this,e)||this).exposeKey&&(n.exposeKey=null),void 0===n.exposeValue&&(n.exposeValue=null)}else if("number"===typeof e||null===e){var r=arguments[0];void 0===(n=t.call(this,r)||this).exposeKey&&(n.exposeKey=null),void 0===n.exposeValue&&(n.exposeValue=null)}else{if(void 0!==e)throw new Error("invalid overload");void 0===(n=t.call(this)||this).exposeKey&&(n.exposeKey=null),void 0===n.exposeValue&&(n.exposeValue=null)}return n}return __extends(n,t),n.prototype.putIfAbsent=function(e,t){var n=this.get(e);return null==n&&(n=this.put(e,t)),n},n.prototype.computeIfAbsent=function(e,t){var n,r;return null==(n=this.get(e))&&null!=(n="function"===typeof(r=t)?r(e):r.apply(e))&&this.put(e,n),n},n.prototype.merge=function(e,t,n){var r,i=this.get(e),o=null==i?t:"function"===typeof(r=n)?r(i,t):r.apply(i,t);return null==o?this.remove(e):this.put(e,o),o},n.prototype.getOrDefault=function(e,t){var n;return null!=(n=this.get(e))||this.containsKey(e)?n:t},n.prototype.replaceAll=function(t){e.util.Objects.requireNonNull(t);for(var n=function(n){var r,i,o,a=n.next();try{r=a.getKey(),i=a.getValue()}catch(s){throw new e.lang.RuntimeException(s)}i="function"===typeof(o=t)?o(r,i):o.apply(r,i);try{a.setValue(i)}catch(s){throw new e.lang.RuntimeException(s)}},r=this.entrySet().iterator();r.hasNext();)n(r)},n.prototype.clone=function(){return new n(this)},n.prototype.equals=function(e){if(e===this)return!0;if(!(null!=e&&null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("java.util.Map")>=0))return!1;var t=e;if(this.size()!==t.size())return!1;for(var n=t.entrySet().iterator();n.hasNext();){var r=n.next(),i=r.getKey(),o=r.getValue();if(!this.containsKey(i))return!1;if(o!==this.get(i))return!1}return!0},n.prototype.hashCode=function(){for(var t=0,n=this.entrySet().iterator();n.hasNext();){var r=n.next();t+=e.lang.System.identityHashCode(r.getKey()),t+=e.lang.System.identityHashCode(r.getValue())}return t},n.prototype._equals=function(e,t){return e===t},n.prototype.getHashCode=function(e){return javaemul.internal.HashCodes.getObjectIdentityHashCode(e)},n}(e.util.AbstractHashMap);t.IdentityHashMap=n,n.__class="java.util.IdentityHashMap",n.__interfaces=["java.lang.Cloneable","java.util.Map","java.io.Serializable"]}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(t){function n(e,n){var r=this;if("number"!==typeof e&&null!==e||"number"!==typeof n&&null!==n)if((null!=e&&null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("java.util.Map")>=0||null===e)&&void 0===n){var i=arguments[0];void 0===(r=t.call(this,i)||this).exposeKey&&(r.exposeKey=null),void 0===r.exposeValue&&(r.exposeValue=null)}else if("number"!==typeof e&&null!==e||void 0!==n){if(void 0!==e||void 0!==n)throw new Error("invalid overload");void 0===(r=t.call(this)||this).exposeKey&&(r.exposeKey=null),void 0===r.exposeValue&&(r.exposeValue=null)}else{void 0===(r=t.call(this,e)||this).exposeKey&&(r.exposeKey=null),void 0===r.exposeValue&&(r.exposeValue=null)}else{void 0===(r=t.call(this,e,n)||this).exposeKey&&(r.exposeKey=null),void 0===r.exposeValue&&(r.exposeValue=null)}return r}return __extends(n,t),n.prototype.clone=function(){return new n(this)},n.prototype._equals=function(t,n){return e.util.Objects.equals(t,n)},n.prototype.getHashCode=function(e){var t,n=(t=e).hashCode?t.hashCode():t.toString().split("").reduce(function(e,t){return(e<<5)-e+t.charCodeAt(0)|0},0);return javaemul.internal.Coercions.ensureInt(n)},n}(e.util.AbstractHashMap);t.HashMap=n,n.__class="java.util.HashMap",n.__interfaces=["java.lang.Cloneable","java.util.Map","java.io.Serializable"]}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(t){function n(n){var r=this;if("function"===typeof n&&2===n.length||null===n){void 0===(r=t.call(this)||this).cmp&&(r.cmp=null),void 0===r.exposeKeyType&&(r.exposeKeyType=null),void 0===r.exposeValueType&&(r.exposeValueType=null),void 0===r.root&&(r.root=null),void 0===r.__size&&(r.__size=0),r.root=null,null==n&&(n=e.util.Comparators.natural()),r.cmp=n}else if(null!=n&&null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("java.util.SortedMap")>=0||null===n){var i=arguments[0],o=javaemul.internal.InternalPreconditions.checkNotNull(i).comparator();void 0===(r=t.call(this)||this).cmp&&(r.cmp=null),void 0===r.exposeKeyType&&(r.exposeKeyType=null),void 0===r.exposeValueType&&(r.exposeValueType=null),void 0===r.root&&(r.root=null),void 0===r.__size&&(r.__size=0),r.root=null,null==o&&(o=e.util.Comparators.natural()),r.cmp=o,void 0===r.cmp&&(r.cmp=null),void 0===r.exposeKeyType&&(r.exposeKeyType=null),void 0===r.exposeValueType&&(r.exposeValueType=null),void 0===r.root&&(r.root=null),void 0===r.__size&&(r.__size=0),r.putAll(i)}else if(null!=n&&null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("java.util.Map")>=0||null===n){var a=arguments[0],s=null;void 0===(r=t.call(this)||this).cmp&&(r.cmp=null),void 0===r.exposeKeyType&&(r.exposeKeyType=null),void 0===r.exposeValueType&&(r.exposeValueType=null),void 0===r.root&&(r.root=null),void 0===r.__size&&(r.__size=0),r.root=null,null==s&&(s=e.util.Comparators.natural()),r.cmp=s,void 0===r.cmp&&(r.cmp=null),void 0===r.exposeKeyType&&(r.exposeKeyType=null),void 0===r.exposeValueType&&(r.exposeValueType=null),void 0===r.root&&(r.root=null),void 0===r.__size&&(r.__size=0),void 0===r.cmp&&(r.cmp=null),void 0===r.exposeKeyType&&(r.exposeKeyType=null),void 0===r.exposeValueType&&(r.exposeValueType=null),void 0===r.root&&(r.root=null),void 0===r.__size&&(r.__size=0),r.putAll(a)}else{if(void 0!==n)throw new Error("invalid overload");var l=null;void 0===(r=t.call(this)||this).cmp&&(r.cmp=null),void 0===r.exposeKeyType&&(r.exposeKeyType=null),void 0===r.exposeValueType&&(r.exposeValueType=null),void 0===r.root&&(r.root=null),void 0===r.__size&&(r.__size=0),r.root=null,null==l&&(l=e.util.Comparators.natural()),r.cmp=l,void 0===r.cmp&&(r.cmp=null),void 0===r.exposeKeyType&&(r.exposeKeyType=null),void 0===r.exposeValueType&&(r.exposeValueType=null),void 0===r.root&&(r.root=null),void 0===r.__size&&(r.__size=0)}return r}return __extends(n,t),n.SubMapType_All_$LI$=function(){return null==n.SubMapType_All&&(n.SubMapType_All=new n.SubMapType),n.SubMapType_All},n.SubMapType_Head_$LI$=function(){return null==n.SubMapType_Head&&(n.SubMapType_Head=new n.SubMapTypeHead),n.SubMapType_Head},n.SubMapType_Range_$LI$=function(){return null==n.SubMapType_Range&&(n.SubMapType_Range=new n.SubMapTypeRange),n.SubMapType_Range},n.SubMapType_Tail_$LI$=function(){return null==n.SubMapType_Tail&&(n.SubMapType_Tail=new n.SubMapTypeTail),n.SubMapType_Tail},n.otherChild=function(e){return 1-e},n.prototype.clear=function(){this.root=null,this.__size=0},n.prototype.comparator=function(){return this.cmp===e.util.Comparators.natural()?null:this.cmp},n.prototype.entrySet=function(){return new n.__java_util_TreeMap_EntrySet(this)},n.prototype.headMap$java_lang_Object$boolean=function(e,t){return new n.SubMap(this,n.SubMapType_Head_$LI$(),null,!1,e,t)},n.prototype.headMap=function(e,t){if(null==e&&null!==e||"boolean"!==typeof t&&null!==t){if(null==e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.headMap$java_lang_Object(e)}return this.headMap$java_lang_Object$boolean(e,t)},n.prototype.put=function(e,t){var r=new n.Node(e,t),i=new n.State;return this.root=this.insert(this.root,r,i),i.found||++this.__size,this.root.isRed=!1,i.value},n.prototype.remove=function(e){var t=e,r=new n.State;return this.removeWithState(t,r),r.value},n.prototype.size=function(){return this.__size},n.prototype.subMap$java_lang_Object$boolean$java_lang_Object$boolean=function(e,t,r,i){return new n.SubMap(this,n.SubMapType_Range_$LI$(),e,t,r,i)},n.prototype.subMap=function(e,t,n,r){if(null==e&&null!==e||"boolean"!==typeof t&&null!==t||null==n&&null!==n||"boolean"!==typeof r&&null!==r){if(null==e&&null!==e||null==t&&null!==t||void 0!==n||void 0!==r)throw new Error("invalid overload");return this.subMap$java_lang_Object$java_lang_Object(e,t)}return this.subMap$java_lang_Object$boolean$java_lang_Object$boolean(e,t,n,r)},n.prototype.tailMap$java_lang_Object$boolean=function(e,t){return new n.SubMap(this,n.SubMapType_Tail_$LI$(),e,t,null,!1)},n.prototype.tailMap=function(e,t){if(null==e&&null!==e||"boolean"!==typeof t&&null!==t){if(null==e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.tailMap$java_lang_Object(e)}return this.tailMap$java_lang_Object$boolean(e,t)},n.prototype.getNodeAfter=function(e,t){for(var r,i=null,o=this.root;null!=o;){var a=(void 0===(r=this.cmp).compare?r:r.compare)(e,o.getKey());if(t&&0===a)return o;a>=0?o=o.child[n.RIGHT]:(i=o,o=o.child[n.LEFT])}return i},n.prototype.getNodeBefore=function(e,t){for(var r,i=null,o=this.root;null!=o;){var a=(void 0===(r=this.cmp).compare?r:r.compare)(e,o.getKey());if(t&&0===a)return o;a<=0?o=o.child[n.LEFT]:(i=o,o=o.child[n.RIGHT])}return i},n.prototype.assertCorrectness$=function(){this.assertCorrectness$java_util_TreeMap_Node$boolean(this.root,!0)},n.prototype.descendingEntryIterator=function(){return new n.DescendingEntryIterator(this)},n.prototype.entryIterator=function(){return new n.EntryIterator(this)},n.prototype.assertCorrectness$java_util_TreeMap_Node$boolean=function(t,r){if(null==t)return 0;if(r&&t.isRed)throw new e.lang.RuntimeException("Two red nodes adjacent");var i,o=t.child[n.LEFT];if(null!=o&&(void 0===(i=this.cmp).compare?i:i.compare)(o.getKey(),t.getKey())>0)throw new e.lang.RuntimeException("Left child "+o+" larger than "+t);var a=t.child[n.RIGHT];if(null!=a&&function(e){return void 0===e.compare?e:e.compare}(this.cmp)(a.getKey(),t.getKey())<0)throw new e.lang.RuntimeException("Right child "+a+" smaller than "+t);var s=this.assertCorrectness$java_util_TreeMap_Node$boolean(o,t.isRed),l=this.assertCorrectness$java_util_TreeMap_Node$boolean(a,t.isRed);if(0!==s&&0!==l&&s!==l)throw new e.lang.RuntimeException("Black heights don't match");return t.isRed?s:s+1},n.prototype.assertCorrectness=function(t,n){if(!(null!=t&&t instanceof e.util.TreeMap.Node||null===t)||"boolean"!==typeof n&&null!==n){if(void 0===t&&void 0===n)return this.assertCorrectness$();throw new Error("invalid overload")}return this.assertCorrectness$java_util_TreeMap_Node$boolean(t,n)},n.prototype.getEntry=function(e){for(var t,r=this.root;null!=r;){var i=(void 0===(t=this.cmp).compare?t:t.compare)(e,r.getKey());if(0===i)return r;var o=i<0?n.LEFT:n.RIGHT;r=r.child[o]}return null},n.prototype.getFirstEntry=function(){if(null==this.root)return null;for(var e,t=this.root;null!=(e=t.child[n.LEFT]);)t=e;return t},n.prototype.getLastEntry=function(){if(null==this.root)return null;for(var e,t=this.root;null!=(e=t.child[n.RIGHT]);)t=e;return t},n.prototype.getCeilingEntry=function(e){return this.getNodeAfter(e,!0)},n.prototype.getFloorEntry=function(e){return this.getNodeBefore(e,!0)},n.prototype.getHigherEntry=function(e){return this.getNodeAfter(e,!1)},n.prototype.getLowerEntry=function(e){return this.getNodeBefore(e,!1)},n.prototype.removeEntry=function(e){var t=new n.State;return t.matchValue=!0,t.value=e.getValue(),this.removeWithState(e.getKey(),t)},n.prototype.inOrderAdd=function(e,t,r,i,o,a,s){if(null!=r){var l=r.child[n.LEFT];null!=l&&this.inOrderAdd(e,t,l,i,o,a,s),this.inRange(t,r.getKey(),i,o,a,s)&&e.add(r);var u=r.child[n.RIGHT];null!=u&&this.inOrderAdd(e,t,u,i,o,a,s)}},n.prototype.inRange=function(e,t,n,r,i,o){return(!e.fromKeyValid()||!this.smaller(t,n,!r))&&(!e.toKeyValid()||!this.larger(t,i,!o))},n.prototype.insert=function(e,t,r){if(null==e)return t;var i=(void 0===(o=this.cmp).compare?o:o.compare)(t.getKey(),e.getKey());if(0===i)return r.value=e.setValue(t.getValue()),r.found=!0,e;var o,a=i<0?n.LEFT:n.RIGHT;return e.child[a]=this.insert(e.child[a],t,r),this.isRed(e.child[a])&&(this.isRed(e.child[n.otherChild(a)])?(e.isRed=!0,e.child[n.LEFT].isRed=!1,e.child[n.RIGHT].isRed=!1):this.isRed(e.child[a].child[a])?e=this.rotateSingle(e,n.otherChild(a)):this.isRed(e.child[a].child[n.otherChild(a)])&&(e=this.rotateDouble(e,n.otherChild(a)))),e},n.prototype.isRed=function(e){return null!=e&&e.isRed},n.prototype.larger=function(e,t,n){var r,i=(void 0===(r=this.cmp).compare?r:r.compare)(e,t);return i>0||n&&0===i},n.prototype.smaller=function(e,t,n){var r,i=(void 0===(r=this.cmp).compare?r:r.compare)(e,t);return i<0||n&&0===i},n.prototype.removeWithState=function(t,r){if(null==this.root)return!1;var i=null,o=null,a=new n.Node(null,null),s=n.RIGHT;a.child[n.RIGHT]=this.root;for(var l,u=a;null!=u.child[s];){var c=s,f=o;o=u,u=u.child[s];var h=(void 0===(l=this.cmp).compare?l:l.compare)(t,u.getKey());if(s=h<0?n.LEFT:n.RIGHT,0!==h||r.matchValue&&!e.util.Objects.equals(u.getValue(),r.value)||(i=u),!this.isRed(u)&&!this.isRed(u.child[s]))if(this.isRed(u.child[n.otherChild(s)]))o=o.child[c]=this.rotateSingle(u,s);else if(!this.isRed(u.child[n.otherChild(s)])){var d=o.child[n.otherChild(c)];if(null!=d)if(this.isRed(d.child[n.otherChild(c)])||this.isRed(d.child[c])){var p=f.child[n.RIGHT]===o?n.RIGHT:n.LEFT;this.isRed(d.child[c])?f.child[p]=this.rotateDouble(o,c):this.isRed(d.child[n.otherChild(c)])&&(f.child[p]=this.rotateSingle(o,c)),u.isRed=f.child[p].isRed=!0,f.child[p].child[n.LEFT].isRed=!1,f.child[p].child[n.RIGHT].isRed=!1}else o.isRed=!1,d.isRed=!0,u.isRed=!0}}if(null!=i){if(r.found=!0,r.value=i.getValue(),u!==i){var m=new n.Node(u.getKey(),u.getValue());this.replaceNode(a,i,m),o===i&&(o=m)}o.child[o.child[n.RIGHT]===u?n.RIGHT:n.LEFT]=u.child[null==u.child[n.LEFT]?n.RIGHT:n.LEFT],this.__size--}return this.root=a.child[n.RIGHT],null!=this.root&&(this.root.isRed=!1),r.found},n.prototype.replaceNode=function(e,t,r){for(var i,o=e,a=null==o.getKey()||(void 0===(i=this.cmp).compare?i:i.compare)(t.getKey(),o.getKey())>0?n.RIGHT:n.LEFT;o.child[a]!==t;)o=o.child[a],a=function(e){return void 0===e.compare?e:e.compare}(this.cmp)(t.getKey(),o.getKey())>0?n.RIGHT:n.LEFT;o.child[a]=r,r.isRed=t.isRed,r.child[n.LEFT]=t.child[n.LEFT],r.child[n.RIGHT]=t.child[n.RIGHT],t.child[n.LEFT]=null,t.child[n.RIGHT]=null},n.prototype.rotateDouble=function(e,t){var r=n.otherChild(t);return e.child[r]=this.rotateSingle(e.child[r],r),this.rotateSingle(e,t)},n.prototype.rotateSingle=function(e,t){var r=n.otherChild(t),i=e.child[r];return e.child[r]=i.child[t],i.child[t]=e,e.isRed=!0,i.isRed=!1,i},n.LEFT=0,n.RIGHT=1,n}(e.util.AbstractNavigableMap);t.TreeMap=n,n.__class="java.util.TreeMap",n.__interfaces=["java.util.Map","java.util.NavigableMap","java.util.SortedMap","java.io.Serializable"],function(n){var r=function(){function t(t,n,r,i,o,a){if(!(null!=n&&n instanceof e.util.TreeMap.SubMapType||null===n)||null==r&&null!==r||"boolean"!==typeof i&&null!==i||null==o&&null!==o||"boolean"!==typeof a&&null!==a){if(void 0!==n||void 0!==r||void 0!==i||void 0!==o||void 0!==a)throw new Error("invalid overload");Array.prototype.slice.call(arguments,[1]),Array.prototype.slice.call(arguments,[1]);var s=e.util.TreeMap.SubMapType_All_$LI$();void 0===this.iter&&(this.iter=null),void 0===this.last&&(this.last=null);l=new e.util.ArrayList;t.inOrderAdd(l,s,t.root,null,!1,null,!1),this.iter=l.listIterator$int(l.size()),void 0===this.iter&&(this.iter=null),void 0===this.last&&(this.last=null)}else{Array.prototype.slice.call(arguments,[1]),void 0===this.iter&&(this.iter=null),void 0===this.last&&(this.last=null);var l=new e.util.ArrayList;t.inOrderAdd(l,n,t.root,r,i,o,a),this.iter=l.listIterator$int(l.size())}}return t.prototype.forEachRemaining=function(e){var t,n=this;for(javaemul.internal.InternalPreconditions.checkNotNull(e);this.hasNext();)"function"===typeof(t=e)?t(n.next()):t.accept(n.next())},t.prototype.hasNext=function(){return this.iter.hasPrevious()},t.prototype.next=function(){return this.last=this.iter.previous()},t.prototype.remove=function(){this.iter.remove(),this.__parent.removeEntry(this.last),this.last=null},t}();n.DescendingEntryIterator=r,r.__class="java.util.TreeMap.DescendingEntryIterator",r.__interfaces=["java.util.Iterator"];var i=function(){function t(t,n,r,i,o,a){if(!(null!=n&&n instanceof e.util.TreeMap.SubMapType||null===n)||null==r&&null!==r||"boolean"!==typeof i&&null!==i||null==o&&null!==o||"boolean"!==typeof a&&null!==a){if(void 0!==n||void 0!==r||void 0!==i||void 0!==o||void 0!==a)throw new Error("invalid overload");Array.prototype.slice.call(arguments,[1]),Array.prototype.slice.call(arguments,[1]);var s=e.util.TreeMap.SubMapType_All_$LI$();void 0===this.iter&&(this.iter=null),void 0===this.last&&(this.last=null);l=new e.util.ArrayList;t.inOrderAdd(l,s,t.root,null,!1,null,!1),this.iter=l.listIterator$(),void 0===this.iter&&(this.iter=null),void 0===this.last&&(this.last=null)}else{Array.prototype.slice.call(arguments,[1]),void 0===this.iter&&(this.iter=null),void 0===this.last&&(this.last=null);var l=new e.util.ArrayList;t.inOrderAdd(l,n,t.root,r,i,o,a),this.iter=l.listIterator$()}}return t.prototype.forEachRemaining=function(e){var t,n=this;for(javaemul.internal.InternalPreconditions.checkNotNull(e);this.hasNext();)"function"===typeof(t=e)?t(n.next()):t.accept(n.next())},t.prototype.hasNext=function(){return this.iter.hasNext()},t.prototype.next=function(){return this.last=this.iter.next()},t.prototype.remove=function(){this.iter.remove(),this.__parent.removeEntry(this.last),this.last=null},t}();n.EntryIterator=i,i.__class="java.util.TreeMap.EntryIterator",i.__interfaces=["java.util.Iterator"];var o=function(e){function t(t){var n=e.call(this,t)||this;return n.__parent=t,n}return __extends(t,e),t.prototype.clear=function(){this.clear()},t}(e.util.AbstractNavigableMap.EntrySet);n.__java_util_TreeMap_EntrySet=o,o.__class="java.util.TreeMap.EntrySet",o.__interfaces=["java.util.Collection","java.util.Set","java.lang.Iterable"];var a=function(e){function t(t,n,r){var i=this;if(null==t&&null!==t||null==n&&null!==n||"boolean"!==typeof r&&null!==r){if(null==t&&null!==t||null==n&&null!==n||void 0!==r)throw new Error("invalid overload");void 0===(i=e.call(this,t,n)||this).isRed&&(i.isRed=!1),i.child=[null,null],i.isRed=!0,void 0===i.isRed&&(i.isRed=!1),i.child=[null,null]}else void 0===(i=e.call(this,t,n)||this).isRed&&(i.isRed=!1),i.child=[null,null],i.isRed=r;return i}return __extends(t,e),t}(t.AbstractMap.SimpleEntry);n.Node=a,a.__class="java.util.TreeMap.Node",a.__interfaces=["java.util.Map.Entry"];var s=function(){function e(){void 0===this.done&&(this.done=!1),void 0===this.found&&(this.found=!1),void 0===this.matchValue&&(this.matchValue=!1),void 0===this.value&&(this.value=null)}return e.prototype.toString=function(){return"State: mv="+this.matchValue+" value="+this.value+" done="+this.done+" found="+this.found},e}();n.State=s,s.__class="java.util.TreeMap.State";var l=function(t){function r(n,r,i,o,a,s){var l,u=t.call(this)||this;if(u.__parent=n,void 0===u.fromInclusive&&(u.fromInclusive=!1),void 0===u.fromKey&&(u.fromKey=null),void 0===u.toInclusive&&(u.toInclusive=!1),void 0===u.toKey&&(u.toKey=null),void 0===u.type&&(u.type=null),r===e.util.TreeMap.SubMapType_Range_$LI$()&&(void 0===(l=n.cmp).compare?l:l.compare)(a,i)<0)throw new e.lang.IllegalArgumentException("subMap: "+a+" less than "+i);return r===e.util.TreeMap.SubMapType_Head_$LI$()&&function(e){return void 0===e.compare?e:e.compare}(n.cmp)(a,a),r===e.util.TreeMap.SubMapType_Tail_$LI$()&&function(e){return void 0===e.compare?e:e.compare}(n.cmp)(i,i),e.util.TreeMap.SubMapType_All_$LI$(),u.type=r,u.fromKey=i,u.fromInclusive=o,u.toKey=a,u.toInclusive=s,u}return __extends(r,t),r.prototype.comparator=function(){return this.comparator()},r.prototype.entrySet=function(){return new r.SubMap$0(this)},r.prototype.headMap$java_lang_Object$boolean=function(t,n){if(this.type.toKeyValid()&&(void 0===(r=this.__parent.cmp).compare?r:r.compare)(t,this.toKey)>0)throw new e.lang.IllegalArgumentException("subMap: "+t+" greater than "+this.toKey);var r;return this.type.fromKeyValid()?this.subMap(this.fromKey,this.fromInclusive,t,n):this.headMap(t,n)},r.prototype.headMap=function(e,t){if(null==e&&null!==e||"boolean"!==typeof t&&null!==t){if(null==e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.headMap$java_lang_Object(e)}return this.headMap$java_lang_Object$boolean(e,t)},r.prototype.isEmpty=function(){return null==this.getFirstEntry()},r.prototype.put=function(t,n){if(!this.inRange(t))throw new e.lang.IllegalArgumentException(t+" outside the range "+this.fromKey+" to "+this.toKey);return this.put(t,n)},r.prototype.remove=function(e){var t=e;return this.inRange(t)?this.remove(t):null},r.prototype.size=function(){for(var e=0,t=this.entryIterator();t.hasNext();t.next())e++;return e},r.prototype.subMap$java_lang_Object$boolean$java_lang_Object$boolean=function(t,n,r,i){if(this.type.fromKeyValid()&&(void 0===(o=this.__parent.cmp).compare?o:o.compare)(t,this.fromKey)<0)throw new e.lang.IllegalArgumentException("subMap: "+t+" less than "+this.fromKey);var o;if(this.type.toKeyValid()&&function(e){return void 0===e.compare?e:e.compare}(this.__parent.cmp)(r,this.toKey)>0)throw new e.lang.IllegalArgumentException("subMap: "+r+" greater than "+this.toKey);return this.subMap(t,n,r,i)},r.prototype.subMap=function(e,t,n,r){if(null==e&&null!==e||"boolean"!==typeof t&&null!==t||null==n&&null!==n||"boolean"!==typeof r&&null!==r){if(null==e&&null!==e||null==t&&null!==t||void 0!==n||void 0!==r)throw new Error("invalid overload");return this.subMap$java_lang_Object$java_lang_Object(e,t)}return this.subMap$java_lang_Object$boolean$java_lang_Object$boolean(e,t,n,r)},r.prototype.tailMap$java_lang_Object$boolean=function(t,n){if(this.type.fromKeyValid()&&(void 0===(r=this.__parent.cmp).compare?r:r.compare)(t,this.fromKey)<0)throw new e.lang.IllegalArgumentException("subMap: "+t+" less than "+this.fromKey);var r;return this.type.toKeyValid()?this.subMap(t,n,this.toKey,this.toInclusive):this.tailMap(t,n)},r.prototype.tailMap=function(e,t){if(null==e&&null!==e||"boolean"!==typeof t&&null!==t){if(null==e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.tailMap$java_lang_Object(e)}return this.tailMap$java_lang_Object$boolean(e,t)},r.prototype.descendingEntryIterator=function(){return new n.DescendingEntryIterator(this.__parent,this.type,this.fromKey,this.fromInclusive,this.toKey,this.toInclusive)},r.prototype.entryIterator=function(){return new n.EntryIterator(this.__parent,this.type,this.fromKey,this.fromInclusive,this.toKey,this.toInclusive)},r.prototype.getEntry=function(e){return this.guardInRange(this.getEntry(e))},r.prototype.getFirstEntry=function(){var e;return e=this.type.fromKeyValid()?this.fromInclusive?this.getCeilingEntry(this.fromKey):this.getHigherEntry(this.fromKey):this.getFirstEntry(),this.guardInRange(e)},r.prototype.getLastEntry=function(){var e;return e=this.type.toKeyValid()?this.toInclusive?this.getFloorEntry(this.toKey):this.getLowerEntry(this.toKey):this.getLastEntry(),this.guardInRange(e)},r.prototype.getCeilingEntry=function(e){return this.guardInRange(this.getCeilingEntry(e))},r.prototype.getFloorEntry=function(e){return this.guardInRange(this.getFloorEntry(e))},r.prototype.getHigherEntry=function(e){return this.guardInRange(this.getHigherEntry(e))},r.prototype.getLowerEntry=function(e){return this.guardInRange(this.getLowerEntry(e))},r.prototype.removeEntry=function(e){return this.inRange(e.getKey())&&this.removeEntry(e)},r.prototype.guardInRange=function(e){return null!=e&&this.inRange(e.getKey())?e:null},r.prototype.inRange=function(e){return this.__parent.inRange(this.type,e,this.fromKey,this.fromInclusive,this.toKey,this.toInclusive)},r}(e.util.AbstractNavigableMap);n.SubMap=l,l.__class="java.util.TreeMap.SubMap",l.__interfaces=["java.util.Map","java.util.NavigableMap","java.util.SortedMap"],function(e){var t=function(e){function t(t){var n=e.call(this,t)||this;return n.__parent=t,n}return __extends(t,e),t.prototype.isEmpty=function(){return this.isEmpty()},t}(n.SubMap.EntrySet);e.SubMap$0=t,t.__interfaces=["java.util.Collection","java.util.Set","java.lang.Iterable"]}(l=n.SubMap||(n.SubMap={}));var u=function(){function e(){}return e.prototype.fromKeyValid=function(){return!1},e.prototype.toKeyValid=function(){return!1},e}();n.SubMapType=u,u.__class="java.util.TreeMap.SubMapType";var c=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.toKeyValid=function(){return!0},t}(n.SubMapType);n.SubMapTypeHead=c,c.__class="java.util.TreeMap.SubMapTypeHead";var f=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.fromKeyValid=function(){return!0},t.prototype.toKeyValid=function(){return!0},t}(n.SubMapType);n.SubMapTypeRange=f,f.__class="java.util.TreeMap.SubMapTypeRange";var h=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.fromKeyValid=function(){return!0},t}(n.SubMapType);n.SubMapTypeTail=h,h.__class="java.util.TreeMap.SubMapTypeTail"}(n=t.TreeMap||(t.TreeMap={}))}(e.util||(e.util={}))}(java||(java={})),function(e){var t;(function(t){var n=function(){function t(){}return t.throwingMerger=function(){return function(t,n){throw new e.lang.IllegalStateException(javaemul.internal.StringHelper.format("Duplicate key %s",t))}},t.CH_ID_$LI$=function(){return null==t.CH_ID&&(t.CH_ID=e.util.Collections.unmodifiableSet(e.util.Collections.singleton(e.util.stream.Collector.Characteristics.IDENTITY_FINISH))),t.CH_ID},t.CH_NOID_$LI$=function(){return null==t.CH_NOID&&(t.CH_NOID=e.util.Collections.emptySet()),t.CH_NOID},t.toList=function(){return new t.CollectorImpl(function(){return new e.util.ArrayList},function(e,t){return e.add(t)},function(e,t){return e.addAll$java_util_Collection(t),e})},t.toSet=function(){return new t.CollectorImpl(function(){return new e.util.HashSet},function(e,t){return e.add(t)},function(e,t){return e.addAll(t),e})},t.toMap$java_util_function_Function$java_util_function_Function=function(n,r){return t.toMap$java_util_function_Function$java_util_function_Function$java_util_function_BinaryOperator$java_util_function_Supplier(n,r,t.throwingMerger(),function(){return new e.util.HashMap})},t.toMap$java_util_function_Function$java_util_function_Function$java_util_function_BinaryOperator=function(n,r,i){return t.toMap$java_util_function_Function$java_util_function_Function$java_util_function_BinaryOperator$java_util_function_Supplier(n,r,i,function(){return new e.util.HashMap})},t.toMap$java_util_function_Function$java_util_function_Function$java_util_function_BinaryOperator$java_util_function_Supplier=function(e,n,r,i){return new t.CollectorImpl(i,function(t,i){return t.merge("function"===typeof(o=e)?o(i):o.apply(i),function(e){return"function"===typeof e?e(i):e.apply(i)}(n),r);var o},t.mapMerger(r))},t.toMap=function(t,n,r,i){if(("function"===typeof t&&1===t.length||null===t)&&("function"===typeof n&&1===n.length||null===n)&&("function"===typeof r&&2===r.length||null===r)&&("function"===typeof i&&0===i.length||null===i))return e.util.stream.Collectors.toMap$java_util_function_Function$java_util_function_Function$java_util_function_BinaryOperator$java_util_function_Supplier(t,n,r,i);if(("function"===typeof t&&1===t.length||null===t)&&("function"===typeof n&&1===n.length||null===n)&&("function"===typeof r&&2===r.length||null===r)&&void 0===i)return e.util.stream.Collectors.toMap$java_util_function_Function$java_util_function_Function$java_util_function_BinaryOperator(t,n,r);if(("function"===typeof t&&1===t.length||null===t)&&("function"===typeof n&&1===n.length||null===n)&&void 0===r&&void 0===i)return e.util.stream.Collectors.toMap$java_util_function_Function$java_util_function_Function(t,n);throw new Error("invalid overload")},t.mapMerger=function(e){return function(t,n){for(var r=n.entrySet().iterator();r.hasNext();){var i=r.next();t.merge(i.getKey(),i.getValue(),e)}return t}},t.joining$=function(){return new t.CollectorImpl(function(){return new e.lang.StringBuilder},function(e,t){return e.append(t)},function(e,t){return e.append$java_lang_CharSequence(t),e})},t.joining$java_lang_CharSequence=function(e){return t.joining$java_lang_CharSequence$java_lang_CharSequence$java_lang_CharSequence(e,"","")},t.joining$java_lang_CharSequence$java_lang_CharSequence$java_lang_CharSequence=function(n,r,i){return new t.CollectorImpl(function(){return new e.util.StringJoiner(n,r,i)},function(e,t){return e.add(t)},function(e,t){return e.merge(t)})},t.joining=function(t,n,r){if((null!=t&&(null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.lang.CharSequence")>=0||"string"===typeof t)||null===t)&&(null!=n&&(null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("java.lang.CharSequence")>=0||"string"===typeof n)||null===n)&&(null!=r&&(null!=r.constructor&&null!=r.constructor.__interfaces&&r.constructor.__interfaces.indexOf("java.lang.CharSequence")>=0||"string"===typeof r)||null===r))return e.util.stream.Collectors.joining$java_lang_CharSequence$java_lang_CharSequence$java_lang_CharSequence(t,n,r);if((null!=t&&(null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.lang.CharSequence")>=0||"string"===typeof t)||null===t)&&void 0===n&&void 0===r)return e.util.stream.Collectors.joining$java_lang_CharSequence(t);if(void 0===t&&void 0===n&&void 0===r)return e.util.stream.Collectors.joining$();throw new Error("invalid overload")},t.groupingBy$java_util_function_Function$java_util_stream_Collector=function(n,r){return t.groupingBy$java_util_function_Function$java_util_function_Supplier$java_util_stream_Collector(n,function(){return new e.util.HashMap},r)},t.groupingBy$java_util_function_Function$java_util_function_Supplier$java_util_stream_Collector=function(n,r,i){var o=i.supplier(),a=function(t){return function(r,i){var a,s=e.util.Objects.requireNonNull("function"===typeof(a=n)?a(i):a.apply(i),"element cannot be mapped to a null key"),l=r.computeIfAbsent(s,function(e){return"function"===typeof(t=o)?t():t.get();var t});!function(e){"function"===typeof e?e(l,i):e.accept(l,i)}(t)}}(i.accumulator()),s=t.mapMerger(i.combiner()),l=r;if(i.characteristics().contains(e.util.stream.Collector.Characteristics.IDENTITY_FINISH))return new t.CollectorImpl(l,a,s,t.CH_ID_$LI$());var u=i.finisher();return new t.CollectorImpl(l,a,s,function(e){return e.replaceAll(function(e,t){return"function"===typeof(n=u)?n(t):n.apply(t);var n}),e},t.CH_NOID_$LI$())},t.groupingBy=function(t,n,r){if(("function"===typeof t&&1===t.length||null===t)&&("function"===typeof n&&0===n.length||null===n)&&(null!=r&&null!=r.constructor&&null!=r.constructor.__interfaces&&r.constructor.__interfaces.indexOf("java.util.stream.Collector")>=0||null===r))return e.util.stream.Collectors.groupingBy$java_util_function_Function$java_util_function_Supplier$java_util_stream_Collector(t,n,r);if(("function"===typeof t&&1===t.length||null===t)&&(null!=n&&null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("java.util.stream.Collector")>=0||null===n)&&void 0===r)return e.util.stream.Collectors.groupingBy$java_util_function_Function$java_util_stream_Collector(t,n);throw new Error("invalid overload")},t.mapping=function(e,n){var r=n.accumulator();return new t.CollectorImpl(n.supplier(),function(t){return function(n,r){return"function"===typeof(i=t)?i(n,function(e){return"function"===typeof e?e(r):e.apply(r)}(e)):i.accept(n,function(e){return"function"===typeof e?e(r):e.apply(r)}(e));var i}}(r),n.combiner(),n.finisher(),n.characteristics())},t.reducing$java_lang_Object$java_util_function_BinaryOperator=function(e,n){return new t.CollectorImpl(t.boxSupplier(e),function(e,t){var r;e[0]="function"===typeof(r=n)?r(e[0],t):r.apply(e[0],t)},function(e,t){var r;return e[0]="function"===typeof(r=n)?r(e[0],t[0]):r.apply(e[0],t[0]),e},function(e){return e[0]},t.CH_NOID_$LI$())},t.reducing$java_lang_Object$java_util_function_Function$java_util_function_BinaryOperator=function(e,n,r){return new t.CollectorImpl(t.boxSupplier(e),function(e,t){var i;e[0]="function"===typeof(i=r)?i(e[0],function(e){return"function"===typeof e?e(t):e.apply(t)}(n)):i.apply(e[0],function(e){return"function"===typeof e?e(t):e.apply(t)}(n))},function(e,t){var n;return e[0]="function"===typeof(n=r)?n(e[0],t[0]):n.apply(e[0],t[0]),e},function(e){return e[0]},t.CH_NOID_$LI$())},t.reducing=function(t,n,r){if(null==t&&null!==t||("function"!==typeof n||1!==n.length)&&null!==n||("function"!==typeof r||2!==r.length)&&null!==r){if(null==t&&null!==t||("function"!==typeof n||2!==n.length)&&null!==n||void 0!==r)throw new Error("invalid overload");return e.util.stream.Collectors.reducing$java_lang_Object$java_util_function_BinaryOperator(t,n)}return e.util.stream.Collectors.reducing$java_lang_Object$java_util_function_Function$java_util_function_BinaryOperator(t,n,r)},t.boxSupplier=function(e){return function(){return[e]}},t}();t.Collectors=n,n.__class="java.util.stream.Collectors",function(e){var t=function(){function e(t,n,r,i,o){if(("function"===typeof t&&0===t.length||null===t)&&("function"===typeof n&&2===n.length||null===n)&&("function"===typeof r&&2===r.length||null===r)&&("function"===typeof i&&1===i.length||null===i)&&(null!=o&&null!=o.constructor&&null!=o.constructor.__interfaces&&o.constructor.__interfaces.indexOf("java.util.Set")>=0||null===o))void 0===this.__supplier&&(this.__supplier=null),void 0===this.__accumulator&&(this.__accumulator=null),void 0===this.__combiner&&(this.__combiner=null),void 0===this.__characteristics&&(this.__characteristics=null),void 0===this.__finisher&&(this.__finisher=null),this.__supplier=t,this.__accumulator=n,this.__combiner=r,this.__finisher=i,this.__characteristics=o;else if(("function"===typeof t&&0===t.length||null===t)&&("function"===typeof n&&2===n.length||null===n)&&("function"===typeof r&&2===r.length||null===r)&&(null!=i&&null!=i.constructor&&null!=i.constructor.__interfaces&&i.constructor.__interfaces.indexOf("java.util.Set")>=0||null===i)&&void 0===o){var a=arguments[3],s=e.castingIdentity();void 0===this.__supplier&&(this.__supplier=null),void 0===this.__accumulator&&(this.__accumulator=null),void 0===this.__combiner&&(this.__combiner=null),void 0===this.__characteristics&&(this.__characteristics=null),void 0===this.__finisher&&(this.__finisher=null),this.__supplier=t,this.__accumulator=n,this.__combiner=r,this.__finisher=s,this.__characteristics=a,void 0===this.__supplier&&(this.__supplier=null),void 0===this.__accumulator&&(this.__accumulator=null),void 0===this.__combiner&&(this.__combiner=null),void 0===this.__characteristics&&(this.__characteristics=null),void 0===this.__finisher&&(this.__finisher=null)}else{if(("function"!==typeof t||0!==t.length)&&null!==t||("function"!==typeof n||2!==n.length)&&null!==n||("function"!==typeof r||2!==r.length)&&null!==r||void 0!==i||void 0!==o)throw new Error("invalid overload");var l=e.castingIdentity();void 0===this.__supplier&&(this.__supplier=null),void 0===this.__accumulator&&(this.__accumulator=null),void 0===this.__combiner&&(this.__combiner=null),void 0===this.__characteristics&&(this.__characteristics=null),void 0===this.__finisher&&(this.__finisher=null),this.__supplier=t,this.__accumulator=n,this.__combiner=r,this.__finisher=l,this.__characteristics=null,void 0===this.__supplier&&(this.__supplier=null),void 0===this.__accumulator&&(this.__accumulator=null),void 0===this.__combiner&&(this.__combiner=null),void 0===this.__characteristics&&(this.__characteristics=null),void 0===this.__finisher&&(this.__finisher=null)}}return e.castingIdentity=function(){return function(e){return e}},e.prototype.accumulator=function(){return this.__accumulator},e.prototype.supplier=function(){return this.__supplier},e.prototype.combiner=function(){return this.__combiner},e.prototype.finisher=function(){return this.__finisher},e.prototype.characteristics=function(){return this.__characteristics},e}();e.CollectorImpl=t,t.__class="java.util.stream.Collectors.CollectorImpl",t.__interfaces=["java.util.stream.Collector"]}(n=t.Collectors||(t.Collectors={}))})((t=e.util||(e.util={})).stream||(t.stream={}))}(java||(java={})),function(e){!function(t){var n=function(t){function n(r,i,o){var a=this;if("number"!==typeof r&&null!==r||"number"!==typeof i&&null!==i||"boolean"!==typeof o&&null!==o)if("number"!==typeof r&&null!==r||"number"!==typeof i&&null!==i||void 0!==o)if((null!=r&&null!=r.constructor&&null!=r.constructor.__interfaces&&r.constructor.__interfaces.indexOf("java.util.Map")>=0||null===r)&&void 0===i&&void 0===o){var s=arguments[0];void 0===(a=t.call(this)||this).accessOrder&&(a.accessOrder=!1),void 0===a.head&&(a.head=null),void 0===a.map&&(a.map=null),a.head=new n.ChainEntry(a),a.map=new e.util.HashMap,a.resetChainEntries(),a.putAll(s)}else if("number"!==typeof r&&null!==r||void 0!==i||void 0!==o){if(void 0!==r||void 0!==i||void 0!==o)throw new Error("invalid overload");void 0===(a=t.call(this)||this).accessOrder&&(a.accessOrder=!1),void 0===a.head&&(a.head=null),void 0===a.map&&(a.map=null),a.head=new n.ChainEntry(a),a.map=new e.util.HashMap,a.resetChainEntries()}else{void 0===(a=t.call(this,r,0)||this).accessOrder&&(a.accessOrder=!1),void 0===a.head&&(a.head=null),void 0===a.map&&(a.map=null),a.head=new n.ChainEntry(a),a.map=new e.util.HashMap,a.resetChainEntries(),void 0===a.accessOrder&&(a.accessOrder=!1),void 0===a.head&&(a.head=null),void 0===a.map&&(a.map=null)}else{void 0===(a=t.call(this,r,i)||this).accessOrder&&(a.accessOrder=!1),void 0===a.head&&(a.head=null),void 0===a.map&&(a.map=null),a.head=new n.ChainEntry(a),a.map=new e.util.HashMap,a.resetChainEntries()}else{void 0===(a=t.call(this,r,i)||this).accessOrder&&(a.accessOrder=!1),void 0===a.head&&(a.head=null),void 0===a.map&&(a.map=null),a.head=new n.ChainEntry(a),a.map=new e.util.HashMap,a.accessOrder=o,a.resetChainEntries()}return a}return __extends(n,t),n.prototype.putIfAbsent=function(e,t){var n=this.get(e);return null==n&&(n=this.put(e,t)),n},n.prototype.computeIfAbsent=function(e,t){var n,r;return null==(n=this.get(e))&&null!=(n="function"===typeof(r=t)?r(e):r.apply(e))&&this.put(e,n),n},n.prototype.merge=function(e,t,n){var r,i=this.get(e),o=null==i?t:"function"===typeof(r=n)?r(i,t):r.apply(i,t);return null==o?this.remove(e):this.put(e,o),o},n.prototype.getOrDefault=function(e,t){var n;return null!=(n=this.get(e))||this.containsKey(e)?n:t},n.prototype.replaceAll=function(t){e.util.Objects.requireNonNull(t);for(var n=function(n){var r,i,o,a=n.next();try{r=a.getKey(),i=a.getValue()}catch(s){throw new e.lang.RuntimeException(s)}i="function"===typeof(o=t)?o(r,i):o.apply(r,i);try{a.setValue(i)}catch(s){throw new e.lang.RuntimeException(s)}},r=this.entrySet().iterator();r.hasNext();)n(r)},n.prototype.clear=function(){this.map.clear(),this.resetChainEntries()},n.prototype.resetChainEntries=function(){this.head.prev=this.head,this.head.next=this.head},n.prototype.clone=function(){return new n(this)},n.prototype.containsKey=function(e){return this.map.containsKey(e)},n.prototype.containsValue=function(t){for(var n=this.head.next;n!==this.head;){if(e.util.Objects.equals(n.getValue(),t))return!0;n=n.next}return!1},n.prototype.entrySet=function(){return new n.__java_util_LinkedHashMap_EntrySet(this)},n.prototype.get=function(e){var t=this.map.get(e);return null!=t?(this.recordAccess(t),t.getValue()):null},n.prototype.put=function(e,t){var r=this.map.get(e);if(null==r){var i=new n.ChainEntry(this,e,t);this.map.put(e,i),i.addToEnd();var o=this.head.next;return this.removeEldestEntry(o)&&(o.remove(),this.map.remove(o.getKey())),null}var a=r.setValue(t);return this.recordAccess(r),a},n.prototype.remove=function(e){var t=this.map.remove(e);return null!=t?(t.remove(),t.getValue()):null},n.prototype.size=function(){return this.map.size()},n.prototype.removeEldestEntry=function(e){return!1},n.prototype.recordAccess=function(e){this.accessOrder&&(e.remove(),e.addToEnd())},n}(e.util.HashMap);t.LinkedHashMap=n,n.__class="java.util.LinkedHashMap",n.__interfaces=["java.lang.Cloneable","java.util.Map","java.io.Serializable"],function(n){var r=function(e){function t(t,n,r){void 0===n&&(n=null),void 0===r&&(r=null);var i=e.call(this,n,r)||this;return i.__parent=t,void 0===i.next&&(i.next=null),void 0===i.prev&&(i.prev=null),i}return __extends(t,e),t.prototype.addToEnd=function(){var e=this.__parent.head.prev;this.prev=e,this.next=this.__parent.head,e.next=this.__parent.head.prev=this},t.prototype.remove=function(){this.next.prev=this.prev,this.prev.next=this.next,this.next=this.prev=null},t}(t.AbstractMap.SimpleEntry);n.ChainEntry=r,r.__class="java.util.LinkedHashMap.ChainEntry",r.__interfaces=["java.util.Map.Entry"];var i=function(e){function t(t){var n=e.call(this)||this;return n.__parent=t,n}return __extends(t,e),t.prototype.clear=function(){this.clear()},t.prototype.contains=function(e){return null!=e&&null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("java.util.Map.Entry")>=0&&this.__parent.containsEntry(e)},t.prototype.iterator=function(){return new t.EntryIterator(this)},t.prototype.remove=function(e){if(this.contains(e)){var t=e.getKey();return this.remove(t),!0}return!1},t.prototype.size=function(){return this.size()},t}(e.util.AbstractSet);n.__java_util_LinkedHashMap_EntrySet=i,i.__class="java.util.LinkedHashMap.EntrySet",i.__interfaces=["java.util.Collection","java.util.Set","java.lang.Iterable"],function(t){var n=function(){function t(t){this.__parent=t,void 0===this.last&&(this.last=null),void 0===this.__next&&(this.__next=null),this.__next=t.__parent.head.next,e.util.ConcurrentModificationDetector.recordLastKnownStructure(t.__parent.map,this)}return t.prototype.forEachRemaining=function(e){var t,n=this;for(javaemul.internal.InternalPreconditions.checkNotNull(e);this.hasNext();)"function"===typeof(t=e)?t(n.next()):t.accept(n.next())},t.prototype.hasNext=function(){return this.__next!==this.__parent.__parent.head},t.prototype.next=function(){return e.util.ConcurrentModificationDetector.checkStructuralChange(this.__parent.__parent.map,this),javaemul.internal.InternalPreconditions.checkCriticalElement(this.hasNext()),this.last=this.__next,this.__next=this.__next.next,this.last},t.prototype.remove=function(){javaemul.internal.InternalPreconditions.checkState(null!=this.last),e.util.ConcurrentModificationDetector.checkStructuralChange(this.__parent.__parent.map,this),this.last.remove(),this.__parent.__parent.map.remove(this.last.getKey()),e.util.ConcurrentModificationDetector.recordLastKnownStructure(this.__parent.__parent.map,this),this.last=null},t}();t.EntryIterator=n,n.__class="java.util.LinkedHashMap.EntrySet.EntryIterator",n.__interfaces=["java.util.Iterator"]}(i=n.__java_util_LinkedHashMap_EntrySet||(n.__java_util_LinkedHashMap_EntrySet={}))}(n=t.LinkedHashMap||(t.LinkedHashMap={}))}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(e){function t(){return e.call(this)||this}return __extends(t,e),t}(e.util.HashMap);t.ConcurrentHashMap=n,n.__class="java.util.ConcurrentHashMap",n.__interfaces=["java.lang.Cloneable","java.util.Map","java.io.Serializable"]}(e.util||(e.util={}))}(java||(java={})),function(e){!function(t){var n=function(e){function t(t,n){var r=this;if("number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n)if((null!=t&&null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.util.Map")>=0||null===t)&&void 0===n){var i=arguments[0];r=e.call(this,i)||this}else if("number"!==typeof t&&null!==t||void 0!==n){if(void 0!==t||void 0!==n)throw new Error("invalid overload");r=e.call(this)||this}else{r=e.call(this,t)||this}else{r=e.call(this,t,n)||this}return r}return __extends(t,e),t.prototype.keys=function(){var e=this.keySet().iterator();return new t.Hashtable$0(this,e)},t.prototype.elements=function(){var e=this.values().iterator();return new t.Hashtable$1(this,e)},t.serialVersionUID=1,t}(e.util.HashMap);t.Hashtable=n,n.__class="java.util.Hashtable",n.__interfaces=["java.lang.Cloneable","java.util.Map","java.util.Dictionary","java.io.Serializable"],function(e){var t=function(){function e(e,t){this.it=t,this.__parent=e}return e.prototype.hasMoreElements=function(){return this.it.hasNext()},e.prototype.nextElement=function(){return this.it.next()},e}();e.Hashtable$0=t,t.__interfaces=["java.util.Enumeration"];var n=function(){function e(e,t){this.it=t,this.__parent=e}return e.prototype.hasMoreElements=function(){return this.it.hasNext()},e.prototype.nextElement=function(){return this.it.next()},e}();e.Hashtable$1=n,n.__interfaces=["java.util.Enumeration"]}(n=t.Hashtable||(t.Hashtable={}))}(e.util||(e.util={}))}(java||(java={})),function(java){!function(lang){var System=function(){function System(){}return System.__static_initialize=function(){System.__static_initialized||(System.__static_initialized=!0,System.__static_initializer_0())},System.ENVIRONMENT_IS_WEB_$LI$=function(){return System.__static_initialize(),null==System.ENVIRONMENT_IS_WEB&&(System.ENVIRONMENT_IS_WEB=java.util.Objects.equals("undefined"===typeof window?"undefined":_typeof(window),"object")),System.ENVIRONMENT_IS_WEB},System.ENVIRONMENT_IS_WORKER_$LI$=function(){return System.__static_initialize(),null==System.ENVIRONMENT_IS_WORKER&&(System.ENVIRONMENT_IS_WORKER=java.util.Objects.equals("undefined"===typeof importScripts?"undefined":_typeof(importScripts),"function")),System.ENVIRONMENT_IS_WORKER},System.ENVIRONMENT_IS_NODE_$LI$=function(){return System.__static_initialize(),null==System.ENVIRONMENT_IS_NODE&&(System.ENVIRONMENT_IS_NODE=!System.ENVIRONMENT_IS_WEB_$LI$()&&!System.ENVIRONMENT_IS_WORKER_$LI$()&&java.util.Objects.equals(eval("typeof process"),"object")&&java.util.Objects.equals(eval("typeof require"),"function")),System.ENVIRONMENT_IS_NODE},System.ENVIRONMENT_IS_SHELL_$LI$=function(){return System.__static_initialize(),null==System.ENVIRONMENT_IS_SHELL&&(System.ENVIRONMENT_IS_SHELL=!System.ENVIRONMENT_IS_WEB_$LI$()&&!System.ENVIRONMENT_IS_WORKER_$LI$()&&!System.ENVIRONMENT_IS_NODE_$LI$()),System.ENVIRONMENT_IS_SHELL},System.propertyMap_$LI$=function(){return System.__static_initialize(),System.propertyMap},System.err_$LI$=function(){return System.__static_initialize(),System.err},System.out_$LI$=function(){return System.__static_initialize(),System.out},System.in_$LI$=function(){return System.__static_initialize(),System.in},System.__static_initializer_0=function(){System.propertyMap=new java.util.HashMap,System.propertyMap_$LI$().put("java.vendor","JSweet"),System.propertyMap_$LI$().put("java.vendor.url","http://www.jsweet.org"),System.propertyMap_$LI$().put("java.version","jsweet");var tmpDir="",lineSeparator="\n",fileSeparator="/",userHome="",userName="",osArch="";if(System.ENVIRONMENT_IS_WEB_$LI$()||System.ENVIRONMENT_IS_WORKER_$LI$()){System.propertyMap_$LI$().put("os.name",System.ENVIRONMENT_IS_WEB_$LI$()?"WEB":"WEB-WORKER"),System.propertyMap_$LI$().put("os.version",navigator.userAgent);var pathname=document.location.pathname;System.propertyMap_$LI$().put("user.dir",pathname.substring(0,pathname.lastIndexOf("/")))}else if(System.ENVIRONMENT_IS_NODE_$LI$()){var os=eval('global.os || (global.os = require("os"))'),path=eval('global.path || (global.path = require("path"))');System.propertyMap_$LI$().put("os.name","NODE"),System.propertyMap_$LI$().put("os.version",eval("process.version")),System.propertyMap_$LI$().put("user.dir",eval("process.cwd()")),tmpDir=os.tmpdir(),lineSeparator=os.EOL,fileSeparator=path.sep,userHome=os.homedir(),userName=os.userInfo().username,osArch=os.arch()}else{console=new Object,console.info=print,console.error=java.util.Objects.equals(eval("typeof printErr"),"undefined")?print:eval("printErr"),System.propertyMap_$LI$().put("os.name","SHELL");var runnerName="UNKNOWN",userDir=".";java.util.Objects.equals(eval("typeof environment"),"object")?(runnerName="RHINO",userDir=eval('environment["user.dir"]'),lineSeparator=eval('environment["line.separator"]'),fileSeparator=eval('environment["file.separator"]'),userHome=eval('environment["user.name"]'),userName=eval('environment["user.home"]'),osArch=eval('environment["os.arch"]')):java.util.Objects.equals(eval("typeof jscOptions"),"function")&&(runnerName="JSC"),System.propertyMap_$LI$().put("os.version",runnerName),System.propertyMap_$LI$().put("user.dir",userDir)}System.propertyMap_$LI$().put("java.io.tmpdir",tmpDir),System.propertyMap_$LI$().put("line.separator",lineSeparator),System.propertyMap_$LI$().put("file.separator",fileSeparator),System.propertyMap_$LI$().put("user.home",userHome),System.propertyMap_$LI$().put("user.name",userName),System.propertyMap_$LI$().put("os.arch",osArch),System.out=new java.io.PrintStream(new System.System$0),System.err=new java.io.PrintStream(new System.System$1),System.in=new System.System$2},System.arraycopy=function(e,t,n,r,i){javaemul.internal.InternalPreconditions.checkNotNull(e,"src"),javaemul.internal.InternalPreconditions.checkNotNull(n,"dest");var o=javaemul.internal.ArrayHelper.getLength(e),a=javaemul.internal.ArrayHelper.getLength(n);if(t<0||r<0||i<0||t+i>o||r+i>a)throw new java.lang.IndexOutOfBoundsException;i>0&&javaemul.internal.ArrayHelper.copy$java_lang_Object$int$java_lang_Object$int$int(e,t,n,r,i)},System.currentTimeMillis=function(){return(e=javaemul.internal.DateUtil.now())<0?Math.ceil(e):Math.floor(e);var e},System.gc=function(){(function(){var gcFun=eval("this.gc");java.util.Objects.equals(_typeof(gcFun),"function")&&gcFun()}).apply(null)},System.getProperty$java_lang_String=function(e){return null==System.propertyMap_$LI$()?null:System.propertyMap_$LI$().get(e)},System.getProperty$java_lang_String$java_lang_String=function(e,t){var n=System.getProperty$java_lang_String(e);return null==n?t:n},System.getProperty=function(e,t){if("string"!==typeof e&&null!==e||"string"!==typeof t&&null!==t){if("string"!==typeof e&&null!==e||void 0!==t)throw new Error("invalid overload");return java.lang.System.getProperty$java_lang_String(e)}return java.lang.System.getProperty$java_lang_String$java_lang_String(e,t)},System.identityHashCode=function(e){return javaemul.internal.HashCodes.getIdentityHashCode(e)},System.setErr=function(e){java.lang.System.err=e},System.setOut=function(e){java.lang.System.out=e},System.lineSeparator=function(){return System.getProperty$java_lang_String("line.separator")},System.exit=function(status){System.ENVIRONMENT_IS_NODE_$LI$()?eval("process.exit("+status+")"):System.ENVIRONMENT_IS_WEB_$LI$()?window.close():System.ENVIRONMENT_IS_WORKER_$LI$()?self.close():(java.util.Objects.equals(_typeof(eval("quit")),"function")&&eval("quit("+status+")"),java.util.Objects.equals(_typeof(eval("exit")),"function")&&eval("exit("+status+")"))},System.__static_initialized=!1,System}();lang.System=System,System.__class="java.lang.System",function(System){var System$0=function(e){function t(){var t=e.call(this)||this;return t.sep=java.lang.System.propertyMap_$LI$().get("line.separator"),t.toOut="",t}return __extends(t,e),t.prototype.write=function(t,n,r){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if((null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)&&void 0===n&&void 0===r)return this.write$byte_A(t);if("number"!==typeof t&&null!==t||void 0!==n||void 0!==r)throw new Error("invalid overload");return this.write$int(t)}e.prototype.write.call(this,t,n,r)},t.prototype.write$int=function(e){this.toOut+=String.fromCharCode(e),function(e,t){var n=e.length-t.length,r=e.indexOf(t,n);return-1!==r&&r===n}(this.toOut,this.sep)&&this.flush()},t.prototype.flush=function(){e.prototype.flush.call(this),0!==this.toOut.length&&(function(e,t){var n=e.length-t.length,r=e.indexOf(t,n);return-1!==r&&r===n}(this.toOut,this.sep)&&(this.toOut=this.toOut.substring(0,this.toOut.length-this.sep.length)),console.info(this.toOut),this.toOut="")},t}(java.io.OutputStream);System.System$0=System$0,System$0.__interfaces=["java.io.Closeable","java.lang.AutoCloseable","java.io.Flushable"];var System$1=function(e){function t(){var t=e.call(this)||this;return t.sep=java.lang.System.propertyMap_$LI$().get("line.separator"),t.toOut="",t}return __extends(t,e),t.prototype.write=function(t,n,r){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if((null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)&&void 0===n&&void 0===r)return this.write$byte_A(t);if("number"!==typeof t&&null!==t||void 0!==n||void 0!==r)throw new Error("invalid overload");return this.write$int(t)}e.prototype.write.call(this,t,n,r)},t.prototype.write$int=function(e){this.toOut+=String.fromCharCode(e),function(e,t){var n=e.length-t.length,r=e.indexOf(t,n);return-1!==r&&r===n}(this.toOut,this.sep)&&this.flush()},t.prototype.flush=function(){e.prototype.flush.call(this),0!==this.toOut.length&&(function(e,t){var n=e.length-t.length,r=e.indexOf(t,n);return-1!==r&&r===n}(this.toOut,this.sep)&&(this.toOut=this.toOut.substring(0,this.toOut.length-this.sep.length)),console.error(this.toOut),this.toOut="")},t}(java.io.OutputStream);System.System$1=System$1,System$1.__interfaces=["java.io.Closeable","java.lang.AutoCloseable","java.io.Flushable"];var System$2=function(_super){function System$2(){var _this=_super.call(this)||this;return void 0===_this.readData&&(_this.readData=null),_this.where=0,_this.sep=java.lang.System.propertyMap_$LI$().get("line.separator"),_this.readerFunction=function(){var result=null;if(java.lang.System.ENVIRONMENT_IS_NODE_$LI$()){var fs=eval('global.fs || (global.fs = require("fs"))'),BUFSIZE=256,buf=new(eval("Buffer"))(BUFSIZE),fd=eval("process.stdin.fd"),usingDevice=!1;try{fd=fs.openSync("/dev/stdin","r"),usingDevice=!0}catch(ignored){}var bytesRead=0;try{bytesRead=fs.readSync(fd,buf,0,BUFSIZE,null)}catch(e){if(-1===e.toString().indexOf("EOF"))throw e}usingDevice&&fs.closeSync(fd),bytesRead>0&&(result=buf.slice(0,bytesRead).toString())}else java.lang.System.ENVIRONMENT_IS_WEB_$LI$()||java.lang.System.ENVIRONMENT_IS_WORKER_$LI$()?java.util.Objects.equals(_typeof(window.prompt),"function")&&(result=window.prompt("Input: "),null!=result&&(result+=_this.sep)):java.util.Objects.equals(_typeof(eval("readline")),"function")&&(result=eval("readline()"),null!=result&&(result+=_this.sep));return result},_this}return __extends(System$2,_super),System$2.prototype.read=function(e,t,n){if(!(null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"number"===typeof e[0])||null===e)||"number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n){if((null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"number"===typeof e[0])||null===e)&&void 0===t&&void 0===n)return this.read$byte_A(e);if(void 0===e&&void 0===t&&void 0===n)return this.read$();throw new Error("invalid overload")}return _super.prototype.read.call(this,e,t,n)},System$2.prototype.read$=function(){var e;return null==this.readData?(this.readData=(e=this.readerFunction,"function"===typeof e?e():e.get()).split(""),this.where=0):++this.where,this.where===this.readData.length?(this.readData=null,this.where=0,-1):this.readData[this.where].charCodeAt(0)},System$2}(java.io.InputStream);System.System$2=System$2,System$2.__interfaces=["java.io.Closeable","java.lang.AutoCloseable"]}(System=lang.System||(lang.System={}))}(java.lang||(java.lang={}))}(java||(java={})),function(e){!function(t){var n=function(){function t(){}return t.CHECKED_MODE_$LI$=function(){return null==t.CHECKED_MODE&&(t.CHECKED_MODE="ENABLED"===java.lang.System.getProperty("jre.checkedMode","ENABLED")),t.CHECKED_MODE},t.TYPE_CHECK_$LI$=function(){return null==t.TYPE_CHECK&&(t.TYPE_CHECK="ENABLED"===java.lang.System.getProperty("jre.checks.type","ENABLED")),t.TYPE_CHECK},t.API_CHECK_$LI$=function(){return null==t.API_CHECK&&(t.API_CHECK="ENABLED"===java.lang.System.getProperty("jre.checks.api","ENABLED")),t.API_CHECK},t.BOUND_CHECK_$LI$=function(){return null==t.BOUND_CHECK&&(t.BOUND_CHECK="ENABLED"===java.lang.System.getProperty("jre.checks.bounds","ENABLED")),t.BOUND_CHECK},t.checkType=function(e){if(t.TYPE_CHECK_$LI$())t.checkCriticalType(e);else if(t.CHECKED_MODE_$LI$())try{t.checkCriticalType(e)}catch(n){throw new java.lang.AssertionError(n)}},t.checkCriticalType=function(e){if(!e)throw new java.lang.ClassCastException},t.checkArrayType$boolean=function(e){if(t.TYPE_CHECK_$LI$())t.checkCriticalArrayType$boolean(e);else if(t.CHECKED_MODE_$LI$())try{t.checkCriticalArrayType$boolean(e)}catch(n){throw new java.lang.AssertionError(n)}},t.checkCriticalArrayType$boolean=function(e){if(!e)throw new java.lang.ArrayStoreException},t.checkArrayType$boolean$java_lang_Object=function(e,n){if(t.TYPE_CHECK_$LI$())t.checkCriticalArrayType$boolean$java_lang_Object(e,n);else if(t.CHECKED_MODE_$LI$())try{t.checkCriticalArrayType$boolean$java_lang_Object(e,n)}catch(r){throw new java.lang.AssertionError(r)}},t.checkArrayType=function(t,n){if("boolean"!==typeof t&&null!==t||null==n&&null!==n){if("boolean"!==typeof t&&null!==t||void 0!==n)throw new Error("invalid overload");return e.internal.InternalPreconditions.checkArrayType$boolean(t)}return e.internal.InternalPreconditions.checkArrayType$boolean$java_lang_Object(t,n)},t.checkCriticalArrayType$boolean$java_lang_Object=function(e,t){if(!e)throw new java.lang.ArrayStoreException(new String(t).toString())},t.checkCriticalArrayType=function(t,n){if("boolean"!==typeof t&&null!==t||null==n&&null!==n){if("boolean"!==typeof t&&null!==t||void 0!==n)throw new Error("invalid overload");return e.internal.InternalPreconditions.checkCriticalArrayType$boolean(t)}return e.internal.InternalPreconditions.checkCriticalArrayType$boolean$java_lang_Object(t,n)},t.checkElement$boolean=function(e){if(t.API_CHECK_$LI$())t.checkCriticalElement$boolean(e);else if(t.CHECKED_MODE_$LI$())try{t.checkCriticalElement$boolean(e)}catch(n){throw new java.lang.AssertionError(n)}},t.checkCriticalElement$boolean=function(e){if(!e)throw new java.util.NoSuchElementException},t.checkElement$boolean$java_lang_Object=function(e,n){if(t.API_CHECK_$LI$())t.checkCriticalElement$boolean$java_lang_Object(e,n);else if(t.CHECKED_MODE_$LI$())try{t.checkCriticalElement$boolean$java_lang_Object(e,n)}catch(r){throw new java.lang.AssertionError(r)}},t.checkElement=function(t,n){if("boolean"!==typeof t&&null!==t||null==n&&null!==n){if("boolean"!==typeof t&&null!==t||void 0!==n)throw new Error("invalid overload");return e.internal.InternalPreconditions.checkElement$boolean(t)}return e.internal.InternalPreconditions.checkElement$boolean$java_lang_Object(t,n)},t.checkCriticalElement$boolean$java_lang_Object=function(e,t){if(!e)throw new java.util.NoSuchElementException(new String(t).toString())},t.checkCriticalElement=function(t,n){if("boolean"!==typeof t&&null!==t||null==n&&null!==n){if("boolean"!==typeof t&&null!==t||void 0!==n)throw new Error("invalid overload");return e.internal.InternalPreconditions.checkCriticalElement$boolean(t)}return e.internal.InternalPreconditions.checkCriticalElement$boolean$java_lang_Object(t,n)},t.checkArgument$boolean=function(e){if(t.API_CHECK_$LI$())t.checkCriticalArgument$boolean(e);else if(t.CHECKED_MODE_$LI$())try{t.checkCriticalArgument$boolean(e)}catch(n){throw new java.lang.AssertionError(n)}},t.checkCriticalArgument$boolean=function(e){if(!e)throw new java.lang.IllegalArgumentException},t.checkArgument$boolean$java_lang_Object=function(e,n){if(t.API_CHECK_$LI$())t.checkCriticalArgument$boolean$java_lang_Object(e,n);else if(t.CHECKED_MODE_$LI$())try{t.checkCriticalArgument$boolean$java_lang_Object(e,n)}catch(r){throw new java.lang.AssertionError(r)}},t.checkCriticalArgument$boolean$java_lang_Object=function(e,t){if(!e)throw new java.lang.IllegalArgumentException(new String(t).toString())},t.checkArgument$boolean$java_lang_String$java_lang_Object_A=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t.API_CHECK_$LI$())t.checkCriticalArgument$boolean$java_lang_String$java_lang_Object_A.apply(this,[e,n].concat(r));else if(t.CHECKED_MODE_$LI$())try{t.checkCriticalArgument$boolean$java_lang_String$java_lang_Object_A.apply(this,[e,n].concat(r))}catch(o){throw new java.lang.AssertionError(o)}},t.checkArgument=function(t,n){for(var r,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if("boolean"!==typeof t&&null!==t||"string"!==typeof n&&null!==n||!(null!=i&&i instanceof Array&&(0==i.length||null==i[0]||null!=i[0])||null===i)){if(("boolean"!==typeof t&&null!==t||null==n&&null!==n||void 0!==i)&&0!==i.length){if(("boolean"===typeof t||null===t)&&void 0===n&&void 0===i||0===i.length)return e.internal.InternalPreconditions.checkArgument$boolean(t);throw new Error("invalid overload")}return e.internal.InternalPreconditions.checkArgument$boolean$java_lang_Object(t,n)}return(r=e.internal.InternalPreconditions).checkArgument$boolean$java_lang_String$java_lang_Object_A.apply(r,__spreadArrays([t,n],i))},t.checkCriticalArgument$boolean$java_lang_String$java_lang_Object_A=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(!e)throw new java.lang.IllegalArgumentException(t.format.apply(this,[n].concat(r)))},t.checkCriticalArgument=function(t,n){for(var r,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if("boolean"!==typeof t&&null!==t||"string"!==typeof n&&null!==n||!(null!=i&&i instanceof Array&&(0==i.length||null==i[0]||null!=i[0])||null===i)){if(("boolean"!==typeof t&&null!==t||null==n&&null!==n||void 0!==i)&&0!==i.length){if(("boolean"===typeof t||null===t)&&void 0===n&&void 0===i||0===i.length)return e.internal.InternalPreconditions.checkCriticalArgument$boolean(t);throw new Error("invalid overload")}return e.internal.InternalPreconditions.checkCriticalArgument$boolean$java_lang_Object(t,n)}return(r=e.internal.InternalPreconditions).checkCriticalArgument$boolean$java_lang_String$java_lang_Object_A.apply(r,__spreadArrays([t,n],i))},t.checkState$boolean=function(e){if(t.API_CHECK_$LI$())t.checkCritcalState(e);else if(t.CHECKED_MODE_$LI$())try{t.checkCritcalState(e)}catch(n){throw new java.lang.AssertionError(n)}},t.checkCritcalState=function(e){if(!e)throw new java.lang.IllegalStateException},t.checkState$boolean$java_lang_Object=function(e,n){if(t.API_CHECK_$LI$())t.checkCriticalState(e,n);else if(t.CHECKED_MODE_$LI$())try{t.checkCriticalState(e,n)}catch(r){throw new java.lang.AssertionError(r)}},t.checkState=function(t,n){if("boolean"!==typeof t&&null!==t||null==n&&null!==n){if("boolean"!==typeof t&&null!==t||void 0!==n)throw new Error("invalid overload");return e.internal.InternalPreconditions.checkState$boolean(t)}return e.internal.InternalPreconditions.checkState$boolean$java_lang_Object(t,n)},t.checkCriticalState=function(e,t){if(!e)throw new java.lang.IllegalStateException(new String(t).toString())},t.checkNotNull$java_lang_Object=function(e){if(t.API_CHECK_$LI$())t.checkCriticalNotNull(e);else if(t.CHECKED_MODE_$LI$())try{t.checkCriticalNotNull(e)}catch(n){throw new java.lang.AssertionError(n)}return e},t.checkCriticalNotNull$java_lang_Object=function(e){if(null==e)throw new java.lang.NullPointerException;return e},t.checkNotNull$java_lang_Object$java_lang_Object=function(e,n){if(t.API_CHECK_$LI$())t.checkCriticalNotNull$java_lang_Object$java_lang_Object(e,n);else if(t.CHECKED_MODE_$LI$())try{t.checkCriticalNotNull$java_lang_Object$java_lang_Object(e,n)}catch(r){throw new java.lang.AssertionError(r)}},t.checkNotNull=function(t,n){if(null==t&&null!==t||null==n&&null!==n){if(null==t&&null!==t||void 0!==n)throw new Error("invalid overload");return e.internal.InternalPreconditions.checkNotNull$java_lang_Object(t)}return e.internal.InternalPreconditions.checkNotNull$java_lang_Object$java_lang_Object(t,n)},t.checkCriticalNotNull$java_lang_Object$java_lang_Object=function(e,t){if(null==e)throw new java.lang.NullPointerException(new String(t).toString())},t.checkCriticalNotNull=function(t,n){if(null==t&&null!==t||null==n&&null!==n){if(null==t&&null!==t||void 0!==n)throw new Error("invalid overload");return e.internal.InternalPreconditions.checkCriticalNotNull$java_lang_Object(t)}return e.internal.InternalPreconditions.checkCriticalNotNull$java_lang_Object$java_lang_Object(t,n)},t.checkArraySize=function(e){if(t.API_CHECK_$LI$())t.checkCriticalArraySize(e);else if(t.CHECKED_MODE_$LI$())try{t.checkCriticalArraySize(e)}catch(n){throw new java.lang.AssertionError(n)}},t.checkCriticalArraySize=function(e){if(e<0)throw new java.lang.NegativeArraySizeException("Negative array size: "+e)},t.checkElementIndex=function(e,n){if(t.BOUND_CHECK_$LI$())t.checkCriticalElementIndex(e,n);else if(t.CHECKED_MODE_$LI$())try{t.checkCriticalElementIndex(e,n)}catch(r){throw new java.lang.AssertionError(r)}},t.checkCriticalElementIndex=function(e,t){if(e<0||e>=t)throw new java.lang.IndexOutOfBoundsException("Index: "+e+", Size: "+t)},t.checkPositionIndex=function(e,n){if(t.BOUND_CHECK_$LI$())t.checkCriticalPositionIndex(e,n);else if(t.CHECKED_MODE_$LI$())try{t.checkCriticalPositionIndex(e,n)}catch(r){throw new java.lang.AssertionError(r)}},t.checkCriticalPositionIndex=function(e,t){if(e<0||e>t)throw new java.lang.IndexOutOfBoundsException("Index: "+e+", Size: "+t)},t.checkPositionIndexes=function(e,n,r){if(t.BOUND_CHECK_$LI$())t.checkCriticalPositionIndexes(e,n,r);else if(t.CHECKED_MODE_$LI$())try{t.checkCriticalPositionIndexes(e,n,r)}catch(i){throw new java.lang.AssertionError(i)}},t.checkCriticalPositionIndexes=function(e,t,n){if(e<0)throw new java.lang.IndexOutOfBoundsException("fromIndex: "+e+" < 0");if(t>n)throw new java.lang.IndexOutOfBoundsException("toIndex: "+t+" > size "+n);if(e>t)throw new java.lang.IllegalArgumentException("fromIndex: "+e+" > toIndex: "+t)},t.checkStringBounds=function(e,t,n){if(e<0)throw new java.lang.StringIndexOutOfBoundsException("fromIndex: "+e+" < 0");if(t>n)throw new java.lang.StringIndexOutOfBoundsException("toIndex: "+t+" > size "+n);if(t<e)throw new java.lang.StringIndexOutOfBoundsException("fromIndex: "+e+" > toIndex: "+t)},t.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e=new String(e).toString();for(var r=new java.lang.StringBuilder(e.length+16*t.length),i=0,o=0;o<t.length;){var a=e.indexOf("%s",i);if(-1===a)break;r.append$java_lang_String(e.substring(i,a)),r.append$java_lang_Object(t[o++]),i=a+2}if(r.append$java_lang_String(e.substring(i)),o<t.length){for(r.append$java_lang_String(" ["),r.append$java_lang_Object(t[o++]);o<t.length;)r.append$java_lang_String(", "),r.append$java_lang_Object(t[o++]);r.append$char("]")}return r.toString()},t}();t.InternalPreconditions=n,n.__class="javaemul.internal.InternalPreconditions"}(e.internal||(e.internal={}))}(javaemul||(javaemul={})),function(e){!function(t){var n=function(){function t(){}return t.API_CHECK_$LI$=function(){return null==t.API_CHECK&&(t.API_CHECK="ENABLED"===e.lang.System.getProperty("jre.checks.api","ENABLED")),t.API_CHECK},t.structureChanged=function(e){if(t.API_CHECK_$LI$()){var n=0|javaemul.internal.JsUtils.getIntProperty(e,t.MOD_COUNT_PROPERTY);javaemul.internal.JsUtils.setIntProperty(e,t.MOD_COUNT_PROPERTY,n+1)}},t.recordLastKnownStructure=function(e,n){if(t.API_CHECK_$LI$()){var r=javaemul.internal.JsUtils.getIntProperty(e,t.MOD_COUNT_PROPERTY);javaemul.internal.JsUtils.setIntProperty(n,t.MOD_COUNT_PROPERTY,r)}},t.checkStructuralChange=function(n,r){if(t.API_CHECK_$LI$()&&javaemul.internal.JsUtils.getIntProperty(r,t.MOD_COUNT_PROPERTY)!==javaemul.internal.JsUtils.getIntProperty(n,t.MOD_COUNT_PROPERTY))throw new e.util.ConcurrentModificationException},t.MOD_COUNT_PROPERTY="_gwt_modCount",t}();t.ConcurrentModificationDetector=n,n.__class="java.util.ConcurrentModificationDetector"}(e.util||(e.util={}))}(java||(java={})),function(e){var t;(function(t){var n=function(){function t(n,r){void 0===this.handlers&&(this.handlers=null),this.level=null,void 0===this.name&&(this.name=null),void 0===this.parent&&(this.parent=null),void 0===this.useParentHandlers&&(this.useParentHandlers=!1),t.LOGGING_FALSE_$LI$()||(this.name=n,this.useParentHandlers=!0,this.handlers=new e.util.ArrayList)}return t.__static_initialize=function(){t.__static_initialized||(t.__static_initialized=!0,t.__static_initializer_0())},t.LOGGING_ENABLED_$LI$=function(){return t.__static_initialize(),null==t.LOGGING_ENABLED&&(t.LOGGING_ENABLED=e.lang.System.getProperty("gwt.logging.enabled","TRUE")),t.LOGGING_ENABLED},t.LOGGING_WARNING_$LI$=function(){return t.__static_initialize(),null==t.LOGGING_WARNING&&(t.LOGGING_WARNING="WARNING"===t.LOGGING_ENABLED_$LI$()),t.LOGGING_WARNING},t.LOGGING_SEVERE_$LI$=function(){return t.__static_initialize(),null==t.LOGGING_SEVERE&&(t.LOGGING_SEVERE="SEVERE"===t.LOGGING_ENABLED_$LI$()),t.LOGGING_SEVERE},t.LOGGING_FALSE_$LI$=function(){return t.__static_initialize(),null==t.LOGGING_FALSE&&(t.LOGGING_FALSE="FALSE"===t.LOGGING_ENABLED_$LI$()),t.LOGGING_FALSE},t.__static_initializer_0=function(){t.assertLoggingValues()},t.getGlobal=function(){return t.getLogger(t.GLOBAL_LOGGER_NAME)},t.getLogger=function(n){return t.LOGGING_FALSE_$LI$()?new t(n,null):e.util.logging.LogManager.getLogManager().ensureLogger(n)},t.assertLoggingValues=function(){if("FALSE"!==t.LOGGING_ENABLED_$LI$()&&"TRUE"!==t.LOGGING_ENABLED_$LI$()&&"SEVERE"!==t.LOGGING_ENABLED_$LI$()&&"WARNING"!==t.LOGGING_ENABLED_$LI$())throw new e.lang.RuntimeException("Undefined value for gwt.logging.enabled: '"+t.LOGGING_ENABLED_$LI$()+"'. Allowed values are TRUE, FALSE, SEVERE, WARNING")},t.prototype.addHandler=function(e){t.LOGGING_FALSE_$LI$()||this.handlers.add(e)},t.prototype.config=function(n){t.LOGGING_FALSE_$LI$()||t.LOGGING_SEVERE_$LI$()||t.LOGGING_WARNING_$LI$()||this.log$java_util_logging_Level$java_lang_String(e.util.logging.Level.CONFIG_$LI$(),n)},t.prototype.fine=function(n){t.LOGGING_FALSE_$LI$()||t.LOGGING_SEVERE_$LI$()||t.LOGGING_WARNING_$LI$()||this.log$java_util_logging_Level$java_lang_String(e.util.logging.Level.FINE_$LI$(),n)},t.prototype.finer=function(n){t.LOGGING_FALSE_$LI$()||t.LOGGING_SEVERE_$LI$()||t.LOGGING_WARNING_$LI$()||this.log$java_util_logging_Level$java_lang_String(e.util.logging.Level.FINER_$LI$(),n)},t.prototype.finest=function(n){t.LOGGING_FALSE_$LI$()||t.LOGGING_SEVERE_$LI$()||t.LOGGING_WARNING_$LI$()||this.log$java_util_logging_Level$java_lang_String(e.util.logging.Level.FINEST_$LI$(),n)},t.prototype.info=function(n){t.LOGGING_FALSE_$LI$()||t.LOGGING_SEVERE_$LI$()||t.LOGGING_WARNING_$LI$()||this.log$java_util_logging_Level$java_lang_String(e.util.logging.Level.INFO_$LI$(),n)},t.prototype.warning=function(n){t.LOGGING_FALSE_$LI$()||t.LOGGING_SEVERE_$LI$()||this.log$java_util_logging_Level$java_lang_String(e.util.logging.Level.WARNING_$LI$(),n)},t.prototype.severe=function(n){t.LOGGING_FALSE_$LI$()||this.log$java_util_logging_Level$java_lang_String(e.util.logging.Level.SEVERE_$LI$(),n)},t.prototype.getHandlers=function(){return t.LOGGING_FALSE_$LI$()?[]:this.handlers.toArray$java_lang_Object_A(function(e){for(var t=[];e-- >0;)t.push(null);return t}(this.handlers.size()))},t.prototype.getLevel=function(){return t.LOGGING_FALSE_$LI$()?null:this.level},t.prototype.getName=function(){return t.LOGGING_FALSE_$LI$()?null:this.name},t.prototype.getParent=function(){return t.LOGGING_FALSE_$LI$()?null:this.parent},t.prototype.getUseParentHandlers=function(){return!t.LOGGING_FALSE_$LI$()&&this.useParentHandlers},t.prototype.isLoggable=function(e){return!t.LOGGING_FALSE_$LI$()&&this.getEffectiveLevel().intValue()<=e.intValue()},t.prototype.log$java_util_logging_Level$java_lang_String=function(e,t){this.log$java_util_logging_Level$java_lang_String$java_lang_Throwable(e,t,null)},t.prototype.log$java_util_logging_Level$java_lang_String$java_lang_Throwable=function(n,r,i){t.LOGGING_FALSE_$LI$()||(t.LOGGING_SEVERE_$LI$()?n.intValue()>=1e3&&this.actuallyLog$java_util_logging_Level$java_lang_String$java_lang_Throwable(n,r,i):t.LOGGING_WARNING_$LI$()?n.intValue()>=e.util.logging.Level.WARNING_$LI$().intValue()&&this.actuallyLog$java_util_logging_Level$java_lang_String$java_lang_Throwable(n,r,i):this.actuallyLog$java_util_logging_Level$java_lang_String$java_lang_Throwable(n,r,i))},t.prototype.log=function(t,n,r){if((null!=t&&t instanceof e.util.logging.Level||null===t)&&("string"===typeof n||null===n)&&(null!=r&&r instanceof Error||null===r))return this.log$java_util_logging_Level$java_lang_String$java_lang_Throwable(t,n,r);if(!(null!=t&&t instanceof e.util.logging.Level||null===t)||"string"!==typeof n&&null!==n||void 0!==r){if((null!=t&&t instanceof e.util.logging.LogRecord||null===t)&&void 0===n&&void 0===r)return this.log$java_util_logging_LogRecord(t);throw new Error("invalid overload")}return this.log$java_util_logging_Level$java_lang_String(t,n)},t.prototype.log$java_util_logging_LogRecord=function(n){t.LOGGING_FALSE_$LI$()||(t.LOGGING_SEVERE_$LI$()?n.getLevel().intValue()>=1e3&&this.actuallyLog$java_util_logging_LogRecord(n):t.LOGGING_WARNING_$LI$()?n.getLevel().intValue()>=e.util.logging.Level.WARNING_$LI$().intValue()&&this.actuallyLog$java_util_logging_LogRecord(n):this.actuallyLog$java_util_logging_LogRecord(n))},t.prototype.removeHandler=function(e){t.LOGGING_FALSE_$LI$()||this.handlers.remove$java_lang_Object(e)},t.prototype.setLevel=function(e){t.LOGGING_FALSE_$LI$()||(this.level=e)},t.prototype.setParent=function(e){t.LOGGING_FALSE_$LI$()||null!=e&&(this.parent=e)},t.prototype.setUseParentHandlers=function(e){t.LOGGING_FALSE_$LI$()||(this.useParentHandlers=e)},t.prototype.getEffectiveLevel=function(){if(null!=this.level)return this.level;for(var t=this.getParent();null!=t;){var n=t.getLevel();if(null!=n)return n;t=t.getParent()}return e.util.logging.Level.INFO_$LI$()},t.prototype.actuallyLog$java_util_logging_Level$java_lang_String$java_lang_Throwable=function(t,n,r){if(this.isLoggable(t)){var i=new e.util.logging.LogRecord(t,n);i.setThrown(r),i.setLoggerName(this.getName()),this.actuallyLog$java_util_logging_LogRecord(i)}},t.prototype.actuallyLog=function(t,n,r){if((null!=t&&t instanceof e.util.logging.Level||null===t)&&("string"===typeof n||null===n)&&(null!=r&&r instanceof Error||null===r))return this.actuallyLog$java_util_logging_Level$java_lang_String$java_lang_Throwable(t,n,r);if((null!=t&&t instanceof e.util.logging.LogRecord||null===t)&&void 0===n&&void 0===r)return this.actuallyLog$java_util_logging_LogRecord(t);throw new Error("invalid overload")},t.prototype.actuallyLog$java_util_logging_LogRecord=function(e){if(this.isLoggable(e.getLevel())){for(var t=this.getHandlers(),n=0;n<t.length;n++)t[n].publish(e);for(var r=this.getUseParentHandlers()?this.getParent():null;null!=r;){for(var i=r.getHandlers(),o=0;o<i.length;o++)i[o].publish(e);r=r.getUseParentHandlers()?r.getParent():null}}},t.__static_initialized=!1,t.GLOBAL_LOGGER_NAME="global",t}();t.Logger=n,n.__class="java.util.logging.Logger"})((t=e.util||(e.util={})).logging||(t.logging={}))}(java||(java={})),function(e){var t;(function(t){var n=function(){function t(e){void 0===this.fullPath&&(this.fullPath=null),this.fullPath=e}return t.prototype.forEach=function(e){javaemul.internal.InternalPreconditions.checkNotNull(e);for(var t=function(t){var n,r=t.next();"function"===typeof(n=e)?n(r):n.accept(r)},n=this.iterator();n.hasNext();)t(n)},t.PATH_SEPARATOR_$LI$=function(){return null==t.PATH_SEPARATOR&&(t.PATH_SEPARATOR=e.lang.System.getProperty("file.separator")),t.PATH_SEPARATOR},t.prototype.compareTo$java_nio_file_Path=function(e){return this.toString().localeCompare(e.toString())},t.prototype.compareTo=function(t){if(null!=t&&t instanceof e.nio.file.Path||null===t)return this.compareTo$java_nio_file_Path(t);throw new Error("invalid overload")},t.prototype.isAbsolute=function(){return e.util.Objects.equals(t.PATH_SEPARATOR_$LI$(),"/")?this.fullPath.length>0&&e.util.Objects.equals(this.fullPath.substring(0,1),t.PATH_SEPARATOR_$LI$()):this.fullPath.length>=3&&e.util.Objects.equals(this.fullPath.substring(1,3),":\\")},t.prototype.getFileName=function(){return new t(this.fullPath.substring(this.fullPath.lastIndexOf(t.PATH_SEPARATOR_$LI$())+t.PATH_SEPARATOR_$LI$().length))},t.prototype.getParent=function(){return new t(this.fullPath.substring(0,this.fullPath.lastIndexOf(t.PATH_SEPARATOR_$LI$())))},t.prototype.resolve$java_nio_file_Path=function(e){return e.isAbsolute()?e:new t(this.fullPath+"/"+e.fullPath)},t.prototype.resolve=function(t){if(null!=t&&t instanceof e.nio.file.Path||null===t)return this.resolve$java_nio_file_Path(t);if("string"===typeof t||null===t)return this.resolve$java_lang_String(t);throw new Error("invalid overload")},t.prototype.resolve$java_lang_String=function(t){return this.resolve$java_nio_file_Path(e.nio.file.Paths.get(t))},t.prototype.toAbsolutePath=function(){return e.nio.file.Paths.get(e.lang.System.getProperty$java_lang_String("user.dir")).resolve$java_nio_file_Path(this)},t.prototype.iterator=function(){var n=this;return e.util.Arrays.asList(this.fullPath.split(t.PATH_SEPARATOR_$LI$()).map(function(e,r,i){return n.isAbsolute()&&0===r?new t(e+t.PATH_SEPARATOR_$LI$()):new t(e)})).iterator()},t.prototype.toString=function(){return this.fullPath},t}();t.Path=n,n.__class="java.nio.file.Path",n.__interfaces=["java.lang.Comparable","java.lang.Iterable"]})((t=e.nio||(e.nio={})).file||(t.file={}))}(java||(java={})),java.nio.file.Path.PATH_SEPARATOR_$LI$(),java.util.logging.Logger.LOGGING_FALSE_$LI$(),java.util.logging.Logger.LOGGING_SEVERE_$LI$(),java.util.logging.Logger.LOGGING_WARNING_$LI$(),java.util.logging.Logger.LOGGING_ENABLED_$LI$(),java.util.logging.Logger.__static_initialize(),java.util.ConcurrentModificationDetector.API_CHECK_$LI$(),javaemul.internal.InternalPreconditions.BOUND_CHECK_$LI$(),javaemul.internal.InternalPreconditions.API_CHECK_$LI$(),javaemul.internal.InternalPreconditions.TYPE_CHECK_$LI$(),javaemul.internal.InternalPreconditions.CHECKED_MODE_$LI$(),java.lang.System.in_$LI$(),java.lang.System.out_$LI$(),java.lang.System.err_$LI$(),java.lang.System.propertyMap_$LI$(),java.lang.System.ENVIRONMENT_IS_SHELL_$LI$(),java.lang.System.ENVIRONMENT_IS_NODE_$LI$(),java.lang.System.ENVIRONMENT_IS_WORKER_$LI$(),java.lang.System.ENVIRONMENT_IS_WEB_$LI$(),java.lang.System.__static_initialize(),java.util.stream.Collectors.CH_NOID_$LI$(),java.util.stream.Collectors.CH_ID_$LI$(),java.util.TreeMap.SubMapType_Tail_$LI$(),java.util.TreeMap.SubMapType_Range_$LI$(),java.util.TreeMap.SubMapType_Head_$LI$(),java.util.TreeMap.SubMapType_All_$LI$(),java.util.Collections.RandomHolder.rnd_$LI$(),java.util.Collections.ReverseComparator.INSTANCE_$LI$(),java.util.Collections.EmptyListIterator.INSTANCE_$LI$(),java.util.Collections.EMPTY_SET_$LI$(),java.util.Collections.EMPTY_MAP_$LI$(),java.util.Collections.EMPTY_LIST_$LI$(),java.nio.charset.StandardCharsets.UTF_8_$LI$(),java.nio.charset.StandardCharsets.ISO_8859_1_$LI$(),javaemul.internal.EmulatedCharset.ISO_8859_1_$LI$(),javaemul.internal.EmulatedCharset.ISO_LATIN_1_$LI$(),javaemul.internal.EmulatedCharset.UTF_8_$LI$(),java.security.MessageDigest.Md5Digest.padding_$LI$(),javaemul.internal.StringHelper.CASE_INSENSITIVE_ORDER_$LI$(),java.util.Scanner.whiteSpacePattern_$LI$(),java.util.Scanner.endLinePattern_$LI$(),java.util.Scanner.floatPattern_$LI$(),java.util.Scanner.integerPattern_$LI$(),java.util.Scanner.booleanPattern_$LI$(),java.util.Scanner.signedNonNumber_$LI$(),java.util.Scanner.decimal_$LI$(),java.util.Scanner.exponent_$LI$(),java.util.Scanner.decimalNumeral_$LI$(),java.util.Scanner.numeral_$LI$(),javaemul.internal.LongHelper.BoxedValues.boxedValues_$LI$(),javaemul.internal.IntegerHelper.ReverseNibbles.reverseNibbles_$LI$(),javaemul.internal.IntegerHelper.BoxedValues.boxedValues_$LI$(),javaemul.internal.ByteHelper.BoxedValues.boxedValues_$LI$(),javaemul.internal.ByteHelper.TYPE_$LI$(),javaemul.internal.ByteHelper.MAX_VALUE_$LI$(),javaemul.internal.ByteHelper.MIN_VALUE_$LI$(),javaemul.internal.ShortHelper.BoxedValues.boxedValues_$LI$(),javaemul.internal.ShortHelper.TYPE_$LI$(),javaemul.internal.ShortHelper.MAX_VALUE_$LI$(),javaemul.internal.ShortHelper.MIN_VALUE_$LI$(),javaemul.internal.DoubleHelper.PowersTable.invPowers_$LI$(),javaemul.internal.DoubleHelper.PowersTable.powers_$LI$(),java.nio.ByteOrder.LITTLE_ENDIAN_$LI$(),java.nio.ByteOrder.BIG_ENDIAN_$LI$(),java.lang.Class.classes_$LI$(),java.lang.Class.constructors_$LI$(),java.util.logging.Level.WARNING_$LI$(),java.util.logging.Level.SEVERE_$LI$(),java.util.logging.Level.OFF_$LI$(),java.util.logging.Level.INFO_$LI$(),java.util.logging.Level.FINEST_$LI$(),java.util.logging.Level.FINER_$LI$(),java.util.logging.Level.FINE_$LI$(),java.util.logging.Level.CONFIG_$LI$(),java.util.logging.Level.ALL_$LI$(),java.util.Date.StringData.MONTHS_$LI$(),java.util.Date.StringData.DAYS_$LI$(),java.util.Comparators.NATURAL_$LI$(),java.util.Locale.defaultLocale_$LI$(),java.util.Locale.UK_$LI$(),java.util.Locale.FRANCE_$LI$(),java.util.Locale.US_$LI$(),java.util.Locale.ENGLISH_$LI$(),java.util.Locale.ROOT_$LI$(),java.util.Random.twoToTheXMinus48_$LI$(),java.util.Random.twoToTheXMinus24_$LI$(),java.util.Random.__static_initialize(),java.util.OptionalLong.EMPTY_$LI$(),java.util.OptionalInt.EMPTY_$LI$(),java.util.OptionalDouble.EMPTY_$LI$(),java.util.Optional.EMPTY_$LI$(),java.util.InternalJsMapFactory.jsMapCtor_$LI$(),java.net.InternalJsURLFactory.jsURLCtor_$LI$(),javaemul.internal.NumberHelper.__ParseLong.maxValueForRadix_$LI$(),javaemul.internal.NumberHelper.__ParseLong.maxLengthForRadix_$LI$(),javaemul.internal.NumberHelper.__ParseLong.maxDigitsRadixPower_$LI$(),javaemul.internal.NumberHelper.__ParseLong.maxDigitsForRadix_$LI$(),javaemul.internal.NumberHelper.__ParseLong.__static_initialize(),javaemul.internal.MathHelper.PI_UNDER_180_$LI$(),javaemul.internal.MathHelper.PI_OVER_180_$LI$(),javaemul.internal.MathHelper.MIN_VALUE_$LI$(),javaemul.internal.MathHelper.MAX_VALUE_$LI$(),javaemul.internal.MathHelper.EPSILON_$LI$(),javaemul.internal.CharacterHelper.BoxedValues.boxedValues_$LI$(),javaemul.internal.CharacterHelper.TYPE_$LI$(),javaemul.internal.stream.VoidRunnable.dryRun_$LI$(),javaemul.internal.StringHashCache.front_$LI$(),javaemul.internal.StringHashCache.back_$LI$(),javaemul.internal.BooleanHelper.TYPE_$LI$(),javaemul.internal.JreHelper.LOG10E_$LI$(),function(e){!function(t){var n;(function(t){var n=function(){function t(e){_classCallCheck(this,t),void 0===this.symmetry&&(this.symmetry=null),this.geometries=new java.util.ArrayList,this.defaultShapes=null,this.symmetry=e,this.symmetry.computeOrbitDots()}return _createClass(t,[{key:"getSymmetry",value:function(){return this.symmetry}},{key:"getName",value:function(){return this.getSymmetry().getName()}},{key:"addShapes",value:function(e){var t=this.getGeometry(e.getName());null!=t&&this.geometries.remove(t),this.geometries.add(e)}},{key:"clearShapes",value:function(){this.geometries.clear(),this.defaultShapes=null}},{key:"getGeometries",value:function(){return this.geometries}},{key:"getGeometry",value:function(e){for(var t=this.geometries.iterator();t.hasNext();){var n=t.next();if(r=n.getName(),i=e,r&&r.equals?r.equals(i):r===i)return n}var r,i;return null}},{key:"setDefaultGeometry",value:function(e){this.defaultShapes=e,this.addShapes(e)}},{key:"getDefaultGeometry",value:function(){return this.defaultShapes}},{key:"getLegacyCommand",value:function(t){switch(t){case"octasymm":var n=this.getSymmetry();return null!=n&&n instanceof e.vzome.core.math.symmetry.OctahedralSymmetry||(n=new e.vzome.core.math.symmetry.OctahedralSymmetry(n.getField())),new e.vzome.core.commands.CommandSymmetry(n);default:return null}}},{key:"orbitIsStandard",value:function(e){return e.isStandard()}},{key:"orbitIsBuildDefault",value:function(e){return null!=e.getAxis$int$int(0,0).getRotationPermutation()}},{key:"getOrbitUnitLength",value:function(e){return e.getUnitLength()}}]),t}();t.AbstractSymmetryPerspective=n,n.__class="com.vzome.core.kinds.AbstractSymmetryPerspective",n.__interfaces=["com.vzome.core.editor.FieldApplication.SymmetryPerspective"]})((n=t.core||(t.core={})).kinds||(n.kinds={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(){function t(n){_classCallCheck(this,t),void 0===this.field&&(this.field=null),void 0===this.octahedralPerspective&&(this.octahedralPerspective=null),this.groups4d=new java.util.HashMap,this.pointsymm=new e.vzome.core.commands.CommandCentralSymmetry,this.mirrorsymm=new e.vzome.core.commands.CommandMirrorSymmetry,this.translate=new e.vzome.core.commands.CommandTranslate,this.centroid=new e.vzome.core.commands.CommandCentroid,this.hideball=new e.vzome.core.commands.CommandHide,this.hide=new e.vzome.core.commands.CommandHide,this.panel=new e.vzome.core.commands.CommandPolygon,this.midpoint=new e.vzome.core.commands.CommandMidpoint,this.field=n}return _createClass(t,[{key:"getName",value:function(){return this.field.getName()}},{key:"getField",value:function(){return this.field}},{key:"getDefaultSymmetryPerspective",value:function(){return this.getSymmetryPerspective("octahedral")}},{key:"getSymmetryPerspectives",value:function(){return java.util.Arrays.asList(this.getDefaultSymmetryPerspective())}},{key:"getSymmetryPerspective",value:function(t){switch(t){case"octahedral":return null==this.octahedralPerspective&&(this.octahedralPerspective=new e.vzome.core.kinds.OctahedralSymmetryPerspective(this.field)),this.octahedralPerspective;default:return null}}},{key:"getQuaternionSymmetry",value:function(e){return null}},{key:"registerToolFactories",value:function(t,n){t.put("SymmetryTool",new e.vzome.core.tools.OctahedralToolFactory(n,null)),t.put("RotationTool",new e.vzome.core.tools.RotationTool.__com_vzome_core_tools_RotationTool_Factory(n,null)),t.put("ScalingTool",new e.vzome.core.tools.ScalingTool.__com_vzome_core_tools_ScalingTool_Factory(n,null)),t.put("InversionTool",new e.vzome.core.tools.InversionTool.Factory(n)),t.put("MirrorTool",new e.vzome.core.tools.MirrorTool.Factory(n)),t.put("TranslationTool",new e.vzome.core.tools.TranslationTool.Factory(n)),t.put("ProjectionTool",new e.vzome.core.tools.ProjectionTool.Factory(n)),t.put("BookmarkTool",new e.vzome.core.tools.BookmarkTool.Factory(n)),t.put("LinearTransformTool",new e.vzome.core.tools.LinearMapTool.Factory(n,null,!1)),t.put("LinearMapTool",new e.vzome.core.tools.LinearMapTool.Factory(n,null,!0)),t.put("ModuleTool",new e.vzome.core.tools.ModuleTool.Factory(n)),t.put("PlaneSelectionTool",new e.vzome.core.tools.PlaneSelectionTool.Factory(n))}},{key:"constructPolytope",value:function(t,n,r,i,o){var a=this.groups4d.get(t);if(null==a){switch(t){case"A4":a=new e.vzome.core.math.symmetry.A4Group(this.field);break;case"D4":a=new e.vzome.core.math.symmetry.D4Group(this.field);break;case"F4":a=new e.vzome.core.math.symmetry.F4Group(this.field);break;default:a=new e.vzome.core.math.symmetry.B4Group(this.field)}this.groups4d.put(t,a)}e.vzome.core.math.symmetry.WythoffConstruction.constructPolytope(a,n,r,i,a,o)}},{key:"getLegacyCommand",value:function(e){switch(e){case"pointsymm":return this.pointsymm;case"mirrorsymm":return this.mirrorsymm;case"translate":return this.translate;case"centroid":return this.centroid;case"hideball":return this.hideball;case"hide":return this.hide;case"panel":return this.panel;case"midpoint":return this.midpoint;case"octasymm":return this.getDefaultSymmetryPerspective().getLegacyCommand(e);default:return null}}}]),t}();t.DefaultFieldApplication=n,n.__class="com.vzome.core.kinds.DefaultFieldApplication",n.__interfaces=["com.vzome.core.math.symmetry.Symmetries4D","com.vzome.core.editor.FieldApplication"]})((n=t.core||(t.core={})).kinds||(n.kinds={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(){function t(e){_classCallCheck(this,t),this.mColors=new java.util.TreeMap,this.mListeners=new java.util.ArrayList,void 0===this.properties&&(this.properties=null),this.mNextNewColor=3221,this.STEP=73,this.properties=e}return _createClass(t,[{key:"addColor",value:function(e,t){this.mColors.put(e,t);for(var n=this.mListeners.iterator();n.hasNext();)n.next().colorAdded(e,t)}},{key:"setColor",value:function(e,t){this.mColors.put(e,t);for(var n=this.mListeners.iterator();n.hasNext();)n.next().colorChanged(e,t)}},{key:"addListener",value:function(e){this.mListeners.add(e)}},{key:"removeListener",value:function(e){this.mListeners.remove(e)}},{key:"getVectorPref",value:function(e){var n,r=t.NO_VECTOR_$LI$(),i=this.properties.getProperty(e);if(null==i||((n=i)&&n.equals?n.equals(""):""===n))return r;r=function(e){if(void 0!=e.clone)return e.clone();var t=Object.create(e);for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(r);for(var o=new java.util.StringTokenizer(i,", "),a=0;o.hasMoreTokens();)r[a++]=javaemul.internal.FloatHelper.parseFloat(o.nextToken());return r}},{key:"getColorPref",value:function(n){var r=this.getVectorPref("color.percent."+n);if(r!==t.NO_VECTOR_$LI$())return new e.vzome.core.construction.Color(Math.round(Math.fround(Math.fround(255*r[0])/100)),Math.round(Math.fround(Math.fround(255*r[1])/100)),Math.round(Math.fround(Math.fround(255*r[2])/100)));var i=this.properties.getProperty("color."+n);return t.parseColor(i)}},{key:"getColor",value:function(n){var r,i,o=this.mColors.get(n);if(null==o){if(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.substr(n,t.length)===t}(n,t.DIRECTION_$LI$())){var a=n.substring(t.DIRECTION_$LI$().length);o=this.getColorPref(a)}else if(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.substr(n,t.length)===t}(n,t.PLANE_$LI$())){var s=n.substring(t.PLANE_$LI$().length);o=(o=this.getColorPref(s)).getPastel()}else if(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.substr(n,t.length)===t}(n,t.RGB_ORBIT)||function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.substr(n,t.length)===t}(n,t.RGB_CUSTOM)){var l=new java.util.StringTokenizer(n);l.nextToken();var u=javaemul.internal.IntegerHelper.parseInt(l.nextToken()),c=javaemul.internal.IntegerHelper.parseInt(l.nextToken()),f=javaemul.internal.IntegerHelper.parseInt(l.nextToken());o=new e.vzome.core.construction.Color(u,c,f)}else r=n,i=t.CONNECTOR_$LI$(),(r&&r.equals?r.equals(i):r===i)?o=this.getColorPref("white"):function(e,t){return e&&e.equals?e.equals(t):e===t}(n,t.HIGHLIGHT_$LI$())?o=this.getColorPref("highlight"):function(e,t){return e&&e.equals?e.equals(t):e===t}(n,t.HIGHLIGHT_MAC_$LI$())?o=this.getColorPref("highlight.mac"):function(e,t){return e&&e.equals?e.equals(t):e===t}(n,t.PANEL_$LI$())?o=this.getColorPref("panels"):function(e,t){return e&&e.equals?e.equals(t):e===t}(n,t.BACKGROUND_$LI$())&&(o=this.getColorPref("background"));if(null==o){this.mNextNewColor=(this.mNextNewColor+this.STEP)%4096;var h=this.mNextNewColor,d=135+(h%16<<3),p=135+((h>>=4)%16<<3),m=135+((h>>=4)%16<<3);h>>=4,o=new e.vzome.core.construction.Color(d,p,m)}this.addColor(n,o)}return o}},{key:"iterator",value:function(){return this.mColors.keySet().iterator()}},{key:"getColorNames",value:function(){return this.iterator()}},{key:"reset",value:function(){}}],[{key:"BACKGROUND_$LI$",value:function(){return null==t.BACKGROUND&&(t.BACKGROUND=t.PREFIX+"background"),t.BACKGROUND}},{key:"PANEL_$LI$",value:function(){return null==t.PANEL&&(t.PANEL=t.PREFIX+"panel"),t.PANEL}},{key:"HIGHLIGHT_$LI$",value:function(){return null==t.HIGHLIGHT&&(t.HIGHLIGHT=t.PREFIX+"highlight"),t.HIGHLIGHT}},{key:"HIGHLIGHT_MAC_$LI$",value:function(){return null==t.HIGHLIGHT_MAC&&(t.HIGHLIGHT_MAC=t.HIGHLIGHT_$LI$()+".mac"),t.HIGHLIGHT_MAC}},{key:"CONNECTOR_$LI$",value:function(){return null==t.CONNECTOR&&(t.CONNECTOR=t.PREFIX+"connector"),t.CONNECTOR}},{key:"DIRECTION_$LI$",value:function(){return null==t.DIRECTION&&(t.DIRECTION=t.PREFIX+"direction."),t.DIRECTION}},{key:"PLANE_$LI$",value:function(){return null==t.PLANE&&(t.PLANE=t.DIRECTION_$LI$()+"plane."),t.PLANE}},{key:"NO_VECTOR_$LI$",value:function(){return null==t.NO_VECTOR&&(t.NO_VECTOR=[0,0,0]),t.NO_VECTOR}},{key:"parseColor",value:function(t){if(null==t||((n=t)&&n.equals?n.equals(""):""===n))return e.vzome.core.construction.Color.WHITE_$LI$();for(var n,r=new java.util.StringTokenizer(t,", "),i=[0,0,0],o=0;r.hasMoreTokens();)i[o++]=javaemul.internal.IntegerHelper.parseInt(r.nextToken());return new e.vzome.core.construction.Color(i[0],i[1],i[2])}},{key:"getColorName",value:function(e){return t.RGB_ORBIT+" "+e.getRed()+" "+e.getGreen()+" "+e.getBlue()}}]),t}();n.RGB_CUSTOM="rgb.custom",n.RGB_ORBIT="rgb.orbit",n.PREFIX="",t.Colors=n,n.__class="com.vzome.core.render.Colors",n.__interfaces=["java.lang.Iterable"]})((n=t.core||(t.core={})).render||(n.render={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(){function t(e,n){_classCallCheck(this,t),void 0===this.mManifestation&&(this.mManifestation=null),void 0===this.mShape&&(this.mShape=null),this.color=null,void 0===this.mOrientation&&(this.mOrientation=null),this.mGlow=0,this.mTransparency=0,void 0===this.mGraphicsObject&&(this.mGraphicsObject=null),this.mPickable=!0,this.isOffset=!1,void 0===this.location&&(this.location=null),void 0===this.fixedLocation&&(this.fixedLocation=null),this.strutZone=-1,this.strutLength=null,this.strutOrbit=null,void 0===this.strutSense&&(this.strutSense=0),this.guid=java.util.UUID.randomUUID(),void 0===this.orbitSource&&(this.orbitSource=null),this.mManifestation=e,this.orbitSource=n,null!=e&&(this.location=e.getLocation()),this.fixedLocation=this.location,this.mOrientation=null}return _createClass(t,[{key:"toString",value:function(){return this.mManifestation.toString()}},{key:"getGuid",value:function(){return this.guid}},{key:"setGraphicsObject",value:function(e){this.mGraphicsObject=e}},{key:"getGraphicsObject",value:function(){return this.mGraphicsObject}},{key:"setGlow",value:function(e){this.mGlow=e}},{key:"getGlow",value:function(){return this.mGlow}},{key:"setTransparency",value:function(e){this.mTransparency=e}},{key:"getTransparency",value:function(){return this.mTransparency}},{key:"getShapeId",value:function(){return this.mShape.getGuid()}},{key:"getShape",value:function(){return this.mShape}},{key:"setPickable",value:function(e){this.mPickable=e}},{key:"isPickable",value:function(){return this.mPickable}},{key:"getManifestation",value:function(){return this.mManifestation}},{key:"getColor",value:function(){return this.color}},{key:"getColorWeb",value:function(){return this.color.toWebString()}},{key:"setColor",value:function(e){this.color=e}},{key:"setOrientation",value:function(e){this.mOrientation=e}},{key:"getOrientation",value:function(){return this.mOrientation}},{key:"getLocation",value:function(){return this.getEmbedding().embedInR3(this.location)}},{key:"getLocationAV",value:function(){return this.location}},{key:"getEmbedding",value:function(){return this.orbitSource.getSymmetry()}},{key:"hashCode",value:function(){return(e=this.guid).hashCode?e.hashCode():e.toString().split("").reduce(function(e,t){return(e<<5)-e+t.charCodeAt(0)|0},0);var e}},{key:"equals",value:function(e){if(this===e)return!0;if(null==e)return!1;if(this.constructor!==e.constructor)return!1;var t=e;if(null==this.fixedLocation){if(null!=t.fixedLocation)return!1}else if(!this.fixedLocation.equals(t.fixedLocation))return!1;if(this.isOffset!==t.isOffset)return!1;if(null==this.mOrientation){if(null!=t.mOrientation)return!1}else if(!this.mOrientation.equals(t.mOrientation))return!1;if(null==this.mShape){if(null!=t.mShape)return!1}else if(!this.mShape.equals(t.mShape))return!1;return this.strutSense===t.strutSense}},{key:"copy",value:function(){var e=new t(null,this.orbitSource);return e.location=this.location,e.fixedLocation=this.fixedLocation,e.color=this.color,e.mGlow=this.mGlow,e.mOrientation=this.mOrientation,e.mShape=this.mShape,e.mTransparency=this.mTransparency,e.strutLength=this.strutLength,e.strutZone=this.strutZone,e}},{key:"setStrut",value:function(e,t,n,r){this.strutOrbit=e,this.strutZone=t,this.strutSense=n,this.strutLength=r}},{key:"getStrutZone",value:function(){return this.strutZone}},{key:"getStrutSense",value:function(){return this.strutSense}},{key:"getStrutLength",value:function(){return this.strutLength}},{key:"getStrutOrbit",value:function(){return this.strutOrbit}},{key:"offsetLocation",value:function(){if(null!=this.mManifestation){var e=this.mManifestation;this.location=e.getEnd(),this.isOffset=!0}}},{key:"resetLocation",value:function(){null!=this.mManifestation&&(this.location=this.mManifestation.getLocation(),this.isOffset=!1)}},{key:"getSymmetryShapes",value:function(){return this.orbitSource.getName()+":"+this.orbitSource.getShapes().getName()}},{key:"resetAttributes",value:function(e,t){if(null!=this.mManifestation&&(null!=this.mManifestation.__interfaces&&this.mManifestation.__interfaces.indexOf("com.vzome.core.model.Panel")>=0||null!=this.mManifestation.constructor&&null!=this.mManifestation.constructor.__interfaces&&this.mManifestation.constructor.__interfaces.indexOf("com.vzome.core.model.Panel")>=0))this.resetPanelAttributes(e,t);else{if(null==this.orbitSource.getShapes())return;if(null!=this.mManifestation&&(null!=this.mManifestation.__interfaces&&this.mManifestation.__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=this.mManifestation.constructor&&null!=this.mManifestation.constructor.__interfaces&&this.mManifestation.constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0))this.resetConnectorAttributes(this.mManifestation);else{if(null==this.mManifestation||!(null!=this.mManifestation.__interfaces&&this.mManifestation.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=this.mManifestation.constructor&&null!=this.mManifestation.constructor.__interfaces&&this.mManifestation.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0))throw new java.lang.UnsupportedOperationException("only strut, ball, and panel shapes currently supported");var n=this.mManifestation;this.resetStrutAttributes(n)}}}},{key:"resetPanelAttributes",value:function(n,r){var i=this.mManifestation,o=t.makePanelPolyhedron(i,n);if(null!=o){var a=i.getNormal$();if(!a.isOrigin()&&(this.mShape=o,r)){this.setOrientation(this.orbitSource.getSymmetry().getField().identityMatrix(3));try{var s=this.orbitSource.getAxis(a);if(null==s)return void this.setColor(e.vzome.core.construction.Color.WHITE_$LI$());i.setZoneVector(s.normal());var l=s.getDirection(),u=this.mManifestation.getColor();null==u&&null!=(u=this.orbitSource.getColor(l))&&(u=u.getPastel()),this.setColor(u)}catch(c){t.logger_$LI$().isLoggable(java.util.logging.Level.WARNING)&&t.logger_$LI$().warning("Unable to set color for panel, normal = "+a.toString())}}}}},{key:"resetStrutAttributes",value:function(n){var r=this.orbitSource.getShapes(),i=n.getOffset();if(!i.isOrigin()){var o=this.orbitSource.getAxis(i);if(null!=o){n.setZoneVector(o.normal());var a=o.getDirection(),s=o.getLength(i),l=r.getStrutShape(a,s);this.mShape=l;var u=o.getOrientation(),c=r.getSymmetry().getMatrix(u),f=this.orbitSource.getSymmetry().getPrincipalReflection();null!=f?(t.logger_$LI$().isLoggable(java.util.logging.Level.FINE)&&t.logger_$LI$().fine("rendering "+i+" as "+o),o.getSense()===e.vzome.core.math.symmetry.Axis.MINUS&&(t.logger_$LI$().isLoggable(java.util.logging.Level.FINER)&&t.logger_$LI$().finer("mirroring orientation "+u),this.mShape=l.getEvilTwin(f)),o.isOutbound()?this.resetLocation():this.offsetLocation()):o.getSense()===e.vzome.core.math.symmetry.Axis.MINUS?this.offsetLocation():this.resetLocation(),this.setStrut(a,u,o.getSense(),s),this.setOrientation(c);var h=this.getManifestation().getColor();null==h&&(h=r.getColor(a)),null==h&&(h=this.orbitSource.getColor(a)),this.setColor(h)}}}},{key:"resetConnectorAttributes",value:function(e){var t=this.orbitSource.getShapes();this.mShape=t.getConnectorShape();var n=this.getManifestation().getColor();null==n&&(n=t.getColor(null)),null==n&&(n=this.orbitSource.getColor(null)),this.setColor(n),this.setOrientation(this.orbitSource.getSymmetry().getField().identityMatrix(3))}},{key:"setOrbitSource",value:function(e){this.orbitSource=e}},{key:"getOrbitSource",value:function(){return this.orbitSource}}],[{key:"logger_$LI$",value:function(){return null==t.logger&&(t.logger=java.util.logging.Logger.getLogger("com.vzome.core.render.RenderedManifestation")),t.logger}},{key:"makePanelPolyhedron",value:function(t,n){var r=new e.vzome.core.math.Polyhedron(t.getZoneVector().getField());r.setPanel(!0);for(var i=0,o=t.iterator();o.hasNext();){var a=o.next();i++,r.addVertex(a)}if(r.getVertexList().size()<i)return null;for(var s=r.newFace(),l=r.newFace(),u=0;u<i;u++){var c=u;s.add(c),l.add(0,c)}return r.addFace(s),n||r.addFace(l),r}}]),t}();t.RenderedManifestation=n,n.__class="com.vzome.core.render.RenderedManifestation",n.__interfaces=["com.vzome.core.model.RenderedObject"]})((n=t.core||(t.core={})).render||(n.render={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(){function t(e,n,r,i){_classCallCheck(this,t),this.strutShapesByLengthAndOrbit=new java.util.HashMap,this.strutGeometriesByOrbit=new java.util.HashMap,void 0===this.mPkgName&&(this.mPkgName=null),void 0===this.mName&&(this.mName=null),void 0===this.alias&&(this.alias=null),void 0===this.mSymmetry&&(this.mSymmetry=null),void 0===this.mConnectorGeometry&&(this.mConnectorGeometry=null),this.mPkgName=e,this.mName=n,this.alias=r,this.mConnectorGeometry=null,this.mSymmetry=i}return _createClass(t,[{key:"getColor",value:function(e){return null}},{key:"hasColors",value:function(){return!1}},{key:"createStrutGeometry",value:function(t){return new e.vzome.core.parts.FastDefaultStrutGeometry(t)}},{key:"getStrutGeometry",value:function(e){var t=this.strutGeometriesByOrbit.get(e);return null==t&&(t=this.createStrutGeometry(e),this.strutGeometriesByOrbit.put(e,t)),t}},{key:"getStrutGeometries",value:function(){var e=this;return java.util.Arrays.stream(this.mSymmetry.getDirectionNames()).collect(java.util.stream.Collectors.toMap(function(e){return e},function(t){return e.getStrutGeometry(e.mSymmetry.getDirection(t))}))}},{key:"getName",value:function(){return this.mName}},{key:"getAlias",value:function(){return this.alias}},{key:"getPackage",value:function(){return this.mPkgName}},{key:"getConnectorShape",value:function(){return null==this.mConnectorGeometry&&(this.mConnectorGeometry=this.buildConnectorShape(this.mPkgName),this.mConnectorGeometry.setName("ball")),this.mConnectorGeometry}},{key:"getStrutShape",value:function(e,t){var n=this.strutShapesByLengthAndOrbit.get(e);null==n&&(n=new java.util.HashMap,this.strutShapesByLengthAndOrbit.put(e,n));var r=n.get(t);return null==r&&(r=this.getStrutGeometry(e).getStrutPolyhedron(t),n.put(t,r),null!=r&&(r.setName(e.getName()+n.size()),r.setOrbit(e),r.setLength(e.getLengthInUnits(t)))),r}},{key:"getSymmetry",value:function(){return this.mSymmetry}}]),t}();t.AbstractShapes=n,n.__class="com.vzome.core.viewing.AbstractShapes",n.__interfaces=["com.vzome.core.editor.api.Shapes"]})((n=t.core||(t.core={})).viewing||(n.viewing={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(){function t(n,r,i,o,a,s){var l=this;if(_classCallCheck(this,t),(null!=n&&(null!=n.__interfaces&&n.__interfaces.indexOf("java.util.List")>=0||null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("java.util.List")>=0)||null===n)&&(null!=r&&(null!=r.__interfaces&&r.__interfaces.indexOf("java.util.List")>=0||null!=r.constructor&&null!=r.constructor.__interfaces&&r.constructor.__interfaces.indexOf("java.util.List")>=0)||null===r)&&(null!=i&&i instanceof e.vzome.core.algebra.AlgebraicVector||null===i)&&(null!=o&&(null!=o.__interfaces&&o.__interfaces.indexOf("java.util.Set")>=0||null!=o.constructor&&null!=o.constructor.__interfaces&&o.constructor.__interfaces.indexOf("java.util.Set")>=0)||null===o)&&(null!=a&&(null!=a.__interfaces&&a.__interfaces.indexOf("java.util.Set")>=0||null!=a.constructor&&null!=a.constructor.__interfaces&&a.constructor.__interfaces.indexOf("java.util.Set")>=0)||null===a)&&(null!=s&&(null!=s.__interfaces&&s.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicField")>=0||null!=s.constructor&&null!=s.constructor.__interfaces&&s.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicField")>=0)||null===s))void 0===this.prototypeVertices&&(this.prototypeVertices=null),void 0===this.prototypeFaces&&(this.prototypeFaces=null),void 0===this.field&&(this.field=null),void 0===this.prototypeVector&&(this.prototypeVector=null),void 0===this.fullScaleVertices&&(this.fullScaleVertices=null),void 0===this.halfScaleVertices&&(this.halfScaleVertices=null),void 0===this.prototypeVertices&&(this.prototypeVertices=null),void 0===this.prototypeFaces&&(this.prototypeFaces=null),void 0===this.field&&(this.field=null),void 0===this.prototypeVector&&(this.prototypeVector=null),void 0===this.fullScaleVertices&&(this.fullScaleVertices=null),void 0===this.halfScaleVertices&&(this.halfScaleVertices=null),l.prototypeVertices=n,l.prototypeFaces=r,l.prototypeVector=i,l.fullScaleVertices=o,l.halfScaleVertices=a,l.field=s;else{if(!((null!=n&&(null!=n.__interfaces&&n.__interfaces.indexOf("java.util.List")>=0||null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("java.util.List")>=0)||null===n)&&(null!=r&&(null!=r.__interfaces&&r.__interfaces.indexOf("java.util.List")>=0||null!=r.constructor&&null!=r.constructor.__interfaces&&r.constructor.__interfaces.indexOf("java.util.List")>=0)||null===r)&&(null!=i&&i instanceof e.vzome.core.algebra.AlgebraicVector||null===i)&&(null!=o&&(null!=o.__interfaces&&o.__interfaces.indexOf("java.util.Set")>=0||null!=o.constructor&&null!=o.constructor.__interfaces&&o.constructor.__interfaces.indexOf("java.util.Set")>=0)||null===o)&&(null!=a&&(null!=a.__interfaces&&a.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicField")>=0||null!=a.constructor&&null!=a.constructor.__interfaces&&a.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicField")>=0)||null===a)&&void 0===s))throw new Error("invalid overload");var u=arguments[4];void 0===this.prototypeVertices&&(this.prototypeVertices=null),void 0===this.prototypeFaces&&(this.prototypeFaces=null),void 0===this.field&&(this.field=null),void 0===this.prototypeVector&&(this.prototypeVector=null),void 0===this.fullScaleVertices&&(this.fullScaleVertices=null),void 0===this.halfScaleVertices&&(this.halfScaleVertices=null),void 0===this.prototypeVertices&&(this.prototypeVertices=null),void 0===this.prototypeFaces&&(this.prototypeFaces=null),void 0===this.field&&(this.field=null),void 0===this.prototypeVector&&(this.prototypeVector=null),void 0===this.fullScaleVertices&&(this.fullScaleVertices=null),void 0===this.halfScaleVertices&&(this.halfScaleVertices=null),l.prototypeVertices=n,l.prototypeFaces=r,l.prototypeVector=i,l.fullScaleVertices=o,l.halfScaleVertices=null,l.field=u}}return _createClass(t,[{key:"getStrutPolyhedron",value:function(n){var r,i,o=this.prototypeVector.scale(n),a=o.scale(this.field.createRational$long$long(1,2));r=this.field.getName(),i="snubDodec",(r&&r.equals?r.equals(i):r===i)&&t.LOGGER_$LI$().isLoggable(java.util.logging.Level.FINE)&&(t.LOGGER_$LI$().fine("proto length = "+this.prototypeVector.toRealVector().length()),t.LOGGER_$LI$().fine("strut length = "+n.evaluate()),t.LOGGER_$LI$().fine("tip length = "+o.toRealVector().length()));for(var s=new e.vzome.core.math.Polyhedron(this.field),l=0;l<this.prototypeVertices.size();l++){var u=this.prototypeVertices.get(l);this.fullScaleVertices.contains(l)?u=u.plus(o):null!=this.halfScaleVertices&&this.halfScaleVertices.contains(l)&&(u=u.plus(a)),s.addVertex(u)}for(var c=this.prototypeFaces.iterator();c.hasNext();){var f=c.next(),h=s.newFace();h.addAll(f),s.addFace(h)}return s}}],[{key:"LOGGER_$LI$",value:function(){return null==t.LOGGER&&(t.LOGGER=java.util.logging.Logger.getLogger((new Error).getStackTrace()[0].getClassName())),t.LOGGER}}]),t}();t.ExportedVEFStrutGeometry=n,n.__class="com.vzome.core.viewing.ExportedVEFStrutGeometry",n.__interfaces=["com.vzome.core.parts.StrutGeometry"]})((n=t.core||(t.core={})).viewing||(n.viewing={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(){function t(n){_classCallCheck(this,t),void 0===this.field&&(this.field=null),void 0===this.basis&&(this.basis=null),this.field=n;var r=n.one(),i=r.negate();this.basis=[null,null,null,null],this.basis[0]=new e.vzome.core.algebra.AlgebraicVector(r,r,r),this.basis[1]=new e.vzome.core.algebra.AlgebraicVector(r,i,i),this.basis[2]=new e.vzome.core.algebra.AlgebraicVector(i,r,i),this.basis[3]=new e.vzome.core.algebra.AlgebraicVector(i,i,r)}return _createClass(t,[{key:"projectImage",value:function(e,t){for(var n=this.field.origin(this.basis[0].dimension()),r=t?0:this.basis.length-1,i=0;i<this.basis.length;i++){var o=this.basis[i],a=e.getComponent(r);n=n.plus(o.scale(a)),r=(r+1)%this.basis.length}return n}},{key:"getXmlAttributes",value:function(e){}},{key:"setXmlAttributes",value:function(e){}},{key:"getProjectionName",value:function(){return"Tetrahedral"}}]),t}();t.TetrahedralProjection=n,n.__class="com.vzome.core.math.TetrahedralProjection",n.__interfaces=["com.vzome.core.math.Projection"]})((n=t.core||(t.core={})).math||(n.math={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(){function e(t){_classCallCheck(this,e),this.numVertices=0,this.m_vertices=new java.util.HashMap,this.m_vertexList=new java.util.ArrayList,this.m_faces=new java.util.HashSet,void 0===this.field&&(this.field=null),void 0===this.evilTwin&&(this.evilTwin=null),this.isEvil=!1,this.__isPanel=!1,this.guid=java.util.UUID.randomUUID(),void 0===this.name&&(this.name=null),void 0===this.orbit&&(this.orbit=null),void 0===this.length&&(this.length=null),this.field=t}return _createClass(e,[{key:"getEvilTwin",value:function(e){if(null==this.evilTwin){try{this.evilTwin=function(e){if(void 0!=e.clone)return e.clone();var t=Object.create(e);for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this)}catch(o){console.error(o.message,o)}this.evilTwin.isEvil=!0,this.evilTwin.m_vertexList=new java.util.ArrayList;for(var t=this.m_vertexList.iterator();t.hasNext();){var n=t.next();this.evilTwin.addVertex(e.timesColumn(n))}this.evilTwin.m_faces=new java.util.HashSet;for(var r=this.m_faces.iterator();r.hasNext();){var i=function(e){if(void 0!=e.clone)return e.clone();var t=Object.create(e);for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(r.next());java.util.Collections.reverse(i),this.evilTwin.addFace(i)}}return this.evilTwin}},{key:"getField",value:function(){return this.field}},{key:"setName",value:function(e){this.name=e}},{key:"getName",value:function(){return this.name}},{key:"addVertex",value:function(e){this.m_vertexList.add(e)}},{key:"addIndexedVertex",value:function(e){var t=this.m_vertices.get(e);return null==t&&(this.m_vertexList.add(e),this.m_vertices.put(e,t=this.numVertices++)),t}},{key:"addFace",value:function(e){e.canonicallyOrder(),this.m_faces.contains(e)||this.m_faces.add(e)}},{key:"newFace",value:function(){return new e.Face(this)}},{key:"hashCode",value:function(){var e,t=1;return t=31*(t=31*(t=31*(t=31*(t=31*(t=31*t+(this.isEvil?1231:1237))+(null==this.length?0:(e=this.length).hashCode?e.hashCode():e.toString().split("").reduce(function(e,t){return(e<<5)-e+t.charCodeAt(0)|0},0)))+(null==this.m_faces?0:function(e){return e.hashCode?e.hashCode():e.toString().split("").reduce(function(e,t){return(e<<5)-e+t.charCodeAt(0)|0},0)}(this.m_faces)))+(null==this.m_vertexList?0:function(e){return e.hashCode?e.hashCode():e.toString().split("").reduce(function(e,t){return(e<<5)-e+t.charCodeAt(0)|0},0)}(this.m_vertexList)))+this.numVertices)+(null==this.orbit?0:function(e){return e.hashCode?e.hashCode():e.toString().split("").reduce(function(e,t){return(e<<5)-e+t.charCodeAt(0)|0},0)}(this.orbit))}},{key:"equals",value:function(e){if(this===e)return!0;if(null==e)return!1;if(this.constructor!==e.constructor)return!1;var t,n,r=e;if(this.isEvil!==r.isEvil)return!1;if(null==this.length){if(null!=r.length)return!1}else if(t=this.length,n=r.length,!(t&&t.equals?t.equals(n):t===n))return!1;if(null==this.m_faces){if(null!=r.m_faces)return!1}else if(!function(e,t){return e&&e.equals?e.equals(t):e===t}(this.m_faces,r.m_faces))return!1;if(null==this.m_vertexList){if(null!=r.m_vertexList)return!1}else if(!function(e,t){return e&&e.equals?e.equals(t):e===t}(this.m_vertexList,r.m_vertexList))return!1;if(this.numVertices!==r.numVertices)return!1;if(null==this.orbit){if(null!=r.orbit)return!1}else if(!this.orbit.equals(r.orbit))return!1;return!0}},{key:"setOrbit",value:function(e){this.orbit=e}},{key:"setLength",value:function(e){this.length=e}},{key:"getOrbit",value:function(){return this.orbit}},{key:"getLength",value:function(){return this.length}},{key:"isPanel",value:function(){return this.__isPanel}},{key:"setPanel",value:function(e){this.__isPanel=e}},{key:"getVertexList",value:function(){return this.m_vertexList}},{key:"getFaceSet",value:function(){return this.m_faces}},{key:"getGuid",value:function(){return this.guid}},{key:"getTriangleFaces",value:function(){for(var e=new java.util.ArrayList,t=this.m_faces.iterator();t.hasNext();){var n=t.next();e.addAll(n.getTriangles())}return e}},{key:"getTriangles",value:function(){for(var e=0,t=new java.util.ArrayList,n=this.m_faces.iterator();n.hasNext();)for(var r=n.next().getTriangles().iterator();r.hasNext();)r.next(),t.add(e++),t.add(e++),t.add(e++);return t}},{key:"getTriangleVertices",value:function(){for(var e=new java.util.ArrayList,t=this.m_faces.iterator();t.hasNext();)for(var n=t.next().getTriangles().iterator();n.hasNext();)for(var r=n.next(),i=0;i<r.vertices.length;i++){var o=r.vertices[i],a=this.m_vertexList.get(o);e.add(a.toRealVector())}return e}}],[{key:"logger_$LI$",value:function(){return null==e.logger&&(e.logger=java.util.logging.Logger.getLogger("com.vzome.core.math.Polyhedron")),e.logger}}]),e}();t.Polyhedron=n,n.__class="com.vzome.core.math.Polyhedron",n.__interfaces=["java.lang.Cloneable"],function(t){var n=function(t){_inherits(r,java.util.ArrayList);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),(t=n.call(this)).__parent=e,t}return _createClass(r,[{key:"getVertex",value:function(t){if(t>=this.size()){var n="index larger than Face size";throw e.vzome.core.math.Polyhedron.logger_$LI$().severe(n),new java.lang.IllegalStateException(n)}return this.get(t)}},{key:"getTriangles",value:function(){for(var t=this.size(),n=new java.util.ArrayList,r=-1,i=-1,o=0;o<t;o++){var a=this.get(o);if(-1===r)r=a;else if(-1===i)i=a;else{var s=new e.vzome.core.math.Polyhedron.Face.Triangle(this,r,i,a);n.add(s),i=a}}return n}},{key:"getNormal",value:function(t){return e.vzome.core.algebra.AlgebraicVectors.getNormal$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_algebra_AlgebraicVector(t.get(this.getVertex(0)),t.get(this.getVertex(1)),t.get(this.getVertex(2)))}},{key:"canonicallyOrder",value:function(){for(var e=-1,t=javaemul.internal.IntegerHelper.MAX_VALUE,n=this.size(),r=0;r<n;r++)this.getVertex(r)<=t&&(t=this.getVertex(r),e=r);for(var i=function(e){for(var t=[];e-- >0;)t.push(null);return t}(n),o=0;o<n;o++)i[o]=this.get((o+e)%n);for(var a=0;a<n;a++)this.set(a,i[a])}},{key:"hashCode",value:function(){for(var e=0,t=0;t<this.size();t++)e+=this.getVertex(t);return e}},{key:"equals",value:function(t){if(null==t)return!1;if(t===this)return!0;if(!(null!=t&&t instanceof e.vzome.core.math.Polyhedron.Face))return!1;var n,r,i=t;if(i.size()!==this.size())return!1;for(var o=0;o<this.size();o++)if(n=this.get(o),r=i.get(o),!(n&&n.equals?n.equals(r):n===r))return!1;return!0}}]),r}();t.Face=n,n.__class="com.vzome.core.math.Polyhedron.Face",n.__interfaces=["java.util.RandomAccess","java.lang.Cloneable","java.util.List","java.util.Collection","java.lang.Iterable","java.io.Serializable"],function(e){var t=function e(t,n,r,i){_classCallCheck(this,e),this.__parent=t,this.vertices=[0,0,0],this.vertices[0]=n,this.vertices[1]=r,this.vertices[2]=i};e.Triangle=t,t.__class="com.vzome.core.math.Polyhedron.Face.Triangle"}(n=t.Face||(t.Face={}));var r=function e(){_classCallCheck(this,e)};t.Views=r,r.__class="com.vzome.core.math.Polyhedron.Views"}(n=t.Polyhedron||(t.Polyhedron={}))})((n=t.core||(t.core={})).math||(n.math={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){var t;(function(e){var t;t=e.math||(e.math={}),function(e){var n=function e(t,n){_classCallCheck(this,e),void 0===this.pnt&&(this.pnt=null),void 0===this.index&&(this.index=0),void 0===this.prev&&(this.prev=null),void 0===this.next&&(this.next=null),void 0===this.face&&(this.face=null),this.pnt=t,this.index=n};(t.convexhull||(t.convexhull={})).Vertex=n,n.__class="com.vzome.core.math.convexhull.Vertex"}()})((t=e.vzome||(e.vzome={})).core||(t.core={}))}(com||(com={})),function(e){var t;(function(t){var n;!function(t){var n=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"buildHull",value:function(n){n.size()<3&&t.fail("At least three input points are required for a 2d convex hull.\n\n"+n.size()+" specified.");var r=e.vzome.core.algebra.AlgebraicVectors.getNormal$java_util_Collection(n);r.isOrigin()&&t.fail("Cannot generate a 2d convex hull from collinear points"),e.vzome.core.algebra.AlgebraicVectors.areOrthogonalTo(r,n)||t.fail("Cannot generate a 2d convex hull from non-coplanar points");for(var i=new java.util.ArrayList,o=t.map3dToXY(n,r,i),a=t.getHull2d(i),s=function(e){for(var t=[];e-- >0;)t.push(null);return t}(a.size()),l=0,u=a.iterator();u.hasNext();){var c=u.next(),f=o.get(c.toString(e.vzome.core.algebra.AlgebraicField.VEF_FORMAT));s[l++]=f}return s}},{key:"map3dToXY",value:function(t,n,r){for(var i=e.vzome.core.algebra.AlgebraicVectors.getMaxComponentIndex(n),o=(i+1)%3,a=(i+2)%3,s=new java.util.HashMap,l=t.iterator();l.hasNext();){var u=l.next(),c=new e.vzome.core.algebra.AlgebraicVector(u.getComponent(o),u.getComponent(a));r.add(c),s.put(c.toString(e.vzome.core.algebra.AlgebraicField.VEF_FORMAT),u)}return s}},{key:"getHull2d",value:function(e){var n=t.getSortedPoints(e),r=new java.util.ArrayDeque;r.push(n.get(0)),r.push(n.get(1));for(var i=2;i<n.size();i++){var o=n.get(i),a=r.pop(),s=r.peek(),l=t.getWindingDirection(s,a,o);switch(l){case 1:r.push(a),r.push(o);break;case-1:i--;break;case 0:r.push(o);break;default:throw new java.lang.IllegalStateException("Illegal turn: "+l)}}return r}},{key:"getSortedPoints",value:function(n){var r=t.getLowest2dPoint(n),i=new java.util.ArrayList(n);return java.util.Collections.sort(i,function(n,i){if(n.equals(i))return 0;if(n.equals(r))return-1;if(i.equals(r))return 1;var o=t.getWindingDirection(r,n,i);if(0!==o)return-o;var a=e.vzome.core.algebra.AlgebraicVectors.getMagnitudeSquared(n.minus(r)),s=e.vzome.core.algebra.AlgebraicVectors.getMagnitudeSquared(i.minus(r));return a.compareTo(s)}),i}},{key:"getLowest2dPoint",value:function(t){for(var n=null,r=t.iterator();r.hasNext();){var i=r.next();if(null==n)n=i;else switch(i.getComponent(e.vzome.core.algebra.AlgebraicVector.Y).minus$com_vzome_core_algebra_AlgebraicNumber(n.getComponent(e.vzome.core.algebra.AlgebraicVector.Y)).signum()){case-1:n=i;break;case 0:i.getComponent(e.vzome.core.algebra.AlgebraicVector.X).lessThan(n.getComponent(e.vzome.core.algebra.AlgebraicVector.X))&&(n=i)}}return n}},{key:"getWindingDirection",value:function(t,n,r){var i=n.minus(t),o=r.minus(t);return new e.vzome.core.algebra.AlgebraicMatrix(i,o).determinant().signum()}},{key:"fail",value:function(t){throw new e.vzome.core.commands.Command.Failure(t)}}]),t}();t.GrahamScan2D=n,n.__class="com.vzome.core.math.convexhull.GrahamScan2D"}((n=t.math||(t.math={})).convexhull||(n.convexhull={}))})((t=e.vzome||(e.vzome={})).core||(t.core={}))}(com||(com={})),function(e){var t;(function(t){var n;!function(t){var n=function(){function t(){_classCallCheck(this,t),void 0===this.he0&&(this.he0=null),void 0===this.normal&&(this.normal=null),void 0===this.area&&(this.area=0),void 0===this.centroid&&(this.centroid=null),void 0===this.planeOffset&&(this.planeOffset=null),void 0===this.index&&(this.index=0),void 0===this.numVerts&&(this.numVerts=0),void 0===this.next&&(this.next=null),this.mark=t.VISIBLE,void 0===this.outside&&(this.outside=null),this.mark=t.VISIBLE}return _createClass(t,[{key:"computeCentroid",value:function(){var t=new java.util.HashSet,n=this.he0;do{t.add(n.head().pnt),n=n.next}while(n!==this.he0);return this.centroid=e.vzome.core.algebra.AlgebraicVectors.calculateCentroid(t),this.centroid}},{key:"computeNormal",value:function(){var e=this.he0.next,t=e.next,n=this.he0.head().pnt,r=e.head().pnt,i=r.minus(n);for(this.normal=n.getField().origin(3),this.numVerts=2;t!==this.he0;){var o=i;i=(r=t.head().pnt).minus(n),this.normal=this.normal.plus(o.cross(i)),e=t,t=t.next,this.numVerts++}return this.normal}},{key:"computeNormalAndCentroid$",value:function(){this.normal=this.computeNormal(),this.centroid=this.computeCentroid(),this.planeOffset=this.normal.dot(this.centroid);var e=0,t=this.he0;do{e++,t=t.next}while(t!==this.he0);e!==this.numVerts&&this.fail("face "+this.getVertexString()+" numVerts="+this.numVerts+" should be "+e)}},{key:"computeNormalAndCentroid$double",value:function(e){this.normal=this.computeNormal(),this.centroid=this.computeCentroid(),this.planeOffset=this.normal.dot(this.centroid)}},{key:"computeNormalAndCentroid",value:function(e){if("number"===typeof e||null===e)return this.computeNormalAndCentroid$double(e);if(void 0===e)return this.computeNormalAndCentroid$();throw new Error("invalid overload")}},{key:"getEdge",value:function(e){for(var t=this.he0;e>0;)t=t.next,e--;for(;e<0;)t=t.prev,e++;return t}},{key:"getFirstEdge",value:function(){return this.he0}},{key:"findEdge",value:function(e,t){var n=this.he0;do{if(n.head()===t&&n.tail()===e)return n;n=n.next}while(n!==this.he0);return null}},{key:"distanceToPlane",value:function(e){return this.normal.dot(e).minus$com_vzome_core_algebra_AlgebraicNumber(this.planeOffset)}},{key:"getNormal",value:function(){return this.normal}},{key:"getCentroid",value:function(){return this.centroid}},{key:"numVertices",value:function(){return this.numVerts}},{key:"getVertexString",value:function(){var e=null,t=this.he0;do{null==e?e=""+t.head().index:e+=" "+t.head().index,t=t.next}while(t!==this.he0);return e}},{key:"getVertexIndices",value:function(e){var t=this.he0,n=0;do{e[n++]=t.head().index,t=t.next}while(t!==this.he0)}},{key:"connectHalfEdges",value:function(e,n){var r=null;if(e.oppositeFace()===n.oppositeFace()){var i,o=n.oppositeFace();e===this.he0&&(this.he0=n),3===o.numVertices()?(i=n.getOpposite().prev.getOpposite(),o.mark=t.DELETED,r=o):(i=n.getOpposite().next,o.he0===i.prev&&(o.he0=i),i.prev=i.prev.prev,i.prev.next=i),n.prev=e.prev,n.prev.next=n,n.opposite=i,i.opposite=n,o.computeNormalAndCentroid$()}else e.next=n,n.prev=e;return r}},{key:"fail",value:function(t){throw new e.vzome.core.commands.Command.Failure(t)}},{key:"checkConsistency",value:function(){var e=this.he0,n=0;this.numVerts<3&&this.fail("degenerate face: "+this.getVertexString());do{var r=e.getOpposite();null==r?this.fail("face "+this.getVertexString()+": unreflected half edge "+e.getVertexString()):r.getOpposite()!==e&&this.fail("face "+this.getVertexString()+": opposite half edge "+r.getVertexString()+" has opposite "+r.getOpposite().getVertexString()),r.head()===e.tail()&&e.head()===r.tail()||this.fail("face "+this.getVertexString()+": half edge "+e.getVertexString()+" reflected by "+r.getVertexString());var i=r.face;null==i?this.fail("face "+this.getVertexString()+": no face on half edge "+r.getVertexString()):i.mark===t.DELETED&&this.fail("face "+this.getVertexString()+": opposite face "+i.getVertexString()+" not on hull"),Math.abs(this.distanceToPlane(e.head().pnt).evaluate()),n++,e=e.next}while(e!==this.he0);n!==this.numVerts&&this.fail("face "+this.getVertexString()+" numVerts="+this.numVerts+" should be "+n)}},{key:"mergeAdjacentFace",value:function(e,n){var r=e.oppositeFace(),i=0;n[i++]=r,r.mark=t.DELETED;for(var o,a,s=e.getOpposite(),l=e.prev,u=e.next,c=s.prev,f=s.next,h=0;l.oppositeFace()===r;)l=l.prev,f=f.next,++h>1e3&&this.fail("Oops, it's hung.");for(h=0;u.oppositeFace()===r;)c=c.prev,u=u.next,++h>1e3&&this.fail("Oops, it's hung.");for(h=0,o=f;o!==c.next;o=o.next)o.face=this,++h>1e3&&this.fail("Oops, it's hung.");return e===this.he0&&(this.he0=u),null!=(a=this.connectHalfEdges(c,u))&&(n[i++]=a),null!=(a=this.connectHalfEdges(l,f))&&(n[i++]=a),this.computeNormalAndCentroid$(),this.checkConsistency(),i}},{key:"triangulate",value:function(n){var r;if(!(this.numVertices()<4)){var i=this.he0.head(),o=(r=this.he0.next).opposite,a=null;for(r=r.next;r!==this.he0.prev;r=r.next){var s=t.createTriangle$com_vzome_core_math_convexhull_Vertex$com_vzome_core_math_convexhull_Vertex$com_vzome_core_math_convexhull_Vertex$double(i,r.prev.head(),r.head(),0);s.he0.next.setOpposite(o),s.he0.prev.setOpposite(r.opposite),o=s.he0,n.add(s),null==a&&(a=s)}(r=new e.vzome.core.math.convexhull.HalfEdge(this.he0.prev.prev.head(),this)).setOpposite(o),r.prev=this.he0,r.prev.next=r,r.next=this.he0.prev,r.next.prev=r,this.computeNormalAndCentroid$double(0),this.checkConsistency();for(var l=a;null!=l;l=l.next)l.checkConsistency()}}}],[{key:"createTriangle$com_vzome_core_math_convexhull_Vertex$com_vzome_core_math_convexhull_Vertex$com_vzome_core_math_convexhull_Vertex",value:function(e,n,r){return t.createTriangle$com_vzome_core_math_convexhull_Vertex$com_vzome_core_math_convexhull_Vertex$com_vzome_core_math_convexhull_Vertex$double(e,n,r,0)}},{key:"createTriangle$com_vzome_core_math_convexhull_Vertex$com_vzome_core_math_convexhull_Vertex$com_vzome_core_math_convexhull_Vertex$double",value:function(n,r,i,o){var a=new t,s=new e.vzome.core.math.convexhull.HalfEdge(n,a),l=new e.vzome.core.math.convexhull.HalfEdge(r,a),u=new e.vzome.core.math.convexhull.HalfEdge(i,a);return s.prev=u,s.next=l,l.prev=s,l.next=u,u.prev=l,u.next=s,a.he0=s,a.computeNormalAndCentroid$double(o),a}},{key:"createTriangle",value:function(t,n,r,i){if((null!=t&&t instanceof e.vzome.core.math.convexhull.Vertex||null===t)&&(null!=n&&n instanceof e.vzome.core.math.convexhull.Vertex||null===n)&&(null!=r&&r instanceof e.vzome.core.math.convexhull.Vertex||null===r)&&("number"===typeof i||null===i))return e.vzome.core.math.convexhull.Face.createTriangle$com_vzome_core_math_convexhull_Vertex$com_vzome_core_math_convexhull_Vertex$com_vzome_core_math_convexhull_Vertex$double(t,n,r,i);if((null!=t&&t instanceof e.vzome.core.math.convexhull.Vertex||null===t)&&(null!=n&&n instanceof e.vzome.core.math.convexhull.Vertex||null===n)&&(null!=r&&r instanceof e.vzome.core.math.convexhull.Vertex||null===r)&&void 0===i)return e.vzome.core.math.convexhull.Face.createTriangle$com_vzome_core_math_convexhull_Vertex$com_vzome_core_math_convexhull_Vertex$com_vzome_core_math_convexhull_Vertex(t,n,r);throw new Error("invalid overload")}},{key:"create",value:function(n,r){for(var i=new t,o=null,a=0;a<r.length;a++){var s=new e.vzome.core.math.convexhull.HalfEdge(n[r[a]],i);null!=o?(s.setPrev(o),o.setNext(s)):i.he0=s,o=s}return i.he0.setPrev(o),o.setNext(i.he0),i.computeNormalAndCentroid$(),i}}]),t}();n.VISIBLE=1,n.NON_CONVEX=2,n.DELETED=3,t.Face=n,n.__class="com.vzome.core.math.convexhull.Face"}((n=t.math||(t.math={})).convexhull||(n.convexhull={}))})((t=e.vzome||(e.vzome={})).core||(t.core={}))}(com||(com={})),function(e){var t;(function(t){var n;!function(t){var n=function(){function t(){_classCallCheck(this,t),this.findIndex=-1,this.debug=!1,this.pointBuffer=[],this.vertexPointIndices=[],this.discardedFaces=[null,null,null],this.maxVtxs=[null,null,null],this.minVtxs=[null,null,null],this.faces=new java.util.Vector(16),this.newFaces=new java.util.LinkedList,this.unclaimed=new e.vzome.core.math.convexhull.VertexList,this.claimed=new e.vzome.core.math.convexhull.VertexList,void 0===this.numVertices&&(this.numVertices=0),void 0===this.numFaces&&(this.numFaces=0),void 0===this.numPoints&&(this.numPoints=0)}return _createClass(t,[{key:"getDebug",value:function(){return this.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"addPointToFace",value:function(e,t){e.face=t,null==t.outside?this.claimed.add(e):this.claimed.insertBefore(e,t.outside),t.outside=e}},{key:"removePointFromFace",value:function(e,t){e===t.outside&&(null!=e.next&&e.next.face===t?t.outside=e.next:t.outside=null),this.claimed.delete$com_vzome_core_math_convexhull_Vertex(e)}},{key:"removeAllPointsFromFace",value:function(e){if(null!=e.outside){for(var t=e.outside;null!=t.next&&t.next.face===e;)t=t.next;return this.claimed.delete$com_vzome_core_math_convexhull_Vertex$com_vzome_core_math_convexhull_Vertex(e.outside,t),t.next=null,e.outside}return null}},{key:"findHalfEdge",value:function(e,t){for(var n=this.faces.iterator();n.hasNext();){var r=n.next().findEdge(e,t);if(null!=r)return r}return null}},{key:"setHull",value:function(t,n,r,i){this.initBuffers(n),this.setPoints(t,n),this.computeMaxAndMin();for(var o=0;o<i;o++){var a=e.vzome.core.math.convexhull.Face.create(this.pointBuffer,r[o]),s=a.he0;do{var l=this.findHalfEdge(s.head(),s.tail());null!=l&&s.setOpposite(l),s=s.next}while(s!==a.he0);this.faces.add(a)}}},{key:"build$java_util_Collection",value:function(e){this.build$com_vzome_core_algebra_AlgebraicVector_A(e.toArray(function(e){for(var t=[];e-- >0;)t.push(null);return t}(e.size())))}},{key:"build$com_vzome_core_algebra_AlgebraicVector_A",value:function(e){this.build$com_vzome_core_algebra_AlgebraicVector_A$int(e,e.length)}},{key:"build$com_vzome_core_algebra_AlgebraicVector_A$int",value:function(t,n){if(n<4)throw new e.vzome.core.commands.Command.Failure("At least four input points are required for a 3d convex hull.\n\n"+n+" specified.");if(t.length<n)throw new e.vzome.core.commands.Command.Failure("Point array too small for specified number of points");this.printPointSet(t,n),this.initBuffers(n),this.setPoints(t,n),this.buildHull()}},{key:"build",value:function(t,n){if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||null!=t[0]&&t[0]instanceof e.vzome.core.algebra.AlgebraicVector)||null===t)||"number"!==typeof n&&null!==n){if((null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("java.util.Collection")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.util.Collection")>=0)||null===t)&&void 0===n)return this.build$java_util_Collection(t);if((null!=t&&t instanceof Array&&(0==t.length||null==t[0]||null!=t[0]&&t[0]instanceof e.vzome.core.algebra.AlgebraicVector)||null===t)&&void 0===n)return this.build$com_vzome_core_algebra_AlgebraicVector_A(t);throw new Error("invalid overload")}return this.build$com_vzome_core_algebra_AlgebraicVector_A$int(t,n)}},{key:"printPointSet",value:function(e,t){if(this.debug){console.info("initial point set:");for(var n=0;n<t;n++)console.info(n+": "+e[n])}}},{key:"triangulate",value:function(){this.newFaces.clear();for(var t=this.faces.iterator();t.hasNext();){var n=t.next();n.mark===e.vzome.core.math.convexhull.Face.VISIBLE&&n.triangulate(this.newFaces)}for(var r=this.newFaces.iterator();r.hasNext();){var i=r.next();this.faces.add(i)}}},{key:"initBuffers",value:function(e){if(this.pointBuffer.length<e){var t=function(e){for(var t=[];e-- >0;)t.push(null);return t}(e);this.vertexPointIndices=function(e){for(var t=[];e-- >0;)t.push(0);return t}(e);for(var n=0;n<this.pointBuffer.length;n++)t[n]=this.pointBuffer[n];for(var r=this.pointBuffer.length;r<e;r++)t[r]=null;this.pointBuffer=t}this.faces.clear(),this.claimed.clear(),this.numFaces=0,this.numPoints=e}},{key:"setPoints",value:function(t,n){this.pointBuffer=function(e){for(var t=[];e-- >0;)t.push(null);return t}(n);for(var r=0;r<n;r++)this.pointBuffer[r]=new e.vzome.core.math.convexhull.Vertex(t[r],r)}},{key:"computeMaxAndMin",value:function(){for(var t=0;t<3;t++)this.maxVtxs[t]=this.minVtxs[t]=this.pointBuffer[0];for(var n=this.pointBuffer[0].pnt,r=n.getComponent(e.vzome.core.algebra.AlgebraicVector.X).evaluate(),i=n.getComponent(e.vzome.core.algebra.AlgebraicVector.Y).evaluate(),o=n.getComponent(e.vzome.core.algebra.AlgebraicVector.Z).evaluate(),a=r,s=i,l=o,u=1;u<this.numPoints;u++){var c=this.pointBuffer[u].pnt,f=c.getComponent(e.vzome.core.algebra.AlgebraicVector.X).evaluate(),h=c.getComponent(e.vzome.core.algebra.AlgebraicVector.Y).evaluate(),d=c.getComponent(e.vzome.core.algebra.AlgebraicVector.Z).evaluate();f>r?(r=f,this.maxVtxs[0]=this.pointBuffer[u]):f<a&&(a=f,this.minVtxs[0]=this.pointBuffer[u]),h>i?(i=h,this.maxVtxs[1]=this.pointBuffer[u]):h<s&&(s=h,this.minVtxs[1]=this.pointBuffer[u]),d>o?(o=d,this.maxVtxs[2]=this.pointBuffer[u]):d<l&&(l=d,this.minVtxs[2]=this.pointBuffer[u])}}},{key:"createInitialSimplex",value:function(){for(var t=0,n=0,r=0;r<3;r++){var i=this.maxVtxs[r].pnt.getComponent(r).minus$com_vzome_core_algebra_AlgebraicNumber(this.minVtxs[r].pnt.getComponent(r)).evaluate();i>t&&(t=i,n=r)}if(t<=0)throw new e.vzome.core.commands.Command.Failure("Input points are coincident");var o,a=[null,null,null,null];a[0]=this.maxVtxs[n],a[1]=this.minVtxs[n];for(var s=null,l=0,u=a[1].pnt.minus(a[0].pnt),c=0;c<this.numPoints;c++){o=this.pointBuffer[c].pnt.minus(a[0].pnt);var f=u.cross(o),h=f.dot(f);h.evaluate()>l&&this.pointBuffer[c]!==a[0]&&this.pointBuffer[c]!==a[1]&&(l=h.evaluate(),a[2]=this.pointBuffer[c],s=f)}if(0===l)throw new e.vzome.core.commands.Command.Failure("Input points are collinear");var d=u.scale(s.dot(u));s=s.minus(d);for(var p=0,m=a[2].pnt.dot(s),v=0;v<this.numPoints;v++){var g=Math.abs(this.pointBuffer[v].pnt.dot(s).minus$com_vzome_core_algebra_AlgebraicNumber(m).evaluate());g>p&&this.pointBuffer[v]!==a[0]&&this.pointBuffer[v]!==a[1]&&this.pointBuffer[v]!==a[2]&&(p=g,a[3]=this.pointBuffer[v])}if(0===p)throw new e.vzome.core.commands.Command.Failure("Input points are coplanar");this.debug&&(console.info("initial vertices:"),console.info(a[0].index+": "+a[0].pnt),console.info(a[1].index+": "+a[1].pnt),console.info(a[2].index+": "+a[2].pnt),console.info(a[3].index+": "+a[3].pnt));var y=[null,null,null,null];if(a[3].pnt.dot(s).minus$com_vzome_core_algebra_AlgebraicNumber(m).evaluate()<0){y[0]=e.vzome.core.math.convexhull.Face.createTriangle$com_vzome_core_math_convexhull_Vertex$com_vzome_core_math_convexhull_Vertex$com_vzome_core_math_convexhull_Vertex(a[0],a[1],a[2]),y[1]=e.vzome.core.math.convexhull.Face.createTriangle$com_vzome_core_math_convexhull_Vertex$com_vzome_core_math_convexhull_Vertex$com_vzome_core_math_convexhull_Vertex(a[3],a[1],a[0]),y[2]=e.vzome.core.math.convexhull.Face.createTriangle$com_vzome_core_math_convexhull_Vertex$com_vzome_core_math_convexhull_Vertex$com_vzome_core_math_convexhull_Vertex(a[3],a[2],a[1]),y[3]=e.vzome.core.math.convexhull.Face.createTriangle$com_vzome_core_math_convexhull_Vertex$com_vzome_core_math_convexhull_Vertex$com_vzome_core_math_convexhull_Vertex(a[3],a[0],a[2]);for(var _=0;_<3;_++){var b=(_+1)%3;y[_+1].getEdge(1).setOpposite(y[b+1].getEdge(0)),y[_+1].getEdge(2).setOpposite(y[0].getEdge(b))}}else{y[0]=e.vzome.core.math.convexhull.Face.createTriangle$com_vzome_core_math_convexhull_Vertex$com_vzome_core_math_convexhull_Vertex$com_vzome_core_math_convexhull_Vertex(a[0],a[2],a[1]),y[1]=e.vzome.core.math.convexhull.Face.createTriangle$com_vzome_core_math_convexhull_Vertex$com_vzome_core_math_convexhull_Vertex$com_vzome_core_math_convexhull_Vertex(a[3],a[0],a[1]),y[2]=e.vzome.core.math.convexhull.Face.createTriangle$com_vzome_core_math_convexhull_Vertex$com_vzome_core_math_convexhull_Vertex$com_vzome_core_math_convexhull_Vertex(a[3],a[1],a[2]),y[3]=e.vzome.core.math.convexhull.Face.createTriangle$com_vzome_core_math_convexhull_Vertex$com_vzome_core_math_convexhull_Vertex$com_vzome_core_math_convexhull_Vertex(a[3],a[2],a[0]);for(var w=0;w<3;w++){var x=(w+1)%3;y[w+1].getEdge(0).setOpposite(y[x+1].getEdge(1)),y[w+1].getEdge(2).setOpposite(y[0].getEdge((3-w)%3))}}for(var A=0;A<4;A++)this.faces.add(y[A]);for(var M=0;M<this.numPoints;M++){var S=this.pointBuffer[M];if(S!==a[0]&&S!==a[1]&&S!==a[2]&&S!==a[3]){p=0;for(var C=null,E=0;E<4;E++){var I=y[E].distanceToPlane(S.pnt).evaluate();I>p&&(C=y[E],p=I)}null!=C&&this.addPointToFace(S,C)}}}},{key:"getNumVertices",value:function(){return this.numVertices}},{key:"getVertices$",value:function(){for(var e=function(e){for(var t=[];e-- >0;)t.push(null);return t}(this.numVertices),t=0;t<this.numVertices;t++)e[t]=this.pointBuffer[this.vertexPointIndices[t]].pnt;return e}},{key:"getVertices$com_vzome_core_algebra_AlgebraicNumber_A",value:function(t){for(var n=0;n<this.numVertices;n++){var r=this.pointBuffer[this.vertexPointIndices[n]].pnt;t[3*n+0]=r.getComponent(e.vzome.core.algebra.AlgebraicVector.X),t[3*n+1]=r.getComponent(e.vzome.core.algebra.AlgebraicVector.Y),t[3*n+2]=r.getComponent(e.vzome.core.algebra.AlgebraicVector.Z)}return this.numVertices}},{key:"getVertices",value:function(e){if(null!=e&&e instanceof Array&&(0==e.length||null==e[0]||null!=e[0]&&(null!=e[0].__interfaces&&e[0].__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0||null!=e[0].constructor&&null!=e[0].constructor.__interfaces&&e[0].constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0))||null===e)return this.getVertices$com_vzome_core_algebra_AlgebraicNumber_A(e);if(void 0===e)return this.getVertices$();throw new Error("invalid overload")}},{key:"getVertexPointIndices",value:function(){for(var e=function(e){for(var t=[];e-- >0;)t.push(0);return t}(this.numVertices),t=0;t<this.numVertices;t++)e[t]=this.vertexPointIndices[t];return e}},{key:"getNumEdges",value:function(){for(var e=0,t=this.faces.iterator();t.hasNext();)e+=t.next().numVertices();return e/2|0}},{key:"getNumFaces",value:function(){return this.faces.size()}},{key:"getFaces$",value:function(){return this.getFaces$int(0)}},{key:"getFaces$int",value:function(e){for(var t=function(e){for(var t=[];e-- >0;)t.push(null);return t}(this.faces.size()),n=0,r=this.faces.iterator();r.hasNext();){var i=r.next();t[n]=function(e){for(var t=[];e-- >0;)t.push(0);return t}(i.numVertices()),this.getFaceIndices(t[n],i,e),n++}return t}},{key:"getFaces",value:function(e){if("number"===typeof e||null===e)return this.getFaces$int(e);if(void 0===e)return this.getFaces$();throw new Error("invalid overload")}},{key:"print$java_io_PrintStream",value:function(e){this.print$java_io_PrintStream$int(e,0)}},{key:"print$java_io_PrintStream$int",value:function(e,n){0===(n&t.INDEXED_FROM_ZERO)&&(n|=t.INDEXED_FROM_ONE);for(var r=0;r<this.numVertices;r++){var i=this.pointBuffer[this.vertexPointIndices[r]].pnt;e.println(i)}for(var o=this.faces.iterator();o.hasNext();){var a=o.next(),s=function(e){for(var t=[];e-- >0;)t.push(0);return t}(a.numVertices());this.getFaceIndices(s,a,n),e.print("f");for(var l=0;l<s.length;l++)e.print(" "+s[l]);e.println("")}}},{key:"print",value:function(e,t){if(!(null!=e&&e instanceof java.io.PrintStream||null===e)||"number"!==typeof t&&null!==t){if((null!=e&&e instanceof java.io.PrintStream||null===e)&&void 0===t)return this.print$java_io_PrintStream(e);throw new Error("invalid overload")}return this.print$java_io_PrintStream$int(e,t)}},{key:"getFaceIndices",value:function(e,n,r){var i=0===(r&t.CLOCKWISE),o=0!==(r&t.INDEXED_FROM_ONE),a=0!==(r&t.POINT_RELATIVE),s=n.he0,l=0;do{var u=s.head().index;a&&(u=this.vertexPointIndices[u]),o&&u++,e[l++]=u,s=i?s.next:s.prev}while(s!==n.he0)}},{key:"resolveUnclaimedPoints",value:function(t){for(var n=this.unclaimed.first(),r=n;null!=r;r=n){n=r.next;for(var i=0,o=null,a=t.iterator();a.hasNext();){var s=a.next();if(s.mark===e.vzome.core.math.convexhull.Face.VISIBLE){var l=s.distanceToPlane(r.pnt).evaluate();if(l>i&&(i=l,o=s),i>0)break}}null!=o?(this.addPointToFace(r,o),this.debug&&r.index===this.findIndex&&console.info(this.findIndex+" CLAIMED BY "+o.getVertexString())):this.debug&&r.index===this.findIndex&&console.info(this.findIndex+" DISCARDED")}}},{key:"deleteFacePoints",value:function(e,t){var n=this.removeAllPointsFromFace(e);if(null!=n)if(null==t)this.unclaimed.addAll(n);else for(var r=n,i=r;null!=i;i=r)r=i.next,t.distanceToPlane(i.pnt).evaluate()>0?this.addPointToFace(i,t):this.unclaimed.add(i)}},{key:"oppFaceDistance",value:function(e){return e.face.distanceToPlane(e.opposite.face.getCentroid())}},{key:"doAdjacentMerge",value:function(n,r){var i=n.he0,o=!0;do{var a=i.oppositeFace(),s=!1;if(r===t.NONCONVEX?(this.oppFaceDistance(i).evaluate()>-0||this.oppFaceDistance(i.opposite).evaluate()>-0)&&(s=!0):n.area>a.area?this.oppFaceDistance(i).evaluate()>-0?s=!0:this.oppFaceDistance(i.opposite).evaluate()>-0&&(o=!1):this.oppFaceDistance(i.opposite).evaluate()>=-0?s=!0:this.oppFaceDistance(i).evaluate()>=-0&&(o=!1),s){this.debug&&console.info("  merging "+n.getVertexString()+"  and  "+a.getVertexString());for(var l=n.mergeAdjacentFace(i,this.discardedFaces),u=0;u<l;u++)this.deleteFacePoints(this.discardedFaces[u],n);return this.debug&&console.info("  result: "+n.getVertexString()),!0}i=i.next}while(i!==n.he0);return o||(n.mark=e.vzome.core.math.convexhull.Face.NON_CONVEX),!1}},{key:"calculateHorizon",value:function(t,n,r,i){var o;this.deleteFacePoints(r,null),r.mark=e.vzome.core.math.convexhull.Face.DELETED,this.debug&&console.info("  visiting face "+r.getVertexString()),o=null==n?n=r.getEdge(0):n.getNext();do{var a=o.oppositeFace();a.mark===e.vzome.core.math.convexhull.Face.VISIBLE&&(a.distanceToPlane(t).evaluate()>0?this.calculateHorizon(t,o.getOpposite(),a,i):(i.add(o),this.debug&&console.info("  adding horizon edge "+o.getVertexString()))),o=o.getNext()}while(o!==n)}},{key:"addAdjoiningFace",value:function(t,n){var r=e.vzome.core.math.convexhull.Face.createTriangle$com_vzome_core_math_convexhull_Vertex$com_vzome_core_math_convexhull_Vertex$com_vzome_core_math_convexhull_Vertex(t,n.tail(),n.head());return this.faces.add(r),r.getEdge(-1).setOpposite(n.getOpposite()),r.getEdge(0)}},{key:"addNewFaces",value:function(e,t,n){e.clear();for(var r=null,i=null,o=n.iterator();o.hasNext();){var a=o.next(),s=this.addAdjoiningFace(t,a);this.debug&&console.info("new face: "+s.face.getVertexString()),null!=r?s.next.setOpposite(r):i=s,e.add(s.getFace()),r=s}i.next.setOpposite(r)}},{key:"nextPointToAdd",value:function(){if(this.claimed.isEmpty())return null;for(var e=this.claimed.first().face,t=null,n=0,r=e.outside;null!=r&&r.face===e;r=r.next){var i=e.distanceToPlane(r.pnt).evaluate();i>n&&(n=i,t=r)}return t}},{key:"addPointToHull",value:function(n){var r=new java.util.Vector;this.unclaimed.clear(),this.debug&&(console.info("Adding point: "+n.index),console.info(" which is "+n.face.distanceToPlane(n.pnt)+" above face "+n.face.getVertexString())),this.removePointFromFace(n,n.face),this.calculateHorizon(n.pnt,null,n.face,r),this.newFaces.clear(),this.addNewFaces(this.newFaces,n,r);for(var i=this.newFaces.iterator();i.hasNext();){var o=i.next();if(o.mark===e.vzome.core.math.convexhull.Face.VISIBLE)for(;this.doAdjacentMerge(o,t.NONCONVEX_WRT_LARGER_FACE););}for(var a=this.newFaces.iterator();a.hasNext();){var s=a.next();if(s.mark===e.vzome.core.math.convexhull.Face.NON_CONVEX)for(s.mark=e.vzome.core.math.convexhull.Face.VISIBLE;this.doAdjacentMerge(s,t.NONCONVEX););}this.resolveUnclaimedPoints(this.newFaces)}},{key:"buildHull",value:function(){var e,t=0;for(this.computeMaxAndMin(),this.createInitialSimplex();null!=(e=this.nextPointToAdd());)this.addPointToHull(e),t++,this.debug&&console.info("iteration "+t+" done");this.reindexFacesAndVertices(),this.debug&&console.info("hull done")}},{key:"markFaceVertices",value:function(e,t){var n=e.getFirstEdge(),r=n;do{r.head().index=t,r=r.next}while(r!==n)}},{key:"reindexFacesAndVertices",value:function(){for(var t=0;t<this.numPoints;t++)this.pointBuffer[t].index=-1;this.numFaces=0;for(var n=this.faces.iterator();n.hasNext();){var r=n.next();r.mark!==e.vzome.core.math.convexhull.Face.VISIBLE?n.remove():(this.markFaceVertices(r,0),this.numFaces++)}this.numVertices=0;for(var i=0;i<this.numPoints;i++){var o=this.pointBuffer[i];0===o.index&&(this.vertexPointIndices[this.numVertices]=i,o.index=this.numVertices++)}}},{key:"checkFaceConvexity",value:function(e,t){var n=e.he0;do{e.checkConsistency();var r=this.oppFaceDistance(n);if(!r.isZero())return null!=t&&t.println("Edge "+n.getVertexString()+" non-convex by "+r),!1;if(!(r=this.oppFaceDistance(n.opposite)).isZero())return null!=t&&t.println("Opposite edge "+n.opposite.getVertexString()+" non-convex by "+r),!1;if(n.next.oppositeFace()===n.oppositeFace())return null!=t&&t.println("Redundant vertex "+n.head().index+" in face "+e.getVertexString()),!1;n=n.next}while(n!==e.he0);return!0}},{key:"checkFaces",value:function(t){for(var n=!0,r=this.faces.iterator();r.hasNext();){var i=r.next();i.mark===e.vzome.core.math.convexhull.Face.VISIBLE&&(this.checkFaceConvexity(i,t)||(n=!1))}return n}},{key:"check",value:function(t){if(!this.checkFaces(t))return!1;for(var n=0;n<this.numPoints;n++)for(var r=this.pointBuffer[n].pnt,i=this.faces.iterator();i.hasNext();){var o=i.next();if(o.mark===e.vzome.core.math.convexhull.Face.VISIBLE){var a=o.distanceToPlane(r);if(!a.isZero())return null!=t&&t.println("Point "+n+" "+a+" above face "+o.getVertexString()),!1}}return!0}}]),t}();n.CLOCKWISE=1,n.INDEXED_FROM_ONE=2,n.INDEXED_FROM_ZERO=4,n.POINT_RELATIVE=8,n.NONCONVEX_WRT_LARGER_FACE=1,n.NONCONVEX=2,t.QuickHull3D=n,n.__class="com.vzome.core.math.convexhull.QuickHull3D"}((n=t.math||(t.math={})).convexhull||(n.convexhull={}))})((t=e.vzome||(e.vzome={})).core||(t.core={}))}(com||(com={})),function(e){var t;(function(t){var n;!function(t){var n=function(){function t(){_classCallCheck(this,t),void 0===this.head&&(this.head=null),void 0===this.tail&&(this.tail=null)}return _createClass(t,[{key:"clear",value:function(){this.head=this.tail=null}},{key:"add",value:function(e){null==this.head?this.head=e:this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e}},{key:"addAll",value:function(e){for(null==this.head?this.head=e:this.tail.next=e,e.prev=this.tail;null!=e.next;)e=e.next;this.tail=e}},{key:"delete$com_vzome_core_math_convexhull_Vertex",value:function(e){null==e.prev?this.head=e.next:e.prev.next=e.next,null==e.next?this.tail=e.prev:e.next.prev=e.prev}},{key:"delete$com_vzome_core_math_convexhull_Vertex$com_vzome_core_math_convexhull_Vertex",value:function(e,t){null==e.prev?this.head=t.next:e.prev.next=t.next,null==t.next?this.tail=e.prev:t.next.prev=e.prev}},{key:"delete",value:function(t,n){if((null!=t&&t instanceof e.vzome.core.math.convexhull.Vertex||null===t)&&(null!=n&&n instanceof e.vzome.core.math.convexhull.Vertex||null===n))return this.delete$com_vzome_core_math_convexhull_Vertex$com_vzome_core_math_convexhull_Vertex(t,n);if((null!=t&&t instanceof e.vzome.core.math.convexhull.Vertex||null===t)&&void 0===n)return this.delete$com_vzome_core_math_convexhull_Vertex(t);throw new Error("invalid overload")}},{key:"insertBefore",value:function(e,t){e.prev=t.prev,null==t.prev?this.head=e:t.prev.next=e,e.next=t,t.prev=e}},{key:"first",value:function(){return this.head}},{key:"isEmpty",value:function(){return null==this.head}}]),t}();t.VertexList=n,n.__class="com.vzome.core.math.convexhull.VertexList"}((n=t.math||(t.math={})).convexhull||(n.convexhull={}))})((t=e.vzome||(e.vzome={})).core||(t.core={}))}(com||(com={})),function(e){var t;(function(t){var n;!function(t){var n=function(){function t(n,r){var i=this;if(_classCallCheck(this,t),(null!=n&&n instanceof e.vzome.core.math.convexhull.Vertex||null===n)&&(null!=r&&r instanceof e.vzome.core.math.convexhull.Face||null===r))void 0===this.vertex&&(this.vertex=null),void 0===this.face&&(this.face=null),void 0===this.next&&(this.next=null),void 0===this.prev&&(this.prev=null),void 0===this.opposite&&(this.opposite=null),void 0===this.vertex&&(this.vertex=null),void 0===this.face&&(this.face=null),void 0===this.next&&(this.next=null),void 0===this.prev&&(this.prev=null),void 0===this.opposite&&(this.opposite=null),i.vertex=n,i.face=r;else{if(void 0!==n||void 0!==r)throw new Error("invalid overload");void 0===this.vertex&&(this.vertex=null),void 0===this.face&&(this.face=null),void 0===this.next&&(this.next=null),void 0===this.prev&&(this.prev=null),void 0===this.opposite&&(this.opposite=null),void 0===this.vertex&&(this.vertex=null),void 0===this.face&&(this.face=null),void 0===this.next&&(this.next=null),void 0===this.prev&&(this.prev=null),void 0===this.opposite&&(this.opposite=null)}}return _createClass(t,[{key:"setNext",value:function(e){this.next=e}},{key:"getNext",value:function(){return this.next}},{key:"setPrev",value:function(e){this.prev=e}},{key:"getPrev",value:function(){return this.prev}},{key:"getFace",value:function(){return this.face}},{key:"getOpposite",value:function(){return this.opposite}},{key:"setOpposite",value:function(e){this.opposite=e,e.opposite=this}},{key:"head",value:function(){return this.vertex}},{key:"tail",value:function(){return null!=this.prev?this.prev.vertex:null}},{key:"oppositeFace",value:function(){return null==this.opposite?null:this.opposite.face}},{key:"getVertexString",value:function(){return null!=this.tail()?this.tail().index+"-"+this.head().index:"?-"+this.head().index}},{key:"lengthSquared",value:function(){if(null==this.tail())return this.head().pnt.getField().createRational$long(-1);var e=this.head().pnt.minus(this.tail().pnt);return e.dot(e)}}]),t}();t.HalfEdge=n,n.__class="com.vzome.core.math.convexhull.HalfEdge"}((n=t.math||(t.math={})).convexhull||(n.convexhull={}))})((t=e.vzome||(e.vzome={})).core||(t.core={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(){function t(n){_classCallCheck(this,t),void 0===this.field&&(this.field=null),void 0===this.basis&&(this.basis=null),this.field=n;var r=n.zero(),i=n.one(),o=i.negate(),a=n.createPower$int(1);this.basis=[null,null,null,null,null,null],this.basis[0]=new e.vzome.core.algebra.AlgebraicVector(a,i,r),this.basis[1]=new e.vzome.core.algebra.AlgebraicVector(a,o,r),this.basis[2]=new e.vzome.core.algebra.AlgebraicVector(r,a,i),this.basis[3]=new e.vzome.core.algebra.AlgebraicVector(r,a,o),this.basis[4]=new e.vzome.core.algebra.AlgebraicVector(i,r,a),this.basis[5]=new e.vzome.core.algebra.AlgebraicVector(o,r,a)}return _createClass(t,[{key:"projectImage",value:function(e,t){for(var n=this.field.origin(this.basis[0].dimension()),r=t?0:this.basis.length-1,i=0;i<this.basis.length;i++){var o=this.basis[i],a=e.getComponent(r);n=n.plus(o.scale(a)),r=(r+1)%this.basis.length}return n}},{key:"getXmlAttributes",value:function(e){}},{key:"setXmlAttributes",value:function(e){}},{key:"getProjectionName",value:function(){return"SixCube"}}]),t}();t.SixCubeProjection=n,n.__class="com.vzome.core.math.SixCubeProjection",n.__interfaces=["com.vzome.core.math.Projection"]})((n=t.core||(t.core={})).math||(n.math={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){var t;(function(e){var t;!function(e){var t=function(){function e(t){_classCallCheck(this,e),void 0===this.field&&(this.field=null),this.ROOTS=[null,null,null,null],this.WEIGHTS=[null,null,null,null],this.ROOTS_R4=[null,null,null,null],void 0===this.ONE_FIFTH&&(this.ONE_FIFTH=null),void 0===this.TWO_FIFTHS&&(this.TWO_FIFTHS=null),void 0===this.THREE_FIFTHS&&(this.THREE_FIFTHS=null),void 0===this.FOUR_FIFTHS&&(this.FOUR_FIFTHS=null),this.field=t,this.ONE_FIFTH=t.createRational$long$long(1,5),this.TWO_FIFTHS=t.createRational$long$long(2,5),this.THREE_FIFTHS=t.createRational$long$long(3,5),this.FOUR_FIFTHS=t.createRational$long$long(4,5);var n=t.createRational$long(-1);this.ROOTS[0]=t.basisVector(5,0),this.ROOTS[0].setComponent(1,n),this.ROOTS[1]=t.basisVector(5,1),this.ROOTS[1].setComponent(2,n),this.ROOTS[2]=t.basisVector(5,2),this.ROOTS[2].setComponent(3,n),this.ROOTS[3]=t.basisVector(5,3),this.ROOTS[3].setComponent(4,n),this.WEIGHTS[0]=t.basisVector(5,0),this.WEIGHTS[0].setComponent(0,this.FOUR_FIFTHS),this.WEIGHTS[0].setComponent(1,this.ONE_FIFTH.negate()),this.WEIGHTS[0].setComponent(2,this.ONE_FIFTH.negate()),this.WEIGHTS[0].setComponent(3,this.ONE_FIFTH.negate()),this.WEIGHTS[0].setComponent(4,this.ONE_FIFTH.negate()),this.WEIGHTS[1]=t.basisVector(5,0),this.WEIGHTS[1].setComponent(0,this.THREE_FIFTHS),this.WEIGHTS[1].setComponent(1,this.THREE_FIFTHS),this.WEIGHTS[1].setComponent(2,this.TWO_FIFTHS.negate()),this.WEIGHTS[1].setComponent(3,this.TWO_FIFTHS.negate()),this.WEIGHTS[1].setComponent(4,this.TWO_FIFTHS.negate()),this.WEIGHTS[2]=t.basisVector(5,0),this.WEIGHTS[2].setComponent(0,this.TWO_FIFTHS),this.WEIGHTS[2].setComponent(1,this.TWO_FIFTHS),this.WEIGHTS[2].setComponent(2,this.TWO_FIFTHS),this.WEIGHTS[2].setComponent(3,this.THREE_FIFTHS.negate()),this.WEIGHTS[2].setComponent(4,this.THREE_FIFTHS.negate()),this.WEIGHTS[3]=t.basisVector(5,0),this.WEIGHTS[3].setComponent(0,this.ONE_FIFTH),this.WEIGHTS[3].setComponent(1,this.ONE_FIFTH),this.WEIGHTS[3].setComponent(2,this.ONE_FIFTH),this.WEIGHTS[3].setComponent(3,this.ONE_FIFTH),this.WEIGHTS[3].setComponent(4,this.FOUR_FIFTHS.negate());var r=t.createRational$long(2),i=t.createRational$long(-2);this.ROOTS_R4[0]=t.basisVector(4,1),this.ROOTS_R4[0].setComponent(1,r),this.ROOTS_R4[0].setComponent(2,i),this.ROOTS_R4[1]=t.basisVector(4,1),this.ROOTS_R4[1].setComponent(3,i),this.ROOTS_R4[1].setComponent(1,i),this.ROOTS_R4[2]=t.basisVector(4,1),this.ROOTS_R4[2].setComponent(1,r),this.ROOTS_R4[2].setComponent(2,r),this.ROOTS_R4[3]=t.basisVector(4,3);var o=t.createAlgebraicNumber$int$int$int$int(-1,2,1,0);this.ROOTS_R4[3].setComponent(1,n),this.ROOTS_R4[3].setComponent(2,n),this.ROOTS_R4[3].setComponent(0,o)}return _createClass(e,[{key:"getOrder",value:function(){return e.S5_PERMS_$LI$().length}},{key:"groupAction",value:function(t,n){for(var r=this.field.origin(4),i=this.field.createRational$long(0),o=0;o<4;o++){var a=t.getComponent(e.S5_PERMS_$LI$()[n][o]);i=i.plus$com_vzome_core_algebra_AlgebraicNumber(a);var s=this.ROOTS_R4[o].scale(i);r=r.plus(s)}return r.scale(this.field.createPower$int(-1))}},{key:"getOrigin",value:function(){return this.field.origin(5)}},{key:"getWeight",value:function(e){return this.WEIGHTS[e]}},{key:"getSimpleRoot",value:function(e){return this.ROOTS[e]}},{key:"getField",value:function(){return this.field}},{key:"chiralSubgroupAction",value:function(t,n){if(n>=60)return null;for(var r=this.field.origin(4),i=this.field.createRational$long(0),o=0;o<4;o++){var a=t.getComponent(e.S5_PERMS_$LI$()[n][o]);i=i.plus$com_vzome_core_algebra_AlgebraicNumber(a);var s=this.ROOTS_R4[o].scale(i);r=r.plus(s)}return r.scale(this.field.createPower$int(-1))}}],[{key:"S5_PERMS_$LI$",value:function(){return null==e.S5_PERMS&&(e.S5_PERMS=[[0,1,2,3,4],[1,2,3,4,0],[2,3,4,0,1],[3,4,0,1,2],[4,0,1,2,3],[1,2,0,3,4],[2,0,3,4,1],[0,3,4,1,2],[3,4,1,2,0],[4,1,2,0,3],[0,2,3,1,4],[2,3,1,4,0],[3,1,4,0,2],[1,4,0,2,3],[4,0,2,3,1],[0,1,3,4,2],[1,3,4,2,0],[3,4,2,0,1],[4,2,0,1,3],[2,0,1,3,4],[3,1,2,4,0],[1,2,4,0,3],[2,4,0,3,1],[4,0,3,1,2],[0,3,1,2,4],[1,4,2,3,0],[4,2,3,0,1],[2,3,0,1,4],[3,0,1,4,2],[0,1,4,2,3],[1,3,2,0,4],[3,2,0,4,1],[2,0,4,1,3],[0,4,1,3,2],[4,1,3,2,0],[0,2,4,3,1],[2,4,3,1,0],[4,3,1,0,2],[3,1,0,2,4],[1,0,2,4,3],[2,1,3,0,4],[1,3,0,4,2],[3,0,4,2,1],[0,4,2,1,3],[4,2,1,3,0],[0,3,2,4,1],[3,2,4,1,0],[2,4,1,0,3],[4,1,0,3,2],[1,0,3,2,4],[2,1,4,3,0],[1,4,3,0,2],[4,3,0,2,1],[3,0,2,1,4],[0,2,1,4,3],[4,3,2,1,0],[3,2,1,0,4],[2,1,0,4,3],[1,0,4,3,2],[0,4,3,2,1],[0,1,3,2,4],[0,2,1,3,4],[0,3,2,1,4],[1,0,2,3,4],[1,2,3,0,4],[1,3,0,2,4],[2,1,0,3,4],[2,0,3,1,4],[2,3,1,0,4],[3,1,2,0,4],[3,2,0,1,4],[3,0,1,2,4],[0,1,2,4,3],[0,2,3,4,1],[0,3,1,4,2],[1,0,3,4,2],[1,2,0,4,3],[1,3,2,4,0],[2,1,3,4,0],[2,0,1,4,3],[2,3,0,4,1],[3,1,0,4,2],[3,2,1,4,0],[3,0,2,4,1],[0,2,4,1,3],[0,3,4,2,1],[1,0,4,2,3],[1,2,4,3,0],[1,3,4,0,2],[2,1,4,0,3],[2,0,4,3,1],[2,3,4,1,0],[3,1,4,2,0],[3,2,4,0,1],[3,0,4,1,2],[0,4,1,2,3],[0,4,2,3,1],[0,4,3,1,2],[1,4,0,3,2],[1,4,2,0,3],[1,4,3,2,0],[2,4,1,3,0],[2,4,0,1,3],[2,4,3,0,1],[3,4,1,0,2],[3,4,2,1,0],[3,4,0,2,1],[4,0,1,3,2],[4,0,2,1,3],[4,0,3,2,1],[4,1,0,2,3],[4,1,2,3,0],[4,1,3,0,2],[4,2,1,0,3],[4,2,0,3,1],[4,2,3,1,0],[4,3,1,2,0],[4,3,2,0,1],[0,1,4,3,2],[4,3,0,1,2]]),e.S5_PERMS}}]),e}();e.A4Group=t,t.__class="com.vzome.core.math.symmetry.A4Group",t.__interfaces=["com.vzome.core.math.symmetry.CoxeterGroup"]}((t=e.math||(e.math={})).symmetry||(t.symmetry={}))})((t=e.vzome||(e.vzome={})).core||(t.core={}))}(com||(com={})),function(e){var t;(function(t){var n;!function(t){var n=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"constructPolytope",value:function(e,t,n,r,i,o){for(var a=[null,null,null,null],s=e.getOrigin(),l=s,u=t,c=0;c<4;c++)u%2===1&&(l=l.plus(e.getWeight(c).scale(r[c]))),u>>=1;u=t;for(var f=0;f<4;f++)a[f]=u%2===1&&n%2===1?l.minus(e.getSimpleRoot(f).scale(r[f])):s,u>>=1,n>>=1;for(var h=i.getOrder(),d=0;d<h;d++)for(var p=i.groupAction(l,d),m=o.addVertex(p),v=0;v<4;v++)if(!a[v].equals(s)){var g=i.groupAction(a[v],d);if(!g.equals(p)){var y=o.addVertex(g);o.addEdge(m,y)}}}}]),e}();t.WythoffConstruction=n,n.__class="com.vzome.core.math.symmetry.WythoffConstruction",function(t){var n=function(){function t(e){_classCallCheck(this,t),this.vefVertices=new java.lang.StringBuffer,this.vefEdges=new java.lang.StringBuffer,this.numEdges=0,this.numVertices=0,void 0===this.field&&(this.field=null),this.field=e}return _createClass(t,[{key:"addEdge",value:function(e,t){return this.vefEdges.append(e+"\t"+t+"\n"),++this.numEdges,null}},{key:"addFace",value:function(e){return null}},{key:"addVertex",value:function(t){return t.getVectorExpression$java_lang_StringBuffer$int(this.vefVertices,e.vzome.core.algebra.AlgebraicField.VEF_FORMAT),this.vefVertices.append("\n"),this.numVertices++}},{key:"print",value:function(e){e.println$java_lang_Object("vZome VEF 5"),e.println$java_lang_Object(this.numVertices),e.println$java_lang_Object(this.vefVertices.toString()),e.println$java_lang_Object(this.numEdges),e.println$java_lang_Object(this.vefEdges.toString()),e.close()}}]),t}();t.VefPrinter=n,n.__class="com.vzome.core.math.symmetry.WythoffConstruction.VefPrinter",n.__interfaces=["com.vzome.core.math.symmetry.WythoffConstruction.Listener"]}(n=t.WythoffConstruction||(t.WythoffConstruction={}))}((n=t.math||(t.math={})).symmetry||(n.symmetry={}))})((t=e.vzome||(e.vzome={})).core||(t.core={}))}(com||(com={})),function(e){var t;(function(t){var n;!function(t){var n=function(){function t(n){_classCallCheck(this,t),void 0===this.field&&(this.field=null),this.ROOTS=[null,null,null,null],this.WEIGHTS=[null,null,null,null],this.field=n;var r=n.createRational$long(-1);this.ROOTS[0]=n.basisVector(4,e.vzome.core.algebra.AlgebraicVector.X4),this.ROOTS[0].setComponent(e.vzome.core.algebra.AlgebraicVector.Y4,r),this.ROOTS[1]=n.basisVector(4,e.vzome.core.algebra.AlgebraicVector.Y4),this.ROOTS[1].setComponent(e.vzome.core.algebra.AlgebraicVector.Z4,r),this.ROOTS[2]=n.basisVector(4,e.vzome.core.algebra.AlgebraicVector.Z4),this.ROOTS[2].setComponent(e.vzome.core.algebra.AlgebraicVector.W4,r),this.ROOTS[3]=n.basisVector(4,e.vzome.core.algebra.AlgebraicVector.Z4),this.ROOTS[3].setComponent(e.vzome.core.algebra.AlgebraicVector.W4,n.createPower$int(0));var i=n.basisVector(4,e.vzome.core.algebra.AlgebraicVector.Y4),o=n.createRational$long$long(1,2),a=n.createRational$long$long(-1,2);this.WEIGHTS[0]=n.basisVector(4,e.vzome.core.algebra.AlgebraicVector.X4),this.WEIGHTS[1]=this.WEIGHTS[0].plus(i),this.WEIGHTS[2]=n.basisVector(4,e.vzome.core.algebra.AlgebraicVector.X4),this.WEIGHTS[2].setComponent(e.vzome.core.algebra.AlgebraicVector.X4,o),this.WEIGHTS[2].setComponent(e.vzome.core.algebra.AlgebraicVector.Y4,o),this.WEIGHTS[2].setComponent(e.vzome.core.algebra.AlgebraicVector.Z4,o),this.WEIGHTS[2].setComponent(e.vzome.core.algebra.AlgebraicVector.W4,a),this.WEIGHTS[3]=n.basisVector(4,e.vzome.core.algebra.AlgebraicVector.X4),this.WEIGHTS[3].setComponent(e.vzome.core.algebra.AlgebraicVector.X4,o),this.WEIGHTS[3].setComponent(e.vzome.core.algebra.AlgebraicVector.Y4,o),this.WEIGHTS[3].setComponent(e.vzome.core.algebra.AlgebraicVector.Z4,o),this.WEIGHTS[3].setComponent(e.vzome.core.algebra.AlgebraicVector.W4,o)}return _createClass(t,[{key:"getOrder",value:function(){return 192}},{key:"groupAction",value:function(n,r){for(var i=this.field.basisVector(4,e.vzome.core.algebra.AlgebraicVector.X4),o=r/8|0,a=r%8,s=!0,l=0;l<4;l++){var u=n.getComponent((t.D4_PERMS_$LI$()[o][l]+1)%4);3!==l||s?a%2!==0&&(s=!s,u=u.negate()):u=u.negate(),i.setComponent((l+1)%4,u),a>>=1}return i}},{key:"getOrigin",value:function(){return this.field.origin(4)}},{key:"getWeight",value:function(e){return this.WEIGHTS[e]}},{key:"getSimpleRoot",value:function(e){return this.ROOTS[e]}},{key:"getField",value:function(){return this.field}},{key:"chiralSubgroupAction",value:function(n,r){var i=this.field.basisVector(4,e.vzome.core.algebra.AlgebraicVector.X4),o=r/8|0;if(o>=12)return null;for(var a=r%8,s=!0,l=0;l<4;l++){var u=n.getComponent((t.D4_PERMS_$LI$()[o][l]+1)%4);3!==l||s?a%2!==0&&(s=!s,u=u.negate()):u=u.negate(),i.setComponent((l+1)%4,u),a>>=1}return i}}],[{key:"D4_PERMS_$LI$",value:function(){return null==t.D4_PERMS&&(t.D4_PERMS=[[0,1,2,3],[2,3,0,1],[1,0,3,2],[3,2,1,0],[2,1,3,0],[3,0,2,1],[1,2,0,3],[0,3,1,2],[0,2,3,1],[3,1,0,2],[2,0,1,3],[1,3,2,0],[1,0,2,3],[2,3,1,0],[0,1,3,2],[3,2,0,1],[0,2,1,3],[1,3,0,2],[2,0,3,1],[3,1,2,0],[2,1,0,3],[0,3,2,1],[1,2,3,0],[3,0,1,2]]),t.D4_PERMS}}]),t}();t.D4Group=n,n.__class="com.vzome.core.math.symmetry.D4Group",n.__interfaces=["com.vzome.core.math.symmetry.CoxeterGroup"]}((n=t.math||(t.math={})).symmetry||(n.symmetry={}))})((t=e.vzome||(e.vzome={})).core||(t.core={}))}(com||(com={})),function(e){var t;(function(t){var n;!function(t){var n=function(){function t(e,n){if(_classCallCheck(this,t),void 0===this.m_map&&(this.m_map=null),this.m_order=1,void 0===this.mSymmetryGroup&&(this.mSymmetryGroup=null),this.mSymmetryGroup=e,null==n){var r=e.getChiralOrder();n=function(e){for(var t=[];e-- >0;)t.push(0);return t}(r);for(var i=0;i<r;i++)n[i]=i}this.m_map=n;for(var o=0,a=0;a<20;a++)if(0===(o=this.m_map[o])){this.m_order=a+1;break}}return _createClass(t,[{key:"getJsonValue",value:function(){return this.m_map}},{key:"toString",value:function(){return"permutation #"+this.mapIndex(0)}},{key:"getOrder",value:function(){return this.m_order}},{key:"compose",value:function(e){return this.mSymmetryGroup.getPermutation(this.m_map[e.m_map[0]])}},{key:"inverse",value:function(){for(var e=0;e<this.m_map.length;e++)if(0===this.mapIndex(e))return this.mSymmetryGroup.getPermutation(e);return null}},{key:"power",value:function(e){if(0===e)return this.mSymmetryGroup.getPermutation(0);var t=this;return e<0&&(t=this.inverse(),e*=-1),1===e?t:t.compose(t.power(e-1))}},{key:"mapIndex",value:function(t){return t<0||t>=this.m_map.length?e.vzome.core.math.symmetry.Symmetry.NO_ROTATION:this.m_map[t]}},{key:"permute",value:function(e,t){var n=e.getOrientation();return n=this.mapIndex(n),e.getDirection().getAxis$int$int((t+e.getSense())%2,n)}}]),t}();t.Permutation=n,n.__class="com.vzome.core.math.symmetry.Permutation"}((n=t.math||(t.math={})).symmetry||(n.symmetry={}))})((t=e.vzome||(e.vzome={})).core||(t.core={}))}(com||(com={})),function(e){var t;(function(t){var n;!function(t){var n=function(){function t(n,r){_classCallCheck(this,t),void 0===this.worldTrianglePoint&&(this.worldTrianglePoint=null),void 0===this.worldTriangleNormal&&(this.worldTriangleNormal=null),void 0===this.dotTransform&&(this.dotTransform=null),void 0===this.orbitProbe&&(this.orbitProbe=null),void 0===this.symmetry&&(this.symmetry=null),void 0===this.debugger&&(this.debugger=null),void 0===this.field&&(this.field=null),void 0===this.vefDebugOutput&&(this.vefDebugOutput=null),this.symmetry=n,this.field=n.getField();var i=new e.vzome.core.algebra.AlgebraicMatrix(r),o=this.field.basisVector(3,e.vzome.core.algebra.AlgebraicVector.X),a=this.field.basisVector(3,e.vzome.core.algebra.AlgebraicVector.Y),s=this.field.basisVector(3,e.vzome.core.algebra.AlgebraicVector.Z),l=[s,o.plus(s),a.plus(s)],u=new e.vzome.core.algebra.AlgebraicMatrix(l);this.dotTransform=u.times(i.inverse());var c=r[0],f=r[1],h=r[2];this.orbitProbe=f.plus(h.plus(c)).toRealVector(),this.worldTrianglePoint=c,this.worldTriangleNormal=e.vzome.core.algebra.AlgebraicVectors.getNormal$java_util_Collection(java.util.Arrays.asList(r)),null!=this.debugger&&(this.debugger.exportSegment(this.field.origin(3),f),this.debugger.exportPoint(f),this.debugger.exportSegment(this.field.origin(3),h),this.debugger.exportPoint(h),this.debugger.exportSegment(this.field.origin(3),c),this.debugger.exportPoint(c),this.debugger.exportPolygon(java.util.Arrays.asList(r)),this.debugger.exportPolygon(java.util.Arrays.asList(l)),this.debugger.exportSegment(c,this.worldTriangleNormal))}return _createClass(t,[{key:"enableDebugger",value:function(){this.vefDebugOutput=new java.io.StringWriter,this.debugger=new e.vzome.core.algebra.VefVectorExporter(this.vefDebugOutput,this.field)}},{key:"locateOrbitDot",value:function(t){var n=this.symmetry.getAxis$com_vzome_core_math_RealVector$java_util_Set(this.orbitProbe,java.util.Collections.singleton(t)).normal(),r=this.field.origin(3),i=e.vzome.core.algebra.AlgebraicVectors.getLinePlaneIntersection(r,n,this.worldTrianglePoint,this.worldTriangleNormal),o=this.dotTransform.timesColumn(i),a=o.getComponent(e.vzome.core.algebra.AlgebraicVector.X).evaluate(),s=o.getComponent(e.vzome.core.algebra.AlgebraicVector.Y).evaluate();t.setDotLocation(a,s),null!=this.debugger&&(this.debugger.exportSegment(this.field.origin(3),n),this.debugger.exportPoint(i),this.debugger.exportPoint(o))}},{key:"getDebuggerOutput",value:function(){return this.debugger.finishExport(),this.debugger=null,this.vefDebugOutput.toString()}}]),t}();t.OrbitDotLocator=n,n.__class="com.vzome.core.math.symmetry.OrbitDotLocator"}((n=t.math||(t.math={})).symmetry||(n.symmetry={}))})((t=e.vzome||(e.vzome={})).core||(t.core={}))}(com||(com={})),function(e){var t;(function(t){var n;!function(t){var n=function(){function t(n,r,i,o,a,s,l){var u=this;if(_classCallCheck(this,t),!(null!=n&&n instanceof e.vzome.core.math.symmetry.Direction||null===n)||"number"!==typeof r&&null!==r||"number"!==typeof i&&null!==i||"number"!==typeof o&&null!==o||!(null!=a&&a instanceof e.vzome.core.math.symmetry.Permutation||null===a)||!(null!=s&&s instanceof e.vzome.core.algebra.AlgebraicVector||null===s)||"boolean"!==typeof l&&null!==l){if(!(null!=n&&n instanceof e.vzome.core.math.symmetry.Direction||null===n)||"number"!==typeof r&&null!==r||"number"!==typeof i&&null!==i||"number"!==typeof o&&null!==o||!(null!=a&&a instanceof e.vzome.core.math.symmetry.Permutation||null===a)||!(null!=s&&s instanceof e.vzome.core.algebra.AlgebraicVector||null===s)||void 0!==l)throw new Error("invalid overload");void 0===this.mDirection&&(this.mDirection=null),void 0===this.orientation&&(this.orientation=0),void 0===this.mSense&&(this.mSense=0),void 0===this.mRotationPerm&&(this.mRotationPerm=null),void 0===this.mRotation&&(this.mRotation=0),void 0===this.__normal&&(this.__normal=null),this.outbound=!0,void 0===this.mDirection&&(this.mDirection=null),void 0===this.orientation&&(this.orientation=0),void 0===this.mSense&&(this.mSense=0),this.outbound=!0,void 0===this.mRotationPerm&&(this.mRotationPerm=null),void 0===this.mRotation&&(this.mRotation=0),void 0===this.__normal&&(this.__normal=null),u.mDirection=n,u.mRotation=o,u.mRotationPerm=a,u.orientation=r,u.__normal=s,u.mSense=i,u.outbound=!0}else void 0===this.mDirection&&(this.mDirection=null),void 0===this.orientation&&(this.orientation=0),void 0===this.mSense&&(this.mSense=0),void 0===this.mRotationPerm&&(this.mRotationPerm=null),void 0===this.mRotation&&(this.mRotation=0),void 0===this.__normal&&(this.__normal=null),this.outbound=!0,void 0===this.mDirection&&(this.mDirection=null),void 0===this.orientation&&(this.orientation=0),void 0===this.mSense&&(this.mSense=0),this.outbound=!0,void 0===this.mRotationPerm&&(this.mRotationPerm=null),void 0===this.mRotation&&(this.mRotation=0),void 0===this.__normal&&(this.__normal=null),u.mDirection=n,u.mRotation=o,u.mRotationPerm=a,u.orientation=r,u.__normal=s,u.mSense=i,u.outbound=l}return _createClass(t,[{key:"normal",value:function(){return this.__normal}},{key:"isOutbound",value:function(){return this.outbound}},{key:"getLength",value:function(e){return e.getLength(this.__normal)}},{key:"hashCode",value:function(){var e,t=1;return t=31*(t=31*(t=31*t+(null==this.mDirection?0:(e=this.mDirection).hashCode?e.hashCode():e.toString().split("").reduce(function(e,t){return(e<<5)-e+t.charCodeAt(0)|0},0)))+this.mSense)+(null==this.__normal?0:function(e){return e.hashCode?e.hashCode():e.toString().split("").reduce(function(e,t){return(e<<5)-e+t.charCodeAt(0)|0},0)}(this.__normal))}},{key:"equals",value:function(e){if(this===e)return!0;if(null==e)return!1;if(this.constructor!==e.constructor)return!1;var t=e;if(null==this.mDirection){if(null!=t.mDirection)return!1}else if(!this.mDirection.equals(t.mDirection))return!1;if(this.mSense!==t.mSense)return!1;if(null==this.__normal){if(null!=t.__normal)return!1}else if(!this.__normal.equals(t.__normal))return!1;return!0}},{key:"toString",value:function(){return this.mDirection.toString()+" "+(this.mSense===e.vzome.core.math.symmetry.Symmetry.PLUS?"+":"-")+this.orientation+(this.outbound?"":"i")}},{key:"getOrbit",value:function(){return this.mDirection}},{key:"getDirection",value:function(){return this.mDirection}},{key:"getOrientation",value:function(){return this.orientation}},{key:"getRotation",value:function(){return this.mRotation}},{key:"getCorrectRotation",value:function(){return null==this.mRotationPerm?e.vzome.core.math.symmetry.Symmetry.NO_ROTATION:this.mRotationPerm.mapIndex(0)}},{key:"getRotationPermutation",value:function(){return this.mRotationPerm}},{key:"getSense",value:function(){return this.mSense}},{key:"rename",value:function(e,t,n){this.mSense=e,this.orientation=t,this.outbound=n}},{key:"getXML",value:function(t){e.vzome.xml.DomUtils.addAttribute(t,"symm",this.mDirection.getSymmetry().getName()),e.vzome.xml.DomUtils.addAttribute(t,"dir",this.mDirection.getName()),e.vzome.xml.DomUtils.addAttribute(t,"index",""+this.orientation),this.mSense!==e.vzome.core.math.symmetry.Symmetry.PLUS&&e.vzome.xml.DomUtils.addAttribute(t,"sense","minus")}}]),t}();n.PLUS=0,n.MINUS=1,t.Axis=n,n.__class="com.vzome.core.math.symmetry.Axis"}((n=t.math||(t.math={})).symmetry||(n.symmetry={}))})((t=e.vzome||(e.vzome={})).core||(t.core={}))}(com||(com={})),function(e){var t;(function(t){var n;!function(t){var n=function(){function t(e,n){_classCallCheck(this,t),void 0===this.mName&&(this.mName=null),void 0===this.mDirection&&(this.mDirection=null),this.mName=n,this.mDirection=e}return _createClass(t,[{key:"getName$",value:function(){return this.mName}},{key:"getAxis",value:function(e){return this.mDirection.getAxis$int$int(this.getSign(e),this.getInteger(e))}},{key:"getSign",value:function(t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"-"===e.substr(n,"-".length)}(t,"-")?e.vzome.core.math.symmetry.Symmetry.MINUS:e.vzome.core.math.symmetry.Symmetry.PLUS}},{key:"getInteger",value:function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"-"===e.substr(n,"-".length)}(e,"-")||function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"+"===e.substr(n,"+".length)}(e,"+")?javaemul.internal.IntegerHelper.parseInt(e.substring(1)):javaemul.internal.IntegerHelper.parseInt(e)}},{key:"getName$com_vzome_core_math_symmetry_Axis",value:function(e){return t.SIGN_$LI$()[e.getSense()]+e.getOrientation()}},{key:"getName",value:function(t){if(null!=t&&t instanceof e.vzome.core.math.symmetry.Axis||null===t)return this.getName$com_vzome_core_math_symmetry_Axis(t);if(void 0===t)return this.getName$();throw new Error("invalid overload")}},{key:"getFullName",value:function(e){return this.mName+" "+this.getName$com_vzome_core_math_symmetry_Axis(e)}},{key:"getDirection",value:function(){return this.mDirection}}],[{key:"SIGN_$LI$",value:function(){return null==t.SIGN&&(t.SIGN=["+","-"]),t.SIGN}}]),t}();t.DirectionNaming=n,n.__class="com.vzome.core.math.symmetry.DirectionNaming"}((n=t.math||(t.math={})).symmetry||(n.symmetry={}))})((t=e.vzome||(e.vzome={})).core||(t.core={}))}(com||(com={})),function(e){var t;(function(t){var n;!function(t){var n=function(){function n(t,r,i,o){var a=this;if(_classCallCheck(this,n),"number"!==typeof t&&null!==t||!(null!=r&&(null!=r.__interfaces&&r.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicField")>=0||null!=r.constructor&&null!=r.constructor.__interfaces&&r.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicField")>=0)||null===r)||"string"!==typeof i&&null!==i||!(null!=o&&o instanceof e.vzome.core.algebra.AlgebraicMatrix||null===o)){if("number"!==typeof t&&null!==t||!(null!=r&&(null!=r.__interfaces&&r.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicField")>=0||null!=r.constructor&&null!=r.constructor.__interfaces&&r.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicField")>=0)||null===r)||"string"!==typeof i&&null!==i||void 0!==o)throw new Error("invalid overload");void 0===this.mOrientations&&(this.mOrientations=null),void 0===this.mMatrices&&(this.mMatrices=null),void 0===this.mField&&(this.mField=null),void 0===this.dotLocator&&(this.dotLocator=null),this.mDirectionMap=new java.util.HashMap,this.mDirectionList=new java.util.ArrayList,this.orbitSet=new e.vzome.core.math.symmetry.OrbitSet(this),this.principalReflection=null,this.mDirectionMap=new java.util.HashMap,this.mDirectionList=new java.util.ArrayList,this.orbitSet=new e.vzome.core.math.symmetry.OrbitSet(this),void 0===this.mOrientations&&(this.mOrientations=null),void 0===this.mMatrices&&(this.mMatrices=null),void 0===this.mField&&(this.mField=null),this.principalReflection=null,void 0===this.dotLocator&&(this.dotLocator=null),function(){a.mField=r,a.principalReflection=null,a.mOrientations=function(e){for(var t=[];e-- >0;)t.push(null);return t}(t),a.mMatrices=function(e){for(var t=[];e-- >0;)t.push(null);return t}(t),a.createInitialPermutations();for(var n=!1;!n;){n=!0;for(var o=1;o<t;o++){var s=a.mOrientations[o];if(null!=s){n=!0;for(var l=1;l<t;l++){var u=a.mOrientations[l];if(null!=u){var c=s.mapIndex(u.mapIndex(0));if(null==a.mOrientations[c]){for(var f=function(e){for(var t=[];e-- >0;)t.push(0);return t}(t),h=0;h<t;h++)f[h]=s.mapIndex(u.mapIndex(h));a.mOrientations[c]=new e.vzome.core.math.symmetry.Permutation(a,f)}}else n=!1}if(n)break}else n=!1}}a.createFrameOrbit(i),a.createOtherOrbits()}()}else void 0===this.mOrientations&&(this.mOrientations=null),void 0===this.mMatrices&&(this.mMatrices=null),void 0===this.mField&&(this.mField=null),void 0===this.dotLocator&&(this.dotLocator=null),this.mDirectionMap=new java.util.HashMap,this.mDirectionList=new java.util.ArrayList,this.orbitSet=new e.vzome.core.math.symmetry.OrbitSet(this),this.principalReflection=null,this.mDirectionMap=new java.util.HashMap,this.mDirectionList=new java.util.ArrayList,this.orbitSet=new e.vzome.core.math.symmetry.OrbitSet(this),void 0===this.mOrientations&&(this.mOrientations=null),void 0===this.mMatrices&&(this.mMatrices=null),void 0===this.mField&&(this.mField=null),this.principalReflection=null,void 0===this.dotLocator&&(this.dotLocator=null),function(){a.mField=r,a.principalReflection=o,a.mOrientations=function(e){for(var t=[];e-- >0;)t.push(null);return t}(t),a.mMatrices=function(e){for(var t=[];e-- >0;)t.push(null);return t}(t),a.createInitialPermutations();for(var n=!1;!n;){n=!0;for(var s=1;s<t;s++){var l=a.mOrientations[s];if(null!=l){n=!0;for(var u=1;u<t;u++){var c=a.mOrientations[u];if(null!=c){var f=l.mapIndex(c.mapIndex(0));if(null==a.mOrientations[f]){for(var h=function(e){for(var t=[];e-- >0;)t.push(0);return t}(t),d=0;d<t;d++)h[d]=l.mapIndex(c.mapIndex(d));a.mOrientations[f]=new e.vzome.core.math.symmetry.Permutation(a,h)}}else n=!1}if(n)break}else n=!1}}a.createFrameOrbit(i),a.createOtherOrbits()}()}return _createClass(n,[{key:"getField",value:function(){return this.mField}},{key:"getPreferredAxis",value:function(){return null}},{key:"createZoneOrbit$java_lang_String$int$int$int_A_A",value:function(e,t,n,r){var i=this.mField.createVector(r);return this.createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector$boolean(e,t,n,i,!1)}},{key:"createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector",value:function(e,t,n,r){return this.createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector$boolean(e,t,n,r,!1)}},{key:"createZoneOrbit$java_lang_String$int$int$int_A_A$boolean",value:function(e,t,n,r,i){var o=this.mField.createVector(r);return this.createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector$boolean$boolean(e,t,n,o,i,!1)}},{key:"createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector$boolean",value:function(e,t,n,r,i){return this.createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector$boolean$boolean(e,t,n,r,i,!1)}},{key:"createZoneOrbit$java_lang_String$int$int$int_A_A$boolean$boolean",value:function(e,t,n,r,i,o){var a=this.mField.createVector(r);return this.createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector$boolean$boolean$com_vzome_core_algebra_AlgebraicNumber(e,t,n,a,i,!1,null)}},{key:"createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector$boolean$boolean",value:function(e,t,n,r,i,o){return this.createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector$boolean$boolean$com_vzome_core_algebra_AlgebraicNumber(e,t,n,r,i,!1,this.mField.one())}},{key:"createZoneOrbit$java_lang_String$int$int$int_A_A$boolean$boolean$com_vzome_core_algebra_AlgebraicNumber",value:function(e,t,n,r,i,o,a){var s=this.mField.createVector(r);return this.createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector$boolean$boolean$com_vzome_core_algebra_AlgebraicNumber(e,t,n,s,i,o,a)}},{key:"createZoneOrbit",value:function(t,n,r,i,o,a,s){if("string"!==typeof t&&null!==t||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r||!(null!=i&&i instanceof Array&&(0==i.length||null==i[0]||i[0]instanceof Array)||null===i)||"boolean"!==typeof o&&null!==o||"boolean"!==typeof a&&null!==a||!(null!=s&&(null!=s.__interfaces&&s.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0||null!=s.constructor&&null!=s.constructor.__interfaces&&s.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0)||null===s)){if("string"!==typeof t&&null!==t||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r||!(null!=i&&i instanceof e.vzome.core.algebra.AlgebraicVector||null===i)||"boolean"!==typeof o&&null!==o||"boolean"!==typeof a&&null!==a||!(null!=s&&(null!=s.__interfaces&&s.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0||null!=s.constructor&&null!=s.constructor.__interfaces&&s.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0)||null===s)){if("string"!==typeof t&&null!==t||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r||!(null!=i&&i instanceof Array&&(0==i.length||null==i[0]||i[0]instanceof Array)||null===i)||"boolean"!==typeof o&&null!==o||"boolean"!==typeof a&&null!==a||void 0!==s){if("string"!==typeof t&&null!==t||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r||!(null!=i&&i instanceof e.vzome.core.algebra.AlgebraicVector||null===i)||"boolean"!==typeof o&&null!==o||"boolean"!==typeof a&&null!==a||void 0!==s){if("string"!==typeof t&&null!==t||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r||!(null!=i&&i instanceof Array&&(0==i.length||null==i[0]||i[0]instanceof Array)||null===i)||"boolean"!==typeof o&&null!==o||void 0!==a||void 0!==s){if("string"!==typeof t&&null!==t||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r||!(null!=i&&i instanceof e.vzome.core.algebra.AlgebraicVector||null===i)||"boolean"!==typeof o&&null!==o||void 0!==a||void 0!==s){if("string"!==typeof t&&null!==t||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r||!(null!=i&&i instanceof Array&&(0==i.length||null==i[0]||i[0]instanceof Array)||null===i)||void 0!==o||void 0!==a||void 0!==s){if("string"!==typeof t&&null!==t||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r||!(null!=i&&i instanceof e.vzome.core.algebra.AlgebraicVector||null===i)||void 0!==o||void 0!==a||void 0!==s)throw new Error("invalid overload");return this.createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector(t,n,r,i)}return this.createZoneOrbit$java_lang_String$int$int$int_A_A(t,n,r,i)}return this.createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector$boolean(t,n,r,i,o)}return this.createZoneOrbit$java_lang_String$int$int$int_A_A$boolean(t,n,r,i,o)}return this.createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector$boolean$boolean(t,n,r,i,o,a)}return this.createZoneOrbit$java_lang_String$int$int$int_A_A$boolean$boolean(t,n,r,i,o,a)}return this.createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector$boolean$boolean$com_vzome_core_algebra_AlgebraicNumber(t,n,r,i,o,a,s)}return this.createZoneOrbit$java_lang_String$int$int$int_A_A$boolean$boolean$com_vzome_core_algebra_AlgebraicNumber(t,n,r,i,o,a,s)}},{key:"createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector$boolean$boolean$com_vzome_core_algebra_AlgebraicNumber",value:function(t,n,r,i,o,a,s){var l=this.mDirectionMap.get(t);null!=l&&(this.mDirectionMap.remove(t),this.orbitSet.remove(l),this.mDirectionList.remove(l));var u=new e.vzome.core.math.symmetry.Direction(t,this,n,r,i,o);return a&&u.setHalfSizes(!0),u.setUnitLength(s),this.mDirectionMap.put(u.getName(),u),this.mDirectionList.add(u),this.orbitSet.add(u),null!=this.dotLocator&&this.dotLocator.locateOrbitDot(u),u}},{key:"createNewZoneOrbit",value:function(t,n,r,i){var o=new e.vzome.core.math.symmetry.Direction(t,this,n,r,i,!1).withCorrection();return null!=this.dotLocator&&this.dotLocator.locateOrbitDot(o),o}},{key:"getOrbitSet",value:function(){return this.orbitSet}},{key:"getMapping",value:function(t,n){if(n===e.vzome.core.math.symmetry.Symmetry.NO_ROTATION)return e.vzome.core.math.symmetry.Symmetry.NO_ROTATION;for(var r=0;r<this.mOrientations.length;r++)if(this.mOrientations[r].mapIndex(t)===n)return r;return e.vzome.core.math.symmetry.Symmetry.NO_ROTATION}},{key:"mapAxis",value:function(e,t){return this.mapAxes([e],[t])}},{key:"mapAxes",value:function(e,t){if(e.length!==t.length)throw new n.MismatchedAxes("must map to equal number of axes");if(e.length>3)throw new n.MismatchedAxes("must map three or fewer axes");for(var r=0;r<e.length;r++)if(e[r].getDirection().equals(t[r].getDirection()))throw new n.MismatchedAxes("must map between same color axes");return null}},{key:"iterator",value:function(){return this.mDirectionList.iterator()}},{key:"getDirections",value:function(){return this.iterator()}},{key:"getAxis$com_vzome_core_algebra_AlgebraicVector",value:function(e){return this.getAxis$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_math_symmetry_OrbitSet(e,this.orbitSet)}},{key:"getAxis$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_math_symmetry_OrbitSet",value:function(n,r){if(n.isOrigin())return null;var i=this.getSpecialOrbit(t.Symmetry.SpecialOrbit.BLACK);if(null==i)for(var o=r.iterator();o.hasNext();){var a=o.next().getAxis$com_vzome_core_algebra_AlgebraicVector(n);if(null!=a)return a}else for(var s=i.getAxis$com_vzome_core_math_RealVector(n.toRealVector()),l=s.getOrientation(),u=s.getSense(),c=r.iterator();c.hasNext();){var f=c.next().getCanonicalAxis(u,l);if(e.vzome.core.algebra.AlgebraicVectors.areParallel(f.normal(),n))return f}return null}},{key:"getAxis",value:function(t,n){if((null!=t&&t instanceof e.vzome.core.algebra.AlgebraicVector||null===t)&&(null!=n&&n instanceof e.vzome.core.math.symmetry.OrbitSet||null===n))return this.getAxis$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_math_symmetry_OrbitSet(t,n);if((null!=t&&t instanceof e.vzome.core.math.RealVector||null===t)&&(null!=n&&(null!=n.__interfaces&&n.__interfaces.indexOf("java.util.Set")>=0||null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("java.util.Set")>=0)||null===n))return this.getAxis$com_vzome_core_math_RealVector$java_util_Set(t,n);if((null!=t&&t instanceof e.vzome.core.algebra.AlgebraicVector||null===t)&&void 0===n)return this.getAxis$com_vzome_core_algebra_AlgebraicVector(t);throw new Error("invalid overload")}},{key:"getAxis$com_vzome_core_math_RealVector$java_util_Set",value:function(n,r){if(e.vzome.core.math.RealVector.ORIGIN_$LI$().equals(n))return null;var i=-1,o=null,a=-1,s=-1,l=this.getSpecialOrbit(t.Symmetry.SpecialOrbit.BLACK);if(null!=l){var u=l.getChiralAxis(n);a=u.getOrientation(),s=u.getSense()}for(var c=null==r?this.orbitSet.iterator():r.iterator();c.hasNext();){var f=c.next(),h=a>=0?f.getCanonicalAxis(s,a):f.getAxisBruteForce(n),d=h.normal().toRealVector(),p=n.dot(d)/(n.length()*d.length());p>i&&(i=p,o=h)}return o}},{key:"getChiralOrder",value:function(){return this.mOrientations.length}},{key:"getPermutation",value:function(e){return e<0||e>this.mOrientations.length?null:this.mOrientations[e]}},{key:"getPermutations",value:function(){return this.mOrientations}},{key:"getMatrix",value:function(e){return this.mMatrices[e]}},{key:"getMatrices",value:function(){return this.mMatrices}},{key:"inverse",value:function(t){return t<0||t>this.mOrientations.length?e.vzome.core.math.symmetry.Symmetry.NO_ROTATION:this.mOrientations[t].inverse().mapIndex(0)}},{key:"getDirection",value:function(e){return this.mDirectionMap.get(e)}},{key:"getDirectionNames",value:function(){for(var e=new java.util.ArrayList,t=this.mDirectionList.iterator();t.hasNext();){var n=t.next();n.isAutomatic()||e.add(n.getName())}return e.toArray([])}},{key:"closure",value:function(e){for(var t=new java.util.ArrayList,n=function(e){for(var t=[];e-- >0;)t.push(null);return t}(this.mOrientations.length),r=0,i=0;i<e.length;i++){var o=this.mOrientations[e[i]];n[e[i]]=o,t.add(o),++r}for(;!t.isEmpty();)for(var a=t.remove(0),s=0;s<n.length;s++){var l=n[s];if(null!=l){var u=a.compose(l),c=u.mapIndex(0);null==n[c]&&(t.add(u),n[c]=u,++r),null==n[c=(u=l.compose(a)).mapIndex(0)]&&(t.add(u),n[c]=u,++r)}}for(var f=function(e){for(var t=[];e-- >0;)t.push(0);return t}(r),h=0,d=0;d<n.length;d++)null!=n[d]&&(f[h++]=d);return f}},{key:"getIncidentOrientations",value:function(e){return null}},{key:"embedInR3",value:function(e){return e.toRealVector()}},{key:"isTrivial",value:function(){return!0}},{key:"getPrincipalReflection",value:function(){return this.principalReflection}},{key:"getOrbitTriangle",value:function(){return[this.getSpecialOrbit(t.Symmetry.SpecialOrbit.BLUE).getPrototype(),this.getSpecialOrbit(t.Symmetry.SpecialOrbit.RED).getPrototype(),this.getSpecialOrbit(t.Symmetry.SpecialOrbit.YELLOW).getPrototype()]}},{key:"computeOrbitDots",value:function(){this.dotLocator=new e.vzome.core.math.symmetry.OrbitDotLocator(this,this.getOrbitTriangle());for(var t=this.mDirectionList.iterator();t.hasNext();){var n=t.next();this.dotLocator.locateOrbitDot(n)}return null}},{key:"reverseOrbitTriangle",value:function(){return!1}}]),n}();t.AbstractSymmetry=n,n.__class="com.vzome.core.math.symmetry.AbstractSymmetry",n.__interfaces=["com.vzome.core.math.symmetry.Symmetry","java.lang.Iterable","com.vzome.core.math.symmetry.Embedding"],function(e){var t=function(e){_inherits(n,java.lang.RuntimeException);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),r=t.call(this,e),Object.setPrototypeOf(_assertThisInitialized(r),n.prototype),r}return n}();t.serialVersionUID=0x243aa41028936800,e.MismatchedAxes=t,t.__class="com.vzome.core.math.symmetry.AbstractSymmetry.MismatchedAxes",t.__interfaces=["java.io.Serializable"]}(n=t.AbstractSymmetry||(t.AbstractSymmetry={}))}((n=t.math||(t.math={})).symmetry||(n.symmetry={}))})((t=e.vzome||(e.vzome={})).core||(t.core={}))}(com||(com={})),function(e){!function(e){var t;(function(e){var t;!function(e){var t=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"embedInR3",value:function(e){return e.toRealVector()}},{key:"isTrivial",value:function(){return!0}}]),e}();e.Trivial=t,t.__class="com.vzome.core.math.symmetry.Embedding.Trivial",t.__interfaces=["com.vzome.core.math.symmetry.Embedding"]}((t=e.symmetry||(e.symmetry={})).Embedding||(t.Embedding={}))})((t=e.core||(e.core={})).math||(t.math={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){var t;(function(e){var t;!function(e){var t=function(e){_inherits(n,java.util.TreeSet);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),void 0===(r=t.call(this)).symmetry&&(r.symmetry=null),r.symmetry=e,r}return _createClass(n,[{key:"getSymmetry",value:function(){return this.symmetry}},{key:"getAxis",value:function(e){return this.symmetry.getAxis$com_vzome_core_math_RealVector$java_util_Set(e,this)}},{key:"getDirection",value:function(e){for(var t=this.iterator();t.hasNext();){var n=t.next();if(r=n.getName(),i=e,r&&r.equals?r.equals(i):r===i)return n}var r,i;return null}}]),n}();e.OrbitSet=t,t.__class="com.vzome.core.math.symmetry.OrbitSet",t.__interfaces=["java.lang.Cloneable","java.util.SortedSet","java.util.Collection","java.util.Set","java.util.NavigableSet","java.lang.Iterable","java.io.Serializable"],function(e){var t=function(){function e(t){_classCallCheck(this,e),this.__parent=t,this.names=this.__parent.getSymmetry().getDirectionNames()}return _createClass(e,[{key:"compare",value:function(e,t){for(var n,r,i=e.getName(),o=t.getName(),a=-1,s=-1,l=0;l<this.names.length;l++)n=i,r=this.names[l],(n&&n.equals?n.equals(r):n===r)?a=l:function(e,t){return e&&e.equals?e.equals(t):e===t}(o,this.names[l])&&(s=l);return s-a}}]),e}();e.OrbitComparator=t,t.__class="com.vzome.core.math.symmetry.OrbitSet.OrbitComparator",t.__interfaces=["java.util.Comparator"]}(t=e.OrbitSet||(e.OrbitSet={}))}((t=e.math||(e.math={})).symmetry||(t.symmetry={}))})((t=e.vzome||(e.vzome={})).core||(t.core={}))}(com||(com={})),function(e){var t;(function(e){var t;!function(e){var t=function(){function e(){_classCallCheck(this,e),this.mNamings=new java.util.HashMap}return _createClass(e,[{key:"addDirectionNaming",value:function(e){this.mNamings.put(e.getName$(),e)}},{key:"getAxis",value:function(e,t){var n=this.mNamings.get(e);return null==n?null:n.getAxis(t)}},{key:"getName",value:function(t){for(var n=this.mNamings.values().iterator();n.hasNext();){var r=n.next();if(r.getDirection().equals(t.getDirection()))return r.getName$com_vzome_core_math_symmetry_Axis(t)}return e.UNKNOWN_AXIS}}]),e}();t.UNKNOWN_AXIS="UNKNOWN AXIS",e.NamingConvention=t,t.__class="com.vzome.core.math.symmetry.NamingConvention"}((t=e.math||(e.math={})).symmetry||(t.symmetry={}))})((t=e.vzome||(e.vzome={})).core||(t.core={}))}(com||(com={})),function(e){var t;(function(t){var n;!function(t){var n;(n=t.Symmetry||(t.Symmetry={})).PLUS=e.vzome.core.math.symmetry.Axis.PLUS,n.MINUS=e.vzome.core.math.symmetry.Axis.MINUS,n.NO_ROTATION=-1,n.TETRAHEDRAL="tetrahedral",n.PYRITOHEDRAL="pyritohedral",function(e){var t;(t=e.SpecialOrbit||(e.SpecialOrbit={}))[t.BLUE=0]="BLUE",t[t.RED=1]="RED",t[t.YELLOW=2]="YELLOW",t[t.BLACK=3]="BLACK"}(t.Symmetry||(t.Symmetry={}))}((n=t.math||(t.math={})).symmetry||(n.symmetry={}))})((t=e.vzome||(e.vzome={})).core||(t.core={}))}(com||(com={})),function(e){var t;(function(t){var n;!function(t){var n=function(){function t(e,n,r,i,o,a){_classCallCheck(this,t),void 0===this.mName&&(this.mName=null),void 0===this.zoneNames&&(this.zoneNames=null),this.zoneVectors=new java.util.HashMap,void 0===this.mSymmetryGroup&&(this.mSymmetryGroup=null),void 0===this.mPrototype&&(this.mPrototype=null),void 0===this.mStandard&&(this.mStandard=!1),void 0===this.mAutomatic&&(this.mAutomatic=!1),void 0===this.__hasHalfSizes&&(this.__hasHalfSizes=!1),this.scaleNames=["shorter","short","medium","long"],this.scales=function(e){for(var t=[];e-- >0;)t.push(null);return t}(this.scaleNames.length),void 0===this.unitLength&&(this.unitLength=null),void 0===this.unitLengthReciprocal&&(this.unitLengthReciprocal=null),this.dotX=-999,this.dotY=-999,void 0===this.index&&(this.index=0),this.canonicalize=0,this.index=t.globalIndex++,this.mStandard=a,this.mName=e,this.mSymmetryGroup=n;for(var s=0;s<this.scales.length;s++)this.scales[s]=this.mSymmetryGroup.getField().createPower$int(s-1);this.mPrototype=o;var l=n.getChiralOrder();this.zoneNames=function e(t){if(0==t.length)return null;for(var n=[],r=0;r<t[0];r++)n.push(e(t.slice(1)));return n}([2,2,l]);for(var u=0;u<l;u++){var c=n.getMatrix(u);if(null==c)return;var f=n.getPermutation(u),h=f.mapIndex(r),d=f.mapIndex(i),p=c.timesColumn(o),m=n.getMapping(h,d);this.createAxis$int$int$com_vzome_core_algebra_AlgebraicVector(h,m,p)}}return _createClass(t,[{key:"hashCode",value:function(){var e,t=1;return t=31*(t=31*(t=31*t+this.index)+(null==this.mPrototype?0:(e=this.mPrototype).hashCode?e.hashCode():e.toString().split("").reduce(function(e,t){return(e<<5)-e+t.charCodeAt(0)|0},0)))+(null==this.mSymmetryGroup?0:function(e){return e.hashCode?e.hashCode():e.toString().split("").reduce(function(e,t){return(e<<5)-e+t.charCodeAt(0)|0},0)}(this.mSymmetryGroup))}},{key:"equals",value:function(e){if(this===e)return!0;if(null==e)return!1;if(this.constructor!==e.constructor)return!1;var t,n,r=e;if(this.index!==r.index)return!1;if(null==this.mPrototype){if(null!=r.mPrototype)return!1}else if(!this.mPrototype.equals(r.mPrototype))return!1;if(null==this.mSymmetryGroup){if(null!=r.mSymmetryGroup)return!1}else if(t=this.mSymmetryGroup,n=r.mSymmetryGroup,!(t&&t.equals?t.equals(n):t===n))return!1;return!0}},{key:"setAutomatic",value:function(e){this.mAutomatic=e}},{key:"isAutomatic",value:function(){return this.mAutomatic}},{key:"isStandard",value:function(){return this.mStandard}},{key:"toString",value:function(){return this.mSymmetryGroup.getName()+" "+this.mName}},{key:"getPrototype",value:function(){return this.mPrototype}},{key:"iterator",value:function(){return this.zoneVectors.values().iterator()}},{key:"getAxes",value:function(){return this.iterator()}},{key:"getSymmetry",value:function(){return this.mSymmetryGroup}},{key:"getName",value:function(){return this.mName}},{key:"getAxis$com_vzome_core_algebra_AlgebraicVector",value:function(t){for(var n=this.zoneVectors.values().iterator();n.hasNext();){var r=n.next(),i=r.normal();if(e.vzome.core.algebra.AlgebraicVectors.areParallel(i,t)){if(i.dot(t).evaluate()>0)return r;if(null==this.mSymmetryGroup.getPrincipalReflection()){var o=(r.getSense()+1)%2;return this.getAxis$int$int(o,r.getOrientation())}return this.getAxis$int$int$boolean(r.getSense(),r.getOrientation(),!r.isOutbound())}}return null}},{key:"getAxis$com_vzome_core_math_RealVector",value:function(e){return this.getSymmetry().getAxis$com_vzome_core_math_RealVector$java_util_Set(e,java.util.Collections.singleton(this))}},{key:"getChiralAxis",value:function(t){if(e.vzome.core.math.RealVector.ORIGIN_$LI$().equals(t))return null;var n=t.length(),r=new java.util.HashSet,i=0,o=e.vzome.core.math.symmetry.Symmetry.PLUS,a=this.getCanonicalAxis(e.vzome.core.math.symmetry.Symmetry.PLUS,0);r.add(a);var s=a.normal().toRealVector(),l=t.dot(s)/(n*s.length());for(l<0&&(a=this.getCanonicalAxis(e.vzome.core.math.symmetry.Symmetry.MINUS,0),o=e.vzome.core.math.symmetry.Symmetry.MINUS,r.add(a),s=a.normal().toRealVector(),l=t.dot(s)/(n*s.length()));;){var u=this.getSymmetry().getIncidentOrientations(i);if(null==u)break;for(var c=(o+1)%2,f=0;f<u.length;f++){var h=u[f],d=this.getCanonicalAxis(c,h);if(!r.contains(d)){r.add(d),s=d.normal().toRealVector();var p=t.dot(s)/(n*s.length());p>l&&(l=p,a=d,i=h,o=c)}}if(c!==o)return a}return this.getAxisBruteForce(t)}},{key:"getAxisBruteForce",value:function(e){for(var t=null,n=-1,r=this.iterator();r.hasNext();){var i=r.next(),o=i.normal().toRealVector(),a=e.dot(o)/(e.length()*o.length());a>n&&(n=a,t=i)}return t}},{key:"getAxis$int$int",value:function(e,t){return this.getAxis$int$int$boolean(e,t,!0)}},{key:"getAxis$int$int$boolean",value:function(e,t,n){return this.zoneNames[n?1:0][e][t]}},{key:"getAxis",value:function(t,n,r){if("number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n||"boolean"!==typeof r&&null!==r){if("number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n||void 0!==r){if((null!=t&&t instanceof e.vzome.core.algebra.AlgebraicVector||null===t)&&void 0===n&&void 0===r)return this.getAxis$com_vzome_core_algebra_AlgebraicVector(t);if((null!=t&&t instanceof e.vzome.core.math.RealVector||null===t)&&void 0===n&&void 0===r)return this.getAxis$com_vzome_core_math_RealVector(t);throw new Error("invalid overload")}return this.getAxis$int$int(t,n)}return this.getAxis$int$int$boolean(t,n,r)}},{key:"withCorrection",value:function(){var t=this.getAxisBruteForce(e.vzome.core.math.RealVector.DIRECTION_0_$LI$());return this.canonicalize=t.getOrientation(),t.getSense()===e.vzome.core.math.symmetry.Symmetry.MINUS&&(this.canonicalize*=-1),this}},{key:"getCanonicalAxis",value:function(e,t){return 0!==this.canonicalize&&(this.canonicalize<0&&(e=(e+1)%2),t=this.mSymmetryGroup.getPermutation(t).mapIndex(Math.abs(this.canonicalize))),this.getAxis$int$int(e,t)}},{key:"createAxis$int$int$int_A_A",value:function(e,t,n){var r=this.mSymmetryGroup.getField().createVector(n);this.createAxis$int$int$com_vzome_core_algebra_AlgebraicVector(e,t,r)}},{key:"createAxis",value:function(t,n,r){if("number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n||!(null!=r&&r instanceof Array&&(0==r.length||null==r[0]||r[0]instanceof Array)||null===r)){if("number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n||!(null!=r&&r instanceof e.vzome.core.algebra.AlgebraicVector||null===r))throw new Error("invalid overload");return this.createAxis$int$int$com_vzome_core_algebra_AlgebraicVector(t,n,r)}return this.createAxis$int$int$int_A_A(t,n,r)}},{key:"createAxis$int$int$com_vzome_core_algebra_AlgebraicVector",value:function(t,n,r){var i=this.mSymmetryGroup.getPermutation(n);this.recordZone(this,t,e.vzome.core.math.symmetry.Symmetry.PLUS,n,i,r,!0);var o=this.mSymmetryGroup.getPrincipalReflection();if(null==o)null!=i&&(i=i.inverse()),this.recordZone(this,t,e.vzome.core.math.symmetry.Symmetry.MINUS,n,i,r.negate(),!0);else{var a=n,s=i;null!=i&&(s=i.inverse(),a=i.mapIndex(0)),this.recordZone(this,t,e.vzome.core.math.symmetry.Symmetry.PLUS,a,s,r.negate(),!1);var l=o.timesColumn(r);this.recordZone(this,t,e.vzome.core.math.symmetry.Symmetry.MINUS,a,s,l,!0),l=l.negate(),this.recordZone(this,t,e.vzome.core.math.symmetry.Symmetry.MINUS,n,i,l,!1)}}},{key:"recordZone",value:function(n,r,i,o,a,s,l){var u=this.zoneVectors.get(s.toString());if(null==u)u=new e.vzome.core.math.symmetry.Axis(this,r,i,o,a,s,l),this.zoneVectors.put(s.toString(),u),t.logger_$LI$().isLoggable(java.util.logging.Level.FINER)&&t.logger_$LI$().finer("creating zone "+u.toString()+" "+s.toString());else if(l&&!u.isOutbound()){var c=u.toString();u.rename(i,r,!0),t.logger_$LI$().isLoggable(java.util.logging.Level.FINER)&&t.logger_$LI$().finer("zone "+c+" upgraded to "+u.toString())}else if(u.isOutbound()&&!l)t.logger_$LI$().isLoggable(java.util.logging.Level.FINEST)&&t.logger_$LI$().finest("zone "+u.toString()+" aliased as "+(i===e.vzome.core.math.symmetry.Axis.MINUS?"-":"")+r+(l?"":"i"));else if(i===e.vzome.core.math.symmetry.Axis.PLUS&&u.getSense()===e.vzome.core.math.symmetry.Axis.MINUS){var f=u.toString();u.rename(i,r,l),t.logger_$LI$().isLoggable(java.util.logging.Level.FINER)&&t.logger_$LI$().finer("zone "+f+" upgraded to "+u.toString())}else t.logger_$LI$().isLoggable(java.util.logging.Level.FINEST)&&t.logger_$LI$().finest("zone "+u.toString()+" aliased as "+(i===e.vzome.core.math.symmetry.Axis.MINUS?"-":"")+r+(l?"":"i"));this.zoneNames[l?1:0][i][r]=u}},{key:"compareTo",value:function(e){return this.index-e.index}},{key:"setHalfSizes",value:function(e){this.__hasHalfSizes=e}},{key:"hasHalfSizes",value:function(){return this.__hasHalfSizes}},{key:"setScaleNames",value:function(e){for(var t=0;t<e.length;t++)this.scaleNames[t]=e[t]}},{key:"getScaleName",value:function(e){return e<this.scaleNames.length&&e>=0?this.scaleNames[e]:"scale "+(e-1)}},{key:"setUnitLength",value:function(e){this.unitLength=e,this.unitLengthReciprocal=e.reciprocal()}},{key:"getUnitLength",value:function(){return null==this.unitLength?this.mSymmetryGroup.getField().createPower$int(0):this.unitLength}},{key:"getLengthInUnits",value:function(e){var n=this.mSymmetryGroup.getField(),r=e.times$com_vzome_core_algebra_AlgebraicNumber(n.createPower$int(-t.USER_SCALE));return null==this.unitLength?r:r.times$com_vzome_core_algebra_AlgebraicNumber(this.unitLengthReciprocal)}},{key:"getLengthName",value:function(e){for(var t=0;t<this.scales.length;t++)if(n=this.scales[t],r=e,n&&n.equals?n.equals(r):n===r)return this.scaleNames[t];var n,r;return""}},{key:"getLengthExpression",value:function(t,n){var r=t.length();t.append(this.getLengthName(n)),t.length()===r&&t.append(" "),t.append(":"),n.getNumberExpression(t,e.vzome.core.algebra.AlgebraicField.EXPRESSION_FORMAT)}},{key:"getDotX",value:function(){return this.dotX}},{key:"getDotY",value:function(){return this.dotY}},{key:"setDotLocation",value:function(e,t){this.dotX=e,this.dotY=t}}],[{key:"logger_$LI$",value:function(){return null==t.logger&&(t.logger=java.util.logging.Logger.getLogger("com.vzome.core.math.symmetry.Orbit")),t.logger}}]),t}();n.globalIndex=0,n.USER_SCALE=3,t.Direction=n,n.__class="com.vzome.core.math.symmetry.Direction",n.__interfaces=["java.lang.Comparable","java.lang.Iterable"]}((n=t.math||(t.math={})).symmetry||(n.symmetry={}))})((t=e.vzome||(e.vzome={})).core||(t.core={}))}(com||(com={})),function(e){var t;(function(t){var n;!function(t){var n=function(){function t(n){_classCallCheck(this,t),void 0===this.field&&(this.field=null),this.ROOTS=[null,null,null,null],this.WEIGHTS=[null,null,null,null],this.field=n;var r=n.createRational$long(-1);this.ROOTS[0]=n.basisVector(4,e.vzome.core.algebra.AlgebraicVector.X4),this.ROOTS[0].setComponent(e.vzome.core.algebra.AlgebraicVector.Y4,r),this.ROOTS[1]=n.basisVector(4,e.vzome.core.algebra.AlgebraicVector.Y4),this.ROOTS[1].setComponent(e.vzome.core.algebra.AlgebraicVector.Z4,r),this.ROOTS[2]=n.basisVector(4,e.vzome.core.algebra.AlgebraicVector.Z4),this.ROOTS[2].setComponent(e.vzome.core.algebra.AlgebraicVector.W4,r),this.ROOTS[3]=n.basisVector(4,e.vzome.core.algebra.AlgebraicVector.W4);var i=n.basisVector(4,e.vzome.core.algebra.AlgebraicVector.Y4),o=n.basisVector(4,e.vzome.core.algebra.AlgebraicVector.Z4);this.WEIGHTS[0]=n.basisVector(4,e.vzome.core.algebra.AlgebraicVector.X4),this.WEIGHTS[1]=this.WEIGHTS[0].plus(i),this.WEIGHTS[2]=this.WEIGHTS[1].plus(o),this.WEIGHTS[3]=n.basisVector(4,e.vzome.core.algebra.AlgebraicVector.X4);var a=n.createRational$long$long(1,2);if(this.WEIGHTS[3].setComponent(e.vzome.core.algebra.AlgebraicVector.X4,a),this.WEIGHTS[3].setComponent(e.vzome.core.algebra.AlgebraicVector.Y4,a),this.WEIGHTS[3].setComponent(e.vzome.core.algebra.AlgebraicVector.Z4,a),this.WEIGHTS[3].setComponent(e.vzome.core.algebra.AlgebraicVector.W4,a),n.scale4dRoots()){var s=n.createPower$int(1);this.ROOTS[3]=this.ROOTS[3].scale(s),this.WEIGHTS[3]=this.WEIGHTS[3].scale(s)}}return _createClass(t,[{key:"getOrder",value:function(){return 384}},{key:"groupAction",value:function(n,r){for(var i=this.field.basisVector(4,e.vzome.core.algebra.AlgebraicVector.X4),o=r/16|0,a=r%16,s=0;s<4;s++){var l=n.getComponent((t.B4_PERMS_$LI$()[o][s]+1)%4);a%2!==0&&(l=l.negate()),i.setComponent((s+1)%4,l),a>>=1}return i}},{key:"getOrigin",value:function(){return this.field.origin(4)}},{key:"getWeight",value:function(e){return this.WEIGHTS[e]}},{key:"getSimpleRoot",value:function(e){return this.ROOTS[e]}},{key:"getField",value:function(){return this.field}},{key:"chiralSubgroupAction",value:function(n,r){for(var i=this.field.basisVector(4,e.vzome.core.algebra.AlgebraicVector.X4),o=r/16|0,a=r%16,s=!0,l=0;l<4;l++){var u=n.getComponent((t.B4_PERMS_$LI$()[o][l]+1)%4);a%2!==0&&(s=!s,u=u.negate()),i.setComponent((l+1)%4,u),a>>=1}return s?i:null}}],[{key:"B4_PERMS_$LI$",value:function(){return null==t.B4_PERMS&&(t.B4_PERMS=[[0,1,2,3],[0,1,3,2],[0,2,1,3],[0,2,3,1],[0,3,2,1],[0,3,1,2],[1,0,2,3],[1,0,3,2],[1,2,0,3],[1,2,3,0],[1,3,2,0],[1,3,0,2],[2,1,0,3],[2,1,3,0],[2,0,1,3],[2,0,3,1],[2,3,0,1],[2,3,1,0],[3,1,2,0],[3,1,0,2],[3,2,1,0],[3,2,0,1],[3,0,2,1],[3,0,1,2]]),t.B4_PERMS}}]),t}();t.B4Group=n,n.__class="com.vzome.core.math.symmetry.B4Group",n.__interfaces=["com.vzome.core.math.symmetry.CoxeterGroup"]}((n=t.math||(t.math={})).symmetry||(n.symmetry={}))})((t=e.vzome||(e.vzome={})).core||(t.core={}))}(com||(com={})),function(e){var t;(function(e){var t;!function(e){var t;(t=e.Constants||(e.Constants={})).RED=0,t.YELLOW=1,t.BLUE=2,t.GREEN=3,t.ORANGE=4,t.PURPLE=5,t.BLACK=6,t.NO_AXIS=7,t.X=2,t.Y=5,t.Z=13,t.SHORT=3,t.MEDIUM=4,t.LONG=5,t.JUST_RED=1<<t.RED,t.JUST_YELLOW=1<<t.YELLOW,t.JUST_BLUE=1<<t.BLUE,t.JUST_GREEN=1<<t.GREEN,t.JUST_ORANGE=1<<t.ORANGE,t.JUST_PURPLE=1<<t.PURPLE,t.JUST_BLACK=1<<t.BLACK,t.ORIGINAL_STRUTS=t.JUST_RED|t.JUST_YELLOW|t.JUST_BLUE,t.ALL_STRUTS=t.ORIGINAL_STRUTS|t.JUST_GREEN|t.JUST_ORANGE|t.JUST_PURPLE|t.JUST_BLACK,t.RED_AXIS_YELLOW_NEIGHBORS=[[0,1,2,3,4],[1,0,5,-8,6],[2,1,6,-9,7],[3,2,7,-5,8],[4,3,8,-6,9],[0,4,9,-7,5]],t.AXIS_SYMMETRY=[5,3,2,1,1,1,1]}((t=e.math||(e.math={})).symmetry||(t.symmetry={}))})((t=e.vzome||(e.vzome={})).core||(t.core={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(){function t(){_classCallCheck(this,t),this.mVersion=0,this.dimension=4,this.__isRational=!1,void 0===this.field&&(this.field=null),void 0===this.parsedOffset&&(this.parsedOffset=null)}return _createClass(t,[{key:"endVertices",value:function(){}},{key:"endEdges",value:function(){}},{key:"endFaces",value:function(){}},{key:"endBalls",value:function(){}},{key:"getVersion",value:function(){return this.mVersion}},{key:"getField",value:function(){return this.field}},{key:"isRational",value:function(){return this.__isRational}},{key:"wFirst",value:function(){return this.mVersion>=t.VERSION_W_FIRST}},{key:"parseVEF",value:function(n,r){this.field=r;var i,o=new java.util.StringTokenizer(n),a=null;try{a=o.nextToken()}catch(D){throw new java.lang.IllegalStateException('VEF format error: no tokens in file data: "'+n+'"')}if(this.mVersion=0,this.__isRational=!1,(i=a)&&i.equals?i.equals("vZome"):"vZome"===i){try{a=o.nextToken()}catch(D){throw new java.lang.IllegalStateException('VEF format error: no tokens after "vZome"')}if(!function(e,t){return e.equals?e.equals(t):e===t}("VEF",a))throw new java.lang.IllegalStateException('VEF format error: token after "vZome" ("'+a+'" should be "VEF"');try{a=o.nextToken()}catch(D){throw new java.lang.IllegalStateException('VEF format error: no tokens after "VEF"')}try{this.mVersion=javaemul.internal.IntegerHelper.parseInt(a)}catch(O){throw new java.lang.RuntimeException('VEF format error: VEF version number ("'+a+'") must be an integer',O)}a=o.nextToken()}if(function(e,t){return e&&e.equals?e.equals("field"):"field"===e}(a)){try{a=o.nextToken()}catch(D){throw new java.lang.IllegalStateException('VEF format error: no tokens after "field"')}if(function(e,t){return e&&e.equals?e.equals(t):e===t}(a,"rational")&&(this.__isRational=!0,a=r.getName()),!t.fieldsAreCompatible(r,a))throw new java.lang.IllegalStateException('VEF field mismatch error: VEF field name ("'+a+'") does not match current model field name ("'+r.getName()+'").');a=o.nextToken()}if(function(e,t){return e&&e.equals?e.equals("actual"):"actual"===e}(a))try{a=o.nextToken()}catch(D){throw new java.lang.IllegalStateException('VEF format error: no tokens after "actual"')}if(function(e,t){return e&&e.equals?e.equals(t):e===t}(a,"dimension")){try{a=o.nextToken()}catch(D){throw new java.lang.IllegalStateException('VEF format error: no tokens after "dimension"')}try{this.dimension=javaemul.internal.IntegerHelper.parseInt(a)}catch(O){throw new java.lang.RuntimeException('VEF format error: dimension number ("'+a+'") must be an integer',O)}try{a=o.nextToken()}catch(O){throw new java.lang.IllegalStateException('VEF format error: no tokens after "dimension"')}}var s,l=new e.vzome.core.algebra.AlgebraicVector(r,this.dimension);if(function(e,t){return e&&e.equals?e.equals("scale"):"scale"===e}(a))try{if(function(e,t){return e&&e.equals?e.equals("vector"):"vector"===e}(a=o.nextToken()))try{for(var u=0;u<this.dimension;u++){a=o.nextToken();var c=this.field.parseVefNumber(a,this.__isRational);l.setComponent(u,c)}}catch(O){throw new java.lang.IllegalStateException("VEF format error: scale vector requires "+this.dimension+" coordinates")}else for(var f=this.field.parseVefNumber(a,this.__isRational),h=0;h<this.dimension;h++)l.setComponent(h,f);a=o.nextToken()}catch(O){throw new java.lang.IllegalStateException('VEF format error: no tokens after "scale"')}else for(var d=0;d<this.dimension;d++)l.setComponent(d,r.one());if(this.parsedOffset=new e.vzome.core.algebra.AlgebraicVector(r,this.dimension),function(e,t){return e&&e.equals?e.equals("offset"):"offset"===e}(a)){try{for(var p=0;p<this.dimension;p++){a=o.nextToken();var m=this.field.parseVefNumber(a,this.__isRational);this.parsedOffset.setComponent(p,m)}}catch(O){throw new java.lang.IllegalStateException("VEF format error: offset vector requires "+this.dimension+" coordinates")}try{a=o.nextToken()}catch(O){throw new java.lang.IllegalStateException('VEF format error: no tokens after "offset"')}}try{s=javaemul.internal.IntegerHelper.parseInt(a)}catch(O){throw new java.lang.RuntimeException('VEF format error: number of vertices ("'+a+'") must be an integer',O)}this.startVertices(s);for(var v=!this.parsedOffset.isOrigin(),g=0;g<s;g++){for(var y=r.origin(this.dimension),_=0;_<this.dimension;_++){try{a=o.nextToken()}catch(D){throw new java.lang.IllegalStateException("VEF format error: not enough vertices in list")}var b=this.field.parseVefNumber(a,this.__isRational).times$com_vzome_core_algebra_AlgebraicNumber(l.getComponent(_));y.setComponent(_,b)}v&&(y=y.plus(this.parsedOffset)),this.addVertex(g,y)}if(this.endVertices(),o.hasMoreTokens()){var w;a=o.nextToken();try{w=javaemul.internal.IntegerHelper.parseInt(a)}catch(O){throw new java.lang.RuntimeException('VEF format error: number of edges ("'+a+'") must be an integer',O)}this.startEdges(w);for(var x=0;x<w;x++){try{a=o.nextToken()}catch(D){throw new java.lang.IllegalStateException("VEF format error: not enough edges in list")}var A=javaemul.internal.IntegerHelper.parseInt(a);try{a=o.nextToken()}catch(D){throw new java.lang.IllegalStateException("VEF format error: 2nd vertex index of last edge is missing")}var M=javaemul.internal.IntegerHelper.parseInt(a);this.addEdge(x,A,M)}this.endEdges()}if(o.hasMoreTokens()){var S;a=o.nextToken();try{S=javaemul.internal.IntegerHelper.parseInt(a)}catch(O){throw new java.lang.RuntimeException('VEF format error: number of faces ("'+a+'") must be an integer',O)}this.startFaces(S);for(var C=0;C<S;C++){try{a=o.nextToken()}catch(D){throw new java.lang.IllegalStateException("VEF format error: not enough faces in list")}for(var E=javaemul.internal.IntegerHelper.parseInt(a),I=function(e){for(var t=[];e-- >0;)t.push(0);return t}(E),T=0;T<E;T++){try{a=o.nextToken()}catch(D){throw new java.lang.IllegalStateException("VEF format error: not enough vertices in last face")}I[T]=javaemul.internal.IntegerHelper.parseInt(a)}this.addFace(C,I)}this.endFaces()}if(o.hasMoreTokens()){var L;a=o.nextToken();try{L=javaemul.internal.IntegerHelper.parseInt(a)}catch(O){throw new java.lang.RuntimeException('VEF format error: number of balls ("'+a+'") must be an integer',O)}this.startBalls(L);for(var z=0;z<L;z++){try{a=o.nextToken()}catch(D){throw new java.lang.IllegalStateException("VEF format error: not enough balls in list")}var k=javaemul.internal.IntegerHelper.parseInt(a);this.addBall(z,k)}this.endBalls()}this.endFile(o)}},{key:"endFile",value:function(e){}}],[{key:"fieldsAreCompatible",value:function(e,t){return n=t,r=e.getName(),!(n&&n.equals?!n.equals(r):n!==r)||function(e,t){return e&&e.equals?e.equals("golden"):"golden"===e}(t)&&null!=e.getGoldenRatio();var n,r}}]),t}();n.VERSION_EXPLICIT_OFFSET=10,n.VERSION_EXPLICIT_DIMENSION=9,n.VERSION_SCALE_VECTOR=8,n.VERSION_RATIONAL_ACTUAL_SCALE=7,n.VERSION_EXPLICIT_BALLS=6,n.VERSION_ANY_FIELD=5,n.VERSION_W_FIRST=4,t.VefParser=n,n.__class="com.vzome.core.math.VefParser"})((n=t.core||(t.core={})).math||(n.math={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(){function t(e,n,r){_classCallCheck(this,t),this.quaternions=function e(t){if(0==t.length)return null;for(var n=[],r=0;r<t[0];r++)n.push(e(t.slice(1)));return n}([2,2]),void 0===this.field&&(this.field=null),this.field=e,this.setQuaternion(n,t.LEFT),this.setQuaternion(r,t.RIGHT)}return _createClass(t,[{key:"projectImage",value:function(e,n){var r=e,i=this.getQuaternion(t.LEFT,n),o=this.getQuaternion(t.RIGHT,n);return null!=o?(null!=i&&(r=i.rightMultiply(r),console.info("left mult: "+r.toString())),r=o.leftMultiply(r)):r=i.rightMultiply(r),this.field.projectTo3d(r,n)}},{key:"setQuaternion",value:function(n,r){this.quaternions[r][t.WFIRST]=null==n?null:new e.vzome.core.algebra.Quaternion(this.field,n.inflateTo4d$boolean(!0)),this.quaternions[r][t.WLAST]=null==n?null:new e.vzome.core.algebra.Quaternion(this.field,n.inflateTo4d$boolean(!1))}},{key:"getQuaternion",value:function(e,n){return this.quaternions[e][n?t.WFIRST:t.WLAST]}},{key:"getXmlAttributes",value:function(n){var r=this.getQuaternion(t.LEFT,!0),i=this.getQuaternion(t.RIGHT,!0);null!=r&&e.vzome.xml.DomUtils.addAttribute(n,t.LEFT_QUATERNION_ATTRIBUTENAME,r.getVector().toParsableString()),null!=i&&e.vzome.xml.DomUtils.addAttribute(n,t.RIGHT_QUATERNION_ATTRIBUTENAME,i.getVector().toParsableString())}},{key:"setXmlAttributes",value:function(e){this.setQuaternion(this.parseRationalVector(e,t.LEFT_QUATERNION_ATTRIBUTENAME),t.LEFT),this.setQuaternion(this.parseRationalVector(e,t.RIGHT_QUATERNION_ATTRIBUTENAME),t.RIGHT)}},{key:"parseRationalVector",value:function(e,t){var n=e.getAttribute(t);return null==n||0===n.length?null:this.field.parseVector(n)}},{key:"getProjectionName",value:function(){return"Quaternion"}}]),t}();n.LEFT=0,n.RIGHT=1,n.WFIRST=0,n.WLAST=1,n.RIGHT_QUATERNION_ATTRIBUTENAME="quaternion",n.LEFT_QUATERNION_ATTRIBUTENAME="leftQuaternion",t.QuaternionProjection=n,n.__class="com.vzome.core.math.QuaternionProjection",n.__interfaces=["com.vzome.core.math.Projection"]})((n=t.core||(t.core={})).math||(n.math={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){var t;(function(e){var t;!function(e){var t=function(){function e(t){_classCallCheck(this,e),void 0===this.field&&(this.field=null),this.field=t}return _createClass(e,[{key:"projectImage",value:function(e,t){return this.field.projectTo3d(e,t)}},{key:"getXmlAttributes",value:function(e){}},{key:"setXmlAttributes",value:function(e){}},{key:"getProjectionName",value:function(){return""}}]),e}();e.Default=t,t.__class="com.vzome.core.math.Projection.Default",t.__interfaces=["com.vzome.core.math.Projection"]}((t=e.math||(e.math={})).Projection||(t.Projection={}))})((t=e.vzome||(e.vzome={})).core||(t.core={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(){function t(e,n){_classCallCheck(this,t),void 0===this.field&&(this.field=null),void 0===this.cameraDist&&(this.cameraDist=null),void 0===this.minDenom&&(this.minDenom=null),void 0===this.minDenomValue&&(this.minDenomValue=0),this.field=e,this.cameraDist=n}return _createClass(t,[{key:"projectImage",value:function(e,t){var n=this.field.origin(4),r=e.getComponent(0),i=this.cameraDist.minus$com_vzome_core_algebra_AlgebraicNumber(r);null==this.minDenom&&(this.minDenom=this.field.createPower$int(-5),this.minDenomValue=this.minDenom.evaluate()),i.evaluate()<this.minDenomValue&&(i=this.minDenom);var o=i.reciprocal();return n.setComponent(0,this.field.createPower$int(0)),n.setComponent(1,e.getComponent(1).times$com_vzome_core_algebra_AlgebraicNumber(o)),n.setComponent(2,e.getComponent(2).times$com_vzome_core_algebra_AlgebraicNumber(o)),n.setComponent(3,e.getComponent(3).times$com_vzome_core_algebra_AlgebraicNumber(o)),n}},{key:"getXmlAttributes",value:function(t){null!=this.cameraDist&&e.vzome.xml.DomUtils.addAttribute(t,"cameraDist",this.cameraDist.toString(e.vzome.core.algebra.AlgebraicField.ZOMIC_FORMAT))}},{key:"setXmlAttributes",value:function(e){var t=e.getAttribute("cameraDist");null!=t&&0!==t.length&&(this.cameraDist=this.field.parseNumber(t))}},{key:"getProjectionName",value:function(){return"Perspective"}}]),t}();t.PerspectiveProjection=n,n.__class="com.vzome.core.math.PerspectiveProjection",n.__interfaces=["com.vzome.core.math.Projection"]})((n=t.core||(t.core={})).math||(n.math={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(e){var t;(function(e){var t=function(){function e(t,n){_classCallCheck(this,e),void 0===this.origin&&(this.origin=null),void 0===this.direction&&(this.direction=null),this.direction=n,this.origin=t}return _createClass(e,[{key:"getOrigin",value:function(){return this.origin}},{key:"getDirection",value:function(){return this.direction}}]),e}();e.Line=t,t.__class="com.vzome.core.math.Line"})((t=e.core||(e.core={})).math||(t.math={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"generate",value:function(t,n,r){for(var i=new java.util.TreeSet,o=new java.util.ArrayList,a=new java.util.ArrayList,s=new java.util.ArrayList,l=null,u=null,c=t.iterator();c.hasNext();){var f=c.next();if(null!=f&&(null!=f.__interfaces&&f.__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=f.constructor&&null!=f.constructor.__interfaces&&f.constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0))l=f.getLocation(),i.add(l);else if(null!=f&&(null!=f.__interfaces&&f.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=f.constructor&&null!=f.constructor.__interfaces&&f.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0))u=f.getLocation(),i.add(u),i.add(f.getEnd());else if(null!=f&&(null!=f.__interfaces&&f.__interfaces.indexOf("com.vzome.core.model.Panel")>=0||null!=f.constructor&&null!=f.constructor.__interfaces&&f.constructor.__interfaces.indexOf("com.vzome.core.model.Panel")>=0))for(var h=f.iterator();h.hasNext();){var d=h.next();u=d,i.add(d)}}var p=null!=l?l:u,m=new java.util.ArrayList(i);i=null;for(var v=new e.fasterxml.jackson.databind.ObjectMapper,g=t.iterator();g.hasNext();){var y=g.next();if(null!=y&&(null!=y.__interfaces&&y.__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=y.constructor&&null!=y.constructor.__interfaces&&y.constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0)){var _=v.createObjectNode();_.set("vertex",v.valueToTree(m.indexOf(y.getLocation()))),_.set("color",v.valueToTree(y.getColor().toWebString())),o.add(_)}else if(null!=y&&(null!=y.__interfaces&&y.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=y.constructor&&null!=y.constructor.__interfaces&&y.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0)){var b=v.createObjectNode(),w=m.indexOf(y.getLocation()),x=m.indexOf(y.getEnd()),A=v.valueToTree([w,x]);b.set("vertices",A),b.set("color",v.valueToTree(y.getColor().toWebString())),a.add(b)}else if(null!=y&&(null!=y.__interfaces&&y.__interfaces.indexOf("com.vzome.core.model.Panel")>=0||null!=y.constructor&&null!=y.constructor.__interfaces&&y.constructor.__interfaces.indexOf("com.vzome.core.model.Panel")>=0)){var M=v.createObjectNode(),S=java.util.stream.StreamSupport.stream(y.spliterator(),!1),C=v.valueToTree(S.map(function(e){return function(t){return e.indexOf(t)}}(m)).collect(java.util.stream.Collectors.toList()));M.set("vertices",C),M.set("color",v.valueToTree(y.getColor().toWebString())),s.add(M)}}var E=(new e.fasterxml.jackson.core.JsonFactory).disable(e.fasterxml.jackson.core.JsonGenerator.Feature.AUTO_CLOSE_TARGET).createGenerator(r);E.useDefaultPrettyPrinter(),E.setCodec(v),E.writeStartObject(),E.writeStringField("field",n.getName()),E.writeFieldName("vertices"),E.writeStartArray();for(var I=v.writerWithView("com.vzome.core.algebra.AlgebraicNumber.Views.TrailingDivisor"),T=m.iterator();T.hasNext();){var L=T.next();L=L.minus(p),E.writeObject(v.readTree(I.writeValueAsString(L)))}E.writeEndArray(),E.writeObjectField("balls",o),E.writeObjectField("struts",a),E.writeObjectField("panels",s),E.writeEndObject(),E.close()}},{key:"parse",value:function(t,n,r,i,o){var a=new e.fasterxml.jackson.databind.ObjectMapper,s=a.readTree(t),l=s.has("field")?s.get("field").asText():"golden",u=o.getField(l);if(!s.has("vertices"))throw new java.io.IOException("There is no 'vertices' list in the JSON");if(!s.has("balls")&&!s.has("struts")&&!s.has("panels"))throw new java.io.IOException("There are no balls, struts, or panels in the JSON");for(var c=new java.util.ArrayList,f=s.get("vertices").iterator();f.hasNext();){for(var h=f.next(),d=function(e){for(var t=[];e-- >0;)t.push(null);return t}(h.size()),p=0,m=h.iterator();m.hasNext();){var v=m.next();d[p++]=a.treeToValue(v,[].constructor)}var g=u.createIntegerVectorFromTDs(d);g.dimension()>3&&(g=r.projectImage(g,!1)),null!=n&&(g=n.plus(g)),c.add(g)}var y=s.get("balls");if(null!=y)try{var _=a.treeToValue(y,[].constructor);java.util.Arrays.stream(_).forEach(function(t){return function(n){return i.constructionAdded(new e.vzome.core.construction.FreePoint(t.get(n)),null)}}(c))}catch(H){for(var b=y.iterator();b.hasNext();){var w=b.next(),x=w.get("vertex").asInt(),A=w.get("color"),M=null==A?null:e.vzome.core.construction.Color.parseWebColor(A.asText());i.constructionAdded(new e.vzome.core.construction.FreePoint(c.get(x)),M)}}if(null!=(y=s.get("struts")))for(var S=y.iterator();S.hasNext();){var C=S.next();if(C.has("start")){var E=a.treeToValue(C.get("start"),Number),I=a.treeToValue(C.get("end"),Number),T=new e.vzome.core.construction.FreePoint(c.get(E)),L=new e.vzome.core.construction.FreePoint(c.get(I));i.constructionAdded(new e.vzome.core.construction.SegmentJoiningPoints(T,L),null)}else{var z=C.get("vertices"),k=a.treeToValue(z,[].constructor),D=new e.vzome.core.construction.FreePoint(c.get(k[0])),O=new e.vzome.core.construction.FreePoint(c.get(k[1])),N=C.get("color"),j=null==N?null:e.vzome.core.construction.Color.parseWebColor(N.asText());i.constructionAdded(new e.vzome.core.construction.SegmentJoiningPoints(D,O),j)}}if(null!=(y=s.get("panels")))for(var P=y.iterator();P.hasNext();){var R=P.next(),$=R.get("vertices"),F=a.treeToValue($,[].constructor),K=java.util.Arrays.stream(F).mapToObj(function(t){return function(n){return new e.vzome.core.construction.FreePoint(t.get(n))}}(c)).collect(java.util.stream.Collectors.toList()),U=new e.vzome.core.construction.PolygonFromVertices(K),V=R.get("color"),B=null==V?null:e.vzome.core.construction.Color.parseWebColor(V.asText());i.constructionAdded(U,B)}}}]),t}();t.ColoredMeshJson=n,n.__class="com.vzome.core.model.ColoredMeshJson"})((n=t.core||(t.core={})).model||(n.model={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(e){var t;(function(e){var t=function(e){_inherits(n,java.util.ArrayList);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),void 0===(e=t.call(this)).mContainer&&(e.mContainer=null),e}return _createClass(n,[{key:"getContainer",value:function(){return this.mContainer}},{key:"setContainer",value:function(e){this.mContainer=e}}]),n}();e.Group=t,t.__class="com.vzome.core.model.Group",t.__interfaces=["java.util.RandomAccess","com.vzome.core.model.GroupElement","java.util.List","java.lang.Cloneable","java.util.Collection","java.lang.Iterable","java.io.Serializable"]})((t=e.core||(e.core={})).model||(t.model={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"generate",value:function(t,n,r){for(var i=new java.util.TreeSet,o=new java.util.ArrayList,a=new java.util.ArrayList,s=new java.util.ArrayList,l=null,u=null,c=t.iterator();c.hasNext();){var f=c.next();if(null!=f&&(null!=f.__interfaces&&f.__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=f.constructor&&null!=f.constructor.__interfaces&&f.constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0))l=f.getLocation(),i.add(l);else if(null!=f&&(null!=f.__interfaces&&f.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=f.constructor&&null!=f.constructor.__interfaces&&f.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0))u=f.getLocation(),i.add(u),i.add(f.getEnd());else if(null!=f&&(null!=f.__interfaces&&f.__interfaces.indexOf("com.vzome.core.model.Panel")>=0||null!=f.constructor&&null!=f.constructor.__interfaces&&f.constructor.__interfaces.indexOf("com.vzome.core.model.Panel")>=0))for(var h=f.iterator();h.hasNext();){var d=h.next();u=d,i.add(d)}}var p=null!=l?l:u,m=new java.util.ArrayList(i);i=null;for(var v=new e.fasterxml.jackson.databind.ObjectMapper,g=t.iterator();g.hasNext();){var y=g.next();if(null!=y&&(null!=y.__interfaces&&y.__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=y.constructor&&null!=y.constructor.__interfaces&&y.constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0))o.add(m.indexOf(y.getLocation()));else if(null!=y&&(null!=y.__interfaces&&y.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=y.constructor&&null!=y.constructor.__interfaces&&y.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0)){var _=m.indexOf(y.getLocation()),b=m.indexOf(y.getEnd()),w=v.valueToTree([_,b]);a.add(w)}else if(null!=y&&(null!=y.__interfaces&&y.__interfaces.indexOf("com.vzome.core.model.Panel")>=0||null!=y.constructor&&null!=y.constructor.__interfaces&&y.constructor.__interfaces.indexOf("com.vzome.core.model.Panel")>=0)){var x=java.util.stream.StreamSupport.stream(y.spliterator(),!1),A=v.valueToTree(x.map(function(e){return function(t){return e.indexOf(t)}}(m)).collect(java.util.stream.Collectors.toList()));s.add(A)}}var M=(new e.fasterxml.jackson.core.JsonFactory).disable(e.fasterxml.jackson.core.JsonGenerator.Feature.AUTO_CLOSE_TARGET).createGenerator(r);M.useDefaultPrettyPrinter(),M.setCodec(v),M.writeStartObject(),M.writeStringField("field",n.getName()),M.writeFieldName("vertices"),M.writeStartArray();for(var S=v.writerWithView("com.vzome.core.algebra.AlgebraicNumber.Views.TrailingDivisor"),C=m.iterator();C.hasNext();){var E=C.next();E=E.minus(p),M.writeObject(v.readTree(S.writeValueAsString(E)))}M.writeEndArray(),M.writeObjectField("edges",a),M.writeObjectField("faces",s),M.writeEndObject(),M.close()}},{key:"parse",value:function(t,n,r,i,o){var a=new e.fasterxml.jackson.databind.ObjectMapper,s=a.readTree(t),l=s.has("field")?s.get("field").asText():"golden",u=o.getField(l);if(!s.has("vertices"))throw new java.io.IOException("There is no 'vertices' list in the JSON");if(!s.has("edges"))throw new java.io.IOException("There is no 'edges' list in the JSON");if(!s.has("faces"))throw new java.io.IOException("There is no 'faces' list in the JSON");for(var c=new java.util.ArrayList,f=s.get("vertices").iterator();f.hasNext();){for(var h=f.next(),d=function(e){for(var t=[];e-- >0;)t.push(null);return t}(h.size()),p=0,m=h.iterator();m.hasNext();){var v=m.next();d[p++]=a.treeToValue(v,[].constructor)}var g=u.createIntegerVectorFromTDs(d);g.dimension()>3&&(g=r.projectImage(g,!1)),null!=n&&(g=n.plus(g)),c.add(g)}for(var y=s.get("edges"),_=y.iterator();_.hasNext();){var b=_.next(),w=a.treeToValue(b,[].constructor),x=new e.vzome.core.construction.FreePoint(c.get(w[0])),A=new e.vzome.core.construction.FreePoint(c.get(w[1]));i.constructionAdded(x),i.constructionAdded(A),i.constructionAdded(new e.vzome.core.construction.SegmentJoiningPoints(x,A))}for(var M=(y=s.get("faces")).iterator();M.hasNext();){var S=M.next(),C=a.treeToValue(S,[].constructor),E=java.util.Arrays.stream(C).mapToObj(function(t){return function(n){return new e.vzome.core.construction.FreePoint(t.get(n))}}(c)).collect(java.util.stream.Collectors.toList()),I=new e.vzome.core.construction.PolygonFromVertices(E);i.constructionAdded(I)}}}]),t}();t.SimpleMeshJson=n,n.__class="com.vzome.core.model.SimpleMeshJson"})((n=t.core||(t.core={})).model||(n.model={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(){function t(n){_classCallCheck(this,t),void 0===this.g2_vector&&(this.g2_vector=null),void 0===this.b2_vector&&(this.b2_vector=null),void 0===this.y2_vector&&(this.y2_vector=null),void 0===this.g2n_vector&&(this.g2n_vector=null),void 0===this.y2n_vector&&(this.y2n_vector=null),void 0===this.mAxis&&(this.mAxis=null),this.mAxis=n.getAxis$int$int(e.vzome.core.math.symmetry.Symmetry.PLUS,0);var r=this.mAxis.normal(),i=r.getComponent(e.vzome.core.algebra.AlgebraicVector.X).evaluate(),o=r.getComponent(e.vzome.core.algebra.AlgebraicVector.Y).evaluate(),a=r.getComponent(e.vzome.core.algebra.AlgebraicVector.Z).evaluate(),s=!0,l=i<0;l&&(i=-i,s=!s);var u=o<0;u&&(o=-o,s=!s);var c,f,h,d,p,m,v=a<0;v&&(a=-a,s=!s),i>=o?o>=a?(c=e.vzome.core.algebra.AlgebraicVector.X,d=l,f=e.vzome.core.algebra.AlgebraicVector.Y,p=u,h=e.vzome.core.algebra.AlgebraicVector.Z,m=v):i>=a?(c=e.vzome.core.algebra.AlgebraicVector.X,d=l,f=e.vzome.core.algebra.AlgebraicVector.Z,p=v,h=e.vzome.core.algebra.AlgebraicVector.Y,m=u,s=!s):(c=e.vzome.core.algebra.AlgebraicVector.Z,d=v,f=e.vzome.core.algebra.AlgebraicVector.X,p=l,h=e.vzome.core.algebra.AlgebraicVector.Y,m=u):i>=a?(c=e.vzome.core.algebra.AlgebraicVector.Y,d=u,f=e.vzome.core.algebra.AlgebraicVector.X,p=l,h=e.vzome.core.algebra.AlgebraicVector.Z,m=v,s=!s):o>=a?(c=e.vzome.core.algebra.AlgebraicVector.Y,d=u,f=e.vzome.core.algebra.AlgebraicVector.Z,p=v,h=e.vzome.core.algebra.AlgebraicVector.X,m=l):(c=e.vzome.core.algebra.AlgebraicVector.Z,d=v,f=e.vzome.core.algebra.AlgebraicVector.Y,p=u,h=e.vzome.core.algebra.AlgebraicVector.X,m=l,s=!s);var g=r.getField(),y=g.createRational$long$long(8,10);this.b2_vector=g.origin(3),this.b2_vector.setComponent(c,d?y.negate():y);var _=g.createRational$long$long(5,10);this.g2_vector=g.origin(3),this.g2_vector.setComponent(c,d?_.negate():_),this.g2_vector.setComponent(f,p?_.negate():_);var b=g.createRational$long$long(4,10);if(this.y2_vector=g.origin(3),this.y2_vector.setComponent(c,d?b.negate():b),this.y2_vector.setComponent(f,p?b.negate():b),this.y2_vector.setComponent(h,m?b.negate():b),!s){var w=this.y2_vector;this.y2_vector=this.g2_vector,this.g2_vector=w}var x=e.vzome.core.algebra.AlgebraicVectors.getCentroid([this.b2_vector,this.g2_vector,this.y2_vector]),A=this.g2_vector.minus(this.b2_vector),M=this.g2_vector.minus(this.y2_vector),S=e.vzome.core.algebra.AlgebraicVectors.getNormal$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_algebra_AlgebraicVector(A,M),C=e.vzome.core.algebra.AlgebraicVectors.getLinePlaneIntersection(g.origin(3),r,this.g2_vector,S),E=this.g2_vector.minus(x),I=this.y2_vector.minus(x);this.g2_vector=C.plus(E),this.y2_vector=C.plus(I),this.g2n_vector=C.minus(E),this.y2n_vector=C.minus(I)}return _createClass(t,[{key:"getStrutPolyhedron",value:function(t){var n=this.mAxis.getDirection().getSymmetry().getField(),r=new e.vzome.core.math.Polyhedron(n),i=this.mAxis.normal().scale(t),o=this.g2_vector.negate().plus(i),a=this.y2_vector.negate().plus(i),s=this.g2n_vector.negate().plus(i),l=this.y2n_vector.negate().plus(i);r.addVertex(a),r.addVertex(o),r.addVertex(this.y2_vector),r.addVertex(this.g2_vector),r.addVertex(l),r.addVertex(s),r.addVertex(this.y2n_vector),r.addVertex(this.g2n_vector);var u=r.newFace();return u.add(3),u.add(2),u.add(4),u.add(5),r.addFace(u),(u=r.newFace()).add(3),u.add(5),u.add(0),u.add(6),r.addFace(u),(u=r.newFace()).add(7),u.add(6),u.add(0),u.add(1),r.addFace(u),(u=r.newFace()).add(7),u.add(1),u.add(4),u.add(2),r.addFace(u),(u=r.newFace()).add(2),u.add(3),u.add(6),u.add(7),r.addFace(u),(u=r.newFace()).add(1),u.add(0),u.add(5),u.add(4),r.addFace(u),r}}]),t}();t.FastDefaultStrutGeometry=n,n.__class="com.vzome.core.parts.FastDefaultStrutGeometry",n.__interfaces=["com.vzome.core.parts.StrutGeometry"]})((n=t.core||(t.core={})).parts||(n.parts={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(e){var t;(function(e){var t=function(){function e(t){_classCallCheck(this,e),void 0===this.field&&(this.field=null),this.mImpossible=!1,this.mIndex=-1,this.__failed=!1,void 0===this.color&&(this.color=null),this.field=t}return _createClass(e,[{key:"getField",value:function(){return this.field}},{key:"setIndex",value:function(e){this.mIndex=e}},{key:"getIndex",value:function(){return this.mIndex}},{key:"isImpossible",value:function(){return this.mImpossible}},{key:"setImpossible",value:function(e){this.mImpossible=e}},{key:"setFailed",value:function(){this.__failed=!0}},{key:"failed",value:function(){return this.__failed}},{key:"setColor",value:function(e){this.color=e}},{key:"getColor",value:function(){return this.color}}]),e}();e.Construction=t,t.__class="com.vzome.core.construction.Construction"})((t=e.core||(e.core={})).construction||(t.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(e){var t;(function(e){var t=function(e){_inherits(n,java.util.ArrayList);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"addConstruction",value:function(e){return this.add(e),this}},{key:"removeConstruction",value:function(e){return this.remove(e),this}},{key:"getConstructions",value:function(){return this.toArray(function(e){for(var t=[];e-- >0;)t.push(null);return t}(this.size()))}}]),n}();e.ConstructionList=t,t.__class="com.vzome.core.construction.ConstructionList",t.__interfaces=["java.util.RandomAccess","java.util.List","java.lang.Cloneable","java.util.Collection","java.lang.Iterable","java.io.Serializable"]})((t=e.core||(e.core={})).construction||(t.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(){function t(e,n,r,i){var o=this;if(_classCallCheck(this,t),"number"!==typeof e&&null!==e||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r||"number"!==typeof i&&null!==i)if("number"!==typeof e&&null!==e||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r||void 0!==i)if("string"!==typeof e&&null!==e||void 0!==n||void 0!==r||void 0!==i){if("number"!==typeof e&&null!==e||void 0!==n||void 0!==r||void 0!==i)throw new Error("invalid overload");var a=arguments[0],s=a>>16&255,l=a>>8&255,u=255&a;void 0===this.red&&(this.red=0),void 0===this.green&&(this.green=0),void 0===this.blue&&(this.blue=0),void 0===this.alpha&&(this.alpha=0),void 0===this.red&&(this.red=0),void 0===this.green&&(this.green=0),void 0===this.blue&&(this.blue=0),void 0===this.alpha&&(this.alpha=0),o.red=s>255?255:s<0?0:s,o.green=l>255?255:l<0?0:l,o.blue=u>255?255:u<0?0:u,o.alpha=255}else{var c=arguments[0];void 0===this.red&&(this.red=0),void 0===this.green&&(this.green=0),void 0===this.blue&&(this.blue=0),void 0===this.alpha&&(this.alpha=0),void 0===this.red&&(this.red=0),void 0===this.green&&(this.green=0),void 0===this.blue&&(this.blue=0),void 0===this.alpha&&(this.alpha=0),function(){var e=javaemul.internal.IntegerHelper.parseUnsignedInt(c,16),t=e>>24&255,n=e>>16&255,r=e>>8&255,i=e>>0&255;o.red=t>255?255:t<0?0:t,o.green=n>255?255:n<0?0:n,o.blue=r>255?255:r<0?0:r,o.alpha=i>255?255:i<0?0:i}()}else void 0===this.red&&(this.red=0),void 0===this.green&&(this.green=0),void 0===this.blue&&(this.blue=0),void 0===this.alpha&&(this.alpha=0),void 0===this.red&&(this.red=0),void 0===this.green&&(this.green=0),void 0===this.blue&&(this.blue=0),void 0===this.alpha&&(this.alpha=0),o.red=e>255?255:e<0?0:e,o.green=n>255?255:n<0?0:n,o.blue=r>255?255:r<0?0:r,o.alpha=255;else void 0===this.red&&(this.red=0),void 0===this.green&&(this.green=0),void 0===this.blue&&(this.blue=0),void 0===this.alpha&&(this.alpha=0),void 0===this.red&&(this.red=0),void 0===this.green&&(this.green=0),void 0===this.blue&&(this.blue=0),void 0===this.alpha&&(this.alpha=0),o.red=e>255?255:e<0?0:e,o.green=n>255?255:n<0?0:n,o.blue=r>255?255:r<0?0:r,o.alpha=i>255?255:i<0?0:i}return _createClass(t,[{key:"getRGBColorComponents",value:function(e){var t=e.length;if(t<3||t>4)throw new java.lang.IllegalArgumentException("Expected rgb.length to be 3 or 4. Found "+t+".");return e[0]=Math.fround(this.red/255),e[1]=Math.fround(this.green/255),e[2]=Math.fround(this.blue/255),4===t&&(e[3]=Math.fround(this.alpha/255)),e}},{key:"hashCode",value:function(){return this.getRGBA()}},{key:"equals",value:function(t){if(this===t)return!0;if(null==t)return!0;if(!(null!=t&&t instanceof e.vzome.core.construction.Color))return!1;var n=t;return this.red===n.red&&this.green===n.green&&this.blue===n.blue&&this.alpha===n.alpha}},{key:"getPastel",value:function(){return new t(this.red+((255-this.red)/2|0),this.green+((255-this.green)/2|0),this.blue+((255-this.blue)/2|0),this.alpha)}},{key:"getRGBA",value:function(){return 16777216*this.red+65536*this.green+256*this.blue+this.alpha}},{key:"getRGB",value:function(){return 65536*this.red+256*this.green+this.blue}},{key:"toString",value:function(){return this.red+","+this.green+","+this.blue+(this.alpha<255?","+this.alpha:"")}},{key:"toWebString",value:function(){return javaemul.internal.StringHelper.format("#%02X%02X%02X",this.red,this.green,this.blue)}},{key:"getRed",value:function(){return this.red}},{key:"getGreen",value:function(){return this.green}},{key:"getBlue",value:function(){return this.blue}},{key:"getAlpha",value:function(){return this.alpha}}],[{key:"BLACK_$LI$",value:function(){return null==t.BLACK&&(t.BLACK=new t(0,0,0)),t.BLACK}},{key:"WHITE_$LI$",value:function(){return null==t.WHITE&&(t.WHITE=new t(255,255,255)),t.WHITE}},{key:"GREY_TRANSPARENT_$LI$",value:function(){return null==t.GREY_TRANSPARENT&&(t.GREY_TRANSPARENT=new t(25,25,25,50)),t.GREY_TRANSPARENT}},{key:"parseColor",value:function(e){var n=new java.util.StringTokenizer(e,","),r=n.nextToken(),i=n.nextToken(),o=n.nextToken();return new t(javaemul.internal.IntegerHelper.parseInt(r),javaemul.internal.IntegerHelper.parseInt(i),javaemul.internal.IntegerHelper.parseInt(o))}},{key:"parseWebColor",value:function(e){return new t(0|javaemul.internal.IntegerHelper.valueOf(e.substring(1,3),16),0|javaemul.internal.IntegerHelper.valueOf(e.substring(3,5),16),0|javaemul.internal.IntegerHelper.valueOf(e.substring(5,7),16))}},{key:"getComplement",value:function(e){return null==e?null:new t((128+e.red)%256,(128+e.green)%256,(128+e.blue)%256,e.alpha)}},{key:"getInverted",value:function(e){return null==e?null:new t(255-e.red,255-e.green,255-e.blue,e.alpha)}},{key:"getScaledTo",value:function(e,n){if(null==e)return null;var r=t.getMaximum(e),i=Math.min(Math.max(0,n),1);return 0===i?t.BLACK_$LI$():1===i?r:new t(0|r.getRed()*i,0|r.getGreen()*i,0|r.getBlue()*i,e.getAlpha())}},{key:"getMaximum",value:function(e){if(null==e)return null;var n=Math.max(Math.max(e.red,e.green),e.blue);return 0===n||255===n?e:new t(255*e.red/n|0,255*e.green/n|0,255*e.blue/n|0,e.alpha)}},{key:"getPastel",value:function(e){return null==e?null:e.getPastel()}}]),t}();t.Color=n,n.__class="com.vzome.core.construction.Color"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(e){var t;(function(e){var t=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getContentFirstArrayComparator",value:function(){return new e.ContentFirstArrayComparator}},{key:"getLengthFirstArrayComparator",value:function(){return new e.LengthFirstArrayComparator}}]),e}();e.ArrayComparator=t,t.__class="com.vzome.core.generic.ArrayComparator",function(e){var t=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"compare",value:function(e,t){for(var n,r,i=e.length,o=t.length,a=i<o?i:o,s=0;s<a;s++){var l=e[s],u=t[s],c=l.compareTo(u);if(0!==c)return c}return r=o,(n=i)&&n.compareTo?n.compareTo(r):n<r?-1:r<n?1:0}}]),e}();e.ContentFirstArrayComparator=t,t.__class="com.vzome.core.generic.ArrayComparator.ContentFirstArrayComparator",t.__interfaces=["java.util.Comparator"];var n=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"compare",value:function(e,t){var n,r,i=e.length,o=t.length,a=(r=o,(n=i)&&n.compareTo?n.compareTo(r):n<r?-1:r<n?1:0);if(0!==a)return a;for(var s=0;s<i;s++){var l=e[s],u=t[s];if(0!==(a=l.compareTo(u)))return a}return a}}]),e}();e.LengthFirstArrayComparator=n,n.__class="com.vzome.core.generic.ArrayComparator.LengthFirstArrayComparator",n.__interfaces=["java.util.Comparator"]}(t=e.ArrayComparator||(e.ArrayComparator={}))})((t=e.core||(e.core={})).generic||(t.generic={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(e){var t;(function(e){var t=function(){function e(t,n,r){_classCallCheck(this,e),void 0===this.wrappedIterator&&(this.wrappedIterator=null),void 0===this.__preFilter&&(this.__preFilter=null),void 0===this.__postFilter&&(this.__postFilter=null),this.nextElement=null,this.__hasNext=null,this.wrappedIterator=n.iterator(),this.__preFilter=t,this.__postFilter=r}return _createClass(e,[{key:"preFilter",value:function(e){return null==this.__preFilter||("function"===typeof(t=this.__preFilter)?t(e):t.test(e));var t}},{key:"postFilter",value:function(e){return null==this.__postFilter||("function"===typeof(t=this.__postFilter)?t(e):t.test(e));var t}},{key:"iterator",value:function(){return this}},{key:"hasNext",value:function(){return null==this.__hasNext&&this.nextMatch(),this.__hasNext}},{key:"next",value:function(){if(null==this.__hasNext&&this.nextMatch(),!this.__hasNext)throw new java.util.NoSuchElementException;return this.nextMatch()}},{key:"nextMatch",value:function(){for(var e=this.nextElement;this.wrappedIterator.hasNext();){var t=this.wrappedIterator.next();if(this.preFilter(t)){var n=this.apply(t);if(this.postFilter(n))return this.nextElement=n,this.__hasNext=!0,e}}return this.__hasNext=!1,e}},{key:"remove",value:function(){this.wrappedIterator.remove()}}]),e}();e.FilteredIterator=t,t.__class="com.vzome.core.generic.FilteredIterator",t.__interfaces=["java.util.Iterator","java.lang.Iterable"],function(e){var t=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"elementNotNull",value:function(e){return null!=e}},{key:"resultNotNull",value:function(e){return null!=e}},{key:"not",value:function(e,t){return function(e){return"function"===typeof e?e(t):e.test(t)}("function"===typeof(n=e)?n():n.negate());var n}},{key:"and",value:function(e,t,n){return function(e){return"function"===typeof e?e(n):e.test(n)}("function"===typeof(r=e)?r(t):r.and(t));var r}},{key:"or",value:function(e,t,n){return function(e){return"function"===typeof e?e(n):e.test(n)}("function"===typeof(r=e)?r(t):r.or(t));var r}}]),e}();e.Filters=t,t.__class="com.vzome.core.generic.FilteredIterator.Filters"}(t=e.FilteredIterator||(e.FilteredIterator={}))})((t=e.core||(e.core={})).generic||(t.generic={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(){function t(e,n){_classCallCheck(this,t),void 0===this.mProject4d&&(this.mProject4d=!1),void 0===this.mSelectionNotSaved&&(this.mSelectionNotSaved=!1),void 0===this.mRationalVectors&&(this.mRationalVectors=!1),void 0===this.mGroupingInSelection&&(this.mGroupingInSelection=!1),void 0===this.mField&&(this.mField=null),void 0===this.mScale&&(this.mScale=0),void 0===this.mMultiplier&&(this.mMultiplier=null),void 0===this.writerVersion&&(this.writerVersion=null),void 0===this.version&&(this.version=null),this.capabilities=new java.util.HashSet,void 0===this.properties&&(this.properties=null),this.version=e,this.capabilities.addAll(java.util.Arrays.asList(n)),this.mProject4d=this.capabilities.contains(t.PROJECT_4D),this.mSelectionNotSaved=this.capabilities.contains(t.SELECTION_NOT_SAVED),this.mRationalVectors=this.capabilities.contains(t.RATIONAL_VECTORS),this.mGroupingInSelection=this.capabilities.contains(t.GROUPING_IN_SELECTION),t.FORMATS_$LI$().put(e,this)}return _createClass(t,[{key:"initialize",value:function(e,t,n,r){this.properties=r,this.writerVersion=n,null!=n&&0!==n.length||(this.writerVersion="before 2.1 Beta 7"),this.mField=e,this.mScale=t,this.mMultiplier=0===t?null:e.createPower$int(t)}},{key:"getVersion",value:function(){return this.version}},{key:"isMigration",value:function(){return!this.multipleDesigns()}},{key:"selectionsNotSaved",value:function(){return this.mSelectionNotSaved}},{key:"rationalVectors",value:function(){return this.mRationalVectors}},{key:"actionHistory",value:function(){return!1}},{key:"commandEditsCompacted",value:function(){return this.capabilities.contains(t.COMPACTED_COMMAND_EDITS)}},{key:"multipleDesigns",value:function(){return this.capabilities.contains(t.MULTIPLE_DESIGNS)}},{key:"groupingDoneInSelection",value:function(){return this.mGroupingInSelection&&(e="2.1.3",t=this.writerVersion,!(e.equals?e.equals(t):e===t));var e,t}},{key:"groupingRecursive",value:function(){return!this.groupingDoneInSelection()||(e="2.1.2",t=this.writerVersion,e.equals?e.equals(t):e===t);var e,t}},{key:"interim210format",value:function(){return this.capabilities.contains(t.FORMAT_2_1_0)}},{key:"parseAlgebraicVector",value:function(n){var r=n.getAttribute("x"),i=null==r||0===r.length?this.mField.zero():this.mField.parseLegacyNumber(r),o=null==(r=n.getAttribute("y"))||0===r.length?this.mField.zero():this.mField.parseLegacyNumber(r),a=null==(r=n.getAttribute("z"))||0===r.length?this.mField.zero():this.mField.parseLegacyNumber(r),s=null==(r=n.getAttribute("w"))||0===r.length,l=null;s||(l=this.mField.parseLegacyNumber(r));var u=s?new e.vzome.core.algebra.AlgebraicVector(i,o,a):new e.vzome.core.algebra.AlgebraicVector(l,i,o,a);return this.mProject4d&&!s&&(!l.isZero()&&t.logger_$LI$().isLoggable(java.util.logging.Level.WARNING)&&t.logger_$LI$().warning("stripping non-zero W component from "+u.toString()),u=this.mField.projectTo3d(u,!0)),null!=this.mMultiplier&&(u=u.scale(this.mMultiplier)),u}},{key:"parseAlgebraicObject",value:function(e,n){var r,i=t.NOT_AN_ATTRIBUTE_$LI$();if((r=e)&&r.equals?r.equals("Null"):"Null"===r)i=null;else if(function(e,t){return e&&e.equals?e.equals(t):e===t}(e,"RationalVector")){var o=n.getAttribute("nums");if(null==o||0===o.length)return this.mField.origin(3);for(var a=n.getAttribute("denoms"),s=new java.util.StringTokenizer(o),l=[0,1,0,1,0,1,0,1,0,1,0,1],u=0;u<this.mField.getOrder();u++){var c=s.nextToken();if(null==c)throw new java.lang.IllegalStateException("RationalVector nums too short for field "+this.mField.getName());l[2*u]=javaemul.internal.IntegerHelper.parseInt(c)}if(null!=a&&0!==a.length){s=new java.util.StringTokenizer(a);for(var f=0;f<this.mField.getOrder();f++){var h=s.nextToken();if(null==h)throw new java.lang.IllegalStateException("RationalVector denoms too short for field "+this.mField.getName());l[2*f+1]=javaemul.internal.IntegerHelper.parseInt(h)}}for(var d=l.length/3|0,p=2*d,m=function e(t){if(0==t.length)return 0;for(var n=[],r=0;r<t[0];r++)n.push(e(t.slice(1)));return n}([3,d]),v=0;v<d;v++)m[0][v]=l[v],m[1][v]=l[v+d],m[2][v]=l[v+p];i=this.mField.createVector(m)}else if(function(e,t){return e&&e.equals?e.equals(t):e===t}(e,"GoldenVector"))i=this.parseAlgebraicVector(n);else if(function(e,t){return e&&e.equals?e.equals(t):e===t}(e,"Boolean")){var g=n.getAttribute("value");i=javaemul.internal.BooleanHelper.parseBoolean(g)}else if(function(e,t){return e&&e.equals?e.equals(t):e===t}(e,"Integer")){var y=n.getAttribute("value");i=javaemul.internal.IntegerHelper.parseInt(y)}else if(function(e,t){return e&&e.equals?e.equals(t):e===t}(e,"GoldenNumber")||function(e,t){return e&&e.equals?e.equals(t):e===t}(e,"IntegralNumber")){var _=n.getAttribute("value");i=this.mField.parseLegacyNumber(_),null!=this.mMultiplier&&(i=i.times$com_vzome_core_algebra_AlgebraicNumber(this.mMultiplier))}else(function(e,t){return e&&e.equals?e.equals("String"):"String"===e})(e)&&(i=n.getTextContent());return i}},{key:"parseConstruction$java_lang_String$org_w3c_dom_Element",value:function(e,t){return this.parseConstruction$java_lang_String$org_w3c_dom_Element$boolean(e,t,!1)}},{key:"parseConstruction$java_lang_String$org_w3c_dom_Element$boolean",value:function(t,n,r){var i,o=null;if((i=t)&&i.equals?i.equals("point"):"point"===i){var a=this.parseAlgebraicVector(n);r&&(a=a.projectTo3d(!0)),o=new e.vzome.core.construction.FreePoint(a)}else if(function(e,t){return e&&e.equals?e.equals(t):e===t}(t,"segment")){var s=e.vzome.xml.DomUtils.getFirstChildElement$org_w3c_dom_Element$java_lang_String(n,"start"),l=e.vzome.xml.DomUtils.getFirstChildElement$org_w3c_dom_Element$java_lang_String(n,"end"),u=this.parseAlgebraicVector(s),c=this.parseAlgebraicVector(l);r&&(u=u.projectTo3d(!0),c=c.projectTo3d(!0)),o=new e.vzome.core.construction.SegmentJoiningPoints(new e.vzome.core.construction.FreePoint(u),new e.vzome.core.construction.FreePoint(c))}else if(function(e,t){return e&&e.equals?e.equals(t):e===t}(t,"polygon")){for(var f=n.getElementsByTagName("vertex"),h=function(e){for(var t=[];e-- >0;)t.push(null);return t}(f.getLength()),d=0;d<f.getLength();d++){var p=this.parseAlgebraicVector(f.item(d));r&&(p=p.projectTo3d(!0)),h[d]=new e.vzome.core.construction.FreePoint(p)}o=new e.vzome.core.construction.PolygonFromVertices(h)}return o}},{key:"parseConstruction",value:function(e,t,n){if("string"!==typeof e&&null!==e||!(null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("org.w3c.dom.Element")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("org.w3c.dom.Element")>=0)||null===t)||"boolean"!==typeof n&&null!==n){if("string"!==typeof e&&null!==e||!(null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("org.w3c.dom.Element")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("org.w3c.dom.Element")>=0)||null===t)||void 0!==n)throw new Error("invalid overload");return this.parseConstruction$java_lang_String$org_w3c_dom_Element(e,t)}return this.parseConstruction$java_lang_String$org_w3c_dom_Element$boolean(e,t,n)}},{key:"loadCommandAttributes$org_w3c_dom_Element",value:function(e){return this.loadCommandAttributes$org_w3c_dom_Element$boolean(e,!1)}},{key:"loadCommandAttributes$org_w3c_dom_Element$boolean",value:function(n,r){for(var i,o=new e.vzome.core.commands.AttributeMap,a=n.getChildNodes(),s=0;s<a.getLength();s++){var l=a.item(s);if(null!=l&&(null!=l.__interfaces&&l.__interfaces.indexOf("org.w3c.dom.Element")>=0||null!=l.constructor&&null!=l.constructor.__interfaces&&l.constructor.__interfaces.indexOf("org.w3c.dom.Element")>=0)){var u=l,c=u.getLocalName(),f=u.getAttribute("attrName");if(this.interim210format()){f=u.getAttribute("name");var h=e.vzome.xml.DomUtils.getFirstChildElement$org_w3c_dom_Element(u);null!=h&&(c=(u=h).getLocalName())}var d=this.parseAlgebraicObject(c,u);if(d===t.NOT_AN_ATTRIBUTE_$LI$())if(this.rationalVectors())if((i=c)&&i.equals?i.equals("point"):"point"===i)d=this.parsePoint$org_w3c_dom_Element$java_lang_String$boolean(u,"at",r);else if(function(e,t){return e&&e.equals?e.equals(t):e===t}(c,"segment"))d=this.parseSegment$org_w3c_dom_Element$java_lang_String$java_lang_String$boolean(u,"start","end",r);else{if(!function(e,t){return e&&e.equals?e.equals(t):e===t}(c,"polygon"))throw new java.lang.IllegalStateException("unknown parameter construction: "+c);d=this.parsePolygon$org_w3c_dom_Element$java_lang_String$boolean(u,"vertex",r)}else d=this.parseConstruction$java_lang_String$org_w3c_dom_Element$boolean(c,u,r);o.put(f,d)}}return o}},{key:"loadCommandAttributes",value:function(e,t){if(!(null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("org.w3c.dom.Element")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("org.w3c.dom.Element")>=0)||null===e)||"boolean"!==typeof t&&null!==t){if((null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("org.w3c.dom.Element")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("org.w3c.dom.Element")>=0)||null===e)&&void 0===t)return this.loadCommandAttributes$org_w3c_dom_Element(e);throw new Error("invalid overload")}return this.loadCommandAttributes$org_w3c_dom_Element$boolean(e,t)}},{key:"getField",value:function(){return this.mField}},{key:"getScale",value:function(){return this.mScale}},{key:"parseRationalVector",value:function(e,t){var n=e.getAttribute(t);return null==n||0===n.length?null:this.mField.parseVector(n)}},{key:"parseRationalNumber",value:function(e,t){var n=e.getAttribute(t);return null==n||0===n.length?null:this.mField.parseNumber(n)}},{key:"parsePoint$org_w3c_dom_Element$java_lang_String",value:function(e,t){return this.parsePoint$org_w3c_dom_Element$java_lang_String$boolean(e,t,!1)}},{key:"parsePoint$org_w3c_dom_Element$java_lang_String$boolean",value:function(t,n,r){var i=t.getAttribute(n);if(null==i||0===i.length)return null;var o=this.mField.parseVector(i);return r&&(o=o.projectTo3d(!0)),new e.vzome.core.construction.FreePoint(o)}},{key:"parsePoint",value:function(e,t,n){if(!(null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("org.w3c.dom.Element")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("org.w3c.dom.Element")>=0)||null===e)||"string"!==typeof t&&null!==t||"boolean"!==typeof n&&null!==n){if(!(null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("org.w3c.dom.Element")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("org.w3c.dom.Element")>=0)||null===e)||"string"!==typeof t&&null!==t||void 0!==n)throw new Error("invalid overload");return this.parsePoint$org_w3c_dom_Element$java_lang_String(e,t)}return this.parsePoint$org_w3c_dom_Element$java_lang_String$boolean(e,t,n)}},{key:"parseSegment$org_w3c_dom_Element$java_lang_String$java_lang_String",value:function(e,t,n){return this.parseSegment$org_w3c_dom_Element$java_lang_String$java_lang_String$boolean(e,t,n,!1)}},{key:"parseSegment$org_w3c_dom_Element$java_lang_String$java_lang_String$boolean",value:function(t,n,r,i){var o=t.getAttribute(r);if(null==o||0===o.length)return null;var a=this.mField.parseVector(o),s=null==(o=t.getAttribute(n))||0===o.length?this.mField.origin(a.dimension()):this.mField.parseVector(o);return i&&(s=s.projectTo3d(!0),a=a.projectTo3d(!0)),new e.vzome.core.construction.SegmentJoiningPoints(new e.vzome.core.construction.FreePoint(s),new e.vzome.core.construction.FreePoint(a))}},{key:"parseSegment",value:function(e,t,n,r){if(!(null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("org.w3c.dom.Element")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("org.w3c.dom.Element")>=0)||null===e)||"string"!==typeof t&&null!==t||"string"!==typeof n&&null!==n||"boolean"!==typeof r&&null!==r){if(!(null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("org.w3c.dom.Element")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("org.w3c.dom.Element")>=0)||null===e)||"string"!==typeof t&&null!==t||"string"!==typeof n&&null!==n||void 0!==r)throw new Error("invalid overload");return this.parseSegment$org_w3c_dom_Element$java_lang_String$java_lang_String(e,t,n)}return this.parseSegment$org_w3c_dom_Element$java_lang_String$java_lang_String$boolean(e,t,n,r)}},{key:"parsePolygon$org_w3c_dom_Element$java_lang_String",value:function(e,t){return this.parsePolygon$org_w3c_dom_Element$java_lang_String$boolean(e,t,!1)}},{key:"parsePolygon$org_w3c_dom_Element$java_lang_String$boolean",value:function(t,n,r){for(var i=t.getElementsByTagName(n),o=function(e){for(var t=[];e-- >0;)t.push(null);return t}(i.getLength()),a=0;a<i.getLength();a++){var s=i.item(a).getAttribute("at"),l=this.mField.parseVector(s);r&&(l=l.projectTo3d(!0)),o[a]=new e.vzome.core.construction.FreePoint(l)}return new e.vzome.core.construction.PolygonFromVertices(o)}},{key:"parsePolygon",value:function(e,t,n){if(!(null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("org.w3c.dom.Element")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("org.w3c.dom.Element")>=0)||null===e)||"string"!==typeof t&&null!==t||"boolean"!==typeof n&&null!==n){if(!(null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("org.w3c.dom.Element")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("org.w3c.dom.Element")>=0)||null===e)||"string"!==typeof t&&null!==t||void 0!==n)throw new Error("invalid overload");return this.parsePolygon$org_w3c_dom_Element$java_lang_String(e,t)}return this.parsePolygon$org_w3c_dom_Element$java_lang_String$boolean(e,t,n)}},{key:"parsePolygonReversed",value:function(t,n){for(var r=t.getElementsByTagName(n),i=function(e){for(var t=[];e-- >0;)t.push(null);return t}(r.getLength()),o=r.getLength()-1,a=0;a<r.getLength();a++){var s=r.item(a).getAttribute("at"),l=this.mField.parseVector(s);i[o-a]=new e.vzome.core.construction.FreePoint(l)}return new e.vzome.core.construction.PolygonFromVertices(i)}},{key:"parseNumber",value:function(e,t){var n=e.getAttribute(t);return null==n||0===n.length?null:this.mField.parseNumber(n)}},{key:"loadToRender",value:function(){return e="true",t=this.properties.getProperty("no.rendering"),!(e.equals?e.equals(t):e===t);var e,t}},{key:"getToolVersion",value:function(e){var t=e.getAttribute("edition");return null!=t&&0!==t.length||(t="vZome"),t+" "+this.writerVersion}}],[{key:"FORMATS_$LI$",value:function(){return null==t.FORMATS&&(t.FORMATS=new java.util.HashMap),t.FORMATS}},{key:"logger_$LI$",value:function(){return null==t.logger&&(t.logger=java.util.logging.Logger.getLogger("com.vzome.core.commands.XmlSaveFormat")),t.logger}},{key:"NOT_AN_ATTRIBUTE_$LI$",value:function(){return null==t.NOT_AN_ATTRIBUTE&&(t.NOT_AN_ATTRIBUTE=new Object),t.NOT_AN_ATTRIBUTE}},{key:"serializeNumber",value:function(t,n,r){e.vzome.xml.DomUtils.addAttribute(t,n,r.toString(e.vzome.core.algebra.AlgebraicField.ZOMIC_FORMAT))}},{key:"serializePoint",value:function(t,n,r){e.vzome.xml.DomUtils.addAttribute(t,n,r.getLocation().getVectorExpression$int(e.vzome.core.algebra.AlgebraicField.ZOMIC_FORMAT))}},{key:"serializeSegment",value:function(t,n,r,i){e.vzome.xml.DomUtils.addAttribute(t,n,i.getStart().getVectorExpression$int(e.vzome.core.algebra.AlgebraicField.ZOMIC_FORMAT)),e.vzome.xml.DomUtils.addAttribute(t,r,i.getEnd().getVectorExpression$int(e.vzome.core.algebra.AlgebraicField.ZOMIC_FORMAT))}},{key:"serializePolygon",value:function(e,t,n){n.getXml$org_w3c_dom_Element$java_lang_String(e,t)}},{key:"escapeNewlines",value:function(e){var t=new java.lang.StringBuffer,n=new java.io.BufferedReader(new java.io.StringReader(e)),r=null;try{for(;null!=(r=n.readLine());){var i=r.indexOf("//");i>=0&&(r=r.substring(0,i)),t.append(r+"\n")}}catch(o){}return t.toString()}}]),t}();n.CURRENT_FORMAT="http://xml.vzome.com/vZome/4.0.0/",n.PROJECT_4D="project-4D-to-3D",n.SELECTION_NOT_SAVED="selection-not-saved",n.FORMAT_2_1_0="interim-210-format",n.GROUPING_IN_SELECTION="grouping-in-selection",n.RATIONAL_VECTORS="rational-vectors",n.COMPACTED_COMMAND_EDITS="compacted-command-edits",n.MULTIPLE_DESIGNS="multiple-designs",n.UNKNOWN_COMMAND="unknown.command",t.XmlSaveFormat=n,n.__class="com.vzome.core.commands.XmlSaveFormat"})((n=t.core||(t.core={})).commands||(n.commands={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(e){var t;(function(e){var t=function(e){_inherits(n,java.util.TreeMap);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this)}return n}();t.__com_vzome_core_commands_AttributeMap_serialVersionUID=1,e.AttributeMap=t,t.__class="com.vzome.core.commands.AttributeMap",t.__interfaces=["java.lang.Cloneable","java.util.Map","java.util.NavigableMap","java.util.SortedMap","java.io.Serializable"]})((t=e.core||(e.core={})).commands||(t.commands={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"setXml",value:function(e,t){var n=t.loadCommandAttributes$org_w3c_dom_Element(e);return this.setFixedAttributes(n,t),n}},{key:"setFixedAttributes",value:function(t,n){t.put(e.vzome.core.commands.Command.FIELD_ATTR_NAME,n.getField())}},{key:"getXml",value:function(n,r){var i,o;if(null!=r)for(var a=r.keySet().iterator();a.hasNext();){var s=a.next();if(i=s,o=e.vzome.core.commands.Command.FIELD_ATTR_NAME,(i&&i.equals?!i.equals(o):i!==o)&&!function(e,t){return e&&e.equals?e.equals(t):e===t}(s,e.vzome.core.commands.CommandTransform.SYMMETRY_CENTER_ATTR_NAME)&&!function(e,t){return e&&e.equals?e.equals(t):e===t}(s,e.vzome.core.commands.CommandTransform.SYMMETRY_AXIS_ATTR_NAME)&&!function(e,t){return e&&e.equals?e.equals(t):e===t}(s,e.vzome.core.commands.CommandImportVEFData.FIELD_ATTR_NAME)){var l=r.get(s);null!=l&&l instanceof e.vzome.core.math.symmetry.IcosahedralSymmetry||t.saveCommandAttribute(n,s,l)}}}},{key:"attributeIs3D",value:function(e){return!0}},{key:"setQuaternion",value:function(e){}},{key:"ordersSelection",value:function(){return!1}}],[{key:"saveCommandAttribute",value:function(t,n,r){var i,o=t.getOwnerDocument(),a=null;if(null!=r&&r instanceof Array&&(0==r.length||null==r[0]||"number"===typeof r[0])){var s=r;a=t.getOwnerDocument().createElement("RationalVector");for(var l=!0,u=!0,c=0;c<(s.length/2|0);c++)u=u&&0===s[2*c],l=l&&1===s[2*c+1];if(!u){for(var f=new java.lang.StringBuffer,h=0;h<(s.length/2|0);h++)h>0&&f.append(" "),f.append(s[2*h]);if(e.vzome.xml.DomUtils.addAttribute(a,"nums",f.toString()),!l){for(var d=new java.lang.StringBuffer,p=0;p<(s.length/2|0);p++)p>0&&d.append(" "),d.append(s[2*p+1]);e.vzome.xml.DomUtils.addAttribute(a,"denoms",d.toString())}}}else if(null!=r&&r instanceof e.vzome.core.math.symmetry.Axis)a=o.createElement("Axis"),r.getXML(a);else if("boolean"===typeof r)a=o.createElement("Boolean"),e.vzome.xml.DomUtils.addAttribute(a,"value",r.toString());else if("number"===typeof r)a=o.createElement("Integer"),e.vzome.xml.DomUtils.addAttribute(a,"value",r.toString());else if(null!=r&&r instanceof e.vzome.core.construction.Construction)a=r.getXml(t.getOwnerDocument());else if("string"===typeof r){a=o.createElement("String");var m=e.vzome.core.commands.XmlSaveFormat.escapeNewlines(r);a.appendChild(o.createTextNode(m))}else if(null!=r&&r instanceof e.vzome.core.math.symmetry.QuaternionicSymmetry)a=o.createElement("QuaternionicSymmetry"),e.vzome.xml.DomUtils.addAttribute(a,"name",r.getName());else if(null!=r&&(null!=r.__interfaces&&r.__interfaces.indexOf("com.vzome.core.math.symmetry.Symmetry")>=0||null!=r.constructor&&null!=r.constructor.__interfaces&&r.constructor.__interfaces.indexOf("com.vzome.core.math.symmetry.Symmetry")>=0))a=o.createElement("Symmetry"),e.vzome.xml.DomUtils.addAttribute(a,"name",r.getName());else{if(null!=r)throw new java.lang.IllegalStateException("unable to save "+((i=r.constructor).__class?i.__class:i.name));a=o.createElement("Null")}e.vzome.xml.DomUtils.addAttribute(a,"attrName",n),t.appendChild(a)}}]),t}();t.AbstractCommand=n,n.__class="com.vzome.core.commands.AbstractCommand",n.__interfaces=["com.vzome.core.commands.Command"]})((n=t.core||(t.core={})).commands||(n.commands={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(e){var t;(function(e){var t;(t=e.Command||(e.Command={})).LOADING_FROM_FILE="org.vorthmann.zome.editor.Command.LOADING_FROM_FILE",t.FIELD_ATTR_NAME="org.vorthmann.zome.commands.Command.ALGEBRAIC_FIELD",t.GENERIC_PARAM_NAME="org.vorthmann.zome.editor.Command.GENERIC_PARAM",function(e){var t=function(e){_inherits(n,_wrapNativeSuper(Error));var t=_createSuper(n);function n(e,r){var i;if(_classCallCheck(this,n),"string"!==typeof e&&null!==e||!(null!=r&&r instanceof Error||null===r))if("string"!==typeof e&&null!==e||void 0!==r)if((null!=e&&e instanceof Error||null===e)&&void 0===r){var o=arguments[0];(i=t.call(this,o)).message=o,Object.setPrototypeOf(_assertThisInitialized(i),n.prototype),n.logger_$LI$().log(java.util.logging.Level.INFO,"command failure",o)}else{if(void 0!==e||void 0!==r)throw new Error("invalid overload");i=t.call(this),Object.setPrototypeOf(_assertThisInitialized(i),n.prototype)}else(i=t.call(this,e)).message=e,Object.setPrototypeOf(_assertThisInitialized(i),n.prototype),n.logger_$LI$().isLoggable(java.util.logging.Level.FINE)&&n.logger_$LI$().log(java.util.logging.Level.FINE,"command failure: "+e);else(i=t.call(this,e)).message=e,Object.setPrototypeOf(_assertThisInitialized(i),n.prototype),n.logger_$LI$().log(java.util.logging.Level.INFO,"command failure: "+e,r);return _possibleConstructorReturn(i)}return _createClass(n,null,[{key:"logger_$LI$",value:function(){return null==n.logger&&(n.logger=java.util.logging.Logger.getLogger("org.vorthmann.zome.commands")),n.logger}}]),n}();e.Failure=t,t.__class="com.vzome.core.commands.Command.Failure",t.__interfaces=["java.io.Serializable"]}(e.Command||(e.Command={}))})((t=e.core||(e.core={})).commands||(t.commands={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"__static_initialize",value:function(){t.__static_initialized||(t.__static_initialized=!0,t.__static_initializer_0())}},{key:"colorMappers_$LI$",value:function(){return t.__static_initialize(),null==t.colorMappers&&(t.colorMappers=new java.util.HashMap),t.colorMappers}},{key:"__static_initializer_0",value:function(){t.RegisterMapper(new t.RadialCentroidColorMap),t.RegisterMapper(new t.RadialStandardBasisColorMap),t.RegisterMapper(new t.CanonicalOrientationColorMap),t.RegisterMapper(new t.NormalPolarityColorMap),t.RegisterMapper(new t.CentroidByOctantAndDirectionColorMap),t.RegisterMapper(new t.CoordinatePlaneColorMap),t.RegisterMapper(new t.Identity),t.RegisterMapper(new t.ColorComplementor),t.RegisterMapper(new t.ColorInverter),t.RegisterMapper(new t.ColorMaximizer),t.RegisterMapper(new t.ColorSoftener)}},{key:"RegisterMapper",value:function(e){var n,r;null!=e&&(t.colorMappers_$LI$().put(e.getName(),e),n=e.getName(),r="ColorComplementor",(n&&n.equals?n.equals(r):n===r)&&t.colorMappers_$LI$().put("ColorComplimentor",e))}},{key:"getColorMapper$java_lang_String",value:function(e){if(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"TransparencyMapper@"===e.substr(n,"TransparencyMapper@".length)}(e,"TransparencyMapper@")){var n=e.substring("TransparencyMapper@".length),r=javaemul.internal.IntegerHelper.parseInt(n);return new t.TransparencyMapper(r)}switch(e){case"TransparencyMapper":return new t.TransparencyMapper(255);case"DarkenWithDistance":return new t.DarkenWithDistance;case"DarkenNearOrigin":return new t.DarkenNearOrigin;case"CopyLastSelectedColor":return new t.CopyLastSelectedColor}return t.colorMappers_$LI$().get(e)}},{key:"getColorMapper$java_lang_String$com_vzome_core_editor_api_OrbitSource",value:function(e,n){var r,i,o=(i="SystemColorMap",((r=e)&&r.equals?r.equals(i):r===i)?new t.SystemColorMap(n):function(e,t){return e&&e.equals?e.equals(t):e===t}(e,"SystemCentroidColorMap")?new t.SystemCentroidColorMap(n):function(e,t){return e&&e.equals?e.equals(t):e===t}(e,"NearestSpecialOrbitColorMap")?new t.NearestSpecialOrbitColorMap(n):function(e,t){return e&&e.equals?e.equals(t):e===t}(e,"CentroidNearestSpecialOrbitColorMap")?new t.CentroidNearestSpecialOrbitColorMap(n):function(e,t){return e&&e.equals?e.equals(t):e===t}(e,"NearestPredefinedOrbitColorMap")?new t.NearestPredefinedOrbitColorMap(n):function(e,t){return e&&e.equals?e.equals(t):e===t}(e,"CentroidNearestPredefinedOrbitColorMap")?new t.CentroidNearestPredefinedOrbitColorMap(n):t.getColorMapper$java_lang_String(e));return null==o&&(o=new t.Identity),o}},{key:"getColorMapper",value:function(t,n){if("string"!==typeof t&&null!==t||!(null!=n&&(null!=n.__interfaces&&n.__interfaces.indexOf("com.vzome.core.editor.api.OrbitSource")>=0||null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("com.vzome.core.editor.api.OrbitSource")>=0)||null===n)){if("string"!==typeof t&&null!==t||void 0!==n)throw new Error("invalid overload");return e.vzome.core.edits.ManifestationColorMappers.getColorMapper$java_lang_String(t)}return e.vzome.core.edits.ManifestationColorMappers.getColorMapper$java_lang_String$com_vzome_core_editor_api_OrbitSource(t,n)}},{key:"mapPolarity",value:function(t,n){var r=t.compareTo(t.negate()),i=r<0?64:r>0?192:128;return new e.vzome.core.construction.Color(i,i,i,n)}},{key:"mapRadially",value:function(t,n){for(var r=[127,127,127],i=function(e){for(var t=[];e-- >0;)t.push(0);return t}(r.length),o=Math.min(r.length,t.dimension()),a=0,s=0;s<o;s++){var l=t.getComponent(s);i[s]=l.evaluate(),a+=Math.abs(i[s])}if(0!==a)for(var u=0;u<i.length;u++){var c=i[u]/a*127;r[u]=127+(0|c),r[u]=Math.min(255,r[u]),r[u]=Math.max(0,r[u])}return new e.vzome.core.construction.Color(r[0],r[1],r[2],n)}},{key:"mapToOctant",value:function(t,n,r,i,o){for(var a,s=[r,i,o],l=function(e){for(var t=[];e-- >0;)t.push(0);return t}(s.length),u=Math.min(l.length,t.dimension()),c=0;c<u;c++){var f=t.getComponent(c),h=1+(0|((a=f.evaluate())>0?1:a<0?-1:0));l[c]=s[h]}return new e.vzome.core.construction.Color(l[0],l[1],l[2],n)}},{key:"mapToMagnitude",value:function(t,n,r,i){if(null==t||null==i)return i;var o=e.vzome.core.algebra.AlgebraicVectors.getMagnitudeSquared(t).evaluate(),a=0===r?1e-4:r,s=Math.abs(n-o)/a;return e.vzome.core.construction.Color.getScaledTo(i,s)}}]),t}();n.__static_initialized=!1,t.ManifestationColorMappers=n,n.__class="com.vzome.core.edits.ManifestationColorMappers",function(t){var n=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"getName",value:function(){var e,t=this.constructor;if(t.isAnonymousClass())throw new java.lang.IllegalStateException("Anonymous implementations must override "+((e="com.vzome.core.edits.ColorMappers.ColorMapper").__class?e.__class.substring(e.__class.lastIndexOf(".")+1):e.name.substring(e.name.lastIndexOf(".")+1))+".getName() so that the result is not derived from the class name.");return function(e){return e.__class?e.__class.substring(e.__class.lastIndexOf(".")+1):e.name.substring(e.name.lastIndexOf(".")+1)}(t)}},{key:"requiresOrderedSelection",value:function(){return!1}}]),_createClass(t,[{key:"initialize",value:function(e){}},{key:"apply$com_vzome_core_model_Manifestation",value:function(e){return null!=e&&e.isRendered()?this.applyTo(e):null}},{key:"apply",value:function(e){if(null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0)||null===e)return this.apply$com_vzome_core_model_Manifestation(e);throw new Error("invalid overload")}},{key:"applyTo",value:function(t){var n=t.getColor();return null==n&&(n=e.vzome.core.construction.Color.WHITE_$LI$()),n}},{key:"getXmlAttributes",value:function(e){}},{key:"setXmlAttributes",value:function(e){}}]),t}();t.ManifestationColorMapper=n,n.__class="com.vzome.core.edits.ManifestationColorMappers.ManifestationColorMapper",n.__interfaces=["com.vzome.core.edits.ColorMappers.ColorMapper","java.util.function.Function"];var r=function(e){_inherits(r,t.ManifestationColorMapper);var n=_createSuper(r);function r(){return _classCallCheck(this,r),n.call(this)}return _createClass(r,[{key:"applyTo",value:function(e){return e.getColor()}}]),r}();t.Identity=r,r.__class="com.vzome.core.edits.ManifestationColorMappers.Identity",r.__interfaces=["com.vzome.core.edits.ColorMappers.ColorMapper","java.util.function.Function"];var i=function(n){_inherits(i,t.ManifestationColorMapper);var r=_createSuper(i);function i(){return _classCallCheck(this,i),r.call(this)}return _createClass(i,[{key:"applyTo",value:function(t){return e.vzome.core.construction.Color.getComplement(_get(_getPrototypeOf(i.prototype),"applyTo",this).call(this,t))}}]),i}();t.ColorComplementor=i,i.__class="com.vzome.core.edits.ManifestationColorMappers.ColorComplementor",i.__interfaces=["com.vzome.core.edits.ColorMappers.ColorMapper","java.util.function.Function"];var o=function(n){_inherits(i,t.ManifestationColorMapper);var r=_createSuper(i);function i(){return _classCallCheck(this,i),r.call(this)}return _createClass(i,[{key:"applyTo",value:function(t){return e.vzome.core.construction.Color.getInverted(_get(_getPrototypeOf(i.prototype),"applyTo",this).call(this,t))}}]),i}();t.ColorInverter=o,o.__class="com.vzome.core.edits.ManifestationColorMappers.ColorInverter",o.__interfaces=["com.vzome.core.edits.ColorMappers.ColorMapper","java.util.function.Function"];var a=function(n){_inherits(i,t.ManifestationColorMapper);var r=_createSuper(i);function i(){return _classCallCheck(this,i),r.call(this)}return _createClass(i,[{key:"applyTo",value:function(t){return e.vzome.core.construction.Color.getMaximum(_get(_getPrototypeOf(i.prototype),"applyTo",this).call(this,t))}}]),i}();t.ColorMaximizer=a,a.__class="com.vzome.core.edits.ManifestationColorMappers.ColorMaximizer",a.__interfaces=["com.vzome.core.edits.ColorMappers.ColorMapper","java.util.function.Function"];var s=function(n){_inherits(i,t.ManifestationColorMapper);var r=_createSuper(i);function i(){return _classCallCheck(this,i),r.call(this)}return _createClass(i,[{key:"applyTo",value:function(t){return e.vzome.core.construction.Color.getPastel(_get(_getPrototypeOf(i.prototype),"applyTo",this).call(this,t))}}]),i}();t.ColorSoftener=s,s.__class="com.vzome.core.edits.ManifestationColorMappers.ColorSoftener",s.__interfaces=["com.vzome.core.edits.ColorMappers.ColorMapper","java.util.function.Function"];var l=function(n){_inherits(i,t.ManifestationColorMapper);var r=_createSuper(i);function i(e){var t;return _classCallCheck(this,i),void 0===(t=r.call(this)).alpha&&(t.alpha=0),t.setAlpha(e),t}return _createClass(i,[{key:"setAlpha",value:function(e){this.alpha=Math.min(255,Math.max(1,e))}},{key:"setXmlAttributes",value:function(e){this.alpha=javaemul.internal.IntegerHelper.parseInt(e.getAttribute(i.ALPHA_ATTR_NAME))}},{key:"getXmlAttributes",value:function(e){e.setAttribute(i.ALPHA_ATTR_NAME,""+this.alpha)}},{key:"applyTo",value:function(t){var n=_get(_getPrototypeOf(i.prototype),"applyTo",this).call(this,t);return new e.vzome.core.construction.Color(n.getRed(),n.getGreen(),n.getBlue(),this.alpha)}}]),i}();l.ALPHA_ATTR_NAME="alpha",t.TransparencyMapper=l,l.__class="com.vzome.core.edits.ManifestationColorMappers.TransparencyMapper",l.__interfaces=["com.vzome.core.edits.ColorMappers.ColorMapper","java.util.function.Function"];var u=function(n){_inherits(i,t.ManifestationColorMapper);var r=_createSuper(i);function i(){var e;return _classCallCheck(this,i),void 0===(e=r.call(this)).color&&(e.color=null),e}return _createClass(i,[{key:"requiresOrderedSelection",value:function(){return!0}},{key:"initialize",value:function(t){if(null==this.color){for(var n=null,r=t.iterator();r.hasNext();){var i=r.next();null!=i&&i.isRendered()&&(n=i)}null!=n&&(this.color=n.getColor())}if(null==this.color)throw new e.vzome.core.commands.Command.Failure("select a ball, strut or panel as the color to be copied.")}},{key:"setXmlAttributes",value:function(t){var n=t.getAttribute("red"),r=t.getAttribute("green"),i=t.getAttribute("blue"),o=t.getAttribute("alpha"),a=null==o||0===o.length?255:javaemul.internal.IntegerHelper.parseInt(o);this.color=new e.vzome.core.construction.Color(javaemul.internal.IntegerHelper.parseInt(n),javaemul.internal.IntegerHelper.parseInt(r),javaemul.internal.IntegerHelper.parseInt(i),a)}},{key:"getXmlAttributes",value:function(e){e.setAttribute("red",""+this.color.getRed()),e.setAttribute("green",""+this.color.getGreen()),e.setAttribute("blue",""+this.color.getBlue());var t=this.color.getAlpha();t<255&&e.setAttribute("alpha",""+t)}},{key:"applyTo",value:function(e){return this.color}}]),i}();t.CopyLastSelectedColor=u,u.__class="com.vzome.core.edits.ManifestationColorMappers.CopyLastSelectedColor",u.__interfaces=["com.vzome.core.edits.ColorMappers.ColorMapper","java.util.function.Function"];var c=function(n){_inherits(i,t.ManifestationColorMapper);var r=_createSuper(i);function i(){return _classCallCheck(this,i),r.call(this)}return _createClass(i,[{key:"applyTo$com_vzome_core_model_Manifestation",value:function(e){var t=e.getColor(),n=null==t?255:t.getAlpha();return this.applyTo$com_vzome_core_algebra_AlgebraicVector$int(e.getCentroid(),n)}},{key:"applyTo$com_vzome_core_algebra_AlgebraicVector$int",value:function(e,t){throw new Error("cannot invoke abstract overloaded method... check your argument(s) type(s)")}},{key:"applyTo",value:function(t,n){if(!(null!=t&&t instanceof e.vzome.core.algebra.AlgebraicVector||null===t)||"number"!==typeof n&&null!==n){if((null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0)||null===t)&&void 0===n)return this.applyTo$com_vzome_core_model_Manifestation(t);throw new Error("invalid overload")}return this.applyTo$com_vzome_core_algebra_AlgebraicVector$int(t,n)}}]),i}();t.CentroidColorMapper=c,c.__class="com.vzome.core.edits.ManifestationColorMappers.CentroidColorMapper",c.__interfaces=["com.vzome.core.edits.ColorMappers.ColorMapper","java.util.function.Function"];var f=function(n){_inherits(i,t.ManifestationColorMapper);var r=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=r.call(this)).offset=0,e.fullScaleSquared=0,e.FULLSCALESQUARED_ATTR_NAME="fullScaleSquared",e}return _createClass(i,[{key:"initialize",value:function(t){if(0===this.fullScaleSquared){var n=i.getMostDistantPoint(t);if(null==n)throw new e.vzome.core.commands.Command.Failure("unable to determine most distant point");if(n.isOrigin())throw new e.vzome.core.commands.Command.Failure("select at least one point other than the origin");this.fullScaleSquared=e.vzome.core.algebra.AlgebraicVectors.getMagnitudeSquared(n).evaluate()}}},{key:"applyTo",value:function(e){var n=e.getCentroid(),r=_get(_getPrototypeOf(i.prototype),"applyTo",this).call(this,e);return t.mapToMagnitude(n,this.offset,this.fullScaleSquared,r)}},{key:"getXmlAttributes",value:function(e){e.setAttribute(this.FULLSCALESQUARED_ATTR_NAME,""+this.fullScaleSquared)}},{key:"setXmlAttributes",value:function(e){var t=e.getAttribute(this.FULLSCALESQUARED_ATTR_NAME);this.fullScaleSquared=javaemul.internal.DoubleHelper.parseDouble(t)}}],[{key:"getMostDistantPoint",value:function(t){for(var n=new java.util.ArrayList,r=t.iterator();r.hasNext();){var i=r.next();n.add(i.getCentroid())}if(n.isEmpty())return null;var o=e.vzome.core.algebra.AlgebraicVectors.getMostDistantFromOrigin(n);return o.isEmpty()?null:o.first()}}]),i}();t.DarkenNearOrigin=f,f.__class="com.vzome.core.edits.ManifestationColorMappers.DarkenNearOrigin",f.__interfaces=["com.vzome.core.edits.ColorMappers.ColorMapper","java.util.function.Function"];var h=function(e){_inherits(r,t.ManifestationColorMapper);var n=_createSuper(r);function r(){return _classCallCheck(this,r),n.call(this)}return _createClass(r,[{key:"applyTo",value:function(e){var t=e.getColor(),n=null==t?255:t.getAlpha();return null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0)?this.applyToBall(e,n):null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0)?this.applyToStrut(e,n):null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.model.Panel")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.model.Panel")>=0)?this.applyToPanel(e,n):null}}]),r}();t.ManifestationSubclassColorMapper=h,h.__class="com.vzome.core.edits.ManifestationColorMappers.ManifestationSubclassColorMapper",h.__interfaces=["com.vzome.core.edits.ColorMappers.ColorMapper","java.util.function.Function"];var d=function(n){_inherits(i,t.CentroidColorMapper);var r=_createSuper(i);function i(){return _classCallCheck(this,i),r.call(this)}return _createClass(i,[{key:"applyTo$com_vzome_core_algebra_AlgebraicVector$int",value:function(e,n){return t.mapRadially(e,n)}},{key:"applyTo",value:function(t,n){if(!(null!=t&&t instanceof e.vzome.core.algebra.AlgebraicVector||null===t)||"number"!==typeof n&&null!==n){if((null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0)||null===t)&&void 0===n)return this.applyTo$com_vzome_core_model_Manifestation(t);throw new Error("invalid overload")}return this.applyTo$com_vzome_core_algebra_AlgebraicVector$int(t,n)}}]),i}();t.RadialCentroidColorMap=d,d.__class="com.vzome.core.edits.ManifestationColorMappers.RadialCentroidColorMap",d.__interfaces=["com.vzome.core.edits.ColorMappers.ColorMapper","java.util.function.Function"];var p=function(n){_inherits(i,t.CentroidColorMapper);var r=_createSuper(i);function i(){return _classCallCheck(this,i),r.call(this)}return _createClass(i,[{key:"applyTo$com_vzome_core_algebra_AlgebraicVector$int",value:function(n,r){return e.vzome.core.construction.Color.getMaximum(t.mapToOctant(n,r,0,127,255))}},{key:"applyTo",value:function(t,n){if(!(null!=t&&t instanceof e.vzome.core.algebra.AlgebraicVector||null===t)||"number"!==typeof n&&null!==n){if((null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0)||null===t)&&void 0===n)return this.applyTo$com_vzome_core_model_Manifestation(t);throw new Error("invalid overload")}return this.applyTo$com_vzome_core_algebra_AlgebraicVector$int(t,n)}}]),i}();t.CentroidByOctantAndDirectionColorMap=p,p.__class="com.vzome.core.edits.ManifestationColorMappers.CentroidByOctantAndDirectionColorMap",p.__interfaces=["com.vzome.core.edits.ColorMappers.ColorMapper","java.util.function.Function"];var m=function(n){_inherits(i,t.CentroidColorMapper);var r=_createSuper(i);function i(){return _classCallCheck(this,i),r.call(this)}return _createClass(i,[{key:"applyTo$com_vzome_core_algebra_AlgebraicVector$int",value:function(n,r){return e.vzome.core.construction.Color.getInverted(t.mapToOctant(n,r,0,255,0))}},{key:"applyTo",value:function(t,n){if(!(null!=t&&t instanceof e.vzome.core.algebra.AlgebraicVector||null===t)||"number"!==typeof n&&null!==n){if((null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0)||null===t)&&void 0===n)return this.applyTo$com_vzome_core_model_Manifestation(t);throw new Error("invalid overload")}return this.applyTo$com_vzome_core_algebra_AlgebraicVector$int(t,n)}}]),i}();t.CoordinatePlaneColorMap=m,m.__class="com.vzome.core.edits.ManifestationColorMappers.CoordinatePlaneColorMap",m.__interfaces=["com.vzome.core.edits.ColorMappers.ColorMapper","java.util.function.Function"];var v=function(n){_inherits(i,t.CentroidColorMapper);var r=_createSuper(i);function i(e){var t;return _classCallCheck(this,i),void 0===(t=r.call(this)).symmetrySystem&&(t.symmetrySystem=null),t.symmetrySystem=e,t}return _createClass(i,[{key:"applyTo$com_vzome_core_algebra_AlgebraicVector$int",value:function(e,t){return this.symmetrySystem.getVectorColor(e)}},{key:"applyTo",value:function(t,n){if(!(null!=t&&t instanceof e.vzome.core.algebra.AlgebraicVector||null===t)||"number"!==typeof n&&null!==n){if((null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0)||null===t)&&void 0===n)return this.applyTo$com_vzome_core_model_Manifestation(t);throw new Error("invalid overload")}return this.applyTo$com_vzome_core_algebra_AlgebraicVector$int(t,n)}},{key:"getXmlAttributes",value:function(t){null!=this.symmetrySystem&&e.vzome.xml.DomUtils.addAttribute(t,"symmetry",this.symmetrySystem.getName())}}]),i}();t.SystemCentroidColorMap=v,v.__class="com.vzome.core.edits.ManifestationColorMappers.SystemCentroidColorMap",v.__interfaces=["com.vzome.core.edits.ColorMappers.ColorMapper","java.util.function.Function"];var g=function(e){_inherits(r,t.DarkenNearOrigin);var n=_createSuper(r);function r(){return _classCallCheck(this,r),n.call(this)}return _createClass(r,[{key:"initialize",value:function(e){_get(_getPrototypeOf(r.prototype),"initialize",this).call(this,e),this.offset=this.fullScaleSquared}}]),r}();t.DarkenWithDistance=g,g.__class="com.vzome.core.edits.ManifestationColorMappers.DarkenWithDistance",g.__interfaces=["com.vzome.core.edits.ColorMappers.ColorMapper","java.util.function.Function"];var y=function(n){_inherits(i,t.ManifestationSubclassColorMapper);var r=_createSuper(i);function i(){return _classCallCheck(this,i),r.call(this)}return _createClass(i,[{key:"applyToBall",value:function(e,t){return this.applyTo$com_vzome_core_algebra_AlgebraicVector$int(e.getLocation(),t)}},{key:"applyToStrut",value:function(e,t){return this.applyTo$com_vzome_core_algebra_AlgebraicVector$int(e.getOffset(),t)}},{key:"applyToPanel",value:function(e,t){return this.applyTo$com_vzome_core_algebra_AlgebraicVector$int(e.getNormal$(),t)}},{key:"applyTo$com_vzome_core_algebra_AlgebraicVector$int",value:function(e,n){return t.mapRadially(e,n)}},{key:"applyTo",value:function(t,n){if((null!=t&&t instanceof e.vzome.core.algebra.AlgebraicVector||null===t)&&("number"===typeof n||null===n))return this.applyTo$com_vzome_core_algebra_AlgebraicVector$int(t,n);if(!(null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0)||null===t)||void 0!==n)throw new Error("invalid overload");_get(_getPrototypeOf(i.prototype),"applyTo",this).call(this,t)}}]),i}();t.RadialStandardBasisColorMap=y,y.__class="com.vzome.core.edits.ManifestationColorMappers.RadialStandardBasisColorMap",y.__interfaces=["com.vzome.core.edits.ColorMappers.ColorMapper","java.util.function.Function"];var _=function(n){_inherits(i,t.ManifestationSubclassColorMapper);var r=_createSuper(i);function i(e){var t;return _classCallCheck(this,i),void 0===(t=r.call(this)).symmetrySystem&&(t.symmetrySystem=null),t.symmetrySystem=e,t}return _createClass(i,[{key:"applyToBall",value:function(t,n){return e.vzome.core.construction.Color.WHITE_$LI$()}},{key:"applyToStrut",value:function(e,t){return this.applyTo$com_vzome_core_algebra_AlgebraicVector(e.getOffset())}},{key:"applyToPanel",value:function(e,t){return this.applyTo$com_vzome_core_algebra_AlgebraicVector(e.getNormal$()).getPastel()}},{key:"applyTo$com_vzome_core_algebra_AlgebraicVector",value:function(e){return this.symmetrySystem.getVectorColor(e)}},{key:"applyTo",value:function(t){if(null!=t&&t instanceof e.vzome.core.algebra.AlgebraicVector||null===t)return this.applyTo$com_vzome_core_algebra_AlgebraicVector(t);if(!(null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0)||null===t))throw new Error("invalid overload");_get(_getPrototypeOf(i.prototype),"applyTo",this).call(this,t)}},{key:"getXmlAttributes",value:function(t){null!=this.symmetrySystem&&e.vzome.xml.DomUtils.addAttribute(t,"symmetry",this.symmetrySystem.getName())}}]),i}();t.SystemColorMap=_,_.__class="com.vzome.core.edits.ManifestationColorMappers.SystemColorMap",_.__interfaces=["com.vzome.core.edits.ColorMappers.ColorMapper","java.util.function.Function"];var b=function(n){_inherits(i,t.RadialStandardBasisColorMap);var r=_createSuper(i);function i(){return _classCallCheck(this,i),r.call(this)}return _createClass(i,[{key:"applyToBall",value:function(e,t){return _get(_getPrototypeOf(i.prototype),"applyToBall",this).call(this,e,t)}},{key:"applyTo$com_vzome_core_algebra_AlgebraicVector$int",value:function(t,n){return _get(_getPrototypeOf(i.prototype),"applyTo$com_vzome_core_algebra_AlgebraicVector$int",this).call(this,e.vzome.core.algebra.AlgebraicVectors.getCanonicalOrientation(t),n)}},{key:"applyTo",value:function(t,n){if((null!=t&&t instanceof e.vzome.core.algebra.AlgebraicVector||null===t)&&("number"===typeof n||null===n))return this.applyTo$com_vzome_core_algebra_AlgebraicVector$int(t,n);if(!(null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0)||null===t)||void 0!==n)throw new Error("invalid overload");_get(_getPrototypeOf(i.prototype),"applyTo",this).call(this,t)}}]),i}();t.CanonicalOrientationColorMap=b,b.__class="com.vzome.core.edits.ManifestationColorMappers.CanonicalOrientationColorMap",b.__interfaces=["com.vzome.core.edits.ColorMappers.ColorMapper","java.util.function.Function"];var w=function(n){_inherits(i,t.RadialStandardBasisColorMap);var r=_createSuper(i);function i(){return _classCallCheck(this,i),r.call(this)}return _createClass(i,[{key:"applyTo$com_vzome_core_algebra_AlgebraicVector$int",value:function(e,n){return t.mapPolarity(e,n)}},{key:"applyTo",value:function(t,n){if((null!=t&&t instanceof e.vzome.core.algebra.AlgebraicVector||null===t)&&("number"===typeof n||null===n))return this.applyTo$com_vzome_core_algebra_AlgebraicVector$int(t,n);if(!(null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0)||null===t)||void 0!==n)throw new Error("invalid overload");_get(_getPrototypeOf(i.prototype),"applyTo",this).call(this,t)}}]),i}();t.NormalPolarityColorMap=w,w.__class="com.vzome.core.edits.ManifestationColorMappers.NormalPolarityColorMap",w.__interfaces=["com.vzome.core.edits.ColorMappers.ColorMapper","java.util.function.Function"];var x=function(n){_inherits(i,t.SystemColorMap);var r=_createSuper(i);function i(t){var n;return _classCallCheck(this,i),(n=r.call(this,t)).specialOrbits=new java.util.LinkedHashSet,n.specialOrbits.add(t.getSymmetry().getSpecialOrbit(e.vzome.core.math.symmetry.Symmetry.SpecialOrbit.BLUE)),n.specialOrbits.add(t.getSymmetry().getSpecialOrbit(e.vzome.core.math.symmetry.Symmetry.SpecialOrbit.YELLOW)),n.specialOrbits.add(t.getSymmetry().getSpecialOrbit(e.vzome.core.math.symmetry.Symmetry.SpecialOrbit.RED)),n}return _createClass(i,[{key:"applyToBall",value:function(e,t){return this.applyTo$com_vzome_core_algebra_AlgebraicVector(e.getLocation())}},{key:"applyToStrut",value:function(e,t){return this.applyTo$com_vzome_core_algebra_AlgebraicVector(e.getOffset())}},{key:"applyToPanel",value:function(e,t){return this.applyTo$com_vzome_core_algebra_AlgebraicVector(e.getNormal$()).getPastel()}},{key:"applyTo$com_vzome_core_algebra_AlgebraicVector",value:function(t){if(t.isOrigin())return e.vzome.core.construction.Color.WHITE_$LI$();var n=this.symmetrySystem.getSymmetry().getAxis$com_vzome_core_math_RealVector$java_util_Set(t.toRealVector(),this.specialOrbits).normal();return this.symmetrySystem.getVectorColor(n)}},{key:"applyTo",value:function(t){if(null!=t&&t instanceof e.vzome.core.algebra.AlgebraicVector||null===t)return this.applyTo$com_vzome_core_algebra_AlgebraicVector(t);if(!(null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0)||null===t))throw new Error("invalid overload");_get(_getPrototypeOf(i.prototype),"applyTo",this).call(this,t)}}]),i}();t.NearestSpecialOrbitColorMap=x,x.__class="com.vzome.core.edits.ManifestationColorMappers.NearestSpecialOrbitColorMap",x.__interfaces=["com.vzome.core.edits.ColorMappers.ColorMapper","java.util.function.Function"];var A=function(e){_inherits(r,t.NearestSpecialOrbitColorMap);var n=_createSuper(r);function r(e){return _classCallCheck(this,r),n.call(this,e)}return _createClass(r,[{key:"applyToBall",value:function(e,t){return this.applyTo$com_vzome_core_algebra_AlgebraicVector(e.getCentroid())}},{key:"applyToStrut",value:function(e,t){return this.applyTo$com_vzome_core_algebra_AlgebraicVector(e.getCentroid())}},{key:"applyToPanel",value:function(e,t){return this.applyTo$com_vzome_core_algebra_AlgebraicVector(e.getCentroid()).getPastel()}}]),r}();t.CentroidNearestSpecialOrbitColorMap=A,A.__class="com.vzome.core.edits.ManifestationColorMappers.CentroidNearestSpecialOrbitColorMap",A.__interfaces=["com.vzome.core.edits.ColorMappers.ColorMapper","java.util.function.Function"];var M=function(e){_inherits(r,t.NearestSpecialOrbitColorMap);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),(t=n.call(this,e)).specialOrbits=null,t}return r}();t.NearestPredefinedOrbitColorMap=M,M.__class="com.vzome.core.edits.ManifestationColorMappers.NearestPredefinedOrbitColorMap",M.__interfaces=["com.vzome.core.edits.ColorMappers.ColorMapper","java.util.function.Function"];var S=function(e){_inherits(r,t.CentroidNearestSpecialOrbitColorMap);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),(t=n.call(this,e)).specialOrbits=null,t}return r}();t.CentroidNearestPredefinedOrbitColorMap=S,S.__class="com.vzome.core.edits.ManifestationColorMappers.CentroidNearestPredefinedOrbitColorMap",S.__interfaces=["com.vzome.core.edits.ColorMappers.ColorMapper","java.util.function.Function"]}(n=t.ManifestationColorMappers||(t.ManifestationColorMappers={}))})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(e){var t;t=e.core||(e.core={}),function(e){var n=function e(){_classCallCheck(this,e)};(t.edits||(t.edits={})).ColorMappers=n,n.__class="com.vzome.core.edits.ColorMappers"}()}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,java.util.TreeMap);var n=_createSuper(r);function r(e,t){var i;return _classCallCheck(this,r),void 0===(i=n.call(this)).editor&&(i.editor=null),i.lastId=0,i.pcs=new java.beans.PropertyChangeSupport(_assertThisInitialized(i)),void 0===i.context&&(i.context=null),void 0===i.originPoint&&(i.originPoint=null),i.toolLabels=new java.util.HashMap,i.toolDeleteInputs=new java.util.HashMap,i.toolSelectInputs=new java.util.HashMap,i.hiddenTools=new java.util.HashSet,i.context=e,i.originPoint=t,i}return _createClass(r,[{key:"reserveId",value:function(){return this.lastId++}},{key:"setMaxId",value:function(e){e>=this.lastId&&(this.lastId=e+1)}},{key:"put",value:function(e,t){return this.pcs.firePropertyChange("tool.instances",null,t),_get(_getPrototypeOf(r.prototype),"put",this).call(this,e,t)}},{key:"createEdit",value:function(t){switch(t){case"ToolApplied":return new e.vzome.core.editor.ApplyTool(this,null,!1,!1,!1,!1,!1);case"ApplyTool":return new e.vzome.core.editor.ApplyTool(this,null,!1,!1,!1,!1,!0);case"SelectToolParameters":return new e.vzome.core.editor.SelectToolParameters(this,null);default:return null}}},{key:"applyTool",value:function(t,n,r,i,o){var a=new e.vzome.core.editor.ApplyTool(this,t,n,r,i,o,!0);this.getContext().performAndRecord(a)}},{key:"selectToolParameters",value:function(t){var n=new e.vzome.core.editor.SelectToolParameters(this,t);this.getContext().performAndRecord(n)}},{key:"addPropertyListener",value:function(e){this.pcs.addPropertyChangeListener(e)}},{key:"removePropertyListener",value:function(e){this.pcs.removePropertyChangeListener(e)}},{key:"setEditorModel",value:function(e){this.editor=e}},{key:"getEditorModel",value:function(){return this.editor}},{key:"getPredefinedTool",value:function(e){return this.get(e)}},{key:"getContext",value:function(){return this.context}},{key:"getOriginPoint",value:function(){return this.originPoint}},{key:"getXml",value:function(t){for(var n=t.createElement("Tools"),r=this.values().iterator();r.hasNext();){var i=r.next();if(!i.isPredefined()){var o=t.createElement("Tool");e.vzome.xml.DomUtils.addAttribute(o,"id",i.getId()),e.vzome.xml.DomUtils.addAttribute(o,"label",i.getLabel()),i.isHidden()&&e.vzome.xml.DomUtils.addAttribute(o,"hidden","true"),i.isSelectInputs()&&o.setAttribute("selectInputs","true"),i.isDeleteInputs()&&o.setAttribute("deleteInputs","true"),n.appendChild(o)}}return n}},{key:"loadFromXml",value:function(e){for(var t,n=e.getChildNodes(),r=0;r<n.getLength();r++){var i=n.item(r);if(null!=i&&(null!=i.__interfaces&&i.__interfaces.indexOf("org.w3c.dom.Element")>=0||null!=i.constructor&&null!=i.constructor.__interfaces&&i.constructor.__interfaces.indexOf("org.w3c.dom.Element")>=0)){var o=i,a=o.getAttribute("id"),s=o.getAttribute("label");this.toolLabels.put(a,s);var l=o.getAttribute("selectInputs");null!=l&&((t=l)&&t.equals?t.equals("true"):"true"===t)&&this.toolSelectInputs.put(a,javaemul.internal.BooleanHelper.parseBoolean(l)),null!=(l=o.getAttribute("deleteInputs"))&&function(e,t){return e&&e.equals?e.equals("true"):"true"===e}(l)&&this.toolDeleteInputs.put(a,javaemul.internal.BooleanHelper.parseBoolean(l));var u=o.getAttribute("hidden");null!=u&&function(e,t){return e&&e.equals?e.equals("true"):"true"===e}(u)&&this.hiddenTools.add(a)}}}},{key:"setConfiguration",value:function(e){var t=e.getId(),n=this.toolLabels.get(t);null!=n&&e.setLabel(n),(this.toolDeleteInputs.containsKey(t)||this.toolSelectInputs.containsKey(t))&&e.setInputBehaviors(this.toolSelectInputs.containsKey(t),this.toolDeleteInputs.containsKey(t)),e.setHidden(this.hiddenTools.contains(t))}},{key:"hideTool",value:function(e){this.pcs.firePropertyChange("tool.instances",e,null)}}]),r}();t.ToolsModel=n,n.__class="com.vzome.core.editor.ToolsModel",n.__interfaces=["java.lang.Cloneable","com.vzome.api.Tool.Source","java.util.Map","java.util.NavigableMap","java.util.SortedMap","java.io.Serializable"]})((n=t.core||(t.core={})).editor||(n.editor={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(){function t(e,n){_classCallCheck(this,t),this.vertexData=new java.util.HashMap,void 0===this.edit&&(this.edit=null),void 0===this.offset&&(this.offset=null),this.edit=e,this.offset=n}return _createClass(t,[{key:"duplicateManifestation",value:function(e){var t=this.duplicateConstruction(e);this.edit.manifestConstruction(t)}},{key:"duplicateConstruction",value:function(t){if(null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0)){var n=t.getLocation();return this.getVertex(n)}if(null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0)){var r=t,i=this.getVertex(r.getLocation()),o=this.getVertex(r.getEnd());return new e.vzome.core.construction.SegmentJoiningPoints(i,o)}if(null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.model.Panel")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.model.Panel")>=0)){for(var a=new java.util.ArrayList,s=t.iterator();s.hasNext();){var l=s.next();a.add(this.getVertex(l))}return new e.vzome.core.construction.PolygonFromVertices(a.toArray([]))}return null}},{key:"getVertex",value:function(t){var n=this.vertexData.get(t);if(null==n){var r=t;null!=this.offset&&(t=t.plus(this.offset)),n=new e.vzome.core.construction.FreePoint(t),this.vertexData.put(r,n)}return n}}]),t}();t.Duplicator=n,n.__class="com.vzome.core.editor.Duplicator"})((n=t.core||(t.core={})).editor||(n.editor={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(e){var t;(function(e){var t=function(){function e(t){_classCallCheck(this,e),this.balls=0,this.struts=0,this.panels=0,this.listeners=new java.util.ArrayList,void 0===this.selection&&(this.selection=null),this.selection=t}return _createClass(e,[{key:"notifyListeners",value:function(){for(var e=this.listeners.iterator();e.hasNext();)e.next().selectionChanged(this.selection.size(),this.balls,this.struts,this.panels)}},{key:"manifestationAdded",value:function(e){null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0)?++this.balls:null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0)?++this.struts:null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.model.Panel")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.model.Panel")>=0)&&++this.panels}},{key:"manifestationRemoved",value:function(e){null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0)?--this.balls:null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0)?--this.struts:null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.model.Panel")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.model.Panel")>=0)&&--this.panels}},{key:"manifestationColored",value:function(e,t){}},{key:"addListener",value:function(e){this.listeners.add(e)}}]),e}();e.SelectionSummary=t,t.__class="com.vzome.core.editor.SelectionSummary",t.__interfaces=["com.vzome.core.model.ManifestationChanges"]})((t=e.core||(e.core={})).editor||(t.editor={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){var t;(function(e){var t;!function(e){var t=function(){function e(){_classCallCheck(this,e),this.__hasBreakpoint=!1,this.lineNumber=-1}return _createClass(e,[{key:"hasBreakpoint",value:function(){return this.__hasBreakpoint}},{key:"setBreakpoint",value:function(e){this.__hasBreakpoint=e}},{key:"getLineNumber",value:function(){return this.lineNumber}},{key:"setLineNumber",value:function(e){this.lineNumber=e}}]),e}();e.UndoableEdit=t,t.__class="com.vzome.core.editor.api.UndoableEdit"}((t=e.editor||(e.editor={})).api||(t.api={}))})((t=e.vzome||(e.vzome={})).core||(t.core={}))}(com||(com={})),function(e){var t;(function(t){var n;!function(t){var n=function(t){_inherits(r,java.util.ArrayList);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),void 0===(t=n.call(this)).edit&&(t.edit=null),t.edit=e,t}return _createClass(r,[{key:"constructionAdded$com_vzome_core_construction_Construction",value:function(e){this.edit.manifestConstruction(e),this.edit.redo()}},{key:"constructionAdded$com_vzome_core_construction_Construction$com_vzome_core_construction_Color",value:function(e,t){var n=this.edit.manifestConstruction(e);null!=t&&this.edit.colorManifestation(n,t),this.edit.select$com_vzome_core_model_Manifestation(n),this.edit.redo()}},{key:"constructionAdded",value:function(t,n){if((null!=t&&t instanceof e.vzome.core.construction.Construction||null===t)&&(null!=n&&n instanceof e.vzome.core.construction.Color||null===n))return this.constructionAdded$com_vzome_core_construction_Construction$com_vzome_core_construction_Color(t,n);if((null!=t&&t instanceof e.vzome.core.construction.Construction||null===t)&&void 0===n)return this.constructionAdded$com_vzome_core_construction_Construction(t);throw new Error("invalid overload")}}]),r}();t.ManifestConstructions=n,n.__class="com.vzome.core.editor.api.ManifestConstructions",n.__interfaces=["java.util.RandomAccess","com.vzome.core.model.ColoredMeshJson.Events","com.vzome.core.model.SimpleMeshJson.Events","java.util.List","java.lang.Cloneable","com.vzome.core.construction.ConstructionChanges","java.util.Collection","java.lang.Iterable","java.io.Serializable"]}((n=t.editor||(t.editor={})).api||(n.api={}))})((t=e.vzome||(e.vzome={})).core||(t.core={}))}(com||(com={})),function(e){!function(e){var t;(function(e){var t;((t=e.api||(e.api={})).Selection||(t.Selection={})).biggestGroup=function(e){for(var t=e.getContainer(),n=t;null!=t&&null!=(t=n.getContainer());)n=t;return n}})((t=e.core||(e.core={})).editor||(t.editor={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){var t;(function(e){var t;!function(e){var t;(t=e.ActionEnum||(e.ActionEnum={}))[t.IGNORE=0]="IGNORE",t[t.SELECT=1]="SELECT",t[t.DESELECT=2]="DESELECT"}((t=e.editor||(e.editor={})).api||(t.api={}))})((t=e.vzome||(e.vzome={})).core||(t.core={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.enabled=!1,void 0===this.pcs&&(this.pcs=null),void 0===this.tools&&(this.tools=null),void 0===this.label&&(this.label=null),void 0===this.tooltip&&(this.tooltip=null),void 0===this.id&&(this.id=null),void 0===this.symmetry&&(this.symmetry=null),this.tools=e,this.symmetry=n,this.id=r,this.label=i,this.tooltip=o,this.pcs=new java.beans.PropertyChangeSupport(this)}return _createClass(t,[{key:"selectionChanged",value:function(e,t,n,r){var i=this.enabled;this.countsAreValid(e,t,n,r)?this.enabled=this.bindParameters(this.getSelection()):this.enabled=!1,i!==this.enabled&&this.pcs.firePropertyChange("enabled",i,this.enabled)}},{key:"getSymmetry",value:function(){return this.symmetry}},{key:"getId",value:function(){return this.id}},{key:"getLabel",value:function(){return this.label}},{key:"getToolTip",value:function(){return this.tooltip}},{key:"getToolsModel",value:function(){return this.tools}},{key:"getEditorModel",value:function(){return this.tools.getEditorModel()}},{key:"getSelection",value:function(){return this.getEditorModel().getSelection()}},{key:"getModel",value:function(){return this.getEditorModel().getRealizedModel()}},{key:"isEnabled",value:function(){return this.enabled}},{key:"addListener",value:function(e){this.pcs.addPropertyChangeListener(e)}},{key:"createTool",value:function(){var n=this.tools.reserveId(),r=this.createToolInternal(t.NEW_PREFIX+n);return r.setCategory(this.getId()),r.setLabel(this.getId()+" "+n),null!=r&&r instanceof e.vzome.core.editor.api.UndoableEdit?this.tools.getContext().performAndRecord(r):this.tools.put(r.getId(),r),r}},{key:"createPredefinedTool",value:function(e){var t=this.createToolInternal(this.getId()+".builtin/"+e);return t.setLabel(e),t.setCategory(this.getId()),t.setPredefined(!0),t.checkSelection(!0),this.tools.put(t.getId(),t),t}},{key:"deserializeTool",value:function(e){var n=this.createToolInternal(e);if(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.substr(n,t.length)===t}(e,t.NEW_PREFIX)){var r=javaemul.internal.IntegerHelper.parseInt(e.substring(t.NEW_PREFIX.length));this.tools.setMaxId(r)}this.tools.setConfiguration(n);var i=e.indexOf(".");return i>0?n.setCategory(e.substring(0,i)):n.setCategory(this.getId()),n}}]),t}();n.NEW_PREFIX="tool-",t.AbstractToolFactory=n,n.__class="com.vzome.core.editor.AbstractToolFactory",n.__interfaces=["com.vzome.core.editor.SelectionSummary.Listener","com.vzome.api.Tool.Factory"]})((n=t.core||(t.core={})).editor||(n.editor={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(){function t(n,r,i,o,a){_classCallCheck(this,t),void 0===this.symmetry&&(this.symmetry=null),void 0===this.orbits&&(this.orbits=null),this.orbitColors=new java.util.HashMap,void 0===this.shapes&&(this.shapes=null),this.vectorToAxis=new java.util.HashMap,this.noKnownDirections=!1,void 0===this.symmetryPerspective&&(this.symmetryPerspective=null),this.toolFactoryLists=new java.util.HashMap,this.toolLists=new java.util.HashMap,void 0===this.context&&(this.context=null),void 0===this.editor&&(this.editor=null),this.symmetryPerspective=r,this.context=i,this.symmetry=r.getSymmetry();var s=r.getDefaultGeometry().getName();if(this.orbits=new e.vzome.core.math.symmetry.OrbitSet(this.symmetry),null==n)for(var l=this.symmetry.getOrbitSet().iterator();l.hasNext();){var u=l.next();(r.orbitIsStandard(u)||a)&&this.orbits.add(u);var c=o.getColor(e.vzome.core.render.Colors.DIRECTION_$LI$()+u.getName());this.orbitColors.put(u.getName(),c)}else{s=n.getAttribute("renderingStyle");for(var f=n.getChildNodes(),h=0;h<f.getLength();h++){var d=f.item(h);if(null!=d&&(null!=d.__interfaces&&d.__interfaces.indexOf("org.w3c.dom.Element")>=0||null!=d.constructor&&null!=d.constructor.__interfaces&&d.constructor.__interfaces.indexOf("org.w3c.dom.Element")>=0)){var p=d,m=p.getAttribute("name"),v=null,g=p.getAttribute("prototype");if(null!=g&&0!==g.length){var y=this.symmetry.getField().parseVector(g);try{v=this.symmetry.createNewZoneOrbit(m,0,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,y)}catch(S){console.error("Integer overflow happened while creating orbit: "+m);continue}v.setAutomatic(!0);try{var _=javaemul.internal.IntegerHelper.parseInt(m);_>=t.NEXT_NEW_AXIS?t.NEXT_NEW_AXIS=++_:_<t.NEXT_NEW_AXIS&&(m=""+t.NEXT_NEW_AXIS++)}catch(S){console.error(S.message)}}else if(null==(v=this.symmetry.getDirection(m)))continue;this.orbits.add(v);var b=p.getAttribute("color");if(null!=b&&0!==b.length){var w=e.vzome.core.construction.Color.parseColor(b);this.orbitColors.put(v.getName(),w)}}}for(var x=this.symmetry.getOrbitSet().iterator();x.hasNext();){var A=x.next();if(!this.orbits.contains(A)){(A.isStandard()||a)&&this.orbits.add(A);var M=o.getColor(e.vzome.core.render.Colors.DIRECTION_$LI$()+A.getName());this.orbitColors.put(A.getName(),M)}}}this.setStyle(s)}return _createClass(t,[{key:"setEditorModel",value:function(e){this.editor=e}},{key:"createToolFactories",value:function(t){for(var n=function(){var t=[];for(var n in e.vzome.api.Tool.Kind)isNaN(n)||t.push(parseInt(n,10));return t}(),r=0;r<n.length;r++){var i=n[r],o=this.symmetryPerspective.createToolFactories(i,t);this.toolFactoryLists.put(i,o);var a=this.symmetryPerspective.predefineTools(i,t);this.toolLists.put(i,a)}}},{key:"getName",value:function(){return this.symmetry.getName()}},{key:"getAxis",value:function(e){if(e.isOrigin())return null;var t=this.vectorToAxis.get(e.toString());return null!=t?t:this.noKnownDirections||null==(t=this.symmetry.getAxis$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_math_symmetry_OrbitSet(e,this.orbits))?(t=this.createAnonymousOrbit(e).getAxis$com_vzome_core_algebra_AlgebraicVector(e),this.vectorToAxis.put(e.toString(),t),t):(this.vectorToAxis.put(e.toString(),t),t)}},{key:"createAnonymousOrbit",value:function(n){var r=this.orbits.getSymmetry(),i=r.getField(),o=i.createPower$int(1),a=i.createPower$int(-1),s=n.toRealVector(),l=n,u=n,c=2,f=2,h=s.length();if(h>2)for(c=h,l=n;c>2&&!((f=(u=l.scale(a)).toRealVector().length())<=2);)c=f,l=u;else for(f=h,u=n;f<=2&&!((c=(l=u.scale(o)).toRealVector().length())>2);)f=c,u=l;n=2/f>c?l:u;var d=""+t.NEXT_NEW_AXIS++,p=r.createNewZoneOrbit(d,0,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,n);return p.setAutomatic(!0),this.orbits.add(p),this.orbitColors.put(p.getName(),e.vzome.core.construction.Color.WHITE_$LI$()),p}},{key:"getVectorColor",value:function(t){if(t.isOrigin())return e.vzome.core.construction.Color.WHITE_$LI$();var n=this.vectorToAxis.get(t.toString());return null==n&&(n=this.symmetry.getAxis$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_math_symmetry_OrbitSet(t,this.orbits)),null==n?e.vzome.core.construction.Color.WHITE_$LI$():this.getColor(n.getDirection())}},{key:"getColor",value:function(t){if(null==t)return e.vzome.core.construction.Color.WHITE_$LI$();var n=this.shapes.getColor(t);return null==n&&(n=this.orbitColors.get(t.getName())),null==n?e.vzome.core.construction.Color.WHITE_$LI$():n}},{key:"getSymmetry",value:function(){return this.symmetry}},{key:"getOrbits",value:function(){return this.orbits}},{key:"disableKnownDirection",value:function(){this.noKnownDirections=!0}},{key:"getRenderingStyle",value:function(){return this.shapes}},{key:"getXml",value:function(t){var n=t.createElement("SymmetrySystem");e.vzome.xml.DomUtils.addAttribute(n,"name",this.getSymmetry().getName()),e.vzome.xml.DomUtils.addAttribute(n,"renderingStyle",this.shapes.getName());for(var r=this.orbits.iterator();r.hasNext();){var i=r.next(),o=t.createElement("Direction");i.isAutomatic()&&e.vzome.xml.DomUtils.addAttribute(o,"prototype",i.getPrototype().getVectorExpression$int(e.vzome.core.algebra.AlgebraicField.ZOMIC_FORMAT)),e.vzome.xml.DomUtils.addAttribute(o,"name",i.getName());var a=this.getColor(i);null!=a&&e.vzome.xml.DomUtils.addAttribute(o,"color",a.toString()),n.appendChild(o)}return n}},{key:"getStyle$java_lang_String",value:function(e){var t=this.symmetryPerspective.getGeometries().stream().filter(function(t){return n=e,r=t.getName(),(n&&n.equals?n.equals(r):n===r)||function(e,t){return e&&e.equals?e.equals(t):e===t}(e,t.getAlias())||function(e,t){return e&&e.equals?e.equals(t):e===t}(e,t.getPackage());var n,r}).findFirst();return t.isPresent()?t.get():null}},{key:"getStyle",value:function(e){if("string"===typeof e||null===e)return this.getStyle$java_lang_String(e);if(void 0===e)return this.getStyle$();throw new Error("invalid overload")}},{key:"setStyle",value:function(e){var n=this.getStyle$java_lang_String(e);null!=n?this.shapes=n:(t.logger_$LI$().warning("UNKNOWN STYLE NAME: "+e),this.shapes=this.symmetryPerspective.getDefaultGeometry())}},{key:"getStyleNames",value:function(){return this.symmetryPerspective.getGeometries().stream().map(function(e){return e.getName()}).toArray(function(e){return new Array(e)})}},{key:"getStyle$",value:function(){return this.shapes}},{key:"getShapes",value:function(){return this.shapes}},{key:"getShape$com_vzome_core_algebra_AlgebraicVector",value:function(e){return this.getShape$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_editor_api_Shapes(e,this.shapes)}},{key:"getShape$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_editor_api_Shapes",value:function(e,t){if(null==e)return t.getConnectorShape();if(e.isOrigin())return null;var n=this.getAxis(e);if(null==n)return null;var r=n.getDirection(),i=n.getLength(e);return t.getStrutShape(r,i)}},{key:"getShape",value:function(t,n){if((null!=t&&t instanceof e.vzome.core.algebra.AlgebraicVector||null===t)&&(null!=n&&(null!=n.__interfaces&&n.__interfaces.indexOf("com.vzome.core.editor.api.Shapes")>=0||null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("com.vzome.core.editor.api.Shapes")>=0)||null===n))return this.getShape$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_editor_api_Shapes(t,n);if((null!=t&&t instanceof e.vzome.core.algebra.AlgebraicVector||null===t)&&void 0===n)return this.getShape$com_vzome_core_algebra_AlgebraicVector(t);throw new Error("invalid overload")}},{key:"getToolFactories",value:function(e){return this.toolFactoryLists.get(e)}},{key:"getPredefinedTools",value:function(e){return this.toolLists.get(e)}},{key:"doAction",value:function(t){var n=this.symmetryPerspective.getLegacyCommand(t);if(null!=n){var r=new e.vzome.core.editor.CommandEdit(n,this.editor);return this.context.performAndRecord(r),!0}return!1}},{key:"getModelResourcePath",value:function(){return this.symmetryPerspective.getModelResourcePath()}},{key:"orbitIsStandard",value:function(e){return this.symmetryPerspective.orbitIsStandard(e)}},{key:"orbitIsBuildDefault",value:function(e){return this.symmetryPerspective.orbitIsBuildDefault(e)}},{key:"getOrbitUnitLength",value:function(e){return this.symmetryPerspective.getOrbitUnitLength(e)}}],[{key:"logger_$LI$",value:function(){return null==t.logger&&(t.logger=java.util.logging.Logger.getLogger("com.vzome.core.editor")),t.logger}}]),t}();n.NEXT_NEW_AXIS=0,t.SymmetrySystem=n,n.__class="com.vzome.core.editor.SymmetrySystem",n.__interfaces=["com.vzome.core.editor.api.OrbitSource"]})((n=t.core||(t.core={})).editor||(n.editor={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(){function t(n,r,i,o,a){var s=this;if(_classCallCheck(this,t),(null!=n&&(null!=n.__interfaces&&n.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0||null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0)||null===n)&&(null!=r&&(null!=r.__interfaces&&r.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0||null!=r.constructor&&null!=r.constructor.__interfaces&&r.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0)||null===r)&&(null!=i&&(null!=i.__interfaces&&i.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0||null!=i.constructor&&null!=i.constructor.__interfaces&&i.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0)||null===i)&&(null!=o&&(null!=o.__interfaces&&o.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0||null!=o.constructor&&null!=o.constructor.__interfaces&&o.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0)||null===o)&&(null!=a&&(null!=a.__interfaces&&a.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicField")>=0||null!=a.constructor&&null!=a.constructor.__interfaces&&a.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicField")>=0)||null===a))void 0===this.e1&&(this.e1=null),void 0===this.e2&&(this.e2=null),void 0===this.e3&&(this.e3=null),void 0===this.e0&&(this.e0=null),void 0===this.field&&(this.field=null),void 0===this.e1&&(this.e1=null),void 0===this.e2&&(this.e2=null),void 0===this.e3&&(this.e3=null),void 0===this.e0&&(this.e0=null),void 0===this.field&&(this.field=null),s.e1=n,s.e2=r,s.e3=i,s.e0=o,s.field=a;else if((null!=n&&(null!=n.__interfaces&&n.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0||null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0)||null===n)&&(null!=r&&(null!=r.__interfaces&&r.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0||null!=r.constructor&&null!=r.constructor.__interfaces&&r.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0)||null===r)&&(null!=i&&(null!=i.__interfaces&&i.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0||null!=i.constructor&&null!=i.constructor.__interfaces&&i.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0)||null===i)&&(null!=o&&(null!=o.__interfaces&&o.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicField")>=0||null!=o.constructor&&null!=o.constructor.__interfaces&&o.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicField")>=0)||null===o)&&void 0===a){var l=arguments[3],u=arguments,c=u[0],f=u[0],h=u[4].createPower$int(0);void 0===this.e1&&(this.e1=null),void 0===this.e2&&(this.e2=null),void 0===this.e3&&(this.e3=null),void 0===this.e0&&(this.e0=null),void 0===this.field&&(this.field=null),void 0===this.e1&&(this.e1=null),void 0===this.e2&&(this.e2=null),void 0===this.e3&&(this.e3=null),void 0===this.e0&&(this.e0=null),void 0===this.field&&(this.field=null),s.e1=n,s.e2=c,s.e3=f,s.e0=h,s.field=l}else{if(!(null!=n&&n instanceof e.vzome.core.algebra.AlgebraicVector||null===n)||!(null!=r&&(null!=r.__interfaces&&r.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicField")>=0||null!=r.constructor&&null!=r.constructor.__interfaces&&r.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicField")>=0)||null===r)||void 0!==i||void 0!==o||void 0!==a)throw new Error("invalid overload");var d=arguments,p=d[0],m=d[1],v=p.getComponent(0);p.getComponent(1),p.getComponent(2);var g=arguments,y=g[0],_=g[0],b=g[4].createPower$int(0);void 0===this.e1&&(this.e1=null),void 0===this.e2&&(this.e2=null),void 0===this.e3&&(this.e3=null),void 0===this.e0&&(this.e0=null),void 0===this.field&&(this.field=null),void 0===this.e1&&(this.e1=null),void 0===this.e2&&(this.e2=null),void 0===this.e3&&(this.e3=null),void 0===this.e0&&(this.e0=null),void 0===this.field&&(this.field=null),s.e1=v,s.e2=y,s.e3=_,s.e0=b,s.field=m}}return _createClass(t,[{key:"outer",value:function(t){var n=this.e1.times$com_vzome_core_algebra_AlgebraicNumber(t.e2).minus$com_vzome_core_algebra_AlgebraicNumber(this.e2.times$com_vzome_core_algebra_AlgebraicNumber(t.e1)),r=this.e2.times$com_vzome_core_algebra_AlgebraicNumber(t.e3).minus$com_vzome_core_algebra_AlgebraicNumber(this.e3.times$com_vzome_core_algebra_AlgebraicNumber(t.e2)),i=this.e3.times$com_vzome_core_algebra_AlgebraicNumber(t.e1).minus$com_vzome_core_algebra_AlgebraicNumber(this.e1.times$com_vzome_core_algebra_AlgebraicNumber(t.e3)),o=this.e1.times$com_vzome_core_algebra_AlgebraicNumber(t.e0).minus$com_vzome_core_algebra_AlgebraicNumber(this.e0.times$com_vzome_core_algebra_AlgebraicNumber(t.e1)),a=this.e2.times$com_vzome_core_algebra_AlgebraicNumber(t.e0).minus$com_vzome_core_algebra_AlgebraicNumber(this.e0.times$com_vzome_core_algebra_AlgebraicNumber(t.e2)),s=this.e3.times$com_vzome_core_algebra_AlgebraicNumber(t.e0).minus$com_vzome_core_algebra_AlgebraicNumber(this.e0.times$com_vzome_core_algebra_AlgebraicNumber(t.e3));return new e.vzome.core.algebra.Bivector3dHomogeneous(n,r,i,o,a,s,this.field)}},{key:"getVector",value:function(){return new e.vzome.core.algebra.AlgebraicVector(this.e1.dividedBy$com_vzome_core_algebra_AlgebraicNumber(this.e0),this.e2.dividedBy$com_vzome_core_algebra_AlgebraicNumber(this.e0),this.e3.dividedBy$com_vzome_core_algebra_AlgebraicNumber(this.e0))}},{key:"dot",value:function(e){return new t(this.e3.times$com_vzome_core_algebra_AlgebraicNumber(e.e31).minus$com_vzome_core_algebra_AlgebraicNumber(this.e2.times$com_vzome_core_algebra_AlgebraicNumber(e.e12)).minus$com_vzome_core_algebra_AlgebraicNumber(this.e0.times$com_vzome_core_algebra_AlgebraicNumber(e.e10)),this.e1.times$com_vzome_core_algebra_AlgebraicNumber(e.e12).minus$com_vzome_core_algebra_AlgebraicNumber(this.e3.times$com_vzome_core_algebra_AlgebraicNumber(e.e23)).minus$com_vzome_core_algebra_AlgebraicNumber(this.e0.times$com_vzome_core_algebra_AlgebraicNumber(e.e20)),this.e2.times$com_vzome_core_algebra_AlgebraicNumber(e.e23).minus$com_vzome_core_algebra_AlgebraicNumber(this.e1.times$com_vzome_core_algebra_AlgebraicNumber(e.e31)).minus$com_vzome_core_algebra_AlgebraicNumber(this.e0.times$com_vzome_core_algebra_AlgebraicNumber(e.e30)),this.e1.times$com_vzome_core_algebra_AlgebraicNumber(e.e10).plus$com_vzome_core_algebra_AlgebraicNumber(this.e2.times$com_vzome_core_algebra_AlgebraicNumber(e.e20)).plus$com_vzome_core_algebra_AlgebraicNumber(this.e3.times$com_vzome_core_algebra_AlgebraicNumber(e.e30)),this.field)}},{key:"exists",value:function(){return!this.e0.isZero()}}]),t}();t.Vector3dHomogeneous=n,n.__class="com.vzome.core.algebra.Vector3dHomogeneous"})((n=t.core||(t.core={})).algebra||(n.algebra={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(){function t(e,n,r,i,o,a,s){_classCallCheck(this,t),void 0===this.e12&&(this.e12=null),void 0===this.e23&&(this.e23=null),void 0===this.e31&&(this.e31=null),void 0===this.e10&&(this.e10=null),void 0===this.e20&&(this.e20=null),void 0===this.e30&&(this.e30=null),void 0===this.field&&(this.field=null),this.e12=e,this.e23=n,this.e31=r,this.e10=i,this.e20=o,this.e30=a,this.field=s}return _createClass(t,[{key:"outer",value:function(t){var n=this.e12.times$com_vzome_core_algebra_AlgebraicNumber(t.e3).plus$com_vzome_core_algebra_AlgebraicNumber(this.e23.times$com_vzome_core_algebra_AlgebraicNumber(t.e1)).plus$com_vzome_core_algebra_AlgebraicNumber(this.e31.times$com_vzome_core_algebra_AlgebraicNumber(t.e2)),r=this.e10.times$com_vzome_core_algebra_AlgebraicNumber(t.e3).plus$com_vzome_core_algebra_AlgebraicNumber(this.e31.times$com_vzome_core_algebra_AlgebraicNumber(t.e0)).minus$com_vzome_core_algebra_AlgebraicNumber(this.e30.times$com_vzome_core_algebra_AlgebraicNumber(t.e1)),i=this.e20.times$com_vzome_core_algebra_AlgebraicNumber(t.e3).minus$com_vzome_core_algebra_AlgebraicNumber(this.e30.times$com_vzome_core_algebra_AlgebraicNumber(t.e2)).minus$com_vzome_core_algebra_AlgebraicNumber(this.e23.times$com_vzome_core_algebra_AlgebraicNumber(t.e0)),o=this.e12.times$com_vzome_core_algebra_AlgebraicNumber(t.e0).plus$com_vzome_core_algebra_AlgebraicNumber(this.e20.times$com_vzome_core_algebra_AlgebraicNumber(t.e1)).minus$com_vzome_core_algebra_AlgebraicNumber(this.e10.times$com_vzome_core_algebra_AlgebraicNumber(t.e2));return new e.vzome.core.algebra.Trivector3dHomogeneous(n,r,i,o,this.field)}}]),t}();t.Bivector3dHomogeneous=n,n.__class="com.vzome.core.algebra.Bivector3dHomogeneous"})((n=t.core||(t.core={})).algebra||(n.algebra={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(){function t(n,r,i,o){var a=this;if(_classCallCheck(this,t),(null!=n&&n instanceof e.vzome.core.algebra.AlgebraicVector||null===n)&&(null!=r&&r instanceof e.vzome.core.algebra.AlgebraicVector||null===r)&&(null!=i&&i instanceof e.vzome.core.algebra.AlgebraicVector||null===i)&&(null!=o&&o instanceof e.vzome.core.algebra.AlgebraicVector||null===o)){var s=[n,r,i,o];void 0===this.matrix&&(this.matrix=null),void 0===this.matrix&&(this.matrix=null),function(){var e=s[0].dimension(),t=s.length;a.matrix=function e(t){if(0==t.length)return null;for(var n=[],r=0;r<t[0];r++)n.push(e(t.slice(1)));return n}([e,t]);for(var n=0;n<e;n++)for(var r=0;r<t;r++)a.matrix[n][r]=s[r].getComponent(n)}()}else if((null!=n&&n instanceof e.vzome.core.algebra.AlgebraicVector||null===n)&&(null!=r&&r instanceof e.vzome.core.algebra.AlgebraicVector||null===r)&&(null!=i&&i instanceof e.vzome.core.algebra.AlgebraicVector||null===i)&&void 0===o){var l=[n,r,i];void 0===this.matrix&&(this.matrix=null),void 0===this.matrix&&(this.matrix=null),function(){var e=l[0].dimension(),t=l.length;a.matrix=function e(t){if(0==t.length)return null;for(var n=[],r=0;r<t[0];r++)n.push(e(t.slice(1)));return n}([e,t]);for(var n=0;n<e;n++)for(var r=0;r<t;r++)a.matrix[n][r]=l[r].getComponent(n)}()}else if(!(null!=n&&(null!=n.__interfaces&&n.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicField")>=0||null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicField")>=0)||null===n)||"number"!==typeof r&&null!==r||"number"!==typeof i&&null!==i||void 0!==o)if((null!=n&&n instanceof e.vzome.core.algebra.AlgebraicVector||null===n)&&(null!=r&&r instanceof e.vzome.core.algebra.AlgebraicVector||null===r)&&void 0===i&&void 0===o){var u=[n,r];void 0===this.matrix&&(this.matrix=null),void 0===this.matrix&&(this.matrix=null),function(){var e=u[0].dimension(),t=u.length;a.matrix=function e(t){if(0==t.length)return null;for(var n=[],r=0;r<t[0];r++)n.push(e(t.slice(1)));return n}([e,t]);for(var n=0;n<e;n++)for(var r=0;r<t;r++)a.matrix[n][r]=u[r].getComponent(n)}()}else if(!(null!=n&&(null!=n.__interfaces&&n.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicField")>=0||null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicField")>=0)||null===n)||"number"!==typeof r&&null!==r||void 0!==i||void 0!==o){if(!(null!=n&&n instanceof Array&&(0==n.length||null==n[0]||null!=n[0]&&n[0]instanceof e.vzome.core.algebra.AlgebraicVector)||null===n)||void 0!==r||void 0!==i||void 0!==o)throw new Error("invalid overload");var c=arguments[0];void 0===this.matrix&&(this.matrix=null),void 0===this.matrix&&(this.matrix=null),function(){var e=c[0].dimension(),t=c.length;a.matrix=function e(t){if(0==t.length)return null;for(var n=[],r=0;r<t[0];r++)n.push(e(t.slice(1)));return n}([e,t]);for(var n=0;n<e;n++)for(var r=0;r<t;r++)a.matrix[n][r]=c[r].getComponent(n)}()}else{var f=arguments,h=f[0],d=f[1];void 0===this.matrix&&(this.matrix=null),void 0===this.matrix&&(this.matrix=null),function(){a.matrix=function e(t){if(0==t.length)return null;for(var n=[],r=0;r<t[0];r++)n.push(e(t.slice(1)));return n}([d,d]);for(var e=0;e<d;e++)for(var t=0;t<d;t++)a.matrix[e][t]=e===t?h.one():h.zero()}()}else{var p=arguments,m=p[0],v=p[1],g=p[2];void 0===this.matrix&&(this.matrix=null),void 0===this.matrix&&(this.matrix=null),function(){a.matrix=function e(t){if(0==t.length)return null;for(var n=[],r=0;r<t[0];r++)n.push(e(t.slice(1)));return n}([v,g]);for(var e=0;e<v;e++)for(var t=0;t<g;t++)a.matrix[e][t]=m.zero()}()}}return _createClass(t,[{key:"hashCode",value:function(){for(var e=1,t=0;t<this.matrix.length;t++){var n=this.matrix[t];e=31*e+java.util.Arrays.hashCode(n)}return e}},{key:"equals",value:function(e){if(this===e)return!0;if(null==e)return!1;if(this.constructor!==e.constructor)return!1;var t=e;return java.util.Arrays.deepEquals(this.matrix,t.matrix)}},{key:"getMatrix",value:function(){return this.matrix}},{key:"toString",value:function(){for(var e=new java.lang.StringBuilder,t=0;t<this.matrix.length;t++){var n=this.matrix[t];e.append(java.util.Arrays.toString(n)),e.append(", ")}return"[ "+e.toString()+" ]"}},{key:"negate",value:function(){for(var e=new t(this.matrix[0][0].getField(),this.matrix.length),n=0;n<this.matrix.length;n++)for(var r=0;r<this.matrix[n].length;r++)e.matrix[n][r]=this.matrix[n][r].negate();return e}},{key:"inverse",value:function(){if(!this.isSquare())throw new java.lang.IllegalArgumentException("matrix is not square");var n=new t(this.matrix[0][0].getField(),this.matrix.length),r=e.vzome.core.algebra.Fields.gaussJordanReduction$com_vzome_core_algebra_Fields_Element_A_A$com_vzome_core_algebra_Fields_Element_A_A(this.matrix,n.matrix);if(r!==this.matrix.length){var i="AlgebraicMatrix inverse expects matrix rank to be "+this.matrix.length+", but it is "+r+".";console.error(i)}return n}},{key:"transpose",value:function(){for(var e=new t(this.matrix[0][0].getField(),this.matrix[0].length,this.matrix.length),n=0;n<e.matrix.length;n++)for(var r=0;r<this.matrix.length;r++)e.matrix[n][r]=this.matrix[r][n];return e}},{key:"times",value:function(n){var r=new t(this.matrix[0][0].getField(),this.matrix.length,n.matrix[0].length);return e.vzome.core.algebra.Fields.matrixMultiplication(this.matrix,n.matrix,r.matrix),r}},{key:"timesRow",value:function(t){var n=t.dimension();if(this.matrix.length!==n)throw new java.lang.IllegalArgumentException("vector length incorrect for this matrix: "+t);for(var r=this.matrix[0].length,i=function(e){for(var t=[];e-- >0;)t.push(null);return t}(r),o=this.matrix[0][0].getField(),a=0;a<r;a++){i[a]=o.zero();for(var s=0;s<n;s++){var l=t.getComponent(s).times$com_vzome_core_algebra_AlgebraicNumber(this.matrix[s][a]);i[a]=i[a].plus$com_vzome_core_algebra_AlgebraicNumber(l)}}return new e.vzome.core.algebra.AlgebraicVector(i)}},{key:"timesColumn",value:function(t){var n=t.dimension();if(this.matrix[0].length!==n)throw new java.lang.IllegalArgumentException("vector length incorrect for this matrix: "+t);for(var r=this.matrix.length,i=function(e){for(var t=[];e-- >0;)t.push(null);return t}(r),o=this.matrix[0][0].getField(),a=0;a<r;a++){i[a]=o.zero();for(var s=0;s<n;s++){var l=t.getComponent(s).times$com_vzome_core_algebra_AlgebraicNumber(this.matrix[a][s]);i[a]=i[a].plus$com_vzome_core_algebra_AlgebraicNumber(l)}}return new e.vzome.core.algebra.AlgebraicVector(i)}},{key:"timesScalar",value:function(e){for(var n=new t(e.getField(),this.matrix.length),r=0;r<this.matrix.length;r++)for(var i=0;i<this.matrix[r].length;i++)n.matrix[r][i]=this.matrix[r][i].times$com_vzome_core_algebra_AlgebraicNumber(e);return n}},{key:"isSquare",value:function(){return this.matrix.length===this.matrix[0].length}},{key:"trace",value:function(){if(!this.isSquare())throw new java.lang.IllegalArgumentException("matrix is not square");for(var e=this.matrix[0][0].getField().zero(),t=0;t<this.matrix.length;t++)e=e.plus$com_vzome_core_algebra_AlgebraicNumber(this.matrix[t][t]);return e}},{key:"determinant",value:function(){return t.laplaceDeterminant(this.matrix)}},{key:"setElement",value:function(e,t,n){return this.matrix[e][t]=n,this}},{key:"getElement",value:function(e,t){return this.matrix[e][t]}}],[{key:"laplaceDeterminant",value:function(e){if(e.length!==e[0].length)throw new java.lang.IllegalArgumentException("matrix is not square");var n=null;switch(e.length){case 3:n=e[0][0].times$com_vzome_core_algebra_AlgebraicNumber(e[1][1]).times$com_vzome_core_algebra_AlgebraicNumber(e[2][2]).plus$com_vzome_core_algebra_AlgebraicNumber(e[0][1].times$com_vzome_core_algebra_AlgebraicNumber(e[1][2]).times$com_vzome_core_algebra_AlgebraicNumber(e[2][0])).plus$com_vzome_core_algebra_AlgebraicNumber(e[0][2].times$com_vzome_core_algebra_AlgebraicNumber(e[1][0]).times$com_vzome_core_algebra_AlgebraicNumber(e[2][1])).minus$com_vzome_core_algebra_AlgebraicNumber(e[0][2].times$com_vzome_core_algebra_AlgebraicNumber(e[1][1]).times$com_vzome_core_algebra_AlgebraicNumber(e[2][0])).minus$com_vzome_core_algebra_AlgebraicNumber(e[0][0].times$com_vzome_core_algebra_AlgebraicNumber(e[1][2]).times$com_vzome_core_algebra_AlgebraicNumber(e[2][1])).minus$com_vzome_core_algebra_AlgebraicNumber(e[0][1].times$com_vzome_core_algebra_AlgebraicNumber(e[1][0]).times$com_vzome_core_algebra_AlgebraicNumber(e[2][2]));break;case 2:n=e[0][0].times$com_vzome_core_algebra_AlgebraicNumber(e[1][1]).minus$com_vzome_core_algebra_AlgebraicNumber(e[0][1].times$com_vzome_core_algebra_AlgebraicNumber(e[1][0]));break;case 1:n=e[0][0];break;default:n=e[0][0].getField().zero();for(var r=e.length-1,i=e[0][0].getField().one(),o=0;o<e.length;o++){if(!e[0][o].isZero()){for(var a=function e(t){if(0==t.length)return null;for(var n=[],r=0;r<t[0];r++)n.push(e(t.slice(1)));return n}([r,r]),s=0,l=0,u=1;u<e.length;u++){for(var c=0;c<e.length;c++)c!==o&&(a[s][l]=e[u][c],l++);s++,l=0}n=n.plus$com_vzome_core_algebra_AlgebraicNumber(i.times$com_vzome_core_algebra_AlgebraicNumber(e[0][o]).times$com_vzome_core_algebra_AlgebraicNumber(t.laplaceDeterminant(a)))}i=i.negate()}}return n}}]),t}();t.AlgebraicMatrix=n,n.__class="com.vzome.core.algebra.AlgebraicMatrix"})((n=t.core||(t.core={})).algebra||(n.algebra={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"getNormal$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_algebra_AlgebraicVector",value:function(e,t){return e.cross(t)}},{key:"getNormal$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_algebra_AlgebraicVector",value:function(e,n,r){return t.getNormal$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_algebra_AlgebraicVector(n.minus(e),r.minus(e))}},{key:"getNormal",value:function(t,n,r){if((null!=t&&t instanceof e.vzome.core.algebra.AlgebraicVector||null===t)&&(null!=n&&n instanceof e.vzome.core.algebra.AlgebraicVector||null===n)&&(null!=r&&r instanceof e.vzome.core.algebra.AlgebraicVector||null===r))return e.vzome.core.algebra.AlgebraicVectors.getNormal$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_algebra_AlgebraicVector(t,n,r);if((null!=t&&t instanceof e.vzome.core.algebra.AlgebraicVector||null===t)&&(null!=n&&n instanceof e.vzome.core.algebra.AlgebraicVector||null===n)&&void 0===r)return e.vzome.core.algebra.AlgebraicVectors.getNormal$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_algebra_AlgebraicVector(t,n);if((null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("java.util.Collection")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.util.Collection")>=0)||null===t)&&void 0===n&&void 0===r)return e.vzome.core.algebra.AlgebraicVectors.getNormal$java_util_Collection(t);throw new Error("invalid overload")}},{key:"areParallel",value:function(e,n){return t.getNormal$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_algebra_AlgebraicVector(e,n).isOrigin()}},{key:"getNormal$java_util_Collection",value:function(e){if(e.size()<3)throw new java.lang.IllegalArgumentException("Three vertices are required to calculate a normal. Found "+e.size());for(var n=null,r=null,i=null,o=e.iterator();o.hasNext();){var a=o.next();if(null==n)n=a;else if(null==r)a!==n&&(r=a);else if(!(i=t.getNormal$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_algebra_AlgebraicVector(n,r,a)).isOrigin())return i}return i}},{key:"getMaxComponentIndex",value:function(e){for(var t=0,n=e.getField().zero(),r=0;r<e.dimension();r++){var i=e.getComponent(r),o=i.times$com_vzome_core_algebra_AlgebraicNumber(i);o.lessThan(n)||(t=r,n=o)}return t}},{key:"areCoplanar",value:function(e){if(e.size()<4)return!0;var n=t.getNormal$java_util_Collection(e);return!!(n.isOrigin()||n.dimension()<3)||t.areOrthogonalTo(n,e)}},{key:"areOrthogonalTo",value:function(e,t){if(e.isOrigin())throw new java.lang.IllegalArgumentException("Normal vector cannot be the origin");for(var n=null,r=t.iterator();r.hasNext();){var i=r.next();if(null==n)n=i;else if(!i.minus(n).dot(e).isZero())return!1}return!0}},{key:"areCollinear$java_util_Collection",value:function(e){return e.size()<3||t.getNormal$java_util_Collection(e).isOrigin()}},{key:"areCollinear$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_algebra_AlgebraicVector",value:function(e,n,r){return t.getNormal$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_algebra_AlgebraicVector(e,n,r).isOrigin()}},{key:"areCollinear",value:function(t,n,r){if((null!=t&&t instanceof e.vzome.core.algebra.AlgebraicVector||null===t)&&(null!=n&&n instanceof e.vzome.core.algebra.AlgebraicVector||null===n)&&(null!=r&&r instanceof e.vzome.core.algebra.AlgebraicVector||null===r))return e.vzome.core.algebra.AlgebraicVectors.areCollinear$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_algebra_AlgebraicVector(t,n,r);if((null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("java.util.Collection")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.util.Collection")>=0)||null===t)&&void 0===n&&void 0===r)return e.vzome.core.algebra.AlgebraicVectors.areCollinear$java_util_Collection(t);throw new Error("invalid overload")}},{key:"getLinePlaneIntersection",value:function(e,t,n,r){var i=r.dot(t);if(i.isZero())return null;var o=n.minus(e),a=r.dot(o).dividedBy$com_vzome_core_algebra_AlgebraicNumber(i);return e.plus(t.scale(a))}},{key:"calculateCentroid",value:function(e){return t.getCentroid(e.toArray(function(e){for(var t=[];e-- >0;)t.push(null);return t}(e.size())))}},{key:"getCentroid",value:function(t){for(var n=t[0].getField(),r=new e.vzome.core.algebra.AlgebraicVector(n,t[0].dimension()),i=0;i<t.length;i++){var o=t[i];r=r.plus(o)}return r.scale(n.createRational$long$long(1,t.length))}},{key:"getMagnitudeSquared",value:function(e){return e.dot(e)}},{key:"getCanonicalOrientation",value:function(e){var t=e.negate();return e.compareTo(t)>0?e:t}},{key:"getMostDistantFromOrigin",value:function(e){for(var n=new java.util.TreeSet,r=0,i=e.iterator();i.hasNext();){var o=i.next(),a=t.getMagnitudeSquared(o).evaluate();a>=r&&(a>r&&n.clear(),r=a,n.add(o))}return n}}]),t}();t.AlgebraicVectors=n,n.__class="com.vzome.core.algebra.AlgebraicVectors"})((n=t.core||(t.core={})).algebra||(n.algebra={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(){function t(e,n,r,i,o){var a=this;if(_classCallCheck(this,t),(null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0)||null===e)&&(null!=n&&(null!=n.__interfaces&&n.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0||null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0)||null===n)&&(null!=r&&(null!=r.__interfaces&&r.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0||null!=r.constructor&&null!=r.constructor.__interfaces&&r.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0)||null===r)&&(null!=i&&(null!=i.__interfaces&&i.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0||null!=i.constructor&&null!=i.constructor.__interfaces&&i.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0)||null===i)&&(null!=o&&(null!=o.__interfaces&&o.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0||null!=o.constructor&&null!=o.constructor.__interfaces&&o.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0)||null===o)){var s=e.getField();void 0===this.coordinates&&(this.coordinates=null),void 0===this.field&&(this.field=null),void 0===this.coordinates&&(this.coordinates=null),void 0===this.field&&(this.field=null),function(){a.coordinates=function(e){for(var t=[];e-- >0;)t.push(null);return t}(5);for(var e=0;e<5;e++)a.coordinates[e]=s.zero();a.field=s}(),a.coordinates[0]=e,a.coordinates[1]=n,a.coordinates[2]=r,a.coordinates[3]=i,a.coordinates[4]=o}else if((null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0)||null===e)&&(null!=n&&(null!=n.__interfaces&&n.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0||null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0)||null===n)&&(null!=r&&(null!=r.__interfaces&&r.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0||null!=r.constructor&&null!=r.constructor.__interfaces&&r.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0)||null===r)&&(null!=i&&(null!=i.__interfaces&&i.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0||null!=i.constructor&&null!=i.constructor.__interfaces&&i.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0)||null===i)&&void 0===o){var l=e.getField();void 0===this.coordinates&&(this.coordinates=null),void 0===this.field&&(this.field=null),void 0===this.coordinates&&(this.coordinates=null),void 0===this.field&&(this.field=null),function(){a.coordinates=function(e){for(var t=[];e-- >0;)t.push(null);return t}(4);for(var e=0;e<4;e++)a.coordinates[e]=l.zero();a.field=l}(),a.coordinates[0]=e,a.coordinates[1]=n,a.coordinates[2]=r,a.coordinates[3]=i}else if((null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0)||null===e)&&(null!=n&&(null!=n.__interfaces&&n.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0||null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0)||null===n)&&(null!=r&&(null!=r.__interfaces&&r.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0||null!=r.constructor&&null!=r.constructor.__interfaces&&r.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0)||null===r)&&void 0===i&&void 0===o){var u=e.getField();void 0===this.coordinates&&(this.coordinates=null),void 0===this.field&&(this.field=null),void 0===this.coordinates&&(this.coordinates=null),void 0===this.field&&(this.field=null),function(){a.coordinates=function(e){for(var t=[];e-- >0;)t.push(null);return t}(3);for(var e=0;e<3;e++)a.coordinates[e]=u.zero();a.field=u}(),a.coordinates[0]=e,a.coordinates[1]=n,a.coordinates[2]=r}else if((null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0)||null===e)&&(null!=n&&(null!=n.__interfaces&&n.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0||null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0)||null===n)&&void 0===r&&void 0===i&&void 0===o){var c=e.getField();void 0===this.coordinates&&(this.coordinates=null),void 0===this.field&&(this.field=null),void 0===this.coordinates&&(this.coordinates=null),void 0===this.field&&(this.field=null),function(){a.coordinates=function(e){for(var t=[];e-- >0;)t.push(null);return t}(2);for(var e=0;e<2;e++)a.coordinates[e]=c.zero();a.field=c}(),a.coordinates[0]=e,a.coordinates[1]=n}else if(!(null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicField")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicField")>=0)||null===e)||"number"!==typeof n&&null!==n||void 0!==r||void 0!==i||void 0!==o)if((null!=e&&e instanceof Array&&(0==e.length||null==e[0]||null!=e[0]&&(null!=e[0].__interfaces&&e[0].__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0||null!=e[0].constructor&&null!=e[0].constructor.__interfaces&&e[0].constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0))||null===e)&&void 0===n&&void 0===r&&void 0===i&&void 0===o){var f=arguments[0];void 0===this.coordinates&&(this.coordinates=null),void 0===this.field&&(this.field=null),void 0===this.coordinates&&(this.coordinates=null),void 0===this.field&&(this.field=null),a.coordinates=function(e){for(var t=[];e-- >0;)t.push(null);return t}(f.length),java.lang.System.arraycopy(f,0,a.coordinates,0,f.length),a.field=f[0].getField()}else{if(!(null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0)||null===e)||void 0!==n||void 0!==r||void 0!==i||void 0!==o)throw new Error("invalid overload");var h=e.getField();void 0===this.coordinates&&(this.coordinates=null),void 0===this.field&&(this.field=null),void 0===this.coordinates&&(this.coordinates=null),void 0===this.field&&(this.field=null),function(){a.coordinates=function(e){for(var t=[];e-- >0;)t.push(null);return t}(1);for(var e=0;e<1;e++)a.coordinates[e]=h.zero();a.field=h}(),a.coordinates[0]=e}else{var d=arguments,p=d[0],m=d[1];void 0===this.coordinates&&(this.coordinates=null),void 0===this.field&&(this.field=null),void 0===this.coordinates&&(this.coordinates=null),void 0===this.field&&(this.field=null),function(){a.coordinates=function(e){for(var t=[];e-- >0;)t.push(null);return t}(m);for(var e=0;e<m;e++)a.coordinates[e]=p.zero();a.field=p}()}}return _createClass(t,[{key:"hashCode",value:function(){var e=1;return e=31*e+java.util.Arrays.hashCode(this.coordinates)}},{key:"equals",value:function(e){if(this===e)return!0;if(null==e)return!1;if(this.constructor!==e.constructor)return!1;var t,n,r,i=e;if(n=this.field,r=i.field,!(n&&n.equals?n.equals(r):n===r)){var o="Invalid comparison of "+((t=this.constructor).__class?t.__class.substring(t.__class.lastIndexOf(".")+1):t.name.substring(t.name.lastIndexOf(".")+1))+"swith different fields: "+this.field.getName()+" and "+i.field.getName();throw new java.lang.IllegalStateException(o)}return java.util.Arrays.equals(this.coordinates,i.coordinates)}},{key:"compareTo",value:function(e){if(this===e)return 0;if(e.equals(this))return 0;var t=this.coordinates.length-e.coordinates.length;if(0!==t)return t;for(var n=0;n<this.coordinates.length;n++){var r=this.coordinates[n],i=e.coordinates[n];if(0!==(t=r.compareTo(i)))return t}return t}},{key:"toRealVector",value:function(){return new e.vzome.core.math.RealVector(this.coordinates[0].evaluate(),this.coordinates[1].evaluate(),this.coordinates[2].evaluate())}},{key:"toASCIIString",value:function(){return this.getVectorExpression$int(e.vzome.core.algebra.AlgebraicField.EXPRESSION_FORMAT)}},{key:"toParsableString",value:function(){return this.getVectorExpression$int(e.vzome.core.algebra.AlgebraicField.ZOMIC_FORMAT)}},{key:"toString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.vzome.core.algebra.AlgebraicField.DEFAULT_FORMAT;return this.getVectorExpression$int(t)}},{key:"getComponent",value:function(e){return this.coordinates[e]}},{key:"getComponents",value:function(){return this.coordinates}},{key:"setComponent",value:function(e,t){return this.coordinates[e]=t,this}},{key:"negate",value:function(){for(var e=function(e){for(var t=[];e-- >0;)t.push(null);return t}(this.coordinates.length),n=0;n<e.length;n++)e[n]=this.coordinates[n].negate();return new t(e)}},{key:"scale",value:function(e){for(var n=function(e){for(var t=[];e-- >0;)t.push(null);return t}(this.coordinates.length),r=0;r<n.length;r++)n[r]=this.coordinates[r].times$com_vzome_core_algebra_AlgebraicNumber(e);return new t(n)}},{key:"isOrigin",value:function(){for(var e=0;e<this.coordinates.length;e++)if(!this.coordinates[e].isZero())return!1;return!0}},{key:"plus",value:function(e){for(var n=function(e){for(var t=[];e-- >0;)t.push(null);return t}(this.coordinates.length),r=0;r<n.length;r++)n[r]=this.coordinates[r].plus$com_vzome_core_algebra_AlgebraicNumber(e.coordinates[r]);return new t(n)}},{key:"minus",value:function(e){for(var n=function(e){for(var t=[];e-- >0;)t.push(null);return t}(this.coordinates.length),r=0;r<n.length;r++)n[r]=this.coordinates[r].minus$com_vzome_core_algebra_AlgebraicNumber(e.coordinates[r]);return new t(n)}},{key:"dimension",value:function(){return this.coordinates.length}},{key:"cross",value:function(e){for(var n=function(e){for(var t=[];e-- >0;)t.push(null);return t}(this.coordinates.length),r=0;r<n.length;r++){var i=(r+1)%3,o=(r+2)%3;n[r]=this.coordinates[i].times$com_vzome_core_algebra_AlgebraicNumber(e.coordinates[o]).minus$com_vzome_core_algebra_AlgebraicNumber(this.coordinates[o].times$com_vzome_core_algebra_AlgebraicNumber(e.coordinates[i]))}return new t(n)}},{key:"inflateTo4d$",value:function(){return this.inflateTo4d$boolean(!0)}},{key:"inflateTo4d$boolean",value:function(e){return 4===this.coordinates.length?e?this:new t([this.coordinates[1],this.coordinates[2],this.coordinates[3],this.coordinates[0]]):new t(e?[this.field.zero(),this.coordinates[0],this.coordinates[1],this.coordinates[2]]:[this.coordinates[0],this.coordinates[1],this.coordinates[2],this.field.zero()])}},{key:"inflateTo4d",value:function(e){if("boolean"===typeof e||null===e)return this.inflateTo4d$boolean(e);if(void 0===e)return this.inflateTo4d$();throw new Error("invalid overload")}},{key:"projectTo3d",value:function(e){return 3===this.dimension()?this:new t(e?[this.coordinates[1],this.coordinates[2],this.coordinates[3]]:[this.coordinates[0],this.coordinates[1],this.coordinates[2]])}},{key:"getVectorExpression$java_lang_StringBuffer$int",value:function(t,n){n===e.vzome.core.algebra.AlgebraicField.DEFAULT_FORMAT&&t.append("(");for(var r=0;r<this.coordinates.length;r++)r>0&&(n===e.vzome.core.algebra.AlgebraicField.VEF_FORMAT||n===e.vzome.core.algebra.AlgebraicField.ZOMIC_FORMAT?t.append(" "):t.append(", ")),this.coordinates[r].getNumberExpression(t,n);n===e.vzome.core.algebra.AlgebraicField.DEFAULT_FORMAT&&t.append(")")}},{key:"getVectorExpression",value:function(e,t){if(!(null!=e&&e instanceof java.lang.StringBuffer||null===e)||"number"!==typeof t&&null!==t){if("number"!==typeof e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.getVectorExpression$int(e)}return this.getVectorExpression$java_lang_StringBuffer$int(e,t)}},{key:"getVectorExpression$int",value:function(e){var t=new java.lang.StringBuffer;return this.getVectorExpression$java_lang_StringBuffer$int(t,e),t.toString()}},{key:"dot",value:function(e){for(var t=this.field.zero(),n=0;n<e.dimension();n++)t=t.plus$com_vzome_core_algebra_AlgebraicNumber(this.coordinates[n].times$com_vzome_core_algebra_AlgebraicNumber(e.coordinates[n]));return t}},{key:"getLength",value:function(e){for(var t=0;t<this.coordinates.length;t++)if(!this.coordinates[t].isZero())return this.coordinates[t].dividedBy$com_vzome_core_algebra_AlgebraicNumber(e.coordinates[t]);throw new java.lang.IllegalStateException("vector is the origin!")}},{key:"getField",value:function(){return this.field}}]),t}();n.X=0,n.Y=1,n.Z=2,n.W4=0,n.X4=1,n.Y4=2,n.Z4=3,t.AlgebraicVector=n,n.__class="com.vzome.core.algebra.AlgebraicVector",n.__interfaces=["java.lang.Comparable"]})((n=t.core||(t.core={})).algebra||(n.algebra={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(){function t(n,r,i,o){var a=this;if(_classCallCheck(this,t),(null!=n&&n instanceof java.io.Writer||null===n)&&(null!=r&&(null!=r.__interfaces&&r.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicField")>=0||null!=r.constructor&&null!=r.constructor.__interfaces&&r.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicField")>=0)||null===r)&&(null!=i&&(null!=i.__interfaces&&i.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0||null!=i.constructor&&null!=i.constructor.__interfaces&&i.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0)||null===i)&&("boolean"===typeof o||null===o))void 0===this.output&&(this.output=null),void 0===this.field&&(this.field=null),void 0===this.strutEnds&&(this.strutEnds=null),void 0===this.panelVertices&&(this.panelVertices=null),void 0===this.scale&&(this.scale=null),void 0===this.includeOffset&&(this.includeOffset=!1),this.sortedVertexList=null,this.vertices=new java.util.TreeSet,this.ballLocations=new java.util.TreeSet,this.exportedOffset=null,this.strTip="tip",this.strMiddle="middle",void 0===this.output&&(this.output=null),void 0===this.field&&(this.field=null),this.sortedVertexList=null,this.vertices=new java.util.TreeSet,this.ballLocations=new java.util.TreeSet,void 0===this.strutEnds&&(this.strutEnds=null),void 0===this.panelVertices&&(this.panelVertices=null),void 0===this.scale&&(this.scale=null),void 0===this.includeOffset&&(this.includeOffset=!1),this.exportedOffset=null,this.strTip="tip",this.strMiddle="middle",function(){a.includeOffset=o,a.scale=i,a.output=new java.io.PrintWriter(n),a.field=r;var t=new e.vzome.core.generic.ArrayComparator;a.strutEnds=new java.util.TreeSet(t.getContentFirstArrayComparator()),a.panelVertices=new java.util.TreeSet(t.getLengthFirstArrayComparator())}();else{if(!(null!=n&&n instanceof java.io.Writer||null===n)||!(null!=r&&(null!=r.__interfaces&&r.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicField")>=0||null!=r.constructor&&null!=r.constructor.__interfaces&&r.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicField")>=0)||null===r)||void 0!==i||void 0!==o)throw new Error("invalid overload");void 0===this.output&&(this.output=null),void 0===this.field&&(this.field=null),void 0===this.strutEnds&&(this.strutEnds=null),void 0===this.panelVertices&&(this.panelVertices=null),void 0===this.scale&&(this.scale=null),void 0===this.includeOffset&&(this.includeOffset=!1),this.sortedVertexList=null,this.vertices=new java.util.TreeSet,this.ballLocations=new java.util.TreeSet,this.exportedOffset=null,this.strTip="tip",this.strMiddle="middle",void 0===this.output&&(this.output=null),void 0===this.field&&(this.field=null),this.sortedVertexList=null,this.vertices=new java.util.TreeSet,this.ballLocations=new java.util.TreeSet,void 0===this.strutEnds&&(this.strutEnds=null),void 0===this.panelVertices&&(this.panelVertices=null),void 0===this.scale&&(this.scale=null),void 0===this.includeOffset&&(this.includeOffset=!1),this.exportedOffset=null,this.strTip="tip",this.strMiddle="middle",function(){a.includeOffset=!1,a.scale=null,a.output=new java.io.PrintWriter(n),a.field=r;var t=new e.vzome.core.generic.ArrayComparator;a.strutEnds=new java.util.TreeSet(t.getContentFirstArrayComparator()),a.panelVertices=new java.util.TreeSet(t.getLengthFirstArrayComparator())}()}}return _createClass(t,[{key:"exportPoint",value:function(e){this.vertices.add(e),this.ballLocations.add(e),this.includeOffset&&(this.exportedOffset=e)}},{key:"exportSegment",value:function(e,t){var n=[e,t];this.vertices.add(n[0]),this.vertices.add(n[1]),this.strutEnds.add(n)}},{key:"exportPolygon",value:function(e){this.vertices.addAll(e);var t=function(e){for(var t=[];e-- >0;)t.push(null);return t}(e.size());e.toArray(t),this.panelVertices.add(t)}},{key:"finishExport",value:function(){this.sortedVertexList=new java.util.ArrayList(this.vertices),this.vertices=null;var n=null==this.exportedOffset?e.vzome.core.math.VefParser.VERSION_EXPLICIT_BALLS:e.vzome.core.math.VefParser.VERSION_EXPLICIT_OFFSET;if(this.output.println$java_lang_Object("vZome VEF "+n+" field "+this.field.getName()),null!=this.exportedOffset){var r=new java.lang.StringBuffer;r.append("\noffset "),t.appendVector(r,this.exportedOffset.negate(),null),r.append("\n"),this.output.println$java_lang_Object(r.toString())}this.output.println$java_lang_Object("\n"+this.sortedVertexList.size());for(var i=new java.lang.StringBuffer,o=this.sortedVertexList.iterator();o.hasNext();){var a=o.next();t.appendVector(i,a,this.scale),i.append("\n")}i.append("\n"),this.output.println$java_lang_Object(i.toString()),this.output.println$java_lang_Object("\n"+this.strutEnds.size());for(var s=this.strutEnds.iterator();s.hasNext();){var l=s.next();this.output.print(this.sortedVertexList.indexOf(l[0])+" "),this.output.println$java_lang_Object(this.sortedVertexList.indexOf(l[1]))}this.output.println$java_lang_Object("\n"),this.output.println$java_lang_Object("\n"+this.panelVertices.size());for(var u=this.panelVertices.iterator();u.hasNext();){var c=u.next();this.output.print(c.length+"  ");for(var f=0;f<c.length;f++){var h=c[f];this.output.print(this.sortedVertexList.indexOf(h)+" ")}this.output.println$()}this.output.println$java_lang_Object("\n"),this.output.println$java_lang_Object("\n"+this.ballLocations.size());for(var d=0,p=this.ballLocations.iterator();p.hasNext();){var m=p.next();this.output.print(this.sortedVertexList.indexOf(m)+" "),++d%10===0&&this.output.println$()}this.output.println$java_lang_Object("\n"),this.output.flush()}}],[{key:"appendVector",value:function(t,n,r){var i=n.getField().zero().toString(e.vzome.core.algebra.AlgebraicField.VEF_FORMAT),o=n.dimension();o<4&&(t.append(i),t.append(" ")),null!=r&&(n=n.scale(r)),n.getVectorExpression$java_lang_StringBuffer$int(t,e.vzome.core.algebra.AlgebraicField.VEF_FORMAT);for(var a=o+1;a<4;a++)t.append(" "),t.append(i)}},{key:"exportPolyhedron",value:function(e){for(var n=new java.io.StringWriter,r=new t(n,e.getField()),i=e.getVertexList(),o=e.getFaceSet().iterator();o.hasNext();){for(var a=o.next(),s=new java.util.ArrayList(a.size()),l=0;l<a.size();l++){var u=a.getVertex(l);s.add(i.get(u))}r.exportPolygon(s)}return r.finishExport(),n.toString()}}]),t}();t.VefVectorExporter=n,n.__class="com.vzome.core.algebra.VefVectorExporter"})((n=t.core||(t.core={})).algebra||(n.algebra={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"rows",value:function(e){return e.length}},{key:"columns",value:function(e){return e[0].length}},{key:"matrixMultiplication",value:function(e,n,r){if(t.rows(n)!==t.columns(e))throw new java.lang.IllegalArgumentException("matrices cannot be multiplied");if(t.rows(r)!==t.rows(e))throw new java.lang.IllegalArgumentException("product matrix has wrong number of rows");if(t.columns(n)!==t.columns(r))throw new java.lang.IllegalArgumentException("product matrix has wrong number of columns");for(var i=0;i<t.rows(r);i++)for(var o=0;o<t.columns(r);o++){for(var a=null,s=0;s<t.columns(e);s++){var l=e[i][s].times(n[s][o]);a=null==a?l:a.plus(l)}r[i][o]=a}}},{key:"gaussJordanReduction$com_vzome_core_algebra_Fields_Element_A_A",value:function(e){return t.gaussJordanReduction$com_vzome_core_algebra_Fields_Element_A_A$com_vzome_core_algebra_Fields_Element_A_A(e,e)}},{key:"gaussJordanReduction$com_vzome_core_algebra_Fields_Element_A_A$com_vzome_core_algebra_Fields_Element_A_A",value:function(e,n){for(var r=t.rows(e),i=t.copyOf(e),o=0,a=0;a<t.columns(i);a++){for(var s=-1,l=o;l<r;l++)if(!i[l][a].isZero()){s=l;break}if(s>=0){s!==o&&(t.swap(i,o,s),t.swap(n,o,s),s=o);var u=i[s][a];u.isOne()||(u=u.reciprocal(),t.scale(i[s],u),t.scale(n[s],u));for(var c=0;c<r;c++)c!==s&&((u=i[c][a]).isZero()||(u=u.negate(),t.pivot(i,c,u,s),t.pivot(n,c,u,s)));o++}}return o}},{key:"gaussJordanReduction",value:function(t,n){if((null!=t&&t instanceof Array&&(0==t.length||null==t[0]||t[0]instanceof Array)||null===t)&&(null!=n&&n instanceof Array&&(0==n.length||null==n[0]||n[0]instanceof Array)||null===n))return e.vzome.core.algebra.Fields.gaussJordanReduction$com_vzome_core_algebra_Fields_Element_A_A$com_vzome_core_algebra_Fields_Element_A_A(t,n);if((null!=t&&t instanceof Array&&(0==t.length||null==t[0]||t[0]instanceof Array)||null===t)&&void 0===n)return e.vzome.core.algebra.Fields.gaussJordanReduction$com_vzome_core_algebra_Fields_Element_A_A(t);throw new Error("invalid overload")}},{key:"copyOf",value:function(e){for(var n=t.rows(e),r=t.columns(e),i=function(e){for(var t=[];e-- >0;)t.push(null);return t}(n),o=0;o<n;o++)i[o]=java.util.Arrays.copyOf(e[o],r);return i}},{key:"swap",value:function(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}},{key:"scale",value:function(e,t){for(var n=0;n<e.length;n++)e[n]=t.times(e[n])}},{key:"pivot",value:function(e,n,r,i){for(var o=0;o<t.columns(e);o++)e[n][o]=e[n][o].plus(e[i][o].times(r))}}]),t}();t.Fields=n,n.__class="com.vzome.core.algebra.Fields"})((n=t.core||(t.core={})).algebra||(n.algebra={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(e){var t;(function(e){var t;(t=e.AlgebraicField||(e.AlgebraicField={})).DEFAULT_FORMAT=0,t.EXPRESSION_FORMAT=1,t.ZOMIC_FORMAT=2,t.VEF_FORMAT=3})((t=e.core||(e.core={})).algebra||(t.algebra={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(e){var t;(function(e){var t=function(){function e(t,n,r){_classCallCheck(this,e),void 0===this.a&&(this.a=null),void 0===this.b&&(this.b=null),void 0===this.c&&(this.c=null),this.a=t,this.b=n,this.c=r}return _createClass(e,[{key:"hashCode",value:function(){var e,t=1;return t=31*(t=31*(t=31*t+(null==this.a?0:(e=this.a).hashCode?e.hashCode():e.toString().split("").reduce(function(e,t){return(e<<5)-e+t.charCodeAt(0)|0},0)))+(null==this.b?0:function(e){return e.hashCode?e.hashCode():e.toString().split("").reduce(function(e,t){return(e<<5)-e+t.charCodeAt(0)|0},0)}(this.b)))+(null==this.c?0:function(e){return e.hashCode?e.hashCode():e.toString().split("").reduce(function(e,t){return(e<<5)-e+t.charCodeAt(0)|0},0)}(this.c))}},{key:"equals",value:function(e){if(this===e)return!0;if(null==e)return!1;if(this.constructor!==e.constructor)return!1;var t,n,r=e;if(null==this.a){if(null!=r.a)return!1}else if(t=this.a,n=r.a,!(t&&t.equals?t.equals(n):t===n))return!1;if(null==this.b){if(null!=r.b)return!1}else if(!function(e,t){return e&&e.equals?e.equals(t):e===t}(this.b,r.b))return!1;if(null==this.c){if(null!=r.c)return!1}else if(!function(e,t){return e&&e.equals?e.equals(t):e===t}(this.c,r.c))return!1;return!0}},{key:"outer",value:function(e){var t=this.a.times$com_vzome_core_algebra_AlgebraicNumber(e.c),n=this.b.times$com_vzome_core_algebra_AlgebraicNumber(e.a),r=this.c.times$com_vzome_core_algebra_AlgebraicNumber(e.b);return t.plus$com_vzome_core_algebra_AlgebraicNumber(n).plus$com_vzome_core_algebra_AlgebraicNumber(r)}}]),e}();e.Bivector3d=t,t.__class="com.vzome.core.algebra.Bivector3d"})((t=e.core||(e.core={})).algebra||(t.algebra={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(){function t(e,n,r,i,o){_classCallCheck(this,t),void 0===this.e123&&(this.e123=null),void 0===this.e310&&(this.e310=null),void 0===this.e320&&(this.e320=null),void 0===this.e120&&(this.e120=null),void 0===this.field&&(this.field=null),this.e123=e,this.e310=n,this.e320=r,this.e120=i,this.field=o}return _createClass(t,[{key:"dual",value:function(){return new e.vzome.core.algebra.Vector3dHomogeneous(this.e320.negate(),this.e310,this.e120,this.e123.negate(),this.field)}}]),t}();t.Trivector3dHomogeneous=n,n.__class="com.vzome.core.algebra.Trivector3dHomogeneous"})((n=t.core||(t.core={})).algebra||(n.algebra={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){var t;(function(e){var t;t=e.algebra||(e.algebra={}),function(e){var n=function e(){_classCallCheck(this,e)};(t.AlgebraicNumber||(t.AlgebraicNumber={})).Views=n,n.__class="com.vzome.core.algebra.AlgebraicNumber.Views"}()})((t=e.vzome||(e.vzome={})).core||(t.core={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(){function t(n,r,i){var o=this;if(_classCallCheck(this,t),(null!=n&&(null!=n.__interfaces&&n.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0||null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0)||null===n)&&(null!=r&&(null!=r.__interfaces&&r.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0||null!=r.constructor&&null!=r.constructor.__interfaces&&r.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0)||null===r)&&(null!=i&&(null!=i.__interfaces&&i.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0||null!=i.constructor&&null!=i.constructor.__interfaces&&i.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0)||null===i))void 0===this.a&&(this.a=null),void 0===this.b&&(this.b=null),void 0===this.c&&(this.c=null),void 0===this.a&&(this.a=null),void 0===this.b&&(this.b=null),void 0===this.c&&(this.c=null),o.a=n,o.b=r,o.c=i;else{if(!(null!=n&&n instanceof e.vzome.core.algebra.AlgebraicVector||null===n)||void 0!==r||void 0!==i)throw new Error("invalid overload");var a=arguments[0];void 0===this.a&&(this.a=null),void 0===this.b&&(this.b=null),void 0===this.c&&(this.c=null),void 0===this.a&&(this.a=null),void 0===this.b&&(this.b=null),void 0===this.c&&(this.c=null),o.a=a.getComponent(0),o.b=a.getComponent(1),o.c=a.getComponent(2)}}return _createClass(t,[{key:"outer",value:function(t){var n=this.a.times$com_vzome_core_algebra_AlgebraicNumber(t.b).minus$com_vzome_core_algebra_AlgebraicNumber(this.b.times$com_vzome_core_algebra_AlgebraicNumber(t.a)),r=this.b.times$com_vzome_core_algebra_AlgebraicNumber(t.c).minus$com_vzome_core_algebra_AlgebraicNumber(this.c.times$com_vzome_core_algebra_AlgebraicNumber(t.b)),i=this.c.times$com_vzome_core_algebra_AlgebraicNumber(t.a).minus$com_vzome_core_algebra_AlgebraicNumber(this.a.times$com_vzome_core_algebra_AlgebraicNumber(t.c));return new e.vzome.core.algebra.Bivector3d(n,r,i)}}]),t}();t.Vector3d=n,n.__class="com.vzome.core.algebra.Vector3d"})((n=t.core||(t.core={})).algebra||(n.algebra={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(e){var t;(function(e){var t=function(){function e(t,n){_classCallCheck(this,e),void 0===this.representation&&(this.representation=null),void 0===this.transpose&&(this.transpose=null),void 0===this.field&&(this.field=null),void 0===this.vector&&(this.vector=null),this.field=t,this.vector=n;var r=0,i=t.createRational$long(0);n.dimension()>3&&(i=n.getComponent(0),r=1),this.representation=t.identityMatrix(4).timesScalar(i),i=n.getComponent(0+r),this.representation.setElement(1,0,i),this.representation.setElement(3,2,i),i=i.negate(),this.representation.setElement(0,1,i),this.representation.setElement(2,3,i),i=n.getComponent(1+r),this.representation.setElement(1,3,i),this.representation.setElement(2,0,i),i=i.negate(),this.representation.setElement(3,1,i),this.representation.setElement(0,2,i),i=n.getComponent(2+r),this.representation.setElement(3,0,i),this.representation.setElement(2,1,i),i=i.negate(),this.representation.setElement(1,2,i),this.representation.setElement(0,3,i),i=1===r?n.getComponent(0):t.createRational$long(0),this.transpose=t.identityMatrix(4).timesScalar(i),i=n.getComponent(0+r),this.transpose.setElement(0,1,i),this.transpose.setElement(2,3,i),i=i.negate(),this.transpose.setElement(1,0,i),this.transpose.setElement(3,2,i),i=n.getComponent(1+r),this.transpose.setElement(3,1,i),this.transpose.setElement(0,2,i),i=i.negate(),this.transpose.setElement(1,3,i),this.transpose.setElement(2,0,i),i=n.getComponent(2+r),this.transpose.setElement(1,2,i),this.transpose.setElement(0,3,i),i=i.negate(),this.transpose.setElement(3,0,i),this.transpose.setElement(2,1,i)}return _createClass(e,[{key:"toString",value:function(){return"Quaternion: "+this.vector.toString()}},{key:"getVector",value:function(){return this.vector}},{key:"conjugate",value:function(e){var t=this.field.origin(4);return t.setComponent(3,e.getComponent(3).negate()),t.setComponent(1,e.getComponent(1).negate()),t.setComponent(2,e.getComponent(2).negate()),t.setComponent(0,e.getComponent(0)),t}},{key:"reflect",value:function(e){var t=this.rightMultiply(this.conjugate(e));return(t=this.leftMultiply(t)).negate()}},{key:"rightMultiply",value:function(e){return this.representation.timesColumn(e)}},{key:"leftMultiply",value:function(e){var t=this.conjugate(e);return t=this.transpose.timesColumn(t),this.conjugate(t)}}]),e}();e.Quaternion=t,t.__class="com.vzome.core.algebra.Quaternion"})((t=e.core||(e.core={})).algebra||(t.algebra={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){var t;(function(t){var n=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"addAttribute",value:function(e,t,n){e.setAttribute(t,n)}},{key:"getFirstChildElement$org_w3c_dom_Element$java_lang_String",value:function(e,t){return e.getElementsByTagName(t).item(0)}},{key:"getFirstChildElement",value:function(t,n){if(!(null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("org.w3c.dom.Element")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("org.w3c.dom.Element")>=0)||null===t)||"string"!==typeof n&&null!==n){if((null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("org.w3c.dom.Element")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("org.w3c.dom.Element")>=0)||null===t)&&void 0===n)return e.vzome.xml.DomUtils.getFirstChildElement$org_w3c_dom_Element(t);throw new Error("invalid overload")}return e.vzome.xml.DomUtils.getFirstChildElement$org_w3c_dom_Element$java_lang_String(t,n)}},{key:"preserveSpace",value:function(e){e.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}},{key:"getFirstChildElement$org_w3c_dom_Element",value:function(e){var t=e.getChildNodes();if(0===t.getLength())return null;for(var n=0;n<t.getLength();n++){var r=t.item(n);if(null!=r&&(null!=r.__interfaces&&r.__interfaces.indexOf("org.w3c.dom.Element")>=0||null!=r.constructor&&null!=r.constructor.__interfaces&&r.constructor.__interfaces.indexOf("org.w3c.dom.Element")>=0))return r}return null}},{key:"getChild",value:function(e,t){var n=e.getChildNodes();if(0===n.getLength())return null;for(var r=0,i=0;i<n.getLength();i++){var o=n.item(i);if(null!=o&&(null!=o.__interfaces&&o.__interfaces.indexOf("org.w3c.dom.Element")>=0||null!=o.constructor&&null!=o.constructor.__interfaces&&o.constructor.__interfaces.indexOf("org.w3c.dom.Element")>=0)){if(r===t)return o;++r}}return null}}]),t}();t.DomUtils=n,n.__class="com.vzome.xml.DomUtils"})((t=e.vzome||(e.vzome={})).xml||(t.xml={}))}(com||(com={})),function(e){var t;(function(e){var t=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"INJECTED_RESOURCES_$LI$",value:function(){return null==e.INJECTED_RESOURCES&&(e.INJECTED_RESOURCES=new java.util.HashMap),e.INJECTED_RESOURCES}},{key:"injectResource",value:function(t,n){e.INJECTED_RESOURCES_$LI$().put(t,n)}},{key:"hasInjectedResource",value:function(t){return e.INJECTED_RESOURCES_$LI$().containsKey(t)}},{key:"getInjectedResource",value:function(t){return e.INJECTED_RESOURCES_$LI$().get(t)}},{key:"loadStringResource",value:function(t){if(e.hasInjectedResource(t))return e.getInjectedResource(t);var n=e.getClassLoader().getResourceAsStream(t);if(null==n)return null;for(var r,i=new java.io.ByteArrayOutputStream,o=function(e){for(var t=[];e-- >0;)t.push(0);return t}(1024);(r=n.read(o,0,1024))>0;)i.write(o,0,r);return n.close(),new String(i.toByteArray())}}]),e}();e.ResourceLoader=t,t.__class="com.vzome.xml.ResourceLoader"})((t=e.vzome||(e.vzome={})).xml||(t.xml={}))}(com||(com={})),function(e){!function(e){var t;(function(e){var t;(t=e.Kind||(e.Kind={}))[t.SYMMETRY=0]="SYMMETRY",t[t.TRANSFORM=1]="TRANSFORM",t[t.LINEAR_MAP=2]="LINEAR_MAP"})((t=e.api||(e.api={})).Tool||(t.Tool={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(e){var t=function(){function e(){_classCallCheck(this,e),void 0===this.value&&(this.value=null),this.value=""+Math.random()}return _createClass(e,[{key:"toString",value:function(){return this.value}}],[{key:"randomUUID",value:function(){return new e}}]),e}();e.UUID=t,t.__class="java.util.UUID"}(e.util||(e.util={}))}(java),function(e){!function(t){var n=function(){function t(n,r){var i=this;if(_classCallCheck(this,t),"string"!==typeof n&&null!==n||"string"!==typeof r&&null!==r){if("string"!==typeof n&&null!==n||void 0!==r)throw new Error("invalid overload");void 0===this.tokens&&(this.tokens=null),void 0===this.count&&(this.count=0),void 0===this.tokens&&(this.tokens=null),void 0===this.count&&(this.count=0),function(){var t=new RegExp("\\s+"),r=i.splitRegExp(n,t),o=r.length-1;""===r[o]&&(r=e.util.Arrays.copyOf(r,o)),i.count=r.length,i.tokens=e.util.Arrays.asList(r).iterator()}()}else void 0===this.tokens&&(this.tokens=null),void 0===this.count&&(this.count=0),void 0===this.tokens&&(this.tokens=null),void 0===this.count&&(this.count=0),function(){var t=new RegExp(null==r?"\\s+":"["+r+"]+"),o=i.splitRegExp(n,t),a=o.length-1;""===o[a]&&(o=e.util.Arrays.copyOf(o,a)),i.count=o.length,i.tokens=e.util.Arrays.asList(o).iterator()}()}return _createClass(t,[{key:"splitRegExp",value:function(e,t){return e.split(t)}},{key:"hasMoreTokens",value:function(){return this.tokens.hasNext()}},{key:"nextToken",value:function(){return this.tokens.next()}},{key:"countTokens",value:function(){return this.count}}]),t}();t.StringTokenizer=n,n.__class="java.util.StringTokenizer"}(e.util||(e.util={}))}(java),function(e){!function(e){var t=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getProperty",value:function(e){return""}},{key:"load",value:function(e){}},{key:"isEmpty",value:function(){return!0}}]),e}();e.Properties=t,t.__class="java.util.Properties"}(e.util||(e.util={}))}(java),function(e){!function(e){var t=function(){function e(t,n){_classCallCheck(this,e)}return _createClass(e,[{key:"exists",value:function(){return!1}}]),e}();e.File=t,t.__class="java.io.File"}(e.io||(e.io={}))}(java),function(e){!function(t){var n=function(t){_inherits(r,e.io.Writer);var n=_createSuper(r);function r(){return _classCallCheck(this,r),n.call(this)}return _createClass(r,[{key:"toString",value:function(){return null}},{key:"flush",value:function(){}},{key:"close",value:function(){}},{key:"write",value:function(e,t,n){}}]),r}();t.StringWriter=n,n.__class="java.io.StringWriter",n.__interfaces=["java.lang.Appendable","java.io.Closeable","java.lang.AutoCloseable","java.io.Flushable"]}(e.io||(e.io={}))}(java),function(e){!function(t){var n=function(t){_inherits(r,e.io.Writer);var n=_createSuper(r);function r(e){return _classCallCheck(this,r),n.call(this)}return _createClass(r,[{key:"flush",value:function(){}},{key:"close",value:function(){}},{key:"write",value:function(e,t,n){}},{key:"println$",value:function(){}},{key:"print",value:function(e){}},{key:"println$java_lang_Object",value:function(e){}},{key:"println",value:function(e){if(null!=e||null===e)return this.println$java_lang_Object(e);if(void 0===e)return this.println$();throw new Error("invalid overload")}}]),r}();t.PrintWriter=n,n.__class="java.io.PrintWriter",n.__interfaces=["java.lang.Appendable","java.io.Closeable","java.lang.AutoCloseable","java.io.Flushable"]}(e.io||(e.io={}))}(java),function(e){!function(e){var t=function(){function e(t){_classCallCheck(this,e)}return _createClass(e,[{key:"firePropertyChange",value:function(e,t,n){}},{key:"addPropertyChangeListener",value:function(e){}},{key:"removePropertyChangeListener",value:function(e){}}]),e}();e.PropertyChangeSupport=t,t.__class="java.beans.PropertyChangeSupport"}(e.beans||(e.beans={}))}(java),function(e){!function(e){var t=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"put",value:function(e,t){}}]),e}();e.FloatBuffer=t,t.__class="java.nio.FloatBuffer"}(e.nio||(e.nio={}))}(java),function(e){!function(e){var t=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"setMaximumFractionDigits",value:function(e){}},{key:"setMinimumFractionDigits",value:function(e){}},{key:"format",value:function(e){return""+e}}],[{key:"getNumberInstance",value:function(t){return new e}}]),e}();e.NumberFormat=t,t.__class="java.text.NumberFormat"}(e.text||(e.text={}))}(java),function(e){var t;(function(t){var n=function(){function e(t,n){_classCallCheck(this,e),void 0===this.adapter&&(this.adapter=null),void 0===this.field&&(this.field=null),this.field=t,this.adapter=n}return _createClass(e,[{key:"setAdapter",value:function(e){this.adapter=e}},{key:"iterator",value:function(){if(null==this.adapter)return java.util.Collections.emptyIterator();var t=this.adapter.selectedIterator.apply(this.adapter);return new e.JsSelection$0(this,t)}},{key:"clear",value:function(){this.adapter.clearSelection.apply(this.adapter)}},{key:"manifestationSelected",value:function(e){var t=e.getVectors();return this.adapter.manifestationSelected.apply(this.adapter,[t])}},{key:"select",value:function(e){var t=e.getVectors();this.adapter.select.apply(this.adapter,[t])}},{key:"unselect",value:function(e){var t=e.getVectors();this.adapter.unselect.apply(this.adapter,[t])}},{key:"size",value:function(){return 0|this.adapter.selectionSize.apply(this.adapter)}},{key:"gatherGroup",value:function(){this.adapter.createGroup.apply(this.adapter)}},{key:"scatterGroup",value:function(){this.adapter.disbandGroup.apply(this.adapter)}},{key:"gatherGroup211",value:function(){this.adapter.createLegacyGroup.apply(this.adapter)}},{key:"scatterGroup211",value:function(){this.adapter.disbandLegacyGroup.apply(this.adapter)}},{key:"selectWithGrouping",value:function(e){if(null!=e){var t=e.getVectors();this.adapter.selectWithGrouping.apply(this.adapter,[t])}}},{key:"unselectWithGrouping",value:function(e){if(null!=e){var t=e.getVectors();this.adapter.unselectWithGrouping.apply(this.adapter,[t])}}},{key:"isSelectionAGroup",value:function(){return this.adapter.selectionIsGroup.apply(this.adapter)}},{key:"copy",value:function(e){throw new java.lang.RuntimeException("unimplemented")}}]),e}();t.JsSelection=n,n.__class="com.vzome.jsweet.JsSelection",n.__interfaces=["com.vzome.core.editor.api.Selection","java.lang.Iterable"],function(t){var n=function(){function t(e,n){_classCallCheck(this,t),this.jSiterator=n,this.__parent=e,this.peek=this.jSiterator.next()}return _createClass(t,[{key:"hasNext",value:function(){return!this.peek.done}},{key:"next",value:function(){var t=e.vzome.jsweet.JsManifestation.manifest(this.peek.value,this.__parent.field,this.__parent.adapter);return this.peek=this.jSiterator.next(),t}}]),t}();t.JsSelection$0=n,n.__interfaces=["java.util.Iterator"]}(n=t.JsSelection||(t.JsSelection={}))})((t=e.vzome||(e.vzome={})).jsweet||(t.jsweet={}))}(com||(com={})),function(e){var t;(function(e){var t=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"createEdit",value:function(e){throw new java.lang.RuntimeException("unimplemented")}},{key:"performAndRecord",value:function(e){throw new java.lang.RuntimeException("unimplemented")}},{key:"createLegacyCommand",value:function(e){throw new java.lang.RuntimeException("unimplemented")}}]),e}();e.JsEditContext=t,t.__class="com.vzome.jsweet.JsEditContext",t.__interfaces=["com.vzome.core.editor.api.UndoableEdit.Context"]})((t=e.vzome||(e.vzome={})).jsweet||(t.jsweet={}))}(com||(com={})),function(e){var t;(function(t){var n=function(){function t(e,n){_classCallCheck(this,t),void 0===this.field&&(this.field=null),void 0===this.adapter&&(this.adapter=null),this.field=e,this.adapter=n}return _createClass(t,[{key:"setAdapter",value:function(e){this.adapter=e}},{key:"iterator",value:function(){var e=this.adapter.allIterator.apply(this.adapter);return new t.JsRealizedModel$0(this,e)}},{key:"getField",value:function(){return this.field}},{key:"findConstruction",value:function(t){if(null==t)return null;var n=e.vzome.jsweet.JsManifestation.canonicalizeConstruction(t);return null==n?null:null==(n=this.adapter.findOrCreateManifestation.apply(this.adapter,[n]))?null:e.vzome.jsweet.JsManifestation.manifest(n,this.field,this.adapter)}},{key:"remove",value:function(e){var t=e.getVectors();this.adapter.delete.apply(this.adapter,[t])}},{key:"getManifestation",value:function(e){return this.findConstruction(e)}},{key:"show",value:function(e){var t=e.getVectors();this.adapter.showManifestation.apply(this.adapter,[t])}},{key:"hide",value:function(e){var t=e.getVectors();this.adapter.hideManifestation.apply(this.adapter,[t])}},{key:"setColor",value:function(e,t){e.setColor(t)}},{key:"add",value:function(e){var t=e.getVectors();this.adapter.showManifestation.apply(this.adapter,[t])}},{key:"findPerEditManifestation",value:function(e){return null}},{key:"addPerEditManifestation",value:function(e){}},{key:"clearPerEditManifestations",value:function(){}},{key:"removeConstruction",value:function(e){throw new java.lang.RuntimeException("unimplemented")}},{key:"size",value:function(){throw new java.lang.RuntimeException("unimplemented")}}]),t}();t.JsRealizedModel=n,n.__class="com.vzome.jsweet.JsRealizedModel",n.__interfaces=["com.vzome.core.model.RealizedModel","java.lang.Iterable"],function(t){var n=function(){function t(e,n){_classCallCheck(this,t),this.jSiterator=n,this.__parent=e,this.peek=this.jSiterator.next()}return _createClass(t,[{key:"hasNext",value:function(){return!this.peek.done}},{key:"next",value:function(){var t=e.vzome.jsweet.JsManifestation.manifest(this.peek.value,this.__parent.field,this.__parent.adapter);return this.peek=this.jSiterator.next(),t}}]),t}();t.JsRealizedModel$0=n,n.__interfaces=["java.util.Iterator"]}(n=t.JsRealizedModel||(t.JsRealizedModel={}))})((t=e.vzome||(e.vzome={})).jsweet||(t.jsweet={}))}(com||(com={})),function(e){var t;(function(t){var n=function(){function t(e){_classCallCheck(this,t),void 0===this.delegate&&(this.delegate=null),void 0===this.positivePowers&&(this.positivePowers=null),void 0===this.negativePowers&&(this.negativePowers=null),this.delegate=e;var n=e.order;this.positivePowers=function(e){for(var t=[];e-- >0;)t.push(null);return t}(n-1),this.negativePowers=function(e){for(var t=[];e-- >0;)t.push(null);return t}(n-1)}return _createClass(t,[{key:"getName",value:function(){return this.delegate.name}},{key:"getOrder",value:function(){return this.delegate.order}},{key:"getNumIrrationals",value:function(){return this.getOrder()-1}},{key:"add",value:function(e,t){return(0,this.delegate.plus)(e,t)}},{key:"subtract",value:function(e,t){return(0,this.delegate.minus)(e,t)}},{key:"multiply",value:function(e,t){return(0,this.delegate.times)(e,t)}},{key:"evaluateNumber",value:function(e){return(0,this.delegate.embed)(e)}},{key:"reciprocal",value:function(e){return(0,this.delegate.reciprocal)(e)}},{key:"negate",value:function(e){return(0,this.delegate.negate)(e)}},{key:"createAlgebraicNumberFromTD",value:function(t){return new e.vzome.jsweet.JsAlgebraicNumber(this,t)}},{key:"createAlgebraicNumberFromPairs",value:function(t){var n=(0,this.delegate.createRationalFromPairs)(t);return new e.vzome.jsweet.JsAlgebraicNumber(this,n)}},{key:"createRational$long$long",value:function(t,n){var r=(0,this.delegate.createRational)(t,n);return new e.vzome.jsweet.JsAlgebraicNumber(this,r)}},{key:"createRational",value:function(e,t){if("number"!==typeof e&&null!==e||"number"!==typeof t&&null!==t){if("number"!==typeof e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.createRational$long(e)}return this.createRational$long$long(e,t)}},{key:"zero",value:function(){return new e.vzome.jsweet.JsAlgebraicNumber(this,this.delegate.zero)}},{key:"one",value:function(){return new e.vzome.jsweet.JsAlgebraicNumber(this,this.delegate.one)}},{key:"createVector",value:function(t){var n=this.createAlgebraicNumberFromPairs(t[0]),r=this.createAlgebraicNumberFromPairs(t[1]),i=this.createAlgebraicNumberFromPairs(t[2]);return new e.vzome.core.algebra.AlgebraicVector(n,r,i)}},{key:"createVectorFromTDs",value:function(t){var n=this.createAlgebraicNumberFromTD(t[0]),r=this.createAlgebraicNumberFromTD(t[1]),i=this.createAlgebraicNumberFromTD(t[2]);return new e.vzome.core.algebra.AlgebraicVector(n,r,i)}},{key:"origin",value:function(t){var n=this.zero();switch(t){case 1:return new e.vzome.core.algebra.AlgebraicVector(n);case 2:return new e.vzome.core.algebra.AlgebraicVector(n,n);case 3:return new e.vzome.core.algebra.AlgebraicVector(n,n,n);case 4:return new e.vzome.core.algebra.AlgebraicVector(n,n,n,n);case 5:return new e.vzome.core.algebra.AlgebraicVector(n,n,n,n,n);default:return null}}},{key:"scale4dRoots",value:function(){return!1}},{key:"doubleFrameVectors",value:function(){return!1}},{key:"basisVector",value:function(e,t){return this.origin(e).setComponent(t,this.one())}},{key:"createRational$long",value:function(e){return this.createRational$long$long(e,1)}},{key:"createPower$int",value:function(e){return this.createPower$int$int(e,1)}},{key:"createPower$int$int",value:function(e,t){var n=this.one();if(0===e||0===t)return n;if(t-=1,e>0){if(null==this.positivePowers[t]&&(this.positivePowers[t]=new java.util.ArrayList(8)),e>=this.positivePowers[t].size()){this.positivePowers[t].isEmpty()&&(this.positivePowers[t].add(n),this.positivePowers[t].add(this.getUnitTerm(t+1)));for(var r=this.positivePowers[t].size(),i=this.positivePowers[t].get(1),o=this.positivePowers[t].get(r-1),a=r;a<=e;a++){var s=o.times$com_vzome_core_algebra_AlgebraicNumber(i);this.positivePowers[t].add(s),o=s}}return this.positivePowers[t].get(e)}if(e=-e,null==this.negativePowers[t]&&(this.negativePowers[t]=new java.util.ArrayList(8)),e>=this.negativePowers[t].size()){this.negativePowers[t].isEmpty()&&(this.negativePowers[t].add(n),this.negativePowers[t].add(this.getUnitTerm(t+1).reciprocal()));for(var l=this.negativePowers[t].size(),u=this.negativePowers[t].get(1),c=this.negativePowers[t].get(l-1),f=l;f<=e;f++){var h=c.times$com_vzome_core_algebra_AlgebraicNumber(u);this.negativePowers[t].add(h),c=h}}return this.negativePowers[t].get(e)}},{key:"createPower",value:function(e,t){if("number"!==typeof e&&null!==e||"number"!==typeof t&&null!==t){if("number"!==typeof e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.createPower$int(e)}return this.createPower$int$int(e,t)}},{key:"getUnitTerm",value:function(e){if(e<0)return this.zero();var t=this.zero().toTrailingDivisor();return t[e]=1,this.createAlgebraicNumber$int_A(t)}},{key:"createAlgebraicNumber$int_A",value:function(e){return this.createAlgebraicNumber$int_A$int(e,1)}},{key:"createAlgebraicNumber$int_A$int",value:function(t,n){var r=function(e){for(var t=[];e-- >0;)t.push(0);return t}(t.length+1);return java.lang.System.arraycopy(t,0,r,0,t.length),r[t.length]=n,new e.vzome.jsweet.JsAlgebraicNumber(this,r)}},{key:"getGoldenRatio",value:function(){var t=this.delegate.goldenRatio;return null==t?null:new e.vzome.jsweet.JsAlgebraicNumber(this,t)}},{key:"identityMatrix",value:function(t){for(var n=function(e){for(var t=[];e-- >0;)t.push(null);return t}(t),r=0;r<n.length;r++)n[r]=this.basisVector(t,r);return new e.vzome.core.algebra.AlgebraicMatrix(n)}},{key:"parseVefNumber",value:function(e,t){var n=function(e){for(var t=[];e-- >0;)t.push(0);return t}(this.getOrder()+1);if(!t&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"("===e.substr(n,"(".length)}(e,"(")&&function(e,t){var n=e.length-")".length,r=e.indexOf(")",n);return-1!==r&&r===n}(e)){for(var r=new java.util.StringTokenizer(e.substring(1,e.length-1),","),i=new java.util.Stack,o=new java.util.Stack;r.hasMoreTokens();){if(i.size()>=this.getOrder())throw new java.lang.RuntimeException('VEF format error: "'+e+'" has too many factors for '+this.getName()+" field");var a=r.nextToken().split("/");i.push(javaemul.internal.IntegerHelper.parseInt(a[0])),o.push(a.length>1?javaemul.internal.IntegerHelper.parseInt(a[1]):1)}for(var s=0;!i.empty();)n[s++]=i.pop(),n[s++]=o.pop()}else{var l=e.split("/");n[0]=javaemul.internal.IntegerHelper.parseInt(l[0]),n[1]=l.length>1?javaemul.internal.IntegerHelper.parseInt(l[1]):1}return this.createAlgebraicNumberFromPairs(n)}},{key:"projectTo3d",value:function(e,t){if(3===e.dimension())return e;for(var n=this.origin(3),r=0;r<3;r++)n.setComponent(r,e.getComponent(t?r+1:r));return n}},{key:"createAlgebraicNumber$int$int$int$int",value:function(e,t,n,r){var i=this.createAlgebraicNumberFromTD([e,t,n]);if(0!==r){var o=this.createPower$int(r);return i.times$com_vzome_core_algebra_AlgebraicNumber(o)}return i}},{key:"createAlgebraicNumber",value:function(e,t,n,r){if("number"!==typeof e&&null!==e||"number"!==typeof t&&null!==t||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if(!(null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"number"===typeof e[0])||null===e)||"number"!==typeof t&&null!==t||void 0!==n||void 0!==r){if((null!=e&&e instanceof Array&&(0==e.length||null==e[0]||"number"===typeof e[0])||null===e)&&void 0===t&&void 0===n&&void 0===r)return this.createAlgebraicNumber$int_A(e);throw new Error("invalid overload")}return this.createAlgebraicNumber$int_A$int(e,t)}return this.createAlgebraicNumber$int$int$int$int(e,t,n,r)}},{key:"parseVector",value:function(t){var n=new java.util.StringTokenizer(t," "),r=n.countTokens();if(r%this.getOrder()!==0)throw new java.lang.IllegalStateException("Field order ("+this.getOrder()+") does not divide token count: "+r+", for '"+t+"'");for(var i=r/this.getOrder()|0,o=function(e){for(var t=[];e-- >0;)t.push(null);return t}(i),a=0;a<i;a++)o[a]=this.parseNumber$java_util_StringTokenizer(n);return new e.vzome.core.algebra.AlgebraicVector(o)}},{key:"parseNumber$java_lang_String",value:function(e){var t=new java.util.StringTokenizer(e," ");return this.parseNumber$java_util_StringTokenizer(t)}},{key:"parseNumber",value:function(e){if("string"===typeof e||null===e)return this.parseNumber$java_lang_String(e);if(null!=e&&e instanceof java.util.StringTokenizer||null===e)return this.parseNumber$java_util_StringTokenizer(e);throw new Error("invalid overload")}},{key:"parseNumber$java_util_StringTokenizer",value:function(e){for(var t=this.getOrder(),n=function(e){for(var t=[];e-- >0;)t.push(0);return t}(2*t),r=0;r<t;r++){var i=e.nextToken().split("/");n[2*r]=javaemul.internal.IntegerHelper.parseInt(i[0]),i.length>1?n[2*r+1]=javaemul.internal.IntegerHelper.parseInt(i[1]):n[2*r+1]=1}return this.createAlgebraicNumberFromPairs(n)}},{key:"parseLegacyNumber",value:function(e){var t=1;if(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"("===e.substr(n,"(".length)}(e,"(")){var n=e.indexOf(")");t=javaemul.internal.IntegerHelper.parseInt(e.substring(n+2)),e=e.substring(1,n)}var r,i,o=0,a=e.indexOf("phi");if(a>=0){var s=e.substring(0,a);o=0===s.length?1:((r=s)&&r.equals?r.equals("-"):"-"===r)?-1:javaemul.internal.IntegerHelper.parseInt(s),e=e.substring(a+3)}return 0===e.length?i=0:(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"+"===e.substr(n,"+".length)}(e,"+")&&(e=e.substring(1)),i=javaemul.internal.IntegerHelper.parseInt(e)),this.createAlgebraicNumber$int$int$int$int(i,o,t,0)}},{key:"createIntegerVectorFromTDs",value:function(e){for(var t=e.length,n=this.origin(t),r=0;r<t;r++)n.setComponent(r,this.createAlgebraicNumberFromTD(e[r]));return n}},{key:"scaleBy",value:function(e,t){throw new java.lang.RuntimeException("unimplemented")}},{key:"defineMultiplier",value:function(e,t){throw new java.lang.RuntimeException("unimplemented")}},{key:"getIrrational$int$int",value:function(e,t){throw new java.lang.RuntimeException("unimplemented")}},{key:"getIrrational",value:function(e,t){if("number"!==typeof e&&null!==e||"number"!==typeof t&&null!==t){if("number"!==typeof e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.getIrrational$int(e)}return this.getIrrational$int$int(e,t)}},{key:"getIrrational$int",value:function(e){throw new java.lang.RuntimeException("unimplemented")}},{key:"nearestAlgebraicVector",value:function(e){throw new java.lang.RuntimeException("unimplemented")}},{key:"getAffineScalar",value:function(){throw new java.lang.RuntimeException("unimplemented")}},{key:"createIntegerVector",value:function(e){throw new java.lang.RuntimeException("unimplemented")}},{key:"createMatrix",value:function(e){throw new java.lang.RuntimeException("unimplemented")}},{key:"getNumMultipliers",value:function(){throw new java.lang.RuntimeException("unimplemented")}}]),t}();t.JsAlgebraicField=n,n.__class="com.vzome.jsweet.JsAlgebraicField",n.__interfaces=["com.vzome.core.algebra.AlgebraicField"]})((t=e.vzome||(e.vzome={})).jsweet||(t.jsweet={}))}(com||(com={})),function(e){var t;(function(t){var n=function(){function t(e,n,r){_classCallCheck(this,t),void 0===this.vectors&&(this.vectors=null),void 0===this.field&&(this.field=null),void 0===this.adapter&&(this.adapter=null),this.field=e,this.adapter=n,this.vectors=r}return _createClass(t,[{key:"getVectors",value:function(){return this.vectors}},{key:"getColor",value:function(){if(!this.adapter.manifestationHasColor.apply(this.adapter,[this.vectors]))return null;var t=0|this.adapter.manifestationColor.apply(this.adapter,[this.vectors]);return new e.vzome.core.construction.Color(t)}},{key:"setColor",value:function(e){null!=e&&this.adapter.setManifestationColor.apply(this.adapter,[this.vectors,e.getRGB()])}},{key:"isRendered",value:function(){return this.adapter.manifestationRendered.apply(this.adapter,[this.vectors])}},{key:"addConstruction",value:function(e){}},{key:"removeConstruction",value:function(e){}},{key:"isUnnecessary",value:function(){return!0}},{key:"getFirstConstruction",value:function(){return this.toConstruction()}},{key:"setHidden",value:function(e){}},{key:"isHidden",value:function(){return this.adapter.manifestationHidden.apply(this.adapter,[this.vectors])}},{key:"setContainer",value:function(e){throw new java.lang.RuntimeException("unimplemented")}},{key:"getContainer",value:function(){var n=this.adapter.getLargestGroup.apply(this.adapter,[this.vectors]);if(null==n)return null;for(var r=new e.vzome.core.model.Group,i=0;i<n.length;i++)r.add(t.manifest(n[i],this.field,this.adapter));return r}},{key:"getConstructions",value:function(){throw new java.lang.RuntimeException("unimplemented")}},{key:"getXml",value:function(e){throw new java.lang.RuntimeException("unimplemented")}},{key:"getCentroid",value:function(){throw new java.lang.RuntimeException("unimplemented")}}],[{key:"canonicalizeNumbers",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return java.util.Arrays.stream(t).map(function(e){return e.toTrailingDivisor()}).toArray()}},{key:"canonicalizeVectors",value:function(){for(var e=this,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return java.util.Arrays.stream(r).map(function(n){return t.canonicalizeNumbers.apply(e,n.getComponents())}).toArray()}},{key:"canonicalizeConstruction",value:function(n){if(null!=n&&n instanceof e.vzome.core.construction.Point){var r=n;return t.canonicalizeVectors(r.getLocation())}if(null!=n&&n instanceof e.vzome.core.construction.Segment){var i=n;return t.canonicalizeVectors(i.getStart(),i.getEnd())}return null!=n&&n instanceof e.vzome.core.construction.Polygon?t.canonicalizeVectors.apply(this,n.getVertices()):null}},{key:"manifest",value:function(t,n,r){switch(t.length){case 1:return new e.vzome.jsweet.JsBall(n,r,t);case 2:return new e.vzome.jsweet.JsStrut(n,r,t);default:return new e.vzome.jsweet.JsPanel(n,r,t)}}}]),t}();t.JsManifestation=n,n.__class="com.vzome.jsweet.JsManifestation",n.__interfaces=["com.vzome.core.model.GroupElement","com.vzome.core.model.Manifestation"]})((t=e.vzome||(e.vzome={})).jsweet||(t.jsweet={}))}(com||(com={})),function(e){var t;(function(e){var t=function(){function e(t,n){_classCallCheck(this,e),void 0===this.field&&(this.field=null),void 0===this.factors&&(this.factors=null),this.field=t,this.factors=n.slice()}return _createClass(e,[{key:"getField",value:function(){return this.field}},{key:"evaluate",value:function(){return this.field.evaluateNumber(this.factors)}},{key:"toTrailingDivisor",value:function(){return this.factors.slice()}},{key:"plus$int",value:function(e){return 0===e?this:this.plus$com_vzome_core_algebra_AlgebraicNumber(this.field.createRational$long(e))}},{key:"plus$int$int",value:function(e,t){return this.plus$com_vzome_core_algebra_AlgebraicNumber(this.field.createRational$long$long(e,t))}},{key:"plus",value:function(e,t){if("number"!==typeof e&&null!==e||"number"!==typeof t&&null!==t){if((null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0)||null===e)&&void 0===t)return this.plus$com_vzome_core_algebra_AlgebraicNumber(e);if("number"!==typeof e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.plus$int(e)}return this.plus$int$int(e,t)}},{key:"plus$com_vzome_core_algebra_AlgebraicNumber",value:function(t){var n=this.field.add(this.factors,t.factors);return new e(this.field,n)}},{key:"minus$int",value:function(e){return 0===e?this:this.minus$com_vzome_core_algebra_AlgebraicNumber(this.field.createRational$long(e))}},{key:"minus$int$int",value:function(e,t){return this.minus$com_vzome_core_algebra_AlgebraicNumber(this.field.createRational$long$long(e,t))}},{key:"minus",value:function(e,t){if("number"!==typeof e&&null!==e||"number"!==typeof t&&null!==t){if((null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0)||null===e)&&void 0===t)return this.minus$com_vzome_core_algebra_AlgebraicNumber(e);if("number"!==typeof e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.minus$int(e)}return this.minus$int$int(e,t)}},{key:"minus$com_vzome_core_algebra_AlgebraicNumber",value:function(t){var n=this.field.subtract(this.factors,t.factors);return new e(this.field,n)}},{key:"times$com_vzome_core_algebra_AlgebraicNumber",value:function(t){var n=this.field.multiply(this.factors,t.factors);return new e(this.field,n)}},{key:"dividedBy$int",value:function(e){return 1===e?this:this.times$com_vzome_core_algebra_AlgebraicNumber(this.field.createRational$long$long(1,e))}},{key:"dividedBy$int$int",value:function(e,t){return this.times$com_vzome_core_algebra_AlgebraicNumber(this.field.createRational$long$long(t,e))}},{key:"dividedBy",value:function(e,t){if("number"!==typeof e&&null!==e||"number"!==typeof t&&null!==t){if((null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0)||null===e)&&void 0===t)return this.dividedBy$com_vzome_core_algebra_AlgebraicNumber(e);if("number"!==typeof e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.dividedBy$int(e)}return this.dividedBy$int$int(e,t)}},{key:"dividedBy$com_vzome_core_algebra_AlgebraicNumber",value:function(t){var n=this.field.reciprocal(t.factors),r=this.field.multiply(this.factors,n);return new e(this.field,r)}},{key:"equals",value:function(e){return java.util.Arrays.equals(this.factors,e.factors)}},{key:"negate",value:function(){var t=this.field.negate(this.factors);return new e(this.field,t)}},{key:"isZero",value:function(){for(var e=0;e<this.factors.length-1;e++)if(0!==this.factors[e])return!1;return!0}},{key:"isOne",value:function(){if(1!==this.factors[0])return!1;if(1!==this.factors[this.factors.length-1])return!1;for(var e=1;e<this.factors.length-1;e++)if(0!==this.factors[e])return!1;return!0}},{key:"reciprocal",value:function(){return new e(this.field,this.field.reciprocal(this.factors))}},{key:"getNumberExpression",value:function(e,t){e.append(this.toString(t))}},{key:"toString",value:function(e){return java.util.Arrays.toString(this.factors)}},{key:"compareTo",value:function(e){return this===e?0:(n=this,((t=e)&&t.equals?t.equals(n):t===n)?0:function(e,t){return e&&e.compareTo?e.compareTo(t):e<t?-1:t<e?1:0}(this.evaluate(),e.evaluate()));var t,n}},{key:"greaterThan",value:function(e){return this.compareTo(e)>0}},{key:"lessThan",value:function(e){return this.compareTo(e)<0}},{key:"greaterThanOrEqualTo",value:function(e){return this.compareTo(e)>=0}},{key:"lessThanOrEqualTo",value:function(e){return this.compareTo(e)<=0}},{key:"signum",value:function(){return 0|javaemul.internal.DoubleHelper.valueOf((e=this.evaluate())>0?1:e<0?-1:0);var e}},{key:"times$int",value:function(e){throw new java.lang.RuntimeException("unimplemented")}},{key:"times$int$int",value:function(e,t){throw new java.lang.RuntimeException("unimplemented")}},{key:"times",value:function(e,t){if("number"!==typeof e&&null!==e||"number"!==typeof t&&null!==t){if((null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0)||null===e)&&void 0===t)return this.times$com_vzome_core_algebra_AlgebraicNumber(e);if("number"!==typeof e&&null!==e||void 0!==t)throw new Error("invalid overload");return this.times$int(e)}return this.times$int$int(e,t)}},{key:"isRational",value:function(){throw new java.lang.RuntimeException("unimplemented")}}]),e}();e.JsAlgebraicNumber=t,t.__class="com.vzome.jsweet.JsAlgebraicNumber",t.__interfaces=["com.vzome.core.algebra.Fields.Element","com.vzome.core.algebra.AlgebraicNumber","java.lang.Comparable"]})((t=e.vzome||(e.vzome={})).jsweet||(t.jsweet={}))}(com||(com={})),function(e){var t;(function(t){var n=function(){function t(n,r,i,o,a){_classCallCheck(this,t),void 0===this.realizedModel&&(this.realizedModel=null),void 0===this.selection&&(this.selection=null),void 0===this.kind&&(this.kind=null),void 0===this.symmetrySegment&&(this.symmetrySegment=null),void 0===this.symmetryCenter&&(this.symmetryCenter=null),void 0===this.symmetries&&(this.symmetries=null),void 0===this.symmetrySystems&&(this.symmetrySystems=null),this.realizedModel=n,this.selection=r,this.kind=i,this.symmetries=o,this.symmetrySystems=a,this.symmetryCenter=new e.vzome.core.construction.FreePoint(n.getField().origin(3))}return _createClass(t,[{key:"setAdapter",value:function(e){this.realizedModel.setAdapter(e),this.selection.setAdapter(e)}},{key:"getRealizedModel",value:function(){return this.realizedModel}},{key:"getSelection",value:function(){return this.selection}},{key:"get4dSymmetries",value:function(){return this.kind}},{key:"getSymmetrySegment",value:function(){return this.symmetrySegment}},{key:"getCenterPoint",value:function(){return this.symmetryCenter}},{key:"hasFailedConstruction",value:function(e){return!1}},{key:"getSymmetrySystem$",value:function(){return this.symmetries}},{key:"getSymmetrySystem$java_lang_String",value:function(e){return this.symmetrySystems[e]}},{key:"getSymmetrySystem",value:function(e){if("string"===typeof e||null===e)return this.getSymmetrySystem$java_lang_String(e);if(void 0===e)return this.getSymmetrySystem$();throw new Error("invalid overload")}},{key:"addFailedConstruction",value:function(e){}},{key:"setCenterPoint",value:function(e){this.symmetryCenter=e}},{key:"setSymmetrySegment",value:function(e){this.symmetrySegment=e}},{key:"getSelectedConstruction",value:function(e){throw new java.lang.RuntimeException("unimplemented")}}]),t}();t.JsEditorModel=n,n.__class="com.vzome.jsweet.JsEditorModel",n.__interfaces=["com.vzome.core.editor.api.EditorModel","com.vzome.core.editor.api.LegacyEditorModel","com.vzome.core.editor.api.ImplicitSymmetryParameters","com.vzome.core.editor.api.SymmetryAware"]})((t=e.vzome||(e.vzome={})).jsweet||(t.jsweet={}))}(com||(com={})),function(e){var t;(function(t){var n=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"mapVectorToJava",value:function(t,n){var r=java.util.stream.Stream.of(t).map(function(t){return new e.vzome.jsweet.JsAlgebraicNumber(n,t)}).toArray();return new e.vzome.core.algebra.AlgebraicVector(r)}},{key:"mapVectorToJavascript",value:function(e){return java.util.stream.Stream.of(e.getComponents()).map(function(e){return e.toTrailingDivisor()}).toArray()}},{key:"getZoneGrid",value:function(n,r){for(var i=new java.util.ArrayList,o=n.getSymmetry().getField(),a=t.mapVectorToJava(r,o),s=new e.vzome.core.math.symmetry.PlaneOrbitSet(n.getOrbits(),a).zones();s.hasNext();){var l=s.next(),u=l.getDirection();if(u.isStandard())for(var c=u.getUnitLength(),f=0;f<5;f++){c=c.times$com_vzome_core_algebra_AlgebraicNumber(o.createPower$int(1));var h=l.normal().scale(c);i.add(t.mapVectorToJavascript(h))}}return i.stream().toArray(function(e){return function(e){for(var t=[];e-- >0;)t.push(null);return t}(e)})}}]),t}();t.JsAdapter=n,n.__class="com.vzome.jsweet.JsAdapter"})((t=e.vzome||(e.vzome={})).jsweet||(t.jsweet={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.kinds.AbstractSymmetryPerspective);var n=_createSuper(r);function r(t){var i;return _classCallCheck(this,r),(i=n.call(this,new e.vzome.core.math.symmetry.OctahedralSymmetry(t))).setDefaultGeometry(new e.vzome.core.viewing.OctahedralShapes("octahedral","octahedra",i.symmetry)),i}return _createClass(r,[{key:"getSymmetry",value:function(){return this.symmetry}},{key:"createToolFactories",value:function(t,n){var r=new java.util.ArrayList;switch(t){case e.vzome.api.Tool.Kind.SYMMETRY:r.add(new e.vzome.core.tools.OctahedralToolFactory(n,this.symmetry)),r.add(new e.vzome.core.tools.TetrahedralToolFactory(n,this.symmetry)),r.add(new e.vzome.core.tools.InversionTool.Factory(n)),r.add(new e.vzome.core.tools.MirrorTool.Factory(n)),r.add(new e.vzome.core.tools.AxialSymmetryToolFactory(n,this.symmetry));break;case e.vzome.api.Tool.Kind.TRANSFORM:r.add(new e.vzome.core.tools.ScalingTool.__com_vzome_core_tools_ScalingTool_Factory(n,this.symmetry)),r.add(new e.vzome.core.tools.RotationTool.__com_vzome_core_tools_RotationTool_Factory(n,this.symmetry)),r.add(new e.vzome.core.tools.TranslationTool.Factory(n)),r.add(new e.vzome.core.tools.ProjectionTool.Factory(n));break;case e.vzome.api.Tool.Kind.LINEAR_MAP:r.add(new e.vzome.core.tools.LinearMapTool.Factory(n,this.symmetry,!1))}return r}},{key:"predefineTools",value:function(t,n){var r=new java.util.ArrayList;switch(t){case e.vzome.api.Tool.Kind.SYMMETRY:r.add(new e.vzome.core.tools.OctahedralToolFactory(n,this.symmetry).createPredefinedTool("octahedral around origin")),r.add(new e.vzome.core.tools.TetrahedralToolFactory(n,this.symmetry).createPredefinedTool("tetrahedral around origin")),r.add(new e.vzome.core.tools.InversionTool.Factory(n).createPredefinedTool("reflection through origin")),r.add(new e.vzome.core.tools.MirrorTool.Factory(n).createPredefinedTool("reflection through XY plane")),r.add(new e.vzome.core.tools.AxialSymmetryToolFactory(n,this.symmetry).createPredefinedTool("symmetry around green through origin"));break;case e.vzome.api.Tool.Kind.TRANSFORM:r.add(new e.vzome.core.tools.ScalingTool.__com_vzome_core_tools_ScalingTool_Factory(n,this.symmetry).createPredefinedTool("scale down")),r.add(new e.vzome.core.tools.ScalingTool.__com_vzome_core_tools_ScalingTool_Factory(n,this.symmetry).createPredefinedTool("scale up")),r.add(new e.vzome.core.tools.RotationTool.__com_vzome_core_tools_RotationTool_Factory(n,this.symmetry).createPredefinedTool("rotate around green through origin")),r.add(new e.vzome.core.tools.TranslationTool.Factory(n).createPredefinedTool("b1 move along +X"))}return r}},{key:"getModelResourcePath",value:function(){return"org/vorthmann/zome/app/octahedral-vef.vZome"}}]),r}();t.OctahedralSymmetryPerspective=n,n.__class="com.vzome.core.kinds.OctahedralSymmetryPerspective",n.__interfaces=["com.vzome.core.editor.FieldApplication.SymmetryPerspective"]})((n=t.core||(t.core={})).kinds||(n.kinds={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.kinds.AbstractSymmetryPerspective);var n=_createSuper(r);function r(t){var i;if(_classCallCheck(this,r),null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicField")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicField")>=0)||null===t){var o=new e.vzome.core.math.symmetry.IcosahedralSymmetry(t);void 0===(i=n.call(this,o)).qSymmH4&&(i.qSymmH4=null),void 0===i.qSymmH4_ROT&&(i.qSymmH4_ROT=null),void 0===i.qSymmT2&&(i.qSymmT2=null),void 0===i.cmdIcosasymm&&(i.cmdIcosasymm=null),void 0===i.cmdTetrasymm&&(i.cmdTetrasymm=null),void 0===i.cmdAxialsymm&&(i.cmdAxialsymm=null),void 0===i.cmdH4symmetry&&(i.cmdH4symmetry=null),void 0===i.cmdH4rotations&&(i.cmdH4rotations=null),void 0===i.cmdIxTsymmetry&&(i.cmdIxTsymmetry=null),void 0===i.cmdTxTsymmetry&&(i.cmdTxTsymmetry=null),void 0===i.cmdVanOss600cell&&(i.cmdVanOss600cell=null),void 0===i.qSymmH4&&(i.qSymmH4=null),void 0===i.qSymmH4_ROT&&(i.qSymmH4_ROT=null),void 0===i.qSymmT2&&(i.qSymmT2=null),void 0===i.cmdIcosasymm&&(i.cmdIcosasymm=null),void 0===i.cmdTetrasymm&&(i.cmdTetrasymm=null),void 0===i.cmdAxialsymm&&(i.cmdAxialsymm=null),void 0===i.cmdH4symmetry&&(i.cmdH4symmetry=null),void 0===i.cmdH4rotations&&(i.cmdH4rotations=null),void 0===i.cmdIxTsymmetry&&(i.cmdIxTsymmetry=null),void 0===i.cmdTxTsymmetry&&(i.cmdTxTsymmetry=null),void 0===i.cmdVanOss600cell&&(i.cmdVanOss600cell=null),function(){var t=new e.vzome.core.viewing.ExportedVEFShapes(null,"default","solid connectors",i.symmetry),n=new e.vzome.core.viewing.ExportedVEFShapes(null,"lifelike","lifelike",i.symmetry,t),r=new e.vzome.core.viewing.ExportedVEFShapes(null,"tiny","tiny connectors",i.symmetry),o=new e.vzome.core.viewing.ExportedVEFShapes(null,"dodecs","small dodecahedra","tiny dodecahedra",i.symmetry,r),a=new e.vzome.core.viewing.ExportedVEFShapes(null,"bigzome","Big Zome",i.symmetry,r),s=new e.vzome.core.viewing.ExportedVEFShapes(null,"noTwist","no-twist 121 zone",i.symmetry,!0),l=new e.vzome.core.viewing.ExportedVEFShapes(null,"vienne2","Vienne",i.symmetry,t),u=new e.vzome.core.viewing.ExportedVEFShapes(null,"vienne3","Vienne lifelike",i.symmetry,l),c=new e.vzome.core.viewing.ExportedVEFShapes(null,"vienne","Vienne 121 zone",i.symmetry,!0);i.addShapes(t),i.addShapes(n),i.addShapes(r),i.addShapes(o),i.addShapes(a),i.addShapes(s),i.addShapes(l),i.addShapes(u),i.addShapes(c),i.setDefaultGeometry(t);var f=i.symmetry.getField();i.qSymmH4=new e.vzome.core.math.symmetry.QuaternionicSymmetry("H_4","com/vzome/core/math/symmetry/H4roots.vef",f),i.qSymmH4_ROT=new e.vzome.core.math.symmetry.QuaternionicSymmetry("H4_ROT","com/vzome/core/math/symmetry/H4roots-rotationalSubgroup.vef",f),i.qSymmT2=new e.vzome.core.math.symmetry.QuaternionicSymmetry("2T","com/vzome/core/math/symmetry/binaryTetrahedralGroup.vef",f),i.cmdIcosasymm=new e.vzome.core.commands.CommandSymmetry(i.symmetry),i.cmdTetrasymm=new e.vzome.core.commands.CommandTetrahedralSymmetry(i.symmetry),i.cmdAxialsymm=new e.vzome.core.commands.CommandAxialSymmetry(i.symmetry),i.cmdH4symmetry=new e.vzome.core.commands.CommandQuaternionSymmetry(i.qSymmH4,i.qSymmH4),i.cmdH4rotations=new e.vzome.core.commands.CommandQuaternionSymmetry(i.qSymmH4_ROT,i.qSymmH4_ROT),i.cmdIxTsymmetry=new e.vzome.core.commands.CommandQuaternionSymmetry(i.qSymmH4,i.qSymmT2),i.cmdTxTsymmetry=new e.vzome.core.commands.CommandQuaternionSymmetry(i.qSymmT2,i.qSymmT2),i.cmdVanOss600cell=new e.vzome.core.commands.CommandVanOss600Cell}()}else{if(!(null!=t&&t instanceof e.vzome.core.math.symmetry.IcosahedralSymmetry||null===t))throw new Error("invalid overload");var a=arguments[0];void 0===(i=n.call(this,a)).qSymmH4&&(i.qSymmH4=null),void 0===i.qSymmH4_ROT&&(i.qSymmH4_ROT=null),void 0===i.qSymmT2&&(i.qSymmT2=null),void 0===i.cmdIcosasymm&&(i.cmdIcosasymm=null),void 0===i.cmdTetrasymm&&(i.cmdTetrasymm=null),void 0===i.cmdAxialsymm&&(i.cmdAxialsymm=null),void 0===i.cmdH4symmetry&&(i.cmdH4symmetry=null),void 0===i.cmdH4rotations&&(i.cmdH4rotations=null),void 0===i.cmdIxTsymmetry&&(i.cmdIxTsymmetry=null),void 0===i.cmdTxTsymmetry&&(i.cmdTxTsymmetry=null),void 0===i.cmdVanOss600cell&&(i.cmdVanOss600cell=null),void 0===i.qSymmH4&&(i.qSymmH4=null),void 0===i.qSymmH4_ROT&&(i.qSymmH4_ROT=null),void 0===i.qSymmT2&&(i.qSymmT2=null),void 0===i.cmdIcosasymm&&(i.cmdIcosasymm=null),void 0===i.cmdTetrasymm&&(i.cmdTetrasymm=null),void 0===i.cmdAxialsymm&&(i.cmdAxialsymm=null),void 0===i.cmdH4symmetry&&(i.cmdH4symmetry=null),void 0===i.cmdH4rotations&&(i.cmdH4rotations=null),void 0===i.cmdIxTsymmetry&&(i.cmdIxTsymmetry=null),void 0===i.cmdTxTsymmetry&&(i.cmdTxTsymmetry=null),void 0===i.cmdVanOss600cell&&(i.cmdVanOss600cell=null),function(){var t=new e.vzome.core.viewing.ExportedVEFShapes(null,"default","solid connectors",i.symmetry),n=new e.vzome.core.viewing.ExportedVEFShapes(null,"lifelike","lifelike",i.symmetry,t),r=new e.vzome.core.viewing.ExportedVEFShapes(null,"tiny","tiny connectors",i.symmetry),o=new e.vzome.core.viewing.ExportedVEFShapes(null,"dodecs","small dodecahedra","tiny dodecahedra",i.symmetry,r),a=new e.vzome.core.viewing.ExportedVEFShapes(null,"bigzome","Big Zome",i.symmetry,r),s=new e.vzome.core.viewing.ExportedVEFShapes(null,"noTwist","no-twist 121 zone",i.symmetry,!0),l=new e.vzome.core.viewing.ExportedVEFShapes(null,"vienne2","Vienne",i.symmetry,t),u=new e.vzome.core.viewing.ExportedVEFShapes(null,"vienne3","Vienne lifelike",i.symmetry,l),c=new e.vzome.core.viewing.ExportedVEFShapes(null,"vienne","Vienne 121 zone",i.symmetry,!0);i.addShapes(t),i.addShapes(n),i.addShapes(r),i.addShapes(o),i.addShapes(a),i.addShapes(s),i.addShapes(l),i.addShapes(u),i.addShapes(c),i.setDefaultGeometry(t);var f=i.symmetry.getField();i.qSymmH4=new e.vzome.core.math.symmetry.QuaternionicSymmetry("H_4","com/vzome/core/math/symmetry/H4roots.vef",f),i.qSymmH4_ROT=new e.vzome.core.math.symmetry.QuaternionicSymmetry("H4_ROT","com/vzome/core/math/symmetry/H4roots-rotationalSubgroup.vef",f),i.qSymmT2=new e.vzome.core.math.symmetry.QuaternionicSymmetry("2T","com/vzome/core/math/symmetry/binaryTetrahedralGroup.vef",f),i.cmdIcosasymm=new e.vzome.core.commands.CommandSymmetry(i.symmetry),i.cmdTetrasymm=new e.vzome.core.commands.CommandTetrahedralSymmetry(i.symmetry),i.cmdAxialsymm=new e.vzome.core.commands.CommandAxialSymmetry(i.symmetry),i.cmdH4symmetry=new e.vzome.core.commands.CommandQuaternionSymmetry(i.qSymmH4,i.qSymmH4),i.cmdH4rotations=new e.vzome.core.commands.CommandQuaternionSymmetry(i.qSymmH4_ROT,i.qSymmH4_ROT),i.cmdIxTsymmetry=new e.vzome.core.commands.CommandQuaternionSymmetry(i.qSymmH4,i.qSymmT2),i.cmdTxTsymmetry=new e.vzome.core.commands.CommandQuaternionSymmetry(i.qSymmT2,i.qSymmT2),i.cmdVanOss600cell=new e.vzome.core.commands.CommandVanOss600Cell}()}return _possibleConstructorReturn(i)}return _createClass(r,[{key:"getSymmetry",value:function(){return this.symmetry}},{key:"createToolFactories",value:function(t,n){var r=new java.util.ArrayList,i=this.getSymmetry();switch(t){case e.vzome.api.Tool.Kind.SYMMETRY:r.add(new e.vzome.core.tools.IcosahedralToolFactory(n,i)),r.add(new e.vzome.core.tools.TetrahedralToolFactory(n,i)),r.add(new e.vzome.core.tools.InversionTool.Factory(n)),r.add(new e.vzome.core.tools.MirrorTool.Factory(n)),r.add(new e.vzome.core.tools.AxialSymmetryToolFactory(n,i));break;case e.vzome.api.Tool.Kind.TRANSFORM:r.add(new e.vzome.core.tools.ScalingTool.__com_vzome_core_tools_ScalingTool_Factory(n,i)),r.add(new e.vzome.core.tools.RotationTool.__com_vzome_core_tools_RotationTool_Factory(n,i)),r.add(new e.vzome.core.tools.TranslationTool.Factory(n)),r.add(new e.vzome.core.tools.ProjectionTool.Factory(n));break;case e.vzome.api.Tool.Kind.LINEAR_MAP:r.add(new e.vzome.core.tools.AxialStretchTool.Factory(n,i,!0,!0,!0)),r.add(new e.vzome.core.tools.AxialStretchTool.Factory(n,i,!0,!1,!0)),r.add(new e.vzome.core.tools.AxialStretchTool.Factory(n,i,!0,!0,!1)),r.add(new e.vzome.core.tools.AxialStretchTool.Factory(n,i,!0,!1,!1)),r.add(new e.vzome.core.tools.AxialStretchTool.Factory(n,i,!1,!0,!1)),r.add(new e.vzome.core.tools.AxialStretchTool.Factory(n,i,!1,!1,!1)),r.add(new e.vzome.core.tools.LinearMapTool.Factory(n,i,!1))}return r}},{key:"predefineTools",value:function(t,n){var r=new java.util.ArrayList,i=this.getSymmetry();switch(t){case e.vzome.api.Tool.Kind.SYMMETRY:r.add(new e.vzome.core.tools.IcosahedralToolFactory(n,i).createPredefinedTool("icosahedral around origin")),r.add(new e.vzome.core.tools.TetrahedralToolFactory(n,i).createPredefinedTool("tetrahedral around origin")),r.add(new e.vzome.core.tools.InversionTool.Factory(n).createPredefinedTool("reflection through origin")),r.add(new e.vzome.core.tools.MirrorTool.Factory(n).createPredefinedTool("reflection through XY plane")),r.add(new e.vzome.core.tools.AxialSymmetryToolFactory(n,i).createPredefinedTool("symmetry around red through origin"));break;case e.vzome.api.Tool.Kind.TRANSFORM:r.add(new e.vzome.core.tools.ScalingTool.__com_vzome_core_tools_ScalingTool_Factory(n,i).createPredefinedTool("scale down")),r.add(new e.vzome.core.tools.ScalingTool.__com_vzome_core_tools_ScalingTool_Factory(n,i).createPredefinedTool("scale up")),r.add(new e.vzome.core.tools.RotationTool.__com_vzome_core_tools_RotationTool_Factory(n,i).createPredefinedTool("rotate around red through origin")),r.add(new e.vzome.core.tools.TranslationTool.Factory(n).createPredefinedTool("b1 move along +X"))}return r}},{key:"getLegacyCommand",value:function(e){switch(e){case"icosasymm":return this.cmdIcosasymm;case"tetrasymm":return this.cmdTetrasymm;case"axialsymm":return this.cmdAxialsymm;case"h4symmetry":return this.cmdH4symmetry;case"h4rotations":return this.cmdH4rotations;case"IxTsymmetry":return this.cmdIxTsymmetry;case"TxTsymmetry":return this.cmdTxTsymmetry;case"vanOss600cell":return this.cmdVanOss600cell;default:return _get(_getPrototypeOf(r.prototype),"getLegacyCommand",this).call(this,e)}}},{key:"getQuaternionSymmetry",value:function(e){switch(e){case"H_4":return this.qSymmH4;case"H4_ROT":return this.qSymmH4_ROT;case"2T":return this.qSymmT2;default:return null}}},{key:"getModelResourcePath",value:function(){return"org/vorthmann/zome/app/icosahedral-vef.vZome"}}]),r}();t.IcosahedralSymmetryPerspective=n,n.__class="com.vzome.core.kinds.IcosahedralSymmetryPerspective",n.__interfaces=["com.vzome.core.editor.FieldApplication.SymmetryPerspective"]})((n=t.core||(t.core={})).kinds||(n.kinds={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.kinds.DefaultFieldApplication);var n=_createSuper(r);function r(t){var i,o;_classCallCheck(this,r),void 0===(o=n.call(this,t)).icosahedralPerspective&&(o.icosahedralPerspective=null),o.h4Builder=null,o.cmdTauDivide=new e.vzome.core.commands.CommandTauDivision,o.icosahedralPerspective=new e.vzome.core.kinds.IcosahedralSymmetryPerspective(o.getField());var a=_get((i=_assertThisInitialized(o),_getPrototypeOf(r.prototype)),"getDefaultSymmetryPerspective",i).call(i),s=a.getSymmetry();s.createZoneOrbit$java_lang_String$int$int$int_A_A$boolean$boolean$com_vzome_core_algebra_AlgebraicNumber("yellow",0,4,[[0,1,1,1],[0,1,1,1],[0,1,1,1]],!0,!1,o.getField().createPower$int(-1)),s.createZoneOrbit$java_lang_String$int$int$int_A_A$boolean$boolean$com_vzome_core_algebra_AlgebraicNumber("green",1,8,[[1,1,0,1],[1,1,0,1],[0,1,0,1]],!0,!0,o.getField().createRational$long(2)),s.createZoneOrbit$java_lang_String$int$int$int_A_A("lavender",0,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,[[2,1,-1,1],[0,1,1,1],[2,1,-1,1]]),s.createZoneOrbit$java_lang_String$int$int$int_A_A("olive",0,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,[[0,1,1,1],[0,1,1,1],[2,1,-1,1]]),s.createZoneOrbit$java_lang_String$int$int$int_A_A("maroon",0,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,[[-1,1,1,1],[3,1,-1,1],[1,1,-1,1]]),s.createZoneOrbit$java_lang_String$int$int$int_A_A("brown",0,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,[[-1,1,1,1],[-1,1,1,1],[-2,1,2,1]]),s.createZoneOrbit$java_lang_String$int$int$int_A_A("red",0,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,[[0,1,1,1],[1,1,0,1],[0,1,0,1]]),s.createZoneOrbit$java_lang_String$int$int$int_A_A$boolean$boolean$com_vzome_core_algebra_AlgebraicNumber("purple",0,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,[[1,1,1,1],[0,1,0,1],[-1,1,0,1]],!1,!1,o.getField().createPower$int(-1)),s.createZoneOrbit$java_lang_String$int$int$int_A_A$boolean$boolean$com_vzome_core_algebra_AlgebraicNumber("black",0,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,[[1,2,0,1],[0,1,1,2],[-1,2,1,2]],!1,!1,o.getField().createRational$long(2)),s.createZoneOrbit$java_lang_String$int$int$int_A_A("turquoise",0,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,[[1,1,2,1],[3,1,4,1],[3,1,4,1]]);var l=new e.vzome.core.viewing.ExportedVEFShapes(null,"octahedral","trapezoids",s,null);return a.setDefaultGeometry(l),a.addShapes(new e.vzome.core.viewing.ExportedVEFShapes(null,"octahedralFast","small octahedra",s,null)),a.addShapes(new e.vzome.core.viewing.ExportedVEFShapes(null,"octahedralRealistic","vZome logo",s,l)),o}return _createClass(r,[{key:"getSymmetryPerspectives",value:function(){return java.util.Arrays.asList(this.icosahedralPerspective,_get(_getPrototypeOf(r.prototype),"getDefaultSymmetryPerspective",this).call(this))}},{key:"getDefaultSymmetryPerspective",value:function(){return this.icosahedralPerspective}},{key:"getSymmetryPerspective",value:function(e){switch(e){case"icosahedral":return this.icosahedralPerspective;default:return _get(_getPrototypeOf(r.prototype),"getSymmetryPerspective",this).call(this,e)}}},{key:"getQuaternionSymmetry",value:function(e){return this.icosahedralPerspective.getQuaternionSymmetry(e)}},{key:"registerToolFactories",value:function(t,n){_get(_getPrototypeOf(r.prototype),"registerToolFactories",this).call(this,t,n);var i=this.icosahedralPerspective.getSymmetry();t.put("AxialStretchTool",new e.vzome.core.tools.AxialStretchTool.Factory(n,i,!1,!1,!1)),t.put("SymmetryTool",new e.vzome.core.tools.IcosahedralToolFactory(n,i))}},{key:"constructPolytope",value:function(t,n,i,o,a){switch(t){case"H4":if(null==this.h4Builder){var s=new e.vzome.core.math.symmetry.QuaternionicSymmetry("H_4","com/vzome/core/math/symmetry/H4roots.vef",this.getField());this.h4Builder=new e.vzome.core.commands.CommandUniformH4Polytope(this.getField(),s,0)}this.h4Builder.generate(n,i,o,a);break;default:_get(_getPrototypeOf(r.prototype),"constructPolytope",this).call(this,t,n,i,o,a)}}},{key:"getLegacyCommand",value:function(e){switch(e){case"tauDivide":return this.cmdTauDivide;default:return _get(_getPrototypeOf(r.prototype),"getLegacyCommand",this).call(this,e)}}}]),r}();t.GoldenFieldApplication=n,n.__class="com.vzome.core.kinds.GoldenFieldApplication",n.__interfaces=["com.vzome.core.math.symmetry.Symmetries4D","com.vzome.core.editor.FieldApplication"]})((n=t.core||(t.core={})).kinds||(n.kinds={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.viewing.AbstractShapes);var n=_createSuper(r);function r(e,t,i){return _classCallCheck(this,r),n.call(this,e,t,null,i)}return _createClass(r,[{key:"buildConnectorShape",value:function(t){var n=this.mSymmetry.getField(),r=new e.vzome.core.math.Polyhedron(n),i=n.createPower$int(-2);i=n.createRational$long(2).times$com_vzome_core_algebra_AlgebraicNumber(i);var o=n.basisVector(3,e.vzome.core.algebra.AlgebraicVector.X),a=n.basisVector(3,e.vzome.core.algebra.AlgebraicVector.Y),s=n.basisVector(3,e.vzome.core.algebra.AlgebraicVector.Z);r.addVertex(o.scale(i)),r.addVertex(o.negate().scale(i)),r.addVertex(a.scale(i)),r.addVertex(a.negate().scale(i)),r.addVertex(s.scale(i)),r.addVertex(s.negate().scale(i));var l=r.newFace();return l.add(0),l.add(2),l.add(4),r.addFace(l),(l=r.newFace()).add(0),l.add(5),l.add(2),r.addFace(l),(l=r.newFace()).add(0),l.add(3),l.add(5),r.addFace(l),(l=r.newFace()).add(0),l.add(4),l.add(3),r.addFace(l),(l=r.newFace()).add(1),l.add(4),l.add(2),r.addFace(l),(l=r.newFace()).add(1),l.add(2),l.add(5),r.addFace(l),(l=r.newFace()).add(1),l.add(5),l.add(3),r.addFace(l),(l=r.newFace()).add(1),l.add(3),l.add(4),r.addFace(l),r}}]),r}();t.OctahedralShapes=n,n.__class="com.vzome.core.viewing.OctahedralShapes",n.__interfaces=["com.vzome.core.editor.api.Shapes"]})((n=t.core||(t.core={})).viewing||(n.viewing={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){var t;(function(t){var n;!function(t){var n=function(t){_inherits(r,e.vzome.core.math.symmetry.AbstractSymmetry);var n=_createSuper(r);function r(t){var i;_classCallCheck(this,r),(i=n.call(this,60,t,"blue")).INCIDENCES=function e(t){if(0==t.length)return 0;for(var n=[],r=0;r<t[0];r++)n.push(e(t.slice(1)));return n}([60,3]),i.IDENTITY=new e.vzome.core.math.symmetry.Permutation(_assertThisInitialized(i),null),void 0===i.preferredAxis&&(i.preferredAxis=null),i.tetrahedralSubgroup=[null,null,null,null,null],i.blueTetrahedral=function(e){for(var t=[];e-- >0;)t.push(0);return t}(60),i.greenTetrahedral=function(e){for(var t=[];e-- >0;)t.push(0);return t}(60),i.yellowTetrahedral=function(e){for(var t=[];e-- >0;)t.push(0);return t}(60);for(var o=0;o<i.INCIDENCES.length;o++)i.INCIDENCES[o][0]=i.getPermutation(o).mapIndex(30),i.INCIDENCES[o][1]=i.getPermutation(o).mapIndex(45),i.INCIDENCES[o][2]=i.getPermutation(o).mapIndex(42);i.tetrahedralSubgroup[0]=i.closure([1,15]),i.tetrahedralSubgroup[1]=i.closure([11,20]),i.tetrahedralSubgroup[2]=i.closure([27,58]),i.tetrahedralSubgroup[3]=i.closure([17,4]),i.tetrahedralSubgroup[4]=i.closure([55,14]);for(var a=i.getDirection("blue"),s=i.getDirection("yellow"),l=0;l<60;l++)for(var u=a.getAxis$int$int(e.vzome.core.math.symmetry.Symmetry.PLUS,l),c=s.getAxis$int$int(e.vzome.core.math.symmetry.Symmetry.PLUS,l),f=0;f<i.tetrahedralSubgroup.length;f++)for(var h=0;h<i.tetrahedralSubgroup[f].length;h++)i.tetrahedralSubgroup[f][h]===u.getRotation()&&(i.blueTetrahedral[l]=f),i.tetrahedralSubgroup[f][h]===c.getRotation()&&(i.yellowTetrahedral[l]=f);for(var d=[6,9,12,0,3],p=0;p<i.tetrahedralSubgroup.length;p++)for(var m=d[p],v=0;v<i.tetrahedralSubgroup[p].length;v++){var g=i.mOrientations[i.tetrahedralSubgroup[p][v]].mapIndex(m);i.greenTetrahedral[g]=p}return i}return _createClass(r,[{key:"getIncidentOrientations",value:function(e){return this.INCIDENCES[e]}},{key:"createBlueAxes",value:function(t,n,r,i){for(var o=0,a=[!1,!1,!1],s=0;s<3;s++){for(var l=0;l<2;l++){for(var u=0;u<2;u++){var c=this.mOrientations[o].mapIndex(n);if(null==t.getAxis$int$int(e.vzome.core.math.symmetry.Symmetry.PLUS,c)){for(var f=this.mOrientations[o].mapIndex(r),h=this.getMapping(c,f),d=this.mField.origin(3),p=0;p<3;p++){var m=(p+3-s)%3;a[p]?d.setComponent(p,i.getComponent(m).negate()):d.setComponent(p,i.getComponent(m))}t.createAxis$int$int$com_vzome_core_algebra_AlgebraicVector(c,h,d),t.createAxis$int$int$com_vzome_core_algebra_AlgebraicVector(f,h,d)}o=this.mOrientations[45].mapIndex(o),a[0]=!a[0],a[2]=!a[2]}o=this.mOrientations[15].mapIndex(o),a[1]=!a[1],a[2]=!a[2]}o=this.mOrientations[1].mapIndex(o)}}},{key:"getName",value:function(){return"icosahedral"}},{key:"getOrbitTriangle",value:function(){var e=this.mField.createRational$long(2),t=this.getDirection("blue").getPrototype().scale(e),n=this.getDirection("red").getPrototype(),r=this.mField.getGoldenRatio().reciprocal();return[t,n,this.getDirection("yellow").getPrototype().scale(r)]}},{key:"getSpecialOrbit",value:function(t){switch(t){case e.vzome.core.math.symmetry.Symmetry.SpecialOrbit.BLUE:return this.getDirection("blue");case e.vzome.core.math.symmetry.Symmetry.SpecialOrbit.RED:return this.getDirection("red");case e.vzome.core.math.symmetry.Symmetry.SpecialOrbit.YELLOW:return this.getDirection("yellow");default:return this.getDirection("black")}}},{key:"createFrameOrbit",value:function(t){var n=this.mField.basisVector(3,e.vzome.core.algebra.AlgebraicVector.X),r=this.createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector$boolean$boolean$com_vzome_core_algebra_AlgebraicNumber(t,0,15,n,!0,!0,this.mField.createRational$long(2));r.setScaleNames(["b0","b1","b2","b3"]),this.createBlueAxes(r,0,15,n),this.createBlueAxes(r,9,13,this.mField.createVector([[1,2,0,1],[0,1,1,2],[-1,2,1,2]])),this.createBlueAxes(r,6,49,this.mField.createVector([[1,2,0,1],[0,1,1,2],[1,2,-1,2]]));for(var i=0;i<this.mOrientations.length;i++){var o=this.mOrientations[i].mapIndex(0),a=this.mOrientations[i].mapIndex(1),s=this.mOrientations[i].mapIndex(2);this.mMatrices[i]=new e.vzome.core.algebra.AlgebraicMatrix(r.getAxis$int$int(e.vzome.core.math.symmetry.Symmetry.PLUS,o).normal(),r.getAxis$int$int(e.vzome.core.math.symmetry.Symmetry.PLUS,a).normal(),r.getAxis$int$int(e.vzome.core.math.symmetry.Symmetry.PLUS,s).normal());var l=r.getAxis$int$int(e.vzome.core.math.symmetry.Symmetry.PLUS,i);if(!this.mMatrices[i].timesColumn(n).equals(l.normal()))throw new java.lang.IllegalStateException("matrix wrong: "+i)}}},{key:"getPreferredAxis",value:function(){return this.preferredAxis}},{key:"createOtherOrbits",value:function(){var t;(t=this.createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector$boolean("red",0,3,this.mField.createVector([[0,1,1,1],[1,1,0,1],[0,1,0,1]]),!0)).setScaleNames(["r0","r1","r2","r3"]),this.preferredAxis=t.getAxis$int$int(e.vzome.core.math.symmetry.Symmetry.PLUS,1),(t=this.createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector$boolean$boolean$com_vzome_core_algebra_AlgebraicNumber("yellow",0,27,this.mField.createVector([[1,1,1,1],[0,1,0,1],[-1,1,0,1]]),!0,!1,this.mField.createPower$int(-1))).setScaleNames(["y0","y1","y2","y3"]),(t=this.createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector$boolean$boolean$com_vzome_core_algebra_AlgebraicNumber("green",6,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,this.mField.createVector([[1,1,0,1],[1,1,0,1],[0,1,0,1]]),!0,!0,this.mField.createRational$long(2))).setScaleNames(["g0","g1","g2","g3"]),this.createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector("orange",6,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,this.mField.createVector([[1,1,0,1],[0,1,1,1],[0,1,0,1]])),this.createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector$boolean$boolean$com_vzome_core_algebra_AlgebraicNumber("purple",0,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,this.mField.createVector([[1,1,1,1],[1,1,0,1],[0,1,0,1]]),!1,!1,this.mField.createPower$int(-1)),this.createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector("black",3,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,this.mField.createVector([[0,1,1,1],[1,1,0,1],[1,1,-1,1]])),this.createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector("lavender",0,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,this.mField.createVector([[2,1,-1,1],[0,1,1,1],[2,1,-1,1]])).withCorrection(),this.createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector("olive",0,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,this.mField.createVector([[0,1,1,1],[0,1,1,1],[2,1,-1,1]])).withCorrection(),this.createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector("maroon",0,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,this.mField.createVector([[-1,1,1,1],[3,1,-1,1],[1,1,-1,1]])).withCorrection(),this.createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector("rose",0,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,this.mField.createVector([[2,1,-1,1],[-1,1,2,1],[0,1,0,1]])).withCorrection(),this.createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector$boolean$boolean$com_vzome_core_algebra_AlgebraicNumber("navy",0,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,this.mField.createVector([[-1,1,2,1],[1,1,1,1],[0,1,0,1]]),!1,!1,this.mField.createPower$int(-1)).withCorrection(),this.createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector("turquoise",0,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,this.mField.createVector([[2,1,0,1],[2,1,-1,1],[-3,1,2,1]])).withCorrection(),this.createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector("coral",0,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,this.mField.createVector([[-3,1,3,1],[0,1,0,1],[1,1,0,1]])).withCorrection(),this.createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector("sulfur",0,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,this.mField.createVector([[-3,1,3,1],[2,1,-1,1],[0,1,0,1]])).withCorrection(),this.createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector("sand",0,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,this.mField.createVector([[-2,1,2,1],[-2,1,2,1],[2,1,0,1]])).withCorrection(),this.createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector("apple",0,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,this.mField.createVector([[5,1,-3,1],[1,1,0,1],[0,1,1,1]])).withCorrection(),this.createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector("cinnamon",0,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,this.mField.createVector([[5,1,-3,1],[2,1,-1,1],[2,1,0,1]])).withCorrection(),this.createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector("spruce",0,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,this.mField.createVector([[-3,1,2,1],[-3,1,2,1],[5,1,-2,1]])).withCorrection(),this.createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector("brown",0,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,this.mField.createVector([[-1,1,1,1],[-1,1,1,1],[-2,1,2,1]])).withCorrection()}},{key:"createInitialPermutations",value:function(){this.mOrientations[0]=this.IDENTITY;for(var t=function(e){for(var t=[];e-- >0;)t.push(0);return t}(60),n=0;n<15;n++)t[n]=n+15,t[n+15]=n,t[n+30]=n+45,t[n+45]=n+30;this.mOrientations[15]=new e.vzome.core.math.symmetry.Permutation(this,t),t=function(e){for(var t=[];e-- >0;)t.push(0);return t}(60);for(var r=[[0,1,2],[15,46,32],[16,47,30],[17,45,31]],i=0;i<r.length;i++)for(var o=r[i],a=0;a<o.length;a++)for(var s=0;s<5;s++)t[o[a]+3*s]=o[(a+1)%3]+3*s;this.mOrientations[1]=new e.vzome.core.math.symmetry.Permutation(this,t),t=function(e){for(var t=[];e-- >0;)t.push(0);return t}(60);for(var l=[[0,3,6,9,12],[30,42,39,36,33],[2,21,29,55,4],[5,24,17,58,7],[8,27,20,46,10],[11,15,23,49,13],[1,14,18,26,52],[16,50,57,38,40],[19,53,45,41,43],[22,56,48,44,31],[25,59,51,32,34],[28,47,54,35,37]],u=0;u<l.length;u++)for(var c=l[u],f=0;f<c.length;f++)t[c[f]]=c[(f+1)%5];this.mOrientations[3]=new e.vzome.core.math.symmetry.Permutation(this,t)}},{key:"subgroup$java_lang_String",value:function(t){return n=e.vzome.core.math.symmetry.Symmetry.TETRAHEDRAL,r=t,(n&&n.equals?n.equals(r):n===r)?this.tetrahedralSubgroup[0]:null;var n,r}},{key:"getDirection",value:function(e){var t,n;return n=e,((t="spring").equals?t.equals(n):t===n)&&(e="apple"),function(e,t){return e.equals?e.equals(t):e===t}("tan",e)&&(e="sand"),_get(_getPrototypeOf(r.prototype),"getDirection",this).call(this,e)}},{key:"subgroup$java_lang_String$com_vzome_core_math_symmetry_Axis",value:function(e,t){return this.subgroup$java_lang_String$com_vzome_core_math_symmetry_Axis$boolean(e,t,!0)}},{key:"subgroup$java_lang_String$com_vzome_core_math_symmetry_Axis$boolean",value:function(e,t,n){var r,i=t.getOrientation(),o=t.getDirection().getName();if((r=o)&&r.equals?r.equals("blue"):"blue"===r){var a=this.blueTetrahedral[i];return this.tetrahedralSubgroup[a]}if(function(e,t){return e&&e.equals?e.equals("green"):"green"===e}(o)){var s=this.greenTetrahedral[i];return this.tetrahedralSubgroup[s]}if(n&&function(e,t){return e&&e.equals?e.equals("yellow"):"yellow"===e}(o)){var l=this.yellowTetrahedral[i];return this.tetrahedralSubgroup[l]}return null}},{key:"subgroup",value:function(t,n,r){if("string"!==typeof t&&null!==t||!(null!=n&&n instanceof e.vzome.core.math.symmetry.Axis||null===n)||"boolean"!==typeof r&&null!==r){if("string"!==typeof t&&null!==t||!(null!=n&&n instanceof e.vzome.core.math.symmetry.Axis||null===n)||void 0!==r){if("string"!==typeof t&&null!==t||void 0!==n||void 0!==r)throw new Error("invalid overload");return this.subgroup$java_lang_String(t)}return this.subgroup$java_lang_String$com_vzome_core_math_symmetry_Axis(t,n)}return this.subgroup$java_lang_String$com_vzome_core_math_symmetry_Axis$boolean(t,n,r)}},{key:"blueTetrahedralFromGreen",value:function(e){for(var t=this.greenTetrahedral[e],n=0;n<this.blueTetrahedral.length;n++)if(this.blueTetrahedral[n]===t)return n;return 0}}]),r}();t.IcosahedralSymmetry=n,n.__class="com.vzome.core.math.symmetry.IcosahedralSymmetry",n.__interfaces=["com.vzome.core.math.symmetry.Symmetry","java.lang.Iterable","com.vzome.core.math.symmetry.Embedding"]}((n=t.math||(t.math={})).symmetry||(n.symmetry={}))})((t=e.vzome||(e.vzome={})).core||(t.core={}))}(com||(com={})),function(e){var t;(function(t){var n;!function(t){var n=function(t){_inherits(r,e.vzome.core.math.symmetry.AbstractSymmetry);var n=_createSuper(r);function r(t,i){var o;if(_classCallCheck(this,r),!(null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicField")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicField")>=0)||null===t)||"string"!==typeof i&&null!==i){if(!(null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicField")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicField")>=0)||null===t)||void 0!==i)throw new Error("invalid overload");void 0===(o=n.call(this,r.ORDER,t,"blue")).frameColor&&(o.frameColor=null),void 0===o.tetrahedralSubgroup&&(o.tetrahedralSubgroup=null),o.IDENTITY=new e.vzome.core.math.symmetry.Permutation(_assertThisInitialized(o),null),void 0===o.frameColor&&(o.frameColor=null),void 0===o.tetrahedralSubgroup&&(o.tetrahedralSubgroup=null),o.frameColor="blue",o.tetrahedralSubgroup=o.closure([0,2,4])}else void 0===(o=n.call(this,r.ORDER,t,i)).frameColor&&(o.frameColor=null),void 0===o.tetrahedralSubgroup&&(o.tetrahedralSubgroup=null),o.IDENTITY=new e.vzome.core.math.symmetry.Permutation(_assertThisInitialized(o),null),void 0===o.frameColor&&(o.frameColor=null),void 0===o.tetrahedralSubgroup&&(o.tetrahedralSubgroup=null),o.frameColor=i,o.tetrahedralSubgroup=o.closure([0,2,4]);return _possibleConstructorReturn(o)}return _createClass(r,[{key:"getSpecialOrbit",value:function(t){switch(t){case e.vzome.core.math.symmetry.Symmetry.SpecialOrbit.BLUE:return this.getDirection(this.frameColor);case e.vzome.core.math.symmetry.Symmetry.SpecialOrbit.RED:return this.getDirection("green");case e.vzome.core.math.symmetry.Symmetry.SpecialOrbit.YELLOW:return this.getDirection("yellow");default:return null}}},{key:"reverseOrbitTriangle",value:function(){return!0}},{key:"getOrbitTriangle",value:function(){return[this.getDirection("green").getPrototype(),this.getDirection("blue").getPrototype(),this.getDirection("yellow").getPrototype()]}},{key:"createInitialPermutations",value:function(){this.mOrientations[0]=this.IDENTITY;for(var t=function(e){for(var t=[];e-- >0;)t.push(0);return t}(r.ORDER),n=0;n<6;n++)for(var i=0;i<4;i++)t[4*n+i]=4*n+(i+1)%4;this.mOrientations[1]=new e.vzome.core.math.symmetry.Permutation(this,t),t=function(e){for(var t=[];e-- >0;)t.push(0);return t}(r.ORDER);for(var o=[[0,4,8],[1,11,17],[2,16,22],[3,21,5],[6,20,14],[7,13,9],[10,12,18],[19,15,23]],a=0;a<o.length;a++)for(var s=o[a],l=0;l<s.length;l++)t[s[l]]=s[(l+1)%3];this.mOrientations[4]=new e.vzome.core.math.symmetry.Permutation(this,t),t=function(e){for(var t=[];e-- >0;)t.push(0);return t}(r.ORDER),o=[[0,5],[1,8],[4,9],[15,20],[12,19],[16,23],[2,17],[13,10],[21,6],[22,3],[7,14],[11,18]];for(var u=0;u<o.length;u++)for(var c=o[u],f=0;f<c.length;f++)t[c[f]]=c[(f+1)%2];this.mOrientations[5]=new e.vzome.core.math.symmetry.Permutation(this,t)}},{key:"createOtherOrbits",value:function(){var t=this.mField.basisVector(3,e.vzome.core.algebra.AlgebraicVector.X),n=this.mField.basisVector(3,e.vzome.core.algebra.AlgebraicVector.Y),r=this.mField.basisVector(3,e.vzome.core.algebra.AlgebraicVector.Z),i=t.plus(n);this.createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector$boolean("green",1,8,i,!0);var o=i.plus(r);this.createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector$boolean("yellow",0,4,o,!0)}},{key:"createFrameOrbit",value:function(t){var n,i=this.mField.basisVector(3,e.vzome.core.algebra.AlgebraicVector.X),o=this.mField.basisVector(3,e.vzome.core.algebra.AlgebraicVector.Y),a=this.mField.basisVector(3,e.vzome.core.algebra.AlgebraicVector.Z);n=this.mField.doubleFrameVectors()?this.createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector$boolean$boolean$com_vzome_core_algebra_AlgebraicNumber(t,0,1,i,!0,!0,this.mField.createRational$long(2)):this.createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector$boolean(t,0,1,i,!0),this.createBasisAxes(n,i,0),this.createBasisAxes(n,i.negate(),12),this.createBasisAxes(n,o,5),this.createBasisAxes(n,o.negate(),7),this.createBasisAxes(n,a,4),this.createBasisAxes(n,a.negate(),6);for(var s=0;s<r.ORDER;s++){var l=this.mOrientations[s].mapIndex(0),u=this.mOrientations[s].mapIndex(8),c=this.mOrientations[s].mapIndex(4);this.mMatrices[s]=new e.vzome.core.algebra.AlgebraicMatrix(n.getAxis$int$int(e.vzome.core.math.symmetry.Symmetry.PLUS,l).normal(),n.getAxis$int$int(e.vzome.core.math.symmetry.Symmetry.PLUS,u).normal(),n.getAxis$int$int(e.vzome.core.math.symmetry.Symmetry.PLUS,c).normal());var f=n.getAxis$int$int(e.vzome.core.math.symmetry.Symmetry.PLUS,s);if(!this.mMatrices[s].timesColumn(i).equals(f.normal()))throw new java.lang.IllegalStateException("matrix wrong: "+s)}}},{key:"createBasisAxes",value:function(e,t,n){for(var r=0;r<4;r++){var i=this.mOrientations[n].mapIndex(r),o=this.mOrientations[n].mapIndex((r+1)%4),a=this.getMapping(i,o);e.createAxis$int$int$com_vzome_core_algebra_AlgebraicVector(i,a,t)}}},{key:"getName",value:function(){return"octahedral"}},{key:"subgroup",value:function(t){return n=e.vzome.core.math.symmetry.Symmetry.TETRAHEDRAL,r=t,(n&&n.equals?n.equals(r):n===r)?this.tetrahedralSubgroup:null;var n,r}}]),r}();n.ORDER=24,t.OctahedralSymmetry=n,n.__class="com.vzome.core.math.symmetry.OctahedralSymmetry",n.__interfaces=["com.vzome.core.math.symmetry.Symmetry","java.lang.Iterable","com.vzome.core.math.symmetry.Embedding"]}((n=t.math||(t.math={})).symmetry||(n.symmetry={}))})((t=e.vzome||(e.vzome={})).core||(t.core={}))}(com||(com={})),function(e){var t;(function(t){var n;!function(t){var n=function(t){_inherits(r,e.vzome.core.math.symmetry.AbstractSymmetry);var n=_createSuper(r);function r(t){var i;return _classCallCheck(this,r),(i=n.call(this,r.ORDER,t,"blue")).IDENTITY=new e.vzome.core.math.symmetry.Permutation(_assertThisInitialized(i),null),i}return _createClass(r,[{key:"createInitialPermutations",value:function(){this.mOrientations[0]=this.IDENTITY;for(var t=function(e){for(var t=[];e-- >0;)t.push(0);return t}(r.ORDER),n=0;n<r.ORDER;n++)t[n]=(n+1)%r.ORDER;this.mOrientations[1]=new e.vzome.core.math.symmetry.Permutation(this,t)}},{key:"createFrameOrbit",value:function(t){var n=this.mField.createVector([[1,1,0,1],[0,1,0,1],[0,1,0,1]]),i=this.createZoneOrbit$java_lang_String$int$int$com_vzome_core_algebra_AlgebraicVector$boolean(t,0,15,n,!0);i.createAxis$int$int$com_vzome_core_algebra_AlgebraicVector(0,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,n),i.createAxis$int$int$int_A_A(1,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,[[0,1,1,2],[1,2,0,1],[0,1,0,1]]),i.createAxis$int$int$int_A_A(2,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,[[1,2,0,1],[0,1,1,2],[0,1,0,1]]),i.createAxis$int$int$int_A_A(3,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,[[0,1,0,1],[1,1,0,1],[0,1,0,1]]),i.createAxis$int$int$int_A_A(4,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,[[-1,2,0,1],[0,1,1,2],[0,1,0,1]]),i.createAxis$int$int$int_A_A(5,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,[[0,1,-1,2],[1,2,0,1],[0,1,0,1]]),i.createAxis$int$int$int_A_A(6,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,[[-1,1,0,1],[0,1,0,1],[0,1,0,1]]),i.createAxis$int$int$int_A_A(7,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,[[0,1,-1,2],[-1,2,0,1],[0,1,0,1]]),i.createAxis$int$int$int_A_A(8,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,[[-1,2,0,1],[0,1,-1,2],[0,1,0,1]]),i.createAxis$int$int$int_A_A(9,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,[[0,1,0,1],[-1,1,0,1],[0,1,0,1]]),i.createAxis$int$int$int_A_A(10,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,[[1,2,0,1],[0,1,-1,2],[0,1,0,1]]),i.createAxis$int$int$int_A_A(11,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,[[0,1,1,2],[-1,2,0,1],[0,1,0,1]]);for(var o=this.mField.createVector([[0,1,0,1],[0,1,0,1],[1,1,0,1]]),a=0;a<r.ORDER;a++){var s=this.mOrientations[a].mapIndex(0),l=this.mOrientations[a].mapIndex(3);this.mMatrices[a]=new e.vzome.core.algebra.AlgebraicMatrix(i.getAxis$int$int(e.vzome.core.math.symmetry.Symmetry.PLUS,s).normal(),i.getAxis$int$int(e.vzome.core.math.symmetry.Symmetry.PLUS,l).normal(),o);var u=i.getAxis$int$int(e.vzome.core.math.symmetry.Symmetry.PLUS,a);if(!this.mMatrices[a].timesColumn(n).equals(u.normal()))throw new java.lang.IllegalStateException("matrix wrong: "+a)}}},{key:"createOtherOrbits",value:function(){this.createZoneOrbit$java_lang_String$int$int$int_A_A$boolean("green",0,e.vzome.core.math.symmetry.Symmetry.NO_ROTATION,[[1,1,1,2],[1,2,0,1],[0,1,0,1]],!0),this.createZoneOrbit$java_lang_String$int$int$int_A_A$boolean("red",0,1,[[0,1,0,1],[0,1,0,1],[1,1,0,1]],!0)}},{key:"getSpecialOrbit",value:function(t){switch(t){case e.vzome.core.math.symmetry.Symmetry.SpecialOrbit.BLUE:return this.getDirection("blue");case e.vzome.core.math.symmetry.Symmetry.SpecialOrbit.RED:return this.getDirection("red");case e.vzome.core.math.symmetry.Symmetry.SpecialOrbit.YELLOW:return this.getDirection("green");default:return null}}},{key:"getPreferredAxis",value:function(){return this.getDirection("red").getAxis$int$int(0,0)}},{key:"getName",value:function(){return"dodecagonal"}},{key:"subgroup",value:function(e){return null}}]),r}();n.ORDER=12,t.DodecagonalSymmetry=n,n.__class="com.vzome.core.math.symmetry.DodecagonalSymmetry",n.__interfaces=["com.vzome.core.math.symmetry.Symmetry","java.lang.Iterable","com.vzome.core.math.symmetry.Embedding"]}((n=t.math||(t.math={})).symmetry||(n.symmetry={}))})((t=e.vzome||(e.vzome={})).core||(t.core={}))}(com||(com={})),function(e){var t;(function(t){var n;!function(t){var n=function(t){_inherits(r,e.vzome.core.math.symmetry.OrbitSet);var n=_createSuper(r);function r(e,t){var i;_classCallCheck(this,r),void 0===(i=n.call(this,e.getSymmetry())).delegate&&(i.delegate=null),void 0===i.normal&&(i.normal=null),i.__zones=new java.util.HashSet,i.delegate=e,i.normal=t;for(var o=e.iterator();o.hasNext();)for(var a=o.next().iterator();a.hasNext();){var s=a.next();s.normal().dot(i.normal).isZero()&&i.__zones.add(s)}return i}return _createClass(r,[{key:"zones",value:function(){return this.__zones.iterator()}},{key:"getAxis",value:function(t){if(e.vzome.core.math.RealVector.ORIGIN_$LI$().equals(t))return null;for(var n=-1,r=null,i=this.__zones.iterator();i.hasNext();){var o=i.next(),a=o.normal().toRealVector(),s=t.dot(a)/(t.length()*a.length());s>n&&(n=s,r=o)}return r}},{key:"getDirection",value:function(e){return this.delegate.getDirection(e)}}]),r}();t.PlaneOrbitSet=n,n.__class="com.vzome.core.math.symmetry.PlaneOrbitSet",n.__interfaces=["java.lang.Cloneable","java.util.SortedSet","java.util.Collection","java.util.Set","java.util.NavigableSet","java.lang.Iterable","java.io.Serializable"]}((n=t.math||(t.math={})).symmetry||(n.symmetry={}))})((t=e.vzome||(e.vzome={})).core||(t.core={}))}(com||(com={})),function(e){var t;(function(t){var n;!function(t){var n=function(t){_inherits(r,e.vzome.core.math.symmetry.B4Group);var n=_createSuper(r);function r(t){var i;_classCallCheck(this,r),(i=n.call(this,t)).ROOTS=[null,null,null,null],i.WEIGHTS=[null,null,null,null],void 0===i.A&&(i.A=null);var o=t.createRational$long(1),a=t.createRational$long(2),s=t.createRational$long(3),l=t.createRational$long(4),u=t.createRational$long(-1),c=t.createRational$long(-2);if(i.ROOTS[0]=t.basisVector(4,e.vzome.core.algebra.AlgebraicVector.X4),i.ROOTS[0].setComponent(e.vzome.core.algebra.AlgebraicVector.X4,a),i.ROOTS[0].setComponent(e.vzome.core.algebra.AlgebraicVector.Y4,c),i.ROOTS[1]=t.basisVector(4,e.vzome.core.algebra.AlgebraicVector.Y4),i.ROOTS[1].setComponent(e.vzome.core.algebra.AlgebraicVector.Y4,a),i.ROOTS[1].setComponent(e.vzome.core.algebra.AlgebraicVector.Z4,c),i.ROOTS[2]=t.basisVector(4,e.vzome.core.algebra.AlgebraicVector.Z4),i.ROOTS[2].setComponent(e.vzome.core.algebra.AlgebraicVector.Z4,a),i.ROOTS[3]=t.basisVector(4,e.vzome.core.algebra.AlgebraicVector.W4),i.ROOTS[3].setComponent(e.vzome.core.algebra.AlgebraicVector.X4,u),i.ROOTS[3].setComponent(e.vzome.core.algebra.AlgebraicVector.Y4,u),i.ROOTS[3].setComponent(e.vzome.core.algebra.AlgebraicVector.Z4,u),i.WEIGHTS[0]=t.basisVector(4,e.vzome.core.algebra.AlgebraicVector.X4),i.WEIGHTS[0].setComponent(e.vzome.core.algebra.AlgebraicVector.X4,a),i.WEIGHTS[0].setComponent(e.vzome.core.algebra.AlgebraicVector.W4,a),i.WEIGHTS[1]=t.basisVector(4,e.vzome.core.algebra.AlgebraicVector.Y4),i.WEIGHTS[1].setComponent(e.vzome.core.algebra.AlgebraicVector.X4,a),i.WEIGHTS[1].setComponent(e.vzome.core.algebra.AlgebraicVector.Y4,a),i.WEIGHTS[1].setComponent(e.vzome.core.algebra.AlgebraicVector.W4,l),i.WEIGHTS[2]=t.basisVector(4,e.vzome.core.algebra.AlgebraicVector.X4),i.WEIGHTS[2].setComponent(e.vzome.core.algebra.AlgebraicVector.Y4,o),i.WEIGHTS[2].setComponent(e.vzome.core.algebra.AlgebraicVector.Z4,o),i.WEIGHTS[2].setComponent(e.vzome.core.algebra.AlgebraicVector.W4,s),i.WEIGHTS[3]=t.basisVector(4,e.vzome.core.algebra.AlgebraicVector.W4),i.WEIGHTS[3].setComponent(e.vzome.core.algebra.AlgebraicVector.W4,a),t.scale4dRoots()){var f=t.createPower$int(1);i.ROOTS[2]=i.ROOTS[2].scale(f),i.WEIGHTS[2]=i.WEIGHTS[2].scale(f)}var h=t.createRational$long$long(1,2),d=t.createRational$long$long(-1,2),p=t.basisVector(4,e.vzome.core.algebra.AlgebraicVector.X4);p.setComponent(e.vzome.core.algebra.AlgebraicVector.X4,h),p.setComponent(e.vzome.core.algebra.AlgebraicVector.Y4,h),p.setComponent(e.vzome.core.algebra.AlgebraicVector.Z4,h),p.setComponent(e.vzome.core.algebra.AlgebraicVector.W4,d);var m=t.basisVector(4,e.vzome.core.algebra.AlgebraicVector.X4);m.setComponent(e.vzome.core.algebra.AlgebraicVector.X4,h),m.setComponent(e.vzome.core.algebra.AlgebraicVector.Y4,h),m.setComponent(e.vzome.core.algebra.AlgebraicVector.Z4,d),m.setComponent(e.vzome.core.algebra.AlgebraicVector.W4,h);var v=t.basisVector(4,e.vzome.core.algebra.AlgebraicVector.X4);v.setComponent(e.vzome.core.algebra.AlgebraicVector.X4,h),v.setComponent(e.vzome.core.algebra.AlgebraicVector.Y4,d),v.setComponent(e.vzome.core.algebra.AlgebraicVector.Z4,h),v.setComponent(e.vzome.core.algebra.AlgebraicVector.W4,h);var g=t.basisVector(4,e.vzome.core.algebra.AlgebraicVector.X4);return g.setComponent(e.vzome.core.algebra.AlgebraicVector.X4,h),g.setComponent(e.vzome.core.algebra.AlgebraicVector.Y4,d),g.setComponent(e.vzome.core.algebra.AlgebraicVector.Z4,d),g.setComponent(e.vzome.core.algebra.AlgebraicVector.W4,d),i.A=new e.vzome.core.algebra.AlgebraicMatrix(p,m,v,g),i}return _createClass(r,[{key:"getOrder",value:function(){return 3*_get(_getPrototypeOf(r.prototype),"getOrder",this).call(this)}},{key:"groupAction",value:function(e,t){var n=_get(_getPrototypeOf(r.prototype),"getOrder",this).call(this),i=t%n;switch(t/n|0){case 0:return _get(_getPrototypeOf(r.prototype),"groupAction",this).call(this,e,i);case 1:return _get(_getPrototypeOf(r.prototype),"groupAction",this).call(this,this.A.timesColumn(e),i);case 2:return _get(_getPrototypeOf(r.prototype),"groupAction",this).call(this,this.A.timesColumn(this.A.timesColumn(e)),i)}return null}},{key:"getWeight",value:function(e){return this.WEIGHTS[e]}},{key:"getSimpleRoot",value:function(e){return this.ROOTS[e]}}]),r}();t.F4Group=n,n.__class="com.vzome.core.math.symmetry.F4Group",n.__interfaces=["com.vzome.core.math.symmetry.CoxeterGroup"]}((n=t.math||(t.math={})).symmetry||(n.symmetry={}))})((t=e.vzome||(e.vzome={})).core||(t.core={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.viewing.AbstractShapes);var n=_createSuper(r);function r(t,i,o,a,s,l){var u;if(_classCallCheck(this,r),!(null!=t&&t instanceof java.io.File||null===t)||"string"!==typeof i&&null!==i||"string"!==typeof o&&null!==o||"string"!==typeof a&&null!==a||!(null!=s&&(null!=s.__interfaces&&s.__interfaces.indexOf("com.vzome.core.math.symmetry.Symmetry")>=0||null!=s.constructor&&null!=s.constructor.__interfaces&&s.constructor.__interfaces.indexOf("com.vzome.core.math.symmetry.Symmetry")>=0)||null===s)||!(null!=l&&l instanceof e.vzome.core.viewing.AbstractShapes||null===l))if(!(null!=t&&t instanceof java.io.File||null===t)||"string"!==typeof i&&null!==i||"string"!==typeof o&&null!==o||"string"!==typeof a&&null!==a||!(null!=s&&(null!=s.__interfaces&&s.__interfaces.indexOf("com.vzome.core.math.symmetry.Symmetry")>=0||null!=s.constructor&&null!=s.constructor.__interfaces&&s.constructor.__interfaces.indexOf("com.vzome.core.math.symmetry.Symmetry")>=0)||null===s)||void 0!==l)if(!(null!=t&&t instanceof java.io.File||null===t)||"string"!==typeof i&&null!==i||"string"!==typeof o&&null!==o||!(null!=a&&(null!=a.__interfaces&&a.__interfaces.indexOf("com.vzome.core.math.symmetry.Symmetry")>=0||null!=a.constructor&&null!=a.constructor.__interfaces&&a.constructor.__interfaces.indexOf("com.vzome.core.math.symmetry.Symmetry")>=0)||null===a)||!(null!=s&&s instanceof e.vzome.core.viewing.AbstractShapes||null===s)||void 0!==l)if(!(null!=t&&t instanceof java.io.File||null===t)||"string"!==typeof i&&null!==i||"string"!==typeof o&&null!==o||!(null!=a&&(null!=a.__interfaces&&a.__interfaces.indexOf("com.vzome.core.math.symmetry.Symmetry")>=0||null!=a.constructor&&null!=a.constructor.__interfaces&&a.constructor.__interfaces.indexOf("com.vzome.core.math.symmetry.Symmetry")>=0)||null===a)||"boolean"!==typeof s&&null!==s||void 0!==l){if(!(null!=t&&t instanceof java.io.File||null===t)||"string"!==typeof i&&null!==i||"string"!==typeof o&&null!==o||!(null!=a&&(null!=a.__interfaces&&a.__interfaces.indexOf("com.vzome.core.math.symmetry.Symmetry")>=0||null!=a.constructor&&null!=a.constructor.__interfaces&&a.constructor.__interfaces.indexOf("com.vzome.core.math.symmetry.Symmetry")>=0)||null===a)||void 0!==s||void 0!==l)throw new Error("invalid overload");var c=arguments[3],f=arguments,h=new e.vzome.core.viewing.OctahedralShapes(f[1],f[2],f[4]);void 0===(u=n.call(this,i,o,null,c)).prefsFolder&&(u.prefsFolder=null),void 0===u.fallback&&(u.fallback=null),u.colors=new java.util.Properties,void 0===u.prefsFolder&&(u.prefsFolder=null),void 0===u.fallback&&(u.fallback=null),function(){u.prefsFolder=t,u.fallback=h;var e=r.MODEL_PREFIX+i+"/colors.properties";try{var n=u.constructor.getClassLoader().getResourceAsStream(e);null!=n&&u.colors.load(n)}catch(o){r.logger_$LI$().isLoggable(java.util.logging.Level.FINE)&&r.logger_$LI$().fine("problem with shape color properties: "+e)}}()}else{var d=arguments,p=d[3];d[4];var m=arguments,v=new e.vzome.core.viewing.OctahedralShapes(m[1],m[2],m[4]);void 0===(u=n.call(this,i,o,null,p)).prefsFolder&&(u.prefsFolder=null),void 0===u.fallback&&(u.fallback=null),u.colors=new java.util.Properties,void 0===u.prefsFolder&&(u.prefsFolder=null),void 0===u.fallback&&(u.fallback=null),function(){u.prefsFolder=t,u.fallback=v;var e=r.MODEL_PREFIX+i+"/colors.properties";try{var n=u.constructor.getClassLoader().getResourceAsStream(e);null!=n&&u.colors.load(n)}catch(o){r.logger_$LI$().isLoggable(java.util.logging.Level.FINE)&&r.logger_$LI$().fine("problem with shape color properties: "+e)}}()}else{var g=arguments,y=g[3],_=g[4];void 0===(u=n.call(this,i,o,null,y)).prefsFolder&&(u.prefsFolder=null),void 0===u.fallback&&(u.fallback=null),u.colors=new java.util.Properties,void 0===u.prefsFolder&&(u.prefsFolder=null),void 0===u.fallback&&(u.fallback=null),function(){u.prefsFolder=t,u.fallback=_;var e=r.MODEL_PREFIX+i+"/colors.properties";try{var n=u.constructor.getClassLoader().getResourceAsStream(e);null!=n&&u.colors.load(n)}catch(o){r.logger_$LI$().isLoggable(java.util.logging.Level.FINE)&&r.logger_$LI$().fine("problem with shape color properties: "+e)}}()}else{var b=arguments,w=new e.vzome.core.viewing.OctahedralShapes(b[1],b[2],b[4]);void 0===(u=n.call(this,i,o,a,s)).prefsFolder&&(u.prefsFolder=null),void 0===u.fallback&&(u.fallback=null),u.colors=new java.util.Properties,void 0===u.prefsFolder&&(u.prefsFolder=null),void 0===u.fallback&&(u.fallback=null),function(){u.prefsFolder=t,u.fallback=w;var e=r.MODEL_PREFIX+i+"/colors.properties";try{var n=u.constructor.getClassLoader().getResourceAsStream(e);null!=n&&u.colors.load(n)}catch(o){r.logger_$LI$().isLoggable(java.util.logging.Level.FINE)&&r.logger_$LI$().fine("problem with shape color properties: "+e)}}()}else void 0===(u=n.call(this,i,o,a,s)).prefsFolder&&(u.prefsFolder=null),void 0===u.fallback&&(u.fallback=null),u.colors=new java.util.Properties,void 0===u.prefsFolder&&(u.prefsFolder=null),void 0===u.fallback&&(u.fallback=null),function(){u.prefsFolder=t,u.fallback=l;var e=r.MODEL_PREFIX+i+"/colors.properties";try{var n=u.constructor.getClassLoader().getResourceAsStream(e);null!=n&&u.colors.load(n)}catch(o){r.logger_$LI$().isLoggable(java.util.logging.Level.FINE)&&r.logger_$LI$().fine("problem with shape color properties: "+e)}}();return _possibleConstructorReturn(u)}return _createClass(r,[{key:"buildConnectorShape",value:function(e){var t=this.loadVefData(r.NODE_MODEL);if(null!=t){var n=new r.VefToShape(this);return n.parseVEF(t,this.mSymmetry.getField()),n.getConnectorPolyhedron()}if(null!=this.fallback)return this.fallback.buildConnectorShape(e);throw new java.lang.IllegalStateException("missing connector shape: "+e)}},{key:"createStrutGeometry",value:function(t){var n=this.loadVefData(t.getName());if(null!=n){var i=new r.VefToShape(this);return i.parseVEF(n,this.mSymmetry.getField()),i.getStrutGeometry(t.getAxis$int$int(e.vzome.core.math.symmetry.Symmetry.PLUS,0).normal())}return null!=this.fallback?this.fallback.createStrutGeometry(t):_get(_getPrototypeOf(r.prototype),"createStrutGeometry",this).call(this,t)}},{key:"loadVefData",value:function(t){if(r.INJECTED_$LI$().containsKey(this.mPkgName+"-"+t))return r.INJECTED_$LI$().get(this.mPkgName+"-"+t);var n=this.mPkgName+"/"+t+".vef";if(e.vzome.xml.ResourceLoader.hasInjectedResource(r.MODEL_PREFIX+n))return e.vzome.xml.ResourceLoader.getInjectedResource(r.MODEL_PREFIX+n);var i=new java.io.File(this.prefsFolder,"Shapes/"+n),o=null;try{if(i.exists())o=new java.io.FileInputStream(i);else if(n=r.MODEL_PREFIX+n,null==(o=this.constructor.getClassLoader().getResourceAsStream(n)))return null;for(var a,s=new java.io.ByteArrayOutputStream,l=function(e){for(var t=[];e-- >0;)t.push(0);return t}(1024);(a=o.read(l,0,1024))>0;)s.write(l,0,a);return new String(s.toByteArray())}catch(u){r.logger_$LI$().fine("Failure loading VEF data from "+i)}finally{if(null!=o)try{o.close()}catch(u){console.error(u.message,u)}}return null}},{key:"hasColors",value:function(){return!this.colors.isEmpty()}},{key:"getColor",value:function(t){if(this.colors.isEmpty())return null;var n=null==t?r.NODE_MODEL:t.getName(),i=this.colors.getProperty(n);return null==i?null:e.vzome.core.render.Colors.parseColor(i)}}],[{key:"INJECTED_$LI$",value:function(){return null==r.INJECTED&&(r.INJECTED=new java.util.HashMap),r.INJECTED}},{key:"logger_$LI$",value:function(){return null==r.logger&&(r.logger=java.util.logging.Logger.getLogger("com.vzome.core.viewing.shapes")),r.logger}},{key:"injectShapeVEF",value:function(e,t){e=e.split("--").join("/"),r.INJECTED_$LI$().put(e,t)}}]),r}();n.MODEL_PREFIX="com/vzome/core/parts/",n.NODE_MODEL="connector",t.ExportedVEFShapes=n,n.__class="com.vzome.core.viewing.ExportedVEFShapes",n.__interfaces=["com.vzome.core.editor.api.Shapes"],function(t){var n=function(t){_inherits(r,e.vzome.core.math.VefParser);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),(t=n.call(this)).__parent=e,t.tipVertexIndices=new java.util.HashSet,t.midpointVertexIndices=new java.util.HashSet,void 0===t.tipVertex&&(t.tipVertex=null),t.vertices=new java.util.ArrayList,t.faces=new java.util.ArrayList,t}return _createClass(r,[{key:"getStrutGeometry",value:function(t){for(var n=this.__parent.mSymmetry.getAxis$com_vzome_core_algebra_AlgebraicVector(this.tipVertex),r=this.tipVertex.scale(this.__parent.mSymmetry.getField().createRational$long$long(1,2)),i=this.__parent.mSymmetry.inverse(n.getOrientation()),o=this.__parent.mSymmetry.getMatrix(i),a=new java.util.ArrayList,s=0;s<this.vertices.size();s++){var l=this.vertices.get(s);this.tipVertexIndices.contains(s)?l=l.minus(this.tipVertex):this.midpointVertexIndices.contains(s)&&(l=l.minus(r));var u=o.timesColumn(l);a.add(u)}return new e.vzome.core.viewing.ExportedVEFStrutGeometry(a,this.faces,t,this.tipVertexIndices,this.midpointVertexIndices,this.__parent.mSymmetry.getField())}},{key:"getConnectorPolyhedron",value:function(){for(var t=new e.vzome.core.math.Polyhedron(this.__parent.mSymmetry.getField()),n=this.vertices.iterator();n.hasNext();){var r=n.next();t.addVertex(r)}for(var i=this.faces.iterator();i.hasNext();){var o=i.next(),a=t.newFace();a.addAll(o),t.addFace(a)}return t}},{key:"addFace",value:function(e,t){for(var n=new java.util.ArrayList,r=0;r<t.length;r++){var i=t[r];n.add(i)}this.faces.add(n)}},{key:"addVertex",value:function(e,t){var n=this.__parent.mSymmetry.getField().projectTo3d(t,this.wFirst());this.vertices.add(n)}},{key:"addBall",value:function(e,t){this.tipVertexIndices.add(t)}},{key:"endFile",value:function(e){if(e.hasMoreTokens()){var t,n,r,i=e.nextToken();if(n=i,!((t="tip").equals?t.equals(n):t===n))throw new java.lang.IllegalStateException('VEF format error: token after face list ("'+i+'" should be "tip"');try{i=e.nextToken()}catch(a){throw new java.lang.IllegalStateException('VEF format error: no tokens after "tip"')}try{r=javaemul.internal.IntegerHelper.parseInt(i)}catch(s){throw new java.lang.RuntimeException('VEF format error: strut tip vertex index ("'+i+'") must be an integer',s)}if(this.tipVertex=this.vertices.get(r),e.hasMoreTokens()){if(!function(e,t){return e.equals?e.equals(t):e===t}("middle",i=e.nextToken()))throw new java.lang.IllegalStateException('VEF format error: token after tip vertex ("'+i+'" should be "middle"');for(;e.hasMoreTokens();){i=e.nextToken();var o=void 0;try{o=javaemul.internal.IntegerHelper.parseInt(i)}catch(s){throw new java.lang.RuntimeException('VEF format error: middle vertex index ("'+i+'") must be an integer',s)}this.midpointVertexIndices.add(o)}}}}},{key:"startBalls",value:function(e){}},{key:"startEdges",value:function(e){}},{key:"addEdge",value:function(e,t,n){}},{key:"startFaces",value:function(e){}},{key:"startVertices",value:function(e){}}]),r}();t.VefToShape=n,n.__class="com.vzome.core.viewing.ExportedVEFShapes.VefToShape"}(n=t.ExportedVEFShapes||(t.ExportedVEFShapes={}))})((n=t.core||(t.core={})).viewing||(n.viewing={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){var t;(function(t){var n;!function(t){var n=function(){function t(n,r,i){_classCallCheck(this,t),void 0===this.mRoots&&(this.mRoots=null),void 0===this.mName&&(this.mName=null),this.mName=n;try{var o=e.vzome.xml.ResourceLoader.loadStringResource(r),a=new t.RootParser(i);a.parseVEF(o,i),this.mRoots=a.getQuaternions()}catch(s){console.error(s.message,s)}}return _createClass(t,[{key:"getRoots",value:function(){return this.mRoots}},{key:"getName",value:function(){return this.mName}}]),t}();t.QuaternionicSymmetry=n,n.__class="com.vzome.core.math.symmetry.QuaternionicSymmetry",function(t){var n=function(t){_inherits(r,e.vzome.core.math.VefParser);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),void 0===(t=n.call(this)).mRoots&&(t.mRoots=null),void 0===t.__com_vzome_core_math_symmetry_QuaternionicSymmetry_RootParser_field&&(t.__com_vzome_core_math_symmetry_QuaternionicSymmetry_RootParser_field=null),void 0===t.HALF&&(t.HALF=null),t.__com_vzome_core_math_symmetry_QuaternionicSymmetry_RootParser_field=e,t.HALF=e.createRational$long$long(1,2),t}return _createClass(r,[{key:"startVertices",value:function(e){this.mRoots=function(e){for(var t=[];e-- >0;)t.push(null);return t}(e)}},{key:"getQuaternions",value:function(){return this.mRoots}},{key:"addVertex",value:function(t,n){this.mRoots[t]=new e.vzome.core.algebra.Quaternion(this.__com_vzome_core_math_symmetry_QuaternionicSymmetry_RootParser_field,n.scale(this.HALF))}},{key:"startEdges",value:function(e){}},{key:"addEdge",value:function(e,t,n){}},{key:"startFaces",value:function(e){}},{key:"addFace",value:function(e,t){}},{key:"addBall",value:function(e,t){}},{key:"startBalls",value:function(e){}},{key:"endFile",value:function(e){}}]),r}();t.RootParser=n,n.__class="com.vzome.core.math.symmetry.QuaternionicSymmetry.RootParser"}(n=t.QuaternionicSymmetry||(t.QuaternionicSymmetry={}))}((n=t.math||(t.math={})).symmetry||(n.symmetry={}))})((t=e.vzome||(e.vzome={})).core||(t.core={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.math.VefParser);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),void 0===(t=n.call(this)).polyhedron&&(t.polyhedron=null),t.polyhedron=e,t}return _createClass(r,[{key:"addVertex",value:function(e,t){this.polyhedron.addVertex(this.getField().projectTo3d(t,!0))}},{key:"addFace",value:function(e,t){for(var n=this.polyhedron.newFace(),r=0;r<t.length;r++){var i=t[r];n.add(i)}this.polyhedron.addFace(n)}},{key:"startVertices",value:function(e){}},{key:"startFaces",value:function(e){}},{key:"startEdges",value:function(e){}},{key:"addEdge",value:function(e,t,n){}},{key:"startBalls",value:function(e){}},{key:"addBall",value:function(e,t){}}],[{key:"importPolyhedron",value:function(t,n){var i=new e.vzome.core.math.Polyhedron(t);return new r(i).parseVEF(n,t),i}}]),r}();t.VefToPolyhedron=n,n.__class="com.vzome.core.math.VefToPolyhedron"})((n=t.core||(t.core={})).math||(n.math={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.math.VefParser);var n=_createSuper(r);function r(t,i,o,a){var s;return _classCallCheck(this,r),void 0===(s=n.call(this)).offset&&(s.offset=null),void 0===s.scale&&(s.scale=null),void 0===s.__com_vzome_core_construction_VefToModel_field&&(s.__com_vzome_core_construction_VefToModel_field=null),void 0===s.mProjection&&(s.mProjection=null),void 0===s.mVertices&&(s.mVertices=null),void 0===s.mEffects&&(s.mEffects=null),s.noBallsSection=!0,s.mEffects=i,s.__com_vzome_core_construction_VefToModel_field=o.getField(),s.scale=o,s.offset=a,s.mProjection=null==t?new e.vzome.core.math.Projection.Default(s.__com_vzome_core_construction_VefToModel_field):t,null!=t&&r.logger_$LI$().isLoggable(java.util.logging.Level.FINEST)&&r.logger_$LI$().finest("projection = "+t.getProjectionName()),s}return _createClass(r,[{key:"startVertices",value:function(e){this.mVertices=function(e){for(var t=[];e-- >0;)t.push(null);return t}(e)}},{key:"addVertex",value:function(t,n){r.logger_$LI$().finest("addVertex location = "+n.getVectorExpression$int(e.vzome.core.algebra.AlgebraicField.VEF_FORMAT)),null!=this.scale&&(n=n.scale(this.scale),r.logger_$LI$().finest("scaled = "+n.getVectorExpression$int(e.vzome.core.algebra.AlgebraicField.VEF_FORMAT))),n=this.mProjection.projectImage(n,this.wFirst()),r.logger_$LI$().finest("projected = "+n.getVectorExpression$int(e.vzome.core.algebra.AlgebraicField.VEF_FORMAT)),null!=this.offset&&(n=n.plus(this.offset),r.logger_$LI$().finest("translated = "+n.getVectorExpression$int(e.vzome.core.algebra.AlgebraicField.VEF_FORMAT))),this.mVertices[t]=new e.vzome.core.construction.FreePoint(n),this.mVertices[t].setIndex(t)}},{key:"startEdges",value:function(e){}},{key:"addEdge",value:function(t,n,r){var i=this.mVertices[n],o=this.mVertices[r];if(null!=i&&null!=o){var a=new e.vzome.core.construction.SegmentJoiningPoints(i,o);a.setIndex(t),this.mEffects.constructionAdded(a)}}},{key:"startFaces",value:function(e){}},{key:"addFace",value:function(t,n){for(var r=function(e){for(var t=[];e-- >0;)t.push(null);return t}(n.length),i=0;i<n.length;i++)r[i]=this.mVertices[n[i]];var o=new e.vzome.core.construction.PolygonFromVertices(r);o.setIndex(t),this.mEffects.constructionAdded(o)}},{key:"addBall",value:function(e,t){this.mEffects.constructionAdded(this.mVertices[t])}},{key:"startBalls",value:function(e){this.noBallsSection=!1}},{key:"endFile",value:function(e){if(this.noBallsSection)for(var t=0;t<this.mVertices.length;t++){var n=this.mVertices[t];this.mEffects.constructionAdded(n)}}}],[{key:"logger_$LI$",value:function(){return null==r.logger&&(r.logger=java.util.logging.Logger.getLogger("com.vzome.core.construction.VefToModel")),r.logger}}]),r}();t.VefToModel=n,n.__class="com.vzome.core.construction.VefToModel"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Construction);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),void 0===(t=n.call(this,e)).mVertices&&(t.mVertices=null),t}return _createClass(r,[{key:"toString",value:function(){return"polygon "+java.util.Arrays.toString(this.mVertices)}},{key:"setStateVariable",value:function(e,t){return t?!this.isImpossible()&&(this.setImpossible(!0),!0):(this.mVertices=e,this.setImpossible(!1),!0)}},{key:"getXml$org_w3c_dom_Document",value:function(e){var t=e.createElement("polygon");return this.getXml$org_w3c_dom_Element$java_lang_String(t,"vertex"),t}},{key:"getXml$org_w3c_dom_Element$java_lang_String",value:function(t,n){for(var r=0;r<this.mVertices.length;r++){var i=this.mVertices[r],o=t.getOwnerDocument().createElement(n);e.vzome.xml.DomUtils.addAttribute(o,"at",i.getVectorExpression$int(e.vzome.core.algebra.AlgebraicField.ZOMIC_FORMAT)),t.appendChild(o)}}},{key:"getXml",value:function(e,t){if(!(null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("org.w3c.dom.Element")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("org.w3c.dom.Element")>=0)||null===e)||"string"!==typeof t&&null!==t){if((null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("org.w3c.dom.Document")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("org.w3c.dom.Document")>=0)||null===e)&&void 0===t)return this.getXml$org_w3c_dom_Document(e);throw new Error("invalid overload")}return this.getXml$org_w3c_dom_Element$java_lang_String(e,t)}},{key:"is3d",value:function(){for(var e=0;e<this.mVertices.length;e++)if(3!==this.mVertices[e].dimension())return!1;return!0}},{key:"getVertexCount",value:function(){return this.mVertices.length}},{key:"getVertex",value:function(e){return this.mVertices[e]}},{key:"getNormal",value:function(){return e.vzome.core.algebra.AlgebraicVectors.getNormal$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_algebra_AlgebraicVector(this.mVertices[0],this.mVertices[1],this.mVertices[2])}},{key:"getCentroid",value:function(){return e.vzome.core.algebra.AlgebraicVectors.getCentroid(this.mVertices)}},{key:"getVertices",value:function(){return java.util.Arrays.copyOf(this.mVertices,this.mVertices.length)}}]),r}();t.Polygon=n,n.__class="com.vzome.core.construction.Polygon"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Construction);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),void 0===(t=n.call(this,e)).mTransform&&(t.mTransform=null),void 0===t.mOffset&&(t.mOffset=null),t}return _createClass(r,[{key:"is3d",value:function(){return!0}},{key:"equals",value:function(t){if(this===t)return!0;if(null==t)return!1;if(!(null!=t&&t instanceof e.vzome.core.construction.Transformation))return!1;var n=t;if(null==this.mOffset){if(null!=n.mOffset)return!1}else if(!this.mOffset.equals(n.mOffset))return!1;if(null==this.mTransform){if(null!=n.mTransform)return!1}else if(!this.mTransform.equals(n.mTransform))return!1;return!0}},{key:"setStateVariables",value:function(e,t,n){return n?!this.isImpossible()&&(this.setImpossible(!0),!0):!(null!=e&&e.equals(this.mTransform)&&t.equals(this.mOffset)&&!this.isImpossible())&&(this.mTransform=e,this.mOffset=t,this.setImpossible(!1),!0)}},{key:"transform$com_vzome_core_algebra_AlgebraicVector",value:function(e){return e=e.minus(this.mOffset),e=(e=this.mTransform.timesColumn(e)).plus(this.mOffset)}},{key:"transform",value:function(t){if(null!=t&&t instanceof e.vzome.core.algebra.AlgebraicVector||null===t)return this.transform$com_vzome_core_algebra_AlgebraicVector(t);if(null!=t&&t instanceof e.vzome.core.construction.Construction||null===t)return this.transform$com_vzome_core_construction_Construction(t);throw new Error("invalid overload")}},{key:"transform$com_vzome_core_construction_Construction",value:function(t){return null!=t&&t instanceof e.vzome.core.construction.Point?new e.vzome.core.construction.TransformedPoint(this,t):null!=t&&t instanceof e.vzome.core.construction.Segment?new e.vzome.core.construction.TransformedSegment(this,t):null!=t&&t instanceof e.vzome.core.construction.Polygon?new e.vzome.core.construction.TransformedPolygon(this,t):null}},{key:"getXml",value:function(e){return e.createElement("transformation")}}]),r}();t.Transformation=n,n.__class="com.vzome.core.construction.Transformation",function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Transformation);var n=_createSuper(r);function r(e){return _classCallCheck(this,r),n.call(this,e)}return _createClass(r,[{key:"transform$int_A",value:function(e){return e}},{key:"transform",value:function(t){if(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||"number"===typeof t[0])||null===t)return this.transform$int_A(t);if(!(null!=t&&t instanceof e.vzome.core.algebra.AlgebraicVector||null===t)){if(null!=t&&t instanceof e.vzome.core.construction.Construction||null===t)return this.transform$com_vzome_core_construction_Construction(t);throw new Error("invalid overload")}_get(_getPrototypeOf(r.prototype),"transform",this).call(this,t)}}]),_createClass(r,[{key:"attach",value:function(){}},{key:"detach",value:function(){}},{key:"mapParamsToState",value:function(){return!0}}]),r}();t.Identity=n,n.__class="com.vzome.core.construction.Transformation.Identity"}(n=t.Transformation||(t.Transformation={}))})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Construction);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),void 0===(t=n.call(this,e)).mStart&&(t.mStart=null),void 0===t.mOffset&&(t.mOffset=null),void 0===t.mEnd&&(t.mEnd=null),t}return _createClass(r,[{key:"is3d",value:function(){return 3===this.mStart.dimension()&&3===this.mOffset.dimension()}},{key:"setStateVariables",value:function(e,t,n){return n?!this.isImpossible()&&(this.setImpossible(!0),!0):!(t.equals(this.mOffset)&&!this.isImpossible()&&e.equals(this.mStart))&&(this.mOffset=t,this.mStart=e,this.mEnd=null,this.setImpossible(!1),!0)}},{key:"getStart",value:function(){return this.mStart}},{key:"getEnd",value:function(){return null==this.mEnd&&(this.mEnd=this.mStart.plus(this.mOffset)),this.mEnd}},{key:"getOffset",value:function(){return this.mOffset}},{key:"getCentroid",value:function(){return e.vzome.core.algebra.AlgebraicVectors.getCentroid([this.mStart,this.mEnd])}},{key:"getXml",value:function(t){var n=t.createElement("segment");return n.setAttribute("start",this.mStart.getVectorExpression$int(e.vzome.core.algebra.AlgebraicField.ZOMIC_FORMAT)),n.setAttribute("end",this.getEnd().getVectorExpression$int(e.vzome.core.algebra.AlgebraicField.ZOMIC_FORMAT)),n}},{key:"toString",value:function(){return"segment from "+this.mStart+" to "+this.getEnd()}}]),r}();t.Segment=n,n.__class="com.vzome.core.construction.Segment"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Construction);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),void 0===(t=n.call(this,e)).mLocation&&(t.mLocation=null),t}return _createClass(r,[{key:"is3d",value:function(){return 3===this.mLocation.dimension()}},{key:"setStateVariable",value:function(e,t){return t?!this.isImpossible()&&(this.setImpossible(!0),!0):!(e.equals(this.mLocation)&&!this.isImpossible())&&(this.mLocation=e,this.setImpossible(!1),!0)}},{key:"getLocation",value:function(){return this.mLocation}},{key:"getXml",value:function(t){var n=t.createElement("point");return n.setAttribute("at",this.getLocation().getVectorExpression$int(e.vzome.core.algebra.AlgebraicField.ZOMIC_FORMAT)),n}},{key:"toString",value:function(){return"point at "+this.mLocation}}]),r}();t.Point=n,n.__class="com.vzome.core.construction.Point"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Construction);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),void 0===(t=n.call(this,e.field)).mTarget&&(t.mTarget=null),t.mTarget=e,t}return _createClass(r,[{key:"getTarget",value:function(){return this.mTarget}},{key:"mapParamsToState",value:function(){return!1}},{key:"getXml",value:function(e){return e.createElement("marker")}},{key:"is3d",value:function(){return this.mTarget.is3d()}}]),r}();t.Marker=n,n.__class="com.vzome.core.construction.Marker"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Construction);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),void 0===(t=n.call(this,e)).mBase&&(t.mBase=null),void 0===t.mNormal&&(t.mNormal=null),t}return _createClass(r,[{key:"is3d",value:function(){return!0}},{key:"setStateVariables",value:function(e,t,n){return n?!this.isImpossible()&&(this.setImpossible(!0),!0):!(t.equals(this.mNormal)&&!this.isImpossible()&&e.equals(this.mBase))&&(t=t.projectTo3d(!0),this.mNormal=t,this.mBase=e.projectTo3d(!0),this.setImpossible(!1),!0)}},{key:"getBase",value:function(){return this.mBase}},{key:"getNormal",value:function(){return this.mNormal}},{key:"getXml",value:function(e){return e.createElement("plane")}},{key:"getHomogeneous",value:function(){return null}}]),r}();t.Plane=n,n.__class="com.vzome.core.construction.Plane"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Construction);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),void 0===(t=n.call(this,e)).mDirection&&(t.mDirection=null),void 0===t.mStart&&(t.mStart=null),t}return _createClass(r,[{key:"is3d",value:function(){return!0}},{key:"setStateVariables",value:function(e,t,n){return n?!this.isImpossible()&&(this.setImpossible(!0),!0):!(t.equals(this.mDirection)&&e.equals(this.mStart)&&!this.isImpossible())&&(this.mDirection=t,this.mStart=e,this.setImpossible(!1),!0)}},{key:"getStart",value:function(){return this.mStart}},{key:"getDirection",value:function(){return this.mDirection}},{key:"getXml",value:function(e){return e.createElement("line")}},{key:"getHomogeneous",value:function(){var t=new e.vzome.core.algebra.Vector3dHomogeneous(this.mStart,this.getField()),n=new e.vzome.core.algebra.Vector3dHomogeneous(this.mStart.plus(this.mDirection),this.getField());return t.outer(n)}}]),r}();t.Line=n,n.__class="com.vzome.core.construction.Line"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.generic.FilteredIterator);var n=_createSuper(r);function r(e,t,i,o){var a;return _classCallCheck(this,r),void 0===(a=n.call(this,t,i,o)).subClass&&(a.subClass=null),a.subClass=e,a}return _createClass(r,[{key:"preFilter",value:function(e){return!(null==e||!this.subClass.isAssignableFrom(e.constructor))&&_get(_getPrototypeOf(r.prototype),"preFilter",this).call(this,e)}},{key:"apply",value:function(e){return this.subClass.cast(e)}}]),r}();t.SubClassIterator=n,n.__class="com.vzome.core.generic.SubClassIterator",n.__interfaces=["java.util.Iterator","java.lang.Iterable"]})((n=t.core||(t.core={})).generic||(n.generic={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){var t;(function(t){var n;!function(t){var n=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"visibleManifestations$java_lang_Iterable",value:function(e){return new t.ManifestationIterator(function(e){return t.Filters.isVisible(e)},e,null)}},{key:"visibleManifestations$java_util_function_Predicate$java_lang_Iterable",value:function(e,n){return new t.ManifestationIterator(e,n,function(e){return t.Filters.isVisible(e)})}},{key:"visibleManifestations",value:function(t,n){if(("function"===typeof t&&1==t.length||null===t)&&(null!=n&&(null!=n.__interfaces&&n.__interfaces.indexOf("java.lang.Iterable")>=0||null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("java.lang.Iterable")>=0)||null===n))return e.vzome.core.editor.api.Manifestations.visibleManifestations$java_util_function_Predicate$java_lang_Iterable(t,n);if((null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("java.lang.Iterable")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.lang.Iterable")>=0)||null===t)&&("function"===typeof n&&1==n.length||null===n))return e.vzome.core.editor.api.Manifestations.visibleManifestations$java_lang_Iterable$java_util_function_Predicate(t,n);if((null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("java.lang.Iterable")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.lang.Iterable")>=0)||null===t)&&void 0===n)return e.vzome.core.editor.api.Manifestations.visibleManifestations$java_lang_Iterable(t);throw new Error("invalid overload")}},{key:"visibleManifestations$java_lang_Iterable$java_util_function_Predicate",value:function(e,n){return new t.ManifestationIterator(function(e){return t.Filters.isVisible(e)},e,n)}},{key:"getConnectors$java_lang_Iterable",value:function(e){return new t.ConnectorIterator(null,e,null)}},{key:"getConnectors$java_lang_Iterable$java_util_function_Predicate",value:function(e,n){return new t.ConnectorIterator(null,e,n)}},{key:"getConnectors$java_util_function_Predicate$java_lang_Iterable$java_util_function_Predicate",value:function(e,n,r){return new t.ConnectorIterator(e,n,r)}},{key:"getConnectors",value:function(t,n,r){if(("function"===typeof t&&1==t.length||null===t)&&(null!=n&&(null!=n.__interfaces&&n.__interfaces.indexOf("java.lang.Iterable")>=0||null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("java.lang.Iterable")>=0)||null===n)&&("function"===typeof r&&1==r.length||null===r))return e.vzome.core.editor.api.Manifestations.getConnectors$java_util_function_Predicate$java_lang_Iterable$java_util_function_Predicate(t,n,r);if((null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("java.lang.Iterable")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.lang.Iterable")>=0)||null===t)&&("function"===typeof n&&1==n.length||null===n)&&void 0===r)return e.vzome.core.editor.api.Manifestations.getConnectors$java_lang_Iterable$java_util_function_Predicate(t,n);if((null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("java.lang.Iterable")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.lang.Iterable")>=0)||null===t)&&void 0===n&&void 0===r)return e.vzome.core.editor.api.Manifestations.getConnectors$java_lang_Iterable(t);throw new Error("invalid overload")}},{key:"getVisibleConnectors",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new t.ConnectorIterator(function(e){return t.Filters.isVisible(e)},e,n)}},{key:"getHiddenConnectors",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new t.ConnectorIterator(function(e){return t.Filters.isHidden(e)},e,n)}},{key:"getStruts$java_lang_Iterable",value:function(e){return new t.StrutIterator(null,e,null)}},{key:"getStruts$java_lang_Iterable$java_util_function_Predicate",value:function(e,n){return new t.StrutIterator(null,e,n)}},{key:"getStruts$java_util_function_Predicate$java_lang_Iterable$java_util_function_Predicate",value:function(e,n,r){return new t.StrutIterator(e,n,r)}},{key:"getStruts",value:function(t,n,r){if(("function"===typeof t&&1==t.length||null===t)&&(null!=n&&(null!=n.__interfaces&&n.__interfaces.indexOf("java.lang.Iterable")>=0||null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("java.lang.Iterable")>=0)||null===n)&&("function"===typeof r&&1==r.length||null===r))return e.vzome.core.editor.api.Manifestations.getStruts$java_util_function_Predicate$java_lang_Iterable$java_util_function_Predicate(t,n,r);if((null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("java.lang.Iterable")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.lang.Iterable")>=0)||null===t)&&("function"===typeof n&&1==n.length||null===n)&&void 0===r)return e.vzome.core.editor.api.Manifestations.getStruts$java_lang_Iterable$java_util_function_Predicate(t,n);if((null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("java.lang.Iterable")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.lang.Iterable")>=0)||null===t)&&void 0===n&&void 0===r)return e.vzome.core.editor.api.Manifestations.getStruts$java_lang_Iterable(t);throw new Error("invalid overload")}},{key:"getVisibleStruts",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new t.StrutIterator(function(e){return t.Filters.isVisible(e)},e,n)}},{key:"getHiddenStruts",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new t.StrutIterator(function(e){return t.Filters.isHidden(e)},e,n)}},{key:"getPanels$java_lang_Iterable",value:function(e){return new t.PanelIterator(null,e,null)}},{key:"getPanels$java_lang_Iterable$java_util_function_Predicate",value:function(e,n){return new t.PanelIterator(null,e,n)}},{key:"getPanels$java_util_function_Predicate$java_lang_Iterable$java_util_function_Predicate",value:function(e,n,r){return new t.PanelIterator(e,n,r)}},{key:"getPanels",value:function(t,n,r){if(("function"===typeof t&&1==t.length||null===t)&&(null!=n&&(null!=n.__interfaces&&n.__interfaces.indexOf("java.lang.Iterable")>=0||null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("java.lang.Iterable")>=0)||null===n)&&("function"===typeof r&&1==r.length||null===r))return e.vzome.core.editor.api.Manifestations.getPanels$java_util_function_Predicate$java_lang_Iterable$java_util_function_Predicate(t,n,r);if((null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("java.lang.Iterable")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.lang.Iterable")>=0)||null===t)&&("function"===typeof n&&1==n.length||null===n)&&void 0===r)return e.vzome.core.editor.api.Manifestations.getPanels$java_lang_Iterable$java_util_function_Predicate(t,n);if((null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("java.lang.Iterable")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.lang.Iterable")>=0)||null===t)&&void 0===n&&void 0===r)return e.vzome.core.editor.api.Manifestations.getPanels$java_lang_Iterable(t);throw new Error("invalid overload")}},{key:"getVisiblePanels",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new t.PanelIterator(function(e){return t.Filters.isVisible(e)},e,n)}},{key:"getHiddenPanels",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new t.PanelIterator(function(e){return t.Filters.isHidden(e)},e,n)}}]),t}();t.Manifestations=n,n.__class="com.vzome.core.editor.api.Manifestations",function(t){var n=function(t){_inherits(r,e.vzome.core.generic.FilteredIterator);var n=_createSuper(r);function r(e,t,i){return _classCallCheck(this,r),n.call(this,e,t,i)}return _createClass(r,[{key:"apply$com_vzome_core_model_Manifestation",value:function(e){return e}},{key:"apply",value:function(e){if(null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0)||null===e)return this.apply$com_vzome_core_model_Manifestation(e);throw null!=e||null===e?new Error("cannot invoke abstract overloaded method... check your argument(s) type(s)"):new Error("invalid overload")}}]),r}();t.ManifestationIterator=n,n.__class="com.vzome.core.editor.api.Manifestations.ManifestationIterator",n.__interfaces=["java.util.Iterator","java.lang.Iterable"];var r=function(t){_inherits(r,e.vzome.core.generic.FilteredIterator);var n=_createSuper(r);function r(e,t,i){return _classCallCheck(this,r),n.call(this,e,t,i)}return _createClass(r,[{key:"preFilter$com_vzome_core_model_Manifestation",value:function(e){return null!=e&&null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0)&&_get(_getPrototypeOf(r.prototype),"preFilter",this).call(this,e)}},{key:"preFilter",value:function(e){if(null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0)||null===e)return this.preFilter$com_vzome_core_model_Manifestation(e);if(null==e&&null!==e)throw new Error("invalid overload");_get(_getPrototypeOf(r.prototype),"preFilter",this).call(this,e)}},{key:"apply$com_vzome_core_model_Manifestation",value:function(e){return e}},{key:"apply",value:function(e){if(null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0)||null===e)return this.apply$com_vzome_core_model_Manifestation(e);throw null!=e||null===e?new Error("cannot invoke abstract overloaded method... check your argument(s) type(s)"):new Error("invalid overload")}}]),r}();t.ConnectorIterator=r,r.__class="com.vzome.core.editor.api.Manifestations.ConnectorIterator",r.__interfaces=["java.util.Iterator","java.lang.Iterable"];var i=function(t){_inherits(r,e.vzome.core.generic.FilteredIterator);var n=_createSuper(r);function r(e,t,i){return _classCallCheck(this,r),n.call(this,e,t,i)}return _createClass(r,[{key:"preFilter$com_vzome_core_model_Manifestation",value:function(e){return null!=e&&null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0)&&_get(_getPrototypeOf(r.prototype),"preFilter",this).call(this,e)}},{key:"preFilter",value:function(e){if(null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0)||null===e)return this.preFilter$com_vzome_core_model_Manifestation(e);if(null==e&&null!==e)throw new Error("invalid overload");_get(_getPrototypeOf(r.prototype),"preFilter",this).call(this,e)}},{key:"apply$com_vzome_core_model_Manifestation",value:function(e){return e}},{key:"apply",value:function(e){if(null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0)||null===e)return this.apply$com_vzome_core_model_Manifestation(e);throw null!=e||null===e?new Error("cannot invoke abstract overloaded method... check your argument(s) type(s)"):new Error("invalid overload")}}]),r}();t.StrutIterator=i,i.__class="com.vzome.core.editor.api.Manifestations.StrutIterator",i.__interfaces=["java.util.Iterator","java.lang.Iterable"];var o=function(t){_inherits(r,e.vzome.core.generic.FilteredIterator);var n=_createSuper(r);function r(e,t,i){return _classCallCheck(this,r),n.call(this,e,t,i)}return _createClass(r,[{key:"preFilter$com_vzome_core_model_Manifestation",value:function(e){return null!=e&&null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.model.Panel")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.model.Panel")>=0)&&_get(_getPrototypeOf(r.prototype),"preFilter",this).call(this,e)}},{key:"preFilter",value:function(e){if(null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0)||null===e)return this.preFilter$com_vzome_core_model_Manifestation(e);if(null==e&&null!==e)throw new Error("invalid overload");_get(_getPrototypeOf(r.prototype),"preFilter",this).call(this,e)}},{key:"apply$com_vzome_core_model_Manifestation",value:function(e){return e}},{key:"apply",value:function(e){if(null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0)||null===e)return this.apply$com_vzome_core_model_Manifestation(e);throw null!=e||null===e?new Error("cannot invoke abstract overloaded method... check your argument(s) type(s)"):new Error("invalid overload")}}]),r}();t.PanelIterator=o,o.__class="com.vzome.core.editor.api.Manifestations.PanelIterator",o.__interfaces=["java.util.Iterator","java.lang.Iterable"];var a=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"isRendered",value:function(e){return e.isRendered()}},{key:"isVisible",value:function(e){return!e.isHidden()}},{key:"isHidden",value:function(e){return e.isHidden()}},{key:"is",value:function(e){return!0}}]),e}();t.Filters=a,a.__class="com.vzome.core.editor.api.Manifestations.Filters"}(n=t.Manifestations||(t.Manifestations={}))}((n=t.editor||(t.editor={})).api||(n.api={}))})((t=e.vzome||(e.vzome={})).core||(t.core={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.commands.XmlSaveFormat);var n=_createSuper(r);function r(e,t){var i;return _classCallCheck(this,r),void 0===(i=n.call(this,e,t)).symmetries&&(i.symmetries=null),i}return _createClass(r,[{key:"initialize$com_vzome_core_algebra_AlgebraicField$com_vzome_core_math_symmetry_OrbitSet_Field$int$java_lang_String$java_util_Properties",value:function(e,t,n,i,o){_get(_getPrototypeOf(r.prototype),"initialize",this).call(this,e,n,i,o),this.symmetries=t}},{key:"initialize",value:function(e,t,n,i,o){if((null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicField")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicField")>=0)||null===e)&&(null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.math.symmetry.OrbitSet.Field")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.math.symmetry.OrbitSet.Field")>=0)||null===t)&&("number"===typeof n||null===n)&&("string"===typeof i||null===i)&&(null!=o&&o instanceof java.util.Properties||null===o))return this.initialize$com_vzome_core_algebra_AlgebraicField$com_vzome_core_math_symmetry_OrbitSet_Field$int$java_lang_String$java_util_Properties(e,t,n,i,o);if(!(null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicField")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicField")>=0)||null===e)||"number"!==typeof t&&null!==t||"string"!==typeof n&&null!==n||!(null!=i&&i instanceof java.util.Properties||null===i)||void 0!==o)throw new Error("invalid overload");_get(_getPrototypeOf(r.prototype),"initialize",this).call(this,e,t,n,i)}},{key:"parseAlgebraicObject",value:function(e,t){if(a="Symmetry",(o=e)&&o.equals?o.equals(a):o===a){var n=t.getAttribute("name");return this.parseSymmetry(n)}if(function(e,t){return e&&e.equals?e.equals(t):e===t}(e,"QuaternionicSymmetry")){var i=t.getAttribute("name");return this.getQuaternionicSymmetry(i)}return function(e,t){return e&&e.equals?e.equals("Axis"):"Axis"===e}(e)?this.parseAxis(t,"symm","dir","index","sense"):_get(_getPrototypeOf(r.prototype),"parseAlgebraicObject",this).call(this,e,t);var o,a}},{key:"getQuaternionicSymmetry",value:function(e){return this.symmetries.getQuaternionSet(e)}},{key:"parseSymmetry",value:function(e){var t=this.symmetries.getGroup(e).getSymmetry();if(null==t)throw r.__com_vzome_core_commands_XmlSymmetryFormat_logger_$LI$().severe("UNSUPPORTED symmetry: "+e),new java.lang.IllegalStateException("no symmetry with name="+e);return t}},{key:"parseAxis",value:function(t,n,i,o,a){var s=t.getAttribute(n);null!=s&&0!==s.length||(s="icosahedral");var l,u=this.symmetries.getGroup(s),c=t.getAttribute(i);null==c||0===c.length?c="blue":((l=c)&&l.equals?l.equals("tan"):"tan"===l)?c="sand":function(e,t){return e&&e.equals?e.equals("spring"):"spring"===e}(c)&&(c="apple");var f=t.getAttribute(o),h=javaemul.internal.IntegerHelper.parseInt(f),d=e.vzome.core.math.symmetry.Symmetry.PLUS;(function(e,t){return e.equals?e.equals(t):e===t})("minus",t.getAttribute(a))&&(d=e.vzome.core.math.symmetry.Symmetry.MINUS);var p=!0,m=t.getAttribute("outbound");null!=m&&function(e,t){return e&&e.equals?e.equals("false"):"false"===e}(m)&&(p=!1);var v=u.getDirection(c);if(null==v){var g="Unsupported direction '"+c+"' in "+s+" symmetry";throw r.__com_vzome_core_commands_XmlSymmetryFormat_logger_$LI$().severe(g),new java.lang.IllegalStateException(g)}return v.getAxis$int$int$boolean(d,h,p)}}],[{key:"__static_initialize",value:function(){r.__static_initialized||(r.__static_initialized=!0,r.__static_initializer_0())}},{key:"__com_vzome_core_commands_XmlSymmetryFormat_logger_$LI$",value:function(){return r.__static_initialize(),null==r.__com_vzome_core_commands_XmlSymmetryFormat_logger&&(r.__com_vzome_core_commands_XmlSymmetryFormat_logger=java.util.logging.Logger.getLogger("com.vzome.core.commands.XmlSaveFormat")),r.__com_vzome_core_commands_XmlSymmetryFormat_logger}},{key:"__static_initializer_0",value:function(){new r("http://tns.vorthmann.org/vZome/2.0/",[e.vzome.core.commands.XmlSaveFormat.PROJECT_4D,e.vzome.core.commands.XmlSaveFormat.SELECTION_NOT_SAVED]),new r("http://tns.vorthmann.org/vZome/2.0.1/",[e.vzome.core.commands.XmlSaveFormat.PROJECT_4D,e.vzome.core.commands.XmlSaveFormat.SELECTION_NOT_SAVED]),new r("http://tns.vorthmann.org/vZome/2.0.2/",[e.vzome.core.commands.XmlSaveFormat.SELECTION_NOT_SAVED]),new r("http://tns.vorthmann.org/vZome/2.0.3/",[e.vzome.core.commands.XmlSaveFormat.SELECTION_NOT_SAVED]),new r("http://tns.vorthmann.org/vZome/2.1.0/",[e.vzome.core.commands.XmlSaveFormat.SELECTION_NOT_SAVED,e.vzome.core.commands.XmlSaveFormat.FORMAT_2_1_0]),new r("http://tns.vorthmann.org/vZome/3.0.0/",[e.vzome.core.commands.XmlSaveFormat.GROUPING_IN_SELECTION]),new r("http://tns.vorthmann.org/vZome/4.0.0/",[e.vzome.core.commands.XmlSaveFormat.RATIONAL_VECTORS,e.vzome.core.commands.XmlSaveFormat.GROUPING_IN_SELECTION]),new r("http://tns.vorthmann.org/vZome/5.0.0/",[e.vzome.core.commands.XmlSaveFormat.RATIONAL_VECTORS,e.vzome.core.commands.XmlSaveFormat.COMPACTED_COMMAND_EDITS]),new r(e.vzome.core.commands.XmlSaveFormat.CURRENT_FORMAT,[e.vzome.core.commands.XmlSaveFormat.RATIONAL_VECTORS,e.vzome.core.commands.XmlSaveFormat.COMPACTED_COMMAND_EDITS,e.vzome.core.commands.XmlSaveFormat.MULTIPLE_DESIGNS])}},{key:"getFormat",value:function(t){return e.vzome.core.commands.XmlSaveFormat.FORMATS_$LI$().get(t)}},{key:"serializeAxis",value:function(t,n,r,i,o,a){var s,l,u=a.getDirection().getSymmetry().getName();l=u,((s="icosahedral").equals?s.equals(l):s===l)||e.vzome.xml.DomUtils.addAttribute(t,n,u),function(e,t){return e.equals?e.equals(t):e===t}("blue",u=a.getDirection().getName())||e.vzome.xml.DomUtils.addAttribute(t,r,u),e.vzome.xml.DomUtils.addAttribute(t,i,""+a.getOrientation()),a.getSense()!==e.vzome.core.math.symmetry.Symmetry.PLUS&&e.vzome.xml.DomUtils.addAttribute(t,"sense","minus"),a.isOutbound()||e.vzome.xml.DomUtils.addAttribute(t,"outbound","false")}}]),r}();n.__static_initialized=!1,t.XmlSymmetryFormat=n,n.__class="com.vzome.core.commands.XmlSymmetryFormat"})((n=t.core||(t.core={})).commands||(n.commands={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.commands.AbstractCommand);var n=_createSuper(r);function r(){return _classCallCheck(this,r),n.call(this)}return _createClass(r,[{key:"getParameterSignature",value:function(){return r.PARAMS_$LI$()}},{key:"getAttributeSignature",value:function(){return null}},{key:"apply",value:function(t,n,r){var i=new e.vzome.core.construction.ConstructionList,o=n.get("where"),a=new e.vzome.core.construction.FreePoint(o);return r.constructionAdded(a),i.addConstruction(a),i}}],[{key:"PARAMS_$LI$",value:function(){return null==r.PARAMS&&(r.PARAMS=[]),r.PARAMS}}]),r}();t.CommandFreePoint=n,n.__class="com.vzome.core.commands.CommandFreePoint",n.__interfaces=["com.vzome.core.commands.Command"]})((n=t.core||(t.core={})).commands||(n.commands={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(n){_inherits(i,e.vzome.core.commands.AbstractCommand);var r=_createSuper(i);function i(){return _classCallCheck(this,i),r.call(this)}return _createClass(i,[{key:"getParameterSignature",value:function(){return i.PARAM_SIGNATURE_$LI$()}},{key:"getAttributeSignature",value:function(){return i.ATTR_SIGNATURE_$LI$()}},{key:"apply",value:function(e,n,r){throw new t.Command.Failure("CommandHide apply attempted")}}],[{key:"PARAM_SIGNATURE_$LI$",value:function(){return null==i.PARAM_SIGNATURE&&(i.PARAM_SIGNATURE=[[e.vzome.core.commands.Command.GENERIC_PARAM_NAME,e.vzome.core.construction.Construction]]),i.PARAM_SIGNATURE}},{key:"ATTR_SIGNATURE_$LI$",value:function(){return null==i.ATTR_SIGNATURE&&(i.ATTR_SIGNATURE=[]),i.ATTR_SIGNATURE}}]),i}();t.CommandHide=n,n.__class="com.vzome.core.commands.CommandHide",n.__interfaces=["com.vzome.core.commands.Command"]})((n=t.core||(t.core={})).commands||(n.commands={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.commands.AbstractCommand);var n=_createSuper(r);function r(){return _classCallCheck(this,r),n.call(this)}return _createClass(r,[{key:"getParameterSignature",value:function(){return r.PARAM_SIGNATURE_$LI$()}},{key:"getAttributeSignature",value:function(){return null}},{key:"apply",value:function(e,t,n){return e}}],[{key:"PARAM_SIGNATURE_$LI$",value:function(){return null==r.PARAM_SIGNATURE&&(r.PARAM_SIGNATURE=[]),r.PARAM_SIGNATURE}}]),r}();n.MANIFESTATION_ATTR="manifestation.context",n.COLOR_ATTR="color",t.CommandSetColor=n,n.__class="com.vzome.core.commands.CommandSetColor",n.__interfaces=["com.vzome.core.commands.Command"]})((n=t.core||(t.core={})).commands||(n.commands={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.UndoableEdit);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),void 0===(t=n.call(this)).mSelection&&(t.mSelection=null),t.mGrouping=!1,t.recursiveGroups=!0,t.unnecessary=!1,t.mSelection=e.getSelection(),t}return _createClass(r,[{key:"configure",value:function(e){var t,n=e.get("mode");this.mGrouping=null==n||0===n.length||((t=n)&&t.equals?t.equals("group"):"group"===t),this.unnecessary=this.mGrouping===this.mSelection.isSelectionAGroup()}},{key:"isNoOp",value:function(){return this.unnecessary}},{key:"getXml",value:function(t){var n=t.createElement("GroupSelection");return this.mGrouping||e.vzome.xml.DomUtils.addAttribute(n,"grouping","false"),n}},{key:"getDetailXml",value:function(e){return this.getXml(e)}},{key:"loadAndPerform",value:function(e,t,n){var r,i=e.getAttribute("grouping");this.mGrouping=null==i||0===i.length||((r=i)&&r.equals?r.equals("true"):"true"===r),this.recursiveGroups=t.groupingRecursive(),n.performAndRecord(this)}},{key:"isDestructive",value:function(){return!0}},{key:"isVisible",value:function(){return!0}},{key:"redo",value:function(){this.mGrouping?this.recursiveGroups?this.mSelection.gatherGroup():this.mSelection.gatherGroup211():this.recursiveGroups?this.mSelection.scatterGroup():this.mSelection.scatterGroup211()}},{key:"undo",value:function(){this.mGrouping?this.recursiveGroups?this.mSelection.scatterGroup():this.mSelection.scatterGroup211():this.recursiveGroups?this.mSelection.gatherGroup():this.mSelection.gatherGroup211()}},{key:"perform",value:function(){this.unnecessary||this.redo()}},{key:"isSticky",value:function(){return!1}}]),r}();t.GroupSelection=n,n.__class="com.vzome.core.edits.GroupSelection"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.UndoableEdit);var n=_createSuper(r);function r(t,i){var o;if(_classCallCheck(this,r),(null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.editor.api.ImplicitSymmetryParameters")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.editor.api.ImplicitSymmetryParameters")>=0)||null===t)&&(null!=i&&i instanceof e.vzome.core.construction.Point||null===i))void 0===(o=n.call(this)).mOldCenter&&(o.mOldCenter=null),void 0===o.mNewCenter&&(o.mNewCenter=null),void 0===o.editor&&(o.editor=null),void 0===o.mOldCenter&&(o.mOldCenter=null),void 0===o.mNewCenter&&(o.mNewCenter=null),void 0===o.editor&&(o.editor=null),o.mOldCenter=t.getCenterPoint(),o.mNewCenter=i,o.editor=t;else{if(!(null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.editor.api.ImplicitSymmetryParameters")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.editor.api.ImplicitSymmetryParameters")>=0)||null===t)||void 0!==i)throw new Error("invalid overload");void 0===(o=n.call(this)).mOldCenter&&(o.mOldCenter=null),void 0===o.mNewCenter&&(o.mNewCenter=null),void 0===o.editor&&(o.editor=null),void 0===o.mOldCenter&&(o.mOldCenter=null),void 0===o.mNewCenter&&(o.mNewCenter=null),void 0===o.editor&&(o.editor=null),o.mOldCenter=t.getCenterPoint(),o.mNewCenter=null,o.editor=t}return _possibleConstructorReturn(o)}return _createClass(r,[{key:"configure",value:function(e){var t=e.get("picked");null!=t&&(this.mNewCenter=t.getFirstConstruction())}},{key:"isNoOp",value:function(){return null==this.mNewCenter||this.mNewCenter.getLocation().equals(this.mOldCenter.getLocation())}},{key:"isVisible",value:function(){return!1}},{key:"redo",value:function(){this.isNoOp()||this.editor.setCenterPoint(this.mNewCenter)}},{key:"undo",value:function(){this.isNoOp()||this.editor.setCenterPoint(this.mOldCenter)}},{key:"getXml",value:function(t){var n=t.createElement("SymmetryCenterChange");return e.vzome.core.commands.XmlSaveFormat.serializePoint(n,"new",this.mNewCenter),n}},{key:"getDetailXml",value:function(e){return this.getXml(e)}},{key:"loadAndPerform",value:function(t,n,r){if(n.rationalVectors())this.mNewCenter=n.parsePoint$org_w3c_dom_Element$java_lang_String(t,"new");else{var i=n.loadCommandAttributes$org_w3c_dom_Element(t).get("new");this.mNewCenter=new e.vzome.core.construction.FreePoint(i.getLocation().projectTo3d(!0))}r.performAndRecord(this)}},{key:"perform",value:function(){if(null==this.mNewCenter&&(this.mNewCenter=this.editor.getSelectedConstruction(e.vzome.core.construction.Point),null==this.mNewCenter))throw new e.vzome.core.commands.Command.Failure("Selection is not a single ball.");this.redo()}},{key:"isDestructive",value:function(){return!0}},{key:"isSticky",value:function(){return!1}}]),r}();t.SymmetryCenterChange=n,n.__class="com.vzome.core.edits.SymmetryCenterChange"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.UndoableEdit);var n=_createSuper(r);function r(t,i){var o;if(_classCallCheck(this,r),(null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.editor.api.ImplicitSymmetryParameters")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.editor.api.ImplicitSymmetryParameters")>=0)||null===t)&&(null!=i&&i instanceof e.vzome.core.construction.Segment||null===i))void 0===(o=n.call(this)).mOldAxis&&(o.mOldAxis=null),void 0===o.mNewAxis&&(o.mNewAxis=null),void 0===o.mEditor&&(o.mEditor=null),void 0===o.mOldAxis&&(o.mOldAxis=null),void 0===o.mNewAxis&&(o.mNewAxis=null),void 0===o.mEditor&&(o.mEditor=null),o.mOldAxis=t.getSymmetrySegment(),o.mNewAxis=i,o.mEditor=t;else{if(!(null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.editor.api.ImplicitSymmetryParameters")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.editor.api.ImplicitSymmetryParameters")>=0)||null===t)||void 0!==i)throw new Error("invalid overload");void 0===(o=n.call(this)).mOldAxis&&(o.mOldAxis=null),void 0===o.mNewAxis&&(o.mNewAxis=null),void 0===o.mEditor&&(o.mEditor=null),void 0===o.mOldAxis&&(o.mOldAxis=null),void 0===o.mNewAxis&&(o.mNewAxis=null),void 0===o.mEditor&&(o.mEditor=null),o.mOldAxis=t.getSymmetrySegment(),o.mNewAxis=null,o.mEditor=t}return _possibleConstructorReturn(o)}return _createClass(r,[{key:"configure",value:function(e){var t=e.get("picked");null!=t&&(this.mNewAxis=t.getFirstConstruction())}},{key:"isVisible",value:function(){return!1}},{key:"isNoOp",value:function(){return null==this.mNewAxis||null!=this.mOldAxis&&this.mNewAxis.getStart().equals(this.mOldAxis.getStart())&&this.mNewAxis.getEnd().equals(this.mOldAxis.getEnd())}},{key:"redo",value:function(){this.isNoOp()||this.mEditor.setSymmetrySegment(this.mNewAxis)}},{key:"undo",value:function(){this.isNoOp()||this.mEditor.setSymmetrySegment(this.mOldAxis)}},{key:"getXml",value:function(t){var n=t.createElement("SymmetryAxisChange");return e.vzome.core.commands.XmlSaveFormat.serializeSegment(n,"start","end",this.mNewAxis),n}},{key:"getDetailXml",value:function(e){return this.getXml(e)}},{key:"loadAndPerform",value:function(e,t,n){if(t.rationalVectors())this.mNewAxis=t.parseSegment$org_w3c_dom_Element$java_lang_String$java_lang_String(e,"start","end");else{var r=t.loadCommandAttributes$org_w3c_dom_Element(e);this.mNewAxis=r.get("new")}n.performAndRecord(this)}},{key:"perform",value:function(){if(null==this.mNewAxis&&(this.mNewAxis=this.mEditor.getSelectedConstruction(e.vzome.core.construction.Segment),null==this.mNewAxis))throw new e.vzome.core.commands.Command.Failure("Selection is not a single strut.");this.redo()}},{key:"isDestructive",value:function(){return!0}},{key:"isSticky",value:function(){return!1}}]),r}();t.SymmetryAxisChange=n,n.__class="com.vzome.core.edits.SymmetryAxisChange"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.UndoableEdit);var n=_createSuper(r);function r(e){return _classCallCheck(this,r),n.call(this)}return _createClass(r,[{key:"isNoOp",value:function(){return!1}},{key:"getXml",value:function(e){return e.createElement("EndBlock")}},{key:"getDetailXml",value:function(e){return this.getXml(e)}},{key:"isVisible",value:function(){return!1}},{key:"isDestructive",value:function(){return!1}},{key:"redo",value:function(){}},{key:"loadAndPerform",value:function(e,t,n){n.performAndRecord(this)}},{key:"undo",value:function(){}},{key:"configure",value:function(e){}},{key:"perform",value:function(){}},{key:"isSticky",value:function(){return!1}}]),r}();t.EndBlock=n,n.__class="com.vzome.core.editor.EndBlock"})((n=t.core||(t.core={})).editor||(n.editor={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.UndoableEdit);var n=_createSuper(r);function r(e){return _classCallCheck(this,r),n.call(this)}return _createClass(r,[{key:"isNoOp",value:function(){return!1}},{key:"getXml",value:function(e){return e.createElement("BeginBlock")}},{key:"getDetailXml",value:function(e){return this.getXml(e)}},{key:"isVisible",value:function(){return!1}},{key:"isDestructive",value:function(){return!1}},{key:"redo",value:function(){}},{key:"loadAndPerform",value:function(e,t,n){n.performAndRecord(this)}},{key:"undo",value:function(){}},{key:"perform",value:function(){}},{key:"isSticky",value:function(){return!1}},{key:"configure",value:function(e){}}]),r}();t.BeginBlock=n,n.__class="com.vzome.core.editor.BeginBlock"})((n=t.core||(t.core={})).editor||(n.editor={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){var t;(function(t){var n;!function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.UndoableEdit);var n=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=n.call(this)).mItems=new java.util.ArrayList,e.redone=0,e}return _createClass(r,[{key:"getDetailXml",value:function(e){for(var t=this.getXml(e),n=e.createElement("effects"),r=this.mItems.iterator();r.hasNext();){var i=r.next();if(null!=i){var o=i.getXml(e);null!=o&&n.appendChild(o)}}return t.appendChild(n),t}},{key:"isSticky",value:function(){return!1}},{key:"isVisible",value:function(){return!0}},{key:"isDestructive",value:function(){return!0}},{key:"plan",value:function(e){this.mItems.add(e)}},{key:"perform",value:function(){this.redo()}},{key:"fail",value:function(t){throw this.undo(),new e.vzome.core.commands.Command.Failure(t)}},{key:"configure",value:function(e){}},{key:"isNoOp",value:function(){return 0===this.mItems.size()}},{key:"redo",value:function(){for(var e=this.redone;e<this.mItems.size();e++){var t=this.mItems.get(e);null!=t&&t.redo()}this.redone=this.mItems.size()}},{key:"undo",value:function(){for(var e=this.mItems.size();e>0;e--){var t=this.mItems.get(e-1);null!=t&&t.undo()}this.redone=0}},{key:"getEffects",value:function(){return this.mItems.iterator()}}],[{key:"BUG_ACCOMMODATION_LOGGER_$LI$",value:function(){return null==r.BUG_ACCOMMODATION_LOGGER&&(r.BUG_ACCOMMODATION_LOGGER=java.util.logging.Logger.getLogger("com.vzome.core.bug.accommodations")),r.BUG_ACCOMMODATION_LOGGER}},{key:"logBugAccommodation",value:function(e){r.BUG_ACCOMMODATION_LOGGER_$LI$().isLoggable(java.util.logging.Level.WARNING)&&r.BUG_ACCOMMODATION_LOGGER_$LI$().warning("ACCOMMODATION: "+e)}}]),r}();t.SideEffects=n,n.__class="com.vzome.core.editor.api.SideEffects"}((n=t.editor||(t.editor={})).api||(n.api={}))})((t=e.vzome||(e.vzome={})).core||(t.core={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.AbstractToolFactory);var n=_createSuper(r);function r(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.ID,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.LABEL,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.TOOLTIP2;return _classCallCheck(this,r),n.call(this,e,t,i,o,a)}return _createClass(r,[{key:"countsAreValid",value:function(e,t,n,r){return 1===e&&1===t||2===e&&1===t&&1===n}},{key:"createToolInternal",value:function(t){return new e.vzome.core.tools.SymmetryTool(t,this.getSymmetry(),this.getToolsModel())}},{key:"bindParameters",value:function(t){var n=this.getSymmetry(),r=this.getSelection().size();if(null!=n&&n instanceof e.vzome.core.math.symmetry.IcosahedralSymmetry){if(2!==r)return!1;for(var i=t.iterator();i.hasNext();){var o=i.next();if(null!=o&&(null!=o.__interfaces&&o.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=o.constructor&&null!=o.constructor.__interfaces&&o.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0)){var a=n.getAxis$com_vzome_core_algebra_AlgebraicVector(o.getOffset());if(null==a)return!1;switch(a.getDirection().getName()){case"blue":case"green":return!0;default:return!1}}}return!1}return 1===r}}]),r}();n.ID="octahedral",n.LABEL="Create an octahedral symmetry tool",n.TOOLTIP1="<p>Each tool produces up to 23 copies of the input<br>selection, using the rotation symmetries of a<br>cube or octahedron.  To create a tool, select a<br>ball that defines the center of symmetry, and<br>a single blue or green strut, defining one of<br>five possible orientations for the symmetry.<br><br>Combine with a point reflection tool to achieve<br>all 48 symmetries of the octahedron, including<br>reflections.<br></p>",n.TOOLTIP2="<p>Each tool produces up to 23 copies of the input<br>selection, using the rotation symmetries of a<br>cube or octahedron.  To create a tool, select a<br>ball that defines the center of symmetry.<br><br>Combine with a point reflection tool to achieve<br>all 48 symmetries of the octahedron, including<br>reflections.<br></p>",t.OctahedralToolFactory=n,n.__class="com.vzome.core.tools.OctahedralToolFactory",n.__interfaces=["com.vzome.core.editor.SelectionSummary.Listener","com.vzome.api.Tool.Factory"]})((n=t.core||(t.core={})).tools||(n.tools={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.AbstractToolFactory);var n=_createSuper(r);function r(e,t){return _classCallCheck(this,r),n.call(this,e,t,r.ID,r.LABEL,r.TOOLTIP)}return _createClass(r,[{key:"countsAreValid",value:function(e,t,n,r){return 1===e&&1===t}},{key:"createToolInternal",value:function(t){return new e.vzome.core.tools.SymmetryTool(t,this.getSymmetry(),this.getToolsModel())}},{key:"bindParameters",value:function(e){return 1===e.size()&&null!=e.iterator().next()&&(null!=e.iterator().next().__interfaces&&e.iterator().next().__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=e.iterator().next().constructor&&null!=e.iterator().next().constructor.__interfaces&&e.iterator().next().constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0)}}]),r}();n.ID="icosahedral",n.LABEL="Create an icosahedral symmetry tool",n.TOOLTIP="<p>Each tool produces up to 59 copies of the input<br>selection, using the rotation symmetries of an<br>icosahedron.  To create a tool, select a single<br>ball that defines the center of symmetry.<br><br>Combine with a point reflection tool to achieve<br>all 120 symmetries of the icosahedron, including<br>reflections.<br></p>",t.IcosahedralToolFactory=n,n.__class="com.vzome.core.tools.IcosahedralToolFactory",n.__interfaces=["com.vzome.core.editor.SelectionSummary.Listener","com.vzome.api.Tool.Factory"]})((n=t.core||(t.core={})).tools||(n.tools={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.commands.AbstractCommand);var n=_createSuper(r);function r(){return _classCallCheck(this,r),n.call(this)}return _createClass(r,[{key:"getParameterSignature",value:function(){return r.PARAM_SIGNATURE_$LI$()}},{key:"getAttributeSignature",value:function(){return r.ATTR_SIGNATURE_$LI$()}},{key:"apply",value:function(t,n,r){return new e.vzome.core.construction.ConstructionList}}],[{key:"PARAM_SIGNATURE_$LI$",value:function(){return null==r.PARAM_SIGNATURE&&(r.PARAM_SIGNATURE=[]),r.PARAM_SIGNATURE}},{key:"ATTR_SIGNATURE_$LI$",value:function(){return null==r.ATTR_SIGNATURE&&(r.ATTR_SIGNATURE=[[r.XML_ATTR,"org.w3c.dom.Element"]]),r.ATTR_SIGNATURE}}]),r}();n.XML_ATTR="xml",t.CommandLoad=n,n.__class="com.vzome.core.commands.CommandLoad",n.__interfaces=["com.vzome.core.commands.Command"]})((n=t.core||(t.core={})).commands||(n.commands={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(){function t(e,n,r){var i=this;if(_classCallCheck(this,t),"number"!==typeof e&&null!==e||"number"!==typeof n&&null!==n||"number"!==typeof r&&null!==r){if(void 0!==e||void 0!==n||void 0!==r)throw new Error("invalid overload");void 0===this.x&&(this.x=0),void 0===this.y&&(this.y=0),void 0===this.z&&(this.z=0),void 0===this.x&&(this.x=0),void 0===this.y&&(this.y=0),void 0===this.z&&(this.z=0),i.x=Math.fround(0),i.y=Math.fround(0),i.z=Math.fround(0)}else void 0===this.x&&(this.x=0),void 0===this.y&&(this.y=0),void 0===this.z&&(this.z=0),void 0===this.x&&(this.x=0),void 0===this.y&&(this.y=0),void 0===this.z&&(this.z=0),i.x=Math.fround(e),i.y=Math.fround(n),i.z=Math.fround(r)}return _createClass(t,[{key:"toXmlAttributes",value:function(){return'x="'+t.FORMAT_$LI$().format(this.x)+'" y="'+t.FORMAT_$LI$().format(this.y)+'" z="'+t.FORMAT_$LI$().format(this.z)+'"'}},{key:"toString$java_text_NumberFormat",value:function(e){return e.format(this.x)+","+e.format(this.y)+","+e.format(this.z)}},{key:"toString",value:function(e){if(null!=e&&e instanceof java.text.NumberFormat||null===e)return this.toString$java_text_NumberFormat(e);if(void 0===e)return this.toString$();throw new Error("invalid overload")}},{key:"toString$",value:function(){return t.FORMAT_$LI$().format(this.x)+","+t.FORMAT_$LI$().format(this.y)+","+t.FORMAT_$LI$().format(this.z)}},{key:"spacedString",value:function(){return t.FORMAT_$LI$().format(this.x)+" "+t.FORMAT_$LI$().format(this.y)+" "+t.FORMAT_$LI$().format(this.z)}},{key:"plus",value:function(e){return new t(Math.fround(this.x+e.x),Math.fround(this.y+e.y),Math.fround(this.z+e.z))}},{key:"minus",value:function(e){return new t(Math.fround(this.x-e.x),Math.fround(this.y-e.y),Math.fround(this.z-e.z))}},{key:"scale",value:function(e){return new t(this.x*e,this.y*e,this.z*e)}},{key:"dot",value:function(e){return Math.fround(Math.fround(Math.fround(this.x*e.x)+Math.fround(this.y*e.y))+Math.fround(this.z*e.z))}},{key:"cross",value:function(e){return new t(Math.fround(Math.fround(this.y*e.z)-Math.fround(this.z*e.y)),Math.fround(Math.fround(this.z*e.x)-Math.fround(this.x*e.z)),Math.fround(Math.fround(this.x*e.y)-Math.fround(this.y*e.x)))}},{key:"length",value:function(){return Math.sqrt(this.dot(this))}},{key:"normalize",value:function(){return this.scale(1/this.length())}},{key:"write",value:function(e,t){e.put(t,this.x),e.put(t+1,this.y),e.put(t+2,this.z)}},{key:"equals",value:function(t){if(null==t)return!1;if(t===this)return!0;if(!(null!=t&&t instanceof e.vzome.core.math.RealVector))return!1;var n=t;return this.x===n.x&&this.y===n.y&&this.z===n.z}},{key:"hashCode",value:function(){var e=3;return e=41*(e=41*(e=41*e+(javaemul.internal.DoubleHelper.doubleToLongBits(this.x)^javaemul.internal.DoubleHelper.doubleToLongBits(this.x)>>>32|0))+(javaemul.internal.DoubleHelper.doubleToLongBits(this.y)^javaemul.internal.DoubleHelper.doubleToLongBits(this.y)>>>32|0))+(javaemul.internal.DoubleHelper.doubleToLongBits(this.z)^javaemul.internal.DoubleHelper.doubleToLongBits(this.z)>>>32|0)}},{key:"addTo",value:function(e,t){t[0]=Math.fround(e[0]+this.x),t[1]=Math.fround(e[1]+this.y),t[2]=Math.fround(e[2]+this.z)}},{key:"toArray",value:function(e){e[0]=this.x,e[1]=this.y,e[2]=this.z}}],[{key:"__static_initialize",value:function(){t.__static_initialized||(t.__static_initialized=!0,t.__static_initializer_0())}},{key:"ORIGIN_$LI$",value:function(){return t.__static_initialize(),null==t.ORIGIN&&(t.ORIGIN=new t(0,0,0)),t.ORIGIN}},{key:"FORMAT_$LI$",value:function(){return t.__static_initialize(),null==t.FORMAT&&(t.FORMAT=java.text.NumberFormat.getNumberInstance(java.util.Locale.US)),t.FORMAT}},{key:"DIRECTION_0_$LI$",value:function(){return t.__static_initialize(),null==t.DIRECTION_0&&(t.DIRECTION_0=new t(10,.1,-.1)),t.DIRECTION_0}},{key:"__static_initializer_0",value:function(){t.FORMAT_$LI$().setMaximumFractionDigits(5),t.FORMAT_$LI$().setMinimumFractionDigits(1)}}]),t}();n.__static_initialized=!1,t.RealVector=n,n.__class="com.vzome.core.math.RealVector"})((n=t.core||(t.core={})).math||(n.math={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){var t;(function(t){var n=function(t){_inherits(r,e.vzome.jsweet.JsManifestation);var n=_createSuper(r);function r(e,t,i){return _classCallCheck(this,r),n.call(this,e,t,i)}return _createClass(r,[{key:"toConstruction",value:function(){for(var t=new java.util.ArrayList,n=0;n<this.vectors.length;n++){var r=this.field.createVectorFromTDs(this.vectors[n]);t.add(new e.vzome.core.construction.FreePoint(this.field.projectTo3d(r,!0)))}return new e.vzome.core.construction.PolygonFromVertices(t)}},{key:"getLocation",value:function(){return null}},{key:"getNormal$",value:function(){return this.getZoneVector()}},{key:"getZoneVector",value:function(){var t=this.field.createVectorFromTDs(this.vectors[0]),n=this.field.createVectorFromTDs(this.vectors[1]),r=this.field.createVectorFromTDs(this.vectors[2]);return e.vzome.core.algebra.AlgebraicVectors.getNormal$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_algebra_AlgebraicVector(t,n,r)}},{key:"iterator",value:function(){return new r.JsPanel$0(this)}},{key:"setZoneVector",value:function(e){}},{key:"getFirstVertex",value:function(){return this.field.createVectorFromTDs(this.vectors[0])}},{key:"getVertices",value:function(){throw new java.lang.RuntimeException("unimplemented")}},{key:"getVertexCount",value:function(){throw new java.lang.RuntimeException("unimplemented")}},{key:"getNormal$com_vzome_core_math_symmetry_Embedding",value:function(e){throw new java.lang.RuntimeException("unimplemented")}},{key:"getNormal",value:function(e){if(null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.math.symmetry.Embedding")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.math.symmetry.Embedding")>=0)||null===e)return this.getNormal$com_vzome_core_math_symmetry_Embedding(e);if(void 0===e)return this.getNormal$();throw new Error("invalid overload")}}]),r}();t.JsPanel=n,n.__class="com.vzome.jsweet.JsPanel",n.__interfaces=["com.vzome.core.model.GroupElement","com.vzome.core.model.Panel","com.vzome.core.model.Manifestation","java.lang.Iterable"],function(e){var t=function(){function e(t){_classCallCheck(this,e),this.__parent=t,this.i=0}return _createClass(e,[{key:"hasNext",value:function(){return this.i<this.__parent.vectors.length}},{key:"next",value:function(){return this.__parent.field.createVectorFromTDs(this.__parent.vectors[this.i++])}}]),e}();e.JsPanel$0=t,t.__interfaces=["java.util.Iterator"]}(n=t.JsPanel||(t.JsPanel={}))})((t=e.vzome||(e.vzome={})).jsweet||(t.jsweet={}))}(com||(com={})),function(e){var t;(function(t){var n=function(t){_inherits(r,e.vzome.jsweet.JsManifestation);var n=_createSuper(r);function r(e,t,i){return _classCallCheck(this,r),n.call(this,e,t,i)}return _createClass(r,[{key:"getLocation",value:function(){return this.field.createVectorFromTDs(this.vectors[0])}},{key:"toConstruction",value:function(){return new e.vzome.core.construction.FreePoint(this.getLocation())}},{key:"compareTo",value:function(e){throw new java.lang.RuntimeException("unimplemented")}}]),r}();t.JsBall=n,n.__class="com.vzome.jsweet.JsBall",n.__interfaces=["com.vzome.core.model.GroupElement","com.vzome.core.model.Connector","java.lang.Comparable","com.vzome.core.model.Manifestation"]})((t=e.vzome||(e.vzome={})).jsweet||(t.jsweet={}))}(com||(com={})),function(e){var t;(function(t){var n=function(t){_inherits(r,e.vzome.jsweet.JsManifestation);var n=_createSuper(r);function r(e,t,i){return _classCallCheck(this,r),n.call(this,e,t,i)}return _createClass(r,[{key:"getLocation",value:function(){return this.field.createVectorFromTDs(this.vectors[0])}},{key:"toConstruction",value:function(){return new e.vzome.core.construction.SegmentJoiningPoints(new e.vzome.core.construction.FreePoint(this.getLocation()),new e.vzome.core.construction.FreePoint(this.getEnd()))}},{key:"getEnd",value:function(){return this.field.createVectorFromTDs(this.vectors[1])}},{key:"getOffset",value:function(){var e=this.getLocation();return this.getEnd().minus(e)}},{key:"setZoneVector",value:function(e){}},{key:"getZoneVector",value:function(){return this.getOffset()}},{key:"compareTo",value:function(e){throw new java.lang.RuntimeException("unimplemented")}},{key:"getCanonicalLesserEnd",value:function(){throw new java.lang.RuntimeException("unimplemented")}},{key:"getCanonicalGreaterEnd",value:function(){throw new java.lang.RuntimeException("unimplemented")}}]),r}();t.JsStrut=n,n.__class="com.vzome.jsweet.JsStrut",n.__interfaces=["com.vzome.core.model.GroupElement","com.vzome.core.model.Strut","java.lang.Comparable","com.vzome.core.model.Manifestation"]})((t=e.vzome||(e.vzome={})).jsweet||(t.jsweet={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.commands.AbstractCommand);var n=_createSuper(r);function r(e){var t;if(_classCallCheck(this,r),null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.math.Projection")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.math.Projection")>=0)||null===e)void 0===(t=n.call(this)).mProjection&&(t.mProjection=null),t.quaternionVector=null,void 0===t.mProjection&&(t.mProjection=null),t.mProjection=e;else{if(void 0!==e)throw new Error("invalid overload");void 0===(t=n.call(this)).mProjection&&(t.mProjection=null),t.quaternionVector=null,void 0===t.mProjection&&(t.mProjection=null),t.mProjection=null}return _possibleConstructorReturn(t)}return _createClass(r,[{key:"getParameterSignature",value:function(){return r.PARAM_SIGNATURE_$LI$()}},{key:"getAttributeSignature",value:function(){return r.ATTR_SIGNATURE_$LI$()}},{key:"attributeIs3D",value:function(e){return n=e,!((t="symmetry.axis.segment").equals?t.equals(n):t===n);var t,n}},{key:"setQuaternion",value:function(e){this.quaternionVector=e}},{key:"setXml",value:function(e,t){var n=_get(_getPrototypeOf(r.prototype),"setXml",this).call(this,e,t);return this.quaternionVector=t.parseRationalVector(e,"quaternion"),n}},{key:"getXml",value:function(t,n){null!=this.quaternionVector&&e.vzome.xml.DomUtils.addAttribute(t,"quaternion",this.quaternionVector.toParsableString()),_get(_getPrototypeOf(r.prototype),"getXml",this).call(this,t,n)}},{key:"setFixedAttributes",value:function(e,t){e.containsKey(r.FIELD_ATTR_NAME)||e.put(r.FIELD_ATTR_NAME,t.getField()),_get(_getPrototypeOf(r.prototype),"setFixedAttributes",this).call(this,e,t)}},{key:"apply",value:function(t,n,i){var o=new e.vzome.core.construction.ConstructionList,a=n.get(r.FIELD_ATTR_NAME);null==a&&(a=n.get(e.vzome.core.commands.Command.FIELD_ATTR_NAME));var s=n.get(e.vzome.core.commands.CommandTransform.SYMMETRY_AXIS_ATTR_NAME),l=n.get(r.VEF_STRING_ATTR_NAME),u=n.get(r.NO_INVERSION_ATTR_NAME),c=this.mProjection;if(null==c){var f=this.quaternionVector;null==f&&(f=null==s?null:s.getOffset()),null!=f&&(f=f.scale(a.createPower$int(-5))),c=null==f?null:new e.vzome.core.math.QuaternionProjection(a,null,f)}return null!=u&&u?new r.VefToModelNoInversion(this,c,a,i).parseVEF(l,a):new e.vzome.core.construction.VefToModel(c,i,a.createPower$int(5),null).parseVEF(l,a),o}}],[{key:"PARAM_SIGNATURE_$LI$",value:function(){return null==r.PARAM_SIGNATURE&&(r.PARAM_SIGNATURE=[[e.vzome.core.commands.Command.GENERIC_PARAM_NAME,e.vzome.core.construction.Construction]]),r.PARAM_SIGNATURE}},{key:"ATTR_SIGNATURE_$LI$",value:function(){return null==r.ATTR_SIGNATURE&&(r.ATTR_SIGNATURE=[[r.VEF_STRING_ATTR_NAME,String],[e.vzome.core.commands.Command.FIELD_ATTR_NAME,java.io.InputStream],[r.NO_INVERSION_ATTR_NAME,java.io.InputStream]]),r.ATTR_SIGNATURE}},{key:"logger_$LI$",value:function(){return null==r.logger&&(r.logger=java.util.logging.Logger.getLogger("com.vzome.core.commands.importVEF")),r.logger}}]),r}();n.X=0,n.Y=1,n.Z=2,n.W=3,n.VEF_STRING_ATTR_NAME="org.vorthmann.zome.commands.CommandImportVEFData.vef.string",n.FIELD_ATTR_NAME="org.vorthmann.zome.commands.CommandImportVEFData.field",n.NO_INVERSION_ATTR_NAME="org.vorthmann.zome.commands.CommandImportVEFData.no.inversion",t.CommandImportVEFData=n,n.__class="com.vzome.core.commands.CommandImportVEFData",n.__interfaces=["com.vzome.core.commands.Command"],function(t){var n=function(t){_inherits(r,e.vzome.core.construction.VefToModel);var n=_createSuper(r);function r(e,t,i,o){var a;return _classCallCheck(this,r),(a=n.call(this,t,o,i.createPower$int(5),null)).__parent=e,void 0===a.mProjected&&(a.mProjected=null),a.mUsedPoints=new java.util.HashSet,a}return _createClass(r,[{key:"addVertex",value:function(t,n){null!=this.scale&&(n=n.scale(this.scale)),null!=this.mProjection&&(n=this.mProjection.projectImage(n,this.wFirst())),this.mVertices[t]=new e.vzome.core.construction.FreePoint(n)}},{key:"startEdges",value:function(e){this.mProjected=function e(t){if(0==t.length)return null;for(var n=[],r=0;r<t[0];r++)n.push(e(t.slice(1)));return n}([e,2])}},{key:"addEdge",value:function(t,n,r){var i=this.mVertices[n],o=this.mVertices[r];if(null!=i&&null!=o){for(var a=new e.vzome.core.construction.SegmentJoiningPoints(i,o),s=i.getLocation().projectTo3d(this.wFirst()).negate(),l=o.getLocation().projectTo3d(this.wFirst()).negate(),u=0;u<t;u++){if(s.equals(this.mProjected[u][0])&&l.equals(this.mProjected[u][1]))return;if(l.equals(this.mProjected[u][0])&&s.equals(this.mProjected[u][1]))return}this.mProjected[t][0]=s.negate(),this.mProjected[t][1]=l.negate(),this.mEffects.constructionAdded(a),this.mUsedPoints.add(i),this.mUsedPoints.add(o)}}},{key:"endEdges",value:function(){for(var e=this.mUsedPoints.iterator();e.hasNext();){var t=e.next();this.mEffects.constructionAdded(t)}}}]),r}();t.VefToModelNoInversion=n,n.__class="com.vzome.core.commands.CommandImportVEFData.VefToModelNoInversion"}(n=t.CommandImportVEFData||(t.CommandImportVEFData={}))})((n=t.core||(t.core={})).commands||(n.commands={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Polygon);var n=_createSuper(r);function r(t){var i;if(_classCallCheck(this,r),null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("java.util.List")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("java.util.List")>=0)||null===t){var o=t.toArray(function(e){for(var t=[];e-- >0;)t.push(null);return t}(t.size()));void 0===(i=n.call(this,0===o.length?null:o[0].field)).__com_vzome_core_construction_PolygonFromVertices_mVertices&&(i.__com_vzome_core_construction_PolygonFromVertices_mVertices=null),void 0===i.__com_vzome_core_construction_PolygonFromVertices_mVertices&&(i.__com_vzome_core_construction_PolygonFromVertices_mVertices=null),i.__com_vzome_core_construction_PolygonFromVertices_mVertices=o,i.mapParamsToState()}else{if(!(null!=t&&t instanceof Array&&(0==t.length||null==t[0]||null!=t[0]&&t[0]instanceof e.vzome.core.construction.Point)||null===t))throw new Error("invalid overload");var a=arguments[0];void 0===(i=n.call(this,0===a.length?null:a[0].field)).__com_vzome_core_construction_PolygonFromVertices_mVertices&&(i.__com_vzome_core_construction_PolygonFromVertices_mVertices=null),void 0===i.__com_vzome_core_construction_PolygonFromVertices_mVertices&&(i.__com_vzome_core_construction_PolygonFromVertices_mVertices=null),i.__com_vzome_core_construction_PolygonFromVertices_mVertices=a,i.mapParamsToState()}return _possibleConstructorReturn(i)}return _createClass(r,[{key:"mapParamsToState",value:function(){for(var e=function(e){for(var t=[];e-- >0;)t.push(null);return t}(this.__com_vzome_core_construction_PolygonFromVertices_mVertices.length),t=0;t<this.__com_vzome_core_construction_PolygonFromVertices_mVertices.length;t++)e[t]=this.__com_vzome_core_construction_PolygonFromVertices_mVertices[t].getLocation();return this.setStateVariable(e,!1)}}]),r}();t.PolygonFromVertices=n,n.__class="com.vzome.core.construction.PolygonFromVertices"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Polygon);var n=_createSuper(r);function r(e,t){var i;return _classCallCheck(this,r),void 0===(i=n.call(this,t.field)).mTransform&&(i.mTransform=null),void 0===i.mPrototype&&(i.mPrototype=null),i.mTransform=e,i.mPrototype=t,i.mapParamsToState(),i}return _createClass(r,[{key:"mapParamsToState",value:function(){for(var e=function(e){for(var t=[];e-- >0;)t.push(null);return t}(this.mPrototype.getVertexCount()),t=0;t<e.length;t++)e[t]=this.mTransform.transform$com_vzome_core_algebra_AlgebraicVector(this.mPrototype.getVertex(t));return this.setStateVariable(e,!1)}}]),r}();t.TransformedPolygon=n,n.__class="com.vzome.core.construction.TransformedPolygon"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Polygon);var n=_createSuper(r);function r(e,t,i){var o;return _classCallCheck(this,r),void 0===(o=n.call(this,i.field)).mLeftQuaternion&&(o.mLeftQuaternion=null),void 0===o.mRightQuaternion&&(o.mRightQuaternion=null),void 0===o.mPrototype&&(o.mPrototype=null),o.mLeftQuaternion=e,o.mRightQuaternion=t,o.mPrototype=i,o.mapParamsToState(),o}return _createClass(r,[{key:"mapParamsToState",value:function(){if(this.mPrototype.isImpossible())return this.setStateVariable(null,!0);for(var e=function(e){for(var t=[];e-- >0;)t.push(null);return t}(this.mPrototype.getVertexCount()),t=0;t<e.length;t++){var n=this.mRightQuaternion.leftMultiply(this.mPrototype.getVertex(t));n=this.mLeftQuaternion.rightMultiply(n),e[t]=n}return this.setStateVariable(e,!1)}}]),r}();t.PolygonRotated4D=n,n.__class="com.vzome.core.construction.PolygonRotated4D"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Transformation);var n=_createSuper(r);function r(e,t){var i;return _classCallCheck(this,r),(i=n.call(this,t.getField())).setStateVariables(e,t,!1),i}return _createClass(r,[{key:"mapParamsToState",value:function(){return!0}}]),r}();t.MatrixTransformation=n,n.__class="com.vzome.core.construction.MatrixTransformation"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Transformation);var n=_createSuper(r);function r(e,t){var i;return _classCallCheck(this,r),void 0===(i=n.call(this,e.field)).projectionPlane&&(i.projectionPlane=null),void 0===i.projectionVector&&(i.projectionVector=null),i.projectionPlane=e,i.projectionVector=null==t?e.getNormal():t.getDirection(),i.mapParamsToState(),i}return _createClass(r,[{key:"mapParamsToState",value:function(){this.projectionPlane.isImpossible()&&this.setStateVariables(null,null,!0);var e=this.projectionPlane.getBase();return this.setStateVariables(null,e,!1)}},{key:"transform$com_vzome_core_algebra_AlgebraicVector",value:function(t){var n=new e.vzome.core.construction.LineFromPointAndVector(t,this.projectionVector);return new e.vzome.core.construction.LinePlaneIntersectionPoint(this.projectionPlane,n).getLocation()}},{key:"transform",value:function(t){if(null!=t&&t instanceof e.vzome.core.algebra.AlgebraicVector||null===t)return this.transform$com_vzome_core_algebra_AlgebraicVector(t);if(null!=t&&t instanceof e.vzome.core.construction.Construction||null===t)return this.transform$com_vzome_core_construction_Construction(t);throw new Error("invalid overload")}},{key:"transform$com_vzome_core_construction_Construction",value:function(t){if(null!=t&&t instanceof e.vzome.core.construction.Segment){if(e.vzome.core.algebra.AlgebraicVectors.areParallel(this.projectionVector,t.getOffset()))return new e.vzome.core.construction.LinePlaneIntersectionPoint(this.projectionPlane,new e.vzome.core.construction.LineExtensionOfSegment(t))}else if(null!=t&&t instanceof e.vzome.core.construction.Polygon){var n=t,i=new java.util.ArrayList(1+n.getVertexCount());i.add(n.getVertex(0).plus(this.projectionVector));for(var o=0;o<n.getVertexCount();o++)i.add(n.getVertex(o));if(e.vzome.core.algebra.AlgebraicVectors.areCoplanar(i)){for(var a=(n=_get(_getPrototypeOf(r.prototype),"transform$com_vzome_core_construction_Construction",this).call(this,n)).getVertex(0),s=a,l=1;l<n.getVertexCount();l++){var u=n.getVertex(l);-1===u.compareTo(a)&&(a=u),1===u.compareTo(s)&&(s=u)}var c=new e.vzome.core.construction.FreePoint(a),f=new e.vzome.core.construction.FreePoint(s);return new e.vzome.core.construction.SegmentJoiningPoints(c,f)}}return _get(_getPrototypeOf(r.prototype),"transform$com_vzome_core_construction_Construction",this).call(this,t)}}]),r}();t.PlaneProjection=n,n.__class="com.vzome.core.construction.PlaneProjection"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Transformation);var n=_createSuper(r);function r(e,t,i,o){var a;return _classCallCheck(this,r),void 0===(a=n.call(this,e.field)).s1&&(a.s1=null),void 0===a.s2&&(a.s2=null),void 0===a.center&&(a.center=null),void 0===a.symmetry&&(a.symmetry=null),a.mOffset=a.field.projectTo3d(i.getLocation(),!0),a.s1=e,a.s2=t,a.center=i,a.symmetry=o,a.mapParamsToState(),a}return _createClass(r,[{key:"mapParamsToState",value:function(){var t=this.symmetry.getAxis$com_vzome_core_algebra_AlgebraicVector(this.s1.getOffset()),n=this.symmetry.getAxis$com_vzome_core_algebra_AlgebraicVector(this.s2.getOffset());if(t.getDirection()!==n.getDirection())return this.setStateVariables(null,null,!0);var r=t.getLength(this.s1.getOffset()),i=n.getLength(this.s2.getOffset()).dividedBy$com_vzome_core_algebra_AlgebraicNumber(r),o=new e.vzome.core.algebra.AlgebraicMatrix(this.field.basisVector(3,e.vzome.core.algebra.AlgebraicVector.X).scale(i),this.field.basisVector(3,e.vzome.core.algebra.AlgebraicVector.Y).scale(i),this.field.basisVector(3,e.vzome.core.algebra.AlgebraicVector.Z).scale(i));return this.setStateVariables(o,this.center.getLocation(),!1)}}]),r}();t.Scaling=n,n.__class="com.vzome.core.construction.Scaling"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Transformation);var n=_createSuper(r);function r(e,t,i){var o;return _classCallCheck(this,r),void 0===(o=n.call(this,i.field)).mCenter&&(o.mCenter=null),void 0===o.mSymmetry&&(o.mSymmetry=null),void 0===o.mOrientation&&(o.mOrientation=0),o.mSymmetry=e,o.mOrientation=t,o.mCenter=i,o.mapParamsToState(),o}return _createClass(r,[{key:"mapParamsToState",value:function(){if(this.mCenter.isImpossible())return this.setStateVariables(null,null,!0);var e=this.mCenter.getLocation().projectTo3d(!0),t=this.mSymmetry.getMatrix(this.mOrientation);return this.setStateVariables(t,e,!1)}}]),r}();t.SymmetryTransformation=n,n.__class="com.vzome.core.construction.SymmetryTransformation"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Transformation);var n=_createSuper(r);function r(e,t){var i;return _classCallCheck(this,r),(i=n.call(this,e.field)).mOffset=i.field.projectTo3d(t.getLocation().minus(e.getLocation()),!0),i}return _createClass(r,[{key:"transform$com_vzome_core_algebra_AlgebraicVector",value:function(e){return e.plus(this.mOffset)}},{key:"transform",value:function(t){if(null!=t&&t instanceof e.vzome.core.algebra.AlgebraicVector||null===t)return this.transform$com_vzome_core_algebra_AlgebraicVector(t);if(null!=t&&t instanceof e.vzome.core.construction.Construction||null===t)return this.transform$com_vzome_core_construction_Construction(t);throw new Error("invalid overload")}},{key:"mapParamsToState",value:function(){return this.setStateVariables(null,null,!1)}}]),r}();t.PointToPointTranslation=n,n.__class="com.vzome.core.construction.PointToPointTranslation"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Transformation);var n=_createSuper(r);function r(t,i,o,a,s){var l;if(_classCallCheck(this,r),(null!=t&&t instanceof e.vzome.core.construction.Segment||null===t)&&(null!=i&&i instanceof e.vzome.core.construction.Segment||null===i)&&(null!=o&&o instanceof e.vzome.core.construction.Segment||null===o)&&(null!=a&&a instanceof e.vzome.core.construction.Point||null===a)&&("boolean"===typeof s||null===s))void 0===(l=n.call(this,t.field)).mOld&&(l.mOld=null),void 0===l.mNew&&(l.mNew=null),void 0===l.mKernel&&(l.mKernel=null),void 0===l.scale&&(l.scale=null),void 0===l.mOld&&(l.mOld=null),void 0===l.mNew&&(l.mNew=null),void 0===l.mKernel&&(l.mKernel=null),void 0===l.scale&&(l.scale=null),l.mNew=[t,i,o],l.mOld=null,l.mKernel=a,l.scale=s?l.field.createPower$int(-5):l.field.createRational$long$long(1,2).times$com_vzome_core_algebra_AlgebraicNumber(l.field.createPower$int(-3)),l.mapParamsToState();else{if(!((null!=t&&t instanceof Array&&(0==t.length||null==t[0]||null!=t[0]&&t[0]instanceof e.vzome.core.construction.Segment)||null===t)&&(null!=i&&i instanceof Array&&(0==i.length||null==i[0]||null!=i[0]&&i[0]instanceof e.vzome.core.construction.Segment)||null===i)&&(null!=o&&o instanceof e.vzome.core.construction.Point||null===o)&&void 0===a&&void 0===s))throw new Error("invalid overload");var u=arguments,c=u[0],f=u[1],h=u[2];void 0===(l=n.call(this,c[0].field)).mOld&&(l.mOld=null),void 0===l.mNew&&(l.mNew=null),void 0===l.mKernel&&(l.mKernel=null),void 0===l.scale&&(l.scale=null),void 0===l.mOld&&(l.mOld=null),void 0===l.mNew&&(l.mNew=null),void 0===l.mKernel&&(l.mKernel=null),void 0===l.scale&&(l.scale=null),l.mOld=c,l.mNew=f,l.mKernel=h,l.scale=l.field.createRational$long(2).times$com_vzome_core_algebra_AlgebraicNumber(l.field.createPower$int(-7)),l.mapParamsToState()}return _possibleConstructorReturn(l)}return _createClass(r,[{key:"mapParamsToState",value:function(){var t=this.mKernel.getLocation();if(null!=this.mOld){for(var n=r.findCommonVertex(this.mOld),i=[null,null,null],o=0;o<i.length;o++)i[o]=this.mOld[o].getOffset().scale(this.scale),n.equals(this.mOld[o].getEnd())&&(i[o]=i[o].negate());for(var a=new e.vzome.core.algebra.AlgebraicMatrix(i),s=r.findCommonVertex(this.mNew),l=0;l<i.length;l++)i[l]=this.mNew[l].getOffset().scale(this.scale),s.equals(this.mNew[l].getEnd())&&(i[l]=i[l].negate());var u=new e.vzome.core.algebra.AlgebraicMatrix(i).times(a.inverse());return this.setStateVariables(u,t,!1)}var c=new e.vzome.core.algebra.AlgebraicMatrix(this.mNew[0].getOffset().scale(this.scale),this.mNew[1].getOffset().scale(this.scale),this.mNew[2].getOffset().scale(this.scale));return this.setStateVariables(c,t,!1)}}],[{key:"findCommonVertex",value:function(e){var t=e[0].getStart();return t.equals(e[1].getStart())||t.equals(e[1].getEnd())?t:(t=e[0].getEnd()).equals(e[1].getStart())||t.equals(e[1].getEnd())?t:null}}]),r}();t.ChangeOfBasis=n,n.__class="com.vzome.core.construction.ChangeOfBasis"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Transformation);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),void 0===(t=n.call(this,e.getField())).mOffset&&(t.mOffset=null),t.mOffset=e,t}return _createClass(r,[{key:"transform$com_vzome_core_algebra_AlgebraicVector",value:function(e){return e=e.plus(this.mOffset)}},{key:"transform",value:function(t){if(null!=t&&t instanceof e.vzome.core.algebra.AlgebraicVector||null===t)return this.transform$com_vzome_core_algebra_AlgebraicVector(t);if(null!=t&&t instanceof e.vzome.core.construction.Construction||null===t)return this.transform$com_vzome_core_construction_Construction(t);throw new Error("invalid overload")}},{key:"mapParamsToState",value:function(){return this.setStateVariables(null,null,!1)}}]),r}();t.Translation=n,n.__class="com.vzome.core.construction.Translation"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Transformation);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),void 0===(t=n.call(this,e.field)).mMirror&&(t.mMirror=null),void 0===t.mNormal&&(t.mNormal=null),void 0===t.mBase&&(t.mBase=null),void 0===t.mNormDotReciprocal&&(t.mNormDotReciprocal=null),t.mMirror=e,t.mNormal=e.getNormal(),t.mBase=e.getBase(),t.mNormDotReciprocal=t.mNormal.dot(t.mNormal).reciprocal(),t.mapParamsToState(),t}return _createClass(r,[{key:"mapParamsToState",value:function(){this.mMirror.isImpossible()&&this.setStateVariables(null,null,!0);var e=this.mMirror.getBase();return this.setStateVariables(null,e,!1)}},{key:"transform$com_vzome_core_algebra_AlgebraicVector",value:function(e){var t=(e=e.minus(this.mBase)).dot(this.mNormal);return t=t.times$com_vzome_core_algebra_AlgebraicNumber(this.field.createRational$long(2)),(e=e.minus(this.mNormal.scale(t.times$com_vzome_core_algebra_AlgebraicNumber(this.mNormDotReciprocal)))).plus(this.mBase)}},{key:"transform",value:function(t){if(null!=t&&t instanceof e.vzome.core.algebra.AlgebraicVector||null===t)return this.transform$com_vzome_core_algebra_AlgebraicVector(t);if(null!=t&&t instanceof e.vzome.core.construction.Construction||null===t)return this.transform$com_vzome_core_construction_Construction(t);throw new Error("invalid overload")}}]),r}();t.PlaneReflection=n,n.__class="com.vzome.core.construction.PlaneReflection"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Transformation);var n=_createSuper(r);function r(t,i,o){var a;return _classCallCheck(this,r),void 0===(a=n.call(this,i.getField())).rotation&&(a.rotation=null),void 0===a.translation&&(a.translation=null),a.rotation=new e.vzome.core.construction.MatrixTransformation(t,i),a.translation=new e.vzome.core.construction.Translation(o.minus(i)),a}return _createClass(r,[{key:"mapParamsToState",value:function(){return this.rotation.mapParamsToState()&&this.translation.mapParamsToState()}},{key:"transform$com_vzome_core_algebra_AlgebraicVector",value:function(e){return this.translation.transform$com_vzome_core_algebra_AlgebraicVector(this.rotation.transform$com_vzome_core_algebra_AlgebraicVector(e))}},{key:"transform",value:function(t){if(null!=t&&t instanceof e.vzome.core.algebra.AlgebraicVector||null===t)return this.transform$com_vzome_core_algebra_AlgebraicVector(t);if(null!=t&&t instanceof e.vzome.core.construction.Construction||null===t)return this.transform$com_vzome_core_construction_Construction(t);throw new Error("invalid overload")}}]),r}();t.MoveAndRotate=n,n.__class="com.vzome.core.construction.MoveAndRotate"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Transformation);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),void 0===(t=n.call(this,e.field)).mCenter&&(t.mCenter=null),t.mCenter=e,t.mapParamsToState(),t}return _createClass(r,[{key:"mapParamsToState",value:function(){this.mCenter.isImpossible()&&this.setStateVariables(null,null,!0);var e=this.mCenter.getLocation().projectTo3d(!0);return this.setStateVariables(null,e,!1)}},{key:"transform$com_vzome_core_algebra_AlgebraicVector",value:function(e){return e=e.minus(this.mOffset),e=this.mOffset.minus(e)}},{key:"transform",value:function(t){if(null!=t&&t instanceof e.vzome.core.algebra.AlgebraicVector||null===t)return this.transform$com_vzome_core_algebra_AlgebraicVector(t);if(null!=t&&t instanceof e.vzome.core.construction.Construction||null===t)return this.transform$com_vzome_core_construction_Construction(t);throw new Error("invalid overload")}}]),r}();t.PointReflection=n,n.__class="com.vzome.core.construction.PointReflection"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Segment);var n=_createSuper(r);function r(e,t){var i;return _classCallCheck(this,r),void 0===(i=n.call(this,e.field)).mLine&&(i.mLine=null),void 0===i.mLength&&(i.mLength=null),i.mLine=e,i.mLength=t,i.mapParamsToState(),i}return _createClass(r,[{key:"mapParamsToState",value:function(){if(this.mLine.isImpossible())return this.setStateVariables(null,null,!0);var e=this.getOffset().scale(this.mLength);return this.setStateVariables(this.mLine.getStart(),e,!1)}}]),r}();t.SegmentOnLine=n,n.__class="com.vzome.core.construction.SegmentOnLine"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Segment);var n=_createSuper(r);function r(e,t){var i;return _classCallCheck(this,r),void 0===(i=n.call(this,t.field)).mTransform&&(i.mTransform=null),void 0===i.mPrototype&&(i.mPrototype=null),i.mTransform=e,i.mPrototype=t,i.mapParamsToState(),i}return _createClass(r,[{key:"mapParamsToState",value:function(){if(this.mTransform.isImpossible()||this.mPrototype.isImpossible())return this.setStateVariables(null,null,!0);var e=this.mTransform.transform$com_vzome_core_algebra_AlgebraicVector(this.mPrototype.getStart().projectTo3d(!0)),t=this.mTransform.transform$com_vzome_core_algebra_AlgebraicVector(this.mPrototype.getEnd().projectTo3d(!0));return this.setStateVariables(e,t.minus(e),!1)}}]),r}();t.TransformedSegment=n,n.__class="com.vzome.core.construction.TransformedSegment"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Segment);var n=_createSuper(r);function r(e,t){var i;return _classCallCheck(this,r),void 0===(i=n.call(this,e.field)).__com_vzome_core_construction_SegmentJoiningPoints_mStart&&(i.__com_vzome_core_construction_SegmentJoiningPoints_mStart=null),void 0===i.__com_vzome_core_construction_SegmentJoiningPoints_mEnd&&(i.__com_vzome_core_construction_SegmentJoiningPoints_mEnd=null),i.__com_vzome_core_construction_SegmentJoiningPoints_mStart=e,i.__com_vzome_core_construction_SegmentJoiningPoints_mEnd=t,i.mapParamsToState(),i}return _createClass(r,[{key:"mapParamsToState",value:function(){if(this.__com_vzome_core_construction_SegmentJoiningPoints_mStart.isImpossible()||this.__com_vzome_core_construction_SegmentJoiningPoints_mEnd.isImpossible())return this.setStateVariables(null,null,!0);var e=this.__com_vzome_core_construction_SegmentJoiningPoints_mStart.getLocation(),t=this.__com_vzome_core_construction_SegmentJoiningPoints_mEnd.getLocation();3!==e.dimension()&&3!==t.dimension()||(e=e.projectTo3d(!0),t=t.projectTo3d(!0));var n=t.minus(e);return this.setStateVariables(e,n,!1)}}]),r}();t.SegmentJoiningPoints=n,n.__class="com.vzome.core.construction.SegmentJoiningPoints"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Segment);var n=_createSuper(r);function r(e,t){var i;return _classCallCheck(this,r),void 0===(i=n.call(this,e.field)).seg1&&(i.seg1=null),void 0===i.seg2&&(i.seg2=null),i.seg1=e,i.seg2=t,i.mapParamsToState(),i}return _createClass(r,[{key:"mapParamsToState",value:function(){if(this.seg1.isImpossible()||this.seg2.isImpossible())return this.setStateVariables(null,null,!0);var t=e.vzome.core.algebra.AlgebraicVectors.getNormal$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_algebra_AlgebraicVector(this.seg1.getOffset(),this.seg2.getOffset()).scale(this.field.createPower$int(-4)).scale(this.field.createRational$long$long(1,2));return this.setStateVariables(this.seg1.getEnd(),t,!1)}}]),r}();t.SegmentCrossProduct=n,n.__class="com.vzome.core.construction.SegmentCrossProduct"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Segment);var n=_createSuper(r);function r(e,t,i){var o;return _classCallCheck(this,r),void 0===(o=n.call(this,i.field)).mLeftQuaternion&&(o.mLeftQuaternion=null),void 0===o.mRightQuaternion&&(o.mRightQuaternion=null),void 0===o.mPrototype&&(o.mPrototype=null),o.mLeftQuaternion=e,o.mRightQuaternion=t,o.mPrototype=i,o.mapParamsToState(),o}return _createClass(r,[{key:"mapParamsToState",value:function(){if(this.mPrototype.isImpossible())return this.setStateVariables(null,null,!0);var t=this.mPrototype.getStart();t=t.inflateTo4d$boolean(!0),t=this.mRightQuaternion.leftMultiply(t),t=this.mLeftQuaternion.rightMultiply(t);var n=this.mPrototype.getEnd();return n=n.inflateTo4d$boolean(!0),n=this.mRightQuaternion.leftMultiply(n),n=this.mLeftQuaternion.rightMultiply(n),r.logger_$LI$().isLoggable(java.util.logging.Level.FINER)&&(r.logger_$LI$().finer("------------------- SegmentRotated4D"),r.logger_$LI$().finer("left:    "+this.mLeftQuaternion.toString()),r.logger_$LI$().finer("right:   "+this.mRightQuaternion.toString()),r.logger_$LI$().finer("start: "+this.mPrototype.getStart().getVectorExpression$int(e.vzome.core.algebra.AlgebraicField.EXPRESSION_FORMAT)),r.logger_$LI$().finer("end:   "+this.mPrototype.getEnd().getVectorExpression$int(e.vzome.core.algebra.AlgebraicField.EXPRESSION_FORMAT)),r.logger_$LI$().finer("new start: "+t.getVectorExpression$int(e.vzome.core.algebra.AlgebraicField.EXPRESSION_FORMAT)),r.logger_$LI$().finer("new end:   "+n.getVectorExpression$int(e.vzome.core.algebra.AlgebraicField.EXPRESSION_FORMAT))),this.setStateVariables(t,n.minus(t),!1)}}],[{key:"logger_$LI$",value:function(){return null==r.logger&&(r.logger=java.util.logging.Logger.getLogger("com.vzome.core.4d")),r.logger}}]),r}();t.SegmentRotated4D=n,n.__class="com.vzome.core.construction.SegmentRotated4D"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Segment);var n=_createSuper(r);function r(e,t){var i;return _classCallCheck(this,r),(i=n.call(this,e.getField())).polygons=[null,null],i.polygons[0]=e,i.polygons[1]=t,i.mapParamsToState(),i}return _createClass(r,[{key:"mapParamsToState",value:function(){if(this.polygons[0].isImpossible()||this.polygons[1].isImpossible())return this.setStateVariables(null,null,!0);if(e.vzome.core.algebra.AlgebraicVectors.areParallel(this.polygons[0].getNormal(),this.polygons[1].getNormal()))return this.setStateVariables(null,null,!0);for(var t=new java.util.HashSet(2),n=0;n<2;n++){for(var r=this.polygons[n],i=this.polygons[(n+1)%2],o=i.getCentroid(),a=i.getNormal(),s=r.getVertexCount(),l=0;l<s;l++){var u=r.getVertex(l),c=u.minus(r.getVertex((l+1)%s));if(!c.isOrigin()){var f=e.vzome.core.algebra.AlgebraicVectors.getLinePlaneIntersection(u,c,o,a);if(null!=f&&(t.add(f),2===t.size()))break}}if(2===t.size())break}if(2!==t.size())for(var h=0;h<2;h++){for(var d=this.polygons[h],p=this.polygons[(h+1)%2],m=p.getCentroid(),v=p.getNormal(),g=d.getCentroid(),y=0;y<d.getVertexCount();y++){var _=g.minus(d.getVertex(y));if(!_.isOrigin()){var b=e.vzome.core.algebra.AlgebraicVectors.getLinePlaneIntersection(g,_,m,v);if(null!=b&&(t.add(b),2===t.size()))break}}if(2===t.size())break}if(2!==t.size())return this.setStateVariables(null,null,!0);for(var w=null,x=null,A=t.iterator();A.hasNext();){var M=A.next();null==w?w=M:x=M}for(var S=new e.vzome.core.construction.LineExtensionOfSegment(new e.vzome.core.construction.SegmentJoiningPoints(new e.vzome.core.construction.FreePoint(w),new e.vzome.core.construction.FreePoint(x))),C=new java.util.TreeSet,E=0;E<2;E++)for(var I=this.polygons[E],T=w.plus(I.getNormal()),L=e.vzome.core.algebra.AlgebraicVectors.getNormal$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_algebra_AlgebraicVector(w,x,T),z=0;z<I.getVertexCount();z++){var k=I.getVertex(z);if(e.vzome.core.algebra.AlgebraicVectors.areCollinear$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_algebra_AlgebraicVector(w,x,k))C.add(k);else{var D=new e.vzome.core.construction.LineFromPointAndVector(k,L),O=new e.vzome.core.construction.LineLineIntersectionPoint(S,D);C.add(O.getLocation())}}for(var N=null,j=null,P=0,R=C.iterator();R.hasNext();){var $=R.next();0===P?N=$:P===C.size()-1&&(j=$.minus(N)),P++}return this.setStateVariables(N,j,null==N||null==j)}}]),r}();t.PolygonPolygonProjectionToSegment=n,n.__class="com.vzome.core.construction.PolygonPolygonProjectionToSegment"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Segment);var n=_createSuper(r);function r(e,t,i){var o;return _classCallCheck(this,r),void 0===(o=n.call(this,i.field)).mAnchor&&(o.mAnchor=null),void 0===o.mAxis&&(o.mAxis=null),void 0===o.mLength&&(o.mLength=null),o.mAnchor=i,o.mAxis=e,o.mLength=t,o.mapParamsToState(),o}return _createClass(r,[{key:"mapParamsToState",value:function(){if(this.mAnchor.isImpossible()||this.mLength.isZero())return this.setStateVariables(null,null,!0);var e=this.mAnchor.getLocation().projectTo3d(!0),t=this.mAxis.normal().scale(this.mLength);return this.setStateVariables(e,t,!1)}},{key:"getAxis",value:function(){return this.mAxis}},{key:"getLength",value:function(){return this.mLength}},{key:"getUnitVector",value:function(){return this.mAxis.normal()}}]),r}();t.AnchoredSegment=n,n.__class="com.vzome.core.construction.AnchoredSegment"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(n){_inherits(i,e.vzome.core.commands.AbstractCommand);var r=_createSuper(i);function i(){return _classCallCheck(this,i),r.call(this)}return _createClass(i,[{key:"getParameterSignature",value:function(){return i.PARAM_SIGNATURE_$LI$()}},{key:"getAttributeSignature",value:function(){return i.ATTR_SIGNATURE_$LI$()}},{key:"apply",value:function(n,r,i){var o=new e.vzome.core.construction.ConstructionList;if(null==n||2!==n.size())throw new t.Command.Failure("Intersection requires a panel and a strut.");try{var a,s,l=n.get(0);null!=l&&l instanceof e.vzome.core.construction.Polygon?(a=l,s=n.get(1)):(s=l,a=n.get(1));var u=new e.vzome.core.construction.PlaneExtensionOfPolygon(a),c=new e.vzome.core.construction.LineExtensionOfSegment(s),f=new e.vzome.core.construction.LinePlaneIntersectionPoint(u,c);o.addConstruction(f),i.constructionAdded(f)}catch(h){throw new t.Command.Failure("Intersection requires a panel and a strut.")}return o}}],[{key:"PARAM_SIGNATURE_$LI$",value:function(){return null==i.PARAM_SIGNATURE&&(i.PARAM_SIGNATURE=[["panel",e.vzome.core.construction.Polygon],["segment",e.vzome.core.construction.Segment]]),i.PARAM_SIGNATURE}},{key:"ATTR_SIGNATURE_$LI$",value:function(){return null==i.ATTR_SIGNATURE&&(i.ATTR_SIGNATURE=[]),i.ATTR_SIGNATURE}}]),i}();t.CommandLinePlaneIntersect=n,n.__class="com.vzome.core.commands.CommandLinePlaneIntersect",n.__interfaces=["com.vzome.core.commands.Command"]})((n=t.core||(t.core={})).commands||(n.commands={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(n){_inherits(i,e.vzome.core.commands.AbstractCommand);var r=_createSuper(i);function i(){return _classCallCheck(this,i),r.call(this)}return _createClass(i,[{key:"getParameterSignature",value:function(){return i.PARAM_SIGNATURE_$LI$()}},{key:"getAttributeSignature",value:function(){return i.ATTR_SIGNATURE_$LI$()}},{key:"apply",value:function(e,n,r){throw new t.Command.Failure("Oblique pentagon should never be called.")}}],[{key:"PARAM_SIGNATURE_$LI$",value:function(){return null==i.PARAM_SIGNATURE&&(i.PARAM_SIGNATURE=[["segment1",e.vzome.core.construction.Segment],["segment2",e.vzome.core.construction.Segment]]),i.PARAM_SIGNATURE}},{key:"ATTR_SIGNATURE_$LI$",value:function(){return null==i.ATTR_SIGNATURE&&(i.ATTR_SIGNATURE=[]),i.ATTR_SIGNATURE}}]),i}();t.CommandObliquePentagon=n,n.__class="com.vzome.core.commands.CommandObliquePentagon",n.__interfaces=["com.vzome.core.commands.Command"]})((n=t.core||(t.core={})).commands||(n.commands={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(n){_inherits(i,e.vzome.core.commands.AbstractCommand);var r=_createSuper(i);function i(){return _classCallCheck(this,i),r.call(this)}return _createClass(i,[{key:"getParameterSignature",value:function(){return i.PARAM_SIGNATURE_$LI$()}},{key:"getAttributeSignature",value:function(){return i.ATTR_SIGNATURE_$LI$()}},{key:"apply",value:function(n,r,i){var o=new e.vzome.core.construction.ConstructionList;if(null==n||1!==n.size())throw new t.Command.Failure("Midpoint can only apply to a single strut.");try{var a=n.get(0),s=new e.vzome.core.construction.SegmentMidpoint(a);o.addConstruction(s),i.constructionAdded(s)}catch(l){throw new t.Command.Failure("Midpoint can only apply to a strut.")}return o}}],[{key:"PARAM_SIGNATURE_$LI$",value:function(){return null==i.PARAM_SIGNATURE&&(i.PARAM_SIGNATURE=[["segment",e.vzome.core.construction.Segment]]),i.PARAM_SIGNATURE}},{key:"ATTR_SIGNATURE_$LI$",value:function(){return null==i.ATTR_SIGNATURE&&(i.ATTR_SIGNATURE=[]),i.ATTR_SIGNATURE}}]),i}();t.CommandMidpoint=n,n.__class="com.vzome.core.commands.CommandMidpoint",n.__interfaces=["com.vzome.core.commands.Command"]})((n=t.core||(t.core={})).commands||(n.commands={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Point);var n=_createSuper(r);function r(e,t,i){var o;return _classCallCheck(this,r),void 0===(o=n.call(this,i.field)).mLeftQuaternion&&(o.mLeftQuaternion=null),void 0===o.mRightQuaternion&&(o.mRightQuaternion=null),void 0===o.mPrototype&&(o.mPrototype=null),o.mLeftQuaternion=e,o.mRightQuaternion=t,o.mPrototype=i,o.mapParamsToState(),o}return _createClass(r,[{key:"mapParamsToState",value:function(){if(this.mPrototype.isImpossible())return this.setStateVariable(null,!0);var e=this.mPrototype.getField().origin(4);return e=this.mPrototype.getLocation().inflateTo4d$boolean(!0),e=this.mRightQuaternion.leftMultiply(e),e=this.mLeftQuaternion.rightMultiply(e),this.setStateVariable(e,!1)}}]),r}();t.PointRotated4D=n,n.__class="com.vzome.core.construction.PointRotated4D"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Point);var n=_createSuper(r);function r(e,t){var i;return _classCallCheck(this,r),void 0===(i=n.call(this,e.field)).line1&&(i.line1=null),void 0===i.line2&&(i.line2=null),i.line1=e,i.line2=t,i.mapParamsToState(),i}return _createClass(r,[{key:"mapParamsToState",value:function(){var e=this.line1.getStart(),t=this.line1.getDirection(),n=this.line2.getStart(),r=this.line2.getDirection();if(e.equals(n))return this.setStateVariable(e,!1);var i=e.plus(t);if(i.equals(n))return this.setStateVariable(i,!1);var o=n.plus(r);if(e.equals(o))return this.setStateVariable(e,!1);if(i.equals(o))return this.setStateVariable(i,!1);var a=e.minus(n),s=a.dot(r),l=r.dot(t),u=a.dot(t),c=r.dot(r),f=t.dot(t).times$com_vzome_core_algebra_AlgebraicNumber(c).minus$com_vzome_core_algebra_AlgebraicNumber(l.times$com_vzome_core_algebra_AlgebraicNumber(l));if(f.isZero())return this.setStateVariable(null,!0);var h=s.times$com_vzome_core_algebra_AlgebraicNumber(l).minus$com_vzome_core_algebra_AlgebraicNumber(u.times$com_vzome_core_algebra_AlgebraicNumber(c)).dividedBy$com_vzome_core_algebra_AlgebraicNumber(f),d=s.plus$com_vzome_core_algebra_AlgebraicNumber(l.times$com_vzome_core_algebra_AlgebraicNumber(h)).dividedBy$com_vzome_core_algebra_AlgebraicNumber(c),p=e.plus(t.scale(h)),m=n.plus(r.scale(d));return p.equals(m)?this.setStateVariable(m,!1):this.setStateVariable(null,!0)}}]),r}();t.LineLineIntersectionPoint=n,n.__class="com.vzome.core.construction.LineLineIntersectionPoint"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Point);var n=_createSuper(r);function r(e,t){var i;return _classCallCheck(this,r),void 0===(i=n.call(this,t.field)).mTransform&&(i.mTransform=null),void 0===i.mPrototype&&(i.mPrototype=null),i.mTransform=e,i.mPrototype=t,i.mapParamsToState(),i}return _createClass(r,[{key:"mapParamsToState",value:function(){if(this.mTransform.isImpossible()||this.mPrototype.isImpossible())return this.setStateVariable(null,!0);var e=this.mTransform.transform$com_vzome_core_algebra_AlgebraicVector(this.mPrototype.getLocation());return this.setStateVariable(e,!1)}}]),r}();t.TransformedPoint=n,n.__class="com.vzome.core.construction.TransformedPoint"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Point);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),void 0===(t=n.call(this,e.field)).mSegment&&(t.mSegment=null),t.mSegment=e,t.mapParamsToState(),t}return _createClass(r,[{key:"mapParamsToState",value:function(){if(this.mSegment.isImpossible())return this.setStateVariable(null,!0);var e=this.field.createRational$long$long(1,2),t=this.mSegment.getStart();return t=t.plus(this.mSegment.getOffset().scale(e)),this.setStateVariable(t,!1)}}]),r}();t.SegmentMidpoint=n,n.__class="com.vzome.core.construction.SegmentMidpoint"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Point);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),(t=n.call(this,e.getField())).setStateVariable(e,!1),t}return _createClass(r,[{key:"mapParamsToState",value:function(){return!0}}]),r}();t.FreePoint=n,n.__class="com.vzome.core.construction.FreePoint"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Point);var n=_createSuper(r);function r(e,t){var i;return _classCallCheck(this,r),void 0===(i=n.call(this,e.field)).polygon&&(i.polygon=null),void 0===i.index&&(i.index=0),i.polygon=e,i.index=t,i.mapParamsToState(),i}return _createClass(r,[{key:"mapParamsToState",value:function(){if(this.polygon.isImpossible())return this.setStateVariable(null,!0);var e=this.polygon.getVertex(this.index);return this.setStateVariable(e,!1)}}]),r}();t.PolygonVertex=n,n.__class="com.vzome.core.construction.PolygonVertex"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Point);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),void 0===(t=n.call(this,e.field)).mSegment&&(t.mSegment=null),void 0===t.shrink&&(t.shrink=null),t.mSegment=e,t.shrink=t.field.createPower$int(-1),t.mapParamsToState(),t}return _createClass(r,[{key:"mapParamsToState",value:function(){if(this.mSegment.isImpossible())return this.setStateVariable(null,!0);var e=this.mSegment.getStart(),t=this.mSegment.getOffset().scale(this.shrink);return e=e.plus(t),this.setStateVariable(e,!1)}}]),r}();t.SegmentTauDivision=n,n.__class="com.vzome.core.construction.SegmentTauDivision"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Point);var n=_createSuper(r);function r(e,t){var i;return _classCallCheck(this,r),void 0===(i=n.call(this,t.field)).mPlane&&(i.mPlane=null),void 0===i.mLine&&(i.mLine=null),i.mPlane=e,i.mLine=t,i.mapParamsToState(),i}return _createClass(r,[{key:"mapParamsToState_usingGA",value:function(){if(this.mPlane.isImpossible()||this.mLine.isImpossible())return this.setStateVariable(null,!0);var e=this.mPlane.getHomogeneous(),t=this.mLine.getHomogeneous(),n=e.dual().dot(t);return n.exists()?this.setStateVariable(n.getVector(),!1):this.setStateVariable(null,!0)}},{key:"mapParamsToState",value:function(){if(this.mPlane.isImpossible()||this.mLine.isImpossible())return this.setStateVariable(null,!0);var t=this.mLine.getStart(),n=this.mLine.getDirection(),r=this.mPlane.getNormal(),i=this.mPlane.getBase(),o=e.vzome.core.algebra.AlgebraicVectors.getLinePlaneIntersection(t,n,i,r);return null==o?this.setStateVariable(null,!0):this.setStateVariable(o,!1)}}]),r}();t.LinePlaneIntersectionPoint=n,n.__class="com.vzome.core.construction.LinePlaneIntersectionPoint"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Point);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),void 0===(t=n.call(this,e[0].field)).mPoints&&(t.mPoints=null),t.mPoints=e,t.mapParamsToState(),t}return _createClass(r,[{key:"mapParamsToState",value:function(){for(var e=this.mPoints[0].getLocation(),t=1,n=1;n<this.mPoints.length;n++)e=e.plus(this.mPoints[n].getLocation()),t++;return e=e.scale(this.field.createRational$long$long(1,t)),this.setStateVariable(e,!1)}}]),r}();t.CentroidPoint=n,n.__class="com.vzome.core.construction.CentroidPoint"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Point);var n=_createSuper(r);function r(t,i){var o;if(_classCallCheck(this,r),!(null!=t&&t instanceof e.vzome.core.construction.Segment||null===t)||"boolean"!==typeof i&&null!==i){if(!(null!=t&&t instanceof e.vzome.core.construction.Segment||null===t)||void 0!==i)throw new Error("invalid overload");void 0===(o=n.call(this,t.field)).mSegment&&(o.mSegment=null),o.start=!1,void 0===o.mSegment&&(o.mSegment=null),o.mSegment=t,o.start=!1,o.mapParamsToState()}else void 0===(o=n.call(this,t.field)).mSegment&&(o.mSegment=null),o.start=!1,void 0===o.mSegment&&(o.mSegment=null),o.mSegment=t,o.start=i,o.mapParamsToState();return _possibleConstructorReturn(o)}return _createClass(r,[{key:"mapParamsToState",value:function(){if(this.mSegment.isImpossible())return this.setStateVariable(null,!0);var e=this.start?this.mSegment.getStart():this.mSegment.getEnd();return this.setStateVariable(e,!1)}}]),r}();t.SegmentEndPoint=n,n.__class="com.vzome.core.construction.SegmentEndPoint"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(n){_inherits(i,e.vzome.core.commands.AbstractCommand);var r=_createSuper(i);function i(){return _classCallCheck(this,i),r.call(this)}return _createClass(i,[{key:"getParameterSignature",value:function(){return i.PARAM_SIGNATURE_$LI$()}},{key:"getAttributeSignature",value:function(){return i.ATTR_SIGNATURE_$LI$()}},{key:"ordersSelection",value:function(){return!0}},{key:"apply",value:function(n,r,i){var o=new e.vzome.core.construction.ConstructionList;if(null==n||2!==n.size())throw new t.Command.Failure("parameters must be two points");try{var a=n.get(0),s=n.get(1),l=new e.vzome.core.construction.SegmentJoiningPoints(a,s);o.addConstruction(l),i.constructionAdded(l)}catch(u){throw new t.Command.Failure("parameters must be two points")}return o}}],[{key:"PARAM_SIGNATURE_$LI$",value:function(){return null==i.PARAM_SIGNATURE&&(i.PARAM_SIGNATURE=[["start",e.vzome.core.construction.Point],["end",e.vzome.core.construction.Point]]),i.PARAM_SIGNATURE}},{key:"ATTR_SIGNATURE_$LI$",value:function(){return null==i.ATTR_SIGNATURE&&(i.ATTR_SIGNATURE=[]),i.ATTR_SIGNATURE}}]),i}();t.CommandJoinPoints=n,n.__class="com.vzome.core.commands.CommandJoinPoints",n.__interfaces=["com.vzome.core.commands.Command"]})((n=t.core||(t.core={})).commands||(n.commands={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.commands.AbstractCommand);var n=_createSuper(r);function r(){return _classCallCheck(this,r),n.call(this)}return _createClass(r,[{key:"setFixedAttributes",value:function(e,t){0!==t.getScale()&&e.put(r.SCALE_ATTR_NAME,t.getScale()),_get(_getPrototypeOf(r.prototype),"setFixedAttributes",this).call(this,e,t)}},{key:"apply",value:function(e,t,n){return null}},{key:"getParameterSignature",value:function(){return r.PARAM_SIGNATURE_$LI$()}},{key:"getAttributeSignature",value:function(){return r.AXIS_ATTR_SIGNATURE_$LI$()}},{key:"transform",value:function(t,n,r){var i=new e.vzome.core.construction.ConstructionList;r.constructionAdded(n);for(var o=0;o<t.length;o++){var a=t[o],s=n.transform$com_vzome_core_construction_Construction(a);null!=s&&(r.constructionAdded(s),i.addConstruction(s))}return i}}],[{key:"PARAM_SIGNATURE_$LI$",value:function(){return null==r.PARAM_SIGNATURE&&(r.PARAM_SIGNATURE=[[e.vzome.core.commands.Command.GENERIC_PARAM_NAME,e.vzome.core.construction.Construction]]),r.PARAM_SIGNATURE}},{key:"ATTR_SIGNATURE_$LI$",value:function(){return null==r.ATTR_SIGNATURE&&(r.ATTR_SIGNATURE=[[r.SYMMETRY_CENTER_ATTR_NAME,e.vzome.core.construction.Point]]),r.ATTR_SIGNATURE}},{key:"AXIS_ATTR_SIGNATURE_$LI$",value:function(){return null==r.AXIS_ATTR_SIGNATURE&&(r.AXIS_ATTR_SIGNATURE=[[r.SYMMETRY_CENTER_ATTR_NAME,e.vzome.core.construction.Point],[r.SYMMETRY_AXIS_ATTR_NAME,e.vzome.core.construction.Segment]]),r.AXIS_ATTR_SIGNATURE}},{key:"GROUP_ATTR_SIGNATURE_$LI$",value:function(){return null==r.GROUP_ATTR_SIGNATURE&&(r.GROUP_ATTR_SIGNATURE=[[r.SYMMETRY_CENTER_ATTR_NAME,e.vzome.core.construction.Point],[r.SYMMETRY_GROUP_ATTR_NAME,"com.vzome.core.math.symmetry.Symmetry"]]),r.GROUP_ATTR_SIGNATURE}}]),r}();n.SYMMETRY_GROUP_ATTR_NAME="symmetry.group",n.SYMMETRY_CENTER_ATTR_NAME="symmetry.center",n.SYMMETRY_AXIS_ATTR_NAME="symmetry.axis.segment",n.SCALE_ATTR_NAME="scale.factor",t.CommandTransform=n,n.__class="com.vzome.core.commands.CommandTransform",n.__interfaces=["com.vzome.core.commands.Command"]})((n=t.core||(t.core={})).commands||(n.commands={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(n){_inherits(i,e.vzome.core.commands.AbstractCommand);var r=_createSuper(i);function i(){return _classCallCheck(this,i),r.call(this)}return _createClass(i,[{key:"getXml",value:function(t,n){e.vzome.core.commands.XmlSymmetryFormat.serializeAxis(t,"symm","dir","index","sense",n.get("axis")),e.vzome.core.commands.XmlSaveFormat.serializeNumber(t,"len",n.get("length"))}},{key:"setXml",value:function(e,t){var n=_get(_getPrototypeOf(i.prototype),"setXml",this).call(this,e,t);return t.commandEditsCompacted()&&(n.put("axis",t.parseAxis(e,"symm","dir","index","sense")),n.put("length",t.parseNumber(e,"len"))),n}},{key:"getParameterSignature",value:function(){return i.PARAM_SIGNATURE_$LI$()}},{key:"getAttributeSignature",value:function(){return null}},{key:"apply",value:function(n,r,o){var a=new e.vzome.core.construction.ConstructionList;if(null==n||1!==n.size())throw new t.Command.Failure("start parameter must be a single point");var s=n.get(0);if(!(null!=s&&s instanceof e.vzome.core.construction.Point))throw new t.Command.Failure("start parameter must be a single point");var l=s,u=r.get(i.AXIS_ATTR),c=r.get(i.LENGTH_ATTR),f=new e.vzome.core.construction.AnchoredSegment(u,c,l);o.constructionAdded(f),a.addConstruction(f);var h=new e.vzome.core.construction.SegmentEndPoint(f);return o.constructionAdded(h),a.addConstruction(h),a}}],[{key:"PARAM_SIGNATURE_$LI$",value:function(){return null==i.PARAM_SIGNATURE&&(i.PARAM_SIGNATURE=[["start",e.vzome.core.construction.Point]]),i.PARAM_SIGNATURE}}]),i}();n.AXIS_ATTR="axis",n.LENGTH_ATTR="length",t.CommandBuildAnchoredSegment=n,n.__class="com.vzome.core.commands.CommandBuildAnchoredSegment",n.__interfaces=["com.vzome.core.commands.Command"]})((n=t.core||(t.core={})).commands||(n.commands={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(n){_inherits(i,e.vzome.core.commands.AbstractCommand);var r=_createSuper(i);function i(){return _classCallCheck(this,i),r.call(this)}return _createClass(i,[{key:"getParameterSignature",value:function(){return i.PARAM_SIGNATURE_$LI$()}},{key:"getAttributeSignature",value:function(){return i.ATTR_SIGNATURE_$LI$()}},{key:"ordersSelection",value:function(){return!0}},{key:"apply",value:function(n,r,i){var o=new e.vzome.core.construction.ConstructionList;if(null==n||2!==n.size())throw new t.Command.Failure("Tau division applies to two balls.");try{var a=n.get(0),s=n.get(1),l=new e.vzome.core.construction.SegmentJoiningPoints(a,s),u=new e.vzome.core.construction.SegmentTauDivision(l);o.addConstruction(u),i.constructionAdded(u)}catch(c){throw new t.Command.Failure("Tau division applies to two balls.")}return o}}],[{key:"PARAM_SIGNATURE_$LI$",value:function(){return null==i.PARAM_SIGNATURE&&(i.PARAM_SIGNATURE=[["start",e.vzome.core.construction.Point],["end",e.vzome.core.construction.Point]]),i.PARAM_SIGNATURE}},{key:"ATTR_SIGNATURE_$LI$",value:function(){return null==i.ATTR_SIGNATURE&&(i.ATTR_SIGNATURE=[]),i.ATTR_SIGNATURE}}]),i}();t.CommandTauDivision=n,n.__class="com.vzome.core.commands.CommandTauDivision",n.__interfaces=["com.vzome.core.commands.Command"]})((n=t.core||(t.core={})).commands||(n.commands={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(n){_inherits(i,e.vzome.core.commands.AbstractCommand);var r=_createSuper(i);function i(){return _classCallCheck(this,i),r.call(this)}return _createClass(i,[{key:"getParameterSignature",value:function(){return i.PARAM_SIGNATURE_$LI$()}},{key:"getAttributeSignature",value:function(){return i.ATTR_SIGNATURE_$LI$()}},{key:"ordersSelection",value:function(){return!0}},{key:"apply",value:function(n,r,i){for(var o=new java.util.ArrayList,a=n.getConstructions(),s=0;s<a.length;s++){var l=a[s];null!=l&&l instanceof e.vzome.core.construction.Point&&o.add(l)}var u=null;if(o.size()<3)u="A polygon requires at least three vertices.";else if(o.get(0).is3d()&&o.get(1).is3d()&&o.get(1).is3d()){var c=e.vzome.core.algebra.AlgebraicVectors.getNormal$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_algebra_AlgebraicVector(o.get(0).getLocation(),o.get(1).getLocation(),o.get(2).getLocation());if(c.isOrigin())u="First 3 points cannot be collinear.";else for(var f=null,h=o.iterator();h.hasNext();){var d=h.next();if(null==f)f=d.getLocation();else if(!d.getLocation().minus(f).dot(c).isZero()){u="Points are not coplanar.";break}}}if(null!=u&&null==r.get(e.vzome.core.commands.Command.LOADING_FROM_FILE))throw new t.Command.Failure(u);var p=new e.vzome.core.construction.PolygonFromVertices(o);null!=u?p.setFailed():i.constructionAdded(p);var m=new e.vzome.core.construction.ConstructionList;return m.addConstruction(p),m}}],[{key:"PARAM_SIGNATURE_$LI$",value:function(){return null==i.PARAM_SIGNATURE&&(i.PARAM_SIGNATURE=[[e.vzome.core.commands.Command.GENERIC_PARAM_NAME,e.vzome.core.construction.Point]]),i.PARAM_SIGNATURE}},{key:"ATTR_SIGNATURE_$LI$",value:function(){return null==i.ATTR_SIGNATURE&&(i.ATTR_SIGNATURE=[]),i.ATTR_SIGNATURE}}]),i}();t.CommandPolygon=n,n.__class="com.vzome.core.commands.CommandPolygon",n.__interfaces=["com.vzome.core.commands.Command"]})((n=t.core||(t.core={})).commands||(n.commands={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(n){_inherits(i,e.vzome.core.commands.AbstractCommand);var r=_createSuper(i);function i(){return _classCallCheck(this,i),r.call(this)}return _createClass(i,[{key:"getParameterSignature",value:function(){return i.PARAM_SIGNATURE_$LI$()}},{key:"getAttributeSignature",value:function(){return i.ATTR_SIGNATURE_$LI$()}},{key:"apply",value:function(n,r,i){var o=new e.vzome.core.construction.ConstructionList;if(null==n||0===n.size())throw new t.Command.Failure("Select two or more balls to compute their centroid.");for(var a=n.getConstructions(),s=new java.util.ArrayList,l=0;l<a.length;l++){var u=a[l];null!=u&&u instanceof e.vzome.core.construction.Point&&s.add(u)}if(s.isEmpty())throw new t.Command.Failure("Select two or more balls to compute their centroid.");var c=new e.vzome.core.construction.CentroidPoint(s.toArray([]));return i.constructionAdded(c),o.addConstruction(c),o}}],[{key:"PARAM_SIGNATURE_$LI$",value:function(){return null==i.PARAM_SIGNATURE&&(i.PARAM_SIGNATURE=[[e.vzome.core.commands.Command.GENERIC_PARAM_NAME,e.vzome.core.construction.Point]]),i.PARAM_SIGNATURE}},{key:"ATTR_SIGNATURE_$LI$",value:function(){return null==i.ATTR_SIGNATURE&&(i.ATTR_SIGNATURE=[]),i.ATTR_SIGNATURE}}]),i}();t.CommandCentroid=n,n.__class="com.vzome.core.commands.CommandCentroid",n.__interfaces=["com.vzome.core.commands.Command"]})((n=t.core||(t.core={})).commands||(n.commands={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Plane);var n=_createSuper(r);function r(e,t){var i;return _classCallCheck(this,r),void 0===(i=n.call(this,e.field)).__com_vzome_core_construction_PlaneFromNormalSegment_mNormal&&(i.__com_vzome_core_construction_PlaneFromNormalSegment_mNormal=null),void 0===i.mIntersection&&(i.mIntersection=null),i.__com_vzome_core_construction_PlaneFromNormalSegment_mNormal=t,i.mIntersection=e,i.mapParamsToState(),i}return _createClass(r,[{key:"mapParamsToState",value:function(){return this.__com_vzome_core_construction_PlaneFromNormalSegment_mNormal.isImpossible()||this.mIntersection.isImpossible()?this.setStateVariables(null,null,!0):this.setStateVariables(this.mIntersection.getLocation(),this.__com_vzome_core_construction_PlaneFromNormalSegment_mNormal.getOffset(),!1)}}]),r}();t.PlaneFromNormalSegment=n,n.__class="com.vzome.core.construction.PlaneFromNormalSegment"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Plane);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),void 0===(t=n.call(this,e.field)).mPolygon&&(t.mPolygon=null),t.mPolygon=e,t.mapParamsToState(),t}return _createClass(r,[{key:"mapParamsToState",value:function(){return this.mPolygon.isImpossible()?this.setStateVariables(null,null,!0):this.setStateVariables(this.mPolygon.getVertex(0),this.mPolygon.getNormal(),!1)}},{key:"getHomogeneous",value:function(){var t=new e.vzome.core.algebra.Vector3dHomogeneous(this.mPolygon.getVertex(0),this.getField()),n=new e.vzome.core.algebra.Vector3dHomogeneous(this.mPolygon.getVertex(1),this.getField()),r=new e.vzome.core.algebra.Vector3dHomogeneous(this.mPolygon.getVertex(2),this.getField());return t.outer(n).outer(r)}}]),r}();t.PlaneExtensionOfPolygon=n,n.__class="com.vzome.core.construction.PlaneExtensionOfPolygon"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Plane);var n=_createSuper(r);function r(e,t){var i;return _classCallCheck(this,r),void 0===(i=n.call(this,e.getField())).normal&&(i.normal=null),void 0===i.point&&(i.point=null),i.point=e,i.normal=t,i.mapParamsToState(),i}return _createClass(r,[{key:"mapParamsToState",value:function(){return this.normal.isOrigin()?this.setStateVariables(null,null,!0):this.setStateVariables(this.point,this.normal,!1)}}]),r}();t.PlaneFromPointAndNormal=n,n.__class="com.vzome.core.construction.PlaneFromPointAndNormal"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Line);var n=_createSuper(r);function r(e,t,i){var o;return _classCallCheck(this,r),void 0===(o=n.call(this,e.field)).mLine1&&(o.mLine1=null),void 0===o.mLine2&&(o.mLine2=null),void 0===o.mPoint&&(o.mPoint=null),o.mLine1=e,o.mLine2=t,o.mPoint=i,o.mapParamsToState(),o}return _createClass(r,[{key:"mapParamsToState",value:function(){if(this.mLine1.isImpossible()||this.mLine2.isImpossible()||this.mPoint.isImpossible())return this.setStateVariables(null,null,!0);var t=e.vzome.core.algebra.AlgebraicVectors.getNormal$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_algebra_AlgebraicVector(this.mLine1.getDirection(),this.mLine2.getDirection());return this.setStateVariables(this.mPoint.getLocation(),t,t.isOrigin())}}]),r}();t.PerpendicularLine=n,n.__class="com.vzome.core.construction.PerpendicularLine"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Line);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),void 0===(t=n.call(this,e.field)).mSegment&&(t.mSegment=null),t.mSegment=e,t.mapParamsToState(),t}return _createClass(r,[{key:"mapParamsToState",value:function(){return this.mSegment.isImpossible()?this.setStateVariables(null,null,!0):this.setStateVariables(this.mSegment.getStart(),this.mSegment.getOffset(),!1)}},{key:"getHomogeneous",value:function(){var t=new e.vzome.core.algebra.Vector3dHomogeneous(this.mSegment.getStart(),this.getField()),n=new e.vzome.core.algebra.Vector3dHomogeneous(this.mSegment.getEnd(),this.getField());return t.outer(n)}}]),r}();t.LineExtensionOfSegment=n,n.__class="com.vzome.core.construction.LineExtensionOfSegment"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.construction.Line);var n=_createSuper(r);function r(e,t){var i;return _classCallCheck(this,r),void 0===(i=n.call(this,e.getField())).point&&(i.point=null),void 0===i.direction&&(i.direction=null),i.point=e,i.direction=t,i.mapParamsToState(),i}return _createClass(r,[{key:"mapParamsToState",value:function(){return this.direction.isOrigin()?this.setStateVariables(null,null,!0):this.setStateVariables(this.point,this.direction,!1)}}]),r}();t.LineFromPointAndVector=n,n.__class="com.vzome.core.construction.LineFromPointAndVector"})((n=t.core||(t.core={})).construction||(n.construction={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){var t;(function(t){var n;!function(t){var n=function(n){_inherits(i,e.vzome.core.editor.api.SideEffects);var r=_createSuper(i);function i(e){var t;return _classCallCheck(this,i),void 0===(t=r.call(this)).mSelection&&(t.mSelection=null),void 0===t.groupingDoneInSelection&&(t.groupingDoneInSelection=!1),t.orderedSelection=!1,t.selectionEffects=null,t.mSelection=e,t.groupingDoneInSelection=!1,t}return _createClass(i,[{key:"setOrderedSelection",value:function(e){this.orderedSelection=e}},{key:"undo",value:function(){if(this.orderedSelection){var e=new java.util.ArrayDeque;for(this.selectionEffects=e,_get(_getPrototypeOf(i.prototype),"undo",this).call(this),this.mSelection.clear(),this.selectionEffects=null;!e.isEmpty();)e.pop().undo()}else _get(_getPrototypeOf(i.prototype),"undo",this).call(this)}},{key:"getXmlAttributes",value:function(e){}},{key:"setXmlAttributes",value:function(e,t){}},{key:"getXml",value:function(t){var n=t.createElement(this.getXmlElementName());return this.groupingDoneInSelection&&e.vzome.xml.DomUtils.addAttribute(n,"grouping","2.1.1"),this.getXmlAttributes(n),n}},{key:"adjustSelection",value:function(t,n){switch(n){case e.vzome.core.editor.api.ActionEnum.SELECT:this.select$com_vzome_core_model_Manifestation(t);break;case e.vzome.core.editor.api.ActionEnum.DESELECT:this.unselect$com_vzome_core_model_Manifestation(t);break;case e.vzome.core.editor.api.ActionEnum.IGNORE:break;default:i.logger_$LI$().warning("unexpected action: "+e.vzome.core.editor.api.ActionEnum._$wrappers[n].toString())}}},{key:"loadAndPerform",value:function(e,t,n){var r,i,o=e.getAttribute("grouping");this.groupingAware()&&(t.groupingDoneInSelection()||(i=o,(r="2.1.1").equals?r.equals(i):r===i))&&(this.groupingDoneInSelection=!0),this.setXmlAttributes(e,t),n.performAndRecord(this)}},{key:"groupingAware",value:function(){return!1}},{key:"unselect$com_vzome_core_model_Manifestation",value:function(e){this.unselect$com_vzome_core_model_Manifestation$boolean(e,!1)}},{key:"unselect$com_vzome_core_model_Manifestation$boolean",value:function(n,r){if(this.groupingDoneInSelection)this.plan(new i.SelectManifestation(this,n,!1));else if(null!=n){if(this.mSelection.manifestationSelected(n)){var o=r?null:e.vzome.core.editor.api.Selection.biggestGroup(n);null==o?this.plan(new i.SelectManifestation(this,n,!1)):this.unselectGroup(o)}}else t.SideEffects.logBugAccommodation("null manifestation")}},{key:"unselect",value:function(e,t){if(!(null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0)||null===e)||"boolean"!==typeof t&&null!==t){if((null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0)||null===e)&&void 0===t)return this.unselect$com_vzome_core_model_Manifestation(e);throw new Error("invalid overload")}return this.unselect$com_vzome_core_model_Manifestation$boolean(e,t)}},{key:"select$com_vzome_core_model_Manifestation",value:function(e){this.select$com_vzome_core_model_Manifestation$boolean(e,!1)}},{key:"recordSelected",value:function(e){this.mSelection.manifestationSelected(e)&&this.plan(new i.RecordSelectedManifestation(this,e))}},{key:"select$com_vzome_core_model_Manifestation$boolean",value:function(n,r){if(this.groupingDoneInSelection)this.plan(new i.SelectManifestation(this,n,!0));else if(null!=n){if(!this.mSelection.manifestationSelected(n)){var o=r?null:e.vzome.core.editor.api.Selection.biggestGroup(n);null==o?this.plan(new i.SelectManifestation(this,n,!0)):this.selectGroup(o)}}else t.SideEffects.logBugAccommodation("null manifestation")}},{key:"select",value:function(e,t){if(!(null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0)||null===e)||"boolean"!==typeof t&&null!==t){if((null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0)||null===e)&&void 0===t)return this.select$com_vzome_core_model_Manifestation(e);throw new Error("invalid overload")}return this.select$com_vzome_core_model_Manifestation$boolean(e,t)}},{key:"selectGroup",value:function(t){for(var n=t.iterator();n.hasNext();){var r=n.next();null!=r&&r instanceof e.vzome.core.model.Group?this.selectGroup(r):this.plan(new i.SelectManifestation(this,r,!0))}}},{key:"unselectGroup",value:function(t){for(var n=t.iterator();n.hasNext();){var r=n.next();null!=r&&r instanceof e.vzome.core.model.Group?this.unselectGroup(r):this.plan(new i.SelectManifestation(this,r,!1))}}},{key:"getSelectedConnectors",value:function(){return e.vzome.core.editor.api.Manifestations.getConnectors$java_lang_Iterable(this.mSelection)}},{key:"getSelectedStruts",value:function(){return e.vzome.core.editor.api.Manifestations.getStruts$java_lang_Iterable(this.mSelection)}},{key:"getSelectedPanels",value:function(){return e.vzome.core.editor.api.Manifestations.getPanels$java_lang_Iterable(this.mSelection)}},{key:"getLastSelectedManifestation",value:function(){for(var e=null,t=this.mSelection.iterator();t.hasNext();)e=t.next();return e}},{key:"getLastSelectedConnector",value:function(){for(var e=null,t=this.getSelectedConnectors().iterator();t.hasNext();)e=t.next();return e}},{key:"getLastSelectedStrut",value:function(){for(var e=null,t=this.getSelectedStruts().iterator();t.hasNext();)e=t.next();return e}},{key:"getLastSelectedPanel",value:function(){for(var e=null,t=this.getSelectedPanels().iterator();t.hasNext();)e=t.next();return e}},{key:"unselectAll",value:function(){for(var e=!1,t=this.mSelection.iterator();t.hasNext();){var n=t.next();e=!0,this.unselect$com_vzome_core_model_Manifestation(n)}return e&&this.redo(),e}},{key:"unselectConnectors",value:function(){for(var e=!1,t=this.getSelectedConnectors().iterator();t.hasNext();){var n=t.next();e=!0,this.unselect$com_vzome_core_model_Manifestation(n)}return e&&this.redo(),e}},{key:"unselectStruts",value:function(){for(var e=!1,t=this.getSelectedStruts().iterator();t.hasNext();){var n=t.next();e=!0,this.unselect$com_vzome_core_model_Manifestation(n)}return e&&this.redo(),e}},{key:"unselectPanels",value:function(){for(var e=!1,t=this.getSelectedPanels().iterator();t.hasNext();){var n=t.next();e=!0,this.unselect$com_vzome_core_model_Manifestation(n)}return e&&this.redo(),e}}],[{key:"logger_$LI$",value:function(){return null==i.logger&&(i.logger=java.util.logging.Logger.getLogger("com.vzome.core.editor.ChangeSelection")),i.logger}}]),i}();t.ChangeSelection=n,n.__class="com.vzome.core.editor.api.ChangeSelection",function(t){var n=function(){function t(n,r,i){_classCallCheck(this,t),this.__parent=n,void 0===this.mMan&&(this.mMan=null),void 0===this.mOn&&(this.mOn=!1),this.mMan=r,this.mOn=i,e.vzome.core.editor.api.ChangeSelection.logger_$LI$().finest("constructing SelectManifestation")}return _createClass(t,[{key:"redo",value:function(){this.__parent.groupingDoneInSelection?this.mOn?this.__parent.mSelection.selectWithGrouping(this.mMan):this.__parent.mSelection.unselectWithGrouping(this.mMan):this.mOn?this.__parent.mSelection.select(this.mMan):this.__parent.mSelection.unselect(this.mMan)}},{key:"undo",value:function(){this.__parent.groupingDoneInSelection?this.mOn?this.__parent.mSelection.unselectWithGrouping(this.mMan):this.__parent.mSelection.selectWithGrouping(this.mMan):this.mOn?this.__parent.mSelection.unselect(this.mMan):null!=this.__parent.selectionEffects?this.__parent.selectionEffects.push(this):this.__parent.mSelection.select(this.mMan)}},{key:"getXml",value:function(e){var t=this.mOn?e.createElement("select"):e.createElement("deselect");if(null!=this.mMan){var n=this.mMan.getXml(e);t.appendChild(n)}return t}}]),t}();t.SelectManifestation=n,n.__class="com.vzome.core.editor.api.ChangeSelection.SelectManifestation",n.__interfaces=["com.vzome.core.editor.api.SideEffects.SideEffect"];var r=function(){function t(n,r){_classCallCheck(this,t),this.__parent=n,void 0===this.mMan&&(this.mMan=null),this.mMan=r,e.vzome.core.editor.api.ChangeSelection.logger_$LI$().finest("constructing RecordSelectedManifestation")}return _createClass(t,[{key:"redo",value:function(){e.vzome.core.editor.api.ChangeSelection.logger_$LI$().finest("redoing RecordSelectedManifestation")}},{key:"undo",value:function(){e.vzome.core.editor.api.ChangeSelection.logger_$LI$().finest("undoing RecordSelectedManifestation"),null==this.__parent.selectionEffects?this.__parent.mSelection.select(this.mMan):this.__parent.selectionEffects.push(this)}},{key:"getXml",value:function(e){return e.createElement("recordSelected")}}]),t}();t.RecordSelectedManifestation=r,r.__class="com.vzome.core.editor.api.ChangeSelection.RecordSelectedManifestation",r.__interfaces=["com.vzome.core.editor.api.SideEffects.SideEffect"]}(n=t.ChangeSelection||(t.ChangeSelection={}))}((n=t.editor||(t.editor={})).api||(n.api={}))})((t=e.vzome||(e.vzome={})).core||(t.core={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.tools.OctahedralToolFactory);var n=_createSuper(r);function r(e,t){return _classCallCheck(this,r),n.call(this,e,t,r.__com_vzome_core_tools_TetrahedralToolFactory_ID,r.__com_vzome_core_tools_TetrahedralToolFactory_LABEL,"icosahedral"===t.getName()?r.__com_vzome_core_tools_TetrahedralToolFactory_TOOLTIP1:r.__com_vzome_core_tools_TetrahedralToolFactory_TOOLTIP2)}return _createClass(r,[{key:"createToolInternal",value:function(t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"tetrahedral"===e.substr(n,"tetrahedral".length)}(t,"tetrahedral")||(t="tetrahedral."+t),new e.vzome.core.tools.SymmetryTool(t,this.getSymmetry(),this.getToolsModel())}}]),r}();n.__com_vzome_core_tools_TetrahedralToolFactory_ID="tetrahedral",n.__com_vzome_core_tools_TetrahedralToolFactory_LABEL="Create a tetrahedral symmetry tool",n.__com_vzome_core_tools_TetrahedralToolFactory_TOOLTIP1="<p>Each tool produces up to 11 copies of the input<br>selection, using the rotation symmetries of a<br>tetrahedron.  To create a tool, select a ball<br>that defines the center of symmetry, and a single<br>blue or green strut, defining one of five<br>possible orientations for the symmetry.<br><br>Combine with a point reflection tool to achieve<br>all 24 symmetries of the tetrahedron, including<br>reflections.<br></p>",n.__com_vzome_core_tools_TetrahedralToolFactory_TOOLTIP2="<p>Each tool produces up to 11 copies of the input<br>selection, using the rotation symmetries of a<br>tetrahedron.  To create a tool, select a ball<br>that defines the center of symmetry.<br><br>Combine with a point reflection tool to achieve<br>all 24 symmetries of the tetrahedron, including<br>reflections.<br></p>",t.TetrahedralToolFactory=n,n.__class="com.vzome.core.tools.TetrahedralToolFactory",n.__interfaces=["com.vzome.core.editor.SelectionSummary.Listener","com.vzome.api.Tool.Factory"]})((n=t.core||(t.core={})).tools||(n.tools={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.commands.CommandImportVEFData);var n=_createSuper(r);function r(){return _classCallCheck(this,r),n.call(this)}return _createClass(r,[{key:"apply",value:function(t,n,i){try{for(var o,a=this.constructor.getClassLoader().getResourceAsStream("com/vzome/core/commands/600cell.vef"),s=new java.io.ByteArrayOutputStream,l=function(e){for(var t=[];e-- >0;)t.push(0);return t}(1024);(o=a.read(l,0,1024))>0;)s.write(l,0,o);var u=new String(s.toByteArray()),c=new e.vzome.core.construction.ConstructionList,f=n.get(e.vzome.core.commands.CommandImportVEFData.FIELD_ATTR_NAME);return null==f&&(f=n.get(e.vzome.core.commands.Command.FIELD_ATTR_NAME)),new r.VefToModel(this,null,i).parseVEF(u,f),c}catch(h){throw new e.vzome.core.commands.Command.Failure(h)}}}]),r}();t.CommandVanOss600Cell=n,n.__class="com.vzome.core.commands.CommandVanOss600Cell",n.__interfaces=["com.vzome.core.commands.Command"],function(t){var n=function(t){_inherits(r,e.vzome.core.math.VefParser);var n=_createSuper(r);function r(e,t,i){var o;return _classCallCheck(this,r),(o=n.call(this)).__parent=e,void 0===o.mQuaternion&&(o.mQuaternion=null),void 0===o.mProjection&&(o.mProjection=null),void 0===o.mVertices&&(o.mVertices=null),void 0===o.mEffects&&(o.mEffects=null),void 0===o.mLocations&&(o.mLocations=null),o.mQuaternion=null,o.mEffects=i,o}return _createClass(r,[{key:"startVertices",value:function(e){this.mVertices=function(e){for(var t=[];e-- >0;)t.push(null);return t}(e),this.mLocations=function(e){for(var t=[];e-- >0;)t.push(null);return t}(e),this.mProjection=null}},{key:"addVertex",value:function(e,t){this.mLocations[e]=t}},{key:"endVertices",value:function(){var t=this.getField(),n=t.createRational$long$long(1,2),r=t.createRational$long$long(1,4),i=this.mLocations[0].plus(this.mLocations[48]).plus(this.mLocations[50]).plus(this.mLocations[64]).scale(r),o=this.mLocations[0].plus(this.mLocations[48]).scale(n),a=this.mLocations[50].minus(o),s=i.minus(o),l=o.plus(s.scale(t.createAlgebraicNumber$int$int$int$int(0,3,5,0))),u=o.plus(a.scale(t.createAlgebraicNumber$int$int$int$int(0,2,5,0))).minus(l),c=l.plus(u.scale(t.createAlgebraicNumber$int$int$int$int(0,1,1,0)));this.mProjection=new e.vzome.core.math.QuaternionProjection(t,null,c);for(var f=t.createPower$int(5),h=0;h<this.mLocations.length;h++){var d=this.mLocations[h].scale(f);d=this.mProjection.projectImage(d,this.wFirst()),this.mVertices[h]=new e.vzome.core.construction.FreePoint(d),this.mEffects.constructionAdded(this.mVertices[h])}}},{key:"addEdge",value:function(t,n,r){var i=this.mVertices[n],o=this.mVertices[r];if(null!=i&&null!=o){var a=new e.vzome.core.construction.SegmentJoiningPoints(i,o);this.mEffects.constructionAdded(a)}else console.info("skipping "+n+" "+r)}},{key:"startEdges",value:function(e){}},{key:"startFaces",value:function(e){}},{key:"addFace",value:function(e,t){}},{key:"addBall",value:function(e,t){}},{key:"startBalls",value:function(e){}}]),r}();t.VefToModel=n,n.__class="com.vzome.core.commands.CommandVanOss600Cell.VefToModel"}(n=t.CommandVanOss600Cell||(t.CommandVanOss600Cell={}))})((n=t.core||(t.core={})).commands||(n.commands={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.commands.CommandTransform);var n=_createSuper(r);function r(t,i,o){var a;if(_classCallCheck(this,r),(null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicField")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicField")>=0)||null===t)&&(null!=i&&i instanceof e.vzome.core.math.symmetry.QuaternionicSymmetry||null===i)&&("number"===typeof o||null===o))void 0===(a=n.call(this)).mRoots&&(a.mRoots=null),void 0===a.field&&(a.field=null),void 0===a.symm&&(a.symm=null),a.h4Symms=new java.util.HashMap,a.mPolytopeIndex=-1,a.quaternionVector=null,void 0===a.mRoots&&(a.mRoots=null),void 0===a.field&&(a.field=null),void 0===a.symm&&(a.symm=null),a.mPolytopeIndex=o,a.field=t,a.symm=new r.H4Symmetry(t),a.mRoots=i.getRoots();else{if(void 0!==t||void 0!==i||void 0!==o)throw new Error("invalid overload");void 0===(a=n.call(this)).mRoots&&(a.mRoots=null),void 0===a.field&&(a.field=null),void 0===a.symm&&(a.symm=null),a.h4Symms=new java.util.HashMap,a.mPolytopeIndex=-1,a.quaternionVector=null,void 0===a.mRoots&&(a.mRoots=null),void 0===a.field&&(a.field=null),void 0===a.symm&&(a.symm=null)}return _possibleConstructorReturn(a)}return _createClass(r,[{key:"setFixedAttributes",value:function(e,t){_get(_getPrototypeOf(r.prototype),"setFixedAttributes",this).call(this,e,t),this.field=t.getField(),this.symm=this.h4Symms.get(this.field),null==this.symm&&(this.symm=new r.H4Symmetry(this.field),this.h4Symms.put(this.field,this.symm)),this.mRoots=t.getQuaternionicSymmetry("H_4").getRoots()}},{key:"setQuaternion",value:function(e){this.quaternionVector=e}},{key:"setXml",value:function(e,t){var n=_get(_getPrototypeOf(r.prototype),"setXml",this).call(this,e,t);return this.quaternionVector=t.parseRationalVector(e,"quaternion"),n}},{key:"getXml",value:function(t,n){null!=this.quaternionVector&&e.vzome.xml.DomUtils.addAttribute(t,"quaternion",this.quaternionVector.toParsableString()),_get(_getPrototypeOf(r.prototype),"getXml",this).call(this,t,n)}},{key:"getAttributeSignature",value:function(){return e.vzome.core.commands.CommandTransform.GROUP_ATTR_SIGNATURE_$LI$()}},{key:"attributeIs3D",value:function(e){return n=e,(t="symmetry.axis.segment").equals?!t.equals(n):t!==n;var t,n}},{key:"apply",value:function(t,n,i){var o=this.field.createPower$int(-5),a=new e.vzome.core.math.Projection.Default(this.field),s=null,l=null;if(0===t.size()){l=this.quaternionVector;var u=n.get(e.vzome.core.commands.CommandTransform.SYMMETRY_AXIS_ATTR_NAME);null==l&&(l=null==u?null:u.getOffset()),null!=l&&(l=l.scale(o))}else for(var c=0,f=t.iterator();f.hasNext();){var h=f.next();if(null!=h&&h instanceof e.vzome.core.construction.Segment){var d=h;if(1===++c)l=d.getOffset().scale(o);else{if(2!==c)throw new e.vzome.core.commands.Command.Failure("Too many struts to specify quaternion multiplication.");s=d.getOffset().scale(o)}}}if(null!=l&&(a=new e.vzome.core.math.QuaternionProjection(this.field,s,l)),this.mPolytopeIndex<0){var p=n.get(r.POLYTOPE_INDEX_ATTR_NAME);this.mPolytopeIndex=p}else n.put(r.POLYTOPE_INDEX_ATTR_NAME,this.mPolytopeIndex);return this.generate(this.mPolytopeIndex,this.mPolytopeIndex,null,new r.ConstructionChangesAdapter(i,a,this.field.createPower$int(5))),new e.vzome.core.construction.ConstructionList}},{key:"generate",value:function(e,t,n,r){var i=[null,null,null,null],o=this.symm.getPrototype(e);if(null!=n){o=this.field.origin(4);for(var a=0;a<4;a++)if(0!==(e&1<<a)){var s=this.symm.getCoRoot(a).scale(n[a]);o=o.plus(s)}}for(var l=0;l<4;l++)0!==(t&1<<l)&&(i[l]=this.symm.reflect(l,o));for(var u=0;u<this.mRoots.length;u++)for(var c=this.mRoots[u],f=0;f<this.mRoots.length;f++){var h=this.mRoots[f],d=c.rightMultiply(o);d=h.leftMultiply(d);for(var p=r.addVertex(d),m=0;m<4;m++)if(null!=i[m]){var v=c.rightMultiply(i[m]);if(!(v=h.leftMultiply(v)).equals(d)){var g=r.addVertex(v);r.addEdge(p,g)}}}}}],[{key:"logger_$LI$",value:function(){return null==r.logger&&(r.logger=java.util.logging.Logger.getLogger("com.vzome.core.commands.h4polytope")),r.logger}}]),r}();n.POLYTOPE_INDEX_ATTR_NAME="polytope.index",t.CommandUniformH4Polytope=n,n.__class="com.vzome.core.commands.CommandUniformH4Polytope",n.__interfaces=["com.vzome.core.commands.Command"],function(t){var n=function(){function t(n){_classCallCheck(this,t),this.mPrototypes=function(e){for(var t=[];e-- >0;)t.push(null);return t}(15),this.mMirrors=[null,null,null,null],this.coRoots=[null,null,null,null];var r=n.createRational$long(1),i=n.createRational$long(-1),o=n.createRational$long(2),a=n.createAlgebraicNumber$int$int$int$int(1,-1,1,0),s=n.createAlgebraicNumber$int$int$int$int(0,1,1,0),l=n.origin(4);l.setComponent(1,a.dividedBy$com_vzome_core_algebra_AlgebraicNumber(o)),l.setComponent(2,r.dividedBy$com_vzome_core_algebra_AlgebraicNumber(o)),l.setComponent(3,s.dividedBy$com_vzome_core_algebra_AlgebraicNumber(o)),this.mMirrors[3]=new e.vzome.core.algebra.Quaternion(n,l),(l=n.origin(4)).setComponent(3,i),this.mMirrors[2]=new e.vzome.core.algebra.Quaternion(n,l),(l=n.origin(4)).setComponent(1,r.dividedBy$com_vzome_core_algebra_AlgebraicNumber(o)),l.setComponent(2,i.dividedBy$com_vzome_core_algebra_AlgebraicNumber(o)),l.setComponent(3,r.dividedBy$com_vzome_core_algebra_AlgebraicNumber(o)),l.setComponent(0,i.dividedBy$com_vzome_core_algebra_AlgebraicNumber(o)),this.mMirrors[1]=new e.vzome.core.algebra.Quaternion(n,l),(l=n.origin(4)).setComponent(0,r),this.mMirrors[0]=new e.vzome.core.algebra.Quaternion(n,l);var u=n.createAlgebraicNumber$int$int$int$int(0,2,1,0);if(this.coRoots[3]=n.origin(4),this.coRoots[3].setComponent(1,u),this.coRoots[3].setComponent(2,u),this.coRoots[2]=n.origin(4),this.coRoots[2].setComponent(1,u.plus$com_vzome_core_algebra_AlgebraicNumber(r)),this.coRoots[2].setComponent(2,s.plus$com_vzome_core_algebra_AlgebraicNumber(o)),this.coRoots[2].setComponent(3,a),this.coRoots[1]=n.origin(4),this.coRoots[1].setComponent(1,u),this.coRoots[1].setComponent(2,o),this.coRoots[0]=n.origin(4),this.coRoots[0].setComponent(1,s),this.coRoots[0].setComponent(2,r),this.coRoots[0].setComponent(0,a.negate()),e.vzome.core.commands.CommandUniformH4Polytope.logger_$LI$().isLoggable(java.util.logging.Level.FINE))for(var c=0;c<4;c++){var f=new java.lang.StringBuffer;this.coRoots[c].getVectorExpression$java_lang_StringBuffer$int(f,e.vzome.core.algebra.AlgebraicField.DEFAULT_FORMAT),e.vzome.core.commands.CommandUniformH4Polytope.logger_$LI$().fine(f.toString())}for(var h=n.origin(4),d=1;d<=15;d++){for(var p=h,m=0;m<4;m++)0!==(d&1<<m)&&(p=p.plus(this.coRoots[m]));this.mPrototypes[d-1]=p}}return _createClass(t,[{key:"getPrototype",value:function(e){return this.mPrototypes[e-1]}},{key:"reflect",value:function(e,t){return this.mMirrors[e].reflect(t)}},{key:"getCoRoot",value:function(e){return this.coRoots[e]}}]),t}();t.H4Symmetry=n,n.__class="com.vzome.core.commands.CommandUniformH4Polytope.H4Symmetry";var r=function(){function n(e,t,r){_classCallCheck(this,n),this.vertices=new java.util.HashMap,void 0===this.effects&&(this.effects=null),void 0===this.proj&&(this.proj=null),void 0===this.scale&&(this.scale=null),this.edges=new java.util.HashSet,this.effects=e,this.proj=t,this.scale=r}return _createClass(n,[{key:"addEdge",value:function(n,r){var i=n,o=r,a=new t.Edge(i.getIndex(),o.getIndex());return this.edges.contains(a)?null:(this.edges.add(a),this.effects.constructionAdded(new e.vzome.core.construction.SegmentJoiningPoints(i,o)),a)}},{key:"addFace",value:function(e){return null}},{key:"addVertex",value:function(t){var n=this.vertices.get(t);if(null==n){var r=t;e.vzome.core.commands.CommandUniformH4Polytope.logger_$LI$().finer("before   : "),this.printGoldenVector(r),null!=this.proj&&(r=this.proj.projectImage(r,!0)),e.vzome.core.commands.CommandUniformH4Polytope.logger_$LI$().finer("projected: "),this.printGoldenVector(r),r=r.scale(this.scale),e.vzome.core.commands.CommandUniformH4Polytope.logger_$LI$().finer("scaled   : "),this.printGoldenVector(r),(n=new e.vzome.core.construction.FreePoint(r)).setIndex(this.vertices.size()),this.effects.constructionAdded(n),this.vertices.put(t,n)}return n}},{key:"printGoldenVector",value:function(t){if(e.vzome.core.commands.CommandUniformH4Polytope.logger_$LI$().isLoggable(java.util.logging.Level.FINER)){var n=new java.lang.StringBuffer;t.getVectorExpression$java_lang_StringBuffer$int(n,e.vzome.core.algebra.AlgebraicField.DEFAULT_FORMAT),e.vzome.core.commands.CommandUniformH4Polytope.logger_$LI$().finer(n.toString())}}}]),n}();t.ConstructionChangesAdapter=r,r.__class="com.vzome.core.commands.CommandUniformH4Polytope.ConstructionChangesAdapter",r.__interfaces=["com.vzome.core.math.symmetry.WythoffConstruction.Listener"];var i=function(){function t(e,n){_classCallCheck(this,t),void 0===this.p1&&(this.p1=0),void 0===this.p2&&(this.p2=0),this.p1=e,this.p2=n}return _createClass(t,[{key:"equals",value:function(t){if(r=t,(n=this)&&n.equals?n.equals(r):n===r)return!0;var n,r;if(!(null!=t&&t instanceof e.vzome.core.commands.CommandUniformH4Polytope.Edge))return!1;var i=t;return this.p1===i.p1&&this.p2===i.p2||this.p1===i.p2&&this.p2===i.p1}},{key:"hashCode",value:function(){return this.p1^this.p2}}]),t}();t.Edge=i,i.__class="com.vzome.core.commands.CommandUniformH4Polytope.Edge"}(n=t.CommandUniformH4Polytope||(t.CommandUniformH4Polytope={}))})((n=t.core||(t.core={})).commands||(n.commands={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.commands.CommandTransform);var n=_createSuper(r);function r(e){var t;if(_classCallCheck(this,r),null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.math.symmetry.Symmetry")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.math.symmetry.Symmetry")>=0)||null===e)void 0===(t=n.call(this)).mSymmetry&&(t.mSymmetry=null),void 0===t.mSymmetry&&(t.mSymmetry=null),t.mSymmetry=e;else{if(void 0!==e)throw new Error("invalid overload");void 0===(t=n.call(this)).mSymmetry&&(t.mSymmetry=null),void 0===t.mSymmetry&&(t.mSymmetry=null),t.mSymmetry=null}return _possibleConstructorReturn(t)}return _createClass(r,[{key:"getAttributeSignature",value:function(){return e.vzome.core.commands.CommandTransform.GROUP_ATTR_SIGNATURE_$LI$()}},{key:"setSymmetry",value:function(t){if(null==this.mSymmetry?this.mSymmetry=t.get(e.vzome.core.commands.CommandTransform.SYMMETRY_GROUP_ATTR_NAME):t.containsKey(e.vzome.core.commands.CommandTransform.SYMMETRY_GROUP_ATTR_NAME)||t.put(e.vzome.core.commands.CommandTransform.SYMMETRY_GROUP_ATTR_NAME,this.mSymmetry),null==this.mSymmetry)throw new java.lang.IllegalStateException("null symmetry no longer supported");return t.get(e.vzome.core.commands.CommandTransform.SYMMETRY_CENTER_ATTR_NAME)}},{key:"setFixedAttributes",value:function(t,n){if(!t.containsKey(e.vzome.core.commands.CommandTransform.SYMMETRY_GROUP_ATTR_NAME)){var i=n.parseSymmetry("icosahedral");t.put(e.vzome.core.commands.CommandTransform.SYMMETRY_GROUP_ATTR_NAME,i)}_get(_getPrototypeOf(r.prototype),"setFixedAttributes",this).call(this,t,n)}},{key:"apply",value:function(t,n,r){for(var i=this.setSymmetry(n),o=t.getConstructions(),a=new e.vzome.core.construction.ConstructionList,s=0;s<o.length;s++){var l=o[s];a.addConstruction(l)}for(var u=1;u<this.mSymmetry.getChiralOrder();u++){var c=new e.vzome.core.construction.SymmetryTransformation(this.mSymmetry,u,i);a.addAll(this.transform(o,c,r))}return a}}]),r}();t.CommandSymmetry=n,n.__class="com.vzome.core.commands.CommandSymmetry",n.__interfaces=["com.vzome.core.commands.Command"]})((n=t.core||(t.core={})).commands||(n.commands={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.commands.CommandTransform);var n=_createSuper(r);function r(t,i){var o;if(_classCallCheck(this,r),(null!=t&&t instanceof e.vzome.core.math.symmetry.QuaternionicSymmetry||null===t)&&(null!=i&&i instanceof e.vzome.core.math.symmetry.QuaternionicSymmetry||null===i))void 0===(o=n.call(this)).mLeft&&(o.mLeft=null),void 0===o.mRight&&(o.mRight=null),void 0===o.mLeft&&(o.mLeft=null),void 0===o.mRight&&(o.mRight=null),o.mLeft=t,o.mRight=i;else{if(void 0!==t||void 0!==i)throw new Error("invalid overload");void 0===(o=n.call(this)).mLeft&&(o.mLeft=null),void 0===o.mRight&&(o.mRight=null),void 0===o.mLeft&&(o.mLeft=null),void 0===o.mRight&&(o.mRight=null)}return _possibleConstructorReturn(o)}return _createClass(r,[{key:"setFixedAttributes",value:function(e,t){_get(_getPrototypeOf(r.prototype),"setFixedAttributes",this).call(this,e,t),e.containsKey(r.LEFT_SYMMETRY_GROUP_ATTR_NAME_$LI$())||(this.mLeft=t.getQuaternionicSymmetry("H_4"),e.put(r.LEFT_SYMMETRY_GROUP_ATTR_NAME_$LI$(),this.mLeft)),e.containsKey(r.RIGHT_SYMMETRY_GROUP_ATTR_NAME)||(this.mRight=t.getQuaternionicSymmetry("H_4"),e.put(r.RIGHT_SYMMETRY_GROUP_ATTR_NAME,this.mRight))}},{key:"getAttributeSignature",value:function(){return e.vzome.core.commands.CommandTransform.GROUP_ATTR_SIGNATURE_$LI$()}},{key:"apply",value:function(t,n,i){null==this.mLeft?this.mLeft=n.get(r.LEFT_SYMMETRY_GROUP_ATTR_NAME_$LI$()):n.containsKey(r.LEFT_SYMMETRY_GROUP_ATTR_NAME_$LI$())||n.put(r.LEFT_SYMMETRY_GROUP_ATTR_NAME_$LI$(),this.mLeft),null==this.mRight?this.mRight=n.get(r.RIGHT_SYMMETRY_GROUP_ATTR_NAME):n.containsKey(r.RIGHT_SYMMETRY_GROUP_ATTR_NAME)||n.put(r.RIGHT_SYMMETRY_GROUP_ATTR_NAME,this.mRight);for(var o=this.mLeft.getRoots(),a=this.mRight.getRoots(),s=t.getConstructions(),l=new e.vzome.core.construction.ConstructionList,u=0;u<s.length;u++){var c=s[u];l.addConstruction(c)}for(var f=0;f<o.length;f++)for(var h=o[f],d=0;d<a.length;d++)for(var p=a[d],m=0;m<s.length;m++){var v=s[m],g=null;null!=v&&v instanceof e.vzome.core.construction.Point?g=new e.vzome.core.construction.PointRotated4D(h,p,v):null!=v&&v instanceof e.vzome.core.construction.Segment?g=new e.vzome.core.construction.SegmentRotated4D(h,p,v):null!=v&&v instanceof e.vzome.core.construction.Polygon&&(g=new e.vzome.core.construction.PolygonRotated4D(h,p,v)),null!=g&&(i.constructionAdded(g),l.addConstruction(g))}return l}}],[{key:"LEFT_SYMMETRY_GROUP_ATTR_NAME_$LI$",value:function(){return null==r.LEFT_SYMMETRY_GROUP_ATTR_NAME&&(r.LEFT_SYMMETRY_GROUP_ATTR_NAME=e.vzome.core.commands.CommandTransform.SYMMETRY_GROUP_ATTR_NAME),r.LEFT_SYMMETRY_GROUP_ATTR_NAME}}]),r}();n.RIGHT_SYMMETRY_GROUP_ATTR_NAME="right.symmetry.group",t.CommandQuaternionSymmetry=n,n.__class="com.vzome.core.commands.CommandQuaternionSymmetry",n.__interfaces=["com.vzome.core.commands.Command"]})((n=t.core||(t.core={})).commands||(n.commands={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.commands.CommandTransform);var n=_createSuper(r);function r(){return _classCallCheck(this,r),n.call(this)}return _createClass(r,[{key:"apply",value:function(t,n,r){var i=n.get(e.vzome.core.commands.CommandTransform.SYMMETRY_AXIS_ATTR_NAME);if(null==i)throw new e.vzome.core.commands.Command.Failure("no symmetry axis provided");var o=t.getConstructions(),a=i.getField().projectTo3d(i.getOffset(),!0),s=new e.vzome.core.construction.Translation(a);return this.transform(o,s,r)}}]),r}();t.CommandTranslate=n,n.__class="com.vzome.core.commands.CommandTranslate",n.__interfaces=["com.vzome.core.commands.Command"]})((n=t.core||(t.core={})).commands||(n.commands={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.commands.CommandTransform);var n=_createSuper(r);function r(){return _classCallCheck(this,r),n.call(this)}return _createClass(r,[{key:"getAttributeSignature",value:function(){return e.vzome.core.commands.CommandTransform.ATTR_SIGNATURE_$LI$()}},{key:"apply",value:function(t,n,r){for(var i=new e.vzome.core.construction.ConstructionList,o=n.get(e.vzome.core.commands.CommandTransform.SYMMETRY_CENTER_ATTR_NAME),a=t.getConstructions(),s=0;s<a.length;s++){var l=a[s];i.addConstruction(l)}var u=new e.vzome.core.construction.PointReflection(o);return r.constructionAdded(u),this.transform(a,u,r)}}]),r}();t.CommandCentralSymmetry=n,n.__class="com.vzome.core.commands.CommandCentralSymmetry",n.__interfaces=["com.vzome.core.commands.Command"]})((n=t.core||(t.core={})).commands||(n.commands={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.commands.CommandTransform);var n=_createSuper(r);function r(){return _classCallCheck(this,r),n.call(this)}return _createClass(r,[{key:"apply",value:function(t,n,r){var i=n.get(e.vzome.core.commands.CommandTransform.SYMMETRY_CENTER_ATTR_NAME),o=n.get(e.vzome.core.commands.CommandTransform.SYMMETRY_AXIS_ATTR_NAME);if(null==o)throw new e.vzome.core.commands.Command.Failure("no symmetry axis provided");var a=t.getConstructions(),s=new e.vzome.core.construction.PlaneFromNormalSegment(i,o);r.constructionAdded(s);var l=new e.vzome.core.construction.PlaneReflection(s);return this.transform(a,l,r)}}]),r}();t.CommandMirrorSymmetry=n,n.__class="com.vzome.core.commands.CommandMirrorSymmetry",n.__interfaces=["com.vzome.core.commands.Command"]})((n=t.core||(t.core={})).commands||(n.commands={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeSelection);var n=_createSuper(r);function r(e){return _classCallCheck(this,r),n.call(this,e.getSelection())}return _createClass(r,[{key:"perform",value:function(){if(0===this.mSelection.size())throw new e.vzome.core.commands.Command.Failure("selection is empty")}}]),_createClass(r,[{key:"getXmlElementName",value:function(){return"ValidateSelection"}}]),r}();t.ValidateSelection=n,n.__class="com.vzome.core.edits.ValidateSelection"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeSelection);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),void 0===(t=n.call(this,e.getSelection())).mManifestations&&(t.mManifestations=null),t.mManifestations=e.getRealizedModel(),t}return _createClass(r,[{key:"perform",value:function(){for(var e=this.mManifestations.iterator();e.hasNext();){var t=e.next();t.isRendered()&&(this.mSelection.manifestationSelected(t)?this.unselect$com_vzome_core_model_Manifestation(t):this.select$com_vzome_core_model_Manifestation(t))}this.redo()}},{key:"getXmlElementName",value:function(){return"InvertSelection"}}]),r}();t.InvertSelection=n,n.__class="com.vzome.core.edits.InvertSelection"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeSelection);var n=_createSuper(r);function r(e,t){var i;if(_classCallCheck(this,r),(null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.editor.api.EditorModel")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.editor.api.EditorModel")>=0)||null===e)&&(null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0)||null===t))void 0===(i=n.call(this,e.getSelection())).mManifestation&&(i.mManifestation=null),void 0===i.construction&&(i.construction=null),void 0===i.mRealized&&(i.mRealized=null),void 0===i.mReplace&&(i.mReplace=!1),void 0===i.mManifestation&&(i.mManifestation=null),void 0===i.construction&&(i.construction=null),void 0===i.mRealized&&(i.mRealized=null),void 0===i.mReplace&&(i.mReplace=!1),i.mRealized=e.getRealizedModel(),i.mManifestation=t,null!=i.mManifestation&&(i.construction=i.mManifestation.toConstruction());else{if(!(null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.editor.api.EditorModel")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.editor.api.EditorModel")>=0)||null===e)||void 0!==t)throw new Error("invalid overload");void 0===(i=n.call(this,e.getSelection())).mManifestation&&(i.mManifestation=null),void 0===i.construction&&(i.construction=null),void 0===i.mRealized&&(i.mRealized=null),void 0===i.mReplace&&(i.mReplace=!1),void 0===i.mManifestation&&(i.mManifestation=null),void 0===i.construction&&(i.construction=null),void 0===i.mRealized&&(i.mRealized=null),void 0===i.mReplace&&(i.mReplace=!1),i.mRealized=e.getRealizedModel()}return _possibleConstructorReturn(i)}return _createClass(r,[{key:"groupingAware",value:function(){return!0}},{key:"configure",value:function(e){var t,n,r=e.get("mode");this.mReplace=(n=r,(t="replace").equals?t.equals(n):t===n),this.mManifestation=e.get("picked"),null!=this.mManifestation&&(this.construction=this.mManifestation.toConstruction())}},{key:"perform",value:function(){if(this.mReplace){for(var e=this.mSelection.iterator();e.hasNext();){var t=e.next();this.unselect$com_vzome_core_model_Manifestation$boolean(t,!0)}this.select$com_vzome_core_model_Manifestation(this.mManifestation)}else this.mSelection.manifestationSelected(this.mManifestation)?this.unselect$com_vzome_core_model_Manifestation(this.mManifestation):this.select$com_vzome_core_model_Manifestation(this.mManifestation);this.redo()}},{key:"getXmlAttributes",value:function(t){null!=this.construction&&this.construction instanceof e.vzome.core.construction.Point?e.vzome.core.commands.XmlSaveFormat.serializePoint(t,"point",this.construction):null!=this.construction&&this.construction instanceof e.vzome.core.construction.Segment?e.vzome.core.commands.XmlSaveFormat.serializeSegment(t,"startSegment","endSegment",this.construction):null!=this.construction&&this.construction instanceof e.vzome.core.construction.Polygon&&e.vzome.core.commands.XmlSaveFormat.serializePolygon(t,"polygonVertex",this.construction),this.mReplace&&e.vzome.xml.DomUtils.addAttribute(t,"replace","true")}},{key:"setXmlAttributes",value:function(t,n){if(n.rationalVectors()){if(this.construction=n.parsePoint$org_w3c_dom_Element$java_lang_String(t,"point"),null==this.construction&&(this.construction=n.parseSegment$org_w3c_dom_Element$java_lang_String$java_lang_String(t,"startSegment","endSegment")),null==this.construction){var r=e.vzome.xml.DomUtils.getFirstChildElement$org_w3c_dom_Element$java_lang_String(t,"polygon");this.construction=null!=r?n.parsePolygon$org_w3c_dom_Element$java_lang_String(r,"vertex"):n.parsePolygon$org_w3c_dom_Element$java_lang_String(t,"polygonVertex")}}else{var i=n.loadCommandAttributes$org_w3c_dom_Element(t);this.construction=i.get("manifestation");var o=i.get("replace");null!=o&&o&&(this.mReplace=!0)}this.mManifestation=this.mRealized.getManifestation(this.construction),null==this.mManifestation&&n.rationalVectors()&&null!=this.construction&&this.construction instanceof e.vzome.core.construction.Polygon&&(this.construction=n.parsePolygonReversed(t,"polygonVertex"),this.mManifestation=this.mRealized.getManifestation(this.construction),null!=this.mManifestation&&SideEffects.logBugAccommodation("reverse-oriented polygon"))}},{key:"getXmlElementName",value:function(){return"SelectManifestation"}}]),r}();t.SelectManifestation=n,n.__class="com.vzome.core.edits.SelectManifestation"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeSelection);var n=_createSuper(r);function r(t){var i;return _classCallCheck(this,r),void 0===(i=n.call(this,t.getSelection())).orbit&&(i.orbit=null),void 0===i.length&&(i.length=null),void 0===i.symmetry&&(i.symmetry=null),i.strutAction=e.vzome.core.editor.api.ActionEnum.IGNORE,i.panelAction=e.vzome.core.editor.api.ActionEnum.IGNORE,void 0===i.editor&&(i.editor=null),i.symmetry=t.getSymmetrySystem$(),i.editor=t,i}return _createClass(r,[{key:"configure",value:function(t){var n=t.get("mode"),r=t.get("picked");if(this.orbit=t.get("orbit"),this.length=t.get("length"),null!=n)switch(n){case"selectSimilarStruts":this.strutAction=e.vzome.core.editor.api.ActionEnum.SELECT;break;case"selectSimilarPanels":this.panelAction=e.vzome.core.editor.api.ActionEnum.SELECT;break;case"deselectSimilarStruts":this.strutAction=e.vzome.core.editor.api.ActionEnum.DESELECT;break;case"deselectSimilarPanels":this.panelAction=e.vzome.core.editor.api.ActionEnum.DESELECT}if(null!=r){var i=r.getOffset(),o=this.symmetry.getAxis(i);this.orbit=o.getOrbit(),this.length=o.getLength(i)}}},{key:"perform",value:function(){for(var t,n,r=(this.strutAction===e.vzome.core.editor.api.ActionEnum.SELECT||this.panelAction===e.vzome.core.editor.api.ActionEnum.SELECT?this.editor.getRealizedModel():this.mSelection).iterator();r.hasNext();){var i=r.next();if(i.isRendered())if(null!=i&&(null!=i.__interfaces&&i.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=i.constructor&&null!=i.constructor.__interfaces&&i.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0)){var o=i.getOffset(),a=this.symmetry.getAxis(o);a.getOrbit()===this.orbit&&(null==this.length||(t=this.length,n=a.getLength(o),t&&t.equals?t.equals(n):t===n))&&this.adjustSelection(i,this.strutAction)}else null!=i&&(null!=i.__interfaces&&i.__interfaces.indexOf("com.vzome.core.model.Panel")>=0||null!=i.constructor&&null!=i.constructor.__interfaces&&i.constructor.__interfaces.indexOf("com.vzome.core.model.Panel")>=0)&&this.symmetry.getAxis(i.getNormal$()).getOrbit()===this.orbit&&this.adjustSelection(i,this.panelAction)}this.redo()}},{key:"getXmlElementName",value:function(){return"AdjustSelectionByOrbitLength"}},{key:"getXmlAttributes",value:function(t){null!=this.symmetry&&e.vzome.xml.DomUtils.addAttribute(t,"symmetry",this.symmetry.getName()),null!=this.orbit&&e.vzome.xml.DomUtils.addAttribute(t,"orbit",this.orbit.getName()),null!=this.length&&e.vzome.core.commands.XmlSaveFormat.serializeNumber(t,"length",this.length),t.setAttribute("struts",e.vzome.core.editor.api.ActionEnum._$wrappers[this.strutAction].toString()),t.setAttribute("panels",e.vzome.core.editor.api.ActionEnum._$wrappers[this.panelAction].toString())}},{key:"setXmlAttributes",value:function(t,n){var r,i;this.symmetry=this.editor.getSymmetrySystem$java_lang_String(t.getAttribute("symmetry")),this.length=n.parseNumber(t,"length"),this.orbit=this.symmetry.getOrbits().getDirection(t.getAttribute("orbit")),r=t.getLocalName(),i="SelectSimilarSize",(r&&r.equals?r.equals(i):r===i)?(this.strutAction=e.vzome.core.editor.api.ActionEnum.SELECT,this.panelAction=e.vzome.core.editor.api.ActionEnum.IGNORE):(this.strutAction=e.vzome.core.editor.api.ActionEnum[t.getAttribute("struts")],this.panelAction=e.vzome.core.editor.api.ActionEnum[t.getAttribute("panels")])}}]),r}();t.AdjustSelectionByOrbitLength=n,n.__class="com.vzome.core.edits.AdjustSelectionByOrbitLength"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeSelection);var n=_createSuper(r);function r(t){var i;return _classCallCheck(this,r),(i=n.call(this,t.getSelection())).ballAction=e.vzome.core.editor.api.ActionEnum.IGNORE,i.strutAction=e.vzome.core.editor.api.ActionEnum.IGNORE,i.panelAction=e.vzome.core.editor.api.ActionEnum.IGNORE,void 0===i.editor&&(i.editor=null),i.editor=t,i}return _createClass(r,[{key:"configure",value:function(t){var n=t.get("mode");if(null!=n)switch(n){case"selectBalls":this.ballAction=e.vzome.core.editor.api.ActionEnum.SELECT;break;case"selectStruts":this.strutAction=e.vzome.core.editor.api.ActionEnum.SELECT;break;case"selectPanels":this.panelAction=e.vzome.core.editor.api.ActionEnum.SELECT;break;case"deselectBalls":case"unselectBalls":this.ballAction=e.vzome.core.editor.api.ActionEnum.DESELECT;break;case"deselectStruts":this.strutAction=e.vzome.core.editor.api.ActionEnum.DESELECT;break;case"deselectPanels":this.panelAction=e.vzome.core.editor.api.ActionEnum.DESELECT;break;case"unselectStruts":case"unselectStrutsAndPanels":this.strutAction=e.vzome.core.editor.api.ActionEnum.DESELECT,this.panelAction=e.vzome.core.editor.api.ActionEnum.DESELECT}}},{key:"perform",value:function(){for(var t=(this.ballAction===e.vzome.core.editor.api.ActionEnum.SELECT||this.strutAction===e.vzome.core.editor.api.ActionEnum.SELECT||this.panelAction===e.vzome.core.editor.api.ActionEnum.SELECT?this.editor.getRealizedModel():this.mSelection).iterator();t.hasNext();){var n=t.next();n.isRendered()&&(null!=n&&(null!=n.__interfaces&&n.__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0)?this.adjustSelection(n,this.ballAction):null!=n&&(null!=n.__interfaces&&n.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0)?this.adjustSelection(n,this.strutAction):null!=n&&(null!=n.__interfaces&&n.__interfaces.indexOf("com.vzome.core.model.Panel")>=0||null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("com.vzome.core.model.Panel")>=0)&&this.adjustSelection(n,this.panelAction))}this.redo()}},{key:"getXmlAttributes",value:function(t){t.setAttribute("balls",e.vzome.core.editor.api.ActionEnum._$wrappers[this.ballAction].toString()),t.setAttribute("struts",e.vzome.core.editor.api.ActionEnum._$wrappers[this.strutAction].toString()),t.setAttribute("panels",e.vzome.core.editor.api.ActionEnum._$wrappers[this.panelAction].toString())}},{key:"setXmlAttributes",value:function(t,n){var r,i;r=t.getLocalName(),i="DeselectByClass",(r&&r.equals?r.equals(i):r===i)?function(e,t){return e&&e.equals?e.equals("balls"):"balls"===e}(t.getAttribute("class"))?(this.ballAction=e.vzome.core.editor.api.ActionEnum.DESELECT,this.strutAction=e.vzome.core.editor.api.ActionEnum.IGNORE,this.panelAction=e.vzome.core.editor.api.ActionEnum.IGNORE):(this.ballAction=e.vzome.core.editor.api.ActionEnum.IGNORE,this.strutAction=e.vzome.core.editor.api.ActionEnum.DESELECT,this.panelAction=e.vzome.core.editor.api.ActionEnum.DESELECT):(this.ballAction=e.vzome.core.editor.api.ActionEnum[t.getAttribute("balls")],this.strutAction=e.vzome.core.editor.api.ActionEnum[t.getAttribute("struts")],this.panelAction=e.vzome.core.editor.api.ActionEnum[t.getAttribute("panels")])}},{key:"getXmlElementName",value:function(){return"AdjustSelectionByClass"}}]),r}();t.AdjustSelectionByClass=n,n.__class="com.vzome.core.edits.AdjustSelectionByClass"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeSelection);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),void 0===(t=n.call(this,e.getSelection())).realizedModel&&(t.realizedModel=null),t.realizedModel=e.getRealizedModel(),t}return _createClass(r,[{key:"perform",value:function(){for(var e=this.realizedModel.iterator();e.hasNext();){var t=e.next();t.isRendered()&&(this.mSelection.manifestationSelected(t)||this.select$com_vzome_core_model_Manifestation$boolean(t,!0))}_get(_getPrototypeOf(r.prototype),"perform",this).call(this)}},{key:"groupingAware",value:function(){return!0}},{key:"getXmlElementName",value:function(){return"SelectAll"}}]),r}();t.SelectAll=n,n.__class="com.vzome.core.edits.SelectAll"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeSelection);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),void 0===(t=n.call(this,e.getSelection())).editor&&(t.editor=null),t.withPanels=!1,t.editor=e,t}return _createClass(r,[{key:"perform",value:function(){for(var e=this.editor.getRealizedModel(),t=new java.util.HashSet,n=new java.util.HashSet,i=new java.util.HashSet,o=this.mSelection.iterator();o.hasNext();){var a=o.next();null!=a&&(null!=a.__interfaces&&a.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=a.constructor&&null!=a.constructor.__interfaces&&a.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0)?n.add(a):null!=a&&(null!=a.__interfaces&&a.__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=a.constructor&&null!=a.constructor.__interfaces&&a.constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0)?i.add(a):this.withPanels&&null!=a&&(null!=a.__interfaces&&a.__interfaces.indexOf("com.vzome.core.model.Panel")>=0||null!=a.constructor&&null!=a.constructor.__interfaces&&a.constructor.__interfaces.indexOf("com.vzome.core.model.Panel")>=0)&&t.add(a)}for(var s=i.iterator();s.hasNext();)for(var l=s.next().getLocation(),u=e.iterator();u.hasNext();){var c=u.next();if(c.isRendered())if(null!=c&&(null!=c.__interfaces&&c.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=c.constructor&&null!=c.constructor.__interfaces&&c.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0)&&!n.contains(c)){var f=c;(l.equals(f.getLocation())||l.equals(f.getEnd()))&&this.select$com_vzome_core_model_Manifestation(f)}else if(this.withPanels&&null!=c&&(null!=c.__interfaces&&c.__interfaces.indexOf("com.vzome.core.model.Panel")>=0||null!=c.constructor&&null!=c.constructor.__interfaces&&c.constructor.__interfaces.indexOf("com.vzome.core.model.Panel")>=0)&&!t.contains(c))for(var h=c,d=h.iterator();d.hasNext();){var p=d.next();if(l.equals(p)){this.select$com_vzome_core_model_Manifestation(h);break}}}for(var m=n.iterator();m.hasNext();)for(var v=m.next(),g=v.getLocation(),y=v.getEnd(),_=e.iterator();_.hasNext();){var b=_.next();if(b.isRendered()&&null!=b&&(null!=b.__interfaces&&b.__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=b.constructor&&null!=b.constructor.__interfaces&&b.constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0)&&!i.contains(b)){var w=b.getLocation();(w.equals(g)||w.equals(y))&&this.select$com_vzome_core_model_Manifestation(b)}}if(this.withPanels)for(var x=t.iterator();x.hasNext();)for(var A=x.next().iterator();A.hasNext();)for(var M=A.next(),S=e.iterator();S.hasNext();){var C=S.next();C.isRendered()&&null!=C&&(null!=C.__interfaces&&C.__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=C.constructor&&null!=C.constructor.__interfaces&&C.constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0)&&!i.contains(C)&&C.getLocation().equals(M)&&this.select$com_vzome_core_model_Manifestation(C)}_get(_getPrototypeOf(r.prototype),"perform",this).call(this)}},{key:"getXmlElementName",value:function(){return"SelectNeighbors"}}]),r}();t.SelectNeighbors=n,n.__class="com.vzome.core.edits.SelectNeighbors"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeSelection);var n=_createSuper(r);function r(e){return _classCallCheck(this,r),n.call(this,e.getSelection())}return _createClass(r,[{key:"perform",value:function(){for(var e=this.mSelection.iterator();e.hasNext();){var t=e.next();this.unselect$com_vzome_core_model_Manifestation$boolean(t,!0)}_get(_getPrototypeOf(r.prototype),"perform",this).call(this)}}]),_createClass(r,[{key:"groupingAware",value:function(){return!0}},{key:"getXmlElementName",value:function(){return"DeselectAll"}}]),r}();t.DeselectAll=n,n.__class="com.vzome.core.edits.DeselectAll"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){var t;(function(t){var n;!function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeSelection);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),void 0===(t=n.call(this,e.getSelection())).mManifestations&&(t.mManifestations=null),t.mManifestations=e.getRealizedModel(),t.mManifestations.clearPerEditManifestations(),t}return _createClass(r,[{key:"redo",value:function(){this.mManifestations.clearPerEditManifestations(),_get(_getPrototypeOf(r.prototype),"redo",this).call(this)}},{key:"undo",value:function(){this.mManifestations.clearPerEditManifestations(),_get(_getPrototypeOf(r.prototype),"undo",this).call(this)}},{key:"getManifestation",value:function(e){return this.mManifestations.getManifestation(e)}},{key:"manifestConstruction",value:function(e){var t=this.mManifestations.findConstruction(e);if(null==t)return null;var n=this.mManifestations.findPerEditManifestation(t);return null!=n?n:(t.isUnnecessary()?(this.mManifestations.addPerEditManifestation(t),this.plan(new r.ManifestConstruction(this,e,t,!0))):t.isRendered()||this.plan(new r.RenderManifestation(this,t,!0)),t)}},{key:"unmanifestConstruction",value:function(e){var t=this.mManifestations.removeConstruction(e);return null==t?null:(this.plan(new r.ManifestConstruction(this,e,t,!1)),t)}},{key:"deleteManifestation",value:function(e){this.plan(new r.DeleteManifestation(this,e))}},{key:"showManifestation",value:function(e){this.plan(new r.RenderManifestation(this,e,!0))}},{key:"hideManifestation",value:function(e){this.plan(new r.RenderManifestation(this,e,!1))}},{key:"colorManifestation",value:function(e,t){this.plan(new r.ColorManifestation(this,e,t))}},{key:"hideConnectors",value:function(){for(var t=e.vzome.core.editor.api.Manifestations.getVisibleConnectors(this.mManifestations).iterator();t.hasNext();){var n=t.next();this.hideManifestation(n)}}},{key:"showConnectors",value:function(){for(var t=e.vzome.core.editor.api.Manifestations.getHiddenConnectors(this.mManifestations).iterator();t.hasNext();){var n=t.next();this.showManifestation(n)}}},{key:"hideStruts",value:function(){for(var t=e.vzome.core.editor.api.Manifestations.getVisibleStruts(this.mManifestations).iterator();t.hasNext();){var n=t.next();this.hideManifestation(n)}}},{key:"showStruts",value:function(){for(var t=e.vzome.core.editor.api.Manifestations.getHiddenStruts(this.mManifestations).iterator();t.hasNext();){var n=t.next();this.showManifestation(n)}}},{key:"hidePanels",value:function(){for(var t=e.vzome.core.editor.api.Manifestations.getVisiblePanels(this.mManifestations).iterator();t.hasNext();){var n=t.next();this.hideManifestation(n)}}},{key:"showPanels",value:function(){for(var t=e.vzome.core.editor.api.Manifestations.getHiddenPanels(this.mManifestations).iterator();t.hasNext();){var n=t.next();this.showManifestation(n)}}},{key:"showsManifestation",value:function(t){for(var n=this.getEffects();n.hasNext();){var r=n.next();if(null!=r&&r instanceof e.vzome.core.editor.api.ChangeManifestations.ManifestConstruction){if(r.showsManifestation(t))return!0}else if(null!=r&&r instanceof e.vzome.core.editor.api.ChangeManifestations.RenderManifestation&&r.showsManifestation(t))return!0}return!1}},{key:"getRenderedSelection",value:function(){return e.vzome.core.editor.api.Manifestations.visibleManifestations$java_lang_Iterable$java_util_function_Predicate(this.mSelection,function(t){return e.vzome.core.editor.api.Manifestations.Filters.isRendered(t)})}},{key:"getConnectors",value:function(){return e.vzome.core.editor.api.Manifestations.getConnectors$java_lang_Iterable(this.mManifestations)}},{key:"getStruts",value:function(){return e.vzome.core.editor.api.Manifestations.getStruts$java_lang_Iterable(this.mManifestations)}},{key:"getPanels",value:function(){return e.vzome.core.editor.api.Manifestations.getPanels$java_lang_Iterable(this.mManifestations)}},{key:"getVisibleConnectors$",value:function(){return e.vzome.core.editor.api.Manifestations.getVisibleConnectors(this.mManifestations)}},{key:"getVisibleStruts$",value:function(){return e.vzome.core.editor.api.Manifestations.getVisibleStruts(this.mManifestations)}},{key:"getVisiblePanels$",value:function(){return e.vzome.core.editor.api.Manifestations.getVisiblePanels(this.mManifestations)}},{key:"getVisibleConnectors$java_util_function_Predicate",value:function(t){return e.vzome.core.editor.api.Manifestations.getVisibleConnectors(this.mManifestations,t)}},{key:"getVisibleConnectors",value:function(e){if("function"===typeof e&&1==e.length||null===e)return this.getVisibleConnectors$java_util_function_Predicate(e);if(void 0===e)return this.getVisibleConnectors$();throw new Error("invalid overload")}},{key:"getVisibleStruts$java_util_function_Predicate",value:function(t){return e.vzome.core.editor.api.Manifestations.getVisibleStruts(this.mManifestations,t)}},{key:"getVisibleStruts",value:function(e){if("function"===typeof e&&1==e.length||null===e)return this.getVisibleStruts$java_util_function_Predicate(e);if(void 0===e)return this.getVisibleStruts$();throw new Error("invalid overload")}},{key:"getVisiblePanels$java_util_function_Predicate",value:function(t){return e.vzome.core.editor.api.Manifestations.getVisiblePanels(this.mManifestations,t)}},{key:"getVisiblePanels",value:function(e){if("function"===typeof e&&1==e.length||null===e)return this.getVisiblePanels$java_util_function_Predicate(e);if(void 0===e)return this.getVisiblePanels$();throw new Error("invalid overload")}}]),r}();t.ChangeManifestations=n,n.__class="com.vzome.core.editor.api.ChangeManifestations",function(t){var n=function(){function e(t,n,r,i){_classCallCheck(this,e),this.__parent=t,void 0===this.mManifestation&&(this.mManifestation=null),void 0===this.mConstruction&&(this.mConstruction=null),void 0===this.mShowing&&(this.mShowing=!1),this.mConstruction=n,this.mManifestation=r,this.mShowing=i}return _createClass(e,[{key:"redo",value:function(){this.mShowing?(this.mManifestation.isUnnecessary()&&this.__parent.mManifestations.add(this.mManifestation),this.__parent.mManifestations.show(this.mManifestation),this.mManifestation.addConstruction(this.mConstruction)):(this.mManifestation.removeConstruction(this.mConstruction),this.mManifestation.isUnnecessary()&&(this.__parent.mManifestations.hide(this.mManifestation),this.__parent.mManifestations.remove(this.mManifestation)))}},{key:"undo",value:function(){this.mShowing?(this.mManifestation.removeConstruction(this.mConstruction),this.mManifestation.isUnnecessary()&&(this.__parent.mManifestations.hide(this.mManifestation),this.__parent.mManifestations.remove(this.mManifestation))):(this.mManifestation.isUnnecessary()&&this.__parent.mManifestations.add(this.mManifestation),this.__parent.mManifestations.show(this.mManifestation),this.mManifestation.addConstruction(this.mConstruction))}},{key:"getXml",value:function(e){var t=this.mShowing?e.createElement("mshow"):e.createElement("mhide"),n=this.mConstruction.getXml(e);return t.appendChild(n),t}},{key:"showsManifestation",value:function(e){return this.mShowing&&(t=this.mManifestation,n=e,t&&t.equals?t.equals(n):t===n);var t,n}}]),e}();t.ManifestConstruction=n,n.__class="com.vzome.core.editor.api.ChangeManifestations.ManifestConstruction",n.__interfaces=["com.vzome.core.editor.api.SideEffects.SideEffect"];var r=function(){function e(t,n,r){_classCallCheck(this,e),this.__parent=t,void 0===this.mManifestation&&(this.mManifestation=null),void 0===this.mShowing&&(this.mShowing=!1),this.mManifestation=n,this.mShowing=r}return _createClass(e,[{key:"redo",value:function(){this.mManifestation.setHidden(!this.mShowing),this.mShowing?this.__parent.mManifestations.show(this.mManifestation):this.__parent.mManifestations.hide(this.mManifestation)}},{key:"undo",value:function(){this.mManifestation.setHidden(this.mShowing),this.mShowing?this.__parent.mManifestations.hide(this.mManifestation):this.__parent.mManifestations.show(this.mManifestation)}},{key:"getXml",value:function(e){var t=this.mShowing?e.createElement("show"):e.createElement("hide"),n=this.mManifestation.getXml(e);return t.appendChild(n),t}},{key:"showsManifestation",value:function(e){return this.mShowing&&(t=this.mManifestation,n=e,t&&t.equals?t.equals(n):t===n);var t,n}}]),e}();t.RenderManifestation=r,r.__class="com.vzome.core.editor.api.ChangeManifestations.RenderManifestation",r.__interfaces=["com.vzome.core.editor.api.SideEffects.SideEffect"];var i=function(){function e(t,n){_classCallCheck(this,e),this.__parent=t,void 0===this.mManifestation&&(this.mManifestation=null),this.mManifestation=n}return _createClass(e,[{key:"redo",value:function(){this.mManifestation.setHidden(!0),this.__parent.mManifestations.hide(this.mManifestation),this.__parent.mManifestations.remove(this.mManifestation)}},{key:"undo",value:function(){this.__parent.mManifestations.add(this.mManifestation),this.__parent.mManifestations.show(this.mManifestation),this.mManifestation.setHidden(!1)}},{key:"getXml",value:function(e){var t=e.createElement("delete"),n=this.mManifestation.getXml(e);return t.appendChild(n),t}}]),e}();t.DeleteManifestation=i,i.__class="com.vzome.core.editor.api.ChangeManifestations.DeleteManifestation",i.__interfaces=["com.vzome.core.editor.api.SideEffects.SideEffect"];var o=function(){function t(e,n,r){_classCallCheck(this,t),this.__parent=e,void 0===this.mManifestation&&(this.mManifestation=null),void 0===this.oldColor&&(this.oldColor=null),void 0===this.newColor&&(this.newColor=null),this.mManifestation=n,this.newColor=r,this.oldColor=n.getColor()}return _createClass(t,[{key:"redo",value:function(){this.__parent.mManifestations.setColor(this.mManifestation,this.newColor)}},{key:"undo",value:function(){this.__parent.mManifestations.setColor(this.mManifestation,this.oldColor)}},{key:"getXml",value:function(t){var n=t.createElement("color");e.vzome.xml.DomUtils.addAttribute(n,"rgb",this.newColor.toString());var r=this.mManifestation.getXml(t);return n.appendChild(r),n}}]),t}();t.ColorManifestation=o,o.__class="com.vzome.core.editor.api.ChangeManifestations.ColorManifestation",o.__interfaces=["com.vzome.core.editor.api.SideEffects.SideEffect"]}(n=t.ChangeManifestations||(t.ChangeManifestations={}))}((n=t.editor||(t.editor={})).api||(n.api={}))})((t=e.vzome||(e.vzome={})).core||(t.core={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.commands.CommandSymmetry);var n=_createSuper(r);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return _classCallCheck(this,r),n.call(this,e)}return _createClass(r,[{key:"getAttributeSignature",value:function(){return r.ATTR_SIGNATURE_$LI$()}},{key:"apply",value:function(t,n,r){for(var i=this.setSymmetry(n),o=this.mSymmetry.subgroup(e.vzome.core.math.symmetry.Symmetry.TETRAHEDRAL),a=t.getConstructions(),s=new e.vzome.core.construction.ConstructionList,l=0;l<a.length;l++){var u=a[l];s.addConstruction(u)}for(var c=1;c<o.length;c++){var f=new e.vzome.core.construction.SymmetryTransformation(this.mSymmetry,o[c],i);s.addAll(this.transform(a,f,r))}return s}}],[{key:"ATTR_SIGNATURE_$LI$",value:function(){return null==r.ATTR_SIGNATURE&&(r.ATTR_SIGNATURE=[[e.vzome.core.commands.CommandTransform.SYMMETRY_CENTER_ATTR_NAME,e.vzome.core.construction.Point],[e.vzome.core.commands.CommandTransform.SYMMETRY_GROUP_ATTR_NAME,"com.vzome.core.math.symmetry.Symmetry"],[r.SUBGROUP_ATTR_NAME,[].constructor]]),r.ATTR_SIGNATURE}}]),r}();n.SUBGROUP_ATTR_NAME="symmetry.permutations",t.CommandTetrahedralSymmetry=n,n.__class="com.vzome.core.commands.CommandTetrahedralSymmetry",n.__interfaces=["com.vzome.core.commands.Command"]})((n=t.core||(t.core={})).commands||(n.commands={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.commands.CommandSymmetry);var n=_createSuper(r);function r(){return _classCallCheck(this,r),n.call(this)}return _createClass(r,[{key:"apply",value:function(t,n,r){var i=this.setSymmetry(n),o=n.get(e.vzome.core.commands.CommandTransform.SYMMETRY_AXIS_ATTR_NAME);if(null==o)throw new e.vzome.core.commands.Command.Failure("no symmetry axis provided");var a=t.getConstructions(),s=new e.vzome.core.construction.ConstructionList,l=o.getOffset();l=o.getField().projectTo3d(l,!0);var u=this.mSymmetry.getAxis$com_vzome_core_algebra_AlgebraicVector(l).getRotation(),c=new e.vzome.core.construction.SymmetryTransformation(this.mSymmetry,u,i);return r.constructionAdded(c),s.addAll(this.transform(a,c,r)),s}}]),r}();t.CommandRotate=n,n.__class="com.vzome.core.commands.CommandRotate",n.__interfaces=["com.vzome.core.commands.Command"]})((n=t.core||(t.core={})).commands||(n.commands={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.commands.CommandSymmetry);var n=_createSuper(r);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return _classCallCheck(this,r),n.call(this,e)}return _createClass(r,[{key:"apply",value:function(t,n,r){this.setSymmetry(n);var i=n.get(e.vzome.core.commands.CommandTransform.SYMMETRY_AXIS_ATTR_NAME);if(null==i)throw new e.vzome.core.commands.Command.Failure("no symmetry axis provided");var o=new e.vzome.core.construction.ConstructionList,a=i.getOffset();a=i.getField().projectTo3d(a,!0);var s=this.mSymmetry.getAxis$com_vzome_core_algebra_AlgebraicVector(a).getRotationPermutation();if(null==s)throw new e.vzome.core.commands.Command.Failure("symmetry axis does not support axial symmetry");for(var l=s.getOrder(),u=new e.vzome.core.commands.CommandRotate,c=1;c<l;c++){for(var f=t.iterator();f.hasNext();){var h=f.next();o.addConstruction(h)}t=u.apply(t,n,r)}for(var d=t.iterator();d.hasNext();){var p=d.next();o.addConstruction(p)}return o}}]),r}();t.CommandAxialSymmetry=n,n.__class="com.vzome.core.commands.CommandAxialSymmetry",n.__interfaces=["com.vzome.core.commands.Command"]})((n=t.core||(t.core={})).commands||(n.commands={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeManifestations);var n=_createSuper(r);function r(e){return _classCallCheck(this,r),n.call(this,e)}return _createClass(r,[{key:"perform",value:function(){for(var t=null,n=null,i=0,o=this.mSelection.iterator();o.hasNext();){var a=o.next();if(this.unselect$com_vzome_core_model_Manifestation(a),null!=a&&(null!=a.__interfaces&&a.__interfaces.indexOf("com.vzome.core.model.Panel")>=0||null!=a.constructor&&null!=a.constructor.__interfaces&&a.constructor.__interfaces.indexOf("com.vzome.core.model.Panel")>=0))switch(i++){case 0:t=a;break;case 1:n=a}}if(2!==i){var s;switch(i){case 0:s="No panels are selected.";break;case 1:s="One panel is selected.";break;default:s=i+" panels are selected."}this.fail(s+" Two are required.")}if(e.vzome.core.algebra.AlgebraicVectors.areParallel(t.getNormal$(),n.getNormal$())){for(var l=new java.util.ArrayList,u=[t,n],c=0;c<u.length;c++)for(var f=u[c].iterator();f.hasNext();){var h=f.next();l.add(h)}this.fail("Panels are "+(e.vzome.core.algebra.AlgebraicVectors.areCoplanar(l)?"coplanar":"parallel")+".")}this.redo();var d=new e.vzome.core.construction.PolygonPolygonProjectionToSegment(r.polygonFromPanel(t),r.polygonFromPanel(n)),p=new e.vzome.core.construction.FreePoint(d.getStart()),m=new e.vzome.core.construction.FreePoint(d.getEnd());this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(d)),this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(p)),this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(m)),this.redo()}},{key:"getXmlElementName",value:function(){return(e=this.constructor).__class?e.__class.substring(e.__class.lastIndexOf(".")+1):e.name.substring(e.name.lastIndexOf(".")+1);var e}}],[{key:"polygonFromPanel",value:function(t){for(var n=new java.util.ArrayList(t.getVertexCount()),r=t.iterator();r.hasNext();){var i=r.next();n.add(new e.vzome.core.construction.FreePoint(i))}return new e.vzome.core.construction.PolygonFromVertices(n)}}]),r}();t.PanelPanelIntersection=n,n.__class="com.vzome.core.edits.PanelPanelIntersection"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeManifestations);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),(t=n.call(this,e)).joinMode=r.JoinModeEnum.CLOSED_LOOP,t}return _createClass(r,[{key:"groupingAware",value:function(){return!0}},{key:"configure",value:function(e){var t=e.get("mode");null!=t&&(this.joinMode=r.JoinModeEnum[t])}},{key:"getXmlAttributes",value:function(t){this.joinMode===r.JoinModeEnum.CLOSED_LOOP||(t.setAttribute(r.ATTRNAME_CLOSEDLOOP,"false"),this.joinMode!==r.JoinModeEnum.CHAIN_BALLS&&t.setAttribute(r.ATTRNAME_JOINMODE,e.vzome.core.edits.JoinPoints.JoinModeEnum[this.joinMode]))}},{key:"setXmlAttributes",value:function(e,t){var n=e.getAttribute(r.ATTRNAME_JOINMODE);null!=n&&0!==n.length?this.joinMode=r.JoinModeEnum[n]:null!=(n=e.getAttribute(r.ATTRNAME_CLOSEDLOOP))&&0!==n.length?this.joinMode=javaemul.internal.BooleanHelper.parseBoolean(n)?r.JoinModeEnum.CLOSED_LOOP:r.JoinModeEnum.CHAIN_BALLS:this.joinMode=r.JoinModeEnum.CLOSED_LOOP}},{key:"perform",value:function(){var t=new java.util.ArrayList;this.joinMode!==r.JoinModeEnum.ALL_POSSIBLE&&this.setOrderedSelection(!0);for(var n=this.mSelection.iterator();n.hasNext();){var i=n.next();null!=i&&(null!=i.__interfaces&&i.__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=i.constructor&&null!=i.constructor.__interfaces&&i.constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0)&&t.add(i.getFirstConstruction()),this.unselect$com_vzome_core_model_Manifestation(i)}this.redo();var o=t.size()-1;if(o>0){var a=t.toArray([]);switch(this.joinMode){case e.vzome.core.edits.JoinPoints.JoinModeEnum.CHAIN_BALLS:for(var s=0;s<o;s++)this.addSegment(a,s,s+1);break;case e.vzome.core.edits.JoinPoints.JoinModeEnum.CLOSED_LOOP:for(var l=0;l<o;l++)this.addSegment(a,l,l+1);o>1&&this.addSegment(a,o,0);break;case e.vzome.core.edits.JoinPoints.JoinModeEnum.ALL_TO_FIRST:for(var u=1;u<=o;u++)this.addSegment(a,0,u);break;case e.vzome.core.edits.JoinPoints.JoinModeEnum.ALL_TO_LAST:for(var c=0;c<o;c++)this.addSegment(a,c,o);break;case e.vzome.core.edits.JoinPoints.JoinModeEnum.ALL_POSSIBLE:for(var f=0;f<o;f++)for(var h=f+1;h<=o;h++)this.addSegment(a,f,h);break;default:throw new e.vzome.core.commands.Command.Failure("Unsupported JoinModeEnum: "+e.vzome.core.edits.JoinPoints.JoinModeEnum._$wrappers[this.joinMode].toString())}this.redo()}}},{key:"addSegment",value:function(t,n,r){if(n!==r&&!t[n].getLocation().equals(t[r].getLocation())){var i=new e.vzome.core.construction.SegmentJoiningPoints(t[n],t[r]);this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(i))}}},{key:"getXmlElementName",value:function(){return"JoinPoints"}}]),r}();n.ATTRNAME_CLOSEDLOOP="closedLoop",n.ATTRNAME_JOINMODE="joinMode",t.JoinPoints=n,n.__class="com.vzome.core.edits.JoinPoints",function(e){var t;(t=e.JoinModeEnum||(e.JoinModeEnum={}))[t.CHAIN_BALLS=0]="CHAIN_BALLS",t[t.CLOSED_LOOP=1]="CLOSED_LOOP",t[t.ALL_TO_FIRST=2]="ALL_TO_FIRST",t[t.ALL_TO_LAST=3]="ALL_TO_LAST",t[t.ALL_POSSIBLE=4]="ALL_POSSIBLE"}(n=t.JoinPoints||(t.JoinPoints={}))})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeManifestations);var n=_createSuper(r);function r(e){return _classCallCheck(this,r),n.call(this,e)}return _createClass(r,[{key:"perform",value:function(){var t=this.mManifestations.getField().createAlgebraicNumber$int$int$int$int(1,0,2,-3);this.unselectConnectors(),this.unselectStruts();for(var n=e.vzome.core.editor.api.Manifestations.getPanels$java_lang_Iterable(this.mSelection).iterator();n.hasNext();){var r=n.next();this.unselect$com_vzome_core_model_Manifestation(r);var i=r.getCentroid(),o=i.plus(r.getNormal$().scale(t)),a=new e.vzome.core.construction.FreePoint(i),s=new e.vzome.core.construction.FreePoint(o),l=new e.vzome.core.construction.SegmentJoiningPoints(a,s);this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(a)),this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(s)),this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(l))}this.redo()}},{key:"getXmlElementName",value:function(){return r.NAME}}]),r}();n.NAME="ShowNormals",t.ShowNormals=n,n.__class="com.vzome.core.edits.ShowNormals"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeManifestations);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),void 0===(t=n.call(this,e)).point&&(t.point=null),void 0===t.parameters&&(t.parameters=null),t.parameters=e,t}return _createClass(r,[{key:"configure",value:function(t){switch(t.get("mode")){case"origin":var n=this.mManifestations.getField().origin(3);this.point=new e.vzome.core.construction.FreePoint(n);break;case"symmCenter":this.point=this.parameters.getCenterPoint()}}},{key:"perform",value:function(){this.manifestConstruction(this.point),this.redo()}},{key:"getXmlAttributes",value:function(t){e.vzome.core.commands.XmlSaveFormat.serializePoint(t,"point",this.point)}},{key:"setXmlAttributes",value:function(e,t){if(t.commandEditsCompacted())this.point=t.parsePoint$org_w3c_dom_Element$java_lang_String(e,"point");else{var n=t.loadCommandAttributes$org_w3c_dom_Element(e);this.point=n.get("point")}}},{key:"getXmlElementName",value:function(){return"ShowPoint"}}]),r}();t.ShowPoint=n,n.__class="com.vzome.core.edits.ShowPoint"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeManifestations);var n=_createSuper(r);function r(t,i,o){var a;if(_classCallCheck(this,r),(null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.editor.api.EditorModel")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.editor.api.EditorModel")>=0)||null===t)&&(null!=i&&i instanceof e.vzome.core.construction.Segment||null===i)&&("number"===typeof o||null===o))void 0===(a=n.call(this,t)).index&&(a.index=0),void 0===a.proj&&(a.proj=null),void 0===a.symmAxis&&(a.symmAxis=null),void 0===a.field&&(a.field=null),void 0===a.index&&(a.index=0),void 0===a.proj&&(a.proj=null),void 0===a.symmAxis&&(a.symmAxis=null),void 0===a.field&&(a.field=null),a.field=a.mManifestations.getField(),a.index=o,a.symmAxis=i;else{if(!(null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.editor.api.EditorModel")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.editor.api.EditorModel")>=0)||null===t)||void 0!==i||void 0!==o)throw new Error("invalid overload");void 0===(a=n.call(this,t)).index&&(a.index=0),void 0===a.proj&&(a.proj=null),void 0===a.symmAxis&&(a.symmAxis=null),void 0===a.field&&(a.field=null),void 0===a.index&&(a.index=0),void 0===a.proj&&(a.proj=null),void 0===a.symmAxis&&(a.symmAxis=null),void 0===a.field&&(a.field=null),a.field=a.mManifestations.getField(),a.index=0,a.symmAxis=null}return _possibleConstructorReturn(a)}return _createClass(r,[{key:"getXmlElementName",value:function(){return"B4Polytope"}},{key:"getXmlAttributes",value:function(t){e.vzome.xml.DomUtils.addAttribute(t,"dynkin",""+this.index),null!=this.symmAxis&&e.vzome.core.commands.XmlSaveFormat.serializeSegment(t,"start","end",this.symmAxis)}},{key:"setXmlAttributes",value:function(e,t){var n=e.getAttribute("dynkin");if(this.index=javaemul.internal.IntegerHelper.parseInt(n,2),t.commandEditsCompacted())this.symmAxis=t.parseSegment$org_w3c_dom_Element$java_lang_String$java_lang_String(e,"start","end");else{var r=t.loadCommandAttributes$org_w3c_dom_Element(e);this.symmAxis=r.get("rotation")}}},{key:"perform",value:function(){if(null==this.symmAxis)this.proj=new e.vzome.core.math.Projection.Default(this.field);else{var t=this.field.createPower$int(-5);this.proj=new e.vzome.core.math.QuaternionProjection(this.field,null,this.symmAxis.getOffset().scale(t))}for(var n=[null,null,null,null],i=0;i<n.length;i++)n[i]=this.field.createPower$int(0);var o=new e.vzome.core.math.symmetry.B4Group(this.field);e.vzome.core.math.symmetry.WythoffConstruction.constructPolytope(o,this.index,this.index,n,o,new r.WythoffListener(this,this.field)),this.redo()}}]),r}();t.B4Polytope=n,n.__class="com.vzome.core.edits.B4Polytope",function(t){var n=function(){function t(e,n){_classCallCheck(this,t),this.__parent=e,this.numVertices=0,void 0===this.scale&&(this.scale=null),this.scale=n.createPower$int(5)}return _createClass(t,[{key:"addEdge",value:function(t,n){var r=new e.vzome.core.construction.SegmentJoiningPoints(t,n);return this.__parent.manifestConstruction(r),r}},{key:"addFace",value:function(e){return null}},{key:"addVertex",value:function(t){var n=t;null!=this.__parent.proj&&(n=this.__parent.proj.projectImage(t,!0));var r=new e.vzome.core.construction.FreePoint(n.scale(this.scale));return r.setIndex(this.numVertices++),this.__parent.manifestConstruction(r),r}}]),t}();t.WythoffListener=n,n.__class="com.vzome.core.edits.B4Polytope.WythoffListener",n.__interfaces=["com.vzome.core.math.symmetry.WythoffConstruction.Listener"]}(n=t.B4Polytope||(t.B4Polytope={}))})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeManifestations);var n=_createSuper(r);function r(e){return _classCallCheck(this,r),n.call(this,e)}return _createClass(r,[{key:"perform",value:function(){var t=null,n=null,r=null,i=!1;this.setOrderedSelection(!0);for(var o=this.mSelection.iterator();o.hasNext();){var a=o.next();if(i)this.recordSelected(a);else if(this.unselect$com_vzome_core_model_Manifestation(a),null!=a&&(null!=a.__interfaces&&a.__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=a.constructor&&null!=a.constructor.__interfaces&&a.constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0)){var s=a.getFirstConstruction();if(null==t)t=s;else if(null==r)n=s,r=new e.vzome.core.construction.SegmentJoiningPoints(t,s);else if(i)this.recordSelected(a);else{var l=new e.vzome.core.construction.SegmentJoiningPoints(n,s);l=new e.vzome.core.construction.SegmentCrossProduct(r,l),this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(l));var u=new e.vzome.core.construction.SegmentEndPoint(l);this.manifestConstruction(u),i=!0}}}if(!i)throw new e.vzome.core.commands.Command.Failure("cross-product requires three selected vertices");this.redo()}}]),_createClass(r,[{key:"getXmlElementName",value:function(){return"CrossProduct"}}]),r}();t.CrossProduct=n,n.__class="com.vzome.core.edits.CrossProduct"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeManifestations);var n=_createSuper(r);function r(e){return _classCallCheck(this,r),n.call(this,e)}return _createClass(r,[{key:"perform",value:function(){for(var e=this.mManifestations.iterator();e.hasNext();){var t=e.next();t.isHidden()?(this.showManifestation(t),this.select$com_vzome_core_model_Manifestation(t)):this.mSelection.manifestationSelected(t)&&this.unselect$com_vzome_core_model_Manifestation(t)}this.redo()}},{key:"getXmlElementName",value:function(){return"ShowHidden"}}]),r}();t.ShowHidden=n,n.__class="com.vzome.core.edits.ShowHidden"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeManifestations);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),void 0===(t=n.call(this,e)).symmetry&&(t.symmetry=null),void 0===t.editor&&(t.editor=null),t.editor=e,t.symmetry=e.getSymmetrySystem$(),t}return _createClass(r,[{key:"getXmlElementName",value:function(){return"PolarZonohedron"}},{key:"getXmlAttributes",value:function(t){null!=this.symmetry&&e.vzome.xml.DomUtils.addAttribute(t,"symmetry",this.symmetry.getName())}},{key:"setXmlAttributes",value:function(e,t){this.symmetry=this.editor.getSymmetrySystem$java_lang_String(e.getAttribute("symmetry"))}},{key:"perform",value:function(){var t=new java.lang.StringBuilder;t.append("The Polar Zonohedron command requires either of the following selections:\n\n1) Two non-collinear struts with a common end point.\n   The first strut must have more than 2-fold rotational symmetry.\n   The second strut will be rotated around the first.\n\n2) Any three or more struts having a common end point.\n");for(var n=new java.util.ArrayList,r=this.mSelection.iterator();r.hasNext();){var i=r.next();null!=i&&(null!=i.__interfaces&&i.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=i.constructor&&null!=i.constructor.__interfaces&&i.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0)&&n.add(i),this.unselect$com_vzome_core_model_Manifestation(i)}n.size()<2&&(t.append(1===n.size()?"\nonly one strut is selected.":"\nno struts are selected."),this.fail(t.toString()));var o=2===n.size()?this.useRotationalSymmetry(n,t):this.useRadialSelection(n);null==o&&this.fail(t.append("\nselected struts do not have a common end point").toString());var a=n.size(),s=new java.util.ArrayList(a),l=[null,null];l[0]=function(e){for(var t=[];e-- >0;)t.push(null);return t}(a);for(var u=0;u<a;u++){var c=n.get(u),f=c.getLocation(),h=c.getEnd(),d=c.getOffset();f.equals(o)?(l[0][u]=h,s.add(d)):(l[0][u]=f,s.add(d.negate()))}for(var p=1;p<a;p++){l[1]=function(e){for(var t=[];e-- >0;)t.push(null);return t}(a);for(var m=0;m<a;m++){var v=(m+p)%a,g=s.get(v),y=l[0][m],_=y.plus(g),b=l[0][(m+1)%a],w=b.minus(g);l[1][m]=_;var x=new e.vzome.core.construction.FreePoint(w),A=new e.vzome.core.construction.FreePoint(y),M=new e.vzome.core.construction.FreePoint(_),S=new e.vzome.core.construction.FreePoint(b);this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(x)),this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(A)),this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(M)),this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(S)),this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(new e.vzome.core.construction.SegmentJoiningPoints(A,M))),this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(new e.vzome.core.construction.SegmentJoiningPoints(M,S))),this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(new e.vzome.core.construction.PolygonFromVertices([x,A,M,S])))}l[0]=l[1]}this.redo()}},{key:"useRotationalSymmetry",value:function(t,n){var i=t.get(0),o=i.getFirstConstruction(),a=o.getOffset();a=o.getField().projectTo3d(a,!0);var s=this.symmetry.getAxis(a);null==s&&this.fail(n.append("\nfirst selected strut is not an axis of rotational symmetry").toString());var l=s.getRotationPermutation();null==l&&this.fail(n.append("\nfirst selected strut is not an axis of rotation").toString());var u=l.mapIndex(0),c=l.getOrder();c<=2&&this.fail(n.append("\nfirst selected strut has "+c+"-fold symmetry").toString());var f=t.get(1),h=f.getFirstConstruction(),d=h.getOffset();(a.equals(d)||a.equals(d.negate()))&&this.fail(n.append("\nselected struts are collinear").toString());var p=r.getCommonEndpoint(i,f);null==p&&this.fail(n.append("\nselected struts do not have a common end point").toString());var m=o.getStart(),v=o.getEnd(),g=new e.vzome.core.construction.SegmentEndPoint(o,p.equals(v)),y=h.getStart(),_=h.getEnd();p.equals(m)?p.equals(_)&&(d=d.negate(),_=y,y=p):(a=a.negate(),v=m,m=p,p.equals(_)&&(d=d.negate(),_=y,y=p)),this.redo(),t.remove(i),this.select$com_vzome_core_model_Manifestation(f);var b=new e.vzome.core.construction.FreePoint(y),w=new e.vzome.core.construction.FreePoint(_);this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(b)),this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(w));for(var x=0;x<c-1;x++){var A=new e.vzome.core.construction.SymmetryTransformation(this.symmetry.getSymmetry(),u,g);u=l.mapIndex(u);var M=this.manifestConstruction(new e.vzome.core.construction.TransformedPoint(A,w)),S=this.manifestConstruction(new e.vzome.core.construction.TransformedSegment(A,h));t.add(S),this.select$com_vzome_core_model_Manifestation(M),this.select$com_vzome_core_model_Manifestation(S)}return this.redo(),p}},{key:"useRadialSelection",value:function(t){var n=t.get(0),i=r.getCommonEndpoint(n,t.get(1));if(null==i)return null;for(var o=1;o<t.size();o++)if(!i.equals(r.getCommonEndpoint(n,t.get(o))))return null;this.redo(),this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(new e.vzome.core.construction.FreePoint(i)));for(var a=t.iterator();a.hasNext();){var s=a.next();this.select$com_vzome_core_model_Manifestation(s);var l=s.getLocation();i.equals(l)?this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(new e.vzome.core.construction.FreePoint(s.getEnd()))):this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(new e.vzome.core.construction.FreePoint(l)))}return this.redo(),i}}],[{key:"getCommonEndpoint",value:function(e,t){if(r=t,(n=e)&&n.equals?n.equals(r):n===r)throw new java.lang.IllegalArgumentException("Identical struts have both end points in common.");var n,r,i=e.getLocation(),o=e.getEnd(),a=t.getLocation(),s=t.getEnd();return i.equals(a)||i.equals(s)?i:o.equals(a)||o.equals(s)?o:null}}]),r}();t.PolarZonohedron=n,n.__class="com.vzome.core.edits.PolarZonohedron"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeManifestations);var n=_createSuper(r);function r(e,t){var i;return _classCallCheck(this,r),void 0===(i=n.call(this,e)).transform&&(i.transform=null),i.transform=t,i}return _createClass(r,[{key:"perform",value:function(){for(var e=new java.util.ArrayList,t=this.mSelection.iterator();t.hasNext();){var n=t.next();this.unselect$com_vzome_core_model_Manifestation(n),e.add(n)}this.redo();for(var r=e.iterator();r.hasNext();){var i=r.next();if(i.isRendered()){var o=i.getFirstConstruction(),a=this.transform.transform$com_vzome_core_construction_Construction(o);this.select$com_vzome_core_model_Manifestation$boolean(this.manifestConstruction(a),!0)}}this.redo()}},{key:"getXmlElementName",value:function(){return"TransformSelection"}}]),r}();t.TransformSelection=n,n.__class="com.vzome.core.edits.TransformSelection"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeManifestations);var n=_createSuper(r);function r(t,i,o,a,s,l,u,c){var f;if(_classCallCheck(this,r),!((null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.editor.api.EditorModel")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.editor.api.EditorModel")>=0)||null===t)&&(null!=i&&(null!=i.__interfaces&&i.__interfaces.indexOf("com.vzome.core.math.symmetry.Symmetries4D")>=0||null!=i.constructor&&null!=i.constructor.__interfaces&&i.constructor.__interfaces.indexOf("com.vzome.core.math.symmetry.Symmetries4D")>=0)||null===i)&&(null!=o&&o instanceof e.vzome.core.algebra.AlgebraicVector||null===o))||"number"!==typeof a&&null!==a||"string"!==typeof s&&null!==s||"number"!==typeof l&&null!==l||!(null!=u&&u instanceof Array&&(0==u.length||null==u[0]||null!=u[0]&&(null!=u[0].__interfaces&&u[0].__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0||null!=u[0].constructor&&null!=u[0].constructor.__interfaces&&u[0].constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0))||null===u)||"string"!==typeof c&&null!==c)if(!((null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.editor.api.EditorModel")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.editor.api.EditorModel")>=0)||null===t)&&(null!=i&&(null!=i.__interfaces&&i.__interfaces.indexOf("com.vzome.core.math.symmetry.Symmetries4D")>=0||null!=i.constructor&&null!=i.constructor.__interfaces&&i.constructor.__interfaces.indexOf("com.vzome.core.math.symmetry.Symmetries4D")>=0)||null===i)&&(null!=o&&o instanceof e.vzome.core.construction.Segment||null===o))||"number"!==typeof a&&null!==a||"string"!==typeof s&&null!==s||void 0!==l||void 0!==u||void 0!==c){if(!(null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.editor.api.EditorModel")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.editor.api.EditorModel")>=0)||null===t)||void 0!==i||void 0!==o||void 0!==a||void 0!==s||void 0!==l||void 0!==u||void 0!==c)throw new Error("invalid overload");var h=arguments[0].get4dSymmetries(),d=arguments,p=d[3],m=d[4];void 0===(f=n.call(this,t)).index&&(f.index=0),void 0===f.field&&(f.field=null),void 0===f.proj&&(f.proj=null),void 0===f.quaternion&&(f.quaternion=null),void 0===f.groupName&&(f.groupName=null),void 0===f.renderGroupName&&(f.renderGroupName=null),void 0===f.symmetries&&(f.symmetries=null),f.edgesToRender=15,f.edgeScales=[null,null,null,null],void 0===f.index&&(f.index=0),void 0===f.field&&(f.field=null),void 0===f.proj&&(f.proj=null),void 0===f.quaternion&&(f.quaternion=null),void 0===f.groupName&&(f.groupName=null),void 0===f.renderGroupName&&(f.renderGroupName=null),void 0===f.symmetries&&(f.symmetries=null),function(){f.symmetries=h,f.field=t.getRealizedModel().getField(),f.index=0,f.quaternion=null,f.groupName=null,f.renderGroupName=m,f.edgesToRender=p;for(var e=0;e<f.edgeScales.length;e++)f.edgeScales[e]=f.field.createPower$int(0)}()}else{var v=arguments[2],g=arguments,y=null==v?null:v.getOffset().inflateTo4d$(),_=g[3],b=g[4];void 0===(f=n.call(this,t)).index&&(f.index=0),void 0===f.field&&(f.field=null),void 0===f.proj&&(f.proj=null),void 0===f.quaternion&&(f.quaternion=null),void 0===f.groupName&&(f.groupName=null),void 0===f.renderGroupName&&(f.renderGroupName=null),void 0===f.symmetries&&(f.symmetries=null),f.edgesToRender=15,f.edgeScales=[null,null,null,null],void 0===f.index&&(f.index=0),void 0===f.field&&(f.field=null),void 0===f.proj&&(f.proj=null),void 0===f.quaternion&&(f.quaternion=null),void 0===f.groupName&&(f.groupName=null),void 0===f.renderGroupName&&(f.renderGroupName=null),void 0===f.symmetries&&(f.symmetries=null),function(){f.symmetries=i,f.field=t.getRealizedModel().getField(),f.index=a,f.quaternion=y,f.groupName=s,f.renderGroupName=b,f.edgesToRender=_;for(var e=0;e<f.edgeScales.length;e++)f.edgeScales[e]=f.field.createPower$int(0)}()}else void 0===(f=n.call(this,t)).index&&(f.index=0),void 0===f.field&&(f.field=null),void 0===f.proj&&(f.proj=null),void 0===f.quaternion&&(f.quaternion=null),void 0===f.groupName&&(f.groupName=null),void 0===f.renderGroupName&&(f.renderGroupName=null),void 0===f.symmetries&&(f.symmetries=null),f.edgesToRender=15,f.edgeScales=[null,null,null,null],void 0===f.index&&(f.index=0),void 0===f.field&&(f.field=null),void 0===f.proj&&(f.proj=null),void 0===f.quaternion&&(f.quaternion=null),void 0===f.groupName&&(f.groupName=null),void 0===f.renderGroupName&&(f.renderGroupName=null),void 0===f.symmetries&&(f.symmetries=null),function(){if(f.symmetries=i,f.field=t.getRealizedModel().getField(),f.index=a,f.quaternion=o,f.groupName=s,f.renderGroupName=c,f.edgesToRender=l,null!=u)f.edgeScales=u;else for(var e=0;e<f.edgeScales.length;e++)f.edgeScales[e]=f.field.createPower$int(0)}();return _possibleConstructorReturn(f)}return _createClass(r,[{key:"configure",value:function(e){this.groupName=e.get("groupName"),this.renderGroupName=e.get("renderGroupName"),this.index=0|e.get("index"),this.edgesToRender=0|e.get("edgesToRender"),this.edgeScales=e.get("edgeScales"),this.quaternion=e.get("quaternion")}},{key:"getXmlElementName",value:function(){return"Polytope4d"}},{key:"getXmlAttributes",value:function(t){var n,r;null!=this.quaternion&&e.vzome.xml.DomUtils.addAttribute(t,"quaternion",this.quaternion.toParsableString()),e.vzome.xml.DomUtils.addAttribute(t,"group",this.groupName),e.vzome.xml.DomUtils.addAttribute(t,"wythoff",""+this.index),15!==this.edgesToRender&&e.vzome.xml.DomUtils.addAttribute(t,"renderEdges",""+this.edgesToRender),n=this.renderGroupName,r=this.groupName,(n&&n.equals?n.equals(r):n===r)||e.vzome.xml.DomUtils.addAttribute(t,"renderGroup",this.renderGroupName)}},{key:"setXmlAttributes",value:function(e,t){var n=e.getAttribute("wythoff");this.index=javaemul.internal.IntegerHelper.parseInt(n,2);var r=e.getAttribute("renderEdges");this.edgesToRender=null==r||0===r.length?this.index:javaemul.internal.IntegerHelper.parseInt(r,2),this.groupName=e.getAttribute("group");var i=e.getAttribute("renderGroup");this.renderGroupName=null==i||0===i.length?this.groupName:i;var o=e.getAttribute("quaternion");if(null!=o&&""!==o){if(-1!=o.indexOf("+")){o=(o=(o=(o=o.split(",").join(" ")).split("(").join(" ")).split(")").join(" ")).split("+").join(" ");var a=this.field.getIrrational$int(0).charAt(0);o=o.split(a).join(" "),o+=" 0 0 0"}this.quaternion=this.field.parseVector(o)}else{var s=null;null!=(s=t.commandEditsCompacted()?t.parseSegment$org_w3c_dom_Element$java_lang_String$java_lang_String(e,"start","end"):t.loadCommandAttributes$org_w3c_dom_Element(e).get("rotation"))&&(this.quaternion=s.getOffset().inflateTo4d$())}}},{key:"perform",value:function(){null==this.quaternion?this.proj=new e.vzome.core.math.Projection.Default(this.field):this.proj=new e.vzome.core.math.QuaternionProjection(this.field,null,this.quaternion.scale(this.field.createPower$int(-5))),this.symmetries.constructPolytope(this.groupName,this.index,this.edgesToRender,this.edgeScales,new r.WythoffListener(this)),this.redo()}}],[{key:"getSupportedGroups",value:function(){return["A4","B4/C4","D4","F4","H4"]}}]),r}();t.Polytope4d=n,n.__class="com.vzome.core.edits.Polytope4d",function(t){var n=function(){function t(e){_classCallCheck(this,t),this.__parent=e,this.numVertices=0,this.vertices=new java.util.HashMap}return _createClass(t,[{key:"addEdge",value:function(t,n){var r=new e.vzome.core.construction.SegmentJoiningPoints(t,n);return this.__parent.manifestConstruction(r),r}},{key:"addFace",value:function(e){return null}},{key:"addVertex",value:function(t){var n=this.vertices.get(t.toString());if(null==n){var r=t;null!=this.__parent.proj&&(r=this.__parent.proj.projectImage(t,!0)),r=r.scale(this.__parent.field.createPower$int(5)),(n=new e.vzome.core.construction.FreePoint(r)).setIndex(this.numVertices++),this.__parent.manifestConstruction(n),this.vertices.put(t.toString(),n)}return n}}]),t}();t.WythoffListener=n,n.__class="com.vzome.core.edits.Polytope4d.WythoffListener",n.__interfaces=["com.vzome.core.math.symmetry.WythoffConstruction.Listener"]}(n=t.Polytope4d||(t.Polytope4d={}))})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeManifestations);var n=_createSuper(r);function r(e){return _classCallCheck(this,r),n.call(this,e)}return _createClass(r,[{key:"perform",value:function(){for(var t=this.mSelection.iterator();t.hasNext();){var n=t.next();if(this.unselect$com_vzome_core_model_Manifestation(n),null!=n&&(null!=n.__interfaces&&n.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0)){var r=n.getFirstConstruction(),i=new e.vzome.core.construction.SegmentEndPoint(r,!0);this.manifestConstruction(i);var o=new e.vzome.core.construction.SegmentEndPoint(r,!1);this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(o))}else if(null!=n&&(null!=n.__interfaces&&n.__interfaces.indexOf("com.vzome.core.model.Panel")>=0||null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("com.vzome.core.model.Panel")>=0))for(var a=n.getFirstConstruction(),s=0;s<a.getVertexCount();s++){var l=new e.vzome.core.construction.PolygonVertex(a,s);this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(l))}}this.redo()}},{key:"getXmlElementName",value:function(){return r.NAME}}]),r}();n.NAME="ShowVertices",t.ShowVertices=n,n.__class="com.vzome.core.edits.ShowVertices"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeManifestations);var n=_createSuper(r);function r(e){return _classCallCheck(this,r),n.call(this,e)}return _createClass(r,[{key:"perform",value:function(){var t=new java.lang.StringBuilder;t.append("This command requires two non-parallel struts.\n");for(var n=null,r=null,i=0,o=this.mSelection.iterator();o.hasNext();){var a=o.next();if(null!=a&&(null!=a.__interfaces&&a.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=a.constructor&&null!=a.constructor.__interfaces&&a.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0)){switch(i){case 0:n=a;break;case 1:r=a;break;default:t.append("\ntoo many struts are selected."),this.fail(t.toString())}i++}this.unselect$com_vzome_core_model_Manifestation(a)}i<2&&(t.append(1===i?"\nonly one strut is selected.":"\nno struts are selected."),this.fail(t.toString()));var s=n.getOffset(),l=r.getOffset(),u=n.getLocation(),c=r.getLocation(),f=s.dot(s),h=s.dot(l),d=l.dot(l),p=f.times$com_vzome_core_algebra_AlgebraicNumber(d).minus$com_vzome_core_algebra_AlgebraicNumber(h.times$com_vzome_core_algebra_AlgebraicNumber(h));p.isZero()&&(t.append("\nstruts are parallel."),this.fail(t.toString())),this.redo();var m=u.minus(c),v=s.dot(m),g=l.dot(m),y=h.times$com_vzome_core_algebra_AlgebraicNumber(g).minus$com_vzome_core_algebra_AlgebraicNumber(d.times$com_vzome_core_algebra_AlgebraicNumber(v)).dividedBy$com_vzome_core_algebra_AlgebraicNumber(p),_=f.times$com_vzome_core_algebra_AlgebraicNumber(g).minus$com_vzome_core_algebra_AlgebraicNumber(h.times$com_vzome_core_algebra_AlgebraicNumber(v)).dividedBy$com_vzome_core_algebra_AlgebraicNumber(p),b=u.plus(s.scale(y)),w=new e.vzome.core.construction.FreePoint(b);this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(w));var x=c.plus(l.scale(_));if(!x.equals(b)){var A=new e.vzome.core.construction.FreePoint(x);this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(A)),this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(new e.vzome.core.construction.SegmentJoiningPoints(w,A)))}this.redo()}},{key:"getXmlElementName",value:function(){return r.NAME}}]),r}();n.NAME="JoinSkewLines",t.JoinSkewLines=n,n.__class="com.vzome.core.edits.JoinSkewLines"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeManifestations);var n=_createSuper(r);function r(e){return _classCallCheck(this,r),n.call(this,e)}return _createClass(r,[{key:"perform",value:function(){for(var t=new java.util.ArrayList,n=this.mSelection.iterator();n.hasNext();){var r=n.next();this.unselect$com_vzome_core_model_Manifestation(r);var i=r.toConstruction();if(null!=i&&i instanceof e.vzome.core.construction.Point){var o=i;t.add(o)}}if(t.size()<2)throw new e.vzome.core.commands.Command.Failure("Select at least two balls to compute the centroid.");var a=new e.vzome.core.construction.CentroidPoint(t.toArray([]));this.manifestConstruction(a),this.redo()}}]),_createClass(r,[{key:"groupingAware",value:function(){return!0}},{key:"getXmlElementName",value:function(){return"NewCentroid"}}]),r}();t.NewCentroid=n,n.__class="com.vzome.core.edits.NewCentroid"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeManifestations);var n=_createSuper(r);function r(e){return _classCallCheck(this,r),n.call(this,e)}return _createClass(r,[{key:"groupingAware",value:function(){return!0}},{key:"perform",value:function(){for(var t=null,n=null,r=null,i=null,o=null,a=this.mSelection.iterator();a.hasNext();){var s=a.next();if(this.unselect$com_vzome_core_model_Manifestation(s),null!=s&&(null!=s.__interfaces&&s.__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=s.constructor&&null!=s.constructor.__interfaces&&s.constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0)&&null==o){var l=s.getFirstConstruction();null==r?r=l:null==i?i=l:null==o&&(o=l)}else null!=s&&(null!=s.__interfaces&&s.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=s.constructor&&null!=s.constructor.__interfaces&&s.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0)&&null==n?n=s:null!=s&&(null!=s.__interfaces&&s.__interfaces.indexOf("com.vzome.core.model.Panel")>=0||null!=s.constructor&&null!=s.constructor.__interfaces&&s.constructor.__interfaces.indexOf("com.vzome.core.model.Panel")>=0)&&null==t&&(t=s)}var u=null,c=null,f=new e.vzome.core.construction.LineFromPointAndVector(n.getLocation(),n.getZoneVector());if(null!=o&&null==t){var h=[r,i,o],d=new e.vzome.core.construction.PolygonFromVertices(h);c=new e.vzome.core.construction.PlaneExtensionOfPolygon(d)}else null!=n&&null!=t&&(c=new e.vzome.core.construction.PlaneFromPointAndNormal(t.getFirstVertex(),t.getZoneVector()));null==c||c.isImpossible()||(u=new e.vzome.core.construction.LinePlaneIntersectionPoint(c,f)).isImpossible()||this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(u)),this.redo()}},{key:"getXmlElementName",value:function(){return"LinePlaneIntersect"}}]),r}();t.LinePlaneIntersect=n,n.__class="com.vzome.core.edits.LinePlaneIntersect"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeManifestations);var n=_createSuper(r);function r(e){return _classCallCheck(this,r),n.call(this,e)}return _createClass(r,[{key:"fail",value:function(e){var t=new java.lang.StringBuilder,n=this.usage();null!=n&&t.append(n),null!=e&&(t.length()>0&&t.append("\n"),t.append(e)),_get(_getPrototypeOf(r.prototype),"fail",this).call(this,t.toString())}},{key:"perform",value:function(){var e=this.setBoundary();null!=e&&this.fail(e),this.unselectAll(),this.selectBoundedManifestations(),this.redo()}},{key:"selectBoundedManifestations",value:function(){for(var e=this.getConnectors().iterator();e.hasNext();){var t=e.next();this.boundaryContains$com_vzome_core_model_Connector(t)&&this.select$com_vzome_core_model_Manifestation(t)}for(var n=this.getStruts().iterator();n.hasNext();){var r=n.next();this.boundaryContains$com_vzome_core_model_Strut(r)&&this.select$com_vzome_core_model_Manifestation(r)}for(var i=this.getPanels().iterator();i.hasNext();){var o=i.next();this.boundaryContains$com_vzome_core_model_Panel(o)&&this.select$com_vzome_core_model_Manifestation(o)}}},{key:"boundaryContains$com_vzome_core_model_Connector",value:function(e){return this.boundaryContains$com_vzome_core_algebra_AlgebraicVector(e.getLocation())}},{key:"boundaryContains",value:function(t){if(null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0)||null===t)return this.boundaryContains$com_vzome_core_model_Connector(t);if(null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0)||null===t)return this.boundaryContains$com_vzome_core_model_Strut(t);if(null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.model.Panel")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.model.Panel")>=0)||null===t)return this.boundaryContains$com_vzome_core_model_Panel(t);if(null!=t&&t instanceof e.vzome.core.algebra.AlgebraicVector||null===t)return this.boundaryContains$com_vzome_core_algebra_AlgebraicVector(t);throw new Error("invalid overload")}},{key:"boundaryContains$com_vzome_core_model_Strut",value:function(e){return this.boundaryContains$com_vzome_core_algebra_AlgebraicVector(e.getLocation())&&this.boundaryContains$com_vzome_core_algebra_AlgebraicVector(e.getEnd())}},{key:"boundaryContains$com_vzome_core_model_Panel",value:function(e){for(var t=e.iterator();t.hasNext();){var n=t.next();if(!this.boundaryContains$com_vzome_core_algebra_AlgebraicVector(n))return!1}return!0}},{key:"boundaryContains$com_vzome_core_algebra_AlgebraicVector",value:function(e){throw new Error("cannot invoke abstract overloaded method... check your argument(s) type(s)")}}]),r}();t.SelectByBoundary=n,n.__class="com.vzome.core.edits.SelectByBoundary"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeManifestations);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),void 0===(t=n.call(this,e)).symmetry&&(t.symmetry=null),void 0===t.orbit&&(t.orbit=null),void 0===t.axis&&(t.axis=null),void 0===t.editor&&(t.editor=null),t.editor=e,t.symmetry=e.getSymmetrySystem$(),t}return _createClass(r,[{key:"configure",value:function(e){var t=e.get("picked");null!=t&&(this.axis=this.symmetry.getAxis(t.getOffset()),this.orbit=this.axis.getOrbit())}},{key:"perform",value:function(){if(null==this.orbit||null==this.axis){var t=this.getLastSelectedStrut();if(null!=t){var n=t.getOffset();this.orbit=this.symmetry.getAxis(n).getOrbit(),this.axis=this.orbit.getAxis$com_vzome_core_algebra_AlgebraicVector(n)}}if(null==this.orbit||null==this.axis)throw new e.vzome.core.commands.Command.Failure("select a reference strut.");this.unselectAll();for(var i=(this.axis.getSense()+1)%2,o=this.orbit.getAxis$int$int(i,this.axis.getOrientation()),a=this.getStruts().iterator();a.hasNext();){var s=a.next(),l=this.symmetry.getAxis(s.getOffset());null!=l&&l.getOrbit().equals(this.orbit)&&(l.equals(this.axis)||l.equals(o))&&this.select$com_vzome_core_model_Manifestation(s)}_get(_getPrototypeOf(r.prototype),"perform",this).call(this)}},{key:"getXmlElementName",value:function(){return"SelectParallelStruts"}},{key:"getXmlAttributes",value:function(t){null!=this.symmetry&&e.vzome.xml.DomUtils.addAttribute(t,"symmetry",this.symmetry.getName()),null!=this.orbit&&e.vzome.xml.DomUtils.addAttribute(t,"orbit",this.orbit.getName()),null!=this.axis&&e.vzome.core.commands.XmlSymmetryFormat.serializeAxis(t,"symm","dir","index","sense",this.axis)}},{key:"setXmlAttributes",value:function(e,t){this.symmetry=this.editor.getSymmetrySystem$java_lang_String(e.getAttribute("symmetry")),this.orbit=this.symmetry.getOrbits().getDirection(e.getAttribute("orbit")),this.axis=t.parseAxis(e,"symm","dir","index","sense")}}]),r}();t.SelectParallelStruts=n,n.__class="com.vzome.core.edits.SelectParallelStruts"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeManifestations);var n=_createSuper(r);function r(e){return _classCallCheck(this,r),n.call(this,e)}return _createClass(r,[{key:"getSelectedVertexSet",value:function(e){for(var t=new java.util.HashSet,n=this.mSelection.iterator();n.hasNext();){var r=n.next();if(null!=r&&(null!=r.__interfaces&&r.__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=r.constructor&&null!=r.constructor.__interfaces&&r.constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0))t.add(r.getLocation());else if(null!=r&&(null!=r.__interfaces&&r.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=r.constructor&&null!=r.constructor.__interfaces&&r.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0))t.add(r.getLocation()),t.add(r.getEnd());else if(null!=r&&(null!=r.__interfaces&&r.__interfaces.indexOf("com.vzome.core.model.Panel")>=0||null!=r.constructor&&null!=r.constructor.__interfaces&&r.constructor.__interfaces.indexOf("com.vzome.core.model.Panel")>=0))for(var i=r.iterator();i.hasNext();){var o=i.next();t.add(o)}e&&this.unselect$com_vzome_core_model_Manifestation(r)}return t}}]),r}();t.ConvexHull=n,n.__class="com.vzome.core.edits.ConvexHull"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeManifestations);var n=_createSuper(r);function r(e){return _classCallCheck(this,r),n.call(this,e)}return _createClass(r,[{key:"perform",value:function(){for(var t="Affine pentagon command requires two selected struts with a common vertex.",n=null,r=null,i=this.mSelection.iterator();i.hasNext();){var o=i.next();this.unselect$com_vzome_core_model_Manifestation(o),null!=o&&(null!=o.__interfaces&&o.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=o.constructor&&null!=o.constructor.__interfaces&&o.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0)&&(null==n?n=o:null==r&&(r=o))}this.redo(),null!=n&&null!=r||this.fail(t);var a=n.getLocation().getField(),s=n.getFirstConstruction(),l=r.getFirstConstruction();this.manifestConstruction(new e.vzome.core.construction.SegmentEndPoint(s,!0)),this.manifestConstruction(new e.vzome.core.construction.SegmentEndPoint(s,!1)),this.manifestConstruction(new e.vzome.core.construction.SegmentEndPoint(l,!0)),this.manifestConstruction(new e.vzome.core.construction.SegmentEndPoint(l,!1)),this.redo();var u=s.getOffset(),c=l.getOffset(),f=null,h=null,d=s.getStart(),p=s.getEnd(),m=l.getStart(),v=l.getEnd();d.equals(m)?(f=p,h=v):p.equals(m)?(f=d,h=v,u=u.negate()):p.equals(v)?(f=d,h=m,c=c.negate(),u=u.negate()):d.equals(v)?(f=p,h=m,c=c.negate()):this.fail(t);for(var g=null,y=null,_=this.mManifestations.iterator();_.hasNext();){var b=_.next();if(null!=b&&(null!=b.__interfaces&&b.__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=b.constructor&&null!=b.constructor.__interfaces&&b.constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0)){var w=b.getLocation();w.equals(f)?g=b.getFirstConstruction():w.equals(h)&&(y=b.getFirstConstruction())}}var x=a.createPower$int(1),A=new e.vzome.core.construction.Translation(u.scale(x)),M=new e.vzome.core.construction.TransformedPoint(A,y);this.manifestConstruction(M),A=new e.vzome.core.construction.Translation(c.scale(x));var S=new e.vzome.core.construction.TransformedPoint(A,g);this.manifestConstruction(S);var C=new e.vzome.core.construction.SegmentJoiningPoints(g,M);this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(C)),C=new e.vzome.core.construction.SegmentJoiningPoints(y,S),this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(C)),C=new e.vzome.core.construction.SegmentJoiningPoints(M,S),this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(C)),this.redo()}}]),_createClass(r,[{key:"getXmlElementName",value:function(){return"AffinePentagon"}}]),r}();t.AffinePentagon=n,n.__class="com.vzome.core.edits.AffinePentagon"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeManifestations);var n=_createSuper(r);function r(t,i,o,a){var s;if(_classCallCheck(this,r),(null!=t&&t instanceof e.vzome.core.construction.Point||null===t)&&(null!=i&&i instanceof e.vzome.core.math.symmetry.Axis||null===i)&&(null!=o&&(null!=o.__interfaces&&o.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0||null!=o.constructor&&null!=o.constructor.__interfaces&&o.constructor.__interfaces.indexOf("com.vzome.core.algebra.AlgebraicNumber")>=0)||null===o)&&(null!=a&&(null!=a.__interfaces&&a.__interfaces.indexOf("com.vzome.core.editor.api.EditorModel")>=0||null!=a.constructor&&null!=a.constructor.__interfaces&&a.constructor.__interfaces.indexOf("com.vzome.core.editor.api.EditorModel")>=0)||null===a))void 0===(s=n.call(this,a)).mAnchor&&(s.mAnchor=null),void 0===s.mAxis&&(s.mAxis=null),void 0===s.mLength&&(s.mLength=null),void 0===s.mAnchor&&(s.mAnchor=null),void 0===s.mAxis&&(s.mAxis=null),void 0===s.mLength&&(s.mLength=null),s.mAnchor=t,s.mAxis=i,s.mLength=o;else{if(!(null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.editor.api.EditorModel")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.editor.api.EditorModel")>=0)||null===t)||void 0!==i||void 0!==o||void 0!==a)throw new Error("invalid overload");var l=arguments[0];void 0===(s=n.call(this,l)).mAnchor&&(s.mAnchor=null),void 0===s.mAxis&&(s.mAxis=null),void 0===s.mLength&&(s.mLength=null),void 0===s.mAnchor&&(s.mAnchor=null),void 0===s.mAxis&&(s.mAxis=null),void 0===s.mLength&&(s.mLength=null),s.mAnchor=null,s.mAxis=null,s.mLength=null}return _possibleConstructorReturn(s)}return _createClass(r,[{key:"configure",value:function(e){this.mAnchor=e.get("anchor"),this.mAxis=e.get("zone"),this.mLength=e.get("length")}},{key:"perform",value:function(){var t=new e.vzome.core.construction.AnchoredSegment(this.mAxis,this.mLength,this.mAnchor);this.manifestConstruction(t);var n=new e.vzome.core.construction.SegmentEndPoint(t);this.manifestConstruction(n),this.redo()}},{key:"getXmlAttributes",value:function(t){e.vzome.core.commands.XmlSaveFormat.serializePoint(t,"anchor",this.mAnchor),e.vzome.core.commands.XmlSymmetryFormat.serializeAxis(t,"symm","dir","index","sense",this.mAxis),e.vzome.core.commands.XmlSaveFormat.serializeNumber(t,"len",this.mLength)}},{key:"setXmlAttributes",value:function(e,t){if(t.rationalVectors())this.mAnchor=t.parsePoint$org_w3c_dom_Element$java_lang_String(e,"anchor"),this.mAxis=t.parseAxis(e,"symm","dir","index","sense"),this.mLength=t.parseNumber(e,"len");else{var n=t.loadCommandAttributes$org_w3c_dom_Element$boolean(e,!0);this.mAnchor=n.get("anchor"),this.mAxis=n.get("axis"),this.mLength=n.get("len")}}},{key:"getXmlElementName",value:function(){return"StrutCreation"}}]),r}();t.StrutCreation=n,n.__class="com.vzome.core.edits.StrutCreation"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeManifestations);var n=_createSuper(r);function r(e){return _classCallCheck(this,r),n.call(this,e)}return _createClass(r,[{key:"perform",value:function(){for(var t=null,n=null,r=this.mSelection.iterator();r.hasNext();){var i=r.next();if(this.unselect$com_vzome_core_model_Manifestation(i),null!=i&&(null!=i.__interfaces&&i.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=i.constructor&&null!=i.constructor.__interfaces&&i.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0))if(null==t)t=i;else{if(null!=n)throw new e.vzome.core.commands.Command.Failure("only two struts are allowed");n=i}}if(null==t||null==n)throw new e.vzome.core.commands.Command.Failure("two struts are required");var o=new e.vzome.core.construction.LineFromPointAndVector(t.getLocation(),t.getZoneVector()),a=new e.vzome.core.construction.LineFromPointAndVector(n.getLocation(),n.getZoneVector()),s=new e.vzome.core.construction.LineLineIntersectionPoint(o,a);if(s.isImpossible())throw new e.vzome.core.commands.Command.Failure("lines are parallel or non-intersecting");var l=this.manifestConstruction(s);this.select$com_vzome_core_model_Manifestation(l),this.redo()}},{key:"getXmlElementName",value:function(){return"StrutIntersection"}}]),r}();t.StrutIntersection=n,n.__class="com.vzome.core.edits.StrutIntersection"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeManifestations);var n=_createSuper(r);function r(e,t){var i;return _classCallCheck(this,r),void 0===(i=n.call(this,t)).panel&&(i.panel=null),i.panel=null!=e?e:null,i}return _createClass(r,[{key:"perform",value:function(){if(null!=this.panel){this.mSelection.manifestationSelected(this.panel)&&this.unselect$com_vzome_core_model_Manifestation(this.panel);var e=this.panel.getFirstConstruction();this.unmanifestConstruction(e)}this.redo()}},{key:"getXmlElementName",value:function(){return"ReversePanel"}}]),r}();t.ReversePanel=n,n.__class="com.vzome.core.edits.ReversePanel"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeManifestations);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),void 0===(t=n.call(this,e)).colorMapper&&(t.colorMapper=null),void 0===t.editor&&(t.editor=null),t.editor=e,t}return _createClass(r,[{key:"configure",value:function(t){var n=t.get("mode"),r=this.editor.getSymmetrySystem$();null!=n&&(this.colorMapper=e.vzome.core.edits.ManifestationColorMappers.getColorMapper$java_lang_String$com_vzome_core_editor_api_OrbitSource(n,r))}},{key:"perform",value:function(){this.colorMapper.requiresOrderedSelection()&&this.setOrderedSelection(!0),this.colorMapper.initialize(this.getRenderedSelection());for(var e=this.getRenderedSelection().iterator();e.hasNext();){var t=e.next();this.plan(new r.ColorMapManifestation(this,t,this.colorMapper.apply$com_vzome_core_model_Manifestation(t))),this.unselect$com_vzome_core_model_Manifestation$boolean(t,!0)}this.redo()}},{key:"getXmlAttributes",value:function(e){e.setAttribute(r.COLORMAPPER_ATTR_NAME,this.colorMapper.getName()),this.colorMapper.getXmlAttributes(e)}},{key:"setXmlAttributes",value:function(t,n){var i=this.editor.getSymmetrySystem$java_lang_String(t.getAttribute("symmetry")),o=t.getAttribute(r.COLORMAPPER_ATTR_NAME);this.colorMapper=e.vzome.core.edits.ManifestationColorMappers.getColorMapper$java_lang_String$com_vzome_core_editor_api_OrbitSource(o,i),this.colorMapper.setXmlAttributes(t)}},{key:"getXmlElementName",value:function(){return"MapToColor"}}]),r}();n.COLORMAPPER_ATTR_NAME="colorMapper",t.MapToColor=n,n.__class="com.vzome.core.edits.MapToColor",function(t){var n=function(){function t(e,n,r){_classCallCheck(this,t),this.__parent=e,void 0===this.mManifestation&&(this.mManifestation=null),void 0===this.oldColor&&(this.oldColor=null),void 0===this.newColor&&(this.newColor=null),this.mManifestation=n,this.newColor=r,this.oldColor=n.getColor()}return _createClass(t,[{key:"redo",value:function(){this.__parent.mManifestations.setColor(this.mManifestation,this.newColor)}},{key:"undo",value:function(){this.__parent.mManifestations.setColor(this.mManifestation,this.oldColor)}},{key:"getXml",value:function(t){var n=t.createElement("color");e.vzome.xml.DomUtils.addAttribute(n,"rgb",this.newColor.toString());var r=this.mManifestation.getXml(t);return n.appendChild(r),n}}]),t}();t.ColorMapManifestation=n,n.__class="com.vzome.core.edits.MapToColor.ColorMapManifestation",n.__interfaces=["com.vzome.core.editor.api.SideEffects.SideEffect"]}(n=t.MapToColor||(t.MapToColor={}))})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeManifestations);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),void 0===(t=n.call(this,e)).color&&(t.color=null),t}return _createClass(r,[{key:"configure",value:function(t){var n=t.get("mode");null!=n&&this.initialize(new e.vzome.core.construction.Color(n))}},{key:"initialize",value:function(e){this.color=e;for(var t=this.mSelection.iterator();t.hasNext();){var n=t.next();n.isRendered()&&this.colorManifestation(n,e),this.unselect$com_vzome_core_model_Manifestation$boolean(n,!0)}}},{key:"getXmlAttributes",value:function(e){e.setAttribute("red",""+this.color.getRed()),e.setAttribute("green",""+this.color.getGreen()),e.setAttribute("blue",""+this.color.getBlue());var t=this.color.getAlpha();t<255&&e.setAttribute("alpha",""+t)}},{key:"setXmlAttributes",value:function(t,n){if(n.loadToRender()){var r=t.getAttribute("red"),i=t.getAttribute("green"),o=t.getAttribute("blue"),a=t.getAttribute("alpha"),s=null==a||0===a.length?255:javaemul.internal.IntegerHelper.parseInt(a);this.initialize(new e.vzome.core.construction.Color(javaemul.internal.IntegerHelper.parseInt(r),javaemul.internal.IntegerHelper.parseInt(i),javaemul.internal.IntegerHelper.parseInt(o),s))}else this.initialize(null)}},{key:"getXmlElementName",value:function(){return"setItemColor"}}]),r}();t.ColorManifestations=n,n.__class="com.vzome.core.edits.ColorManifestations"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeManifestations);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),void 0===(t=n.call(this,e)).meshData&&(t.meshData=null),void 0===t.scale&&(t.scale=null),void 0===t.projection&&(t.projection=null),void 0===t.editor&&(t.editor=null),t.editor=e,t}return _createClass(r,[{key:"configure",value:function(e){var t=this.mManifestations.getField();this.meshData=e.get("vef"),this.projection=e.get("projection"),this.scale=e.get("scale"),null==this.scale&&(this.scale=t.one());var n=e.getOrDefault("mode","");switch(n){case"":break;case"clipboard":null==this.meshData||function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"vZome VEF"===e.substr(n,"vZome VEF".length)}(this.meshData,"vZome VEF")||function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"{"===e.substr(n,"{".length)}(this.meshData,"{")||(this.meshData=null);break;case"Quaternion":break;default:this.setProjection(n,t)}}},{key:"isNoOp",value:function(){return null==this.meshData}},{key:"getXmlAttributes",value:function(t){if(null!=this.scale&&e.vzome.xml.DomUtils.addAttribute(t,"scale",this.scale.toString(e.vzome.core.algebra.AlgebraicField.ZOMIC_FORMAT)),null!=this.projection){var n=this.projection.getProjectionName();""!==n&&(e.vzome.xml.DomUtils.addAttribute(t,"projection",this.projection.getProjectionName()),this.projection.getXmlAttributes(t))}var r=t.getOwnerDocument().createTextNode(e.vzome.core.commands.XmlSaveFormat.escapeNewlines(this.meshData));t.appendChild(r)}},{key:"setXmlAttributes",value:function(t,n){var r=n.getField();this.scale=n.parseRationalNumber(t,"scale"),null==this.scale&&(this.scale=r.one()),this.meshData=t.getTextContent();var i=t.getAttribute("projection");if(""===i){var o=n.parseRationalVector(t,"quaternion");this.projection=null==o?null:new e.vzome.core.math.QuaternionProjection(r,null,o)}else this.setProjection(i,r);null!=this.projection&&this.projection.setXmlAttributes(t)}},{key:"setProjection",value:function(t,n){switch(t){case"Quaternion":this.projection=new e.vzome.core.math.QuaternionProjection(n,null,null);break;case"SixCube":this.projection=new e.vzome.core.math.SixCubeProjection(n);break;case"Tetrahedral":this.projection=new e.vzome.core.math.TetrahedralProjection(n);break;case"Perspective":this.projection=new e.vzome.core.math.PerspectiveProjection(n,null)}}},{key:"perform",value:function(){if(null!=this.meshData){for(var t=null,n=!1,i=this.mSelection.iterator();i.hasNext();){var o=i.next();if(null!=o&&(null!=o.__interfaces&&o.__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=o.constructor&&null!=o.constructor.__interfaces&&o.constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0)){var a=o.getFirstConstruction();if(n){t=null;break}n=!0,t=a.getLocation()}this.deselectInputs()&&this.unselect$com_vzome_core_model_Manifestation(o)}var s=this.mManifestations.getField(),l=new e.vzome.core.editor.api.ManifestConstructions(this),u=new r.ImportMesh$0(this,s);null==this.projection&&(this.projection=new e.vzome.core.math.Projection.Default(s));try{this.parseMeshData(t,l,u)}catch(c){throw new e.vzome.core.commands.Command.Failure("The selected file has incorrect content for this import.\n"+c.message)}this.redo()}}},{key:"deselectInputs",value:function(){return!0}}]),r}();t.ImportMesh=n,n.__class="com.vzome.core.edits.ImportMesh",function(e){var t=function(){function e(t,n){_classCallCheck(this,e),this.field=n,this.__parent=t}return _createClass(e,[{key:"getField",value:function(e){return t=this.field.getName(),n=e,(t&&t.equals?t.equals(n):t===n)?this.field:null;var t,n}}]),e}();e.ImportMesh$0=t,t.__interfaces=["com.vzome.core.algebra.AlgebraicField.Registry"]}(n=t.ImportMesh||(t.ImportMesh={}))})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeManifestations);var n=_createSuper(r);function r(e){return _classCallCheck(this,r),n.call(this,e)}return _createClass(r,[{key:"perform",value:function(){for(var e=new java.util.ArrayList,t=this.mSelection.iterator();t.hasNext();){var n=t.next();e.add(n),this.unselect$com_vzome_core_model_Manifestation(n)}this.redo();for(var i=e.iterator();i.hasNext();){var o=i.next();this.deleteManifestation(o)}_get(_getPrototypeOf(r.prototype),"perform",this).call(this)}}]),_createClass(r,[{key:"getXmlElementName",value:function(){return"Delete"}}]),r}();t.Delete=n,n.__class="com.vzome.core.edits.Delete"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeManifestations);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),void 0===(t=n.call(this,e)).center&&(t.center=null),t.center=e.getCenterPoint(),t}return _createClass(r,[{key:"perform",value:function(){for(var t=null,n=null,r=null,i=this.mSelection.iterator();i.hasNext();){var o=i.next();this.unselect$com_vzome_core_model_Manifestation(o),null!=o&&(null!=o.__interfaces&&o.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=o.constructor&&null!=o.constructor.__interfaces&&o.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0)&&(null==t?t=o.getFirstConstruction():null==n?n=o.getFirstConstruction():null==r&&(r=o.getFirstConstruction()))}if(null==r||null==n||null==t)throw new e.vzome.core.commands.Command.Failure("three struts required");this.redo();for(var a=new e.vzome.core.construction.ChangeOfBasis(t,n,r,this.center,!0),s=this.mManifestations.iterator();s.hasNext();){var l=s.next();if(l.isRendered()){var u=l.getFirstConstruction(),c=a.transform$com_vzome_core_construction_Construction(u);this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(c))}}this.redo()}},{key:"getXmlElementName",value:function(){return"AffineTransformAll"}}]),r}();t.AffineTransformAll=n,n.__class="com.vzome.core.edits.AffineTransformAll"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeManifestations);var n=_createSuper(r);function r(e){return _classCallCheck(this,r),n.call(this,e)}return _createClass(r,[{key:"getXmlElementName",value:function(){return"Parallelepiped"}},{key:"perform",value:function(){for(var t="Parallelepiped command requires three selected struts with a common vertex.",n=null,r=null,i=null,o=this.mSelection.iterator();o.hasNext();){var a=o.next();this.unselect$com_vzome_core_model_Manifestation(a),null!=a&&(null!=a.__interfaces&&a.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=a.constructor&&null!=a.constructor.__interfaces&&a.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0)?null==n?n="com.vzome.core.model.Strut".cast(a):null==r?r="com.vzome.core.model.Strut".cast(a):null==i?i="com.vzome.core.model.Strut".cast(a):this.fail(t):this.fail(t)}null!=n&&null!=r&&null!=i||this.fail(t);var s=e.vzome.core.construction.Segment.cast(n.getFirstConstruction()),l=e.vzome.core.construction.Segment.cast(r.getFirstConstruction()),u=e.vzome.core.construction.Segment.cast(i.getFirstConstruction()),c=s.getOffset(),f=l.getOffset(),h=u.getOffset(),d=null,p=null,m=null,v=null,g=s.getStart(),y=s.getEnd(),_=l.getStart(),b=l.getEnd();g.equals(_)?(p=y,m=b,d=_):y.equals(_)?(p=g,m=b,d=_,c=c.negate()):y.equals(b)?(p=g,m=_,d=b,f=f.negate(),c=c.negate()):g.equals(b)?(p=y,m=_,d=b,f=f.negate()):this.fail(t);var w=u.getStart(),x=u.getEnd();w.equals(d)?v=x:x.equals(d)?(v=w,h=h.negate()):this.fail(t),this.redo();var A=new e.vzome.core.construction.FreePoint(d),M=new e.vzome.core.construction.FreePoint(p),S=new e.vzome.core.construction.FreePoint(m),C=new e.vzome.core.construction.FreePoint(v);this.manifestConstruction(A),this.manifestConstruction(M),this.manifestConstruction(S),this.manifestConstruction(C),this.redo();var E=m.plus(h),I=new e.vzome.core.construction.FreePoint(E);this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(I)),this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(new e.vzome.core.construction.SegmentJoiningPoints(S,I))),this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(new e.vzome.core.construction.SegmentJoiningPoints(C,I)));var T=v.plus(c),L=new e.vzome.core.construction.FreePoint(T);this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(L)),this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(new e.vzome.core.construction.SegmentJoiningPoints(M,L))),this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(new e.vzome.core.construction.SegmentJoiningPoints(C,L)));var z=p.plus(f),k=new e.vzome.core.construction.FreePoint(z);this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(k)),this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(new e.vzome.core.construction.SegmentJoiningPoints(M,k))),this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(new e.vzome.core.construction.SegmentJoiningPoints(S,k)));var D=E.plus(c),O=new e.vzome.core.construction.FreePoint(D);this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(O)),this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(new e.vzome.core.construction.SegmentJoiningPoints(I,O))),this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(new e.vzome.core.construction.SegmentJoiningPoints(L,O))),this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(new e.vzome.core.construction.SegmentJoiningPoints(k,O))),this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(new e.vzome.core.construction.PolygonFromVertices([A,C,I,S]))),this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(new e.vzome.core.construction.PolygonFromVertices([A,M,L,C]))),this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(new e.vzome.core.construction.PolygonFromVertices([A,S,k,M]))),this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(new e.vzome.core.construction.PolygonFromVertices([O,I,C,L]))),this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(new e.vzome.core.construction.PolygonFromVertices([O,k,S,I]))),this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(new e.vzome.core.construction.PolygonFromVertices([O,L,M,k]))),this.redo()}}]),r}();t.Parallelepiped=n,n.__class="com.vzome.core.edits.Parallelepiped"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeManifestations);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),void 0===(t=n.call(this,e)).symmetry&&(t.symmetry=null),void 0===t.editor&&(t.editor=null),t.editor=e,t.symmetry=e.getSymmetrySystem$(),t}return _createClass(r,[{key:"perform",value:function(){var e=this;this.unselectAll();for(var t=this.getVisibleStruts$java_util_function_Predicate(function(t){return e.isAutomaticStrut(t)}).iterator();t.hasNext();){var n=t.next();this.select$com_vzome_core_model_Manifestation(n)}_get(_getPrototypeOf(r.prototype),"perform",this).call(this)}},{key:"isAutomaticStrut",value:function(e){return this.symmetry.getAxis(e.getOffset()).getOrbit().isAutomatic()}},{key:"getXmlElementName",value:function(){return"SelectAutomaticStruts"}},{key:"getXmlAttributes",value:function(t){null!=this.symmetry&&e.vzome.xml.DomUtils.addAttribute(t,"symmetry",this.symmetry.getName())}},{key:"setXmlAttributes",value:function(e,t){this.symmetry=this.editor.getSymmetrySystem$java_lang_String(e.getAttribute("symmetry"))}}]),r}();t.SelectAutomaticStruts=n,n.__class="com.vzome.core.edits.SelectAutomaticStruts"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeManifestations);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),(t=n.call(this,e)).vector1=null,t.vector2=null,t}return _createClass(r,[{key:"configure",value:function(e){var t=e.get("picked");null!=t&&(this.vector1=t.getLocation(),this.vector2=t.getEnd())}},{key:"perform",value:function(){var t=this;if(null==this.vector1||null==this.vector2){var n=this.getLastSelectedStrut();if(null!=n)this.vector1=n.getLocation(),this.vector2=n.getEnd();else for(var i=this.getSelectedConnectors().iterator();i.hasNext();){var o=i.next();this.vector1=this.vector2,this.vector2=o.getLocation()}}if(null==this.vector1||null==this.vector2)throw new e.vzome.core.commands.Command.Failure("select a strut or two balls as a reference.");this.unselectAll();for(var a=new java.util.TreeSet,s=this.getVisibleConnectors$java_util_function_Predicate(function(e){return t.isCollinearWith(e)}).iterator();s.hasNext();){var l=s.next();a.add(l)}for(var u=new java.util.TreeSet,c=this.getVisibleStruts$().iterator();c.hasNext();){var f=c.next();this.isCollinearWith$com_vzome_core_model_Strut(f)&&u.add(f)}for(var h=u.iterator();h.hasNext();){var d=h.next();this.select$com_vzome_core_model_Manifestation(d)}for(var p=a.iterator();p.hasNext();){var m=p.next();this.select$com_vzome_core_model_Manifestation(m)}var v=java.util.logging.Level.FINER;if(e.vzome.core.editor.api.ChangeSelection.logger_$LI$().isLoggable(v)){for(var g=new java.lang.StringBuilder("Selected:\n"),y=u.iterator();y.hasNext();){var _=y.next();g.append("  ").append(_.toString()).append("\n")}for(var b=a.iterator();b.hasNext();){var w=b.next();g.append("  ").append(w.toString()).append("\n")}e.vzome.core.editor.api.ChangeSelection.logger_$LI$().log(v,g.toString())}_get(_getPrototypeOf(r.prototype),"perform",this).call(this)}},{key:"isCollinearWith$com_vzome_core_model_Connector",value:function(e){return this.isCollinear(e.getLocation())}},{key:"isCollinearWith",value:function(e){if(null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0)||null===e)return this.isCollinearWith$com_vzome_core_model_Connector(e);if(null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0)||null===e)return this.isCollinearWith$com_vzome_core_model_Strut(e);throw new Error("invalid overload")}},{key:"isCollinearWith$com_vzome_core_model_Strut",value:function(e){return this.isCollinear(e.getLocation())&&this.isCollinear(e.getEnd())}},{key:"isCollinear",value:function(t){return e.vzome.core.algebra.AlgebraicVectors.areCollinear$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_algebra_AlgebraicVector$com_vzome_core_algebra_AlgebraicVector(t,this.vector1,this.vector2)}},{key:"getXmlElementName",value:function(){return"SelectCollinear"}},{key:"getXmlAttributes",value:function(t){e.vzome.xml.DomUtils.addAttribute(t,"vector1",this.vector1.toParsableString()),e.vzome.xml.DomUtils.addAttribute(t,"vector2",this.vector2.toParsableString())}},{key:"setXmlAttributes",value:function(e,t){this.vector1=t.parseRationalVector(e,"vector1"),this.vector2=t.parseRationalVector(e,"vector2")}}]),r}();t.SelectCollinear=n,n.__class="com.vzome.core.edits.SelectCollinear"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeManifestations);var n=_createSuper(r);function r(e,t){var i;return _classCallCheck(this,r),void 0===(i=n.call(this,t)).mEditorModel&&(i.mEditorModel=null),void 0===i.mCommand&&(i.mCommand=null),void 0===i.mAttrs&&(i.mAttrs=null),i.mEditorModel=t,i.mCommand=e,i}return _createClass(r,[{key:"groupingAware",value:function(){return!0}},{key:"getXmlElementName",value:function(){var e,t=(e=this.mCommand.constructor).__class?e.__class:e.name,n=t.lastIndexOf(".");return t.substring(n+1+"Command".length)}},{key:"getXmlAttributes",value:function(e){this.mCommand.getXml(e,this.mAttrs)}},{key:"setXmlAttributes",value:function(t,n){this.mAttrs=this.mCommand.setXml(t,n),this.mAttrs.put(e.vzome.core.commands.Command.LOADING_FROM_FILE,javaemul.internal.BooleanHelper.TRUE)}},{key:"perform",value:function(){var t=null!=this.mCommand&&this.mCommand instanceof e.vzome.core.commands.CommandHide;r.logger_$LI$().isLoggable(java.util.logging.Level.FINER)&&r.logger_$LI$().finer("------------------- CommandEdit"),this.mCommand.ordersSelection()&&this.setOrderedSelection(!0);for(var n=new e.vzome.core.construction.ConstructionList,i=this.mSelection.iterator();i.hasNext();){var o=i.next();if(r.logger_$LI$().isLoggable(java.util.logging.Level.FINER)){r.logger_$LI$().finer("----------- manifestation: "+o.toString());for(var a=o.getConstructions();a.hasNext();){var s=a.next();r.logger_$LI$().finer("   "+s.toString())}}if(this.unselect$com_vzome_core_model_Manifestation(o),t)this.hideManifestation(o);else{var l=o.getFirstConstruction();n.add(l)}}if(this.redo(),!t){null==this.mAttrs&&(this.mAttrs=new e.vzome.core.commands.AttributeMap);var u=this.mEditorModel.getSymmetrySegment();null!=u&&this.mAttrs.put(e.vzome.core.commands.CommandTransform.SYMMETRY_AXIS_ATTR_NAME,u),this.mAttrs.put(e.vzome.core.commands.CommandTransform.SYMMETRY_CENTER_ATTR_NAME,this.mEditorModel.getCenterPoint()),this.mAttrs.put(e.vzome.core.commands.Command.FIELD_ATTR_NAME,this.mManifestations.getField());var c,f,h=new r.NewConstructions,d=null,p=this.mCommand.getParameterSignature(),m=n.size();if(p.length===m||1===p.length&&(c=p[0][0],f=e.vzome.core.commands.Command.GENERIC_PARAM_NAME,c&&c.equals?c.equals(f):c===f))try{d=this.mCommand.apply(n,this.mAttrs,h)}catch(C){throw this.undo(),C}else if(p.length>m)this.fail("Too few objects in the selection.");else if(1===p.length){var v;d=new e.vzome.core.construction.ConstructionList;for(var g=0;g<m;g++){var y=n.get(g),_=p[0][1];if(_===e.vzome.core.construction.Point&&null!=y&&y instanceof e.vzome.core.construction.Point||_===e.vzome.core.construction.Segment&&null!=y&&y instanceof e.vzome.core.construction.Segment){var b=new e.vzome.core.construction.ConstructionList;b.addConstruction(y),v=this.mCommand.apply(b,this.mAttrs,h),d.addAll(v)}else d.add(y)}}else this.fail("Too many objects in the selection.");for(var w=h.iterator();w.hasNext();){var x=w.next();this.manifestConstruction(x)}for(var A=d.iterator();A.hasNext();){var M=A.next();if(M.failed())r.logBugAccommodation("failed construction"),this.mEditorModel.addFailedConstruction(M);else{var S=this.manifestConstruction(M);null!=S&&this.select$com_vzome_core_model_Manifestation(S)}}this.redo()}}},{key:"loadAndPerform",value:function(t,n,i){var o,a,s=null;if(s=n.selectionsNotSaved()?t.getLocalName():n.commandEditsCompacted()?"Command"+t.getLocalName():t.getAttribute("command"),a="CommandIcosahedralSymmetry",((o=s)&&o.equals?o.equals(a):o===a)&&(s="CommandSymmetry"),this.mCommand=i.createLegacyCommand(s),n.selectionsNotSaved()){var l=new java.util.LinkedHashSet;i.performAndRecord(new e.vzome.core.editor.BeginBlock(null)),this.mAttrs=new e.vzome.core.commands.AttributeMap;for(var u=t.getChildNodes(),c=0;c<u.getLength();c++){var f=u.item(c);if(null!=f&&(null!=f.__interfaces&&f.__interfaces.indexOf("org.w3c.dom.Element")>=0||null!=f.constructor&&null!=f.constructor.__interfaces&&f.constructor.__interfaces.indexOf("org.w3c.dom.Element")>=0)){var h=f,d=h.getLocalName();if(function(e,t){return e&&e.equals?e.equals("attr"):"attr"===e}(d)){var p=h.getAttribute("name");!function(e,t){var n=e.length-".symmetry.center".length,r=e.indexOf(".symmetry.center",n);return-1!==r&&r===n}(p)?function(e,t){return e&&e.equals?e.equals(t):e===t}(p,"reflection.mirror.normal.segment")&&(p=e.vzome.core.commands.CommandTransform.SYMMETRY_AXIS_ATTR_NAME):p=e.vzome.core.commands.CommandTransform.SYMMETRY_CENTER_ATTR_NAME;var m=e.vzome.xml.DomUtils.getFirstChildElement$org_w3c_dom_Element(h),v=m.getLocalName();(function(e,t){return e&&e.equals?e.equals(t):e===t})(v,"FreePoint")&&(v="point");var g=n.parseAlgebraicObject(v,m);if(g===e.vzome.core.commands.XmlSaveFormat.NOT_AN_ATTRIBUTE_$LI$()&&(g=n.parseConstruction$java_lang_String$org_w3c_dom_Element(v,m)),function(e,t){return e&&e.equals?e.equals(t):e===t}(p,e.vzome.core.commands.CommandTransform.SYMMETRY_CENTER_ATTR_NAME)){var y=new e.vzome.core.construction.FreePoint(g.getLocation().projectTo3d(!0));i.performAndRecord(new e.vzome.core.edits.SymmetryCenterChange(this.mEditorModel,y))}else if(function(e,t){return e&&e.equals?e.equals(t):e===t}(p,e.vzome.core.commands.CommandTransform.SYMMETRY_AXIS_ATTR_NAME)){if(i.performAndRecord(new e.vzome.core.edits.SymmetryAxisChange(this.mEditorModel,g)),!this.mCommand.attributeIs3D(p)){var _=g.getOffset();this.mCommand.setQuaternion(_)}}else this.mAttrs.put(p,g)}else{var b=n.parseConstruction$java_lang_String$org_w3c_dom_Element(d,h);if(null!=b){if(this.mEditorModel.hasFailedConstruction(b)){r.logBugAccommodation("skip selecting a failed construction");continue}var w=this.getManifestation(b);if(null==w||w.isUnnecessary())throw r.loadAndPerformLgger_$LI$().severe("CommandEdit parameter: "+h.toString()),new e.vzome.core.commands.Command.Failure("no manifestation to be selected.");l.contains(w)||l.add(w)}}}}if(l.size()>(this.mManifestations.size()/2|0)){for(var x=new java.util.ArrayList,A=this.mManifestations.iterator();A.hasNext();){var M=A.next();l.contains(M)||x.add(M)}var S=new e.vzome.core.edits.SelectAll(this.mEditorModel);i.performAndRecord(S);for(var C=x.iterator();C.hasNext();){var E=C.next();S=new e.vzome.core.edits.SelectManifestation(this.mEditorModel,E),i.performAndRecord(S)}}else{var I=new e.vzome.core.edits.DeselectAll(this.mEditorModel);i.performAndRecord(I);for(var T=l.iterator();T.hasNext();){var L=T.next();I=new e.vzome.core.edits.SelectManifestation(this.mEditorModel,L),i.performAndRecord(I)}}if(i.performAndRecord(new e.vzome.core.editor.EndBlock(null)),this.redo(),null!=this.mCommand&&this.mCommand instanceof e.vzome.core.commands.CommandObliquePentagon){var z=new e.vzome.core.edits.AffinePentagon(this.mEditorModel);return void i.performAndRecord(z)}this.mCommand.setFixedAttributes(this.mAttrs,n),this.mAttrs.put(e.vzome.core.commands.Command.LOADING_FROM_FILE,javaemul.internal.BooleanHelper.TRUE),i.performAndRecord(this)}else _get(_getPrototypeOf(r.prototype),"loadAndPerform",this).call(this,t,n,i)}}],[{key:"logger_$LI$",value:function(){return null==r.logger&&(r.logger=java.util.logging.Logger.getLogger("com.vzome.core.editor.CommandEdit")),r.logger}},{key:"loadAndPerformLgger_$LI$",value:function(){return null==r.loadAndPerformLgger&&(r.loadAndPerformLgger=java.util.logging.Logger.getLogger("com.vzome.core.editor.CommandEdit.loadAndPerform")),r.loadAndPerformLgger}}]),r}();t.CommandEdit=n,n.__class="com.vzome.core.editor.CommandEdit",function(e){var t=function(e){_inherits(n,java.util.ArrayList);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"constructionAdded",value:function(e){this.add(e)}}]),n}();e.NewConstructions=t,t.__class="com.vzome.core.editor.CommandEdit.NewConstructions",t.__interfaces=["java.util.RandomAccess","java.util.List","java.lang.Cloneable","com.vzome.core.construction.ConstructionChanges","java.util.Collection","java.lang.Iterable","java.io.Serializable"]}(n=t.CommandEdit||(t.CommandEdit={}))})((n=t.core||(t.core={})).editor||(n.editor={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeManifestations);var n=_createSuper(r);function r(e,t){var i;return _classCallCheck(this,r),void 0===(i=n.call(this,t.getEditorModel())).id&&(i.id=null),void 0===i.tools&&(i.tools=null),i.parameters=new java.util.ArrayList,void 0===i.category&&(i.category=null),void 0===i.predefined&&(i.predefined=!1),void 0===i.hidden&&(i.hidden=!1),void 0===i.label&&(i.label=null),void 0===i.selectInputs&&(i.selectInputs=!1),void 0===i.deleteInputs&&(i.deleteInputs=!1),i.pcs=new java.beans.PropertyChangeSupport(_assertThisInitialized(i)),i.tools=t,i.id=e,i.selectInputs=!0,i.deleteInputs=!1,i}return _createClass(r,[{key:"isSelectInputs",value:function(){return this.selectInputs}},{key:"isDeleteInputs",value:function(){return this.deleteInputs}},{key:"setInputBehaviors",value:function(e,t){this.selectInputs=e,this.deleteInputs=t}},{key:"addPropertyChangeListener",value:function(e){this.pcs.addPropertyChangeListener(e)}},{key:"setCategory",value:function(e){this.category=e}},{key:"addParameter",value:function(e){this.parameters.add(e)}},{key:"getParameters",value:function(){return this.parameters}},{key:"setPredefined",value:function(e){this.predefined=e}},{key:"isNoOp",value:function(){return!1}},{key:"isSticky",value:function(){return!0}},{key:"redo",value:function(){}},{key:"undo",value:function(){}},{key:"perform",value:function(){var t=this.checkSelection(!0);if(null!=t)throw new e.vzome.core.commands.Command.Failure(t);this.tools.put(this.getId(),this)}},{key:"getXmlAttributes",value:function(e){e.setAttribute("name",this.id)}},{key:"getId",value:function(){return this.id}},{key:"getCategory",value:function(){return this.category}},{key:"apply",value:function(e,t,n,r){this.tools.applyTool(this,e,t,n,r)}},{key:"selectParameters",value:function(){this.tools.selectToolParameters(this)}},{key:"isPredefined",value:function(){return this.predefined}},{key:"getLabel",value:function(){return this.label}},{key:"setLabel",value:function(e){this.label=e}},{key:"isHidden",value:function(){return this.hidden}},{key:"setHidden",value:function(e){this.hidden=e,this.tools.hideTool(this)}}]),r}();t.Tool=n,n.__class="com.vzome.core.editor.Tool",n.__interfaces=["com.vzome.api.Tool"]})((n=t.core||(t.core={})).editor||(n.editor={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeManifestations);var n=_createSuper(r);function r(e,t,i,o,a,s,l){var u;return _classCallCheck(this,r),void 0===(u=n.call(this,e.getEditorModel())).tool&&(u.tool=null),void 0===u.selectInputs&&(u.selectInputs=!1),void 0===u.deselectOutputs&&(u.deselectOutputs=!1),void 0===u.justSelect&&(u.justSelect=!1),void 0===u.hideInputs&&(u.hideInputs=!1),void 0===u.deleteInputs&&(u.deleteInputs=!1),void 0===u.redundantOutputs&&(u.redundantOutputs=!1),void 0===u.tools&&(u.tools=null),u.tools=e,u.tool=t,u.selectInputs=i,u.deleteInputs=o,u.hideInputs=!1,u.deselectOutputs=!s,u.justSelect=!a,u.redundantOutputs=l,u}return _createClass(r,[{key:"perform",value:function(){for(var e=new java.util.ArrayList,t=this.mSelection.iterator();t.hasNext();){var n=t.next();this.deleteInputs&&this.tool.needsInput()?(_get(_getPrototypeOf(r.prototype),"unselect$com_vzome_core_model_Manifestation$boolean",this).call(this,n,!0),_get(_getPrototypeOf(r.prototype),"deleteManifestation",this).call(this,n)):this.hideInputs&&this.tool.needsInput()?(_get(_getPrototypeOf(r.prototype),"unselect$com_vzome_core_model_Manifestation$boolean",this).call(this,n,!0),_get(_getPrototypeOf(r.prototype),"hideManifestation",this).call(this,n)):this.selectInputs||_get(_getPrototypeOf(r.prototype),"unselect$com_vzome_core_model_Manifestation$boolean",this).call(this,n,!0),this.tool.needsInput()&&e.add(n)}if(this.redo(),this.tool.prepare(this),this.tool.needsInput())for(var i=e.iterator();i.hasNext();){var o=i.next(),a=o.toConstruction();a.setColor(o.getColor()),this.tool.performEdit(a,this)}else for(var s=this.mManifestations.iterator();s.hasNext();){var l=s.next();this.tool.performSelect(l,this)}this.tool.complete(this),this.redo(),_get(_getPrototypeOf(r.prototype),"perform",this).call(this)}},{key:"getXmlElementName",value:function(){return this.redundantOutputs?"ApplyTool":"ToolApplied"}},{key:"getXmlAttributes",value:function(e){e.setAttribute("name",this.tool.getId()),this.selectInputs&&e.setAttribute("selectInputs","true"),this.deselectOutputs&&e.setAttribute("deselectOutputs","true"),this.justSelect&&e.setAttribute("justSelect","true"),this.hideInputs&&e.setAttribute("hideInputs","true"),this.deleteInputs&&e.setAttribute("deleteInputs","true")}},{key:"setXmlAttributes",value:function(e,t){var n=e.getAttribute("name");this.tool=this.tools.get(n),this.selectInputs=this.isAttributeTrue(e,"selectInputs"),this.deselectOutputs=this.isAttributeTrue(e,"deselectOutputs"),this.justSelect=this.isAttributeTrue(e,"justSelect"),this.hideInputs=this.isAttributeTrue(e,"hideInputs"),this.deleteInputs=this.isAttributeTrue(e,"deleteInputs")}},{key:"isAttributeTrue",value:function(e,t){var n,r=e.getAttribute(t);return null!=r&&((n=r)&&n.equals?n.equals("true"):"true"===n)}},{key:"manifestConstruction",value:function(e){var t=this.getManifestation(e),n=null!=t&&t.isRendered();return this.justSelect?n&&_get(_getPrototypeOf(r.prototype),"select$com_vzome_core_model_Manifestation$boolean",this).call(this,t,!1):!this.redundantOutputs&&n||(t=_get(_getPrototypeOf(r.prototype),"manifestConstruction",this).call(this,e),this.deselectOutputs||_get(_getPrototypeOf(r.prototype),"select$com_vzome_core_model_Manifestation$boolean",this).call(this,t,!0)),t}},{key:"select",value:function(e,t){if(!(null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0)||null===e)||"boolean"!==typeof t&&null!==t){if((null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0)||null===e)&&void 0===t)return this.select$com_vzome_core_model_Manifestation(e);throw new Error("invalid overload")}_get(_getPrototypeOf(r.prototype),"select",this).call(this,e,t)}},{key:"select$com_vzome_core_model_Manifestation",value:function(e){if(this.tool.needsInput())throw new java.lang.UnsupportedOperationException("select is not supported within Tool.performEdit");e.isRendered()||_get(_getPrototypeOf(r.prototype),"showManifestation",this).call(this,e),_get(_getPrototypeOf(r.prototype),"select$com_vzome_core_model_Manifestation$boolean",this).call(this,e,!0)}},{key:"unselect",value:function(e,t){if(!(null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0)||null===e)||"boolean"!==typeof t&&null!==t){if((null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0)||null===e)&&void 0===t)return this.unselect$com_vzome_core_model_Manifestation(e);throw new Error("invalid overload")}_get(_getPrototypeOf(r.prototype),"unselect",this).call(this,e,t)}},{key:"unselect$com_vzome_core_model_Manifestation",value:function(e){throw new java.lang.UnsupportedOperationException("unselect is not supported within Tool.performEdit")}},{key:"showManifestation",value:function(e){throw new java.lang.UnsupportedOperationException("showManifestation is not supported within Tool.performEdit")}},{key:"hideManifestation",value:function(e){throw new java.lang.UnsupportedOperationException("hideManifestation is not supported within Tool.performEdit")}}]),r}();t.ApplyTool=n,n.__class="com.vzome.core.editor.ApplyTool"})((n=t.core||(t.core={})).editor||(n.editor={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.api.ChangeManifestations);var n=_createSuper(r);function r(e,t){var i;return _classCallCheck(this,r),void 0===(i=n.call(this,e.getEditorModel())).tool&&(i.tool=null),void 0===i.tools&&(i.tools=null),i.tools=e,i.tool=t,i}return _createClass(r,[{key:"perform",value:function(){for(var e=this.mSelection.iterator();e.hasNext();){var t=e.next();_get(_getPrototypeOf(r.prototype),"unselect$com_vzome_core_model_Manifestation$boolean",this).call(this,t,!0)}this.redo();for(var n=this.tool.getParameters().iterator();n.hasNext();){var i=n.next(),o=this.manifestConstruction(i);this.select$com_vzome_core_model_Manifestation(o)}this.redo()}},{key:"getXmlElementName",value:function(){return"SelectToolParameters"}},{key:"getXmlAttributes",value:function(e){e.setAttribute("name",this.tool.getId())}},{key:"setXmlAttributes",value:function(e,t){var n=e.getAttribute("name");this.tool=this.tools.get(n)}}]),r}();t.SelectToolParameters=n,n.__class="com.vzome.core.editor.SelectToolParameters"})((n=t.core||(t.core={})).editor||(n.editor={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.edits.SelectByBoundary);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),void 0===(t=n.call(this,e)).center&&(t.center=null),void 0===t.maxRadiusSquared&&(t.maxRadiusSquared=null),t}return _createClass(r,[{key:"getXmlElementName",value:function(){return r.NAME}},{key:"usage",value:function(){return"This command requires two connectors which define the\ndiameter of a sphere centered at their midpoint.\n\nAll parts that are completely within the sphere will be selected.\n"}},{key:"adjustBoundary",value:function(t){switch(t.size()){case 1:return null;case 2:this.center=e.vzome.core.algebra.AlgebraicVectors.calculateCentroid(t);var n=t.get(0).minus(this.center);return this.maxRadiusSquared=n.dot(n),null}return"Too many connectors are selected."}},{key:"setBoundary",value:function(){this.center=null,this.maxRadiusSquared=null;for(var e=new java.util.ArrayList,t=this.mSelection.iterator();t.hasNext();){var n=t.next();if(null!=n&&(null!=n.__interfaces&&n.__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=n.constructor&&null!=n.constructor.__interfaces&&n.constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0)){e.add(n.getLocation());var r=this.adjustBoundary(e);if(null!=r)return r}}if(e.isEmpty())return"No connectors are selected.";if(null==this.center||null==this.maxRadiusSquared){var i=e.size();return 1===i?"Only one connector is selected.":"Only "+i+" connectors are selected."}return null}},{key:"boundaryContains$com_vzome_core_algebra_AlgebraicVector",value:function(e){return(e=e.minus(this.center)).dot(e).compareTo(this.maxRadiusSquared)<=0}},{key:"boundaryContains",value:function(t){if(null!=t&&t instanceof e.vzome.core.algebra.AlgebraicVector||null===t)return this.boundaryContains$com_vzome_core_algebra_AlgebraicVector(t);if(!(null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0)||null===t)){if(null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0)||null===t)return this.boundaryContains$com_vzome_core_model_Strut(t);if(null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.model.Panel")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.model.Panel")>=0)||null===t)return this.boundaryContains$com_vzome_core_model_Panel(t);throw new Error("invalid overload")}_get(_getPrototypeOf(r.prototype),"boundaryContains",this).call(this,t)}}]),r}();n.NAME="SelectByDiameter",t.SelectByDiameter=n,n.__class="com.vzome.core.edits.SelectByDiameter"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.edits.SelectByBoundary);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),void 0===(t=n.call(this,e)).plane&&(t.plane=null),void 0===t.anchor&&(t.anchor=null),void 0===t.desiredOrientation&&(t.desiredOrientation=0),t}return _createClass(r,[{key:"getXmlElementName",value:function(){return r.NAME}},{key:"usage",value:function(){return"This command requires four selected connectors.\n\nThe first three connectors must not be collinear,\nso that they define a plane.\nThe fourth connector must lie outside of that plane,\nand defines which half space you wish to select.\n\nAll parts that are completely within that half-space will be selected.\n"}},{key:"perform",value:function(){this.setOrderedSelection(!0),_get(_getPrototypeOf(r.prototype),"perform",this).call(this)}},{key:"setBoundary",value:function(){for(var t=null,n=null,r=null,i=null,o=this.mSelection.iterator();o.hasNext();){var a=o.next();if(null!=a&&(null!=a.__interfaces&&a.__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=a.constructor&&null!=a.constructor.__interfaces&&a.constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0)){if(null==t){t=a.getLocation();continue}if(null==n){n=a.getLocation();continue}if(null==r){r=a.getLocation();continue}if(null==i){i=a.getLocation();continue}return"You have selected more than four connectors."}}if(null==i)return"You have selected fewer than four connectors.";var s=new e.vzome.core.algebra.Vector3d(n.minus(t)),l=new e.vzome.core.algebra.Vector3d(r.minus(t));return this.plane=s.outer(l),this.anchor=t,this.desiredOrientation=this.orient(i),0===this.desiredOrientation?"Your last selected connector lies in the plane of the other three.":null}},{key:"orient",value:function(t){var n=t.minus(this.anchor),r=new e.vzome.core.algebra.Vector3d(n),i=this.plane.outer(r);return i.isZero()?0:i.evaluate()>0?1:-1}},{key:"boundaryContains$com_vzome_core_algebra_AlgebraicVector",value:function(e){var t=this.orient(e);return 0===t||t===this.desiredOrientation}},{key:"boundaryContains",value:function(t){if(null!=t&&t instanceof e.vzome.core.algebra.AlgebraicVector||null===t)return this.boundaryContains$com_vzome_core_algebra_AlgebraicVector(t);if(!(null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0)||null===t)){if(null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0)||null===t)return this.boundaryContains$com_vzome_core_model_Strut(t);if(null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.model.Panel")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.model.Panel")>=0)||null===t)return this.boundaryContains$com_vzome_core_model_Panel(t);throw new Error("invalid overload")}_get(_getPrototypeOf(r.prototype),"boundaryContains",this).call(this,t)}}]),r}();n.NAME="SelectByPlane",t.SelectByPlane=n,n.__class="com.vzome.core.edits.SelectByPlane"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.edits.ConvexHull);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),(t=n.call(this,e)).mode=null,t.generateStruts=!0,t.generatePanels=!0,t}return _createClass(r,[{key:"getXmlElementName",value:function(){return r.NAME}},{key:"isNoOp",value:function(){return!this.generateStruts&&!this.generatePanels||_get(_getPrototypeOf(r.prototype),"isNoOp",this).call(this)}},{key:"configure",value:function(e){this.setMode(e.get("mode"))}},{key:"setMode",value:function(t){if(this.mode="",this.generateStruts=!0,this.generatePanels=!0,null!=t)switch(t){case"":this.mode=t,this.generateStruts=!0,this.generatePanels=!0;break;case"noPanels":this.mode=t,this.generateStruts=!0,this.generatePanels=!1;break;case"onlyPanels":this.mode=t,this.generateStruts=!1,this.generatePanels=!0;break;default:e.vzome.core.editor.api.ChangeSelection.logger_$LI$().isLoggable(java.util.logging.Level.WARNING)&&e.vzome.core.editor.api.ChangeSelection.logger_$LI$().warning(r.NAME+': Ignoring unknown mode: "'+t+'".')}}},{key:"perform",value:function(){var t=new e.vzome.core.math.convexhull.QuickHull3D;t.build$java_util_Collection(this.getSelectedVertexSet(!0)),this.redo();for(var n=t.getVertices$(),r=new java.util.HashMap(n.length),i=0;i<n.length;i++){var o=n[i],a=new e.vzome.core.construction.FreePoint(o);r.put(o,a),this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(a))}for(var s=t.getFaces$(),l=0;l<s.length;l++){for(var u=s[l],c=function(e){for(var t=[];e-- >0;)t.push(null);return t}(u.length),f=u[u.length-1],h=r.get(n[f]),d=0;d<u.length;d++){var p=f;f=u[d];var m=c[d]=r.get(n[f]);this.generateStruts&&f<p&&this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(new e.vzome.core.construction.SegmentJoiningPoints(h,m))),h=m}this.generatePanels&&this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(new e.vzome.core.construction.PolygonFromVertices(c)))}this.redo()}},{key:"getXmlAttributes",value:function(e){null!=this.mode&&e.setAttribute("mode",this.mode)}},{key:"setXmlAttributes",value:function(e,t){this.setMode(e.getAttribute("mode"))}}]),r}();n.NAME="ConvexHull3d",t.ConvexHull3d=n,n.__class="com.vzome.core.edits.ConvexHull3d"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.edits.ConvexHull);var n=_createSuper(r);function r(e){return _classCallCheck(this,r),n.call(this,e)}return _createClass(r,[{key:"getXmlElementName",value:function(){return r.NAME}},{key:"perform",value:function(){var t=e.vzome.core.math.convexhull.GrahamScan2D.buildHull(this.getSelectedVertexSet(!0));this.redo();for(var n=function(e){for(var t=[];e-- >0;)t.push(null);return t}(t.length),r=0,i=new java.util.HashMap(t.length),o=0;o<t.length;o++){var a=t[o],s=new e.vzome.core.construction.FreePoint(a);i.put(a,s),n[r++]=s,this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(s))}this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(new e.vzome.core.construction.PolygonFromVertices(n)));for(var l=i.get(t[0]),u=1;u<t.length;u++){var c=i.get(t[u]);this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(new e.vzome.core.construction.SegmentJoiningPoints(l,c))),l=c}var f=i.get(t[0]);this.select$com_vzome_core_model_Manifestation(this.manifestConstruction(new e.vzome.core.construction.SegmentJoiningPoints(l,f))),this.redo()}}]),r}();n.NAME="ConvexHull2d",t.ConvexHull2d=n,n.__class="com.vzome.core.edits.ConvexHull2d"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.edits.StrutCreation);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),void 0===(t=n.call(this,e)).oldStrut&&(t.oldStrut=null),t}return _createClass(r,[{key:"configure",value:function(e){_get(_getPrototypeOf(r.prototype),"configure",this).call(this,e),this.oldStrut=e.get("oldStrut")}},{key:"perform",value:function(){this.deleteManifestation(this.oldStrut),this.manifestConstruction(this.mAnchor),_get(_getPrototypeOf(r.prototype),"redo",this).call(this),_get(_getPrototypeOf(r.prototype),"perform",this).call(this)}},{key:"getXmlAttributes",value:function(t){e.vzome.core.commands.XmlSaveFormat.serializeSegment(t,"startSegment","endSegment",this.oldStrut.getFirstConstruction()),_get(_getPrototypeOf(r.prototype),"getXmlAttributes",this).call(this,t)}},{key:"setXmlAttributes",value:function(e,t){var n=t.parseSegment$org_w3c_dom_Element$java_lang_String$java_lang_String(e,"startSegment","endSegment");null!=n&&(this.oldStrut=this.getManifestation(n)),_get(_getPrototypeOf(r.prototype),"setXmlAttributes",this).call(this,e,t)}},{key:"getXmlElementName",value:function(){return"StrutMove"}}]),r}();t.StrutMove=n,n.__class="com.vzome.core.edits.StrutMove"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.edits.ImportMesh);var n=_createSuper(r);function r(e){return _classCallCheck(this,r),n.call(this,e)}return _createClass(r,[{key:"parseMeshData",value:function(t,n,r){e.vzome.core.model.SimpleMeshJson.parse(this.meshData,t,this.projection,n,r)}},{key:"getXmlElementName",value:function(){return"ImportSimpleMeshJson"}}]),r}();t.ImportSimpleMeshJson=n,n.__class="com.vzome.core.edits.ImportSimpleMeshJson"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.edits.ImportMesh);var n=_createSuper(r);function r(e){return _classCallCheck(this,r),n.call(this,e)}return _createClass(r,[{key:"parseMeshData",value:function(t,n,r){e.vzome.core.model.ColoredMeshJson.parse(this.meshData,t,this.projection,n,r)}},{key:"getXmlElementName",value:function(){return"ImportColoredMeshJson"}}]),r}();t.ImportColoredMeshJson=n,n.__class="com.vzome.core.edits.ImportColoredMeshJson"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.edits.ImportMesh);var n=_createSuper(r);function r(e){return _classCallCheck(this,r),n.call(this,e)}return _createClass(r,[{key:"deselectInputs",value:function(){return!1}},{key:"parseMeshData",value:function(t,n,r){new e.vzome.core.construction.VefToModel(this.projection,n,this.scale,t).parseVEF(this.meshData,this.mManifestations.getField())}},{key:"getXmlElementName",value:function(){return"LoadVEF"}}]),r}();t.LoadVEF=n,n.__class="com.vzome.core.edits.LoadVEF"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.Tool);var n=_createSuper(r);function r(e,t){var i;return _classCallCheck(this,r),void 0===(i=n.call(this,e,t)).transforms&&(i.transforms=null),void 0===i.originPoint&&(i.originPoint=null),i.originPoint=t.getOriginPoint(),i}return _createClass(r,[{key:"prepare",value:function(e){}},{key:"complete",value:function(e){}},{key:"needsInput",value:function(){return!0}},{key:"equals",value:function(e){if(this===e)return!0;if(null==e)return!1;if(t=e.constructor,n=this.constructor,!(t&&t.equals?t.equals(n):t===n))return!1;var t,n,r=e;if(null==this.originPoint){if(null!=r.originPoint)return!1}else if(!function(e,t){return e&&e.equals?e.equals(t):e===t}(this.originPoint,r.originPoint))return!1;return!!java.util.Arrays.equals(this.transforms,r.transforms)}},{key:"performEdit",value:function(e,t){for(var n=0;n<this.transforms.length;n++){var r=this.transforms[n].transform$com_vzome_core_construction_Construction(e);if(null!=r){var i=e.getColor();r.setColor(i);var o=t.manifestConstruction(r);null!=o&&null!=i&&t.colorManifestation(o,e.getColor())}}t.redo()}},{key:"performSelect",value:function(e,t){}},{key:"unselect$com_vzome_core_model_Manifestation$boolean",value:function(e,t){var n=e.getFirstConstruction();this.addParameter(n),_get(_getPrototypeOf(r.prototype),"unselect$com_vzome_core_model_Manifestation$boolean",this).call(this,e,t)}},{key:"unselect",value:function(e,t){if(!(null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0)||null===e)||"boolean"!==typeof t&&null!==t){if((null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.model.Manifestation")>=0)||null===e)&&void 0===t)return this.unselect$com_vzome_core_model_Manifestation(e);throw new Error("invalid overload")}return this.unselect$com_vzome_core_model_Manifestation$boolean(e,t)}},{key:"isAutomatic",value:function(){return-1!=this.getId().indexOf(".auto/")}}]),r}();t.TransformationTool=n,n.__class="com.vzome.core.tools.TransformationTool",n.__interfaces=["com.vzome.api.Tool"]})((n=t.core||(t.core={})).tools||(n.tools={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.Tool);var n=_createSuper(r);function r(e,t){var i;return _classCallCheck(this,r),void 0===(i=n.call(this,e,t)).plane&&(i.plane=null),void 0===i.anchor&&(i.anchor=null),i.halfSpace=!0,i.boundaryOpen=!1,i.above=!0,i.includeBalls=!0,i.includeStruts=!0,i.includePanels=!0,i.includePartials=!1,i}return _createClass(r,[{key:"isSticky",value:function(){return!0}},{key:"perform",value:function(){for(var t=null,n=null,i=null,o=this.mSelection.iterator();o.hasNext();){var a=o.next();if(this.unselect$com_vzome_core_model_Manifestation(a),null!=a&&(null!=a.__interfaces&&a.__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=a.constructor&&null!=a.constructor.__interfaces&&a.constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0)){if(null==t){t=a.getLocation();continue}if(null==n){n=a.getLocation();continue}if(null==i){i=a.getLocation();continue}throw new e.vzome.core.commands.Command.Failure("half-space selection tool requires exactly three balls")}}if(null==i)throw new e.vzome.core.commands.Command.Failure("half-space selection tool requires exactly three balls");var s=new e.vzome.core.algebra.Vector3d(n.minus(t)),l=new e.vzome.core.algebra.Vector3d(i.minus(t));this.plane=s.outer(l),this.anchor=t,_get(_getPrototypeOf(r.prototype),"perform",this).call(this)}},{key:"prepare",value:function(e){}},{key:"complete",value:function(e){}},{key:"needsInput",value:function(){return!1}},{key:"performEdit",value:function(e,t){}},{key:"performSelect",value:function(e,t){if(!e.isHidden()&&e.isRendered()&&(!this.includePanels||null==e||!(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.model.Panel")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.model.Panel")>=0))){if(this.includeBalls&&null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0)){var n=e,r=this.orient(n.getLocation());this.boundaryOpen||0!==r?this.halfSpace&&this.above&&r>0?t.select$com_vzome_core_model_Manifestation(e):this.halfSpace&&!this.above&&r<0&&t.select$com_vzome_core_model_Manifestation(e):t.select$com_vzome_core_model_Manifestation(e)}else if(this.includeStruts&&null!=e&&(null!=e.__interfaces&&e.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=e.constructor&&null!=e.constructor.__interfaces&&e.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0)){var i=this.orient(e.getLocation()),o=this.orient(e.getEnd());this.includePartials?this.boundaryOpen||0!==i&&0!==o?this.halfSpace&&(this.above&&(i>0||o>0)?t.select$com_vzome_core_model_Manifestation(e):!this.above&&(i<0||o<0)&&t.select$com_vzome_core_model_Manifestation(e)):t.select$com_vzome_core_model_Manifestation(e):this.halfSpace||0!==i||0!==o?this.halfSpace&&(this.boundaryOpen?this.above&&i>0&&o>0?t.select$com_vzome_core_model_Manifestation(e):!this.above&&i<0&&o<0&&t.select$com_vzome_core_model_Manifestation(e):this.above&&i>=0&&o>=0?t.select$com_vzome_core_model_Manifestation(e):!this.above&&i<=0&&o<=0&&t.select$com_vzome_core_model_Manifestation(e)):t.select$com_vzome_core_model_Manifestation(e)}t.redo()}}},{key:"orient",value:function(t){var n=t.minus(this.anchor),r=new e.vzome.core.algebra.Vector3d(n),i=this.plane.outer(r);return i.isZero()?0:i.evaluate()>0?1:-1}},{key:"redo",value:function(){}},{key:"undo",value:function(){}},{key:"getXmlElementName",value:function(){return"PlaneSelectionTool"}},{key:"getXmlAttributes",value:function(e){e.setAttribute("name",this.getId())}},{key:"setXmlAttributes",value:function(e,t){var n,i;_get(_getPrototypeOf(r.prototype),"setXmlAttributes",this).call(this,e,t),this.includeBalls=(n="false",i=e.getAttribute("balls"),!(n.equals?n.equals(i):n===i)),this.includeStruts=!function(e,t){return e.equals?e.equals(t):e===t}("false",e.getAttribute("struts")),this.includePanels=function(e,t){return e.equals?e.equals(t):e===t}("true",e.getAttribute("panels")),this.includePartials=function(e,t){return e.equals?e.equals(t):e===t}("any",e.getAttribute("vertices")),this.boundaryOpen=function(e,t){return e.equals?e.equals(t):e===t}("true",e.getAttribute("open"));var o=e.getAttribute("halfSpace");!function(e,t){return e.equals?e.equals(t):e===t}("above",o)?function(e,t){return e.equals?e.equals(t):e===t}("below",o)?(this.halfSpace=!0,this.above=!1):(this.halfSpace=!1,this.boundaryOpen=!1):(this.halfSpace=!0,this.above=!0)}},{key:"getCategory",value:function(){return"plane"}},{key:"getDefaultName",value:function(){return"plane"}},{key:"checkSelection",value:function(e){return null}}]),r}();t.PlaneSelectionTool=n,n.__class="com.vzome.core.tools.PlaneSelectionTool",n.__interfaces=["com.vzome.api.Tool"],function(t){var n=function(t){_inherits(r,e.vzome.core.editor.AbstractToolFactory);var n=_createSuper(r);function r(e){return _classCallCheck(this,r),n.call(this,e,null,"plane","","")}return _createClass(r,[{key:"countsAreValid",value:function(e,t,n,r){return 3===e&&3===t}},{key:"createToolInternal",value:function(t){return new e.vzome.core.tools.PlaneSelectionTool(t,this.getToolsModel())}},{key:"bindParameters",value:function(e){return!0}}]),r}();t.Factory=n,n.__class="com.vzome.core.tools.PlaneSelectionTool.Factory",n.__interfaces=["com.vzome.core.editor.SelectionSummary.Listener","com.vzome.api.Tool.Factory"]}(n=t.PlaneSelectionTool||(t.PlaneSelectionTool={}))})((n=t.core||(t.core={})).tools||(n.tools={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.Tool);var n=_createSuper(r);function r(e,t){var i;return _classCallCheck(this,r),(i=n.call(this,e,t)).bookmarkedConstructions=new java.util.ArrayList,i}return _createClass(r,[{key:"isSticky",value:function(){return!0}},{key:"perform",value:function(){var t=new e.vzome.core.editor.Duplicator(null,null);if(0===this.mSelection.size())this.bookmarkedConstructions.add(new e.vzome.core.construction.FreePoint(this.mManifestations.getField().origin(3)));else for(var n=this.mSelection.iterator();n.hasNext();){var i=n.next(),o=t.duplicateConstruction(i);this.bookmarkedConstructions.add(o),this.addParameter(o)}_get(_getPrototypeOf(r.prototype),"perform",this).call(this)}},{key:"needsInput",value:function(){return!1}},{key:"prepare",value:function(t){if(this.bookmarkedConstructions.isEmpty())t.manifestConstruction(new e.vzome.core.construction.FreePoint(this.mManifestations.getField().origin(3)));else for(var n=this.bookmarkedConstructions.iterator();n.hasNext();){var r=n.next();t.manifestConstruction(r)}t.redo()}},{key:"complete",value:function(e){}},{key:"performEdit",value:function(e,t){}},{key:"performSelect",value:function(e,t){}},{key:"redo",value:function(){}},{key:"undo",value:function(){}},{key:"getXmlElementName",value:function(){return"BookmarkTool"}},{key:"getCategory",value:function(){return r.ID}},{key:"checkSelection",value:function(e){return null}}]),r}();n.ID="bookmark",n.LABEL="Create a selection bookmark",n.TOOLTIP="<p>A selection bookmark lets you re-create<br>any selection at a later time.</p>",t.BookmarkTool=n,n.__class="com.vzome.core.tools.BookmarkTool",n.__interfaces=["com.vzome.api.Tool"],function(t){var n=function(t){_inherits(r,e.vzome.core.editor.AbstractToolFactory);var n=_createSuper(r);function r(t){return _classCallCheck(this,r),n.call(this,t,null,e.vzome.core.tools.BookmarkTool.ID,e.vzome.core.tools.BookmarkTool.LABEL,e.vzome.core.tools.BookmarkTool.TOOLTIP)}return _createClass(r,[{key:"countsAreValid",value:function(e,t,n,r){return e>0}},{key:"createToolInternal",value:function(t){return new e.vzome.core.tools.BookmarkTool(t,this.getToolsModel())}},{key:"bindParameters",value:function(e){return!0}}]),r}();t.Factory=n,n.__class="com.vzome.core.tools.BookmarkTool.Factory",n.__interfaces=["com.vzome.core.editor.SelectionSummary.Listener","com.vzome.api.Tool.Factory"]}(n=t.BookmarkTool||(t.BookmarkTool={}))})((n=t.core||(t.core={})).tools||(n.tools={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.editor.Tool);var n=_createSuper(r);function r(e,t){var i;return _classCallCheck(this,r),void 0===(i=n.call(this,e,t)).name&&(i.name=null),i.bookmarkedSelection=new java.util.ArrayList,i.mSelection.copy(i.bookmarkedSelection),i}return _createClass(r,[{key:"isSticky",value:function(){return!0}},{key:"prepare",value:function(e){}},{key:"complete",value:function(e){}},{key:"needsInput",value:function(){return!0}},{key:"performEdit",value:function(t,n){if(null!=t&&t instanceof e.vzome.core.construction.Point){for(var r=t.getLocation(),i=new e.vzome.core.editor.Duplicator(n,r),o=this.bookmarkedSelection.iterator();o.hasNext();){var a=o.next();i.duplicateManifestation(a)}n.redo()}}},{key:"performSelect",value:function(e,t){}},{key:"redo",value:function(){}},{key:"undo",value:function(){}},{key:"getXmlElementName",value:function(){return"ModuleTool"}},{key:"getXmlAttributes",value:function(e){e.setAttribute("name",this.name)}},{key:"setXmlAttributes",value:function(e,t){this.name=e.getAttribute("name")}},{key:"getCategory",value:function(){return r.ID}},{key:"checkSelection",value:function(e){return null}}]),r}();n.ID="module",n.LABEL="Create a module tool",n.TOOLTIP="<p>Each tool duplicates the original module.<br></p>",t.ModuleTool=n,n.__class="com.vzome.core.tools.ModuleTool",n.__interfaces=["com.vzome.api.Tool"],function(t){var n=function(t){_inherits(r,e.vzome.core.editor.AbstractToolFactory);var n=_createSuper(r);function r(t){return _classCallCheck(this,r),n.call(this,t,null,e.vzome.core.tools.ModuleTool.ID,e.vzome.core.tools.ModuleTool.LABEL,e.vzome.core.tools.ModuleTool.TOOLTIP)}return _createClass(r,[{key:"countsAreValid",value:function(e,t,n,r){return e>0}},{key:"createToolInternal",value:function(t){return new e.vzome.core.tools.ModuleTool(t,this.getToolsModel())}},{key:"bindParameters",value:function(e){return!0}}]),r}();t.Factory=n,n.__class="com.vzome.core.tools.ModuleTool.Factory",n.__interfaces=["com.vzome.core.editor.SelectionSummary.Listener","com.vzome.api.Tool.Factory"]}(n=t.ModuleTool||(t.ModuleTool={}))})((n=t.core||(t.core={})).tools||(n.tools={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.edits.SelectByDiameter);var n=_createSuper(r);function r(e){var t;return _classCallCheck(this,r),void 0===(t=n.call(this,e)).minRadiusSquared&&(t.minRadiusSquared=null),t}return _createClass(r,[{key:"getXmlElementName",value:function(){return r.NAME}},{key:"usage",value:function(){return"This command requires either two or three selected connectors.\n\nThe first connector marks the center of a sphere.\nThe second connector defines its radius.\nAn optional third connector defines the radius of\n a second sphere with the same center.\n\nAll parts that are completely within the larger sphere will be selected.\n\nIf a second sphere is defined then any parts\n     within the smaller sphere, even partially, will be excluded.\n"}},{key:"perform",value:function(){this.setOrderedSelection(!0),_get(_getPrototypeOf(r.prototype),"perform",this).call(this)}},{key:"adjustBoundary",value:function(e){var t=e.get(e.size()-1);switch(e.size()){case 1:return this.center=t,this.maxRadiusSquared=null,this.minRadiusSquared=null,null;case 2:var n=t.minus(this.center);return this.maxRadiusSquared=n.dot(n),null;case 3:var i=t.minus(this.center);if(this.minRadiusSquared=i.dot(i),this.maxRadiusSquared.compareTo(this.minRadiusSquared)<0){var o=this.maxRadiusSquared;this.maxRadiusSquared=this.minRadiusSquared,this.minRadiusSquared=o}return null}return _get(_getPrototypeOf(r.prototype),"adjustBoundary",this).call(this,e)}},{key:"boundaryContains$com_vzome_core_algebra_AlgebraicVector",value:function(e){if(_get(_getPrototypeOf(r.prototype),"boundaryContains$com_vzome_core_algebra_AlgebraicVector",this).call(this,e)){if(null!=this.minRadiusSquared){var t=e.minus(this.center);return t.dot(t).compareTo(this.minRadiusSquared)>=0}return!0}return!1}},{key:"boundaryContains",value:function(t){if(null!=t&&t instanceof e.vzome.core.algebra.AlgebraicVector||null===t)return this.boundaryContains$com_vzome_core_algebra_AlgebraicVector(t);if(!(null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0)||null===t)){if(null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0)||null===t)return this.boundaryContains$com_vzome_core_model_Strut(t);if(null!=t&&(null!=t.__interfaces&&t.__interfaces.indexOf("com.vzome.core.model.Panel")>=0||null!=t.constructor&&null!=t.constructor.__interfaces&&t.constructor.__interfaces.indexOf("com.vzome.core.model.Panel")>=0)||null===t)return this.boundaryContains$com_vzome_core_model_Panel(t);throw new Error("invalid overload")}_get(_getPrototypeOf(r.prototype),"boundaryContains",this).call(this,t)}}]),r}();n.NAME="SelectByRadius",t.SelectByRadius=n,n.__class="com.vzome.core.edits.SelectByRadius"})((n=t.core||(t.core={})).edits||(n.edits={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.tools.TransformationTool);var n=_createSuper(r);function r(e,t){return _classCallCheck(this,r),n.call(this,e,t)}return _createClass(r,[{key:"checkSelection",value:function(t){var n=null;if(!this.isAutomatic())for(var r=this.mSelection.iterator();r.hasNext();){var i=r.next();if(t&&this.unselect$com_vzome_core_model_Manifestation(i),null!=i&&(null!=i.__interfaces&&i.__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=i.constructor&&null!=i.constructor.__interfaces&&i.constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0)){if(null!=n)return"more than one center selected";n=i.getFirstConstruction()}else if(!t)return"panel or strut selected"}if(null==n){if(!t)return"No symmetry center selected";n=this.originPoint,this.addParameter(n)}return t&&(this.transforms=[null],this.transforms[0]=new e.vzome.core.construction.PointReflection(n)),null}},{key:"getXmlElementName",value:function(){return"InversionTool"}},{key:"getCategory",value:function(){return r.ID}}]),r}();n.ID="point reflection",n.LABEL="Create a point reflection tool",n.TOOLTIP="<p>Each tool duplicates the selection by reflecting<br>each point through the defined center.  To create a<br>tool, select a single ball that defines that center.<br></p>",t.InversionTool=n,n.__class="com.vzome.core.tools.InversionTool",n.__interfaces=["com.vzome.api.Tool"],function(t){var n=function(t){_inherits(r,e.vzome.core.editor.AbstractToolFactory);var n=_createSuper(r);function r(t){var i;return _classCallCheck(this,r),void 0===(i=n.call(this,t,null,e.vzome.core.tools.InversionTool.ID,e.vzome.core.tools.InversionTool.LABEL,e.vzome.core.tools.InversionTool.TOOLTIP)).center&&(i.center=null),i}return _createClass(r,[{key:"countsAreValid",value:function(e,t,n,r){return 1===e&&1===t}},{key:"createToolInternal",value:function(t){return new e.vzome.core.tools.InversionTool(t,this.getToolsModel())}},{key:"bindParameters",value:function(e){for(var t=e.iterator();t.hasNext();){var n=t.next();this.center=n}return!0}}]),r}();t.Factory=n,n.__class="com.vzome.core.tools.InversionTool.Factory",n.__interfaces=["com.vzome.core.editor.SelectionSummary.Listener","com.vzome.api.Tool.Factory"]}(n=t.InversionTool||(t.InversionTool={}))})((n=t.core||(t.core={})).tools||(n.tools={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.tools.TransformationTool);var n=_createSuper(r);function r(e,t,i,o,a,s,l){var u;return _classCallCheck(this,r),void 0===(u=n.call(this,e,i)).symmetry&&(u.symmetry=null),void 0===u.stretch&&(u.stretch=!1),void 0===u.red&&(u.red=!1),void 0===u.first&&(u.first=!1),void 0===u.__com_vzome_core_tools_AxialStretchTool_category&&(u.__com_vzome_core_tools_AxialStretchTool_category=null),u.symmetry=t,u.stretch=o,u.red=a,u.first=s,u.__com_vzome_core_tools_AxialStretchTool_category=l,u.setInputBehaviors(!1,!0),u}return _createClass(r,[{key:"checkSelection",value:function(t){for(var n=null,r=null,i=this.mSelection.iterator();i.hasNext();){var o=i.next();if(t&&this.unselect$com_vzome_core_model_Manifestation(o),null!=o&&(null!=o.__interfaces&&o.__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=o.constructor&&null!=o.constructor.__interfaces&&o.constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0)){if(null!=n)return"Only one ball may be selected";n=o.getFirstConstruction()}else if(null!=o&&(null!=o.__interfaces&&o.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=o.constructor&&null!=o.constructor.__interfaces&&o.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0)){if(null!=r)return"Only one strut may be selected";r=o.getFirstConstruction()}else if(null!=o&&(null!=o.__interfaces&&o.__interfaces.indexOf("com.vzome.core.model.Panel")>=0||null!=o.constructor&&null!=o.constructor.__interfaces&&o.constructor.__interfaces.indexOf("com.vzome.core.model.Panel")>=0))return"Panels are not supported."}if(null==n)return"Exactly one ball must be selected.";if(null==r)return"Exactly one strut must be selected.";var a,s,l,u,c,f,h=this.symmetry.getAxis$com_vzome_core_algebra_AlgebraicVector(r.getOffset());if(null==h)return"Selected alignment strut is not an appropriate axis.";switch(h.getDirection().getName()){case"yellow":if(this.red)return"A red axis strut must be selected.";var d=this.symmetry.getDirection("blue"),p=d.getUnitLength();a=d.getAxis$int$int(e.vzome.core.math.symmetry.Symmetry.PLUS,2).normal().scale(p),s=d.getAxis$int$int(e.vzome.core.math.symmetry.Symmetry.PLUS,54).normal().scale(p),l=d.getAxis$int$int(e.vzome.core.math.symmetry.Symmetry.PLUS,36).normal().scale(p);var m=this.symmetry.getDirection("red"),v=m.getUnitLength();u=m.getAxis$int$int(e.vzome.core.math.symmetry.Symmetry.PLUS,2).normal().scale(v),c=m.getAxis$int$int(e.vzome.core.math.symmetry.Symmetry.PLUS,46).normal().scale(v),f=m.getAxis$int$int(e.vzome.core.math.symmetry.Symmetry.PLUS,16).normal().scale(v);break;case"red":if(!this.red)return"A yellow axis strut must be selected.";var g=this.symmetry.getDirection("blue"),y=g.getUnitLength(),_=this.symmetry.getDirection("red"),b=_.getUnitLength();this.first?(a=g.getAxis$int$int(e.vzome.core.math.symmetry.Symmetry.PLUS,56).normal().scale(y),s=g.getAxis$int$int(e.vzome.core.math.symmetry.Symmetry.PLUS,38).normal().scale(y),l=g.getAxis$int$int(e.vzome.core.math.symmetry.Symmetry.PLUS,40).normal().scale(y),u=_.getAxis$int$int(e.vzome.core.math.symmetry.Symmetry.PLUS,46).normal().scale(b),c=_.getAxis$int$int(e.vzome.core.math.symmetry.Symmetry.PLUS,1).normal().scale(b),f=_.getAxis$int$int(e.vzome.core.math.symmetry.Symmetry.PLUS,2).normal().scale(b)):(a=g.getAxis$int$int(e.vzome.core.math.symmetry.Symmetry.PLUS,37).normal().scale(y),s=g.getAxis$int$int(e.vzome.core.math.symmetry.Symmetry.PLUS,25).normal().scale(y),l=g.getAxis$int$int(e.vzome.core.math.symmetry.Symmetry.PLUS,45).normal().scale(y),u=g.getAxis$int$int(e.vzome.core.math.symmetry.Symmetry.PLUS,37).normal().scale(y),c=g.getAxis$int$int(e.vzome.core.math.symmetry.Symmetry.PLUS,25).normal().scale(y),b=b.times$com_vzome_core_algebra_AlgebraicNumber(this.symmetry.getField().createPower$int(-1)),f=_.getAxis$int$int(e.vzome.core.math.symmetry.Symmetry.PLUS,45).normal().scale(b));break;default:return"Selected alignment strut is not an appropriate axis."}if(t){var w=this.symmetry.getMatrix(h.getOrientation()),x=w.inverse(),A=new e.vzome.core.algebra.AlgebraicMatrix(a,s,l),M=new e.vzome.core.algebra.AlgebraicMatrix(u,c,f);if(this.stretch){var S=A;A=M,M=S}var C=w.times(M.times(A.inverse()).times(x));this.transforms=[null],this.transforms[0]=new e.vzome.core.construction.MatrixTransformation(C,n.getLocation())}return null}},{key:"getXmlElementName",value:function(){return"AxialStretchTool"}},{key:"getXmlAttributes",value:function(e){_get(_getPrototypeOf(r.prototype),"getXmlAttributes",this).call(this,e),this.stretch&&e.setAttribute("stretch","true"),e.setAttribute("orbit",this.red?"red":"yellow"),this.first||e.setAttribute("first","false")}},{key:"setXmlAttributes",value:function(e,t){var n,i=e.getAttribute("stretch");this.stretch=null!=i&&((n=i)&&n.equals?n.equals("true"):"true"===n),i=e.getAttribute("orbit"),this.red=function(e,t){return e&&e.equals?e.equals("red"):"red"===e}(i),i=e.getAttribute("first"),this.first=null==i||!function(e,t){return e&&e.equals?e.equals("false"):"false"===e}(i),this.symmetry=t.parseSymmetry("icosahedral"),_get(_getPrototypeOf(r.prototype),"setXmlAttributes",this).call(this,e,t)}},{key:"getCategory",value:function(){return this.__com_vzome_core_tools_AxialStretchTool_category}}]),r}();n.TOOLTIP_REDSQUASH1='<p>Each tool applies a "squash" transformation to the<br>selected objects, compressing along a red axis.  To create<br>a tool, select a ball as the center of the mapping, and a<br>red strut as the direction of the compression.  The ball and<br>strut need not be collinear.<br><br>The mapping comes from the usual Zome projection of the<br>120-cell.  It is the mapping that transforms the central,<br>blue dodecahedron into the compressed form in the next<br>layer outward.<br><br>By default, the input selection will be removed, and replaced<br>with the squashed equivalent.  If you want to keep the inputs,<br>you can right-click after creating the tool, to configure it.<br></p>',n.TOOLTIP_REDSTRETCH1='<p>Each tool applies a "stretch" transformation to the<br>selected objects, stretching along a red axis.  To create<br>a tool, select a ball as the center of the mapping, and a<br>red strut as the direction of the stretch.  The ball and<br>strut need not be collinear.<br><br>The mapping comes from the usual Zome projection of the<br>120-cell.  It is the inverse of the mapping that transforms<br>the central, blue dodecahedron into the compressed form in<br>the next layer outward.<br><br>By default, the input selection will be removed, and replaced<br>with the stretched equivalent.  If you want to keep the inputs,<br>you can right-click after creating the tool, to configure it.<br></p>',n.TOOLTIP_YELLOWSQUASH='<p>Each tool applies a "squash" transformation to the<br>selected objects, compressing along a yellow axis.  To create<br>a tool, select a ball as the center of the mapping, and a<br>yellow strut as the direction of the compression.  The ball and<br>strut need not be collinear.<br><br>The mapping comes from the usual Zome projection of the<br>120-cell.  It is the mapping that transforms the central,<br>blue dodecahedron into the compressed form along a yellow axis.<br><br>By default, the input selection will be removed, and replaced<br>with the squashed equivalent.  If you want to keep the inputs,<br>you can right-click after creating the tool, to configure it.<br></p>',n.TOOLTIP_YELLOWSTRETCH='<p>Each tool applies a "stretch" transformation to the<br>selected objects, stretching along a yellow axis.  To create<br>a tool, select a ball as the center of the mapping, and a<br>yellow strut as the direction of the stretch.  The ball and<br>strut need not be collinear.<br><br>The mapping comes from the usual Zome projection of the<br>120-cell.  It is the inverse of the mapping that transforms<br>the central, blue dodecahedron into the compressed form along<br>a yellow axis.<br><br>By default, the input selection will be removed, and replaced<br>with the stretched equivalent.  If you want to keep the inputs,<br>you can right-click after creating the tool, to configure it.<br></p>',n.TOOLTIP_REDSQUASH2='<p>Each tool applies a "squash" transformation to the<br>selected objects, compressing along a red axis.  To create<br>a tool, select a ball as the center of the mapping, and a<br>red strut as the direction of the compression.  The ball and<br>strut need not be collinear.<br><br>The mapping comes from the usual Zome projection of the<br>120-cell.  It is the mapping that transforms the central,<br>blue dodecahedron into the compressed form in the second<br>layer outward along a red axis.<br><br>By default, the input selection will be removed, and replaced<br>with the squashed equivalent.  If you want to keep the inputs,<br>you can right-click after creating the tool, to configure it.<br></p>',n.TOOLTIP_REDSTRETCH2='<p>Each tool applies a "stretch" transformation to the<br>selected objects, stretching along a red axis.  To create<br>a tool, select a ball as the center of the mapping, and a<br>red strut as the direction of the stretch.  The ball and<br>strut need not be collinear.<br><br>The mapping comes from the usual Zome projection of the<br>120-cell.  It is the inverse of the mapping that transforms<br>the central, blue dodecahedron into the compressed form in<br>the second layer outward along a red axis.<br><br>By default, the input selection will be removed, and replaced<br>with the stretched equivalent.  If you want to keep the inputs,<br>you can right-click after creating the tool, to configure it.<br></p>',t.AxialStretchTool=n,n.__class="com.vzome.core.tools.AxialStretchTool",n.__interfaces=["com.vzome.api.Tool"],function(t){var n=function(t){_inherits(r,e.vzome.core.editor.AbstractToolFactory);var n=_createSuper(r);function r(e,t,i,o,a){var s;return _classCallCheck(this,r),void 0===(s=n.call(this,e,t,r.getCategory(i,o,a),r.getLabel(i,o,a),r.getToolTip(i,o,a))).red&&(s.red=!1),void 0===s.stretch&&(s.stretch=!1),void 0===s.first&&(s.first=!1),s.red=i,s.stretch=o,s.first=a,s}return _createClass(r,[{key:"countsAreValid",value:function(e,t,n,r){return 2===e&&1===t&&1===n}},{key:"createToolInternal",value:function(t){var n=r.getCategory(this.red,this.stretch,this.first);return new e.vzome.core.tools.AxialStretchTool(t,this.getSymmetry(),this.getToolsModel(),this.stretch,this.red,this.first,n)}},{key:"bindParameters",value:function(e){for(var t,n=this.getSymmetry(),r=e.iterator();r.hasNext();){var i=r.next();if(null!=i&&(null!=i.__interfaces&&i.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=i.constructor&&null!=i.constructor.__interfaces&&i.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0)){var o=i.getOffset();o=n.getField().projectTo3d(o,!0);var a=n.getAxis$com_vzome_core_algebra_AlgebraicVector(o);if(null==a)return!1;var s=a.getDirection().getName();return this.red?(t=s)&&t.equals?t.equals("red"):"red"===t:function(e,t){return e&&e.equals?e.equals("yellow"):"yellow"===e}(s)}}return!0}}],[{key:"getCategory",value:function(e,t,n){return e?n?t?"redstretch1":"redsquash1":t?"redstretch2":"redsquash2":t?"yellowstretch":"yellowsquash"}},{key:"getLabel",value:function(e,t,n){return"Create a "+(e?n?t?"weak red stretch":"weak red squash":t?"strong red stretch":"strong red squash":t?"yellow stretch":"yellow squash")+" tool"}},{key:"getToolTip",value:function(t,n,r){return t?r?n?e.vzome.core.tools.AxialStretchTool.TOOLTIP_REDSTRETCH1:e.vzome.core.tools.AxialStretchTool.TOOLTIP_REDSQUASH1:n?e.vzome.core.tools.AxialStretchTool.TOOLTIP_REDSTRETCH2:e.vzome.core.tools.AxialStretchTool.TOOLTIP_REDSQUASH2:n?e.vzome.core.tools.AxialStretchTool.TOOLTIP_YELLOWSTRETCH:e.vzome.core.tools.AxialStretchTool.TOOLTIP_YELLOWSQUASH}}]),r}();t.Factory=n,n.__class="com.vzome.core.tools.AxialStretchTool.Factory",n.__interfaces=["com.vzome.core.editor.SelectionSummary.Listener","com.vzome.api.Tool.Factory"]}(n=t.AxialStretchTool||(t.AxialStretchTool={}))})((n=t.core||(t.core={})).tools||(n.tools={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.tools.TransformationTool);var n=_createSuper(r);function r(e,t,i){var o;return _classCallCheck(this,r),void 0===(o=n.call(this,e,i)).symmetry&&(o.symmetry=null),o.symmetry=t,o}return _createClass(r,[{key:"hashCode",value:function(){var e,t=1;return t=31*t+(null==this.symmetry?0:(e=this.symmetry).hashCode?e.hashCode():e.toString().split("").reduce(function(e,t){return(e<<5)-e+t.charCodeAt(0)|0},0))}},{key:"equals",value:function(e){if(this===e)return!0;if(!_get(_getPrototypeOf(r.prototype),"equals",this).call(this,e))return!1;if(this.constructor!==e.constructor)return!1;var t,n,i=e;if(null==this.symmetry){if(null!=i.symmetry)return!1}else if(t=this.symmetry,n=i.symmetry,!(t&&t.equals?t.equals(n):t===n))return!1;return!0}},{key:"checkSelection",value:function(t){var n=null,r=null,i=!0,o=!1;if(!this.isAutomatic())for(var a=this.mSelection.iterator();a.hasNext();){var s=a.next();if(t&&this.unselect$com_vzome_core_model_Manifestation(s),null!=s&&(null!=s.__interfaces&&s.__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=s.constructor&&null!=s.constructor.__interfaces&&s.constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0)){if(null!=n)return"No unique symmetry center selected";n=s.getFirstConstruction()}else null!=s&&(null!=s.__interfaces&&s.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=s.constructor&&null!=s.constructor.__interfaces&&s.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0)?null!=r?i=!1:r=s:null!=s&&(null!=s.__interfaces&&s.__interfaces.indexOf("com.vzome.core.model.Panel")>=0||null!=s.constructor&&null!=s.constructor.__interfaces&&s.constructor.__interfaces.indexOf("com.vzome.core.model.Panel")>=0)&&(o=!0)}if(null==n){if(!t)return"No symmetry center selected";n=this.originPoint,this.addParameter(n)}if(o&&!t)return"panels are selected";var l,u,c=this.symmetry.subgroup(e.vzome.core.math.symmetry.Symmetry.TETRAHEDRAL);switch(this.symmetry.getName()){case"icosahedral":if(!t&&null!=r&&(l=this.getCategory(),u="icosahedral",l&&l.equals?l.equals(u):l===u))return"No struts needed for icosahedral symmetry.";switch(this.getCategory()){case"tetrahedral":if(!i)return"no unique alignment strut selected.";if(null==r){if(!t)return"no aligment strut selected."}else{var f=this.symmetry,h=f.getAxis$com_vzome_core_algebra_AlgebraicVector(r.getOffset());if(null==h)return"selected alignment strut is not a tetrahedral axis.";var d=t;if(null==(c=f.subgroup$java_lang_String$com_vzome_core_math_symmetry_Axis$boolean(e.vzome.core.math.symmetry.Symmetry.TETRAHEDRAL,h,d)))return"selected alignment strut is not a tetrahedral axis."}if(t){var p=c.length;this.transforms=function(e){for(var t=[];e-- >0;)t.push(null);return t}(p-1);for(var m=0;m<p-1;m++)this.transforms[m]=new e.vzome.core.construction.SymmetryTransformation(this.symmetry,c[m+1],n)}break;case"octahedral":var v=null;if(!i)return"no unique alignment strut selected.";if(null==r){if(!t)return"no aligment strut selected."}else{var g=this.symmetry,y=g.getAxis$com_vzome_core_algebra_AlgebraicVector(r.getOffset());if(null==y)return"selected alignment strut is not an octahedral axis.";var _=0;switch(y.getDirection().getName()){case"green":_=g.blueTetrahedralFromGreen(y.getOrientation());break;case"blue":_=y.getOrientation();break;default:return"selected alignment strut is not an octahedral axis."}v=this.symmetry.getMatrix(_)}if(t){var b=v.inverse(),w=null!=this.symmetry&&this.symmetry instanceof e.vzome.core.math.symmetry.OctahedralSymmetry?this.symmetry:new e.vzome.core.math.symmetry.OctahedralSymmetry(this.symmetry.getField()),x=w.getChiralOrder();this.transforms=function(e){for(var t=[];e-- >0;)t.push(null);return t}(x-1);for(var A=0;A<x-1;A++){var M=w.getMatrix(A+1);M=v.times(M.times(b)),this.transforms[A]=new e.vzome.core.construction.MatrixTransformation(M,n.getLocation())}}break;default:t&&this.prepareFullSymmetry(n)}break;case"octahedral":if(t)if(function(e,t){return e&&e.equals?e.equals(t):e===t}(this.getCategory(),"tetrahedral")){var S=c.length;this.transforms=function(e){for(var t=[];e-- >0;)t.push(null);return t}(S-1);for(var C=0;C<S-1;C++)this.transforms[C]=new e.vzome.core.construction.SymmetryTransformation(this.symmetry,c[C+1],n)}else this.prepareFullSymmetry(n);else if(null!=r)return"No struts needed for symmetry";break;default:t&&this.prepareFullSymmetry(n)}return null}},{key:"prepareFullSymmetry",value:function(t){var n=this.symmetry.getChiralOrder();this.transforms=function(e){for(var t=[];e-- >0;)t.push(null);return t}(n-1);for(var r=0;r<n-1;r++)this.transforms[r]=new e.vzome.core.construction.SymmetryTransformation(this.symmetry,r+1,t)}},{key:"getXmlElementName",value:function(){return"SymmetryTool"}},{key:"getXmlAttributes",value:function(e){e.setAttribute("symmetry",this.symmetry.getName()),_get(_getPrototypeOf(r.prototype),"getXmlAttributes",this).call(this,e)}},{key:"setXmlAttributes",value:function(e,t){var n=e.getAttribute("symmetry");this.symmetry=t.parseSymmetry(n),_get(_getPrototypeOf(r.prototype),"setXmlAttributes",this).call(this,e,t)}}]),r}();n.ID="symmetry",n.LABEL="Create a general symmetry tool",n.TOOLTIP="<p>General symmetry tool.<br></p>",t.SymmetryTool=n,n.__class="com.vzome.core.tools.SymmetryTool",n.__interfaces=["com.vzome.api.Tool"],function(t){var n=function(t){_inherits(r,e.vzome.core.editor.AbstractToolFactory);var n=_createSuper(r);function r(t,i){return _classCallCheck(this,r),n.call(this,t,i,e.vzome.core.tools.SymmetryTool.ID,e.vzome.core.tools.SymmetryTool.LABEL,e.vzome.core.tools.SymmetryTool.TOOLTIP)}return _createClass(r,[{key:"countsAreValid",value:function(e,t,n,r){return 1===e&&1===t}},{key:"createToolInternal",value:function(t){return new e.vzome.core.tools.SymmetryTool(t,this.getSymmetry(),this.getToolsModel())}},{key:"bindParameters",value:function(e){return 1===e.size()&&null!=e.iterator().next()&&(null!=e.iterator().next().__interfaces&&e.iterator().next().__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=e.iterator().next().constructor&&null!=e.iterator().next().constructor.__interfaces&&e.iterator().next().constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0)}}]),r}();t.Factory=n,n.__class="com.vzome.core.tools.SymmetryTool.Factory",n.__interfaces=["com.vzome.core.editor.SelectionSummary.Listener","com.vzome.api.Tool.Factory"]}(n=t.SymmetryTool||(t.SymmetryTool={}))})((n=t.core||(t.core={})).tools||(n.tools={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.tools.TransformationTool);var n=_createSuper(r);function r(e,t,i){var o;return _classCallCheck(this,r),void 0===(o=n.call(this,e,t)).originalScaling&&(o.originalScaling=!1),o.originalScaling=i,o.setInputBehaviors(!1,!0),o}return _createClass(r,[{key:"checkSelection",value:function(t){for(var n=[null,null,null],r=[null,null,null],i=0,o=!0,a=null,s=this.mSelection.iterator();s.hasNext();){var l=s.next();if(t&&this.unselect$com_vzome_core_model_Manifestation(l),null!=l&&(null!=l.__interfaces&&l.__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=l.constructor&&null!=l.constructor.__interfaces&&l.constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0)){if(null!=a){o=!1;break}a=l.getFirstConstruction()}else if(null!=l&&(null!=l.__interfaces&&l.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=l.constructor&&null!=l.constructor.__interfaces&&l.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0)){if(i>=6){o=!1;break}0===(i/3|0)?n[i%3]=l.getFirstConstruction():r[i%3]=l.getFirstConstruction(),++i}}return(o=o&&(3===i||6===i))?(t&&(null==a&&(a=this.originPoint),this.transforms=[null],this.transforms[0]=6===i?new e.vzome.core.construction.ChangeOfBasis(n,r,a):new e.vzome.core.construction.ChangeOfBasis(n[0],n[1],n[2],a,this.originalScaling)),null):"linear map tool requires three adjacent, non-parallel struts (or two sets of three) and a single (optional) center ball"}},{key:"getXmlElementName",value:function(){return"LinearTransformTool"}},{key:"getCategory",value:function(){return r.CATEGORY}}]),r}();n.CATEGORY="linear map",n.LABEL="Create a linear map tool",n.TOOLTIP="<p><b>For experts and Linear Algebra students...</b><br><br>Each tool applies a linear transformation to the selected<br>objects, possibly rotating, stretching, and compressing.  To<br>create a tool, select a ball as the center of the mapping,<br>three struts (in order) to define the input basis, and three<br>more struts to define the output basis.<br><br>You can omit the input basis if it would consist of three<br>identical blue struts at right angles; the three struts you<br>select will be interpreted as the output basis.<br><br>By default, the input selection will be removed, and replaced<br>with the transformed equivalent.  If you want to keep the inputs,<br>you can right-click after creating the tool, to configure it.<br></p>",t.LinearMapTool=n,n.__class="com.vzome.core.tools.LinearMapTool",n.__interfaces=["com.vzome.api.Tool"],function(t){var n=function(t){_inherits(r,e.vzome.core.editor.AbstractToolFactory);var n=_createSuper(r);function r(t,i,o){var a;return _classCallCheck(this,r),void 0===(a=n.call(this,t,i,e.vzome.core.tools.LinearMapTool.CATEGORY,e.vzome.core.tools.LinearMapTool.LABEL,e.vzome.core.tools.LinearMapTool.TOOLTIP)).originalScaling&&(a.originalScaling=!1),a.originalScaling=o,a}return _createClass(r,[{key:"countsAreValid",value:function(e,t,n,r){return 7===e&&1===t&&6===n||4===e&&1===t&&3===n}},{key:"createToolInternal",value:function(t){return new e.vzome.core.tools.LinearMapTool(t,this.getToolsModel(),this.originalScaling)}},{key:"bindParameters",value:function(e){return!0}}]),r}();t.Factory=n,n.__class="com.vzome.core.tools.LinearMapTool.Factory",n.__interfaces=["com.vzome.core.editor.SelectionSummary.Listener","com.vzome.api.Tool.Factory"]}(n=t.LinearMapTool||(t.LinearMapTool={}))})((n=t.core||(t.core={})).tools||(n.tools={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.tools.TransformationTool);var n=_createSuper(r);function r(e,t){var i;return _classCallCheck(this,r),(i=n.call(this,e,t)).setInputBehaviors(!1,!0),i}return _createClass(r,[{key:"perform",value:function(){for(var t=null,n=null,i=this.mSelection.iterator();i.hasNext();){var o=i.next();if(this.unselect$com_vzome_core_model_Manifestation(o),null!=o&&(null!=o.__interfaces&&o.__interfaces.indexOf("com.vzome.core.model.Panel")>=0||null!=o.constructor&&null!=o.constructor.__interfaces&&o.constructor.__interfaces.indexOf("com.vzome.core.model.Panel")>=0)){if(null==t){var a=o.toConstruction();t=new e.vzome.core.construction.PlaneExtensionOfPolygon(a);continue}throw new e.vzome.core.commands.Command.Failure("Projection tool requires a single selected panel")}if(null!=o&&(null!=o.__interfaces&&o.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=o.constructor&&null!=o.constructor.__interfaces&&o.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0)){if(null==n){var s=o.toConstruction();n=new e.vzome.core.construction.LineExtensionOfSegment(s);continue}throw new e.vzome.core.commands.Command.Failure("Projection tool allows only a single selected strut")}}if(null==t)throw new e.vzome.core.commands.Command.Failure("Projection tool requires a selected panel");if(this.transforms=[null],this.transforms[0]=new e.vzome.core.construction.PlaneProjection(t,n),null!=n&&null==this.transforms[0].transform$com_vzome_core_algebra_AlgebraicVector(n.getDirection()))throw new e.vzome.core.commands.Command.Failure("Selected strut and plane must not be parallel");_get(_getPrototypeOf(r.prototype),"perform",this).call(this)}},{key:"checkSelection",value:function(e){return null}},{key:"getXmlElementName",value:function(){return"ProjectionTool"}},{key:"getCategory",value:function(){return r.ID}}]),r}();n.ID="projection",n.LABEL="Create a plane projection tool",n.TOOLTIP="<p>Created tools project selected objects to a 2D plane.  To create a<br>tool, define the projection plane by selecting a single plane.<br>Optionally, select a strut to define a line of projection;<br>the default line is orthogonal to the projection plane.<br></p>",t.ProjectionTool=n,n.__class="com.vzome.core.tools.ProjectionTool",n.__interfaces=["com.vzome.api.Tool"],function(t){var n=function(t){_inherits(r,e.vzome.core.editor.AbstractToolFactory);var n=_createSuper(r);function r(t){return _classCallCheck(this,r),n.call(this,t,null,e.vzome.core.tools.ProjectionTool.ID,e.vzome.core.tools.ProjectionTool.LABEL,e.vzome.core.tools.ProjectionTool.TOOLTIP)}return _createClass(r,[{key:"countsAreValid",value:function(e,t,n,r){return 2===e&&1===r&&1===n||1===e&&1===r}},{key:"createToolInternal",value:function(t){return new e.vzome.core.tools.ProjectionTool(t,this.getToolsModel())}},{key:"bindParameters",value:function(e){return!0}}]),r}();t.Factory=n,n.__class="com.vzome.core.tools.ProjectionTool.Factory",n.__interfaces=["com.vzome.core.editor.SelectionSummary.Listener","com.vzome.api.Tool.Factory"]}(n=t.ProjectionTool||(t.ProjectionTool={}))})((n=t.core||(t.core={})).tools||(n.tools={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.tools.TransformationTool);var n=_createSuper(r);function r(e,t){var i;return _classCallCheck(this,r),void 0===(i=n.call(this,e,t)).symmSys&&(i.symmSys=null),i.symmSys=t.getEditorModel().getSymmetrySystem$(),i}return _createClass(r,[{key:"checkSelection",value:function(t){var n,r,i=null,o=null,a=null;if(n=this.getId(),r="mirror.builtin/reflection through XY plane",n&&n.equals?n.equals(r):n===r){i=this.originPoint,this.addParameter(i);var s=this.originPoint.getField(),l=s.basisVector(3,e.vzome.core.algebra.AlgebraicVector.Z).scale(s.createPower$int(e.vzome.core.math.symmetry.Direction.USER_SCALE)),u=new e.vzome.core.construction.FreePoint(l);o=new e.vzome.core.construction.SegmentJoiningPoints(i,u),this.addParameter(o)}else if(function(e,t){return e&&e.equals?e.equals(t):e===t}(this.getId(),"mirror.builtin/reflection through red plane")){i=this.originPoint,this.addParameter(i);var c=this.symmSys.getSymmetry().getSpecialOrbit(e.vzome.core.math.symmetry.Symmetry.SpecialOrbit.RED).getAxis$int$int(e.vzome.core.math.symmetry.Symmetry.PLUS,0).normal(),f=new e.vzome.core.construction.FreePoint(c);o=new e.vzome.core.construction.SegmentJoiningPoints(i,f),this.addParameter(o)}else if(this.isAutomatic()){i=this.originPoint;var h=this.originPoint.getField().basisVector(3,e.vzome.core.algebra.AlgebraicVector.X),d=new e.vzome.core.construction.FreePoint(h);o=new e.vzome.core.construction.SegmentJoiningPoints(i,d)}else for(var p=this.mSelection.iterator();p.hasNext();){var m=p.next();if(t&&this.unselect$com_vzome_core_model_Manifestation(m),null!=m&&(null!=m.__interfaces&&m.__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=m.constructor&&null!=m.constructor.__interfaces&&m.constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0)){if(null!=i){if(t)break;return"Only one center ball may be selected"}i=m.getFirstConstruction()}else if(null!=m&&(null!=m.__interfaces&&m.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=m.constructor&&null!=m.constructor.__interfaces&&m.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0)){if(null!=o){if(t)break;return"Only one mirror axis strut may be selected"}o=m.getFirstConstruction()}else if(null!=m&&(null!=m.__interfaces&&m.__interfaces.indexOf("com.vzome.core.model.Panel")>=0||null!=m.constructor&&null!=m.constructor.__interfaces&&m.constructor.__interfaces.indexOf("com.vzome.core.model.Panel")>=0)){if(null!=a){if(t)break;return"Only one mirror panel may be selected"}a=m.getFirstConstruction()}}if(null==i)if(t)i=this.originPoint;else if(null==a)return"No symmetry center selected";var v=null;if(null!=o&&null!=i&&null==a)t&&(v=new e.vzome.core.construction.PlaneFromNormalSegment(i,o));else{if(null!=o||null==a){var g="mirror tool requires a single panel,\nor a single strut and a single center ball";if(t)throw new java.lang.IllegalStateException("Failed to prepare tool: "+g);return g}if(t)v=new e.vzome.core.construction.PlaneExtensionOfPolygon(a);else if(null!=i)return"mirror tool requires a single panel,\nor a single strut and a single center ball"}return t&&(this.transforms=[null],this.transforms[0]=new e.vzome.core.construction.PlaneReflection(v)),null}},{key:"getXmlElementName",value:function(){return"MirrorTool"}},{key:"getCategory",value:function(){return r.ID}}]),r}();n.ID="mirror",n.LABEL="Create a mirror reflection tool",n.TOOLTIP="<p>Each tool duplicates the selection by reflecting<br>each object in a mirror plane.  To create a<br>tool, define the mirror plane by selecting a single<br>panel, or by selecting a strut orthogonal to the<br>plane and a ball lying in the plane.<br></p>",t.MirrorTool=n,n.__class="com.vzome.core.tools.MirrorTool",n.__interfaces=["com.vzome.api.Tool"],function(t){var n=function(t){_inherits(r,e.vzome.core.editor.AbstractToolFactory);var n=_createSuper(r);function r(t){return _classCallCheck(this,r),n.call(this,t,null,e.vzome.core.tools.MirrorTool.ID,e.vzome.core.tools.MirrorTool.LABEL,e.vzome.core.tools.MirrorTool.TOOLTIP)}return _createClass(r,[{key:"countsAreValid",value:function(e,t,n,r){return 2===e&&1===t&&1===n||1===e&&1===r}},{key:"createToolInternal",value:function(t){return new e.vzome.core.tools.MirrorTool(t,this.getToolsModel())}},{key:"bindParameters",value:function(e){return!0}}]),r}();t.Factory=n,n.__class="com.vzome.core.tools.MirrorTool.Factory",n.__interfaces=["com.vzome.core.editor.SelectionSummary.Listener","com.vzome.api.Tool.Factory"]}(n=t.MirrorTool||(t.MirrorTool={}))})((n=t.core||(t.core={})).tools||(n.tools={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.tools.TransformationTool);var n=_createSuper(r);function r(e,t){var i;return _classCallCheck(this,r),(i=n.call(this,e,t)).setInputBehaviors(!1,!0),i}return _createClass(r,[{key:"checkSelection",value:function(t){var n=null,r=null,i=!0;if(!this.isAutomatic())for(var o=this.mSelection.iterator();o.hasNext();){var a=o.next();if(t&&this.unselect$com_vzome_core_model_Manifestation(a),null!=a&&(null!=a.__interfaces&&a.__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=a.constructor&&null!=a.constructor.__interfaces&&a.constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0)){if(null!=r){i=!1;break}null==n?n=a.getFirstConstruction():r=a.getFirstConstruction()}else if(!t)return"Only balls can be selected for this tool."}if(null==n)if(this.isAutomatic()||this.isPredefined()){n=this.originPoint,this.addParameter(n);var s=this.originPoint.getField(),l=s.basisVector(3,e.vzome.core.algebra.AlgebraicVector.X),u=s.createPower$int(3);u=u.times$com_vzome_core_algebra_AlgebraicNumber(s.createRational$long(2)),l=l.scale(u),r=new e.vzome.core.construction.FreePoint(l),this.addParameter(r)}else i=!1;else null==r&&(t?(r=n,n=this.originPoint):i=!1);return i?(t&&(this.transforms=[null],this.transforms[0]=new e.vzome.core.construction.PointToPointTranslation(n,r)),null):"translation tool requires start and end points, or just an end point"}},{key:"getXmlElementName",value:function(){return"TranslationTool"}},{key:"getCategory",value:function(){return r.ID}}]),r}();n.ID="translation",n.LABEL="Create a translation tool",n.TOOLTIP='<p>Each tool moves the selected objects to a new location.<br>To create a tool, select two balls that are separated by<br>your desired translation offset.  Order of selection<br>matters: the first ball selected is the "from" location,<br>and the second is the "to" location.<br><br>By default, the input selection will be moved to the new<br>location.  If you want to copy rather than move, you can<br>right-click after creating the tool, to configure it.<br></p>',t.TranslationTool=n,n.__class="com.vzome.core.tools.TranslationTool",n.__interfaces=["com.vzome.api.Tool"],function(t){var n=function(t){_inherits(r,e.vzome.core.editor.AbstractToolFactory);var n=_createSuper(r);function r(t){return _classCallCheck(this,r),n.call(this,t,null,e.vzome.core.tools.TranslationTool.ID,e.vzome.core.tools.TranslationTool.LABEL,e.vzome.core.tools.TranslationTool.TOOLTIP)}return _createClass(r,[{key:"countsAreValid",value:function(e,t,n,r){return 2===e&&2===t}},{key:"createToolInternal",value:function(t){return new e.vzome.core.tools.TranslationTool(t,this.getToolsModel())}},{key:"bindParameters",value:function(e){return!0}}]),r}();t.Factory=n,n.__class="com.vzome.core.tools.TranslationTool.Factory",n.__interfaces=["com.vzome.core.editor.SelectionSummary.Listener","com.vzome.api.Tool.Factory"]}(n=t.TranslationTool||(t.TranslationTool={}))})((n=t.core||(t.core={})).tools||(n.tools={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.tools.SymmetryTool);var n=_createSuper(r);function r(t,i,o,a){var s;if(_classCallCheck(this,r),"string"!==typeof t&&null!==t||!(null!=i&&(null!=i.__interfaces&&i.__interfaces.indexOf("com.vzome.core.math.symmetry.Symmetry")>=0||null!=i.constructor&&null!=i.constructor.__interfaces&&i.constructor.__interfaces.indexOf("com.vzome.core.math.symmetry.Symmetry")>=0)||null===i)||!(null!=o&&o instanceof e.vzome.core.editor.ToolsModel||null===o)||"boolean"!==typeof a&&null!==a){if("string"!==typeof t&&null!==t||!(null!=i&&(null!=i.__interfaces&&i.__interfaces.indexOf("com.vzome.core.math.symmetry.Symmetry")>=0||null!=i.constructor&&null!=i.constructor.__interfaces&&i.constructor.__interfaces.indexOf("com.vzome.core.math.symmetry.Symmetry")>=0)||null===i)||!(null!=o&&o instanceof e.vzome.core.editor.ToolsModel||null===o)||void 0!==a)throw new Error("invalid overload");var l=arguments[2];void 0===(s=n.call(this,t,i,l)).fullRotation&&(s.fullRotation=!1),void 0===s.corrected&&(s.corrected=!1),void 0===s.fullRotation&&(s.fullRotation=!1),void 0===s.corrected&&(s.corrected=!1),s.fullRotation=!1,s.corrected=!0,s.setInputBehaviors(!1,!0),s.corrected=!1}else void 0===(s=n.call(this,t,i,o)).fullRotation&&(s.fullRotation=!1),void 0===s.corrected&&(s.corrected=!1),void 0===s.fullRotation&&(s.fullRotation=!1),void 0===s.corrected&&(s.corrected=!1),s.fullRotation=a,s.corrected=!0,a?s.setInputBehaviors(!0,!1):s.setInputBehaviors(!1,!0);return _possibleConstructorReturn(s)}return _createClass(r,[{key:"getCategory",value:function(){return this.fullRotation?"axial symmetry":r.__com_vzome_core_tools_RotationTool_ID}},{key:"checkSelection",value:function(t){for(var n=null,r=null,i=!0,o=this.mSelection.iterator();o.hasNext();){var a=o.next();if(t&&this.unselect$com_vzome_core_model_Manifestation(a),null!=a&&(null!=a.__interfaces&&a.__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=a.constructor&&null!=a.constructor.__interfaces&&a.constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0)){if(null!=n){i=!1;break}n=a.getFirstConstruction()}else if(null!=a&&(null!=a.__interfaces&&a.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=a.constructor&&null!=a.constructor.__interfaces&&a.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0)){if(null!=r){i=!1;break}r=a.getFirstConstruction()}}if(null==r){var s=this.symmetry.getPreferredAxis();if(null!=s){var l=this.symmetry.getField();n=this.originPoint,this.addParameter(n),r=new e.vzome.core.construction.AnchoredSegment(s,l.one(),n),this.addParameter(r)}else if(this.isPredefined()){n=this.originPoint,this.addParameter(n);var u=this.symmetry.getSpecialOrbit(e.vzome.core.math.symmetry.Symmetry.SpecialOrbit.RED),c=this.symmetry.getField(),f=u.getUnitLength().times$com_vzome_core_algebra_AlgebraicNumber(c.createPower$int(e.vzome.core.math.symmetry.Direction.USER_SCALE));r=new e.vzome.core.construction.AnchoredSegment(u.getAxis$int$int(e.vzome.core.math.symmetry.Symmetry.PLUS,1),f,n),this.addParameter(r)}else if(this.isAutomatic()){n=this.originPoint,this.addParameter(n);var h=this.symmetry.getField(),d=h.basisVector(3,e.vzome.core.algebra.AlgebraicVector.Z),p=h.createPower$int(2);r=new e.vzome.core.construction.AnchoredSegment(this.symmetry.getAxis$com_vzome_core_algebra_AlgebraicVector(d),p,n),this.addParameter(r)}else i=!1}else null==n&&(n=new e.vzome.core.construction.SegmentEndPoint(r));if(!i)return"rotation tool requires a single axis strut,\nand optionally a separate center point";var m=r.getOffset();m=r.getField().projectTo3d(m,!0);var v=this.symmetry.getAxis$com_vzome_core_algebra_AlgebraicVector(m);if(null==v)return"selected strut is not an axis of rotation";var g=v.getRotationPermutation();if(null==g)return"selected strut is not an axis of rotation";var y=this.corrected?g.mapIndex(0):v.getRotation();if(t)if(this.fullRotation){var _=g.getOrder();this.transforms=function(e){for(var t=[];e-- >0;)t.push(null);return t}(_-1);for(var b=0;b<this.transforms.length;b++)this.transforms[b]=new e.vzome.core.construction.SymmetryTransformation(this.symmetry,y,n),y=g.mapIndex(y)}else this.transforms=[null],this.transforms[0]=new e.vzome.core.construction.SymmetryTransformation(this.symmetry,y,n);return null}},{key:"getXmlElementName",value:function(){return"RotationTool"}},{key:"getXmlAttributes",value:function(e){this.fullRotation&&e.setAttribute("full","true"),this.corrected&&e.setAttribute("corrected","true"),_get(_getPrototypeOf(r.prototype),"getXmlAttributes",this).call(this,e)}},{key:"setXmlAttributes",value:function(e,t){var n,i,o=e.getAttribute("full");this.fullRotation=null!=o&&(i=o,(n="true").equals?n.equals(i):n===i),o=e.getAttribute("corrected"),this.corrected=null!=o&&function(e,t){return e.equals?e.equals(t):e===t}("true",o),_get(_getPrototypeOf(r.prototype),"setXmlAttributes",this).call(this,e,t)}}]),r}();n.__com_vzome_core_tools_RotationTool_ID="rotation",n.__com_vzome_core_tools_RotationTool_LABEL="Create a rotation tool",n.__com_vzome_core_tools_RotationTool_TOOLTIP="<p>Each tool rotates the selected objects around an axis<br>of symmetry.  To create a tool, select a strut that<br>defines that axis.  You can also define the direction<br>and center independently, by selecting a ball for the<br>center and a strut for the axis.  Note: not all struts<br>correspond to rotational symmetries!<br><br>The direction of rotation depends on the strut<br>orientation, which is hard to discover, but easy to<br>control, by dragging out a new strut.<br><br>By default, the input selection will be moved to the new,<br>rotated orientation.  After creating a tool, you can<br>right-click to configure the tool to create a copy, instead.<br></p>",t.RotationTool=n,n.__class="com.vzome.core.tools.RotationTool",n.__interfaces=["com.vzome.api.Tool"],function(t){var n=function(t){_inherits(r,e.vzome.core.editor.AbstractToolFactory);var n=_createSuper(r);function r(t,i){var o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.vzome.core.tools.RotationTool.__com_vzome_core_tools_RotationTool_ID,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.vzome.core.tools.RotationTool.__com_vzome_core_tools_RotationTool_LABEL,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.vzome.core.tools.RotationTool.__com_vzome_core_tools_RotationTool_TOOLTIP;return _classCallCheck(this,r),void 0===(o=n.call(this,t,i,a,s,l)).noStrut&&(o.noStrut=!1),o}return _createClass(r,[{key:"countsAreValid",value:function(e,t,n,r){return 1===e&&1===t?(this.noStrut=!0,!0):(1===e&&1===n||2===e&&1===t&&1===n)&&(this.noStrut=!1,!0)}},{key:"createToolInternal",value:function(t){return new e.vzome.core.tools.RotationTool(t,this.getSymmetry(),this.getToolsModel(),!1)}},{key:"bindParameters",value:function(e){for(var t=this.getSymmetry(),n=e.iterator();n.hasNext();){var r=n.next();if(null!=r&&(null!=r.__interfaces&&r.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=r.constructor&&null!=r.constructor.__interfaces&&r.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0)){var i=r.getOffset();i=t.getField().projectTo3d(i,!0);var o=t.getAxis$com_vzome_core_algebra_AlgebraicVector(i);if(null==o)return!1;if(null==o.getRotationPermutation())return!1}else if(this.noStrut&&null==t.getPreferredAxis())return!1}return!0}}]),r}();t.__com_vzome_core_tools_RotationTool_Factory=n,n.__class="com.vzome.core.tools.RotationTool.Factory",n.__interfaces=["com.vzome.core.editor.SelectionSummary.Listener","com.vzome.api.Tool.Factory"]}(n=t.RotationTool||(t.RotationTool={}))})((n=t.core||(t.core={})).tools||(n.tools={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.tools.SymmetryTool);var n=_createSuper(r);function r(e,t,i){var o;return _classCallCheck(this,r),void 0===(o=n.call(this,e,t,i)).scaleFactor&&(o.scaleFactor=null),o.scaleFactor=null,o.setInputBehaviors(!1,!0),o}return _createClass(r,[{key:"getCategory",value:function(){return r.__com_vzome_core_tools_ScalingTool_ID}},{key:"setScaleFactor",value:function(e){this.scaleFactor=e}},{key:"checkSelection",value:function(t){if(null!=this.scaleFactor){var n=this.scaleFactor.getField();this.transforms=[null];var r=n.basisVector(3,e.vzome.core.algebra.AlgebraicVector.X).scale(this.scaleFactor),i=n.basisVector(3,e.vzome.core.algebra.AlgebraicVector.Y).scale(this.scaleFactor),o=n.basisVector(3,e.vzome.core.algebra.AlgebraicVector.Z).scale(this.scaleFactor),a=new e.vzome.core.construction.FreePoint(n.basisVector(3,e.vzome.core.algebra.AlgebraicVector.X).scale(n.createPower$int(4))),s=new e.vzome.core.construction.FreePoint(i.scale(n.createPower$int(4)));this.addParameter(this.originPoint),this.addParameter(new e.vzome.core.construction.SegmentJoiningPoints(this.originPoint,a)),this.addParameter(new e.vzome.core.construction.SegmentJoiningPoints(this.originPoint,s));var l=new e.vzome.core.algebra.AlgebraicMatrix(r,i,o);return this.transforms[0]=new e.vzome.core.construction.MatrixTransformation(l,this.originPoint.getLocation()),null}for(var u=null,c=null,f=null,h=!0,d=!1,p=this.mSelection.iterator();p.hasNext();){var m=p.next();if(t&&this.unselect$com_vzome_core_model_Manifestation(m),null!=m&&(null!=m.__interfaces&&m.__interfaces.indexOf("com.vzome.core.model.Connector")>=0||null!=m.constructor&&null!=m.constructor.__interfaces&&m.constructor.__interfaces.indexOf("com.vzome.core.model.Connector")>=0)){if(null!=f){h=!1;break}f=m.getFirstConstruction()}else if(null!=m&&(null!=m.__interfaces&&m.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=m.constructor&&null!=m.constructor.__interfaces&&m.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0)){if(null!=c){h=!1;break}null==u?u=m.getFirstConstruction():c=m.getFirstConstruction()}else null!=m&&(null!=m.__interfaces&&m.__interfaces.indexOf("com.vzome.core.model.Panel")>=0||null!=m.constructor&&null!=m.constructor.__interfaces&&m.constructor.__interfaces.indexOf("com.vzome.core.model.Panel")>=0)&&(d=!0)}if(null==f){if(!t)return"No symmetry center selected";f=this.originPoint}if(h=h&&null!=c,!t&&d&&(h=!1),!h)return"scaling tool requires before and after struts, and a single center";var v=this.symmetry.getAxis$com_vzome_core_algebra_AlgebraicVector(u.getOffset()),g=this.symmetry.getAxis$com_vzome_core_algebra_AlgebraicVector(c.getOffset());return null==v||null==g?"struts cannot be automatic":v.getDirection()!==g.getDirection()?"before and after struts must be from the same orbit":(t&&(this.transforms=[null],this.transforms[0]=new e.vzome.core.construction.Scaling(u,c,f,this.symmetry)),null)}},{key:"getXmlElementName",value:function(){return"ScalingTool"}},{key:"setXmlAttributes",value:function(e,t){var n=e.getAttribute("symmetry");null!=n&&0!==n.length||(e.setAttribute("symmetry","icosahedral"),SideEffects.logBugAccommodation("scaling tool serialized with no symmetry; assuming icosahedral")),_get(_getPrototypeOf(r.prototype),"setXmlAttributes",this).call(this,e,t)}}]),r}();n.__com_vzome_core_tools_ScalingTool_ID="scaling",n.__com_vzome_core_tools_ScalingTool_LABEL="Create a scaling tool",n.__com_vzome_core_tools_ScalingTool_TOOLTIP="<p>Each tool enlarges or shrinks the selected objects,<br>relative to a central point.  To create a tool,<br>select a ball representing the central point, and<br>two struts from the same orbit (color) with different<br>sizes.<br><br>The selection order matters.  First select a strut<br>that you want to enlarge or shrink, then select a<br>strut that has the desired target size.<br></p>",t.ScalingTool=n,n.__class="com.vzome.core.tools.ScalingTool",n.__interfaces=["com.vzome.api.Tool"],function(t){var n=function(t){_inherits(r,e.vzome.core.editor.AbstractToolFactory);var n=_createSuper(r);function r(t,i){return _classCallCheck(this,r),n.call(this,t,i,e.vzome.core.tools.ScalingTool.__com_vzome_core_tools_ScalingTool_ID,e.vzome.core.tools.ScalingTool.__com_vzome_core_tools_ScalingTool_LABEL,e.vzome.core.tools.ScalingTool.__com_vzome_core_tools_ScalingTool_TOOLTIP)}return _createClass(r,[{key:"countsAreValid",value:function(e,t,n,r){return 3===e&&1===t&&2===n}},{key:"createToolInternal",value:function(t){var n=new e.vzome.core.tools.ScalingTool(t,this.getSymmetry(),this.getToolsModel()),r=0;switch(t){case"scaling.builtin/scale up":r=1;break;case"scaling.builtin/scale down":r=-1;break;default:return n}var i=this.getToolsModel().getEditorModel().getRealizedModel().getField();return n.setScaleFactor(i.createPower$int(r)),n}},{key:"bindParameters",value:function(e){for(var t=this.getSymmetry(),n=null,r=null,i=e.iterator();i.hasNext();){var o=i.next();if(null!=o&&(null!=o.__interfaces&&o.__interfaces.indexOf("com.vzome.core.model.Strut")>=0||null!=o.constructor&&null!=o.constructor.__interfaces&&o.constructor.__interfaces.indexOf("com.vzome.core.model.Strut")>=0)){var a=o;null==n?n=a.getOffset():r=a.getOffset()}}var s=t.getAxis$com_vzome_core_algebra_AlgebraicVector(n),l=t.getAxis$com_vzome_core_algebra_AlgebraicVector(r);if(null==s||null==l)return!1;var u=s.getDirection();if(u!==l.getDirection())return!1;if(u.isAutomatic())return!1;var c,f,h=s.getLength(n),d=l.getLength(r);return f=d,(c=h)&&c.equals?!c.equals(f):c!==f}}]),r}();t.__com_vzome_core_tools_ScalingTool_Factory=n,n.__class="com.vzome.core.tools.ScalingTool.Factory",n.__interfaces=["com.vzome.core.editor.SelectionSummary.Listener","com.vzome.api.Tool.Factory"]}(n=t.ScalingTool||(t.ScalingTool={}))})((n=t.core||(t.core={})).tools||(n.tools={}))}(e.vzome||(e.vzome={}))}(com||(com={})),function(e){!function(t){var n;(function(t){var n=function(t){_inherits(r,e.vzome.core.tools.RotationTool.__com_vzome_core_tools_RotationTool_Factory);var n=_createSuper(r);function r(e,t){return _classCallCheck(this,r),n.call(this,e,t,r.ID,r.LABEL,r.TOOLTIP)}return _createClass(r,[{key:"createToolInternal",value:function(t){return new e.vzome.core.tools.RotationTool(t,this.getSymmetry(),this.getToolsModel(),!0)}}]),r}();n.ID="axial symmetry",n.LABEL="Create a rotational symmetry tool",n.TOOLTIP="<p>Each tool creates enough copies of the selected objects to<br>create rotational symmetry around an axis.  To create a tool,<br>select a strut that defines that axis,  You can also define<br>the direction and center independently, by selecting a ball<br>for the center and a strut for the axis.  Note: not all struts<br>correspond to rotational symmetries!<br><br>Combine with a point reflection or mirror reflection tool to<br>achieve more symmetries.<br></p>",t.AxialSymmetryToolFactory=n,n.__class="com.vzome.core.tools.AxialSymmetryToolFactory",n.__interfaces=["com.vzome.core.editor.SelectionSummary.Listener","com.vzome.api.Tool.Factory"]})((n=t.core||(t.core={})).tools||(n.tools={}))}(e.vzome||(e.vzome={}))}(com||(com={}));try{com.vzome.core.editor.CommandEdit.loadAndPerformLgger_$LI$(),com.vzome.core.editor.CommandEdit.logger_$LI$(),com.vzome.core.commands.CommandTetrahedralSymmetry.ATTR_SIGNATURE_$LI$(),com.vzome.core.commands.CommandQuaternionSymmetry.LEFT_SYMMETRY_GROUP_ATTR_NAME_$LI$(),com.vzome.core.commands.CommandUniformH4Polytope.logger_$LI$(),com.vzome.core.editor.api.ChangeSelection.logger_$LI$(),com.vzome.core.commands.CommandCentroid.ATTR_SIGNATURE_$LI$(),com.vzome.core.commands.CommandCentroid.PARAM_SIGNATURE_$LI$(),com.vzome.core.commands.CommandPolygon.ATTR_SIGNATURE_$LI$(),com.vzome.core.commands.CommandPolygon.PARAM_SIGNATURE_$LI$(),com.vzome.core.commands.CommandTauDivision.ATTR_SIGNATURE_$LI$(),com.vzome.core.commands.CommandTauDivision.PARAM_SIGNATURE_$LI$(),com.vzome.core.commands.CommandBuildAnchoredSegment.PARAM_SIGNATURE_$LI$(),com.vzome.core.commands.CommandTransform.GROUP_ATTR_SIGNATURE_$LI$(),com.vzome.core.commands.CommandTransform.AXIS_ATTR_SIGNATURE_$LI$(),com.vzome.core.commands.CommandTransform.ATTR_SIGNATURE_$LI$(),com.vzome.core.commands.CommandTransform.PARAM_SIGNATURE_$LI$(),com.vzome.core.commands.CommandJoinPoints.ATTR_SIGNATURE_$LI$(),com.vzome.core.commands.CommandJoinPoints.PARAM_SIGNATURE_$LI$(),com.vzome.core.commands.CommandMidpoint.ATTR_SIGNATURE_$LI$(),com.vzome.core.commands.CommandMidpoint.PARAM_SIGNATURE_$LI$(),com.vzome.core.commands.CommandObliquePentagon.ATTR_SIGNATURE_$LI$(),com.vzome.core.commands.CommandObliquePentagon.PARAM_SIGNATURE_$LI$(),com.vzome.core.commands.CommandLinePlaneIntersect.ATTR_SIGNATURE_$LI$(),com.vzome.core.commands.CommandLinePlaneIntersect.PARAM_SIGNATURE_$LI$(),com.vzome.core.construction.SegmentRotated4D.logger_$LI$(),com.vzome.core.commands.CommandImportVEFData.logger_$LI$(),com.vzome.core.commands.CommandImportVEFData.ATTR_SIGNATURE_$LI$(),com.vzome.core.commands.CommandImportVEFData.PARAM_SIGNATURE_$LI$(),com.vzome.core.math.RealVector.DIRECTION_0_$LI$(),com.vzome.core.math.RealVector.FORMAT_$LI$(),com.vzome.core.math.RealVector.ORIGIN_$LI$(),com.vzome.core.math.RealVector.__static_initialize(),com.vzome.core.commands.CommandLoad.ATTR_SIGNATURE_$LI$(),com.vzome.core.commands.CommandLoad.PARAM_SIGNATURE_$LI$(),com.vzome.core.editor.api.SideEffects.BUG_ACCOMMODATION_LOGGER_$LI$(),com.vzome.core.commands.CommandSetColor.PARAM_SIGNATURE_$LI$(),com.vzome.core.commands.CommandHide.ATTR_SIGNATURE_$LI$(),com.vzome.core.commands.CommandHide.PARAM_SIGNATURE_$LI$(),com.vzome.core.commands.CommandFreePoint.PARAMS_$LI$(),com.vzome.core.commands.XmlSymmetryFormat.__com_vzome_core_commands_XmlSymmetryFormat_logger_$LI$(),com.vzome.core.commands.XmlSymmetryFormat.__static_initialize(),com.vzome.core.construction.VefToModel.logger_$LI$(),com.vzome.core.viewing.ExportedVEFShapes.logger_$LI$(),com.vzome.core.viewing.ExportedVEFShapes.INJECTED_$LI$(),com.vzome.xml.ResourceLoader.INJECTED_RESOURCES_$LI$(),com.vzome.core.editor.SymmetrySystem.logger_$LI$(),com.vzome.core.edits.ManifestationColorMappers.colorMappers_$LI$(),com.vzome.core.edits.ManifestationColorMappers.__static_initialize(),com.vzome.core.commands.Command.Failure.logger_$LI$(),com.vzome.core.commands.XmlSaveFormat.NOT_AN_ATTRIBUTE_$LI$(),com.vzome.core.commands.XmlSaveFormat.logger_$LI$(),com.vzome.core.commands.XmlSaveFormat.FORMATS_$LI$(),com.vzome.core.construction.Color.GREY_TRANSPARENT_$LI$(),com.vzome.core.construction.Color.WHITE_$LI$(),com.vzome.core.construction.Color.BLACK_$LI$(),com.vzome.core.math.symmetry.B4Group.B4_PERMS_$LI$(),com.vzome.core.math.symmetry.Direction.logger_$LI$(),com.vzome.core.math.symmetry.DirectionNaming.SIGN_$LI$(),com.vzome.core.math.symmetry.D4Group.D4_PERMS_$LI$(),com.vzome.core.math.symmetry.A4Group.S5_PERMS_$LI$(),com.vzome.core.math.Polyhedron.logger_$LI$(),com.vzome.core.viewing.ExportedVEFStrutGeometry.LOGGER_$LI$(),com.vzome.core.render.RenderedManifestation.logger_$LI$(),com.vzome.core.render.Colors.NO_VECTOR_$LI$(),com.vzome.core.render.Colors.PLANE_$LI$(),com.vzome.core.render.Colors.DIRECTION_$LI$(),com.vzome.core.render.Colors.CONNECTOR_$LI$(),com.vzome.core.render.Colors.HIGHLIGHT_MAC_$LI$(),com.vzome.core.render.Colors.HIGHLIGHT_$LI$(),com.vzome.core.render.Colors.PANEL_$LI$(),com.vzome.core.render.Colors.BACKGROUND_$LI$()}catch(error){console.log(error)}var _this=void 0,fields=_defineProperty({},goldenField.name,goldenField),defaults={"color.red":"175,0,0","color.yellow":"240,160,0","color.blue":"0,118,149","color.green":"0,141,54","color.orange":"220,76,0","color.purple":"108,0,198","color.black":"30,30,30","color.white":"225,225,225","color.olive":"100,113,0","color.lavender":"175,135,255","color.maroon":"117,0,50","color.rose":"255,51,143","color.navy":"0,0,153","color.brown":"107,53,26","color.apple":"116,195,0","color.sand":"154,117,74","color.turquoise":"18,205,148","color.coral":"255,126,106","color.sulfur":"230,245,62","color.cinnamon":"136,37,0","color.spruce":"18,73,48","color.magenta":"255,41,183","color.snubPentagon":"187,57,48","color.snubTriangle":"87,188,48","color.snubDiagonal":"228,225,199","color.snubFaceNormal":"216,216,208","color.snubVertex":"204,204,0","color.slate":"108, 126, 142","color.mauve":"137, 104, 112","color.ivory":"228,225,199","color.panels":"225,225,225","color.background":"175,200,220","color.highlight":"195,195,195","color.highlight.mac ":"153,255,0","color.light.directional.1":"235, 235, 228","color.light.directional.2":"228, 228, 235","color.light.directional.3":"30, 30, 30","color.light.ambient":"41, 41, 41","direction.light.1":"1.0,-1.0,-1.0","direction.light.2":"-1.0,0.0,0.0","direction.light.3":"0.0,0.0,-1.0"},makeQuaternions=function(e){return e.map(function(e){for(var t=[[],[],[]],n=0;n<3;n++)for(var r=0;r<3;r++){var i=e.getElement(n,r);t[n][r]=i.evaluate()}return matrix2quat(t)})},matrix2quat=function(e){var t,n=_slicedToArray(e,3),r=_slicedToArray(n[0],3),i=r[0],o=r[1],a=r[2],s=_slicedToArray(n[1],3),l=s[0],u=s[1],c=s[2],f=_slicedToArray(n[2],3),h=f[0],d=f[1],p=f[2];return(p<0?i>u?[t=1+i-u-p,l+o,a+h,d-c]:[l+o,t=1-i+u-p,d+c,a-h]:i<-u?[a+h,d+c,t=1-i-u+p,l-o]:[d-c,a-h,l-o,t=1+i+u+p]).map(function(e){return.5*e/Math.sqrt(t)})},init=function(){var e=_asyncToGenerator(C_Users_nanma_Documents_GitHub_star_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function e(){var t,n,r,i,o,a,s,l,u,c,f,h,d,p,m,v,g,y,_,b,w,x,A,M;return C_Users_nanma_Documents_GitHub_star_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=com.vzome,n=java.util,r=function(e){_inherits(r,t.core.edits.ImportMesh);var n=_createSuper(r);function r(){return _classCallCheck(this,r),n.apply(this,arguments)}return _createClass(r,[{key:"parseMeshData",value:function(e,n,r){var i=this,o=JSON.parse(this.meshData),a=r.getField(o.field),s=o.vertices.map(function(t){var n=a.createIntegerVectorFromTDs(t);return n.dimension()>3&&(n=i.projection.projectImage(n,!1)),null!=e&&(n=e.plus(n)),n});o.balls.forEach(function(e){var r=s[e.vertex],i=e.color&&t.core.construction.Color.parseWebColor(e.color);n.constructionAdded(new t.core.construction.FreePoint(r),i)}),o.struts.forEach(function(e){var r=new t.core.construction.FreePoint(s[e.vertices[0]]),i=new t.core.construction.FreePoint(s[e.vertices[1]]),o=e.color&&t.core.construction.Color.parseWebColor(e.color);n.constructionAdded(new t.core.construction.SegmentJoiningPoints(r,i),o)}),o.panels.forEach(function(e){var r=[];e.vertices.forEach(function(e){r.push(new t.core.construction.FreePoint(s[e]))});var i=e.color&&t.core.construction.Color.parseWebColor(e.color);n.constructionAdded(new t.core.construction.PolygonFromVertices(r),i)})}}]),r}(),i=function(e){_inherits(r,t.core.edits.ImportMesh);var n=_createSuper(r);function r(){return _classCallCheck(this,r),n.apply(this,arguments)}return _createClass(r,[{key:"parseMeshData",value:function(e,n,r){var i=this,o=JSON.parse(this.meshData),a=r.getField(o.field||"golden"),s=o.vertices.map(function(t){var n=a.createIntegerVectorFromTDs(t);return n.dimension()>3&&(n=i.projection.projectImage(n,!1)),null!=e&&(n=e.plus(n)),n});o.edges.forEach(function(e){var r=new t.core.construction.FreePoint(s[e[0]]),i=new t.core.construction.FreePoint(s[e[1]]);n.constructionAdded(r),n.constructionAdded(i),n.constructionAdded(new t.core.construction.SegmentJoiningPoints(r,i))}),o.faces.forEach(function(e){var r=[];e.forEach(function(e){r.push(new t.core.construction.FreePoint(s[e]))}),n.constructionAdded(new t.core.construction.PolygonFromVertices(r))})}}]),r}(),o=function(e){if("CommandEdit"!==e){return e={setItemColor:"ColorManifestations",BnPolyope:"B4Polytope",DeselectByClass:"AdjustSelectionByClass",realizeMetaParts:"RealizeMetaParts",SelectSimilarSize:"AdjustSelectionByOrbitLength",zomic:"RunZomicScript",py:"RunPythonScript",apiProxy:"ApiEdit"}[e]||e,t.core.edits[e]||t.core.editor[e]}},a=function(e,n,a){return function(s){e.setAdapter(null);var l=s.getLocalName();if("Snapshot"===l)return null;if("ImportColoredMeshJson"===l)return new r(e);if("ImportSimpleMeshJson"===l)return new i(e);if(a){var u=a.createEdit(l);if(u)return u}var c=s.getAttribute("name");if(c){var f=n.get(l);if(f){var h=f.deserializeTool(c);if(h)return h}}var d=o(l);return d?new d(e):new t.core.editor.CommandEdit(null,e)}},s=function(){var e=_asyncToGenerator(C_Users_nanma_Documents_GitHub_star_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function e(n,r){var i,o;return C_Users_nanma_Documents_GitHub_star_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(r);case 2:if((i=e.sent).ok){e.next=6;break}return console.log("No resource for ".concat(n)),e.abrupt("return");case 6:return e.next=8,i.text();case 8:if("<"!==(o=e.sent)[0]){e.next=11;break}return e.abrupt("return");case 11:t.xml.ResourceLoader.injectResource(n,o),console.log("injected resource ".concat(n));case 13:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),e.next=9,Promise.all(Object.entries(resources).map(function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];return s("com/vzome/core/math/symmetry/".concat(n,".vef"),r)}));case 9:for(l=new JsProperties(defaults),u=new t.core.render.Colors(l),c=new t.jsweet.JsAlgebraicField(goldenField),f={golden:new t.core.kinds.GoldenFieldApplication(c)},h={createEdit:function(){throw new Error("createEdit should never be called")},createLegacyCommand:function(e){var n=t.core.commands[e];if(n)return new n;throw new Error("".concat(e," command is not available yet"))},performAndRecord:function(e){return e.perform()}},d=function(e,r,i){var o=f[e];if(!o)throw new Error('Field "'.concat(e,'" is not supported yet.'));for(var s=o.getField(),l=new t.core.construction.FreePoint(s.origin(3)),c=i&&i.getChildElement("SymmetrySystem"),d=c&&c.getAttribute("name"),p=d&&o.getSymmetryPerspective(d)||o.getDefaultSymmetryPerspective(),m=new t.core.editor.ToolsModel(h,l),v={},g=o.getSymmetryPerspectives().iterator();g.hasNext();){var y=g.next(),_=new t.core.editor.SymmetrySystem(null,y,h,u,!0);v[_.getName()]=_}var b=new t.core.editor.SymmetrySystem(c,p,h,u,!0);if(v[p.getName()]=b,i){var w=i.getChildElement("OtherSymmetries");if(w)for(var x=w.getElementsByTagName("SymmetrySystem"),A=0;A<x.getLength();A++){var M=x.item(A),S=M.getAttribute("name"),C=o.getSymmetryPerspective(S),E=new t.core.editor.SymmetrySystem(M,C,_this,u,!0);v[S]=E}}b.quaternions=makeQuaternions(b.getSymmetry().getMatrices());var I={__interfaces:["com.vzome.core.math.symmetry.OrbitSet.Field"],getGroup:function(e){return v[e].getOrbits()},getQuaternionSet:function(e){return o.getQuaternionSymmetry(e)}},T=new t.jsweet.JsRealizedModel(s),L=new t.jsweet.JsSelection(s),z=new t.jsweet.JsEditorModel(T,L,o,b,v);m.setEditorModel(z);var k=r&&t.core.commands.XmlSymmetryFormat.getFormat(r);k&&k.initialize(s,I,0,"vZome Online",new n.Properties);for(var D=new n.HashMap,O=0,N=Object.values(v);O<N.length;O++){N[O].createToolFactories(m)}o.registerToolFactories(D,m),new t.core.tools.BookmarkTool.Factory(m).createPredefinedTool("ball at origin");var j=i&&i.getChildElement("Tools");j&&m.loadFromXml(j);var P=shaperFactory(t,b);P.shapesName=b.getShapes().getName();return{shaper:P,parseAndPerformEdit:function(e,t){var n=new JavaDomElement(e),r=a(z,D,m)(n);return!!r&&(z.setAdapter(t),r.loadAndPerform(n,k,h),!0)},configureAndPerformEdit:function(e,t,n){var r=a(z,D,m)(new JavaDomElement({localName:e}));r&&(z.setAdapter(n),r.configure(new JsProperties(t)),r.perform())}}},p={},m=0,v=Object.keys(t.core.edits);m<v.length;m++)g=v[m],p[g]=legacyCommandFactory(d,g);return y=f.golden.getDefaultSymmetryPerspective(),(_=new t.core.editor.SymmetrySystem(null,y,h,u,!0)).quaternions=makeQuaternions(_.getSymmetry().getMatrices()),b=shaperFactory(t,_),w=_.getShapes().getName(),x=[[0,0,1],[0,0,1],[1,0,1]],A=t.jsweet.JsAdapter.getZoneGrid(_,x),M=createParser(d),e.next=30,Promise.all(Object.entries(shapes$3).map(function(){var e=_asyncToGenerator(C_Users_nanma_Documents_GitHub_star_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function e(t){var n,r,i;return C_Users_nanma_Documents_GitHub_star_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=_slicedToArray(t,2),r=n[0],i=n[1],e.next=3,Promise.all(Object.entries(i).map(function(e){var t=_slicedToArray(e,2),n=t[0],i=t[1];return s("com/vzome/core/parts/".concat(r,"/").concat(n,".vef"),i)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 30:return e.abrupt("return",{parser:M,shaper:b,shaperName:w,commands:p,gridPoints:A});case 31:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),coreState=init(),embedShape=function(e){var t=e.getVertexList().toArray().map(function(e){var t=e.toRealVector();return{x:t.x,y:t.y,z:t.z}}),n=e.getTriangleFaces().toArray();return{id:e.getGuid().toString(),vertices:t,faces:n}},shaperFactory=function(e,t){return function(n){return function(r){var i=r.id,o=r.vectors,a=t.getSymmetry().getField(),s=new Map;s.set(i,r);var l=new Adapter(s,new Map,new Map),u=e.jsweet.JsManifestation.manifest(o,a,l),c=new e.core.render.RenderedManifestation(u,t);if(c.resetAttributes(!1,!0),c.getShape()){var f=c.getShapeId().toString();n[f]||(n[f]=embedShape(c.getShape()));var h=c.getLocationAV()||a.origin(3),d=t.getSymmetry().embedInR3(h),p=d.x,m=d.y,v=d.z,g=c.getStrutZone();return{id:i,position:[p,m,v],rotation:g&&g>=0&&t.quaternions[g]||[0,0,0,1],color:c.getColor().getRGB(),shapeId:f}}}}},legacyCommandFactory=function(e,t){return function(n){return function(r,i){var o=designs.selectField(i()),a=designs.selectMesh(i()),s=a.shown,l=a.hidden,u=a.selected;s=new Map(s),l=new Map(l),u=new Map(u);var c=new Adapter(s,u,l);e(o.name).configureAndPerformEdit(t,n,c),r({type:WORK_STARTED}),r(meshChanged(s,u,l)),r({type:WORK_FINISHED})}}},assignIds=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":";t.id=n;for(var r=t.firstElementChild,i=0;r;)e(r,"".concat(n).concat(i++,":")),r=r.nextElementSibling;return t},Step={IN:0,OVER:1,OUT:2,DONE:3},parse=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5?arguments[5]:void 0,a=function(){if(!r)return Step.DONE;if("Branch"===r.nodeName){var e=n.clone();return i.push({branch:r,adapter:n}),o&&o(e,r.firstElementChild,i),r=r.firstElementChild,n=e,Step.IN}if(n=n.clone(),t(r,n),r.nextElementSibling)return o&&o(n,r.nextElementSibling),r=r.nextElementSibling,Step.OVER;var a=i.pop();return a?(n=a.adapter.clone(),r=a.branch.nextElementSibling,o&&o(n,r,i),Step.OUT):(o&&o(n,null),Step.DONE)},s=function(){var e=a();switch(e){case Step.IN:return l(),Step.OVER;default:return e}},l=function(){var e;do{e=s()}while(e!==Step.OUT&&e!==Step.DONE);return e};switch(e){case Step.IN:a();break;case Step.OVER:s();break;case Step.OUT:l();break;case Step.DONE:default:!function(){var e;do{e=l()}while(e!==Step.DONE)}()}},parseViewXml=function(e){var t=function(e,t){var n=e.getChildElement(t);return[parseFloat(n.getAttribute("x")),parseFloat(n.getAttribute("y")),parseFloat(n.getAttribute("z"))]},n=e.getChildElement("ViewModel"),r=parseFloat(n.getAttribute("distance")),i=parseFloat(n.getAttribute("near")),o=parseFloat(n.getAttribute("far")),a=t(n,"LookAtPoint"),s=t(n,"UpDirection"),l=t(n,"LookDirection");return{position:a.map(function(e,t){return e-r*l[t]}),lookAt:a,up:s,near:i,far:o}},createParser=function(e){return function(t){var n=name.lastIndexOf(".");n>0&&(name=name.substring(0,n));try{var r=(new DOMParser).parseFromString(t,"application/xml"),i=new JavaDomElement(r.firstElementChild),o=i.getAttribute("xmlns:vzome"),a=i.getAttribute("field"),s=e(a,o,i),l=s.shaper,u=s.parseAndPerformEdit,c=fields[a],f=i.getChildElement("Viewing"),h=f&&parseViewXml(f),d=assignIds(i.getChildElement("EditHistory").nativeElement),p=":".concat(d.getAttribute("editNumber"),":");return{edits:d,camera:h,field:c,parseAndPerformEdit:u,targetEdit:p,shaper:l}}catch(error){return console.log(error),null}}},legacyjava=Object.freeze({__proto__:null,init:init,coreState:coreState,legacyCommandFactory:legacyCommandFactory,Step:Step,parse:parse,parseViewXml:parseViewXml,createParser:createParser}),aspectRatio$1=window.innerWidth/window.innerHeight,convertFOV$1=function(e){return e/aspectRatio$1*180/Math.PI},originShown=function(e){var t=createInstance([e.origin(3)]);return(new Map).set(t.id,t)},fetchModel=function(e,t){var n;return(n=e,fetch(n).catch(function(e){return fetch("https://cors-anywhere.herokuapp.com/"+n)})).then(function(e){if(!e.ok)throw new Error("Network response was not ok");return e.text()}).then(function(e){return t(e)}).catch(function(e){return console.error("There has been a problem with your fetch operation:",e),null})},UrlViewer=function(e){var t=e.url,n=e.lighting,r=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(e.camera),2),i=r[0],o=r[1],a=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),2),s=a[0],l=a[1],u=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),2),c=u[0],f=u[1];return Object(react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function(){function e(){return(e=_asyncToGenerator(C_Users_nanma_Documents_GitHub_star_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function e(){var n,r,i,a,s,u,c,h,d,p;return C_Users_nanma_Documents_GitHub_star_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,coreState;case 2:return n=e.sent,r=n.parser,e.next=6,fetchModel(t,r);case 6:if(e.t0=e.sent,e.t0){e.next=9;break}e.t0={};case 9:if(i=e.t0,a=i.edits,s=i.camera,u=i.field,c=i.parseAndPerformEdit,i.targetEdit,h=i.shaper,a){e.next=18;break}return e.abrupt("return");case 18:o(_objectSpread2(_objectSpread2({},s),{},{fov:convertFOV$1(.75)})),f({shaper:h}),d=new Adapter(originShown(u),new Map,new Map),p=function(e){d=e},parse(Step.DONE,c,d,a.firstElementChild,[],p),l(d);case 24:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[t]),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(DesignCanvas,{lighting:n,camera:i},s&&react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(MeshGeometry,{shown:s.shown,selected:s.selected,resolver:c.shaper}))}},function(e,t){function n(e,t,n){var r,i,o,a,s;function l(){var u=Date.now()-a;u<t&&u>=0?r=setTimeout(l,t-u):(r=null,n||(s=e.apply(o,i),o=i=null))}null==t&&(t=100);var u=function(){o=this,i=arguments,a=Date.now();var u=n&&!r;return r||(r=setTimeout(l,t)),u&&(s=e.apply(o,i),o=i=null),s};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(s=e.apply(o,i),o=i=null,clearTimeout(r),r=null)},u}n.debounce=n,e.exports=n},function(e,t,n){"use strict";var r=n(9),i=n.n(r),o=n(18),a=n(105),s=n(106),l=n(30),u=n(107),c=function(e){return function(){throw e}},f=n(50),h=n(19);n.d(t,"a",function(){return p});var d=new Map;function p(e){Object.defineProperties(this,{_runtime:{value:e},_scope:{value:new Map}})}function m(){return(m=Object(o.a)(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this._scope.get(t)){e.next=3;break}throw new l.a(t+" is not defined");case 3:return n._observer===h.e&&(n._observer=!0,this._runtime._dirty.add(n)),e.next=6,this._runtime._compute();case 6:return e.abrupt("return",n._promise);case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function v(e){return e._name}Object.defineProperties(p.prototype,{_copy:{value:function(e,t,n,r){return r.set(this,e),this._scope.forEach(function(i,o){var a,s=new h.d(i._type,e);if(a=t.get(o))s.import(a.name,a.alias,n);else if(i._definition===u.a){var l=i._inputs[0],c=l._module,f=r.get(c)||c._copy(new p(e._runtime),d,null,r);s.import(l._name,o,f)}else s.define(o,i._inputs.map(v),i._definition)}),e},writable:!0,configurable:!0},_resolve:{value:function(e){var t,n=this._scope.get(e);if(!n)if(n=new h.d(h.b,this),this._runtime._builtin._scope.has(e))n.import(e,this._runtime._builtin);else if("invalidation"===e)n.define(e,f.b);else if("visibility"===e)n.define(e,f.c);else{try{t=this._runtime._global(e)}catch(r){return n.define(e,c(r))}void 0===t?this._scope.set(n._name=e,n):n.define(e,Object(s.a)(t))}return n},writable:!0,configurable:!0},redefine:{value:function(e){var t=this._scope.get(e);if(!t)throw new l.a(e+" is not defined");if(t._type===h.a)throw new l.a(e+" is defined more than once");return t.define.apply(t,arguments)},writable:!0,configurable:!0},define:{value:function(){var e=new h.d(h.c,this);return e.define.apply(e,arguments)},writable:!0,configurable:!0},derive:{value:function(e,t){var n=this,r=new Map;a.a.call(e,function(e){"object"!==typeof e&&(e={name:e+""}),null==e.alias&&(e.alias=e.name),r.set(e.alias,e)});var i=new p(this._runtime);return Promise.resolve().then(function(){return n._copy(i,r,t,new Map)}),i},writable:!0,configurable:!0},import:{value:function(){var e=new h.d(h.c,this);return e.import.apply(e,arguments)},writable:!0,configurable:!0},value:{value:function(e){return m.apply(this,arguments)},writable:!0,configurable:!0},variable:{value:function(e){return new h.d(h.c,this,e)},writable:!0,configurable:!0}})},function(e,t,n){"use strict";e.exports=n(266)},,,,,,,,,,,,,,,,function(e,t,n){var r=n(302);e.exports={Graph:r.Graph,json:n(404),alg:n(405),version:r.version}},function(e,t,n){var r=n(77),i=n(120),o=n(82),a=n(332),s=n(338),l=n(171),u=n(172),c=n(341),f=n(342),h=n(176),d=n(343),p=n(58),m=n(347),v=n(348),g=n(181),y=n(15),_=n(56),b=n(352),w=n(28),x=n(354),A=n(42),M=1,S=2,C=4,E="[object Arguments]",I="[object Function]",T="[object GeneratorFunction]",L="[object Object]",z={};z[E]=z["[object Array]"]=z["[object ArrayBuffer]"]=z["[object DataView]"]=z["[object Boolean]"]=z["[object Date]"]=z["[object Float32Array]"]=z["[object Float64Array]"]=z["[object Int8Array]"]=z["[object Int16Array]"]=z["[object Int32Array]"]=z["[object Map]"]=z["[object Number]"]=z[L]=z["[object RegExp]"]=z["[object Set]"]=z["[object String]"]=z["[object Symbol]"]=z["[object Uint8Array]"]=z["[object Uint8ClampedArray]"]=z["[object Uint16Array]"]=z["[object Uint32Array]"]=!0,z["[object Error]"]=z[I]=z["[object WeakMap]"]=!1,e.exports=function e(t,n,k,D,O,N){var j,P=n&M,R=n&S,$=n&C;if(k&&(j=O?k(t,D,O,N):k(t)),void 0!==j)return j;if(!w(t))return t;var F=y(t);if(F){if(j=m(t),!P)return u(t,j)}else{var K=p(t),U=K==I||K==T;if(_(t))return l(t,P);if(K==L||K==E||U&&!O){if(j=R||U?{}:g(t),!P)return R?f(t,s(j,t)):c(t,a(j,t))}else{if(!z[K])return O?t:{};j=v(t,K,P)}}N||(N=new r);var V=N.get(t);if(V)return V;N.set(t,j),x(t)?t.forEach(function(r){j.add(e(r,n,k,r,t,N))}):b(t)&&t.forEach(function(r,i){j.set(i,e(r,n,k,i,t,N))});var B=$?R?d:h:R?keysIn:A,H=F?void 0:B(t);return i(H||t,function(r,i){H&&(r=t[i=r]),o(j,i,e(r,n,k,i,t,N))}),j}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(45))},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},function(e,t,n){var r=n(47),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},function(e,t,n){var r=n(333),i=n(70),o=n(15),a=n(56),s=n(85),l=n(71),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),c=!n&&i(e),f=!n&&!c&&a(e),h=!n&&!c&&!f&&l(e),d=n||c||f||h,p=d?r(e.length,String):[],m=p.length;for(var v in e)!t&&!u.call(e,v)||d&&("length"==v||f&&("offset"==v||"parent"==v)||h&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m))||p.push(v);return p}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){(function(e){var r=n(33),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(84)(e))},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(125),i=n(88),o=n(124),a=n(174),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=s},function(e,t,n){var r=n(177),i=n(124),o=n(42);e.exports=function(e){return r(e,o,i)}},function(e,t,n){var r=n(125),i=n(15);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},function(e,t,n){var r=n(47)(n(33),"Set");e.exports=r},function(e,t,n){var r=n(33).Uint8Array;e.exports=r},function(e,t,n){var r=n(126);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(182),i=n(88),o=n(87);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},function(e,t,n){var r=n(28),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},function(e,t,n){var r=n(120),i=n(89),o=n(184),a=n(15);e.exports=function(e,t){return(a(e)?r:i)(e,o(t))}},function(e,t,n){var r=n(49);e.exports=function(e){return"function"==typeof e?e:r}},function(e,t,n){var r=n(173),i=n(358),o=n(41),a=n(15);e.exports=function(e,t){return(a(e)?r:i)(e,o(t,3))}},function(e,t,n){var r=n(361),i=n(37);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},function(e,t,n){var r=n(188),i=n(364),o=n(189),a=1,s=2;e.exports=function(e,t,n,l,u,c){var f=n&a,h=e.length,d=t.length;if(h!=d&&!(f&&d>h))return!1;var p=c.get(e);if(p&&c.get(t))return p==t;var m=-1,v=!0,g=n&s?new r:void 0;for(c.set(e,t),c.set(t,e);++m<h;){var y=e[m],_=t[m];if(l)var b=f?l(_,y,m,t,e,c):l(y,_,m,e,t,c);if(void 0!==b){if(b)continue;v=!1;break}if(g){if(!i(t,function(e,t){if(!o(g,t)&&(y===e||u(y,e,n,l,c)))return g.push(t)})){v=!1;break}}else if(y!==_&&!u(y,_,n,l,c)){v=!1;break}}return c.delete(e),c.delete(t),v}},function(e,t,n){var r=n(119),i=n(362),o=n(363);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(28);e.exports=function(e){return e===e&&!r(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},function(e,t,n){var r=n(374);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(375),i=n(194);e.exports=function(e,t){return null!=e&&i(e,t,r)}},function(e,t,n){var r=n(90),i=n(70),o=n(15),a=n(85),s=n(121),l=n(72);e.exports=function(e,t,n){for(var u=-1,c=(t=r(t,e)).length,f=!1;++u<c;){var h=l(t[u]);if(!(f=null!=e&&n(e,h)))break;e=e[h]}return f||++u!=c?f:!!(c=null==e?0:e.length)&&s(c)&&a(h,c)&&(o(e)||i(e))}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t){e.exports=function(e){return void 0===e}},function(e,t,n){var r=n(91),i=n(41),o=n(198),a=n(15);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},function(e,t,n){var r=n(89),i=n(40);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,function(e,r,i){o[++n]=t(e,r,i)}),o}},function(e,t,n){var r=n(380),i=n(89),o=n(41),a=n(381),s=n(15);e.exports=function(e,t,n){var l=s(e)?r:a,u=arguments.length<3;return l(e,o(t,4),n,u,i)}},function(e,t,n){var r=n(391),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),l=Array(s);++a<s;)l[a]=o[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=o[a];return u[t]=n(l),r(e,this,u)}}},function(e,t,n){var r=n(392),i=n(393)(r);e.exports=i},function(e,t){e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},function(e,t,n){var r=n(40),i=n(37);e.exports=function(e){return i(e)&&r(e)}},function(e,t,n){var r=n(402),i=n(42);e.exports=function(e){return null==e?[]:r(e,i(e))}},function(e,t,n){var r=n(27),i=n(206);e.exports=function(e,t,n,r){return function(e,t,n,r){var o,a,s={},l=new i,u=function(e){var t=e.v!==o?e.v:e.w,r=s[t],i=n(e),u=a.distance+i;if(i<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+i);u<r.distance&&(r.distance=u,r.predecessor=o,l.decrease(t,u))};e.nodes().forEach(function(e){var n=e===t?0:Number.POSITIVE_INFINITY;s[e]={distance:n},l.add(e,n)});for(;l.size()>0&&(o=l.removeMin(),(a=s[o]).distance!==Number.POSITIVE_INFINITY);)r(o).forEach(u);return s}(e,String(t),n||o,r||function(t){return e.outEdges(t)})};var o=r.constant(1)},function(e,t,n){var r=n(27);function i(){this._arr=[],this._keyIndices={}}e.exports=i,i.prototype.size=function(){return this._arr.length},i.prototype.keys=function(){return this._arr.map(function(e){return e.key})},i.prototype.has=function(e){return r.has(this._keyIndices,e)},i.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},i.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},i.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!r.has(n,e)){var i=this._arr,o=i.length;return n[e]=o,i.push({key:e,priority:t}),this._decrease(o),!0}return!1},i.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},i.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},i.prototype._heapify=function(e){var t=this._arr,n=2*e,r=n+1,i=e;n<t.length&&(i=t[n].priority<t[i].priority?n:i,r<t.length&&(i=t[r].priority<t[i].priority?r:i),i!==e&&(this._swap(e,i),this._heapify(i)))},i.prototype._decrease=function(e){for(var t,n=this._arr,r=n[e].priority;0!==e&&!(n[t=e>>1].priority<r);)this._swap(e,t),e=t},i.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,i=n[e],o=n[t];n[e]=o,n[t]=i,r[o.key]=e,r[i.key]=t}},function(e,t,n){var r=n(27);e.exports=function(e){var t=0,n=[],i={},o=[];return e.nodes().forEach(function(a){r.has(i,a)||function a(s){var l=i[s]={onStack:!0,lowlink:t,index:t++};if(n.push(s),e.successors(s).forEach(function(e){r.has(i,e)?i[e].onStack&&(l.lowlink=Math.min(l.lowlink,i[e].index)):(a(e),l.lowlink=Math.min(l.lowlink,i[e].lowlink))}),l.lowlink===l.index){var u,c=[];do{u=n.pop(),i[u].onStack=!1,c.push(u)}while(s!==u);o.push(c)}}(a)}),o}},function(e,t,n){var r=n(27);function i(e){var t={},n={},i=[];if(r.each(e.sinks(),function a(s){if(r.has(n,s))throw new o;r.has(t,s)||(n[s]=!0,t[s]=!0,r.each(e.predecessors(s),a),delete n[s],i.push(s))}),r.size(t)!==e.nodeCount())throw new o;return i}function o(){}e.exports=i,i.CycleException=o,o.prototype=new Error},function(e,t,n){var r=n(27);e.exports=function(e,t,n){r.isArray(t)||(t=[t]);var i=(e.isDirected()?e.successors:e.neighbors).bind(e),o=[],a={};return r.each(t,function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);!function e(t,n,i,o,a,s){r.has(o,n)||(o[n]=!0,i||s.push(n),r.each(a(n),function(n){e(t,n,i,o,a,s)}),i&&s.push(n))}(e,t,"post"===n,a,i,o)}),o}},function(e,t,n){var r;try{r=n(414)}catch(i){}r||(r=window.dagre),e.exports=r},function(e,t,n){var r=n(92),i=n(53),o=n(93),a=n(57),s=Object.prototype,l=s.hasOwnProperty,u=r(function(e,t){e=Object(e);var n=-1,r=t.length,u=r>2?t[2]:void 0;for(u&&o(t[0],t[1],u)&&(r=1);++n<r;)for(var c=t[n],f=a(c),h=-1,d=f.length;++h<d;){var p=f[h],m=e[p];(void 0===m||i(m,s[p])&&!l.call(e,p))&&(e[p]=c[p])}return e});e.exports=u},function(e,t,n){var r=n(421),i=1/0,o=1.7976931348623157e308;e.exports=function(e){return e?(e=r(e))===i||e===-i?(e<0?-1:1)*o:e===e?e:0:0===e?e:0}},function(e,t,n){var r=n(135);e.exports=function(e){return null!=e&&e.length?r(e,1):[]}},function(e,t,n){var r=n(83),i=n(53);e.exports=function(e,t,n){(void 0===n||i(e[t],n))&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(48),i=n(88),o=n(37),a="[object Object]",s=Function.prototype,l=Object.prototype,u=s.toString,c=l.hasOwnProperty,f=u.call(Object);e.exports=function(e){if(!o(e)||r(e)!=a)return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==f}},function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t){e.exports=function(e,t){return e<t}},function(e,t,n){var r=n(435),i=n(438)(function(e,t){return null==e?{}:r(e,t)});e.exports=i},function(e,t,n){var r=n(439)();e.exports=r},function(e,t,n){var r=n(192),i=0;e.exports=function(e){var t=++i;return r(e)+t}},function(e,t,n){"use strict";var r=n(14),i=n(34).Graph,o=n(94).slack;function a(e,t){return r.forEach(e.nodes(),function n(i){r.forEach(t.nodeEdges(i),function(r){var a=r.v,s=i===a?r.w:a;e.hasNode(s)||o(t,r)||(e.setNode(s,{}),e.setEdge(i,s,{}),n(s))})}),e.nodeCount()}function s(e,t){return r.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return o(t,n)})}function l(e,t,n){r.forEach(e.nodes(),function(e){t.node(e).rank+=n})}e.exports=function(e){var t,n,r=new i({directed:!1}),u=e.nodes()[0],c=e.nodeCount();r.setNode(u,{});for(;a(r,e)<c;)t=s(r,e),n=r.hasNode(t.v)?o(e,t):-o(e,t),l(r,e,n);return r}},function(e,t){e.exports=function(e,t){return e.intersect(t)}},function(e,t,n){var r=n(137);e.exports=function(e,t,n){return r(e,t,t,n)}},function(e,t,n){var r=n(472);e.exports=function(e,t,n){var i=e.x,o=e.y,a=[],s=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY;t.forEach(function(e){s=Math.min(s,e.x),l=Math.min(l,e.y)});for(var u=i-e.width/2-s,c=o-e.height/2-l,f=0;f<t.length;f++){var h=t[f],d=t[f<t.length-1?f+1:0],p=r(e,n,{x:u+h.x,y:c+h.y},{x:u+d.x,y:c+d.y});p&&a.push(p)}if(!a.length)return console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",e),e;a.length>1&&a.sort(function(e,t){var r=e.x-n.x,i=e.y-n.y,o=Math.sqrt(r*r+i*i),a=t.x-n.x,s=t.y-n.y,l=Math.sqrt(a*a+s*s);return o<l?-1:o===l?0:1});return a[0]}},function(e,t){e.exports=function(e,t){var n,r,i=e.x,o=e.y,a=t.x-i,s=t.y-o,l=e.width/2,u=e.height/2;Math.abs(s)*l>Math.abs(a)*u?(s<0&&(u=-u),n=0===s?0:u*a/s,r=u):(a<0&&(l=-l),n=l,r=0===a?0:l*s/a);return{x:i+n,y:o+r}}},,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(66),i=n.n(r),o=n(74),a=n.n(o),s=n(25),l=n.n(s),u=n(0),c=n.n(u),f=(n(23),{position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"hidden"}),h={zIndex:2,position:"absolute",top:0,bottom:0,transition:"transform .3s ease-out",WebkitTransition:"-webkit-transform .3s ease-out",willChange:"transform",overflowY:"auto"},d={position:"absolute",top:0,left:0,right:0,bottom:0,overflowY:"auto",WebkitOverflowScrolling:"touch",transition:"left .3s ease-out, right .3s ease-out"},p={zIndex:1,position:"fixed",top:0,left:0,right:0,bottom:0,opacity:0,visibility:"hidden",transition:"opacity .3s ease-out, visibility .3s ease-out",backgroundColor:"rgba(0,0,0,.3)"},m={zIndex:1,position:"fixed",top:0,bottom:0},v=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={sidebarWidth:t.defaultSidebarWidth,touchIdentifier:null,touchStartX:null,touchCurrentX:null,dragSupported:!1},n.overlayClicked=n.overlayClicked.bind(l()(l()(n))),n.onTouchStart=n.onTouchStart.bind(l()(l()(n))),n.onTouchMove=n.onTouchMove.bind(l()(l()(n))),n.onTouchEnd=n.onTouchEnd.bind(l()(l()(n))),n.onScroll=n.onScroll.bind(l()(l()(n))),n.saveSidebarRef=n.saveSidebarRef.bind(l()(l()(n))),n}a()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=/iPad|iPhone|iPod/.test(navigator?navigator.userAgent:"");this.setState({dragSupported:"object"===typeof window&&"ontouchstart"in window&&!e}),this.saveSidebarWidth()},n.componentDidUpdate=function(){this.isTouching()||this.saveSidebarWidth()},n.onTouchStart=function(e){if(!this.isTouching()){var t=e.targetTouches[0];this.setState({touchIdentifier:t.identifier,touchStartX:t.clientX,touchCurrentX:t.clientX})}},n.onTouchMove=function(e){if(this.isTouching())for(var t=0;t<e.targetTouches.length;t++)if(e.targetTouches[t].identifier===this.state.touchIdentifier){this.setState({touchCurrentX:e.targetTouches[t].clientX});break}},n.onTouchEnd=function(){if(this.isTouching()){var e=this.touchSidebarWidth();(this.props.open&&e<this.state.sidebarWidth-this.props.dragToggleDistance||!this.props.open&&e>this.props.dragToggleDistance)&&this.props.onSetOpen(!this.props.open),this.setState({touchIdentifier:null,touchStartX:null,touchCurrentX:null})}},n.onScroll=function(){this.isTouching()&&this.inCancelDistanceOnScroll()&&this.setState({touchIdentifier:null,touchStartX:null,touchCurrentX:null})},n.inCancelDistanceOnScroll=function(){return this.props.pullRight?Math.abs(this.state.touchCurrentX-this.state.touchStartX)<20:Math.abs(this.state.touchStartX-this.state.touchCurrentX)<20},n.isTouching=function(){return null!==this.state.touchIdentifier},n.overlayClicked=function(){this.props.open&&this.props.onSetOpen(!1)},n.saveSidebarWidth=function(){var e=this.sidebar.offsetWidth;e!==this.state.sidebarWidth&&this.setState({sidebarWidth:e})},n.saveSidebarRef=function(e){this.sidebar=e},n.touchSidebarWidth=function(){return this.props.pullRight?this.props.open&&window.innerWidth-this.state.touchStartX<this.state.sidebarWidth?this.state.touchCurrentX>this.state.touchStartX?this.state.sidebarWidth+this.state.touchStartX-this.state.touchCurrentX:this.state.sidebarWidth:Math.min(window.innerWidth-this.state.touchCurrentX,this.state.sidebarWidth):this.props.open&&this.state.touchStartX<this.state.sidebarWidth?this.state.touchCurrentX>this.state.touchStartX?this.state.sidebarWidth:this.state.sidebarWidth-this.state.touchStartX+this.state.touchCurrentX:Math.min(this.state.touchCurrentX,this.state.sidebarWidth)},n.render=function(){var e,t=i()({},h,this.props.styles.sidebar),n=i()({},d,this.props.styles.content),r=i()({},p,this.props.styles.overlay),o=this.state.dragSupported&&this.props.touch,a=this.isTouching(),s={className:this.props.rootClassName,style:i()({},f,this.props.styles.root),role:"navigation",id:this.props.rootId},l=this.props.shadow&&(a||this.props.open||this.props.docked);if(this.props.pullRight?(t.right=0,t.transform="translateX(100%)",t.WebkitTransform="translateX(100%)",l&&(t.boxShadow="-2px 2px 4px rgba(0, 0, 0, 0.15)")):(t.left=0,t.transform="translateX(-100%)",t.WebkitTransform="translateX(-100%)",l&&(t.boxShadow="2px 2px 4px rgba(0, 0, 0, 0.15)")),a){var u=this.touchSidebarWidth()/this.state.sidebarWidth;this.props.pullRight?(t.transform="translateX("+100*(1-u)+"%)",t.WebkitTransform="translateX("+100*(1-u)+"%)"):(t.transform="translateX(-"+100*(1-u)+"%)",t.WebkitTransform="translateX(-"+100*(1-u)+"%)"),r.opacity=u,r.visibility="visible"}else this.props.docked?(0!==this.state.sidebarWidth&&(t.transform="translateX(0%)",t.WebkitTransform="translateX(0%)"),this.props.pullRight?n.right=this.state.sidebarWidth+"px":n.left=this.state.sidebarWidth+"px"):this.props.open&&(t.transform="translateX(0%)",t.WebkitTransform="translateX(0%)",r.opacity=1,r.visibility="visible");if(!a&&this.props.transitions||(t.transition="none",t.WebkitTransition="none",n.transition="none",r.transition="none"),o)if(this.props.open)s.onTouchStart=this.onTouchStart,s.onTouchMove=this.onTouchMove,s.onTouchEnd=this.onTouchEnd,s.onTouchCancel=this.onTouchEnd,s.onScroll=this.onScroll;else{var v=i()({},m,this.props.styles.dragHandle);v.width=this.props.touchHandleWidth,this.props.pullRight?v.right=0:v.left=0,e=c.a.createElement("div",{style:v,onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd,onTouchCancel:this.onTouchEnd})}return c.a.createElement("div",s,c.a.createElement("div",{className:this.props.sidebarClassName,style:t,ref:this.saveSidebarRef,id:this.props.sidebarId},this.props.sidebar),c.a.createElement("div",{className:this.props.overlayClassName,style:r,onClick:this.overlayClicked,id:this.props.overlayId}),c.a.createElement("div",{className:this.props.contentClassName,style:n,id:this.props.contentId},e,this.props.children))},t}(u.Component);v.defaultProps={docked:!1,open:!1,transitions:!0,touch:!0,touchHandleWidth:20,pullRight:!1,shadow:!0,dragToggleDistance:30,onSetOpen:function(){},styles:{},defaultSidebarWidth:0},t.a=v},function(e,t,n){"use strict";(function(t){var n="__global_unique_id__";e.exports=function(){return t[n]=(t[n]||0)+1}}).call(this,n(45))},function(e,t,n){"use strict";var r=n(148),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var u=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=c(n);f&&(a=a.concat(f(n)));for(var s=l(t),m=l(n),v=0;v<a.length;++v){var g=a[v];if(!o[g]&&(!r||!r[g])&&(!m||!m[g])&&(!s||!s[g])){var y=h(n,g);try{u(t,g,y)}catch(_){}}}return t}return t}},function(e,t,n){"use strict";function r(e){return e&&"function"===typeof e.next&&"function"===typeof e.return}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(62),i=n(50);function o(e,t,n){if("function"==typeof t&&(n=t,t=null),"function"!==typeof n)throw new Error("invalid observer");null==t&&(t=new r.a);var o=e.modules,a=e.id,s=new Map,l=new i.a(t),u=c(a);function c(e){var t=s.get(e);return t||s.set(e,t=l.module()),t}var f=!0,h=!1,d=void 0;try{for(var p,m=o[Symbol.iterator]();!(f=(p=m.next()).done);f=!0){var v=p.value,g=c(v.id),y=0,_=!0,b=!1,w=void 0;try{for(var x,A=v.variables[Symbol.iterator]();!(_=(x=A.next()).done);_=!0){var M=x.value;M.from?g.import(M.remote,M.name,c(M.from)):g===u?g.variable(n(M,y,v.variables)).define(M.name,M.inputs,M.value):g.define(M.name,M.inputs,M.value),++y}}catch(S){b=!0,w=S}finally{try{_||null==A.return||A.return()}finally{if(b)throw w}}}}catch(S){h=!0,d=S}finally{try{f||null==m.return||m.return()}finally{if(h)throw d}}return l}},function(e,t,n){"use strict";e.exports=n(623)},function(e,t){function n(){}n.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function i(){r.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var o=0,a=r.length;o<a;o++)r[o].fn!==t&&r[o].fn._!==t&&i.push(r[o]);return i.length?n[e]=i:delete n[e],this}},e.exports=n,e.exports.TinyEmitter=n},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e},a=n(627),s=[];e.exports=function(e,t,n){var i,l;void 0===n&&(n=0);try{for(var u=r(s),c=u.next();!c.done;c=u.next()){var f=c.value;if(a(t,f.inputs)){if(Object.prototype.hasOwnProperty.call(f,"error"))throw f.error;if(Object.prototype.hasOwnProperty.call(f,"response"))return f.response;throw f.promise}}}catch(d){i={error:d}}finally{try{c&&!c.done&&(l=u.return)&&l.call(u)}finally{if(i)throw i.error}}var h={promise:e.apply(void 0,o(t)).then(function(e){h.response=e}).catch(function(e){h.error=e}).then(function(){n>0&&setTimeout(function(){var e=s.indexOf(h);-1!==e&&s.splice(e,1)},n)}),inputs:t};throw s.push(h),h.promise}},function(e,t,n){"use strict";(function(e){var r=n(12),i=n(7),o=n(2),a=n(0),s=n(146);function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{debounce:0,scroll:!1},t=e.debounce,n=e.scroll,l=e.polyfill||("undefined"===typeof window?function e(){Object(o.a)(this,e)}:window.ResizeObserver);if(!l)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");var u=Object(a.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),f=Object(i.a)(u,2),h=f[0],d=f[1],p=Object(a.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:h}),m=t?"number"===typeof t?t:t.scroll:null,v=t?"number"===typeof t?t:t.resize:null,g=Object(a.useRef)(!1);Object(a.useEffect)(function(){return g.current=!0,function(){g.current=!1}});var y=Object(a.useMemo)(function(){var e=function(){if(p.current.element){var e=p.current.element.getBoundingClientRect(),t={left:e.left,top:e.top,width:e.width,height:e.height,bottom:e.bottom,right:e.right,x:e.x,y:e.y};Object.freeze(t),g.current&&!c(p.current.lastBounds,t)&&d(p.current.lastBounds=t)}};return[e,v?Object(s.debounce)(e,v):e,m?Object(s.debounce)(e,m):e]},[d,m,v]),_=Object(i.a)(y,3),b=_[0],w=_[1],x=_[2];function A(){p.current.scrollContainers&&(p.current.scrollContainers.forEach(function(e){return e.removeEventListener("scroll",x,!0)}),p.current.scrollContainers=null),p.current.resizeObserver&&(p.current.resizeObserver.disconnect(),p.current.resizeObserver=null)}function M(){p.current.element&&(p.current.resizeObserver=new l(x),p.current.resizeObserver.observe(p.current.element),n&&p.current.scrollContainers&&p.current.scrollContainers.forEach(function(e){return e.addEventListener("scroll",x,{capture:!0,passive:!0})}))}var S,C,E;return S=x,C=Boolean(n),Object(a.useEffect)(function(){if(C){var e=S;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),function(){window.removeEventListener("scroll",e,!0)}}},[S,C]),E=w,Object(a.useEffect)(function(){var e=E;return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[E]),Object(a.useEffect)(function(){A(),M()},[n,x,w]),Object(a.useEffect)(function(){return A},[]),[function(e){e&&e!==p.current.element&&(A(),p.current.element=e,p.current.scrollContainers=function e(t){var n=[];if(!t||t===document.body)return n;var i=window.getComputedStyle(t),o=i.overflow,a=i.overflowX,s=i.overflowY;return[o,a,s].some(function(e){return"auto"===e||"scroll"===e})&&n.push(t),[].concat(n,Object(r.a)(e(t.parentElement)))}(e),M())},h,b]}var u=["x","y","top","bottom","left","right","width","height"],c=function(e,t){return u.every(function(n){return e[n]===t[n]})};Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(e,"exports").writable&&(e.exports=l),t.a=l}).call(this,n(628)(e))},function(e,t,n){(function(t){var n=1/0,r=9007199254740991,i="[object Arguments]",o="[object Function]",a="[object GeneratorFunction]",s="[object Symbol]",l="object"==typeof t&&t&&t.Object===Object&&t,u="object"==typeof self&&self&&self.Object===Object&&self,c=l||u||Function("return this")();function f(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var h=Object.prototype,d=h.hasOwnProperty,p=h.toString,m=c.Symbol,v=h.propertyIsEnumerable,g=m?m.isConcatSpreadable:void 0,y=Math.max;function _(e){return w(e)||function(e){return function(e){return x(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?p.call(e):"";return t==o||t==a}(e)}(e)}(e)&&d.call(e,"callee")&&(!v.call(e,"callee")||p.call(e)==i)}(e)||!!(g&&e&&e[g])}function b(e){if("string"==typeof e||function(e){return"symbol"==typeof e||x(e)&&p.call(e)==s}(e))return e;var t=e+"";return"0"==t&&1/e==-n?"-0":t}var w=Array.isArray;function x(e){return!!e&&"object"==typeof e}var A,M,S=(A=function(e,t){return null==e?{}:function(e,t){return function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=e[a];n(s,a)&&(o[a]=s)}return o}(e=Object(e),t,function(t,n){return n in e})}(e,function(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}(function e(t,n,r,i,o){var a=-1,s=t.length;for(r||(r=_),o||(o=[]);++a<s;){var l=t[a];n>0&&r(l)?n>1?e(l,n-1,r,i,o):f(o,l):i||(o[o.length]=l)}return o}(t,1),b))},M=y(void 0===M?A.length-1:M,0),function(){for(var e=arguments,t=-1,n=y(e.length-M,0),r=Array(n);++t<n;)r[t]=e[M+t];t=-1;for(var i=Array(M+1);++t<M;)i[t]=e[t];return i[M]=r,function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(A,this,i)});e.exports=S}).call(this,n(45))},function(e,t,n){(function(t){var n=200,r="__lodash_hash_undefined__",i=1/0,o=9007199254740991,a="[object Arguments]",s="[object Function]",l="[object GeneratorFunction]",u="[object Symbol]",c=/^\[object .+?Constructor\]$/,f=/^(?:0|[1-9]\d*)$/,h="object"==typeof t&&t&&t.Object===Object&&t,d="object"==typeof self&&self&&self.Object===Object&&self,p=h||d||Function("return this")();function m(e,t){return!!(e?e.length:0)&&function(e,t,n){if(t!==t)return function(e,t,n,r){var i=e.length,o=n+(r?1:-1);for(;r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}(e,_,n);var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,0)>-1}function v(e,t,n){for(var r=-1,i=e?e.length:0;++r<i;)if(n(t,e[r]))return!0;return!1}function g(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function y(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function _(e){return e!==e}function b(e,t){return e.has(t)}function w(e,t){return function(n){return e(t(n))}}var x=Array.prototype,A=Function.prototype,M=Object.prototype,S=p["__core-js_shared__"],C=function(){var e=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),E=A.toString,I=M.hasOwnProperty,T=M.toString,L=RegExp("^"+E.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),z=p.Symbol,k=w(Object.getPrototypeOf,Object),D=M.propertyIsEnumerable,O=x.splice,N=z?z.isConcatSpreadable:void 0,j=Object.getOwnPropertySymbols,P=Math.max,R=Y(p,"Map"),$=Y(Object,"create");function F(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function K(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function U(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function V(e){var t=-1,n=e?e.length:0;for(this.__data__=new U;++t<n;)this.add(e[t])}function B(e,t){var n=re(e)||ne(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,i=!!r;for(var o in e)!t&&!I.call(e,o)||i&&("length"==o||ee(o,r))||n.push(o);return n}function H(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!==n&&r!==r)return i;return-1}function G(e){return!(!ae(e)||(t=e,C&&C in t))&&(oe(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e)?L:c).test(function(e){if(null!=e){try{return E.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e));var t}function Q(e){if(!ae(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||M;return e===n}(e),n=[];for(var r in e)("constructor"!=r||!t&&I.call(e,r))&&n.push(r);return n}function q(e){return function(e,t,n){var r=t(e);return re(e)?r:y(r,n(e))}(e,le,J)}function W(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Y(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return G(n)?n:void 0}F.prototype.clear=function(){this.__data__=$?$(null):{}},F.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},F.prototype.get=function(e){var t=this.__data__;if($){var n=t[e];return n===r?void 0:n}return I.call(t,e)?t[e]:void 0},F.prototype.has=function(e){var t=this.__data__;return $?void 0!==t[e]:I.call(t,e)},F.prototype.set=function(e,t){return this.__data__[e]=$&&void 0===t?r:t,this},K.prototype.clear=function(){this.__data__=[]},K.prototype.delete=function(e){var t=this.__data__,n=H(t,e);return!(n<0)&&(n==t.length-1?t.pop():O.call(t,n,1),!0)},K.prototype.get=function(e){var t=this.__data__,n=H(t,e);return n<0?void 0:t[n][1]},K.prototype.has=function(e){return H(this.__data__,e)>-1},K.prototype.set=function(e,t){var n=this.__data__,r=H(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},U.prototype.clear=function(){this.__data__={hash:new F,map:new(R||K),string:new F}},U.prototype.delete=function(e){return W(this,e).delete(e)},U.prototype.get=function(e){return W(this,e).get(e)},U.prototype.has=function(e){return W(this,e).has(e)},U.prototype.set=function(e,t){return W(this,e).set(e,t),this},V.prototype.add=V.prototype.push=function(e){return this.__data__.set(e,r),this},V.prototype.has=function(e){return this.__data__.has(e)};var X=j?w(j,Object):he,J=j?function(e){for(var t=[];e;)y(t,X(e)),e=k(e);return t}:he;function Z(e){return re(e)||ne(e)||!!(N&&e&&e[N])}function ee(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||f.test(e))&&e>-1&&e%1==0&&e<t}function te(e){if("string"==typeof e||function(e){return"symbol"==typeof e||se(e)&&T.call(e)==u}(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}function ne(e){return function(e){return se(e)&&ie(e)}(e)&&I.call(e,"callee")&&(!D.call(e,"callee")||T.call(e)==a)}var re=Array.isArray;function ie(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}(e.length)&&!oe(e)}function oe(e){var t=ae(e)?T.call(e):"";return t==s||t==l}function ae(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function se(e){return!!e&&"object"==typeof e}function le(e){return ie(e)?B(e,!0):Q(e)}var ue,ce,fe=(ue=function(e,t){return null==e?{}:(t=g(function e(t,n,r,i,o){var a=-1,s=t.length;for(r||(r=Z),o||(o=[]);++a<s;){var l=t[a];n>0&&r(l)?n>1?e(l,n-1,r,i,o):y(o,l):i||(o[o.length]=l)}return o}(t,1),te),function(e,t){return function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=e[a];n(s,a)&&(o[a]=s)}return o}(e=Object(e),t,function(t,n){return n in e})}(e,function(e,t,r,i){var o,a=-1,s=m,l=!0,u=e.length,c=[],f=t.length;if(!u)return c;r&&(t=g(t,(o=r,function(e){return o(e)}))),i?(s=v,l=!1):t.length>=n&&(s=b,l=!1,t=new V(t));e:for(;++a<u;){var h=e[a],d=r?r(h):h;if(h=i||0!==h?h:0,l&&d===d){for(var p=f;p--;)if(t[p]===d)continue e;c.push(h)}else s(t,d,i)||c.push(h)}return c}(q(e),t)))},ce=P(void 0===ce?ue.length-1:ce,0),function(){for(var e=arguments,t=-1,n=P(e.length-ce,0),r=Array(n);++t<n;)r[t]=e[ce+t];t=-1;for(var i=Array(ce+1);++t<ce;)i[t]=e[t];return i[ce]=r,function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(ue,this,i)});function he(){return[]}e.exports=fe}).call(this,n(45))},function(e,t,n){!function(e,t,n,r){"use strict";var i,o=n.defineWorkerModule({name:"Typr Font Parser",dependencies:[function(){var e=self,t={parse:function(e){var n=t._bin,r=new Uint8Array(e);if("ttcf"==n.readASCII(r,0,4)){var i=4;n.readUshort(r,i),i+=2,n.readUshort(r,i),i+=2;var o=n.readUint(r,i);i+=4;for(var a=[],s=0;s<o;s++){var l=n.readUint(r,i);i+=4,a.push(t._readFont(r,l))}return a}return[t._readFont(r,0)]},_readFont:function(e,n){var r=t._bin,i=n;r.readFixed(e,n),n+=4;var o=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2;for(var a=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],s={_data:e,_offset:i},l={},u=0;u<o;u++){var c=r.readASCII(e,n,4);n+=4,r.readUint(e,n),n+=4;var f=r.readUint(e,n);n+=4;var h=r.readUint(e,n);n+=4,l[c]={offset:f,length:h}}for(u=0;u<a.length;u++){var d=a[u];l[d]&&(s[d.trim()]=t[d.trim()].parse(e,l[d].offset,l[d].length,s))}return s},_tabOffset:function(e,n,r){for(var i=t._bin,o=i.readUshort(e,r+4),a=r+12,s=0;s<o;s++){var l=i.readASCII(e,a,4);a+=4,i.readUint(e,a),a+=4;var u=i.readUint(e,a);if(a+=4,i.readUint(e,a),a+=4,l==n)return u}return 0}};return t._bin={readFixed:function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<8|e[t+3])/65540},readF2dot14:function(e,n){return t._bin.readShort(e,n)/16384},readInt:function(e,n){var r=t._bin.t.uint8;return r[0]=e[n+3],r[1]=e[n+2],r[2]=e[n+1],r[3]=e[n],t._bin.t.int32[0]},readInt8:function(e,n){return t._bin.t.uint8[0]=e[n],t._bin.t.int8[0]},readShort:function(e,n){var r=t._bin.t.uint8;return r[1]=e[n],r[0]=e[n+1],t._bin.t.int16[0]},readUshort:function(e,t){return e[t]<<8|e[t+1]},readUshorts:function(e,n,r){for(var i=[],o=0;o<r;o++)i.push(t._bin.readUshort(e,n+2*o));return i},readUint:function(e,n){var r=t._bin.t.uint8;return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t._bin.t.uint32[0]},readUint64:function(e,n){return 4294967296*t._bin.readUint(e,n)+t._bin.readUint(e,n+4)},readASCII:function(e,t,n){for(var r="",i=0;i<n;i++)r+=String.fromCharCode(e[t+i]);return r},readUnicode:function(e,t,n){for(var r="",i=0;i<n;i++){var o=e[t++]<<8|e[t++];r+=String.fromCharCode(o)}return r},_tdec:e.TextDecoder?new e.TextDecoder:null,readUTF8:function(e,n,r){var i=t._bin._tdec;return i&&0==n&&r==e.length?i.decode(e):t._bin.readASCII(e,n,r)},readBytes:function(e,t,n){for(var r=[],i=0;i<n;i++)r.push(e[t+i]);return r},readASCIIArray:function(e,t,n){for(var r=[],i=0;i<n;i++)r.push(String.fromCharCode(e[t+i]));return r}},t._bin.t={buff:new ArrayBuffer(8)},t._bin.t.int8=new Int8Array(t._bin.t.buff),t._bin.t.uint8=new Uint8Array(t._bin.t.buff),t._bin.t.int16=new Int16Array(t._bin.t.buff),t._bin.t.uint16=new Uint16Array(t._bin.t.buff),t._bin.t.int32=new Int32Array(t._bin.t.buff),t._bin.t.uint32=new Uint32Array(t._bin.t.buff),t._lctf={},t._lctf.parse=function(e,n,r,i,o){var a=t._bin,s={},l=n;a.readFixed(e,n),n+=4;var u=a.readUshort(e,n);n+=2;var c=a.readUshort(e,n);n+=2;var f=a.readUshort(e,n);return n+=2,s.scriptList=t._lctf.readScriptList(e,l+u),s.featureList=t._lctf.readFeatureList(e,l+c),s.lookupList=t._lctf.readLookupList(e,l+f,o),s},t._lctf.readLookupList=function(e,n,r){var i=t._bin,o=n,a=[],s=i.readUshort(e,n);n+=2;for(var l=0;l<s;l++){var u=i.readUshort(e,n);n+=2;var c=t._lctf.readLookupTable(e,o+u,r);a.push(c)}return a},t._lctf.readLookupTable=function(e,n,r){var i=t._bin,o=n,a={tabs:[]};a.ltype=i.readUshort(e,n),n+=2,a.flag=i.readUshort(e,n),n+=2;var s=i.readUshort(e,n);n+=2;for(var l=0;l<s;l++){var u=i.readUshort(e,n);n+=2;var c=r(e,a.ltype,o+u);a.tabs.push(c)}return a},t._lctf.numOfOnes=function(e){for(var t=0,n=0;n<32;n++)0!=(e>>>n&1)&&t++;return t},t._lctf.readClassDef=function(e,n){var r=t._bin,i=[],o=r.readUshort(e,n);if(n+=2,1==o){var a=r.readUshort(e,n);n+=2;var s=r.readUshort(e,n);n+=2;for(var l=0;l<s;l++)i.push(a+l),i.push(a+l),i.push(r.readUshort(e,n)),n+=2}if(2==o){var u=r.readUshort(e,n);for(n+=2,l=0;l<u;l++)i.push(r.readUshort(e,n)),n+=2,i.push(r.readUshort(e,n)),n+=2,i.push(r.readUshort(e,n)),n+=2}return i},t._lctf.getInterval=function(e,t){for(var n=0;n<e.length;n+=3){var r=e[n],i=e[n+1];if(e[n+2],r<=t&&t<=i)return n}return-1},t._lctf.readCoverage=function(e,n){var r=t._bin,i={};i.fmt=r.readUshort(e,n),n+=2;var o=r.readUshort(e,n);return n+=2,1==i.fmt&&(i.tab=r.readUshorts(e,n,o)),2==i.fmt&&(i.tab=r.readUshorts(e,n,3*o)),i},t._lctf.coverageIndex=function(e,n){var r=e.tab;if(1==e.fmt)return r.indexOf(n);if(2==e.fmt){var i=t._lctf.getInterval(r,n);if(-1!=i)return r[i+2]+(n-r[i])}return-1},t._lctf.readFeatureList=function(e,n){var r=t._bin,i=n,o=[],a=r.readUshort(e,n);n+=2;for(var s=0;s<a;s++){var l=r.readASCII(e,n,4);n+=4;var u=r.readUshort(e,n);n+=2,o.push({tag:l.trim(),tab:t._lctf.readFeatureTable(e,i+u)})}return o},t._lctf.readFeatureTable=function(e,n){var r=t._bin;r.readUshort(e,n),n+=2;var i=r.readUshort(e,n);n+=2;for(var o=[],a=0;a<i;a++)o.push(r.readUshort(e,n+2*a));return o},t._lctf.readScriptList=function(e,n){var r=t._bin,i=n,o={},a=r.readUshort(e,n);n+=2;for(var s=0;s<a;s++){var l=r.readASCII(e,n,4);n+=4;var u=r.readUshort(e,n);n+=2,o[l.trim()]=t._lctf.readScriptTable(e,i+u)}return o},t._lctf.readScriptTable=function(e,n){var r=t._bin,i=n,o={},a=r.readUshort(e,n);n+=2,o.default=t._lctf.readLangSysTable(e,i+a);var s=r.readUshort(e,n);n+=2;for(var l=0;l<s;l++){var u=r.readASCII(e,n,4);n+=4;var c=r.readUshort(e,n);n+=2,o[u.trim()]=t._lctf.readLangSysTable(e,i+c)}return o},t._lctf.readLangSysTable=function(e,n){var r=t._bin,i={};r.readUshort(e,n),n+=2,i.reqFeature=r.readUshort(e,n),n+=2;var o=r.readUshort(e,n);return n+=2,i.features=r.readUshorts(e,n,o),i},t.CFF={},t.CFF.parse=function(e,n,r){var i=t._bin;(e=new Uint8Array(e.buffer,n,r))[n=0],e[++n],e[++n],e[++n],n++;var o=[];n=t.CFF.readIndex(e,n,o);for(var a=[],s=0;s<o.length-1;s++)a.push(i.readASCII(e,n+o[s],o[s+1]-o[s]));n+=o[o.length-1];var l=[];n=t.CFF.readIndex(e,n,l);var u=[];for(s=0;s<l.length-1;s++)u.push(t.CFF.readDict(e,n+l[s],n+l[s+1]));n+=l[l.length-1];var c=u[0],f=[];n=t.CFF.readIndex(e,n,f);var h=[];for(s=0;s<f.length-1;s++)h.push(i.readASCII(e,n+f[s],f[s+1]-f[s]));if(n+=f[f.length-1],t.CFF.readSubrs(e,n,c),c.CharStrings){n=c.CharStrings,f=[],n=t.CFF.readIndex(e,n,f);var d=[];for(s=0;s<f.length-1;s++)d.push(i.readBytes(e,n+f[s],f[s+1]-f[s]));c.CharStrings=d}if(c.ROS){n=c.FDArray;var p=[];for(n=t.CFF.readIndex(e,n,p),c.FDArray=[],s=0;s<p.length-1;s++){var m=t.CFF.readDict(e,n+p[s],n+p[s+1]);t.CFF._readFDict(e,m,h),c.FDArray.push(m)}n+=p[p.length-1],n=c.FDSelect,c.FDSelect=[];var v=e[n];if(n++,3!=v)throw v;var g=i.readUshort(e,n);for(n+=2,s=0;s<g+1;s++)c.FDSelect.push(i.readUshort(e,n),e[n+2]),n+=3}return c.Encoding&&(c.Encoding=t.CFF.readEncoding(e,c.Encoding,c.CharStrings.length)),c.charset&&(c.charset=t.CFF.readCharset(e,c.charset,c.CharStrings.length)),t.CFF._readFDict(e,c,h),c},t.CFF._readFDict=function(e,n,r){var i;for(var o in n.Private&&(i=n.Private[1],n.Private=t.CFF.readDict(e,i,i+n.Private[0]),n.Private.Subrs&&t.CFF.readSubrs(e,i+n.Private.Subrs,n.Private)),n)-1!=["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(o)&&(n[o]=r[n[o]-426+35])},t.CFF.readSubrs=function(e,n,r){var i=t._bin,o=[];n=t.CFF.readIndex(e,n,o);var a,s=o.length;a=s<1240?107:s<33900?1131:32768,r.Bias=a,r.Subrs=[];for(var l=0;l<o.length-1;l++)r.Subrs.push(i.readBytes(e,n+o[l],o[l+1]-o[l]))},t.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],t.CFF.glyphByUnicode=function(e,t){for(var n=0;n<e.charset.length;n++)if(e.charset[n]==t)return n;return-1},t.CFF.glyphBySE=function(e,n){return n<0||n>255?-1:t.CFF.glyphByUnicode(e,t.CFF.tableSE[n])},t.CFF.readEncoding=function(e,n,r){t._bin;var i=[".notdef"],o=e[n];if(0!=o)throw"error: unknown encoding format: "+o;var a=e[++n];n++;for(var s=0;s<a;s++)i.push(e[n+s]);return i},t.CFF.readCharset=function(e,n,r){var i=t._bin,o=[".notdef"],a=e[n];if(n++,0==a)for(var s=0;s<r;s++){var l=i.readUshort(e,n);n+=2,o.push(l)}else{if(1!=a&&2!=a)throw"error: format: "+a;for(;o.length<r;){l=i.readUshort(e,n),n+=2;var u=0;for(1==a?(u=e[n],n++):(u=i.readUshort(e,n),n+=2),s=0;s<=u;s++)o.push(l),l++}}return o},t.CFF.readIndex=function(e,n,r){var i=t._bin,o=i.readUshort(e,n)+1,a=e[n+=2];if(n++,1==a)for(var s=0;s<o;s++)r.push(e[n+s]);else if(2==a)for(s=0;s<o;s++)r.push(i.readUshort(e,n+2*s));else if(3==a)for(s=0;s<o;s++)r.push(16777215&i.readUint(e,n+3*s-1));else if(1!=o)throw"unsupported offset size: "+a+", count: "+o;return(n+=o*a)-1},t.CFF.getCharString=function(e,n,r){var i=t._bin,o=e[n],a=e[n+1],s=(e[n+2],e[n+3],e[n+4],1),l=null,u=null;o<=20&&(l=o,s=1),12==o&&(l=100*o+a,s=2),21<=o&&o<=27&&(l=o,s=1),28==o&&(u=i.readShort(e,n+1),s=3),29<=o&&o<=31&&(l=o,s=1),32<=o&&o<=246&&(u=o-139,s=1),247<=o&&o<=250&&(u=256*(o-247)+a+108,s=2),251<=o&&o<=254&&(u=256*-(o-251)-a-108,s=2),255==o&&(u=i.readInt(e,n+1)/65535,s=5),r.val=null!=u?u:"o"+l,r.size=s},t.CFF.readCharString=function(e,n,r){for(var i=n+r,o=t._bin,a=[];n<i;){var s=e[n],l=e[n+1],u=(e[n+2],e[n+3],e[n+4],1),c=null,f=null;s<=20&&(c=s,u=1),12==s&&(c=100*s+l,u=2),19!=s&&20!=s||(c=s,u=2),21<=s&&s<=27&&(c=s,u=1),28==s&&(f=o.readShort(e,n+1),u=3),29<=s&&s<=31&&(c=s,u=1),32<=s&&s<=246&&(f=s-139,u=1),247<=s&&s<=250&&(f=256*(s-247)+l+108,u=2),251<=s&&s<=254&&(f=256*-(s-251)-l-108,u=2),255==s&&(f=o.readInt(e,n+1)/65535,u=5),a.push(null!=f?f:"o"+c),n+=u}return a},t.CFF.readDict=function(e,n,r){for(var i=t._bin,o={},a=[];n<r;){var s=e[n],l=e[n+1],u=(e[n+2],e[n+3],e[n+4],1),c=null,f=null;if(28==s&&(f=i.readShort(e,n+1),u=3),29==s&&(f=i.readInt(e,n+1),u=5),32<=s&&s<=246&&(f=s-139,u=1),247<=s&&s<=250&&(f=256*(s-247)+l+108,u=2),251<=s&&s<=254&&(f=256*-(s-251)-l-108,u=2),255==s)throw f=i.readInt(e,n+1)/65535,u=5,"unknown number";if(30==s){var h=[];for(u=1;;){var d=e[n+u];u++;var p=d>>4,m=15&d;if(15!=p&&h.push(p),15!=m&&h.push(m),15==m)break}for(var v="",g=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],y=0;y<h.length;y++)v+=g[h[y]];f=parseFloat(v)}s<=21&&(c=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][s],u=1,12==s&&(c=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][l],u=2)),null!=c?(o[c]=1==a.length?a[0]:a,a=[]):a.push(f),n+=u}return o},t.cmap={},t.cmap.parse=function(e,n,r){e=new Uint8Array(e.buffer,n,r),n=0;var i=t._bin,o={};i.readUshort(e,n),n+=2;var a=i.readUshort(e,n);n+=2;var s=[];o.tables=[];for(var l=0;l<a;l++){var u=i.readUshort(e,n);n+=2;var c=i.readUshort(e,n);n+=2;var f=i.readUint(e,n);n+=4;var h="p"+u+"e"+c,d=s.indexOf(f);if(-1==d){var p;d=o.tables.length,s.push(f);var m=i.readUshort(e,f);0==m?p=t.cmap.parse0(e,f):4==m?p=t.cmap.parse4(e,f):6==m?p=t.cmap.parse6(e,f):12==m?p=t.cmap.parse12(e,f):console.log("unknown format: "+m,u,c,f),o.tables.push(p)}if(null!=o[h])throw"multiple tables for one platform+encoding";o[h]=d}return o},t.cmap.parse0=function(e,n){var r=t._bin,i={};i.format=r.readUshort(e,n),n+=2;var o=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2,i.map=[];for(var a=0;a<o-6;a++)i.map.push(e[n+a]);return i},t.cmap.parse4=function(e,n){var r=t._bin,i=n,o={};o.format=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2;var s=r.readUshort(e,n);n+=2;var l=s/2;o.searchRange=r.readUshort(e,n),n+=2,o.entrySelector=r.readUshort(e,n),n+=2,o.rangeShift=r.readUshort(e,n),n+=2,o.endCount=r.readUshorts(e,n,l),n+=2*l,n+=2,o.startCount=r.readUshorts(e,n,l),n+=2*l,o.idDelta=[];for(var u=0;u<l;u++)o.idDelta.push(r.readShort(e,n)),n+=2;for(o.idRangeOffset=r.readUshorts(e,n,l),n+=2*l,o.glyphIdArray=[];n<i+a;)o.glyphIdArray.push(r.readUshort(e,n)),n+=2;return o},t.cmap.parse6=function(e,n){var r=t._bin,i={};i.format=r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,i.firstCode=r.readUshort(e,n),n+=2;var o=r.readUshort(e,n);n+=2,i.glyphIdArray=[];for(var a=0;a<o;a++)i.glyphIdArray.push(r.readUshort(e,n)),n+=2;return i},t.cmap.parse12=function(e,n){var r=t._bin,i={};i.format=r.readUshort(e,n),n+=2,n+=2,r.readUint(e,n),n+=4,r.readUint(e,n),n+=4;var o=r.readUint(e,n);n+=4,i.groups=[];for(var a=0;a<o;a++){var s=n+12*a,l=r.readUint(e,s+0),u=r.readUint(e,s+4),c=r.readUint(e,s+8);i.groups.push([l,u,c])}return i},t.glyf={},t.glyf.parse=function(e,t,n,r){for(var i=[],o=0;o<r.maxp.numGlyphs;o++)i.push(null);return i},t.glyf._parseGlyf=function(e,n){var r=t._bin,i=e._data,o=t._tabOffset(i,"glyf",e._offset)+e.loca[n];if(e.loca[n]==e.loca[n+1])return null;var a={};if(a.noc=r.readShort(i,o),o+=2,a.xMin=r.readShort(i,o),o+=2,a.yMin=r.readShort(i,o),o+=2,a.xMax=r.readShort(i,o),o+=2,a.yMax=r.readShort(i,o),o+=2,a.xMin>=a.xMax||a.yMin>=a.yMax)return null;if(a.noc>0){a.endPts=[];for(var s=0;s<a.noc;s++)a.endPts.push(r.readUshort(i,o)),o+=2;var l=r.readUshort(i,o);if(o+=2,i.length-o<l)return null;a.instructions=r.readBytes(i,o,l),o+=l;var u=a.endPts[a.noc-1]+1;for(a.flags=[],s=0;s<u;s++){var c=i[o];if(o++,a.flags.push(c),0!=(8&c)){var f=i[o];o++;for(var h=0;h<f;h++)a.flags.push(c),s++}}for(a.xs=[],s=0;s<u;s++){var d=0!=(2&a.flags[s]),p=0!=(16&a.flags[s]);d?(a.xs.push(p?i[o]:-i[o]),o++):p?a.xs.push(0):(a.xs.push(r.readShort(i,o)),o+=2)}for(a.ys=[],s=0;s<u;s++)d=0!=(4&a.flags[s]),p=0!=(32&a.flags[s]),d?(a.ys.push(p?i[o]:-i[o]),o++):p?a.ys.push(0):(a.ys.push(r.readShort(i,o)),o+=2);var m=0,v=0;for(s=0;s<u;s++)m+=a.xs[s],v+=a.ys[s],a.xs[s]=m,a.ys[s]=v}else{var g;a.parts=[];do{g=r.readUshort(i,o),o+=2;var y={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(a.parts.push(y),y.glyphIndex=r.readUshort(i,o),o+=2,1&g){var _=r.readShort(i,o);o+=2;var b=r.readShort(i,o);o+=2}else _=r.readInt8(i,o),o++,b=r.readInt8(i,o),o++;2&g?(y.m.tx=_,y.m.ty=b):(y.p1=_,y.p2=b),8&g?(y.m.a=y.m.d=r.readF2dot14(i,o),o+=2):64&g?(y.m.a=r.readF2dot14(i,o),o+=2,y.m.d=r.readF2dot14(i,o),o+=2):128&g&&(y.m.a=r.readF2dot14(i,o),o+=2,y.m.b=r.readF2dot14(i,o),o+=2,y.m.c=r.readF2dot14(i,o),o+=2,y.m.d=r.readF2dot14(i,o),o+=2)}while(32&g);if(256&g){var w=r.readUshort(i,o);for(o+=2,a.instr=[],s=0;s<w;s++)a.instr.push(i[o]),o++}}return a},t.GPOS={},t.GPOS.parse=function(e,n,r,i){return t._lctf.parse(e,n,r,i,t.GPOS.subt)},t.GPOS.subt=function(e,n,r){var i=t._bin,o=r,a={};if(a.fmt=i.readUshort(e,r),r+=2,1==n||2==n||3==n||7==n||8==n&&a.fmt<=2){var s=i.readUshort(e,r);r+=2,a.coverage=t._lctf.readCoverage(e,s+o)}if(1==n&&1==a.fmt){var l=i.readUshort(e,r);r+=2;var u=t._lctf.numOfOnes(l);0!=l&&(a.pos=t.GPOS.readValueRecord(e,r,l))}else if(2==n){l=i.readUshort(e,r),r+=2;var c=i.readUshort(e,r);r+=2,u=t._lctf.numOfOnes(l);var f=t._lctf.numOfOnes(c);if(1==a.fmt){a.pairsets=[];var h=i.readUshort(e,r);r+=2;for(var d=0;d<h;d++){var p=o+i.readUshort(e,r);r+=2;var m=i.readUshort(e,p);p+=2;for(var v=[],g=0;g<m;g++){var y=i.readUshort(e,p);p+=2,0!=l&&(M=t.GPOS.readValueRecord(e,p,l),p+=2*u),0!=c&&(S=t.GPOS.readValueRecord(e,p,c),p+=2*f),v.push({gid2:y,val1:M,val2:S})}a.pairsets.push(v)}}if(2==a.fmt){var _=i.readUshort(e,r);r+=2;var b=i.readUshort(e,r);r+=2;var w=i.readUshort(e,r);r+=2;var x=i.readUshort(e,r);for(r+=2,a.classDef1=t._lctf.readClassDef(e,o+_),a.classDef2=t._lctf.readClassDef(e,o+b),a.matrix=[],d=0;d<w;d++){var A=[];for(g=0;g<x;g++){var M=null,S=null;0!=a.valFmt1&&(M=t.GPOS.readValueRecord(e,r,a.valFmt1),r+=2*u),0!=a.valFmt2&&(S=t.GPOS.readValueRecord(e,r,a.valFmt2),r+=2*f),A.push({val1:M,val2:S})}a.matrix.push(A)}}}return a},t.GPOS.readValueRecord=function(e,n,r){var i=t._bin,o=[];return o.push(1&r?i.readShort(e,n):0),n+=1&r?2:0,o.push(2&r?i.readShort(e,n):0),n+=2&r?2:0,o.push(4&r?i.readShort(e,n):0),n+=4&r?2:0,o.push(8&r?i.readShort(e,n):0),n+=8&r?2:0,o},t.GSUB={},t.GSUB.parse=function(e,n,r,i){return t._lctf.parse(e,n,r,i,t.GSUB.subt)},t.GSUB.subt=function(e,n,r){var i=t._bin,o=r,a={};if(a.fmt=i.readUshort(e,r),r+=2,1!=n&&4!=n&&5!=n&&6!=n)return null;if(1==n||4==n||5==n&&a.fmt<=2||6==n&&a.fmt<=2){var s=i.readUshort(e,r);r+=2,a.coverage=t._lctf.readCoverage(e,o+s)}if(1==n){if(1==a.fmt)a.delta=i.readShort(e,r),r+=2;else if(2==a.fmt){var l=i.readUshort(e,r);r+=2,a.newg=i.readUshorts(e,r,l),r+=2*a.newg.length}}else if(4==n){a.vals=[],l=i.readUshort(e,r),r+=2;for(var u=0;u<l;u++){var c=i.readUshort(e,r);r+=2,a.vals.push(t.GSUB.readLigatureSet(e,o+c))}}else if(5==n){if(2==a.fmt){var f=i.readUshort(e,r);r+=2,a.cDef=t._lctf.readClassDef(e,o+f),a.scset=[];var h=i.readUshort(e,r);for(r+=2,u=0;u<h;u++){var d=i.readUshort(e,r);r+=2,a.scset.push(0==d?null:t.GSUB.readSubClassSet(e,o+d))}}}else if(6==n&&3==a.fmt){for(u=0;u<3;u++){l=i.readUshort(e,r),r+=2;for(var p=[],m=0;m<l;m++)p.push(t._lctf.readCoverage(e,o+i.readUshort(e,r+2*m)));r+=2*l,0==u&&(a.backCvg=p),1==u&&(a.inptCvg=p),2==u&&(a.ahedCvg=p)}l=i.readUshort(e,r),r+=2,a.lookupRec=t.GSUB.readSubstLookupRecords(e,r,l)}return a},t.GSUB.readSubClassSet=function(e,n){var r=t._bin.readUshort,i=n,o=[],a=r(e,n);n+=2;for(var s=0;s<a;s++){var l=r(e,n);n+=2,o.push(t.GSUB.readSubClassRule(e,i+l))}return o},t.GSUB.readSubClassRule=function(e,n){var r=t._bin.readUshort,i={},o=r(e,n),a=r(e,n+=2);n+=2,i.input=[];for(var s=0;s<o-1;s++)i.input.push(r(e,n)),n+=2;return i.substLookupRecords=t.GSUB.readSubstLookupRecords(e,n,a),i},t.GSUB.readSubstLookupRecords=function(e,n,r){for(var i=t._bin.readUshort,o=[],a=0;a<r;a++)o.push(i(e,n),i(e,n+2)),n+=4;return o},t.GSUB.readChainSubClassSet=function(e,n){var r=t._bin,i=n,o=[],a=r.readUshort(e,n);n+=2;for(var s=0;s<a;s++){var l=r.readUshort(e,n);n+=2,o.push(t.GSUB.readChainSubClassRule(e,i+l))}return o},t.GSUB.readChainSubClassRule=function(e,n){for(var r=t._bin,i={},o=["backtrack","input","lookahead"],a=0;a<o.length;a++){var s=r.readUshort(e,n);n+=2,1==a&&s--,i[o[a]]=r.readUshorts(e,n,s),n+=2*i[o[a]].length}return s=r.readUshort(e,n),n+=2,i.subst=r.readUshorts(e,n,2*s),n+=2*i.subst.length,i},t.GSUB.readLigatureSet=function(e,n){var r=t._bin,i=n,o=[],a=r.readUshort(e,n);n+=2;for(var s=0;s<a;s++){var l=r.readUshort(e,n);n+=2,o.push(t.GSUB.readLigature(e,i+l))}return o},t.GSUB.readLigature=function(e,n){var r=t._bin,i={chain:[]};i.nglyph=r.readUshort(e,n),n+=2;var o=r.readUshort(e,n);n+=2;for(var a=0;a<o-1;a++)i.chain.push(r.readUshort(e,n)),n+=2;return i},t.head={},t.head.parse=function(e,n,r){var i=t._bin,o={};return i.readFixed(e,n),n+=4,o.fontRevision=i.readFixed(e,n),n+=4,i.readUint(e,n),n+=4,i.readUint(e,n),n+=4,o.flags=i.readUshort(e,n),n+=2,o.unitsPerEm=i.readUshort(e,n),n+=2,o.created=i.readUint64(e,n),n+=8,o.modified=i.readUint64(e,n),n+=8,o.xMin=i.readShort(e,n),n+=2,o.yMin=i.readShort(e,n),n+=2,o.xMax=i.readShort(e,n),n+=2,o.yMax=i.readShort(e,n),n+=2,o.macStyle=i.readUshort(e,n),n+=2,o.lowestRecPPEM=i.readUshort(e,n),n+=2,o.fontDirectionHint=i.readShort(e,n),n+=2,o.indexToLocFormat=i.readShort(e,n),n+=2,o.glyphDataFormat=i.readShort(e,n),n+=2,o},t.hhea={},t.hhea.parse=function(e,n,r){var i=t._bin,o={};return i.readFixed(e,n),n+=4,o.ascender=i.readShort(e,n),n+=2,o.descender=i.readShort(e,n),n+=2,o.lineGap=i.readShort(e,n),n+=2,o.advanceWidthMax=i.readUshort(e,n),n+=2,o.minLeftSideBearing=i.readShort(e,n),n+=2,o.minRightSideBearing=i.readShort(e,n),n+=2,o.xMaxExtent=i.readShort(e,n),n+=2,o.caretSlopeRise=i.readShort(e,n),n+=2,o.caretSlopeRun=i.readShort(e,n),n+=2,o.caretOffset=i.readShort(e,n),n+=2,n+=8,o.metricDataFormat=i.readShort(e,n),n+=2,o.numberOfHMetrics=i.readUshort(e,n),n+=2,o},t.hmtx={},t.hmtx.parse=function(e,n,r,i){for(var o=t._bin,a={aWidth:[],lsBearing:[]},s=0,l=0,u=0;u<i.maxp.numGlyphs;u++)u<i.hhea.numberOfHMetrics&&(s=o.readUshort(e,n),n+=2,l=o.readShort(e,n),n+=2),a.aWidth.push(s),a.lsBearing.push(l);return a},t.kern={},t.kern.parse=function(e,n,r,i){var o=t._bin,a=o.readUshort(e,n);if(n+=2,1==a)return t.kern.parseV1(e,n-2,r,i);var s=o.readUshort(e,n);n+=2;for(var l={glyph1:[],rval:[]},u=0;u<s;u++){n+=2,r=o.readUshort(e,n),n+=2;var c=o.readUshort(e,n);n+=2;var f=c>>>8;if(0!=(f&=15))throw"unknown kern table format: "+f;n=t.kern.readFormat0(e,n,l)}return l},t.kern.parseV1=function(e,n,r,i){var o=t._bin;o.readFixed(e,n),n+=4;var a=o.readUint(e,n);n+=4;for(var s={glyph1:[],rval:[]},l=0;l<a;l++){o.readUint(e,n),n+=4;var u=o.readUshort(e,n);n+=2,o.readUshort(e,n),n+=2;var c=u>>>8;if(0!=(c&=15))throw"unknown kern table format: "+c;n=t.kern.readFormat0(e,n,s)}return s},t.kern.readFormat0=function(e,n,r){var i=t._bin,o=-1,a=i.readUshort(e,n);n+=2,i.readUshort(e,n),n+=2,i.readUshort(e,n),n+=2,i.readUshort(e,n),n+=2;for(var s=0;s<a;s++){var l=i.readUshort(e,n);n+=2;var u=i.readUshort(e,n);n+=2;var c=i.readShort(e,n);n+=2,l!=o&&(r.glyph1.push(l),r.rval.push({glyph2:[],vals:[]}));var f=r.rval[r.rval.length-1];f.glyph2.push(u),f.vals.push(c),o=l}return n},t.loca={},t.loca.parse=function(e,n,r,i){var o=t._bin,a=[],s=i.head.indexToLocFormat,l=i.maxp.numGlyphs+1;if(0==s)for(var u=0;u<l;u++)a.push(o.readUshort(e,n+(u<<1))<<1);if(1==s)for(u=0;u<l;u++)a.push(o.readUint(e,n+(u<<2)));return a},t.maxp={},t.maxp.parse=function(e,n,r){var i=t._bin,o={},a=i.readUint(e,n);return n+=4,o.numGlyphs=i.readUshort(e,n),n+=2,65536==a&&(o.maxPoints=i.readUshort(e,n),n+=2,o.maxContours=i.readUshort(e,n),n+=2,o.maxCompositePoints=i.readUshort(e,n),n+=2,o.maxCompositeContours=i.readUshort(e,n),n+=2,o.maxZones=i.readUshort(e,n),n+=2,o.maxTwilightPoints=i.readUshort(e,n),n+=2,o.maxStorage=i.readUshort(e,n),n+=2,o.maxFunctionDefs=i.readUshort(e,n),n+=2,o.maxInstructionDefs=i.readUshort(e,n),n+=2,o.maxStackElements=i.readUshort(e,n),n+=2,o.maxSizeOfInstructions=i.readUshort(e,n),n+=2,o.maxComponentElements=i.readUshort(e,n),n+=2,o.maxComponentDepth=i.readUshort(e,n),n+=2),o},t.name={},t.name.parse=function(e,n,r){var i=t._bin,o={};i.readUshort(e,n),n+=2;var a=i.readUshort(e,n);n+=2,i.readUshort(e,n);for(var s,l=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],u=n+=2,c=0;c<a;c++){var f=i.readUshort(e,n);n+=2;var h=i.readUshort(e,n);n+=2;var d=i.readUshort(e,n);n+=2;var p=i.readUshort(e,n);n+=2;var m=i.readUshort(e,n);n+=2;var v=i.readUshort(e,n);n+=2;var g,y=l[p],_=u+12*a+v;if(0==f)g=i.readUnicode(e,_,m/2);else if(3==f&&0==h)g=i.readUnicode(e,_,m/2);else if(0==h)g=i.readASCII(e,_,m);else if(1==h)g=i.readUnicode(e,_,m/2);else if(3==h)g=i.readUnicode(e,_,m/2);else{if(1!=f)throw"unknown encoding "+h+", platformID: "+f;g=i.readASCII(e,_,m),console.log("reading unknown MAC encoding "+h+" as ASCII")}var b="p"+f+","+d.toString(16);null==o[b]&&(o[b]={}),o[b][y]=g,o[b]._lang=d}for(var w in o)if(null!=o[w].postScriptName&&1033==o[w]._lang)return o[w];for(var w in o)if(null!=o[w].postScriptName&&0==o[w]._lang)return o[w];for(var w in o)if(null!=o[w].postScriptName&&3084==o[w]._lang)return o[w];for(var w in o)if(null!=o[w].postScriptName)return o[w];for(var w in o){s=w;break}return console.log("returning name table with languageID "+o[s]._lang),o[s]},t["OS/2"]={},t["OS/2"].parse=function(e,n,r){var i=t._bin.readUshort(e,n);n+=2;var o={};if(0==i)t["OS/2"].version0(e,n,o);else if(1==i)t["OS/2"].version1(e,n,o);else if(2==i||3==i||4==i)t["OS/2"].version2(e,n,o);else{if(5!=i)throw"unknown OS/2 table version: "+i;t["OS/2"].version5(e,n,o)}return o},t["OS/2"].version0=function(e,n,r){var i=t._bin;return r.xAvgCharWidth=i.readShort(e,n),n+=2,r.usWeightClass=i.readUshort(e,n),n+=2,r.usWidthClass=i.readUshort(e,n),n+=2,r.fsType=i.readUshort(e,n),n+=2,r.ySubscriptXSize=i.readShort(e,n),n+=2,r.ySubscriptYSize=i.readShort(e,n),n+=2,r.ySubscriptXOffset=i.readShort(e,n),n+=2,r.ySubscriptYOffset=i.readShort(e,n),n+=2,r.ySuperscriptXSize=i.readShort(e,n),n+=2,r.ySuperscriptYSize=i.readShort(e,n),n+=2,r.ySuperscriptXOffset=i.readShort(e,n),n+=2,r.ySuperscriptYOffset=i.readShort(e,n),n+=2,r.yStrikeoutSize=i.readShort(e,n),n+=2,r.yStrikeoutPosition=i.readShort(e,n),n+=2,r.sFamilyClass=i.readShort(e,n),n+=2,r.panose=i.readBytes(e,n,10),n+=10,r.ulUnicodeRange1=i.readUint(e,n),n+=4,r.ulUnicodeRange2=i.readUint(e,n),n+=4,r.ulUnicodeRange3=i.readUint(e,n),n+=4,r.ulUnicodeRange4=i.readUint(e,n),n+=4,r.achVendID=[i.readInt8(e,n),i.readInt8(e,n+1),i.readInt8(e,n+2),i.readInt8(e,n+3)],n+=4,r.fsSelection=i.readUshort(e,n),n+=2,r.usFirstCharIndex=i.readUshort(e,n),n+=2,r.usLastCharIndex=i.readUshort(e,n),n+=2,r.sTypoAscender=i.readShort(e,n),n+=2,r.sTypoDescender=i.readShort(e,n),n+=2,r.sTypoLineGap=i.readShort(e,n),n+=2,r.usWinAscent=i.readUshort(e,n),n+=2,r.usWinDescent=i.readUshort(e,n),n+=2},t["OS/2"].version1=function(e,n,r){var i=t._bin;return n=t["OS/2"].version0(e,n,r),r.ulCodePageRange1=i.readUint(e,n),n+=4,r.ulCodePageRange2=i.readUint(e,n),n+=4},t["OS/2"].version2=function(e,n,r){var i=t._bin;return n=t["OS/2"].version1(e,n,r),r.sxHeight=i.readShort(e,n),n+=2,r.sCapHeight=i.readShort(e,n),n+=2,r.usDefault=i.readUshort(e,n),n+=2,r.usBreak=i.readUshort(e,n),n+=2,r.usMaxContext=i.readUshort(e,n),n+=2},t["OS/2"].version5=function(e,n,r){var i=t._bin;return n=t["OS/2"].version2(e,n,r),r.usLowerOpticalPointSize=i.readUshort(e,n),n+=2,r.usUpperOpticalPointSize=i.readUshort(e,n),n+=2},t.post={},t.post.parse=function(e,n,r){var i=t._bin,o={};return o.version=i.readFixed(e,n),n+=4,o.italicAngle=i.readFixed(e,n),n+=4,o.underlinePosition=i.readShort(e,n),n+=2,o.underlineThickness=i.readShort(e,n),n+=2,o},t.SVG={},t.SVG.parse=function(e,n,r){var i=t._bin,o={entries:[]},a=n;i.readUshort(e,n),n+=2;var s=i.readUint(e,n);n+=4,i.readUint(e,n),n+=4,n=s+a;var l=i.readUshort(e,n);n+=2;for(var u=0;u<l;u++){var c=i.readUshort(e,n);n+=2;var f=i.readUshort(e,n);n+=2;var h=i.readUint(e,n);n+=4;var d=i.readUint(e,n);n+=4;for(var p=new Uint8Array(e.buffer,a+h+s,d),m=i.readUTF8(p,0,p.length),v=c;v<=f;v++)o.entries[v]=m}return o},t.SVG.toPath=function(e){var n={cmds:[],crds:[]};if(null==e)return n;for(var r=(new DOMParser).parseFromString(e,"image/svg+xml").firstChild;"svg"!=r.tagName;)r=r.nextSibling;var i=r.getAttribute("viewBox");i=i?i.trim().split(" ").map(parseFloat):[0,0,1e3,1e3],t.SVG._toPath(r.children,n);for(var o=0;o<n.crds.length;o+=2){var a=n.crds[o],s=n.crds[o+1];a-=i[0],s=-(s-=i[1]),n.crds[o]=a,n.crds[o+1]=s}return n},t.SVG._toPath=function(e,n,r){for(var i=0;i<e.length;i++){var o=e[i],a=o.tagName,s=o.getAttribute("fill");if(null==s&&(s=r),"g"==a)t.SVG._toPath(o.children,n,s);else if("path"==a){n.cmds.push(s||"#000000");var l=o.getAttribute("d"),u=t.SVG._tokens(l);t.SVG._toksToPath(u,n),n.cmds.push("X")}else"defs"==a||console.log(a,o)}},t.SVG._tokens=function(e){for(var t=[],n=0,r=!1,i="";n<e.length;){var o=e.charCodeAt(n),a=e.charAt(n);n++;var s=48<=o&&o<=57||"."==a||"-"==a;r?"-"==a?(t.push(parseFloat(i)),i=a):s?i+=a:(t.push(parseFloat(i)),","!=a&&" "!=a&&t.push(a),r=!1):s?(i=a,r=!0):","!=a&&" "!=a&&t.push(a)}return r&&t.push(parseFloat(i)),t},t.SVG._toksToPath=function(e,n){for(var r=0,i=0,o=0,a=0,s=0,l={M:2,L:2,H:1,V:1,S:4,C:6},u=n.cmds,c=n.crds;r<e.length;){var f=e[r];if(r++,"z"==f)u.push("Z"),i=a,o=s;else for(var h=f.toUpperCase(),d=l[h],p=t.SVG._reps(e,r,d),m=0;m<p;m++){var v=0,g=0;if(f!=h&&(v=i,g=o),"M"==h)i=v+e[r++],o=g+e[r++],u.push("M"),c.push(i,o),a=i,s=o;else if("L"==h)i=v+e[r++],o=g+e[r++],u.push("L"),c.push(i,o);else if("H"==h)i=v+e[r++],u.push("L"),c.push(i,o);else if("V"==h)o=g+e[r++],u.push("L"),c.push(i,o);else if("C"==h){var y=v+e[r++],_=g+e[r++],b=v+e[r++],w=g+e[r++],x=v+e[r++],A=g+e[r++];u.push("C"),c.push(y,_,b,w,x,A),i=x,o=A}else if("S"==h){var M=Math.max(c.length-4,0);y=i+i-c[M],_=o+o-c[M+1],b=v+e[r++],w=g+e[r++],x=v+e[r++],A=g+e[r++],u.push("C"),c.push(y,_,b,w,x,A),i=x,o=A}else console.log("Unknown SVG command "+f)}}},t.SVG._reps=function(e,t,n){for(var r=t;r<e.length&&"string"!=typeof e[r];)r+=n;return(r-t)/n},null==t&&(t={}),null==t.U&&(t.U={}),t.U.codeToGlyph=function(e,t){var n=e.cmap,r=-1;if(null!=n.p0e4?r=n.p0e4:null!=n.p3e1?r=n.p3e1:null!=n.p1e0?r=n.p1e0:null!=n.p0e3&&(r=n.p0e3),-1==r)throw"no familiar platform and encoding!";var i=n.tables[r];if(0==i.format)return t>=i.map.length?0:i.map[t];if(4==i.format){for(var o=-1,a=0;a<i.endCount.length;a++)if(t<=i.endCount[a]){o=a;break}return-1==o?0:i.startCount[o]>t?0:65535&(0!=i.idRangeOffset[o]?i.glyphIdArray[t-i.startCount[o]+(i.idRangeOffset[o]>>1)-(i.idRangeOffset.length-o)]:t+i.idDelta[o])}if(12==i.format){if(t>i.groups[i.groups.length-1][1])return 0;for(a=0;a<i.groups.length;a++){var s=i.groups[a];if(s[0]<=t&&t<=s[1])return s[2]+(t-s[0])}return 0}throw"unknown cmap table format "+i.format},t.U.glyphToPath=function(e,n){var r={cmds:[],crds:[]};if(e.SVG&&e.SVG.entries[n]){var i=e.SVG.entries[n];return null==i?r:("string"==typeof i&&(i=t.SVG.toPath(i),e.SVG.entries[n]=i),i)}if(e.CFF){var o={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:e.CFF.Private?e.CFF.Private.defaultWidthX:0,open:!1},a=e.CFF,s=e.CFF.Private;if(a.ROS){for(var l=0;a.FDSelect[l+2]<=n;)l+=2;s=a.FDArray[a.FDSelect[l+1]].Private}t.U._drawCFF(e.CFF.CharStrings[n],o,a,s,r)}else e.glyf&&t.U._drawGlyf(n,e,r);return r},t.U._drawGlyf=function(e,n,r){var i=n.glyf[e];null==i&&(i=n.glyf[e]=t.glyf._parseGlyf(n,e)),null!=i&&(i.noc>-1?t.U._simpleGlyph(i,r):t.U._compoGlyph(i,n,r))},t.U._simpleGlyph=function(e,n){for(var r=0;r<e.noc;r++){for(var i=0==r?0:e.endPts[r-1]+1,o=e.endPts[r],a=i;a<=o;a++){var s=a==i?o:a-1,l=a==o?i:a+1,u=1&e.flags[a],c=1&e.flags[s],f=1&e.flags[l],h=e.xs[a],d=e.ys[a];if(a==i)if(u){if(!c){t.U.P.moveTo(n,h,d);continue}t.U.P.moveTo(n,e.xs[s],e.ys[s])}else c?t.U.P.moveTo(n,e.xs[s],e.ys[s]):t.U.P.moveTo(n,(e.xs[s]+h)/2,(e.ys[s]+d)/2);u?c&&t.U.P.lineTo(n,h,d):f?t.U.P.qcurveTo(n,h,d,e.xs[l],e.ys[l]):t.U.P.qcurveTo(n,h,d,(h+e.xs[l])/2,(d+e.ys[l])/2)}t.U.P.closePath(n)}},t.U._compoGlyph=function(e,n,r){for(var i=0;i<e.parts.length;i++){var o={cmds:[],crds:[]},a=e.parts[i];t.U._drawGlyf(a.glyphIndex,n,o);for(var s=a.m,l=0;l<o.crds.length;l+=2){var u=o.crds[l],c=o.crds[l+1];r.crds.push(u*s.a+c*s.b+s.tx),r.crds.push(u*s.c+c*s.d+s.ty)}for(l=0;l<o.cmds.length;l++)r.cmds.push(o.cmds[l])}},t.U._getGlyphClass=function(e,n){var r=t._lctf.getInterval(n,e);return-1==r?0:n[r+2]},t.U.getPairAdjustment=function(e,n,r){if(e.GPOS)for(var i=e.GPOS,o=i.lookupList,a=i.featureList,s=[],l=0;l<a.length;l++){var u=a[l];if("kern"==u.tag)for(var c=0;c<u.tab.length;c++)if(!s[u.tab[c]]){s[u.tab[c]]=!0;for(var f=o[u.tab[c]],h=0;h<f.tabs.length;h++)if(null!=f.tabs[l]){var d,p=f.tabs[h];if(!p.coverage||-1!=(d=t._lctf.coverageIndex(p.coverage,n)))if(1==f.ltype);else if(2==f.ltype){var m;if(1==p.fmt){var v=p.pairsets[d];for(l=0;l<v.length;l++)v[l].gid2==r&&(m=v[l])}else if(2==p.fmt){var g=t.U._getGlyphClass(n,p.classDef1),y=t.U._getGlyphClass(r,p.classDef2);m=p.matrix[g][y]}if(m&&m.val2)return m.val2[2]}}}}if(e.kern){var _=e.kern.glyph1.indexOf(n);if(-1!=_){var b=e.kern.rval[_].glyph2.indexOf(r);if(-1!=b)return e.kern.rval[_].vals[b]}}return 0},t.U.stringToGlyphs=function(e,n){for(var r=[],i=0;i<n.length;i++)(o=n.codePointAt(i))>65535&&i++,r.push(t.U.codeToGlyph(e,o));for(i=0;i<n.length;i++){var o;if(2367==(o=n.codePointAt(i))){var a=r[i-1];r[i-1]=r[i],r[i]=a}o>65535&&i++}var s=e.GSUB;if(null==s)return r;for(var l=s.lookupList,u=s.featureList,c=["rlig","liga","mset","isol","init","fina","medi","half","pres","blws"],f=[],h=0;h<u.length;h++){var d=u[h];if(-1!=c.indexOf(d.tag))for(var p=0;p<d.tab.length;p++)if(!f[d.tab[p]]){f[d.tab[p]]=!0;for(var m=l[d.tab[p]],v=0;v<r.length;v++){var g=t.U._getWPfeature(n,v);-1!="isol,init,fina,medi".indexOf(d.tag)&&d.tag!=g||t.U._applySubs(r,v,m,l)}}}return r},t.U._getWPfeature=function(e,t){var n='\n\t" ,.:;!?()  \u060c',r="\u0622\u0623\u0624\u0625\u0627\u0629\u062f\u0630\u0631\u0632\u0648\u0671\u0672\u0673\u0675\u0676\u0677\u0688\u0689\u068a\u068b\u068c\u068d\u068e\u068f\u0690\u0691\u0692\u0693\u0694\u0695\u0696\u0697\u0698\u0699\u06c0\u06c3\u06c4\u06c5\u06c6\u06c7\u06c8\u06c9\u06ca\u06cb\u06cd\u06cf\u06d2\u06d3\u06d5\u06ee\u06ef\u0710\u0715\u0716\u0717\u0718\u0719\u071e\u0728\u072a\u072c\u072f\u074d\u0759\u075a\u075b\u076b\u076c\u0771\u0773\u0774\u0778\u0779\u0840\u0846\u0847\u0849\u0854\u0867\u0869\u086a\u08aa\u08ab\u08ac\u08ae\u08b1\u08b2\u08b9\u0ac5\u0ac7\u0ac9\u0aca\u0ace\u0acf\u0ad0\u0ad1\u0ad2\u0add\u0ae1\u0ae4\u0aef\u0b81\u0b83\u0b84\u0b85\u0b89\u0b8c\u0b8e\u0b8f\u0b91\u0ba9\u0baa\u0bab\u0bac",i=0==t||-1!=n.indexOf(e[t-1]),o=t==e.length-1||-1!=n.indexOf(e[t+1]);return i||-1==r.indexOf(e[t-1])||(i=!0),o||-1==r.indexOf(e[t])||(o=!0),o||-1=="\ua872\u0acd\u0ad7".indexOf(e[t+1])||(o=!0),i||-1=="\ua872\u0acd\u0ad7".indexOf(e[t])||(i=!0),i?o?"isol":"init":o?"fina":"medi"},t.U._applySubs=function(e,n,r,i){for(var o=e.length-n-1,a=0;a<r.tabs.length;a++)if(null!=r.tabs[a]){var s,l=r.tabs[a];if(!l.coverage||-1!=(s=t._lctf.coverageIndex(l.coverage,e[n])))if(1==r.ltype)e[n],1==l.fmt?e[n]=e[n]+l.delta:e[n]=l.newg[s];else if(4==r.ltype)for(var u=l.vals[s],c=0;c<u.length;c++){var f=u[c],h=f.chain.length;if(!(h>o)){for(var d=!0,p=0,m=0;m<h;m++){for(;-1==e[n+p+(1+m)];)p++;f.chain[m]!=e[n+p+(1+m)]&&(d=!1)}if(d){for(e[n]=f.nglyph,m=0;m<h+p;m++)e[n+m+1]=-1;break}}}else if(5==r.ltype&&2==l.fmt)for(var v=t._lctf.getInterval(l.cDef,e[n]),g=l.cDef[v+2],y=l.scset[g],_=0;_<y.length;_++){var b=y[_],w=b.input;if(!(w.length>o)){for(d=!0,m=0;m<w.length;m++){var x=t._lctf.getInterval(l.cDef,e[n+1+m]);if(-1==v&&l.cDef[x+2]!=w[m]){d=!1;break}}if(d){var A=b.substLookupRecords;for(c=0;c<A.length;c+=2)A[c],A[c+1]}}}else if(6==r.ltype&&3==l.fmt){if(!t.U._glsCovered(e,l.backCvg,n-l.backCvg.length))continue;if(!t.U._glsCovered(e,l.inptCvg,n))continue;if(!t.U._glsCovered(e,l.ahedCvg,n+l.inptCvg.length))continue;var M=l.lookupRec;for(_=0;_<M.length;_+=2){v=M[_];var S=i[M[_+1]];t.U._applySubs(e,n+v,S,i)}}}},t.U._glsCovered=function(e,n,r){for(var i=0;i<n.length;i++)if(-1==t._lctf.coverageIndex(n[i],e[r+i]))return!1;return!0},t.U.glyphsToPath=function(e,n,r){for(var i={cmds:[],crds:[]},o=0,a=0;a<n.length;a++){var s=n[a];if(-1!=s){for(var l=a<n.length-1&&-1!=n[a+1]?n[a+1]:0,u=t.U.glyphToPath(e,s),c=0;c<u.crds.length;c+=2)i.crds.push(u.crds[c]+o),i.crds.push(u.crds[c+1]);for(r&&i.cmds.push(r),c=0;c<u.cmds.length;c++)i.cmds.push(u.cmds[c]);r&&i.cmds.push("X"),o+=e.hmtx.aWidth[s],a<n.length-1&&(o+=t.U.getPairAdjustment(e,s,l))}}return i},t.U.pathToSVG=function(e,t){null==t&&(t=5);for(var n=[],r=0,i={M:2,L:2,Q:4,C:6},o=0;o<e.cmds.length;o++){var a=e.cmds[o],s=r+(i[a]?i[a]:0);for(n.push(a);r<s;){var l=e.crds[r++];n.push(parseFloat(l.toFixed(t))+(r==s?"":" "))}}return n.join("")},t.U.pathToContext=function(e,t){for(var n=0,r=e.crds,i=0;i<e.cmds.length;i++){var o=e.cmds[i];"M"==o?(t.moveTo(r[n],r[n+1]),n+=2):"L"==o?(t.lineTo(r[n],r[n+1]),n+=2):"C"==o?(t.bezierCurveTo(r[n],r[n+1],r[n+2],r[n+3],r[n+4],r[n+5]),n+=6):"Q"==o?(t.quadraticCurveTo(r[n],r[n+1],r[n+2],r[n+3]),n+=4):"#"==o.charAt(0)?(t.beginPath(),t.fillStyle=o):"Z"==o?t.closePath():"X"==o&&t.fill()}},t.U.P={},t.U.P.moveTo=function(e,t,n){e.cmds.push("M"),e.crds.push(t,n)},t.U.P.lineTo=function(e,t,n){e.cmds.push("L"),e.crds.push(t,n)},t.U.P.curveTo=function(e,t,n,r,i,o,a){e.cmds.push("C"),e.crds.push(t,n,r,i,o,a)},t.U.P.qcurveTo=function(e,t,n,r,i){e.cmds.push("Q"),e.crds.push(t,n,r,i)},t.U.P.closePath=function(e){e.cmds.push("Z")},t.U._drawCFF=function(e,n,r,i,o){for(var a=n.stack,s=n.nStems,l=n.haveWidth,u=n.width,c=n.open,f=0,h=n.x,d=n.y,p=0,m=0,v=0,g=0,y=0,_=0,b=0,w=0,x=0,A=0,M={val:0,size:0};f<e.length;){t.CFF.getCharString(e,f,M);var S=M.val;if(f+=M.size,"o1"==S||"o18"==S)a.length%2!==0&&!l&&(u=a.shift()+i.nominalWidthX),s+=a.length>>1,a.length=0,l=!0;else if("o3"==S||"o23"==S)a.length%2!==0&&!l&&(u=a.shift()+i.nominalWidthX),s+=a.length>>1,a.length=0,l=!0;else if("o4"==S)a.length>1&&!l&&(u=a.shift()+i.nominalWidthX,l=!0),c&&t.U.P.closePath(o),d+=a.pop(),t.U.P.moveTo(o,h,d),c=!0;else if("o5"==S)for(;a.length>0;)h+=a.shift(),d+=a.shift(),t.U.P.lineTo(o,h,d);else if("o6"==S||"o7"==S)for(var C=a.length,E="o6"==S,I=0;I<C;I++){var T=a.shift();E?h+=T:d+=T,E=!E,t.U.P.lineTo(o,h,d)}else if("o8"==S||"o24"==S){for(var C=a.length,L=0;L+6<=C;)p=h+a.shift(),m=d+a.shift(),v=p+a.shift(),g=m+a.shift(),h=v+a.shift(),d=g+a.shift(),t.U.P.curveTo(o,p,m,v,g,h,d),L+=6;"o24"==S&&(h+=a.shift(),d+=a.shift(),t.U.P.lineTo(o,h,d))}else{if("o11"==S)break;if("o1234"==S||"o1235"==S||"o1236"==S||"o1237"==S)"o1234"==S&&(m=d,v=(p=h+a.shift())+a.shift(),A=g=m+a.shift(),_=g,w=d,h=(b=(y=(x=v+a.shift())+a.shift())+a.shift())+a.shift(),t.U.P.curveTo(o,p,m,v,g,x,A),t.U.P.curveTo(o,y,_,b,w,h,d)),"o1235"==S&&(p=h+a.shift(),m=d+a.shift(),v=p+a.shift(),g=m+a.shift(),x=v+a.shift(),A=g+a.shift(),y=x+a.shift(),_=A+a.shift(),b=y+a.shift(),w=_+a.shift(),h=b+a.shift(),d=w+a.shift(),a.shift(),t.U.P.curveTo(o,p,m,v,g,x,A),t.U.P.curveTo(o,y,_,b,w,h,d)),"o1236"==S&&(p=h+a.shift(),m=d+a.shift(),v=p+a.shift(),A=g=m+a.shift(),_=g,b=(y=(x=v+a.shift())+a.shift())+a.shift(),w=_+a.shift(),h=b+a.shift(),t.U.P.curveTo(o,p,m,v,g,x,A),t.U.P.curveTo(o,y,_,b,w,h,d)),"o1237"==S&&(p=h+a.shift(),m=d+a.shift(),v=p+a.shift(),g=m+a.shift(),x=v+a.shift(),A=g+a.shift(),y=x+a.shift(),_=A+a.shift(),b=y+a.shift(),w=_+a.shift(),Math.abs(b-h)>Math.abs(w-d)?h=b+a.shift():d=w+a.shift(),t.U.P.curveTo(o,p,m,v,g,x,A),t.U.P.curveTo(o,y,_,b,w,h,d));else if("o14"==S){if(a.length>0&&!l&&(u=a.shift()+r.nominalWidthX,l=!0),4==a.length){var z=a.shift(),k=a.shift(),D=a.shift(),O=a.shift(),N=t.CFF.glyphBySE(r,D),j=t.CFF.glyphBySE(r,O);t.U._drawCFF(r.CharStrings[N],n,r,i,o),n.x=z,n.y=k,t.U._drawCFF(r.CharStrings[j],n,r,i,o)}c&&(t.U.P.closePath(o),c=!1)}else if("o19"==S||"o20"==S)a.length%2!==0&&!l&&(u=a.shift()+i.nominalWidthX),s+=a.length>>1,a.length=0,l=!0,f+=s+7>>3;else if("o21"==S)a.length>2&&!l&&(u=a.shift()+i.nominalWidthX,l=!0),d+=a.pop(),h+=a.pop(),c&&t.U.P.closePath(o),t.U.P.moveTo(o,h,d),c=!0;else if("o22"==S)a.length>1&&!l&&(u=a.shift()+i.nominalWidthX,l=!0),h+=a.pop(),c&&t.U.P.closePath(o),t.U.P.moveTo(o,h,d),c=!0;else if("o25"==S){for(;a.length>6;)h+=a.shift(),d+=a.shift(),t.U.P.lineTo(o,h,d);p=h+a.shift(),m=d+a.shift(),v=p+a.shift(),g=m+a.shift(),h=v+a.shift(),d=g+a.shift(),t.U.P.curveTo(o,p,m,v,g,h,d)}else if("o26"==S)for(a.length%2&&(h+=a.shift());a.length>0;)p=h,m=d+a.shift(),h=v=p+a.shift(),d=(g=m+a.shift())+a.shift(),t.U.P.curveTo(o,p,m,v,g,h,d);else if("o27"==S)for(a.length%2&&(d+=a.shift());a.length>0;)m=d,v=(p=h+a.shift())+a.shift(),g=m+a.shift(),h=v+a.shift(),d=g,t.U.P.curveTo(o,p,m,v,g,h,d);else if("o10"==S||"o29"==S){var P="o10"==S?i:r;if(0==a.length)console.log("error: empty stack");else{var R=a.pop(),$=P.Subrs[R+P.Bias];n.x=h,n.y=d,n.nStems=s,n.haveWidth=l,n.width=u,n.open=c,t.U._drawCFF($,n,r,i,o),h=n.x,d=n.y,s=n.nStems,l=n.haveWidth,u=n.width,c=n.open}}else if("o30"==S||"o31"==S){var F=a.length,K=(L=0,"o31"==S);for(L+=F-(C=-3&F);L<C;)K?(m=d,v=(p=h+a.shift())+a.shift(),d=(g=m+a.shift())+a.shift(),C-L==5?(h=v+a.shift(),L++):h=v,K=!1):(p=h,m=d+a.shift(),v=p+a.shift(),g=m+a.shift(),h=v+a.shift(),C-L==5?(d=g+a.shift(),L++):d=g,K=!0),t.U.P.curveTo(o,p,m,v,g,h,d),L+=4}else{if("o"==(S+"").charAt(0))throw console.log("Unknown operation: "+S,e),S;a.push(S)}}}n.x=h,n.y=d,n.nStems=s,n.haveWidth=l,n.width=u,n.open=c},t},function(){var e=function(){var e={},t=0,n=-3;function r(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function i(e,t){this.source=e,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=t,this.destLen=0,this.ltree=new r,this.dtree=new r}var o=new r,a=new r,s=new Uint8Array(30),l=new Uint16Array(30),u=new Uint8Array(30),c=new Uint16Array(30),f=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),h=new r,d=new Uint8Array(320);function p(e,t,n,r){var i,o;for(i=0;i<n;++i)e[i]=0;for(i=0;i<30-n;++i)e[i+n]=i/n|0;for(o=r,i=0;i<30;++i)t[i]=o,o+=1<<e[i]}var m=new Uint16Array(16);function v(e,t,n,r){var i,o;for(i=0;i<16;++i)e.table[i]=0;for(i=0;i<r;++i)e.table[t[n+i]]++;for(e.table[0]=0,o=0,i=0;i<16;++i)m[i]=o,o+=e.table[i];for(i=0;i<r;++i)t[n+i]&&(e.trans[m[t[n+i]]++]=i)}function g(e){e.bitcount--||(e.tag=e.source[e.sourceIndex++],e.bitcount=7);var t=1&e.tag;return e.tag>>>=1,t}function y(e,t,n){if(!t)return n;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var r=e.tag&65535>>>16-t;return e.tag>>>=t,e.bitcount-=t,r+n}function _(e,t){for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var n=0,r=0,i=0,o=e.tag;do{r=2*r+(1&o),o>>>=1,++i,n+=t.table[i],r-=t.table[i]}while(r>=0);return e.tag=o,e.bitcount-=i,t.trans[n+r]}function b(e,t,n){var r,i,o,a,s,l;for(r=y(e,5,257),i=y(e,5,1),o=y(e,4,4),a=0;a<19;++a)d[a]=0;for(a=0;a<o;++a){var u=y(e,3,0);d[f[a]]=u}for(v(h,d,0,19),s=0;s<r+i;){var c=_(e,h);switch(c){case 16:var p=d[s-1];for(l=y(e,2,3);l;--l)d[s++]=p;break;case 17:for(l=y(e,3,3);l;--l)d[s++]=0;break;case 18:for(l=y(e,7,11);l;--l)d[s++]=0;break;default:d[s++]=c}}v(t,d,0,r),v(n,d,r,i)}function w(e,n,r){for(;;){var i,o,a,f,h=_(e,n);if(256===h)return t;if(h<256)e.dest[e.destLen++]=h;else for(i=y(e,s[h-=257],l[h]),o=_(e,r),a=e.destLen-y(e,u[o],c[o]),f=a;f<a+i;++f)e.dest[e.destLen++]=e.dest[f]}}function x(e){for(var r,i,o;e.bitcount>8;)e.sourceIndex--,e.bitcount-=8;if(r=256*(r=e.source[e.sourceIndex+1])+e.source[e.sourceIndex],i=256*(i=e.source[e.sourceIndex+3])+e.source[e.sourceIndex+2],r!==(65535&~i))return n;for(e.sourceIndex+=4,o=r;o;--o)e.dest[e.destLen++]=e.source[e.sourceIndex++];return e.bitcount=0,t}return function(e,t){var n;for(n=0;n<7;++n)e.table[n]=0;for(e.table[7]=24,e.table[8]=152,e.table[9]=112,n=0;n<24;++n)e.trans[n]=256+n;for(n=0;n<144;++n)e.trans[24+n]=n;for(n=0;n<8;++n)e.trans[168+n]=280+n;for(n=0;n<112;++n)e.trans[176+n]=144+n;for(n=0;n<5;++n)t.table[n]=0;for(t.table[5]=32,n=0;n<32;++n)t.trans[n]=n}(o,a),p(s,l,4,3),p(u,c,2,1),s[28]=0,l[28]=258,e.exports=function(e,r){var s,l,u=new i(e,r);do{switch(s=g(u),y(u,2,0)){case 0:l=x(u);break;case 1:l=w(u,o,a);break;case 2:b(u,u.ltree,u.dtree),l=w(u,u.ltree,u.dtree);break;default:l=n}if(l!==t)throw new Error("Data error")}while(!s);return u.destLen<u.dest.length?"function"===typeof u.dest.slice?u.dest.slice(0,u.destLen):u.dest.subarray(0,u.destLen):u.dest},e.exports}();return function(t){return function(e,t){var n=new DataView(e),r=0;function i(){var e=n.getUint16(r);return r+=2,e}function o(){var e=n.getUint32(r);return r+=4,e}function a(e){y.setUint16(_,e),_+=2}function s(e){y.setUint32(_,e),_+=4}for(var l={signature:o(),flavor:o(),length:o(),numTables:i(),reserved:i(),totalSfntSize:o(),majorVersion:i(),minorVersion:i(),metaOffset:o(),metaLength:o(),metaOrigLength:o(),privOffset:o(),privLength:o()},u=0;Math.pow(2,u)<=l.numTables;)u++;u--;for(var c=16*Math.pow(2,u),f=16*l.numTables-c,h=12,d=[],p=0;p<l.numTables;p++)d.push({tag:o(),offset:o(),compLength:o(),origLength:o(),origChecksum:o()}),h+=16;var m,v=new Uint8Array(12+16*d.length+d.reduce(function(e,t){return e+t.origLength+4},0)),g=v.buffer,y=new DataView(g),_=0;return s(l.flavor),a(l.numTables),a(c),a(u),a(f),d.forEach(function(e){s(e.tag),s(e.origChecksum),s(h),s(e.origLength),e.outOffset=h,(h+=e.origLength)%4!=0&&(h+=4-h%4)}),d.forEach(function(n){var r=e.slice(n.offset,n.offset+n.compLength);if(n.compLength!=n.origLength){var i=new Uint8Array(n.origLength);t(new Uint8Array(r,2),i)}else i=new Uint8Array(r);v.set(i,n.outOffset);var o=0;(h=n.outOffset+n.origLength)%4!=0&&(o=4-h%4),v.set(new Uint8Array(o).buffer,n.outOffset+n.origLength),m=h+o}),g.slice(0,m)}(t,e)}},function(e,t){var n={M:2,L:2,Q:4,C:6,Z:0};return function(r){var i=new Uint8Array(r,0,4),o=e._bin.readASCII(i,0,4);if("wOFF"===o)r=t(r);else if("wOF2"===o)throw new Error("woff2 fonts not supported");return function(t){var r=Object.create(null),i={unitsPerEm:t.head.unitsPerEm,ascender:t.hhea.ascender,descender:t.hhea.descender,forEachGlyph:function(o,a,s,l){var u=0,c=1/i.unitsPerEm*a,f=e.U.stringToGlyphs(t,o),h=0;return f.forEach(function(i){if(-1!==i){var f=r[i];if(!f){var d,p,m,v,g=e.U.glyphToPath(t,i),y=g.cmds,_=g.crds;if(_.length){d=p=1/0,m=v=-1/0;for(var b=0,w=_.length;b<w;b+=2){var x=_[b],A=_[b+1];x<d&&(d=x),A<p&&(p=A),x>m&&(m=x),A>v&&(v=A)}}else d=m=p=v=0;f=r[i]={index:i,advanceWidth:t.hmtx.aWidth[i],xMin:d,yMin:p,xMax:m,yMax:v,pathCommandCount:y.length,forEachPathCommand:function(e){for(var t=0,r=[],i=0,o=y.length;i<o;i++){var a=n[y[i]];r.length=1+a,r[0]=y[i];for(var s=1;s<=a;s++)r[s]=_[t++];e.apply(null,r)}}}}l.call(null,f,u,h),f.advanceWidth&&(u+=f.advanceWidth*c),s&&(u+=s*a)}h+=o.codePointAt(h)>65535?2:1}),u}};return i}(e.parse(r)[0])}}],init:function(e,t,n){var r=e(),i=t();return n(r,i)}}),a={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,textureWidth:2048},s=new t.Color,l=1/8,u=Object.create(null);function c(e,n){if((e=f({},e)).font=(h=e.font||a.defaultFontURL,i||(i="undefined"===typeof document?{}:document.createElement("a")),i.href=h,i.href),e.text=""+e.text,e.sdfGlyphSize=e.sdfGlyphSize||a.sdfGlyphSize,null!=e.colorRanges){var r={};for(var o in e.colorRanges)if(e.colorRanges.hasOwnProperty(o)){var c=e.colorRanges[o];"number"!==typeof c&&(c=s.set(c).getHex()),r[o]=c}e.colorRanges=r}var h;Object.freeze(e);var p=a.textureWidth,m=e.sdfGlyphSize,v=e.font+"@"+m,g=u[v];g||((g=u[v]={sdfTexture:new t.DataTexture(new Uint8Array(m*p),p,m,t.LuminanceFormat,void 0,void 0,void 0,void 0,t.LinearFilter,t.LinearFilter)}).sdfTexture.font=e.font),d(e).then(function(t){t.newGlyphSDFs&&(t.newGlyphSDFs.forEach(function(e){for(var t=e.textureData,n=e.atlasIndex,r=g.sdfTexture.image;r.data.length<(n+1)*m*m;){var i=new Uint8Array(2*r.data.length);i.set(r.data),r.data=i,r.height*=2}for(var o=r.width/m,a=0;a<m;a++)for(var s=a*m,l=r.width*m*Math.floor(n/o)+n%o*m+a*r.width,u=0;u<m;u++)r.data[l+u]=t[s+u]}),g.sdfTexture.needsUpdate=!0),n(Object.freeze({parameters:e,sdfTexture:g.sdfTexture,sdfGlyphSize:m,sdfMinDistancePercent:l,glyphBounds:t.glyphBounds,glyphAtlasIndices:t.glyphAtlasIndices,glyphColors:t.glyphColors,caretPositions:t.caretPositions,caretHeight:t.caretHeight,chunkedBounds:t.chunkedBounds,ascender:t.ascender,descender:t.descender,lineHeight:t.lineHeight,topBaseline:t.topBaseline,totalBounds:t.totalBounds,totalBlockSize:t.totalBlockSize,timings:t.timings}))})}function f(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var h=n.defineWorkerModule({name:"FontProcessor",dependencies:[a,l,o,function(e){var t=e.xMin,n=e.yMin,r=e.xMax,i=e.yMax,o=r-t,a=i-n,s=Math.round(t+o/2),l=Math.round(n+a/2),u=Math.pow(2,Math.floor(Math.log(Math.max(o,a))*Math.LOG2E)),c=1/0,f={0:null,1:null,2:null,3:null,data:null,cx:s,cy:l,r:u,minX:c,minY:c,maxX:-c,maxY:-c};function h(e){!function e(t,n){if(!1!==n(t)&&!t.data)for(var r=0;r<4;r++)null!==t[r]&&e(t[r],n)}(f,e)}function d(e,t,n,r,i,o){var a=i-n,s=o-r,l=a*a+s*s,u=l?Math.max(0,Math.min(1,((e-n)*a+(t-r)*s)/l)):0,c=e-(n+u*a),f=t-(r+u*s);return c*c+f*f}return{addLineSegment:function(e,t,n,r){!function e(t,n){var r=t.minX,i=t.minY,o=t.maxX,a=t.maxY,s=t.cx,l=t.cy;r<n.minX&&(n.minX=r),i<n.minY&&(n.minY=i),o>n.maxX&&(n.maxX=o),a>n.maxY&&(n.maxY=a);var u=n.data;if(u)if(u.cx===s&&u.cy===l){for(;u.next;)u=u.next;u.next=t}else n.data=null,e(u,n),e(t,n);else{var c=(l<n.cy?0:2)+(s<n.cx?0:1);n[c]?e(t,n[c]):n[c]={0:null,1:null,2:null,3:null,data:t,cx:n.cx+n.r/2*(c%2?1:-1),cy:n.cy+n.r/2*(c<2?-1:1),r:n.r/2,minX:r,minY:i,maxX:o,maxY:a}}}({x0:e,y0:t,x1:n,y1:r,cx:(e+n)/2,cy:(t+r)/2,minX:Math.min(e,n),minY:Math.min(t,r),maxX:Math.max(e,n),maxY:Math.max(t,r),next:null},f)},findNearestSignedDistance:function(e,t,n){var r=n,i=r*r;return h(function(n){if(e-r>n.maxX||e+r<n.minX||t-r>n.maxY||t+r<n.minY)return!1;for(var o=n.data;o;o=o.next){var a=d(e,t,o.x0,o.y0,o.x1,o.y1);a<i&&(i=a,r=Math.sqrt(a))}}),function(e,t){var n=!1;return h(function(r){if(r.maxX<e||r.minY>t||r.maxY<t)return!1;for(var i=r.data;i;i=i.next){var o=i.x0,a=i.y0,s=i.x1,l=i.y1;a>t!==l>t&&e<(s-o)*(t-a)/(l-a)+o&&(n=!n)}}),n}(e,t)||(r=-r),r}}},function(e,t){var n=t.sdfDistancePercent,r=16;function i(e,t,n,r,i,o,a){var s=1-a;return{x:s*s*e+2*s*a*n+a*a*i,y:s*s*t+2*s*a*r+a*a*o}}function o(e,t,n,r,i,o,a,s,l){var u=1-l;return{x:u*u*u*e+3*u*u*l*n+3*u*l*l*i+l*l*l*a,y:u*u*u*t+3*u*u*l*r+3*u*l*l*o+l*l*l*s}}return function(t,a){var s=new Uint8Array(a*a),l=t.xMax-t.xMin,u=t.yMax-t.yMin,c=Math.max(l,u)*n,f=(l+2*c)/a,h=(u+2*c)/a,d=t.xMin-c-f,p=t.yMin-c-h,m=t.xMax+c+f,v=t.yMax+c+h;if(t.pathCommandCount){var g,y,_,b,w=e(t);t.forEachPathCommand(function(e,t,n,a,s,l,u){switch(e){case"M":_=g=t,b=y=n;break;case"L":t===_&&n===b||w.addLineSegment(_,b,_=t,b=n);break;case"Q":for(var c={x:_,y:b},f=1;f<r;f++){var h=i(_,b,t,n,a,s,f/(r-1));w.addLineSegment(c.x,c.y,h.x,h.y),c=h}_=a,b=s;break;case"C":for(var d={x:_,y:b},p=1;p<r;p++){var m=o(_,b,t,n,a,s,l,u,p/(r-1));w.addLineSegment(d.x,d.y,m.x,m.y),d=m}_=l,b=u;break;case"Z":_===g&&b===y||w.addLineSegment(_,b,g,y)}});for(var x=0;x<a;x++)for(var A=0;A<a;A++){var M=w.findNearestSignedDistance(d+(m-d)*(x+.5)/a,p+(v-p)*(A+.5)/a,c),S=isFinite(M)?Math.round(255*(1+M/c)*.5):M;S=Math.max(0,Math.min(255,S)),s[A*a+x]=S}}return{textureData:s,renderingBounds:[d,p,m,v]}}},function(e,t,n){var r=n.defaultFontUrl,i=Object.create(null),o=Object.create(null),a=1/0;function s(t,n){t||(t=r);var i=o[t];i?i.pending?i.pending.push(n):n(i):(o[t]={pending:[n]},function(t,n){!function i(){var o=function(e){console.error("Failure loading font "+t+(t===r?"":"; trying fallback"),e),t!==r&&(t=r,i())};try{var a=new XMLHttpRequest;a.open("get",t,!0),a.responseType="arraybuffer",a.onload=function(){if(a.status>=400)o(new Error(a.statusText));else if(a.status>0)try{var t=e(a.response);n(t)}catch(r){o(r)}},a.onerror=o,a.send()}catch(s){o(s)}}()}(t,function(e){var n=o[t].pending;o[t]=e,n.forEach(function(t){return t(e)})}))}function l(e,n,o){var l=e.text;void 0===l&&(l="");var h=e.font;void 0===h&&(h=r);var d=e.sdfGlyphSize;void 0===d&&(d=64);var p=e.fontSize;void 0===p&&(p=1);var m=e.letterSpacing;void 0===m&&(m=0);var v=e.lineHeight;void 0===v&&(v="normal");var g=e.maxWidth;void 0===g&&(g=a);var y=e.textAlign;void 0===y&&(y="left");var _=e.textIndent;void 0===_&&(_=0);var b=e.whiteSpace;void 0===b&&(b="normal");var w=e.overflowWrap;void 0===w&&(w="normal");var x=e.anchorX;void 0===x&&(x=0);var A=e.anchorY;void 0===A&&(A=0);var M=e.includeCaretPositions;void 0===M&&(M=!1);var S=e.chunkedBoundsSize;void 0===S&&(S=8192);var C=e.colorRanges;void 0===C&&(C=null),void 0===o&&(o=!1);var E=c(),I={total:0,fontLoad:0,layout:0,sdf:{},sdfTotal:0};l.indexOf("\r")>-1&&(console.warn("FontProcessor.process: got text with \\r chars; normalizing to \\n"),l=l.replace(/\r\n/g,"\n").replace(/\r/g,"\n")),p=+p,m=+m,g=+g,v=v||"normal",_=+_,function(e,t,n){e||(e=r);var o=e+"@"+t,a=i[o];a?n(a):s(e,function(e){a=i[o]||(i[o]={fontObj:e,glyphs:{},glyphCount:0}),n(a)})}(h,d,function(e){var r=e.fontObj,i=isFinite(g),s=null,h=null,T=null,L=null,z=null,k=null,D=null,O=0,N=0,j="nowrap"!==b,P=r.ascender,R=r.descender,$=r.unitsPerEm;I.fontLoad=c()-E;var F=c(),K=p/$;"normal"===v&&(v=(P-R)/$);var U=((v*=p)-(P-R)*K)/2,V=-(p+U),B=Math.min(v,(P-R)*K),H=(P+R)/2*K-B/2,G=_,Q=new f,q=[Q];if(r.forEachGlyph(l,p,m,function(e,t,n){var r,o=l.charAt(n),a=e.advanceWidth*K,s=Q.count;if("isEmpty"in e||(e.isWhitespace=!!o&&/\s/.test(o),e.isEmpty=e.xMin===e.xMax||e.yMin===e.yMax),e.isWhitespace||e.isEmpty||N++,j&&i&&!e.isWhitespace&&t+a+G>g&&s){if(Q.glyphAt(s-1).glyphObj.isWhitespace)r=new f,G=-t;else for(var u=s;u--;){if(0===u&&"break-word"===w){r=new f,G=-t;break}if(Q.glyphAt(u).glyphObj.isWhitespace){var c=(r=Q.splitAt(u+1)).glyphAt(0).x;G-=c;for(var h=r.count;h--;)r.glyphAt(h).x-=c;break}}r&&(Q.isSoftWrapped=!0,Q=r,q.push(Q),O=g)}var d=Q.glyphAt(Q.count);d.glyphObj=e,d.x=t+G,d.width=a,d.charIndex=n,"\n"===o&&(Q=new f,q.push(Q),G=-(t+a+m*p)+_)}),q.forEach(function(e){for(var t=e.count;t--;){var n=e.glyphAt(t),r=n.glyphObj,i=n.x,o=n.width;if(!r.isWhitespace)return e.width=i+o,void(e.width>O&&(O=e.width))}}),!o){var W=0,Y=0;if(x&&("number"===typeof x?W=-x:"string"===typeof x&&(W=-O*("left"===x?0:"center"===x?.5:"right"===x?1:u(x)))),A)if("number"===typeof A)Y=-A;else if("string"===typeof A){var X=q.length*v;Y="top"===A?0:"top-baseline"===A?-V:"middle"===A?X/2:"bottom"===A?X:"bottom-baseline"===A?X-U+R*K:u(A)*X}h=new Float32Array(4*N),T=new Float32Array(N),k=[a,a,-a,-a],D=[];var J=V;M&&(z=new Float32Array(3*l.length)),C&&(L=new Uint8Array(3*N));var Z,ee,te=0,ne=-1,re=-1;q.forEach(function(n){var r=n.count,i=n.width;if(r>0){var o=0,u=0;if("center"===y)o=(O-i)/2;else if("right"===y)o=O-i;else if("justify"===y&&n.isSoftWrapped){for(var f=0,p=r;p--;)if(!n.glyphAt(p).glyphObj.isWhitespace){for(;p--;)n.glyphAt(p).glyphObj,n.glyphAt(p).glyphObj.isWhitespace&&f++;break}u=(O-i)/f}for(var m=0;m<r;m++){var g=n.glyphAt(m),_=g.glyphObj;if(o&&(g.x+=o),0!==u&&_.isWhitespace&&(o+=u,g.width+=u),M){var b=g.charIndex;for(z[3*b]=g.x+W,z[3*b+1]=g.x+g.width+W,z[3*b+2]=J+H+Y;b-ne>1;)z[3*(ne+1)]=z[3*ne+1],z[3*(ne+1)+1]=z[3*ne+1],z[3*(ne+1)+2]=z[3*ne+2],ne++;ne=b}if(C)for(var w=g.charIndex;w>re;)re++,C.hasOwnProperty(re)&&(ee=C[re]);if(!_.isWhitespace&&!_.isEmpty){var x=te++,A=e.glyphs[_.index];if(!A){var E=c(),N=t(_,d);I.sdf[l.charAt(g.charIndex)]=c()-E,N.atlasIndex=e.glyphCount++,s||(s=[]),s.push(N),A=e.glyphs[_.index]={atlasIndex:N.atlasIndex,glyphObj:_,renderingBounds:N.renderingBounds}}var j=A.renderingBounds,P=4*x,R=h[P]=g.x+j[0]*K+W,$=h[P+1]=J+j[1]*K+Y,F=h[P+2]=g.x+j[2]*K+W,U=h[P+3]=J+j[3]*K+Y;if(R<k[0]&&(k[0]=R),$<k[1]&&(k[1]=$),F>k[2]&&(k[2]=F),U>k[3]&&(k[3]=U),x%S===0&&(Z={start:x,end:x,rect:[a,a,-a,-a]},D.push(Z)),Z.end++,R<Z.rect[0]&&(Z.rect[0]=R),$<Z.rect[1]&&(Z.rect[1]=$),F>Z.rect[2]&&(Z.rect[2]=F),U>Z.rect[3]&&(Z.rect[3]=U),T[x]=A.atlasIndex,C){var V=3*x;L[V]=ee>>16&255,L[V+1]=ee>>8&255,L[V+2]=255&ee}}}}J-=v})}for(var ie in I.sdf)I.sdfTotal+=I.sdf[ie];I.layout=c()-F-I.sdfTotal,I.total=c()-E,n({glyphBounds:h,glyphAtlasIndices:T,caretPositions:z,caretHeight:B,glyphColors:L,chunkedBounds:D,ascender:P*K,descender:R*K,lineHeight:v,topBaseline:V,totalBounds:k,totalBlockSize:[O,q.length*v],newGlyphSDFs:s,timings:I})})}function u(e){var t=e.match(/^([\d.]+)%$/),n=t?parseFloat(t[1]):NaN;return isNaN(n)?0:n/100}function c(){return(self.performance||Date).now()}function f(){this.data=[]}return f.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/4)},glyphAt:function(e){var t=f.flyweight;return t.data=this.data,t.index=e,t},splitAt:function(e){var t=new f;return t.data=this.data.splice(4*e),t}},f.flyweight=["glyphObj","x","width","charIndex"].reduce(function(e,t,n,r){return Object.defineProperty(e,t,{get:function(){return this.data[4*this.index+n]},set:function(e){this.data[4*this.index+n]=e}}),e},{data:null,index:0}),{process:l,measure:function(e,t){l(e,function(e){t({width:e.totalBlockSize[0],height:e.totalBlockSize[1]})},{metricsOnly:!0})},loadFont:s}}],init:function(e,t,n,r,i,o){var a=i(r,{sdfDistancePercent:t});return o(n,a,{defaultFontUrl:e.defaultFontURL})}}),d=n.defineWorkerModule({name:"TextBuilder",dependencies:[h,n.ThenableWorkerModule],init:function(e,t){return function(n){var r=new t;return e.process(n,r.resolve),r}},getTransferables:function(e){var t=[e.glyphBounds.buffer,e.glyphAtlasIndices.buffer];return e.caretPositions&&t.push(e.caretPositions.buffer),e.newGlyphSDFs&&e.newGlyphSDFs.forEach(function(e){t.push(e.textureData.buffer)}),t}}),p={},m=new t.Vector3,v=function(e){function n(){e.call(this),this.detail=1,this.boundingSphere=new t.Sphere}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var r={detail:{configurable:!0}};return n.prototype.computeBoundingSphere=function(){},r.detail.set=function(e){var n=this;if(e!==this._detail){this._detail=e,("number"!==typeof e||e<1)&&(e=1);var r=function(e){var n=p[e];return n||(n=p[e]=new t.PlaneBufferGeometry(1,1,e,e).translate(.5,.5,0)),n}(e);["position","normal","uv"].forEach(function(e){n.attributes[e]=r.attributes[e].clone()}),this.setIndex(r.getIndex().clone())}},r.detail.get=function(){return this._detail},n.prototype.updateGlyphs=function(e,t,n,r,i){g(this,"aTroikaGlyphBounds",e,4),g(this,"aTroikaGlyphIndex",t,1),g(this,"aTroikaGlyphColor",i,3),this._chunkedBounds=r,y(this,t.length);var o=this.boundingSphere;o.center.set((n[0]+n[2])/2,(n[1]+n[3])/2,0),o.radius=o.center.distanceTo(m.set(n[0],n[1],0))},n.prototype.applyClipRect=function(e){var t=this.getAttribute("aTroikaGlyphIndex").count,n=this._chunkedBounds;if(n)for(var r=n.length;r--;){t=n[r].end;var i=n[r].rect;if(i[1]<e.w&&i[3]>e.y&&i[0]<e.z&&i[2]>e.x)break}y(this,t)},Object.defineProperties(n.prototype,r),n}(t.InstancedBufferGeometry);function g(e,n,r,i){var o=e.getAttribute(n);r?o&&o.array.length===r.length?(o.array.set(r),o.needsUpdate=!0):(e.setAttribute(n,new t.InstancedBufferAttribute(r,i)),delete e._maxInstanceCount,e.dispose()):o&&e.deleteAttribute(n)}function y(e,t){e[e.hasOwnProperty("instanceCount")?"instanceCount":"maxInstancedCount"]=t}v.prototype.setAttribute||(v.prototype.setAttribute=function(e,t){return this.attributes[e]=t,this});var _="\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform vec4 uTroikaTotalBounds;\nuniform vec4 uTroikaClipRect;\nuniform mat3 uTroikaOrient;\nuniform bool uTroikaUseGlyphColors;\nattribute vec4 aTroikaGlyphBounds;\nattribute float aTroikaGlyphIndex;\nattribute vec3 aTroikaGlyphColor;\nvarying vec2 vTroikaSDFTextureUV;\nvarying vec2 vTroikaGlyphUV;\nvarying vec3 vTroikaGlyphColor;\n",b="\nvec4 bounds = aTroikaGlyphBounds;\nvec4 clippedBounds = vec4(\n  clamp(bounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),\n  clamp(bounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)\n);\nvec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);\nvTroikaGlyphUV = clippedXY.xy;\n\nfloat cols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;\nvTroikaSDFTextureUV = vec2(\n  mod(aTroikaGlyphIndex, cols) + clippedXY.x,\n  floor(aTroikaGlyphIndex / cols) + clippedXY.y\n) * uTroikaSDFGlyphSize / uTroikaSDFTextureSize;\n\nposition.xy = mix(bounds.xy, bounds.zw, clippedXY);\n\nuv = vec2(\n  (position.x - uTroikaTotalBounds.x) / (uTroikaTotalBounds.z - uTroikaTotalBounds.x),\n  (position.y - uTroikaTotalBounds.y) / (uTroikaTotalBounds.w - uTroikaTotalBounds.y)\n);\n\nposition = uTroikaOrient * position;\nnormal = uTroikaOrient * normal;\n",w="\nuniform sampler2D uTroikaSDFTexture;\nuniform float uTroikaSDFMinDistancePct;\nuniform bool uTroikaSDFDebug;\nvarying vec2 vTroikaSDFTextureUV;\nvarying vec2 vTroikaGlyphUV;\n\nfloat troikaGetTextAlpha() {\n  float troikaSDFValue = texture2D(uTroikaSDFTexture, vTroikaSDFTextureUV).r;\n  \n  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)\n  float alpha = step(0.5, troikaSDFValue);\n  #else\n  \n  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300\n  float aaDist = min(\n    0.5,\n    0.5 * min(\n      fwidth(vTroikaGlyphUV.x),\n      fwidth(vTroikaGlyphUV.y)\n    )\n  ) / uTroikaSDFMinDistancePct;\n  #else\n  float aaDist = 0.01;\n  #endif\n  \n  float alpha = uTroikaSDFDebug ? troikaSDFValue : smoothstep(\n    0.5 - aaDist,\n    0.5 + aaDist,\n    troikaSDFValue\n  );\n  #endif\n  \n  return alpha;\n}\n",x="\nfloat troikaAlphaMult = troikaGetTextAlpha();\nif (troikaAlphaMult == 0.0) {\n  discard;\n} else {\n  gl_FragColor.a *= troikaAlphaMult;\n}\n";function A(e){var n=r.createDerivedMaterial(e,{extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new t.Vector2},uTroikaSDFGlyphSize:{value:0},uTroikaSDFMinDistancePct:{value:0},uTroikaTotalBounds:{value:new t.Vector4(0,0,0,0)},uTroikaClipRect:{value:new t.Vector4(0,0,0,0)},uTroikaOrient:{value:new t.Matrix3},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:_,vertexTransform:b,fragmentDefs:w,fragmentColorTransform:x,customRewriter:function(e){var t=e.vertexShader,n=e.fragmentShader,i=/\buniform\s+vec3\s+diffuse\b/;return i.test(n)&&(n=n.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(t)||(t=t.replace(r.voidMainRegExp,"uniform vec3 diffuse;\n$&\nvTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;\n"))),{vertexShader:t,fragmentShader:n}}});return n.transparent=!0,Object.defineProperties(n,{isTroikaTextMaterial:{value:!0},shadowSide:{get:function(){return this.side},set:function(){}}}),n}var M=new t.MeshBasicMaterial({color:16777215,side:t.DoubleSide,transparent:!0}),S=new t.Matrix4,C=new t.Vector3,E=new t.Vector3,I=[],T=new t.Vector3,L="+x+y",z=new t.Mesh(new t.PlaneBufferGeometry(1,1).translate(.5,.5,0),M),k={type:"syncstart"},D={type:"synccomplete"},O=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],N=O.concat("material","color","depthOffset","clipRect","orientation","glyphGeometryDetail"),j=function(e){function t(){var t=new v;e.call(this,t,null),this.text="",this.anchorX=0,this.anchorY=0,this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.depthOffset=0,this.clipRect=null,this.orientation=L,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.debugSDF=!1}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={textRenderInfo:{configurable:!0},material:{configurable:!0},glyphGeometryDetail:{configurable:!0},customDepthMaterial:{configurable:!0},customDistanceMaterial:{configurable:!0}};return t.prototype.sync=function(e){var t=this;this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(k),c({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize},function(n){t._isSyncing=!1,t._textRenderInfo=n,t.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.totalBounds,n.chunkedBounds,n.glyphColors);var r=t._queuedSyncs;r&&(t._queuedSyncs=null,t._needsSync=!0,t.sync(function(){r.forEach(function(e){return e&&e()})})),t.dispatchEvent(D),e&&e()})))},t.prototype.onBeforeRender=function(){this.sync(),this._prepareForRender()},t.prototype.dispose=function(){this.geometry.dispose()},n.textRenderInfo.get=function(){return this._textRenderInfo||null},n.material.get=function(){var e=this._derivedMaterial,t=this._baseMaterial||M;return e&&e.baseMaterial===t||(e=this._derivedMaterial=A(t),t.addEventListener("dispose",function n(){t.removeEventListener("dispose",n),e.dispose()})),e},n.material.set=function(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e},n.glyphGeometryDetail.get=function(){return this.geometry.detail},n.glyphGeometryDetail.set=function(e){this.geometry.detail=e},n.customDepthMaterial.get=function(){return this.material.getDepthMaterial()},n.customDistanceMaterial.get=function(){return this.material.getDistanceMaterial()},t.prototype._prepareForRender=function(){var e=this._derivedMaterial,t=e.uniforms,n=this.textRenderInfo;if(n){var r=n.sdfTexture,i=n.totalBounds;t.uTroikaSDFTexture.value=r,t.uTroikaSDFTextureSize.value.set(r.image.width,r.image.height),t.uTroikaSDFGlyphSize.value=n.sdfGlyphSize,t.uTroikaSDFMinDistancePct.value=n.sdfMinDistancePercent,t.uTroikaTotalBounds.value.fromArray(i),t.uTroikaUseGlyphColors.value=!!n.glyphColors;var o=this.clipRect;o&&Array.isArray(o)&&4===o.length?t.uTroikaClipRect.value.set(Math.max(i[0],o[0]),Math.max(i[1],o[1]),Math.min(i[2],o[2]),Math.min(i[3],o[3])):t.uTroikaClipRect.value.fromArray(i),this.geometry.applyClipRect(t.uTroikaClipRect.value)}t.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;var a=this.color;null!=a&&e.color&&e.color.isColor&&a!==e._troikaColor&&e.color.set(e._troikaColor=a);var s=this.orientation||L;if(s!==e._orientation){var l=t.uTroikaOrient.value,u=(s=s.replace(/[^-+xyz]/g,""))!==L&&s.match(/^([-+])([xyz])([-+])([xyz])$/);if(u){var c=u[1],f=u[2],h=u[3],d=u[4];C.set(0,0,0)[f]="-"===c?1:-1,E.set(0,0,0)[d]="-"===h?-1:1,S.lookAt(T,C.cross(E),E),l.setFromMatrix4(S)}else l.identity();e._orientation=s}},t.prototype.raycast=function(e,t){var n=this.textRenderInfo;if(n){var r=n.totalBounds;z.matrixWorld.multiplyMatrices(this.matrixWorld,S.set(r[2]-r[0],0,0,r[0],0,r[3]-r[1],0,r[1],0,0,1,0,0,0,0,1)),I.length=0,z.raycast(e,I);for(var i=0;i<I.length;i++)I[i].object=this,t.push(I[i])}},t.prototype.copy=function(t){var n=this;return e.prototype.copy.call(this,t),N.forEach(function(e){n[e]=t[e]}),this},t.prototype.clone=function(){return(new this.constructor).copy(this)},Object.defineProperties(t.prototype,n),t}(t.Mesh);O.forEach(function(e){var t="_private_"+e;Object.defineProperty(j.prototype,e,{get:function(){return this[t]},set:function(e){e!==this[t]&&(this[t]=e,this._needsSync=!0)}})});var P=!1;Object.defineProperty(j.prototype,"anchor",{get:function(){return this._deprecated_anchor},set:function(e){this._deprecated_anchor=e,P||(console.warn("TextMesh: `anchor` has been deprecated; use `anchorX` and `anchorY` instead."),P=!0),Array.isArray(e)?(this.anchorX=100*(+e[0]||0)+"%",this.anchorY=100*(+e[1]||0)+"%"):this.anchorX=this.anchorY=0}});var R=new WeakMap,$=new WeakMap;e.GlyphsGeometry=v,e.Text=j,e.configureTextBuilder=function(e){f(a,e)},e.createTextDerivedMaterial=A,e.fontProcessorWorkerModule=h,e.getCaretAtPoint=function(e,t,n){var r=null,i=e.caretHeight,o=function(e){var t=$.get(e);if(!t){var n=e.caretPositions,r=e.caretHeight;t=new Map;for(var i=0;i<n.length;i+=3){var o=n[i+2],a=t.get(o);a||t.set(o,a=[]),a.push({x:n[i],y:o,height:r,charIndex:i/3}),i+3>=n.length&&a.push({x:n[i+1],y:o,height:r,charIndex:i/3+1})}}return $.set(e,t),t}(e),a=1/0;return o.forEach(function(e,t){Math.abs(n-(t+i/2))<Math.abs(n-(a+i/2))&&(a=t)}),o.get(a).forEach(function(e){(!r||Math.abs(t-e.x)<Math.abs(t-r.x))&&(r=e)}),r},e.getSelectionRects=function(e,t,n){var r;if(e){var i=R.get(e);if(i&&i.start===t&&i.end===n)return i.rects;var o=e.caretPositions,a=e.caretHeight,s=e.totalBounds;if(n<t){var l=t;t=n,n=l}t=Math.max(t,0),n=Math.min(n,o.length+1);for(var u=new Map,c=t;c<n;c++){var f=o[3*c],h=o[3*c+1],d=o[3*c+2],p=u.get(d);p?(p.left=Math.max(Math.min(p.left,f),s[0]),p.right=Math.min(Math.max(p.right,h),s[2])):(p={left:f,right:h,bottom:d,top:d+a},u.set(d,p))}r=[],u.forEach(function(e){r.push(e)}),R.set(e,{start:t,end:n,rects:r})}return r},e.preloadFont=function(e,t){var n=e.font,r=e.characters,i=e.sdfGlyphSize,o=Array.isArray(r)?r.join("\n"):""+r;c({font:n,sdfGlyphSize:i,text:o},t)},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(1),n(629),n(630))},function(e,t,n){e.exports=function(){var e=function e(){function t(e){return i.appendChild(e.dom),e}function n(e){for(var t=0;t<i.children.length;t++)i.children[t].style.display=t===e?"block":"none";r=e}var r=0,i=document.createElement("div");i.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",i.addEventListener("click",function(e){e.preventDefault(),n(++r%i.children.length)},!1);var o=(performance||Date).now(),a=o,s=0,l=t(new e.Panel("FPS","#0ff","#002")),u=t(new e.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var c=t(new e.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:i,addPanel:t,showPanel:n,begin:function(){o=(performance||Date).now()},end:function(){s++;var e=(performance||Date).now();if(u.update(e-o,200),e>a+1e3&&(l.update(1e3*s/(e-a),100),a=e,s=0,c)){var t=performance.memory;c.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){o=this.end()},domElement:i,setMode:n}};return e.Panel=function(e,t,n){var r=1/0,i=0,o=Math.round,a=o(window.devicePixelRatio||1),s=80*a,l=48*a,u=3*a,c=2*a,f=3*a,h=15*a,d=74*a,p=30*a,m=document.createElement("canvas");m.width=s,m.height=l,m.style.cssText="width:80px;height:48px";var v=m.getContext("2d");return v.font="bold "+9*a+"px Helvetica,Arial,sans-serif",v.textBaseline="top",v.fillStyle=n,v.fillRect(0,0,s,l),v.fillStyle=t,v.fillText(e,u,c),v.fillRect(f,h,d,p),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(f,h,d,p),{dom:m,update:function(l,g){r=Math.min(r,l),i=Math.max(i,l),v.fillStyle=n,v.globalAlpha=1,v.fillRect(0,0,s,h),v.fillStyle=t,v.fillText(o(l)+" "+e+" ("+o(r)+"-"+o(i)+")",u,c),v.drawImage(m,f+a,h,d-a,p,f,h,d-a,p),v.fillRect(f+d-a,h,a,p),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(f+d-a,h,a,o((1-l/g)*p))}}},e}()},function(e,t,n){"use strict";var r=n(2),i=n(8),o=n(6),a=n(3),s=n(13),l=n(5);n(16),n(12),n(7);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=n(0),f=n.n(c),h=n(10),d=n(1),p=function(e,t){void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.enabled=!0,this.target=new d.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:d.MOUSE.ROTATE,MIDDLE:d.MOUSE.DOLLY,RIGHT:d.MOUSE.PAN},this.touches={ONE:d.TOUCH.ROTATE,TWO:d.TOUCH.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return u.phi},this.getAzimuthalAngle=function(){return u.theta},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(r),n.update(),s=a.NONE},this.update=function(){var t=new d.Vector3,i=(new d.Quaternion).setFromUnitVectors(e.up,new d.Vector3(0,1,0)),o=i.clone().inverse(),m=new d.Vector3,v=new d.Quaternion,g=2*Math.PI;return function(){var e=n.object.position;t.copy(e).sub(n.target),t.applyQuaternion(i),u.setFromVector3(t),n.autoRotate&&s===a.NONE&&S(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(u.theta+=c.theta*n.dampingFactor,u.phi+=c.phi*n.dampingFactor):(u.theta+=c.theta,u.phi+=c.phi);var d=n.minAzimuthAngle,y=n.maxAzimuthAngle;return isFinite(d)&&isFinite(y)&&(d<-Math.PI?d+=g:d>Math.PI&&(d-=g),y<-Math.PI?y+=g:y>Math.PI&&(y-=g),u.theta=d<y?Math.max(d,Math.min(y,u.theta)):u.theta>(d+y)/2?Math.max(d,u.theta):Math.min(y,u.theta)),u.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,u.phi)),u.makeSafe(),u.radius*=f,u.radius=Math.max(n.minDistance,Math.min(n.maxDistance,u.radius)),!0===n.enableDamping?n.target.addScaledVector(h,n.dampingFactor):n.target.add(h),t.setFromSpherical(u),t.applyQuaternion(o),e.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(c.theta*=1-n.dampingFactor,c.phi*=1-n.dampingFactor,h.multiplyScalar(1-n.dampingFactor)):(c.set(0,0,0),h.set(0,0,0)),f=1,!!(p||m.distanceToSquared(n.object.position)>l||8*(1-v.dot(n.object.quaternion))>l)&&(n.dispatchEvent(r),m.copy(n.object.position),v.copy(n.object.quaternion),p=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",q,!1),n.domElement.removeEventListener("mousedown",F,!1),n.domElement.removeEventListener("wheel",V,!1),n.domElement.removeEventListener("touchstart",H,!1),n.domElement.removeEventListener("touchend",Q,!1),n.domElement.removeEventListener("touchmove",G,!1),n.domElement.ownerDocument.removeEventListener("mousemove",K,!1),n.domElement.ownerDocument.removeEventListener("mouseup",U,!1),n.domElement.removeEventListener("keydown",B,!1)};var n=this,r={type:"change"},i={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},s=a.NONE,l=1e-6,u=new d.Spherical,c=new d.Spherical,f=1,h=new d.Vector3,p=!1,m=new d.Vector2,v=new d.Vector2,g=new d.Vector2,y=new d.Vector2,_=new d.Vector2,b=new d.Vector2,w=new d.Vector2,x=new d.Vector2,A=new d.Vector2;function M(){return Math.pow(.95,n.zoomSpeed)}function S(e){c.theta-=e}function C(e){c.phi-=e}var E=function(){var e=new d.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),h.add(e)}}(),I=function(){var e=new d.Vector3;return function(t,r){!0===n.screenSpacePanning?e.setFromMatrixColumn(r,1):(e.setFromMatrixColumn(r,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),h.add(e)}}(),T=function(){var e=new d.Vector3;return function(t,r){var i=n.domElement;if(n.object.isPerspectiveCamera){var o=n.object.position;e.copy(o).sub(n.target);var a=e.length();a*=Math.tan(n.object.fov/2*Math.PI/180),E(2*t*a/i.clientHeight,n.object.matrix),I(2*r*a/i.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(E(t*(n.object.right-n.object.left)/n.object.zoom/i.clientWidth,n.object.matrix),I(r*(n.object.top-n.object.bottom)/n.object.zoom/i.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function L(e){n.object.isPerspectiveCamera?f/=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*e)),n.object.updateProjectionMatrix(),p=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function z(e){n.object.isPerspectiveCamera?f*=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/e)),n.object.updateProjectionMatrix(),p=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function k(e){m.set(e.clientX,e.clientY)}function D(e){y.set(e.clientX,e.clientY)}function O(e){if(1==e.touches.length)m.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);m.set(t,n)}}function N(e){if(1==e.touches.length)y.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);y.set(t,n)}}function j(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);w.set(0,r)}function P(e){if(1==e.touches.length)v.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);v.set(t,r)}g.subVectors(v,m).multiplyScalar(n.rotateSpeed);var i=n.domElement;S(2*Math.PI*g.x/i.clientHeight),C(2*Math.PI*g.y/i.clientHeight),m.copy(v)}function R(e){if(1==e.touches.length)_.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);_.set(t,r)}b.subVectors(_,y).multiplyScalar(n.panSpeed),T(b.x,b.y),y.copy(_)}function $(e){var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+r*r);x.set(0,i),A.set(0,Math.pow(x.y/w.y,n.zoomSpeed)),L(A.y),w.copy(x)}function F(e){if(!1!==n.enabled){var t;switch(e.preventDefault(),n.domElement.focus?n.domElement.focus():window.focus(),e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case d.MOUSE.DOLLY:if(!1===n.enableZoom)return;!function(e){w.set(e.clientX,e.clientY)}(e),s=a.DOLLY;break;case d.MOUSE.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;D(e),s=a.PAN}else{if(!1===n.enableRotate)return;k(e),s=a.ROTATE}break;case d.MOUSE.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;k(e),s=a.ROTATE}else{if(!1===n.enablePan)return;D(e),s=a.PAN}break;default:s=a.NONE}s!==a.NONE&&(n.domElement.ownerDocument.addEventListener("mousemove",K,!1),n.domElement.ownerDocument.addEventListener("mouseup",U,!1),n.dispatchEvent(i))}}function K(e){if(!1!==n.enabled)switch(e.preventDefault(),s){case a.ROTATE:if(!1===n.enableRotate)return;!function(e){v.set(e.clientX,e.clientY),g.subVectors(v,m).multiplyScalar(n.rotateSpeed);var t=n.domElement;S(2*Math.PI*g.x/t.clientHeight),C(2*Math.PI*g.y/t.clientHeight),m.copy(v),n.update()}(e);break;case a.DOLLY:if(!1===n.enableZoom)return;!function(e){x.set(e.clientX,e.clientY),A.subVectors(x,w),A.y>0?L(M()):A.y<0&&z(M()),w.copy(x),n.update()}(e);break;case a.PAN:if(!1===n.enablePan)return;!function(e){_.set(e.clientX,e.clientY),b.subVectors(_,y).multiplyScalar(n.panSpeed),T(b.x,b.y),y.copy(_),n.update()}(e)}}function U(e){!1!==n.enabled&&(n.domElement.ownerDocument.removeEventListener("mousemove",K,!1),n.domElement.ownerDocument.removeEventListener("mouseup",U,!1),n.dispatchEvent(o),s=a.NONE)}function V(e){!1===n.enabled||!1===n.enableZoom||s!==a.NONE&&s!==a.ROTATE||(e.preventDefault(),e.stopPropagation(),n.dispatchEvent(i),function(e){e.deltaY<0?z(M()):e.deltaY>0&&L(M()),n.update()}(e),n.dispatchEvent(o))}function B(e){!1!==n.enabled&&!1!==n.enableKeys&&!1!==n.enablePan&&function(e){var t=!1;switch(e.keyCode){case n.keys.UP:T(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:T(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:T(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:T(-n.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),n.update())}(e)}function H(e){if(!1!==n.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(n.touches.ONE){case d.TOUCH.ROTATE:if(!1===n.enableRotate)return;O(e),s=a.TOUCH_ROTATE;break;case d.TOUCH.PAN:if(!1===n.enablePan)return;N(e),s=a.TOUCH_PAN;break;default:s=a.NONE}break;case 2:switch(n.touches.TWO){case d.TOUCH.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){n.enableZoom&&j(e),n.enablePan&&N(e)}(e),s=a.TOUCH_DOLLY_PAN;break;case d.TOUCH.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(e){n.enableZoom&&j(e),n.enableRotate&&O(e)}(e),s=a.TOUCH_DOLLY_ROTATE;break;default:s=a.NONE}break;default:s=a.NONE}s!==a.NONE&&n.dispatchEvent(i)}}function G(e){if(!1!==n.enabled)switch(e.preventDefault(),e.stopPropagation(),s){case a.TOUCH_ROTATE:if(!1===n.enableRotate)return;P(e),n.update();break;case a.TOUCH_PAN:if(!1===n.enablePan)return;R(e),n.update();break;case a.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){n.enableZoom&&$(e),n.enablePan&&R(e)}(e),n.update();break;case a.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(e){n.enableZoom&&$(e),n.enableRotate&&P(e)}(e),n.update();break;default:s=a.NONE}}function Q(e){!1!==n.enabled&&(n.dispatchEvent(o),s=a.NONE)}function q(e){!1!==n.enabled&&e.preventDefault()}n.domElement.addEventListener("contextmenu",q,!1),n.domElement.addEventListener("mousedown",F,!1),n.domElement.addEventListener("wheel",V,!1),n.domElement.addEventListener("touchstart",H,!1),n.domElement.addEventListener("touchend",Q,!1),n.domElement.addEventListener("touchmove",G,!1),n.domElement.addEventListener("keydown",B,!1),-1===n.domElement.tabIndex&&(n.domElement.tabIndex=0),this.update()};(p.prototype=Object.create(d.EventDispatcher.prototype)).constructor=p;var m=function(e,t){p.call(this,e,t),this.screenSpacePanning=!1,this.mouseButtons.LEFT=d.MOUSE.PAN,this.mouseButtons.RIGHT=d.MOUSE.ROTATE,this.touches.ONE=d.TOUCH.PAN,this.touches.TWO=d.TOUCH.DOLLY_ROTATE};(m.prototype=Object.create(d.EventDispatcher.prototype)).constructor=m;var v=n(20),g=n(109);function y(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var _=function(e,t){void 0===t&&(console.warn('THREE.TransformControls: The second parameter "domElement" is now mandatory.'),t=document),d.Object3D.call(this),this.visible=!1,this.domElement=t;var n=new b;this.add(n);var r=new w;this.add(r);var i=this;V("camera",e),V("object",void 0),V("enabled",!0),V("axis",null),V("mode","translate"),V("translationSnap",null),V("rotationSnap",null),V("scaleSnap",null),V("space","world"),V("size",1),V("dragging",!1),V("showX",!0),V("showY",!0),V("showZ",!0);var o={type:"change"},a={type:"mouseDown"},s={type:"mouseUp",mode:i.mode},l={type:"objectChange"},u=new d.Raycaster;function c(e,t,n){for(var r=t.intersectObject(e,!0),i=0;i<r.length;i++)if(r[i].object.visible||n)return r[i];return!1}var f=new d.Vector3,h=new d.Vector3,p=new d.Quaternion,m={X:new d.Vector3(1,0,0),Y:new d.Vector3(0,1,0),Z:new d.Vector3(0,0,1)},v=new d.Vector3,g=new d.Vector3,y=new d.Vector3,_=new d.Vector3,x=new d.Vector3,A=new d.Vector3,M=0,S=new d.Vector3,C=new d.Quaternion,E=new d.Vector3,I=new d.Vector3,T=new d.Quaternion,L=new d.Quaternion,z=new d.Vector3,k=new d.Vector3,D=new d.Quaternion,O=new d.Vector3,N=new d.Vector3,j=new d.Quaternion,P=new d.Quaternion,R=new d.Vector3,$=new d.Vector3,F=new d.Vector3,K=new d.Quaternion,U=new d.Vector3;function V(e,t){var a=t;Object.defineProperty(i,e,{get:function(){return void 0!==a?a:t},set:function(t){a!==t&&(a=t,r[e]=t,n[e]=t,i.dispatchEvent({type:e+"-changed",value:t}),i.dispatchEvent(o))}}),i[e]=t,r[e]=t,n[e]=t}function B(e){if(i.domElement.ownerDocument.pointerLockElement)return{x:0,y:0,button:e.button};var n=e.changedTouches?e.changedTouches[0]:e,r=t.getBoundingClientRect();return{x:(n.clientX-r.left)/r.width*2-1,y:-(n.clientY-r.top)/r.height*2+1,button:e.button}}function H(e){i.enabled&&i.pointerHover(B(e))}function G(e){i.enabled&&(i.domElement.ownerDocument.addEventListener("mousemove",Q,!1),i.pointerHover(B(e)),i.pointerDown(B(e)))}function Q(e){i.enabled&&i.pointerMove(B(e))}function q(e){i.enabled&&(i.domElement.ownerDocument.removeEventListener("mousemove",Q,!1),i.pointerUp(B(e)))}V("worldPosition",N),V("worldPositionStart",k),V("worldQuaternion",j),V("worldQuaternionStart",D),V("cameraPosition",S),V("cameraQuaternion",C),V("pointStart",v),V("pointEnd",g),V("rotationAxis",_),V("rotationAngle",M),V("eye",$),t.addEventListener("mousedown",G,!1),t.addEventListener("touchstart",G,!1),t.addEventListener("mousemove",H,!1),t.addEventListener("touchmove",H,!1),t.addEventListener("touchmove",Q,!1),i.domElement.ownerDocument.addEventListener("mouseup",q,!1),t.addEventListener("touchend",q,!1),t.addEventListener("touchcancel",q,!1),t.addEventListener("touchleave",q,!1),this.dispose=function(){t.removeEventListener("mousedown",G),t.removeEventListener("touchstart",G),t.removeEventListener("mousemove",H),i.domElement.ownerDocument.removeEventListener("mousemove",Q),t.removeEventListener("touchmove",H),t.removeEventListener("touchmove",Q),i.domElement.ownerDocument.removeEventListener("mouseup",q),t.removeEventListener("touchend",q),t.removeEventListener("touchcancel",q),t.removeEventListener("touchleave",q),this.traverse(function(e){e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose()})},this.attach=function(e){return this.object=e,this.visible=!0,this},this.detach=function(){return this.object=void 0,this.visible=!1,this.axis=null,this},this.updateMatrixWorld=function(){void 0!==this.object&&(this.object.updateMatrixWorld(),null===this.object.parent?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):this.object.parent.matrixWorld.decompose(I,T,z),this.object.matrixWorld.decompose(N,j,R),L.copy(T).inverse(),P.copy(j).inverse()),this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(S,C,E),$.copy(S).sub(N).normalize(),d.Object3D.prototype.updateMatrixWorld.call(this)},this.pointerHover=function(e){if(void 0!==this.object&&!0!==this.dragging&&(void 0===e.button||0===e.button)){u.setFromCamera(e,this.camera);var t=c(n.picker[this.mode],u);this.axis=t?t.object.name:null}},this.pointerDown=function(e){if(void 0!==this.object&&!0!==this.dragging&&(void 0===e.button||0===e.button)&&(0===e.button||void 0===e.button)&&null!==this.axis){u.setFromCamera(e,this.camera);var t=c(r,u,!0);if(t){var n=this.space;if("scale"===this.mode?n="local":"E"!==this.axis&&"XYZE"!==this.axis&&"XYZ"!==this.axis||(n="world"),"local"===n&&"rotate"===this.mode){var i=this.rotationSnap;"X"===this.axis&&i&&(this.object.rotation.x=Math.round(this.object.rotation.x/i)*i),"Y"===this.axis&&i&&(this.object.rotation.y=Math.round(this.object.rotation.y/i)*i),"Z"===this.axis&&i&&(this.object.rotation.z=Math.round(this.object.rotation.z/i)*i)}this.object.updateMatrixWorld(),this.object.parent.updateMatrixWorld(),F.copy(this.object.position),K.copy(this.object.quaternion),U.copy(this.object.scale),this.object.matrixWorld.decompose(k,D,O),v.copy(t.point).sub(k)}this.dragging=!0,a.mode=this.mode,this.dispatchEvent(a)}},this.pointerMove=function(e){var t=this.axis,n=this.mode,i=this.object,a=this.space;if("scale"===n?a="local":"E"!==t&&"XYZE"!==t&&"XYZ"!==t||(a="world"),void 0!==i&&null!==t&&!1!==this.dragging&&(void 0===e.button||0===e.button)){u.setFromCamera(e,this.camera);var s=c(r,u,!0);if(s){if(g.copy(s.point).sub(k),"translate"===n)y.copy(g).sub(v),"local"===a&&"XYZ"!==t&&y.applyQuaternion(P),-1===t.indexOf("X")&&(y.x=0),-1===t.indexOf("Y")&&(y.y=0),-1===t.indexOf("Z")&&(y.z=0),"local"===a&&"XYZ"!==t?y.applyQuaternion(K).divide(z):y.applyQuaternion(L).divide(z),i.position.copy(y).add(F),this.translationSnap&&("local"===a&&(i.position.applyQuaternion(p.copy(K).inverse()),-1!==t.search("X")&&(i.position.x=Math.round(i.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(i.position.y=Math.round(i.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(i.position.z=Math.round(i.position.z/this.translationSnap)*this.translationSnap),i.position.applyQuaternion(K)),"world"===a&&(i.parent&&i.position.add(f.setFromMatrixPosition(i.parent.matrixWorld)),-1!==t.search("X")&&(i.position.x=Math.round(i.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(i.position.y=Math.round(i.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(i.position.z=Math.round(i.position.z/this.translationSnap)*this.translationSnap),i.parent&&i.position.sub(f.setFromMatrixPosition(i.parent.matrixWorld))));else if("scale"===n){if(-1!==t.search("XYZ")){var d=g.length()/v.length();g.dot(v)<0&&(d*=-1),h.set(d,d,d)}else f.copy(v),h.copy(g),f.applyQuaternion(P),h.applyQuaternion(P),h.divide(f),-1===t.search("X")&&(h.x=1),-1===t.search("Y")&&(h.y=1),-1===t.search("Z")&&(h.z=1);i.scale.copy(U).multiply(h),this.scaleSnap&&(-1!==t.search("X")&&(i.scale.x=Math.round(i.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),-1!==t.search("Y")&&(i.scale.y=Math.round(i.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),-1!==t.search("Z")&&(i.scale.z=Math.round(i.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if("rotate"===n){y.copy(g).sub(v);var b=20/N.distanceTo(f.setFromMatrixPosition(this.camera.matrixWorld));"E"===t?(_.copy($),M=g.angleTo(v),x.copy(v).normalize(),A.copy(g).normalize(),M*=A.cross(x).dot($)<0?1:-1):"XYZE"===t?(_.copy(y).cross($).normalize(),M=y.dot(f.copy(_).cross(this.eye))*b):"X"!==t&&"Y"!==t&&"Z"!==t||(_.copy(m[t]),f.copy(m[t]),"local"===a&&f.applyQuaternion(j),M=y.dot(f.cross($).normalize())*b),this.rotationSnap&&(M=Math.round(M/this.rotationSnap)*this.rotationSnap),this.rotationAngle=M,"local"===a&&"E"!==t&&"XYZE"!==t?(i.quaternion.copy(K),i.quaternion.multiply(p.setFromAxisAngle(_,M)).normalize()):(_.applyQuaternion(L),i.quaternion.copy(p.setFromAxisAngle(_,M)),i.quaternion.multiply(K).normalize())}this.dispatchEvent(o),this.dispatchEvent(l)}}},this.pointerUp=function(e){void 0!==e.button&&0!==e.button||(this.dragging&&null!==this.axis&&(s.mode=this.mode,this.dispatchEvent(s)),this.dragging=!1,void 0===e.button&&(this.axis=null))},this.getMode=function(){return i.mode},this.setMode=function(e){i.mode=e},this.setTranslationSnap=function(e){i.translationSnap=e},this.setRotationSnap=function(e){i.rotationSnap=e},this.setScaleSnap=function(e){i.scaleSnap=e},this.setSize=function(e){i.size=e},this.setSpace=function(e){i.space=e},this.update=function(){console.warn("THREE.TransformControls: update function has no more functionality and therefore has been deprecated.")}};_.prototype=Object.assign(Object.create(d.Object3D.prototype),{constructor:_,isTransformControls:!0});var b=function(){d.Object3D.call(this),this.type="TransformControlsGizmo";var e=new d.MeshBasicMaterial({depthTest:!1,depthWrite:!1,transparent:!0,side:d.DoubleSide,fog:!1,toneMapped:!1}),t=new d.LineBasicMaterial({depthTest:!1,depthWrite:!1,transparent:!0,linewidth:1,fog:!1,toneMapped:!1}),n=e.clone();n.opacity=.15;var r=e.clone();r.opacity=.33;var i=e.clone();i.color.set(16711680);var o=e.clone();o.color.set(65280);var a=e.clone();a.color.set(255);var s=e.clone();s.opacity=.25;var l=s.clone();l.color.set(16776960);var u=s.clone();u.color.set(65535);var c=s.clone();c.color.set(16711935),e.clone().color.set(16776960);var f=t.clone();f.color.set(16711680);var h=t.clone();h.color.set(65280);var p=t.clone();p.color.set(255);var m=t.clone();m.color.set(65535);var v=t.clone();v.color.set(16711935);var g=t.clone();g.color.set(16776960);var y=t.clone();y.color.set(7895160);var _=g.clone();_.opacity=.25;var b=new d.CylinderBufferGeometry(0,.05,.2,12,1,!1),w=new d.BoxBufferGeometry(.125,.125,.125),x=new d.BufferGeometry;x.setAttribute("position",new d.Float32BufferAttribute([0,0,0,1,0,0],3));var A=function(e,t){for(var n=new d.BufferGeometry,r=[],i=0;i<=64*t;++i)r.push(0,Math.cos(i/32*Math.PI)*e,Math.sin(i/32*Math.PI)*e);return n.setAttribute("position",new d.Float32BufferAttribute(r,3)),n},M={X:[[new d.Mesh(b,i),[1,0,0],[0,0,-Math.PI/2],null,"fwd"],[new d.Mesh(b,i),[1,0,0],[0,0,Math.PI/2],null,"bwd"],[new d.Line(x,f)]],Y:[[new d.Mesh(b,o),[0,1,0],null,null,"fwd"],[new d.Mesh(b,o),[0,1,0],[Math.PI,0,0],null,"bwd"],[new d.Line(x,h),null,[0,0,Math.PI/2]]],Z:[[new d.Mesh(b,a),[0,0,1],[Math.PI/2,0,0],null,"fwd"],[new d.Mesh(b,a),[0,0,1],[-Math.PI/2,0,0],null,"bwd"],[new d.Line(x,p),null,[0,-Math.PI/2,0]]],XYZ:[[new d.Mesh(new d.OctahedronBufferGeometry(.1,0),s.clone()),[0,0,0],[0,0,0]]],XY:[[new d.Mesh(new d.PlaneBufferGeometry(.295,.295),l.clone()),[.15,.15,0]],[new d.Line(x,g),[.18,.3,0],null,[.125,1,1]],[new d.Line(x,g),[.3,.18,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new d.Mesh(new d.PlaneBufferGeometry(.295,.295),u.clone()),[0,.15,.15],[0,Math.PI/2,0]],[new d.Line(x,m),[0,.18,.3],[0,0,Math.PI/2],[.125,1,1]],[new d.Line(x,m),[0,.3,.18],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new d.Mesh(new d.PlaneBufferGeometry(.295,.295),c.clone()),[.15,0,.15],[-Math.PI/2,0,0]],[new d.Line(x,v),[.18,0,.3],null,[.125,1,1]],[new d.Line(x,v),[.3,0,.18],[0,-Math.PI/2,0],[.125,1,1]]]},S={X:[[new d.Mesh(new d.CylinderBufferGeometry(.2,0,1,4,1,!1),n),[.6,0,0],[0,0,-Math.PI/2]]],Y:[[new d.Mesh(new d.CylinderBufferGeometry(.2,0,1,4,1,!1),n),[0,.6,0]]],Z:[[new d.Mesh(new d.CylinderBufferGeometry(.2,0,1,4,1,!1),n),[0,0,.6],[Math.PI/2,0,0]]],XYZ:[[new d.Mesh(new d.OctahedronBufferGeometry(.2,0),n)]],XY:[[new d.Mesh(new d.PlaneBufferGeometry(.4,.4),n),[.2,.2,0]]],YZ:[[new d.Mesh(new d.PlaneBufferGeometry(.4,.4),n),[0,.2,.2],[0,Math.PI/2,0]]],XZ:[[new d.Mesh(new d.PlaneBufferGeometry(.4,.4),n),[.2,0,.2],[-Math.PI/2,0,0]]]},C={START:[[new d.Mesh(new d.OctahedronBufferGeometry(.01,2),r),null,null,null,"helper"]],END:[[new d.Mesh(new d.OctahedronBufferGeometry(.01,2),r),null,null,null,"helper"]],DELTA:[[new d.Line(function(){var e=new d.BufferGeometry;return e.setAttribute("position",new d.Float32BufferAttribute([0,0,0,1,1,1],3)),e}(),r),null,null,null,"helper"]],X:[[new d.Line(x,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new d.Line(x,r.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new d.Line(x,r.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},E={X:[[new d.Line(A(1,.5),f)],[new d.Mesh(new d.OctahedronBufferGeometry(.04,0),i),[0,0,.99],null,[1,3,1]]],Y:[[new d.Line(A(1,.5),h),null,[0,0,-Math.PI/2]],[new d.Mesh(new d.OctahedronBufferGeometry(.04,0),o),[0,0,.99],null,[3,1,1]]],Z:[[new d.Line(A(1,.5),p),null,[0,Math.PI/2,0]],[new d.Mesh(new d.OctahedronBufferGeometry(.04,0),a),[.99,0,0],null,[1,3,1]]],E:[[new d.Line(A(1.25,1),_),null,[0,Math.PI/2,0]],[new d.Mesh(new d.CylinderBufferGeometry(.03,0,.15,4,1,!1),_),[1.17,0,0],[0,0,-Math.PI/2],[1,1,.001]],[new d.Mesh(new d.CylinderBufferGeometry(.03,0,.15,4,1,!1),_),[-1.17,0,0],[0,0,Math.PI/2],[1,1,.001]],[new d.Mesh(new d.CylinderBufferGeometry(.03,0,.15,4,1,!1),_),[0,-1.17,0],[Math.PI,0,0],[1,1,.001]],[new d.Mesh(new d.CylinderBufferGeometry(.03,0,.15,4,1,!1),_),[0,1.17,0],[0,0,0],[1,1,.001]]],XYZE:[[new d.Line(A(1,1),y),null,[0,Math.PI/2,0]]]},I={AXIS:[[new d.Line(x,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},T={X:[[new d.Mesh(new d.TorusBufferGeometry(1,.1,4,24),n),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new d.Mesh(new d.TorusBufferGeometry(1,.1,4,24),n),[0,0,0],[Math.PI/2,0,0]]],Z:[[new d.Mesh(new d.TorusBufferGeometry(1,.1,4,24),n),[0,0,0],[0,0,-Math.PI/2]]],E:[[new d.Mesh(new d.TorusBufferGeometry(1.25,.1,2,24),n)]],XYZE:[[new d.Mesh(new d.SphereBufferGeometry(.7,10,8),n)]]},L={X:[[new d.Mesh(w,i),[.8,0,0],[0,0,-Math.PI/2]],[new d.Line(x,f),null,null,[.8,1,1]]],Y:[[new d.Mesh(w,o),[0,.8,0]],[new d.Line(x,h),null,[0,0,Math.PI/2],[.8,1,1]]],Z:[[new d.Mesh(w,a),[0,0,.8],[Math.PI/2,0,0]],[new d.Line(x,p),null,[0,-Math.PI/2,0],[.8,1,1]]],XY:[[new d.Mesh(w,l),[.85,.85,0],null,[2,2,.2]],[new d.Line(x,g),[.855,.98,0],null,[.125,1,1]],[new d.Line(x,g),[.98,.855,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new d.Mesh(w,u),[0,.85,.85],null,[.2,2,2]],[new d.Line(x,m),[0,.855,.98],[0,0,Math.PI/2],[.125,1,1]],[new d.Line(x,m),[0,.98,.855],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new d.Mesh(w,c),[.85,0,.85],null,[2,.2,2]],[new d.Line(x,v),[.855,0,.98],null,[.125,1,1]],[new d.Line(x,v),[.98,0,.855],[0,-Math.PI/2,0],[.125,1,1]]],XYZX:[[new d.Mesh(new d.BoxBufferGeometry(.125,.125,.125),s.clone()),[1.1,0,0]]],XYZY:[[new d.Mesh(new d.BoxBufferGeometry(.125,.125,.125),s.clone()),[0,1.1,0]]],XYZZ:[[new d.Mesh(new d.BoxBufferGeometry(.125,.125,.125),s.clone()),[0,0,1.1]]]},z={X:[[new d.Mesh(new d.CylinderBufferGeometry(.2,0,.8,4,1,!1),n),[.5,0,0],[0,0,-Math.PI/2]]],Y:[[new d.Mesh(new d.CylinderBufferGeometry(.2,0,.8,4,1,!1),n),[0,.5,0]]],Z:[[new d.Mesh(new d.CylinderBufferGeometry(.2,0,.8,4,1,!1),n),[0,0,.5],[Math.PI/2,0,0]]],XY:[[new d.Mesh(w,n),[.85,.85,0],null,[3,3,.2]]],YZ:[[new d.Mesh(w,n),[0,.85,.85],null,[.2,3,3]]],XZ:[[new d.Mesh(w,n),[.85,0,.85],null,[3,.2,3]]],XYZX:[[new d.Mesh(new d.BoxBufferGeometry(.2,.2,.2),n),[1.1,0,0]]],XYZY:[[new d.Mesh(new d.BoxBufferGeometry(.2,.2,.2),n),[0,1.1,0]]],XYZZ:[[new d.Mesh(new d.BoxBufferGeometry(.2,.2,.2),n),[0,0,1.1]]]},k={X:[[new d.Line(x,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new d.Line(x,r.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new d.Line(x,r.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},D=function(e){var t=new d.Object3D;for(var n in e)for(var r=e[n].length;r--;){var i=e[n][r][0].clone(),o=e[n][r][1],a=e[n][r][2],s=e[n][r][3],l=e[n][r][4];i.name=n,i.tag=l,o&&i.position.set(o[0],o[1],o[2]),a&&i.rotation.set(a[0],a[1],a[2]),s&&i.scale.set(s[0],s[1],s[2]),i.updateMatrix();var u=i.geometry.clone();u.applyMatrix4(i.matrix),i.geometry=u,i.renderOrder=1/0,i.position.set(0,0,0),i.rotation.set(0,0,0),i.scale.set(1,1,1),t.add(i)}return t},O=new d.Vector3(0,0,0),N=new d.Euler,j=new d.Vector3(0,1,0),P=new d.Vector3(0,0,0),R=new d.Matrix4,$=new d.Quaternion,F=new d.Quaternion,K=new d.Quaternion,U=new d.Vector3(1,0,0),V=new d.Vector3(0,1,0),B=new d.Vector3(0,0,1);this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=D(M)),this.add(this.gizmo.rotate=D(E)),this.add(this.gizmo.scale=D(L)),this.add(this.picker.translate=D(S)),this.add(this.picker.rotate=D(T)),this.add(this.picker.scale=D(z)),this.add(this.helper.translate=D(C)),this.add(this.helper.rotate=D(I)),this.add(this.helper.scale=D(k)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1,this.updateMatrixWorld=function(){var e=this.space;"scale"===this.mode&&(e="local");var t="local"===e?this.worldQuaternion:K;this.gizmo.translate.visible="translate"===this.mode,this.gizmo.rotate.visible="rotate"===this.mode,this.gizmo.scale.visible="scale"===this.mode,this.helper.translate.visible="translate"===this.mode,this.helper.rotate.visible="rotate"===this.mode,this.helper.scale.visible="scale"===this.mode;var n=[];n=(n=(n=n.concat(this.picker[this.mode].children)).concat(this.gizmo[this.mode].children)).concat(this.helper[this.mode].children);for(var r=0;r<n.length;r++){var i,o=n[r];if(o.visible=!0,o.rotation.set(0,0,0),o.position.copy(this.worldPosition),i=this.camera.isOrthographicCamera?(this.camera.top-this.camera.bottom)/this.camera.zoom:this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),o.scale.set(1,1,1).multiplyScalar(i*this.size/7),"helper"!==o.tag){if(o.quaternion.copy(t),"translate"===this.mode||"scale"===this.mode){"X"!==o.name&&"XYZX"!==o.name||Math.abs(j.copy(U).applyQuaternion(t).dot(this.eye))>.99&&(o.scale.set(1e-10,1e-10,1e-10),o.visible=!1),"Y"!==o.name&&"XYZY"!==o.name||Math.abs(j.copy(V).applyQuaternion(t).dot(this.eye))>.99&&(o.scale.set(1e-10,1e-10,1e-10),o.visible=!1),"Z"!==o.name&&"XYZZ"!==o.name||Math.abs(j.copy(B).applyQuaternion(t).dot(this.eye))>.99&&(o.scale.set(1e-10,1e-10,1e-10),o.visible=!1),"XY"===o.name&&Math.abs(j.copy(B).applyQuaternion(t).dot(this.eye))<.2&&(o.scale.set(1e-10,1e-10,1e-10),o.visible=!1),"YZ"===o.name&&Math.abs(j.copy(U).applyQuaternion(t).dot(this.eye))<.2&&(o.scale.set(1e-10,1e-10,1e-10),o.visible=!1),"XZ"===o.name&&Math.abs(j.copy(V).applyQuaternion(t).dot(this.eye))<.2&&(o.scale.set(1e-10,1e-10,1e-10),o.visible=!1),-1!==o.name.search("X")&&(j.copy(U).applyQuaternion(t).dot(this.eye)<0?"fwd"===o.tag?o.visible=!1:o.scale.x*=-1:"bwd"===o.tag&&(o.visible=!1)),-1!==o.name.search("Y")&&(j.copy(V).applyQuaternion(t).dot(this.eye)<0?"fwd"===o.tag?o.visible=!1:o.scale.y*=-1:"bwd"===o.tag&&(o.visible=!1)),-1!==o.name.search("Z")&&(j.copy(B).applyQuaternion(t).dot(this.eye)<0?"fwd"===o.tag?o.visible=!1:o.scale.z*=-1:"bwd"===o.tag&&(o.visible=!1))}else"rotate"===this.mode&&(F.copy(t),j.copy(this.eye).applyQuaternion($.copy(t).inverse()),-1!==o.name.search("E")&&o.quaternion.setFromRotationMatrix(R.lookAt(this.eye,P,V)),"X"===o.name&&($.setFromAxisAngle(U,Math.atan2(-j.y,j.z)),$.multiplyQuaternions(F,$),o.quaternion.copy($)),"Y"===o.name&&($.setFromAxisAngle(V,Math.atan2(j.x,j.z)),$.multiplyQuaternions(F,$),o.quaternion.copy($)),"Z"===o.name&&($.setFromAxisAngle(B,Math.atan2(j.y,j.x)),$.multiplyQuaternions(F,$),o.quaternion.copy($)));o.visible=o.visible&&(-1===o.name.indexOf("X")||this.showX),o.visible=o.visible&&(-1===o.name.indexOf("Y")||this.showY),o.visible=o.visible&&(-1===o.name.indexOf("Z")||this.showZ),o.visible=o.visible&&(-1===o.name.indexOf("E")||this.showX&&this.showY&&this.showZ),o.material._opacity=o.material._opacity||o.material.opacity,o.material._color=o.material._color||o.material.color.clone(),o.material.color.copy(o.material._color),o.material.opacity=o.material._opacity,this.enabled?this.axis&&(o.name===this.axis?(o.material.opacity=1,o.material.color.lerp(new d.Color(1,1,1),.5)):this.axis.split("").some(function(e){return o.name===e})?(o.material.opacity=1,o.material.color.lerp(new d.Color(1,1,1),.5)):(o.material.opacity*=.25,o.material.color.lerp(new d.Color(1,1,1),.5))):(o.material.opacity*=.5,o.material.color.lerp(new d.Color(1,1,1),.5))}else o.visible=!1,"AXIS"===o.name?(o.position.copy(this.worldPositionStart),o.visible=!!this.axis,"X"===this.axis&&($.setFromEuler(N.set(0,0,0)),o.quaternion.copy(t).multiply($),Math.abs(j.copy(U).applyQuaternion(t).dot(this.eye))>.9&&(o.visible=!1)),"Y"===this.axis&&($.setFromEuler(N.set(0,0,Math.PI/2)),o.quaternion.copy(t).multiply($),Math.abs(j.copy(V).applyQuaternion(t).dot(this.eye))>.9&&(o.visible=!1)),"Z"===this.axis&&($.setFromEuler(N.set(0,Math.PI/2,0)),o.quaternion.copy(t).multiply($),Math.abs(j.copy(B).applyQuaternion(t).dot(this.eye))>.9&&(o.visible=!1)),"XYZE"===this.axis&&($.setFromEuler(N.set(0,Math.PI/2,0)),j.copy(this.rotationAxis),o.quaternion.setFromRotationMatrix(R.lookAt(P,j,V)),o.quaternion.multiply($),o.visible=this.dragging),"E"===this.axis&&(o.visible=!1)):"START"===o.name?(o.position.copy(this.worldPositionStart),o.visible=this.dragging):"END"===o.name?(o.position.copy(this.worldPosition),o.visible=this.dragging):"DELTA"===o.name?(o.position.copy(this.worldPositionStart),o.quaternion.copy(this.worldQuaternionStart),O.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),O.applyQuaternion(this.worldQuaternionStart.clone().inverse()),o.scale.copy(O),o.visible=this.dragging):(o.quaternion.copy(t),this.dragging?o.position.copy(this.worldPositionStart):o.position.copy(this.worldPosition),this.axis&&(o.visible=-1!==this.axis.search(o.name)))}d.Object3D.prototype.updateMatrixWorld.call(this)}};b.prototype=Object.assign(Object.create(d.Object3D.prototype),{constructor:b,isTransformControlsGizmo:!0});var w=function(){d.Mesh.call(this,new d.PlaneBufferGeometry(1e5,1e5,2,2),new d.MeshBasicMaterial({visible:!1,wireframe:!0,side:d.DoubleSide,transparent:!0,opacity:.1,toneMapped:!1})),this.type="TransformControlsPlane";var e=new d.Vector3(1,0,0),t=new d.Vector3(0,1,0),n=new d.Vector3(0,0,1),r=new d.Vector3,i=new d.Vector3,o=new d.Vector3,a=new d.Matrix4,s=new d.Quaternion;this.updateMatrixWorld=function(){var l=this.space;switch(this.position.copy(this.worldPosition),"scale"===this.mode&&(l="local"),e.set(1,0,0).applyQuaternion("local"===l?this.worldQuaternion:s),t.set(0,1,0).applyQuaternion("local"===l?this.worldQuaternion:s),n.set(0,0,1).applyQuaternion("local"===l?this.worldQuaternion:s),o.copy(t),this.mode){case"translate":case"scale":switch(this.axis){case"X":o.copy(this.eye).cross(e),i.copy(e).cross(o);break;case"Y":o.copy(this.eye).cross(t),i.copy(t).cross(o);break;case"Z":o.copy(this.eye).cross(n),i.copy(n).cross(o);break;case"XY":i.copy(n);break;case"YZ":i.copy(e);break;case"XZ":o.copy(n),i.copy(t);break;case"XYZ":case"E":i.set(0,0,0)}break;case"rotate":default:i.set(0,0,0)}0===i.length()?this.quaternion.copy(this.cameraQuaternion):(a.lookAt(r.set(0,0,0),i,o),this.quaternion.setFromRotationMatrix(a)),d.Object3D.prototype.updateMatrixWorld.call(this)}};w.prototype=Object.assign(Object.create(d.Mesh.prototype),{constructor:w,isTransformControlsPlane:!0});n(249),n(250);var x=n(110);function A(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(a.a)(e)););return e}n(11);function M(e,t,n){return(M="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=A(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}var S={RED:0,GREEN:1,BLUE:2,ALPHA:3},C="uniform mediump sampler2D luminanceBuffer0;\r\nuniform sampler2D luminanceBuffer1;\r\n\r\nuniform float minLuminance;\r\nuniform float deltaTime;\r\nuniform float tau;\r\n\r\nvarying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\t// This 1x1 buffer contains the previous luminance.\r\n\tfloat l0 = texture2D(luminanceBuffer0, vUv).r;\r\n\r\n\t// Get the current average scene luminance.\r\n\t#if __VERSION__ < 300\r\n\r\n\t\tfloat l1 = texture2DLodEXT(luminanceBuffer1, vUv, MIP_LEVEL_1X1).r;\r\n\r\n\t#else\r\n\r\n\t\tfloat l1 = textureLod(luminanceBuffer1, vUv, MIP_LEVEL_1X1).r;\r\n\r\n\t#endif\r\n\r\n\tl0 = max(minLuminance, l0);\r\n\tl1 = max(minLuminance, l1);\r\n\r\n\t// Adapt the luminance using Pattanaik's technique.\r\n\tfloat adaptedLum = l0 + (l1 - l0) * (1.0 - exp(-deltaTime * tau));\r\n\r\n\tgl_FragColor.r = adaptedLum;\r\n\r\n}\r\n",E="varying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvUv = position.xy * 0.5 + 0.5;\r\n\tgl_Position = vec4(position.xy, 1.0, 1.0);\r\n\r\n}\r\n",I=(d.ShaderMaterial,"uniform sampler2D inputBuffer;\r\nuniform sampler2D cocBuffer;\r\n\r\nuniform vec2 texelSize;\r\nuniform float scale;\r\n\r\n#if PASS == 1\r\n\r\n\tuniform vec4 kernel64[32];\r\n\r\n#else\r\n\r\n\tuniform vec4 kernel16[8];\r\n\r\n#endif\r\n\r\nvarying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\t#ifdef FOREGROUND\r\n\r\n\t\tvec2 CoCNearFar = texture2D(cocBuffer, vUv).rg;\r\n\t\tfloat CoC = CoCNearFar.r * scale;\r\n\r\n\t#else\r\n\r\n\t\tfloat CoC = texture2D(cocBuffer, vUv).g * scale;\r\n\r\n\t#endif\r\n\r\n\tif(CoC == 0.0) {\r\n\r\n\t\t// Skip blurring.\r\n\t\tgl_FragColor = texture2D(inputBuffer, vUv);\r\n\r\n\t} else {\r\n\r\n\t\t#ifdef FOREGROUND\r\n\r\n\t\t\t// Use far CoC to avoid weak blurring around foreground objects.\r\n\t\t\tvec2 step = texelSize * max(CoC, CoCNearFar.g * scale);\r\n\r\n\t\t#else\r\n\r\n\t\t\tvec2 step = texelSize * CoC;\r\n\r\n\t\t#endif\r\n\r\n\t\t#if PASS == 1\r\n\r\n\t\t\tvec4 acc = vec4(0.0);\r\n\r\n\t\t\t// Each vector contains two sampling points (64 in total).\r\n\t\t\tfor(int i = 0; i < 32; ++i) {\r\n\r\n\t\t\t\tvec4 kernel = kernel64[i];\r\n\r\n\t\t\t\tvec2 uv = step * kernel.xy + vUv;\r\n\t\t\t\tacc += texture2D(inputBuffer, uv);\r\n\r\n\t\t\t\tuv = step * kernel.zw + vUv;\r\n\t\t\t\tacc += texture2D(inputBuffer, uv);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgl_FragColor = acc / 64.0;\r\n\r\n\t\t#else\r\n\r\n\t\t\tvec4 maxValue = texture2D(inputBuffer, vUv);\r\n\r\n\t\t\t// Each vector contains two sampling points (16 in total).\r\n\t\t\tfor(int i = 0; i < 8; ++i) {\r\n\r\n\t\t\t\tvec4 kernel = kernel16[i];\r\n\r\n\t\t\t\tvec2 uv = step * kernel.xy + vUv;\r\n\t\t\t\tmaxValue = max(texture2D(inputBuffer, uv), maxValue);\r\n\r\n\t\t\t\tuv = step * kernel.zw + vUv;\r\n\t\t\t\tmaxValue = max(texture2D(inputBuffer, uv), maxValue);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tgl_FragColor = maxValue;\r\n\r\n\t\t#endif\r\n\r\n\t}\r\n\r\n}\r\n"),T=(d.ShaderMaterial,"#include <common>\r\n#include <packing>\r\n\r\n#ifdef GL_FRAGMENT_PRECISION_HIGH\r\n\r\n\tuniform highp sampler2D depthBuffer;\r\n\r\n#else\r\n\r\n\tuniform mediump sampler2D depthBuffer;\r\n\r\n#endif\r\n\r\nuniform float focusDistance;\r\nuniform float focalLength;\r\nuniform float cameraNear;\r\nuniform float cameraFar;\r\n\r\nvarying vec2 vUv;\r\n\r\nfloat readDepth(const in vec2 uv) {\r\n\r\n\t#if DEPTH_PACKING == 3201\r\n\r\n\t\treturn unpackRGBAToDepth(texture2D(depthBuffer, uv));\r\n\r\n\t#else\r\n\r\n\t\treturn texture2D(depthBuffer, uv).r;\r\n\r\n\t#endif\r\n\r\n}\r\n\r\nvoid main() {\r\n\r\n\tfloat depth = readDepth(vUv);\r\n\r\n\t#ifdef PERSPECTIVE_CAMERA\r\n\r\n\t\tfloat viewZ = perspectiveDepthToViewZ(depth, cameraNear, cameraFar);\r\n\t\tfloat linearDepth = viewZToOrthographicDepth(viewZ, cameraNear, cameraFar);\r\n\r\n\t#else\r\n\r\n\t\tfloat linearDepth = depth;\r\n\r\n\t#endif\r\n\r\n\tfloat signedDistance = linearDepth - focusDistance;\r\n\tfloat magnitude = smoothstep(0.0, focalLength, abs(signedDistance));\r\n\r\n\tgl_FragColor.rg = vec2(\r\n\t\tstep(signedDistance, 0.0) * magnitude,\r\n\t\tstep(0.0, signedDistance) * magnitude\r\n\t);\r\n\r\n}\r\n"),L=(d.ShaderMaterial,"varying vec2 vUv;\r\nvarying vec2 vUv0;\r\nvarying vec2 vUv1;\r\n\r\n#if EDGE_DETECTION_MODE != 0\r\n\r\n\tvarying vec2 vUv2;\r\n\tvarying vec2 vUv3;\r\n\tvarying vec2 vUv4;\r\n\tvarying vec2 vUv5;\r\n\r\n#endif\r\n\r\n#if EDGE_DETECTION_MODE == 1\r\n\r\n\t#include <common>\r\n\r\n#endif\r\n\r\n#if EDGE_DETECTION_MODE == 0 || PREDICATION_MODE == 1\r\n\r\n\t#ifdef GL_FRAGMENT_PRECISION_HIGH\r\n\r\n\t\tuniform highp sampler2D depthBuffer;\r\n\r\n\t#else\r\n\r\n\t\tuniform mediump sampler2D depthBuffer;\r\n\r\n\t#endif\r\n\r\n\tfloat readDepth(const in vec2 uv) {\r\n\r\n\t\t#if DEPTH_PACKING == 3201\r\n\r\n\t\t\treturn unpackRGBAToDepth(texture2D(depthBuffer, uv));\r\n\r\n\t\t#else\r\n\r\n\t\t\treturn texture2D(depthBuffer, uv).r;\r\n\r\n\t\t#endif\r\n\r\n\t}\r\n\r\n\tvec3 gatherNeighbors() {\r\n\r\n\t\tfloat p = readDepth(vUv);\r\n\t\tfloat pLeft = readDepth(vUv0);\r\n\t\tfloat pTop = readDepth(vUv1);\r\n\r\n\t\treturn vec3(p, pLeft, pTop);\r\n\r\n\t}\r\n\r\n#elif PREDICATION_MODE == 2\r\n\r\n\tuniform sampler2D predicationBuffer;\r\n\r\n\tvec3 gatherNeighbors() {\r\n\r\n\t\tfloat p = texture2D(predicationBuffer, vUv).r;\r\n\t\tfloat pLeft = texture2D(predicationBuffer, vUv0).r;\r\n\t\tfloat pTop = texture2D(predicationBuffer, vUv1).r;\r\n\r\n\t\treturn vec3(p, pLeft, pTop);\r\n\r\n\t}\r\n\r\n#endif\r\n\r\n#if PREDICATION_MODE != 0\r\n\r\n\tvec2 calculatePredicatedThreshold() {\r\n\r\n\t\tvec3 neighbours = gatherNeighbors();\r\n\t\tvec2 delta = abs(neighbours.xx - neighbours.yz);\r\n\t\tvec2 edges = step(PREDICATION_THRESHOLD, delta);\r\n\r\n\t\treturn PREDICATION_SCALE * EDGE_THRESHOLD * (1.0 - PREDICATION_STRENGTH * edges);\r\n\r\n\t}\r\n\r\n#endif\r\n\r\n#if EDGE_DETECTION_MODE != 0\r\n\r\n\tuniform sampler2D inputBuffer;\r\n\r\n#endif\r\n\r\nvoid main() {\r\n\r\n\t#if EDGE_DETECTION_MODE == 0\r\n\r\n\t\tconst vec2 threshold = vec2(DEPTH_THRESHOLD);\r\n\r\n\t#elif PREDICATION_MODE != 0\r\n\r\n\t\tvec2 threshold = calculatePredicatedThreshold();\r\n\r\n\t#else\r\n\r\n\t\tconst vec2 threshold = vec2(EDGE_THRESHOLD);\r\n\r\n\t#endif\r\n\r\n\t#if EDGE_DETECTION_MODE == 0\r\n\r\n\t\t// Depth-based edge detection.\r\n\r\n\t\tvec3 neighbors = gatherNeighbors();\r\n\t\tvec2 delta = abs(neighbors.xx - vec2(neighbors.y, neighbors.z));\r\n\t\tvec2 edges = step(threshold, delta);\r\n\r\n\t\tif(dot(edges, vec2(1.0)) == 0.0) {\r\n\r\n\t\t\tdiscard;\r\n\r\n\t\t}\r\n\r\n\t\tgl_FragColor = vec4(edges, 0.0, 1.0);\r\n\r\n\t#elif EDGE_DETECTION_MODE == 1\r\n\r\n\t\t// Luma-based edge detection.\r\n\r\n\t\tfloat l = linearToRelativeLuminance(texture2D(inputBuffer, vUv).rgb);\r\n\t\tfloat lLeft = linearToRelativeLuminance(texture2D(inputBuffer, vUv0).rgb);\r\n\t\tfloat lTop  = linearToRelativeLuminance(texture2D(inputBuffer, vUv1).rgb);\r\n\r\n\t\tvec4 delta;\r\n\t\tdelta.xy = abs(l - vec2(lLeft, lTop));\r\n\r\n\t\tvec2 edges = step(threshold, delta.xy);\r\n\r\n\t\tif(dot(edges, vec2(1.0)) == 0.0) {\r\n\r\n\t\t\tdiscard;\r\n\r\n\t\t}\r\n\r\n\t\t// Calculate right and bottom deltas.\r\n\t\tfloat lRight = linearToRelativeLuminance(texture2D(inputBuffer, vUv2).rgb);\r\n\t\tfloat lBottom  = linearToRelativeLuminance(texture2D(inputBuffer, vUv3).rgb);\r\n\t\tdelta.zw = abs(l - vec2(lRight, lBottom));\r\n\r\n\t\t// Calculate the maximum delta in the direct neighborhood.\r\n\t\tvec2 maxDelta = max(delta.xy, delta.zw);\r\n\r\n\t\t// Calculate left-left and top-top deltas.\r\n\t\tfloat lLeftLeft = linearToRelativeLuminance(texture2D(inputBuffer, vUv4).rgb);\r\n\t\tfloat lTopTop = linearToRelativeLuminance(texture2D(inputBuffer, vUv5).rgb);\r\n\t\tdelta.zw = abs(vec2(lLeft, lTop) - vec2(lLeftLeft, lTopTop));\r\n\r\n\t\t// Calculate the final maximum delta.\r\n\t\tmaxDelta = max(maxDelta.xy, delta.zw);\r\n\t\tfloat finalDelta = max(maxDelta.x, maxDelta.y);\r\n\r\n\t\t// Local contrast adaptation.\r\n\t\tedges.xy *= step(finalDelta, LOCAL_CONTRAST_ADAPTATION_FACTOR * delta.xy);\r\n\r\n\t\tgl_FragColor = vec4(edges, 0.0, 1.0);\r\n\r\n\t#elif EDGE_DETECTION_MODE == 2\r\n\r\n\t\t// Chroma-based edge detection.\r\n\r\n\t\tvec4 delta;\r\n\t\tvec3 c = texture2D(inputBuffer, vUv).rgb;\r\n\r\n\t\tvec3 cLeft = texture2D(inputBuffer, vUv0).rgb;\r\n\t\tvec3 t = abs(c - cLeft);\r\n\t\tdelta.x = max(max(t.r, t.g), t.b);\r\n\r\n\t\tvec3 cTop = texture2D(inputBuffer, vUv1).rgb;\r\n\t\tt = abs(c - cTop);\r\n\t\tdelta.y = max(max(t.r, t.g), t.b);\r\n\r\n\t\tvec2 edges = step(threshold, delta.xy);\r\n\r\n\t\tif(dot(edges, vec2(1.0)) == 0.0) {\r\n\r\n\t\t\tdiscard;\r\n\r\n\t\t}\r\n\r\n\t\t// Calculate right and bottom deltas.\r\n\t\tvec3 cRight = texture2D(inputBuffer, vUv2).rgb;\r\n\t\tt = abs(c - cRight);\r\n\t\tdelta.z = max(max(t.r, t.g), t.b);\r\n\r\n\t\tvec3 cBottom = texture2D(inputBuffer, vUv3).rgb;\r\n\t\tt = abs(c - cBottom);\r\n\t\tdelta.w = max(max(t.r, t.g), t.b);\r\n\r\n\t\t// Calculate the maximum delta in the direct neighborhood.\r\n\t\tvec2 maxDelta = max(delta.xy, delta.zw);\r\n\r\n\t\t// Calculate left-left and top-top deltas.\r\n\t\tvec3 cLeftLeft = texture2D(inputBuffer, vUv4).rgb;\r\n\t\tt = abs(c - cLeftLeft);\r\n\t\tdelta.z = max(max(t.r, t.g), t.b);\r\n\r\n\t\tvec3 cTopTop = texture2D(inputBuffer, vUv5).rgb;\r\n\t\tt = abs(c - cTopTop);\r\n\t\tdelta.w = max(max(t.r, t.g), t.b);\r\n\r\n\t\t// Calculate the final maximum delta.\r\n\t\tmaxDelta = max(maxDelta.xy, delta.zw);\r\n\t\tfloat finalDelta = max(maxDelta.x, maxDelta.y);\r\n\r\n\t\t// Local contrast adaptation.\r\n\t\tedges *= step(finalDelta, LOCAL_CONTRAST_ADAPTATION_FACTOR * delta.xy);\r\n\r\n\t\tgl_FragColor = vec4(edges, 0.0, 1.0);\r\n\r\n\t#endif\r\n\r\n}\r\n"),z="uniform vec2 texelSize;\r\n\r\nvarying vec2 vUv;\r\nvarying vec2 vUv0;\r\nvarying vec2 vUv1;\r\n\r\n#if EDGE_DETECTION_MODE != 0\r\n\r\n\tvarying vec2 vUv2;\r\n\tvarying vec2 vUv3;\r\n\tvarying vec2 vUv4;\r\n\tvarying vec2 vUv5;\r\n\r\n#endif\r\n\r\nvoid main() {\r\n\r\n\tvUv = position.xy * 0.5 + 0.5;\r\n\r\n\t// Left and top texel coordinates.\r\n\tvUv0 = vUv + texelSize * vec2(-1.0, 0.0);\r\n\tvUv1 = vUv + texelSize * vec2(0.0, -1.0);\r\n\r\n\t#if EDGE_DETECTION_MODE != 0\r\n\r\n\t\t// Right and bottom texel coordinates.\r\n\t\tvUv2 = vUv + texelSize * vec2(1.0, 0.0);\r\n\t\tvUv3 = vUv + texelSize * vec2(0.0, 1.0);\r\n\r\n\t\t// Left-left and top-top texel coordinates.\r\n\t\tvUv4 = vUv + texelSize * vec2(-2.0, 0.0);\r\n\t\tvUv5 = vUv + texelSize * vec2(0.0, -2.0);\r\n\r\n\t#endif\r\n\r\n\tgl_Position = vec4(position.xy, 1.0, 1.0);\r\n\r\n}\r\n",k=(d.ShaderMaterial,"#include <common>\r\n#include <dithering_pars_fragment>\r\n\r\nuniform sampler2D inputBuffer;\r\n\r\nvarying vec2 vUv0;\r\nvarying vec2 vUv1;\r\nvarying vec2 vUv2;\r\nvarying vec2 vUv3;\r\n\r\nvoid main() {\r\n\r\n\t// Sample top left texel.\r\n\tvec4 sum = texture2D(inputBuffer, vUv0);\r\n\r\n\t// Sample top right texel.\r\n\tsum += texture2D(inputBuffer, vUv1);\r\n\r\n\t// Sample bottom right texel.\r\n\tsum += texture2D(inputBuffer, vUv2);\r\n\r\n\t// Sample bottom left texel.\r\n\tsum += texture2D(inputBuffer, vUv3);\r\n\r\n\t// Compute the average.\r\n\tgl_FragColor = sum * 0.25;\r\n\r\n\t#include <dithering_fragment>\r\n\r\n}\r\n"),D="uniform vec2 texelSize;\r\nuniform vec2 halfTexelSize;\r\nuniform float kernel;\r\nuniform float scale;\r\n\r\n/* Packing multiple texture coordinates into one varying and using a swizzle to\r\nextract them in the fragment shader still causes a dependent texture read. */\r\nvarying vec2 vUv0;\r\nvarying vec2 vUv1;\r\nvarying vec2 vUv2;\r\nvarying vec2 vUv3;\r\n\r\nvoid main() {\r\n\r\n\tvec2 uv = position.xy * 0.5 + 0.5;\r\n\tvec2 dUv = (texelSize * vec2(kernel) + halfTexelSize) * scale;\r\n\r\n\tvUv0 = vec2(uv.x - dUv.x, uv.y + dUv.y);\r\n\tvUv1 = vec2(uv.x + dUv.x, uv.y + dUv.y);\r\n\tvUv2 = vec2(uv.x + dUv.x, uv.y - dUv.y);\r\n\tvUv3 = vec2(uv.x - dUv.x, uv.y - dUv.y);\r\n\r\n\tgl_Position = vec4(position.xy, 1.0, 1.0);\r\n\r\n}\r\n",O=(d.ShaderMaterial,[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])]),N={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5},j="uniform sampler2D inputBuffer;\r\nuniform float opacity;\r\n\r\nvarying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvec4 texel = texture2D(inputBuffer, vUv);\r\n\tgl_FragColor = opacity * texel;\r\n\r\n\t#include <encodings_fragment>\r\n\r\n}\r\n",P=(d.ShaderMaterial,"#include <packing>\r\n#include <clipping_planes_pars_fragment>\r\n\r\n#ifdef GL_FRAGMENT_PRECISION_HIGH\r\n\r\n\tuniform highp sampler2D depthBuffer;\r\n\r\n#else\r\n\r\n\tuniform mediump sampler2D depthBuffer;\r\n\r\n#endif\r\n\r\nuniform float cameraNear;\r\nuniform float cameraFar;\r\n\r\nvarying float vViewZ;\r\nvarying vec4 vProjTexCoord;\r\n\r\nvoid main() {\r\n\r\n\t#include <clipping_planes_fragment>\r\n\r\n\t// Transform into Cartesian coordinate (not mirrored).\r\n\tvec2 projTexCoord = (vProjTexCoord.xy / vProjTexCoord.w) * 0.5 + 0.5;\r\n\tprojTexCoord = clamp(projTexCoord, 0.002, 0.998);\r\n\r\n\tfloat fragCoordZ = unpackRGBAToDepth(texture2D(depthBuffer, projTexCoord));\r\n\r\n\t#ifdef PERSPECTIVE_CAMERA\r\n\r\n\t\tfloat viewZ = perspectiveDepthToViewZ(fragCoordZ, cameraNear, cameraFar);\r\n\r\n\t#else\r\n\r\n\t\tfloat viewZ = orthographicDepthToViewZ(fragCoordZ, cameraNear, cameraFar);\r\n\r\n\t#endif\r\n\r\n\tfloat depthTest = (-vViewZ > -viewZ) ? 1.0 : 0.0;\r\n\r\n\tgl_FragColor.rg = vec2(0.0, depthTest);\r\n\r\n}\r\n"),R="#include <common>\r\n#include <morphtarget_pars_vertex>\r\n#include <skinning_pars_vertex>\r\n#include <clipping_planes_pars_vertex>\r\n\r\nvarying float vViewZ;\r\nvarying vec4 vProjTexCoord;\r\n\r\nvoid main() {\r\n\r\n\t#include <skinbase_vertex>\r\n\r\n\t#include <begin_vertex>\r\n\t#include <morphtarget_vertex>\r\n\t#include <skinning_vertex>\r\n\t#include <project_vertex>\r\n\r\n\tvViewZ = mvPosition.z;\r\n\tvProjTexCoord = gl_Position;\r\n\r\n\t#include <clipping_planes_vertex>\r\n\r\n}\r\n",$=(d.ShaderMaterial,"#include <packing>\r\n\r\n#ifdef GL_FRAGMENT_PRECISION_HIGH\r\n\r\n\tuniform highp sampler2D depthBuffer;\r\n\r\n#else\r\n\r\n\tuniform mediump sampler2D depthBuffer;\r\n\r\n#endif\r\n\r\n#ifdef DOWNSAMPLE_NORMALS\r\n\r\n\tuniform sampler2D normalBuffer;\r\n\r\n#endif\r\n\r\nvarying vec2 vUv0;\r\nvarying vec2 vUv1;\r\nvarying vec2 vUv2;\r\nvarying vec2 vUv3;\r\n\r\nfloat readDepth(const in vec2 uv) {\r\n\r\n\t#if DEPTH_PACKING == 3201\r\n\r\n\t\treturn unpackRGBAToDepth(texture2D(depthBuffer, uv));\r\n\r\n\t#else\r\n\r\n\t\treturn texture2D(depthBuffer, uv).r;\r\n\r\n\t#endif\r\n\r\n}\r\n\r\n/**\r\n * Returns the index of the most representative depth in the 2x2 neighborhood.\r\n */\r\n\r\nint findBestDepth(const in float samples[4]) {\r\n\r\n\t// Calculate the centroid.\r\n\tfloat c = (samples[0] + samples[1] + samples[2] + samples[3]) / 4.0;\r\n\r\n\tfloat distances[4] = float[](\r\n\t\tabs(c - samples[0]), abs(c - samples[1]),\r\n\t\tabs(c - samples[2]), abs(c - samples[3])\r\n\t);\r\n\r\n\tfloat maxDistance = max(\r\n\t\tmax(distances[0], distances[1]),\r\n\t\tmax(distances[2], distances[3])\r\n\t);\r\n\r\n\tint remaining[3];\r\n\tint rejected[3];\r\n\r\n\tint i, j, k;\r\n\r\n\tfor(i = 0, j = 0, k = 0; i < 4; ++i) {\r\n\r\n\t\tif(distances[i] < maxDistance) {\r\n\r\n\t\t\t// Keep the most representative samples.\r\n\t\t\tremaining[j++] = i;\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// Discard max distance samples.\r\n\t\t\trejected[k++] = i;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// Fill up the array in case there were two or more max distance samples.\r\n\tfor(; j < 3; ++j) {\r\n\r\n\t\tremaining[j] = rejected[--k];\r\n\r\n\t}\r\n\r\n\t// Final candidates.\r\n\tvec3 s = vec3(\r\n\t\tsamples[remaining[0]],\r\n\t\tsamples[remaining[1]],\r\n\t\tsamples[remaining[2]]\r\n\t);\r\n\r\n\t// Recalculate the controid.\r\n\tc = (s.x + s.y + s.z) / 3.0;\r\n\r\n\tdistances[0] = abs(c - s.x);\r\n\tdistances[1] = abs(c - s.y);\r\n\tdistances[2] = abs(c - s.z);\r\n\r\n\tfloat minDistance = min(distances[0], min(distances[1], distances[2]));\r\n\r\n\t// Determine the index of the min distance sample.\r\n\tfor(i = 0; i < 3; ++i) {\r\n\r\n\t\tif(distances[i] == minDistance) {\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn remaining[i];\r\n\r\n}\r\n\r\nvoid main() {\r\n\r\n\t// Gather depth samples in a 2x2 neighborhood.\r\n\tfloat d[4] = float[](\r\n\t\treadDepth(vUv0), readDepth(vUv1),\r\n\t\treadDepth(vUv2), readDepth(vUv3)\r\n\t);\r\n\r\n\tint index = findBestDepth(d);\r\n\r\n\t#ifdef DOWNSAMPLE_NORMALS\r\n\r\n\t\tvec2 uvs[4] = vec2[](vUv0, vUv1, vUv2, vUv3);\r\n\t\tvec3 n = texture2D(normalBuffer, uvs[index]).rgb;\r\n\r\n\t#else\r\n\r\n\t\tvec3 n = vec3(0.0);\r\n\r\n\t#endif\r\n\r\n\tgl_FragColor = vec4(n, d[index]);\r\n\r\n}\r\n"),F="uniform vec2 texelSize;\r\n\r\nvarying vec2 vUv0;\r\nvarying vec2 vUv1;\r\nvarying vec2 vUv2;\r\nvarying vec2 vUv3;\r\n\r\nvoid main() {\r\n\r\n\tvec2 uv = position.xy * 0.5 + 0.5;\r\n\r\n\tvUv0 = uv;\r\n\tvUv1 = vec2(uv.x, uv.y + texelSize.y);\r\n\tvUv2 = vec2(uv.x + texelSize.x, uv.y);\r\n\tvUv3 = uv + texelSize;\r\n\r\n\tgl_Position = vec4(position.xy, 1.0, 1.0);\r\n\r\n}\r\n",K=(d.ShaderMaterial,"#include <common>\r\n#include <packing>\r\n\r\n#ifdef GL_FRAGMENT_PRECISION_HIGH\r\n\r\n\tuniform highp sampler2D depthBuffer0;\r\n\tuniform highp sampler2D depthBuffer1;\r\n\r\n#else\r\n\r\n\tuniform mediump sampler2D depthBuffer0;\r\n\tuniform mediump sampler2D depthBuffer1;\r\n\r\n#endif\r\n\r\nuniform sampler2D inputBuffer;\r\nuniform float bias0;\r\nuniform float bias1;\r\n\r\nvarying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvec2 depth;\r\n\r\n\t#if DEPTH_PACKING_0 == 3201\r\n\r\n\t\tdepth.x = unpackRGBAToDepth(texture2D(depthBuffer0, vUv));\r\n\r\n\t#else\r\n\r\n\t\tdepth.x = texture2D(depthBuffer0, vUv).r;\r\n\r\n\t#endif\r\n\r\n\t#if DEPTH_PACKING_1 == 3201\r\n\r\n\t\tdepth.y = unpackRGBAToDepth(texture2D(depthBuffer1, vUv));\r\n\r\n\t#else\r\n\r\n\t\tdepth.y = texture2D(depthBuffer1, vUv).r;\r\n\r\n\t#endif\r\n\r\n\tdepth = clamp(depth + vec2(bias0, bias1), 0.0, 1.0);\r\n\r\n\t#ifdef KEEP_FAR\r\n\r\n\t\tbool keep = (depth.x == 1.0) || depthTest(depth.x, depth.y);\r\n\r\n\t#else\r\n\r\n\t\tbool keep = (depth.x != 1.0) && depthTest(depth.x, depth.y);\r\n\r\n\t#endif\r\n\r\n\tif(keep) {\r\n\r\n\t\tgl_FragColor = texture2D(inputBuffer, vUv);\r\n\r\n\t} else {\r\n\r\n\t\tdiscard;\r\n\r\n\t}\r\n\r\n}\r\n"),U=(d.ShaderMaterial,d.ShaderMaterial,{DEPTH:0,LUMA:1,COLOR:2}),V=(d.ShaderMaterial,{FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"}),B="#include <common>\r\n#include <dithering_pars_fragment>\r\n\r\nuniform sampler2D inputBuffer;\r\nuniform vec2 lightPosition;\r\nuniform float exposure;\r\nuniform float decay;\r\nuniform float density;\r\nuniform float weight;\r\nuniform float clampMax;\r\n\r\nvarying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvec2 coord = vUv;\r\n\r\n\t// Calculate the vector from this pixel to the light position in screen space.\r\n\tvec2 delta = lightPosition - coord;\r\n\tdelta *= 1.0 / SAMPLES_FLOAT * density;\r\n\r\n\t// A decreasing illumination factor.\r\n\tfloat illuminationDecay = 1.0;\r\n\tvec4 color = vec4(0.0);\r\n\r\n\t/* Estimate the probability of occlusion at each pixel by summing samples\r\n\talong a ray to the light position. */\r\n\tfor(int i = 0; i < SAMPLES_INT; ++i) {\r\n\r\n\t\tcoord += delta;\r\n\t\tvec4 texel = texture2D(inputBuffer, coord);\r\n\r\n\t\t// Apply the sample attenuation scale/decay factors.\r\n\t\ttexel *= illuminationDecay * weight;\r\n\t\tcolor += texel;\r\n\r\n\t\t// Update the exponential decay factor.\r\n\t\tilluminationDecay *= decay;\r\n\r\n\t}\r\n\r\n\tgl_FragColor = clamp(color * exposure, 0.0, clampMax);\r\n\r\n\t#include <dithering_fragment>\r\n\r\n}\r\n",H=(d.ShaderMaterial,"#include <common>\r\n\r\nuniform sampler2D inputBuffer;\r\n\r\n#ifdef RANGE\r\n\r\n\tuniform vec2 range;\r\n\r\n#elif defined(THRESHOLD)\r\n\r\n\tuniform float threshold;\r\n\tuniform float smoothing;\r\n\r\n#endif\r\n\r\nvarying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvec4 texel = texture2D(inputBuffer, vUv);\r\n\tfloat l = linearToRelativeLuminance(texel.rgb);\r\n\r\n\t#ifdef RANGE\r\n\r\n\t\t// Apply a luminance range mask.\r\n\t\tfloat low = step(range.x, l);\r\n\t\tfloat high = step(l, range.y);\r\n\r\n\t\tl *= low * high;\r\n\r\n\t#elif defined(THRESHOLD)\r\n\r\n\t\tl = smoothstep(threshold, threshold + smoothing, l);\r\n\r\n\t#endif\r\n\r\n\t#ifdef COLOR\r\n\r\n\t\tgl_FragColor = vec4(texel.rgb * l, l);\r\n\r\n\t#else\r\n\r\n\t\tgl_FragColor = vec4(l);\r\n\r\n\t#endif\r\n\r\n}\r\n"),G=(d.ShaderMaterial,"uniform sampler2D maskTexture;\r\nuniform sampler2D inputBuffer;\r\n\r\n#if MASK_FUNCTION != 0\r\n\r\n\tuniform float strength;\r\n\r\n#endif\r\n\r\nvarying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\t#if COLOR_CHANNEL == 0\r\n\r\n\t\tfloat mask = texture2D(maskTexture, vUv).r;\r\n\r\n\t#elif COLOR_CHANNEL == 1\r\n\r\n\t\tfloat mask = texture2D(maskTexture, vUv).g;\r\n\r\n\t#elif COLOR_CHANNEL == 2\r\n\r\n\t\tfloat mask = texture2D(maskTexture, vUv).b;\r\n\r\n\t#else\r\n\r\n\t\tfloat mask = texture2D(maskTexture, vUv).a;\r\n\r\n\t#endif\r\n\r\n\t#if MASK_FUNCTION == 0\r\n\r\n\t\t#ifdef INVERTED\r\n\r\n\t\t\tif(mask > 0.0) {\r\n\r\n\t\t\t\tdiscard;\r\n\r\n\t\t\t}\r\n\r\n\t\t#else\r\n\r\n\t\t\tif(mask == 0.0) {\r\n\r\n\t\t\t\tdiscard;\r\n\r\n\t\t\t}\r\n\r\n\t\t#endif\r\n\r\n\t#else\r\n\r\n\t\tmask = clamp(mask * strength, 0.0, 1.0);\r\n\r\n\t\t#ifdef INVERTED\r\n\r\n\t\t\tmask = (1.0 - mask);\r\n\r\n\t\t#endif\r\n\r\n\t\t#if MASK_FUNCTION == 1\r\n\r\n\t\t\tgl_FragColor = mask * texture2D(inputBuffer, vUv);\r\n\r\n\t\t#else\r\n\r\n\t\t\tgl_FragColor = vec4(mask * texture2D(inputBuffer, vUv).rgb, mask);\r\n\r\n\t\t#endif\r\n\r\n\t#endif\r\n\r\n}\r\n"),Q=(d.ShaderMaterial,{DISCARD:0,MULTIPLY:1,MULTIPLY_RGB_SET_ALPHA:2}),q="uniform sampler2D inputBuffer;\r\n\r\nvarying vec2 vUv0;\r\nvarying vec2 vUv1;\r\nvarying vec2 vUv2;\r\nvarying vec2 vUv3;\r\n\r\nvoid main() {\r\n\r\n\tvec2 c0 = texture2D(inputBuffer, vUv0).rg;\r\n\tvec2 c1 = texture2D(inputBuffer, vUv1).rg;\r\n\tvec2 c2 = texture2D(inputBuffer, vUv2).rg;\r\n\tvec2 c3 = texture2D(inputBuffer, vUv3).rg;\r\n\r\n\tfloat d0 = (c0.x - c1.x) * 0.5;\r\n\tfloat d1 = (c2.x - c3.x) * 0.5;\r\n\tfloat d = length(vec2(d0, d1));\r\n\r\n\tfloat a0 = min(c0.y, c1.y);\r\n\tfloat a1 = min(c2.y, c3.y);\r\n\tfloat visibilityFactor = min(a0, a1);\r\n\r\n\tgl_FragColor.rg = (1.0 - visibilityFactor > 0.001) ? vec2(d, 0.0) : vec2(0.0, d);\r\n\r\n}\r\n",W="uniform vec2 texelSize;\r\n\r\nvarying vec2 vUv0;\r\nvarying vec2 vUv1;\r\nvarying vec2 vUv2;\r\nvarying vec2 vUv3;\r\n\r\nvoid main() {\r\n\r\n\tvec2 uv = position.xy * 0.5 + 0.5;\r\n\r\n\tvUv0 = vec2(uv.x + texelSize.x, uv.y);\r\n\tvUv1 = vec2(uv.x - texelSize.x, uv.y);\r\n\tvUv2 = vec2(uv.x, uv.y + texelSize.y);\r\n\tvUv3 = vec2(uv.x, uv.y - texelSize.y);\r\n\r\n\tgl_Position = vec4(position.xy, 1.0, 1.0);\r\n\r\n}\r\n",Y=(d.ShaderMaterial,"#define sampleLevelZeroOffset(t, coord, offset) texture2D(t, coord + offset * texelSize)\r\n\r\n#if __VERSION__ < 300\r\n\r\n\t#define round(v) floor(v + 0.5)\r\n\r\n#endif\r\n\r\nuniform sampler2D inputBuffer;\r\nuniform sampler2D areaTexture;\r\nuniform sampler2D searchTexture;\r\n\r\nuniform vec2 texelSize;\r\nuniform vec2 resolution;\r\n\r\nvarying vec2 vUv;\r\nvarying vec4 vOffset[3];\r\nvarying vec2 vPixCoord;\r\n\r\n\r\n/**\r\n * Moves values to a target vector based on a given conditional vector.\r\n */\r\n\r\nvoid movec(const in bvec2 c, inout vec2 variable, const in vec2 value) {\r\n\r\n\tif(c.x) { variable.x = value.x; }\r\n\tif(c.y) { variable.y = value.y; }\r\n\r\n}\r\n\r\nvoid movec(const in bvec4 c, inout vec4 variable, const in vec4 value) {\r\n\r\n\tmovec(c.xy, variable.xy, value.xy);\r\n\tmovec(c.zw, variable.zw, value.zw);\r\n\r\n}\r\n\r\n/**\r\n * Allows to decode two binary values from a bilinear-filtered access.\r\n *\r\n * Bilinear access for fetching 'e' have a 0.25 offset, and we are interested\r\n * in the R and G edges:\r\n *\r\n * +---G---+-------+\r\n * |   x o R   x   |\r\n * +-------+-------+\r\n *\r\n * Then, if one of these edge is enabled:\r\n *  Red: (0.75 * X + 0.25 * 1) => 0.25 or 1.0\r\n *  Green: (0.75 * 1 + 0.25 * X) => 0.75 or 1.0\r\n *\r\n * This function will unpack the values (mad + mul + round):\r\n * wolframalpha.com: round(x * abs(5 * x - 5 * 0.75)) plot 0 to 1\r\n */\r\n\r\nvec2 decodeDiagBilinearAccess(in vec2 e) {\r\n\r\n\te.r = e.r * abs(5.0 * e.r - 5.0 * 0.75);\r\n\r\n\treturn round(e);\r\n\r\n}\r\n\r\nvec4 decodeDiagBilinearAccess(in vec4 e) {\r\n\r\n\te.rb = e.rb * abs(5.0 * e.rb - 5.0 * 0.75);\r\n\r\n\treturn round(e);\r\n\r\n}\r\n\r\n/**\r\n * Diagonal pattern searches.\r\n */\r\n\r\nvec2 searchDiag1(const in vec2 texCoord, const in vec2 dir, out vec2 e) {\r\n\r\n\tvec4 coord = vec4(texCoord, -1.0, 1.0);\r\n\tvec3 t = vec3(texelSize, 1.0);\r\n\r\n\tfor(int i = 0; i < MAX_SEARCH_STEPS_INT; ++i) {\r\n\r\n\t\tif(!(coord.z < float(MAX_SEARCH_STEPS_DIAG_INT - 1) && coord.w > 0.9)) {\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcoord.xyz = t * vec3(dir, 1.0) + coord.xyz;\r\n\t\te = texture2D(inputBuffer, coord.xy).rg;\r\n\t\tcoord.w = dot(e, vec2(0.5));\r\n\r\n\t}\r\n\r\n\treturn coord.zw;\r\n\r\n}\r\n\r\nvec2 searchDiag2(const in vec2 texCoord, const in vec2 dir, out vec2 e) {\r\n\r\n\tvec4 coord = vec4(texCoord, -1.0, 1.0);\r\n\tcoord.x += 0.25 * texelSize.x; // See @SearchDiag2Optimization\r\n\tvec3 t = vec3(texelSize, 1.0);\r\n\r\n\tfor(int i = 0; i < MAX_SEARCH_STEPS_INT; ++i) {\r\n\r\n\t\tif(!(coord.z < float(MAX_SEARCH_STEPS_DIAG_INT - 1) && coord.w > 0.9)) {\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tcoord.xyz = t * vec3(dir, 1.0) + coord.xyz;\r\n\r\n\t\t// @SearchDiag2Optimization\r\n\t\t// Fetch both edges at once using bilinear filtering.\r\n\t\te = texture2D(inputBuffer, coord.xy).rg;\r\n\t\te = decodeDiagBilinearAccess(e);\r\n\r\n\t\t// Non-optimized version:\r\n\t\t// e.g = texture2D(inputBuffer, coord.xy).g;\r\n\t\t// e.r = SMAASampleLevelZeroOffset(inputBuffer, coord.xy, vec2(1, 0)).r;\r\n\r\n\t\tcoord.w = dot(e, vec2(0.5));\r\n\r\n\t}\r\n\r\n\treturn coord.zw;\r\n\r\n}\r\n\r\n/**\r\n * Calculates the area corresponding to a certain diagonal distance and crossing\r\n * edges 'e'.\r\n */\r\n\r\nvec2 areaDiag(const in vec2 dist, const in vec2 e, const in float offset) {\r\n\r\n\tvec2 texCoord = vec2(AREATEX_MAX_DISTANCE_DIAG, AREATEX_MAX_DISTANCE_DIAG) * e + dist;\r\n\r\n\t// Apply a scale and bias for mapping to texel space.\r\n\ttexCoord = AREATEX_PIXEL_SIZE * texCoord + 0.5 * AREATEX_PIXEL_SIZE;\r\n\r\n\t// Diagonal areas are on the second half of the texture.\r\n\ttexCoord.x += 0.5;\r\n\r\n\t// Move to the proper place, according to the subpixel offset.\r\n\ttexCoord.y += AREATEX_SUBTEX_SIZE * offset;\r\n\r\n\treturn texture2D(areaTexture, texCoord).rg;\r\n\r\n}\r\n\r\n/**\r\n * Searches for diagonal patterns and returns the corresponding weights.\r\n */\r\n\r\nvec2 calculateDiagWeights(const in vec2 texCoord, const in vec2 e, const in vec4 subsampleIndices) {\r\n\r\n\tvec2 weights = vec2(0.0);\r\n\r\n\t// Search for the line ends.\r\n\tvec4 d;\r\n\tvec2 end;\r\n\r\n\tif(e.r > 0.0) {\r\n\r\n\t\td.xz = searchDiag1(texCoord, vec2(-1.0,  1.0), end);\r\n\t\td.x += float(end.y > 0.9);\r\n\r\n\t} else {\r\n\r\n\t\td.xz = vec2(0.0);\r\n\r\n\t}\r\n\r\n\td.yw = searchDiag1(texCoord, vec2(1.0, -1.0), end);\r\n\r\n\tif(d.x + d.y > 2.0) { // d.x + d.y + 1 > 3\r\n\r\n\t\t// Fetch the crossing edges.\r\n\t\tvec4 coords = vec4(-d.x + 0.25, d.x, d.y, -d.y - 0.25) * texelSize.xyxy + texCoord.xyxy;\r\n\t\tvec4 c;\r\n\t\tc.xy = sampleLevelZeroOffset(inputBuffer, coords.xy, vec2(-1, 0)).rg;\r\n\t\tc.zw = sampleLevelZeroOffset(inputBuffer, coords.zw, vec2(1, 0)).rg;\r\n\t\tc.yxwz = decodeDiagBilinearAccess(c.xyzw);\r\n\r\n\t\t// Non-optimized version:\r\n\t\t// vec4 coords = vec4(-d.x, d.x, d.y, -d.y) * texelSize.xyxy + texCoord.xyxy;\r\n\t\t// vec4 c;\r\n\t\t// c.x = sampleLevelZeroOffset(inputBuffer, coords.xy, vec2(-1, 0)).g;\r\n\t\t// c.y = sampleLevelZeroOffset(inputBuffer, coords.xy, vec2(0, 0)).r;\r\n\t\t// c.z = sampleLevelZeroOffset(inputBuffer, coords.zw, vec2(1, 0)).g;\r\n\t\t// c.w = sampleLevelZeroOffset(inputBuffer, coords.zw, vec2(1, -1)).r;\r\n\r\n\t\t// Merge crossing edges at each side into a single value.\r\n\t\tvec2 cc = vec2(2.0) * c.xz + c.yw;\r\n\r\n\t\t// Remove the crossing edge if no end of the line could be found.\r\n\t\tmovec(bvec2(step(0.9, d.zw)), cc, vec2(0.0));\r\n\r\n\t\t// Fetch the areas for this line.\r\n\t\tweights += areaDiag(d.xy, cc, subsampleIndices.z);\r\n\r\n\t}\r\n\r\n\t// Search for the line ends.\r\n\td.xz = searchDiag2(texCoord, vec2(-1.0, -1.0), end);\r\n\r\n\tif(sampleLevelZeroOffset(inputBuffer, texCoord, vec2(1, 0)).r > 0.0) {\r\n\r\n\t\td.yw = searchDiag2(texCoord, vec2(1.0), end);\r\n\t\td.y += float(end.y > 0.9);\r\n\r\n\t} else {\r\n\r\n\t\td.yw = vec2(0.0);\r\n\r\n\t}\r\n\r\n\tif(d.x + d.y > 2.0) { // d.x + d.y + 1 > 3\r\n\r\n\t\t// Fetch the crossing edges.\r\n\t\tvec4 coords = vec4(-d.x, -d.x, d.y, d.y) * texelSize.xyxy + texCoord.xyxy;\r\n\t\tvec4 c;\r\n\t\tc.x = sampleLevelZeroOffset(inputBuffer, coords.xy, vec2(-1, 0)).g;\r\n\t\tc.y = sampleLevelZeroOffset(inputBuffer, coords.xy, vec2(0, -1)).r;\r\n\t\tc.zw = sampleLevelZeroOffset(inputBuffer, coords.zw, vec2(1, 0)).gr;\r\n\t\tvec2 cc = vec2(2.0) * c.xz + c.yw;\r\n\r\n\t\t// Remove the crossing edge if no end of the line could be found.\r\n\t\tmovec(bvec2(step(0.9, d.zw)), cc, vec2(0.0));\r\n\r\n\t\t// Fetch the areas for this line.\r\n\t\tweights += areaDiag(d.xy, cc, subsampleIndices.w).gr;\r\n\r\n\t}\r\n\r\n\treturn weights;\r\n\r\n}\r\n\r\n/**\r\n * Determines how much length should be added in the last step of the searches.\r\n *\r\n * Takes the bilinearly interpolated edge (see @PSEUDO_GATHER4), and adds 0, 1\r\n * or 2 depending on which edges and crossing edges are active.\r\n */\r\n\r\nfloat searchLength(const in vec2 e, const in float offset) {\r\n\r\n\t/* The texture is flipped vertically, with left and right cases taking half\r\n\tof the space horizontally. */\r\n\tvec2 scale = SEARCHTEX_SIZE * vec2(0.5, -1.0);\r\n\tvec2 bias = SEARCHTEX_SIZE * vec2(offset, 1.0);\r\n\r\n\t// Scale and bias to access texel centers.\r\n\tscale += vec2(-1.0, 1.0);\r\n\tbias += vec2(0.5, -0.5);\r\n\r\n\t// Convert from pixel coordinates to texcoords.\r\n\tscale *= 1.0 / SEARCHTEX_PACKED_SIZE;\r\n\tbias *= 1.0 / SEARCHTEX_PACKED_SIZE;\r\n\r\n\treturn texture2D(searchTexture, scale * e + bias).r;\r\n\r\n}\r\n\r\n/**\r\n * Horizontal search for the second pass.\r\n */\r\n\r\nfloat searchXLeft(in vec2 texCoord, const in float end) {\r\n\r\n\t/* @PSEUDO_GATHER4\r\n\tThis texCoord has been offset by (-0.25, -0.125) in the vertex shader to\r\n\tsample between edges, thus fetching four edges in a row.\r\n\tSampling with different offsets in each direction allows to disambiguate\r\n\twhich edges are active from the four fetched ones. */\r\n\r\n\tvec2 e = vec2(0.0, 1.0);\r\n\r\n\tfor(int i = 0; i < MAX_SEARCH_STEPS_INT; ++i) {\r\n\r\n\t\tif(!(texCoord.x > end && e.g > 0.8281 && e.r == 0.0)) {\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\te = texture2D(inputBuffer, texCoord).rg;\r\n\t\ttexCoord = vec2(-2.0, 0.0) * texelSize + texCoord;\r\n\r\n\t}\r\n\r\n\tfloat offset = -(255.0 / 127.0) * searchLength(e, 0.0) + 3.25;\r\n\r\n\treturn texelSize.x * offset + texCoord.x;\r\n\r\n\t// Non-optimized version:\r\n\t// Correct the previous (-0.25, -0.125) offset.\r\n\t// texCoord.x += 0.25 * texelSize.x;\r\n\t// The searches are biased by 1, so adjust the coords accordingly.\r\n\t// texCoord.x += texelSize.x;\r\n\t// Disambiguate the length added by the last step.\r\n\t// texCoord.x += 2.0 * texelSize.x; // Undo last step.\r\n\t// texCoord.x -= texelSize.x * (255.0 / 127.0) * searchLength(e, 0.0);\r\n\t// return texelSize.x * offset + texCoord.x);\r\n\r\n}\r\n\r\nfloat searchXRight(vec2 texCoord, const in float end) {\r\n\r\n\tvec2 e = vec2(0.0, 1.0);\r\n\r\n\tfor(int i = 0; i < MAX_SEARCH_STEPS_INT; ++i) {\r\n\r\n\t\tif(!(texCoord.x < end && e.g > 0.8281 && e.r == 0.0)) {\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\te = texture2D(inputBuffer, texCoord).rg;\r\n\t\ttexCoord = vec2(2.0, 0.0) * texelSize.xy + texCoord;\r\n\r\n\t}\r\n\r\n\tfloat offset = -(255.0 / 127.0) * searchLength(e, 0.5) + 3.25;\r\n\r\n\treturn -texelSize.x * offset + texCoord.x;\r\n\r\n}\r\n\r\n/**\r\n * Vertical search for the second pass.\r\n */\r\n\r\nfloat searchYUp(vec2 texCoord, const in float end) {\r\n\r\n\tvec2 e = vec2(1.0, 0.0);\r\n\r\n\tfor(int i = 0; i < MAX_SEARCH_STEPS_INT; ++i) {\r\n\r\n\t\tif(!(texCoord.y > end && e.r > 0.8281 && e.g == 0.0)) {\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\te = texture2D(inputBuffer, texCoord).rg;\r\n\t\ttexCoord = -vec2(0.0, 2.0) * texelSize.xy + texCoord;\r\n\r\n\t}\r\n\r\n\tfloat offset = -(255.0 / 127.0) * searchLength(e.gr, 0.0) + 3.25;\r\n\r\n\treturn texelSize.y * offset + texCoord.y;\r\n\r\n}\r\n\r\nfloat searchYDown(vec2 texCoord, const in float end) {\r\n\r\n\tvec2 e = vec2(1.0, 0.0);\r\n\r\n\tfor(int i = 0; i < MAX_SEARCH_STEPS_INT; i++) {\r\n\r\n\t\tif(!(texCoord.y < end && e.r > 0.8281 && e.g == 0.0)) {\r\n\r\n\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\te = texture2D(inputBuffer, texCoord).rg;\r\n\t\ttexCoord = vec2(0.0, 2.0) * texelSize.xy + texCoord;\r\n\r\n\t}\r\n\r\n\tfloat offset = -(255.0 / 127.0) * searchLength(e.gr, 0.5) + 3.25;\r\n\r\n\treturn -texelSize.y * offset + texCoord.y;\r\n\r\n}\r\n\r\n/**\r\n * Determines the areas at each side of the current edge.\r\n */\r\n\r\nvec2 area(const in vec2 dist, const in float e1, const in float e2, const in float offset) {\r\n\r\n\t// Rounding prevents precision errors of bilinear filtering.\r\n\tvec2 texCoord = vec2(AREATEX_MAX_DISTANCE) * round(4.0 * vec2(e1, e2)) + dist;\r\n\r\n\t// Apply a scale and bias for mapping to texel space.\r\n\ttexCoord = AREATEX_PIXEL_SIZE * texCoord + 0.5 * AREATEX_PIXEL_SIZE;\r\n\r\n\t// Move to the proper place, according to the subpixel offset.\r\n\ttexCoord.y = AREATEX_SUBTEX_SIZE * offset + texCoord.y;\r\n\r\n\treturn texture2D(areaTexture, texCoord).rg;\r\n\r\n}\r\n\r\n/**\r\n * Corner detection.\r\n */\r\n\r\nvoid detectHorizontalCornerPattern(inout vec2 weights, const in vec4 texCoord, const in vec2 d) {\r\n\r\n\t#if !defined(DISABLE_CORNER_DETECTION)\r\n\r\n\t\tvec2 leftRight = step(d.xy, d.yx);\r\n\t\tvec2 rounding = (1.0 - CORNER_ROUNDING_NORM) * leftRight;\r\n\r\n\t\t// Reduce blending for pixels in the center of a line.\r\n\t\trounding /= leftRight.x + leftRight.y;\r\n\r\n\t\tvec2 factor = vec2(1.0);\r\n\t\tfactor.x -= rounding.x * sampleLevelZeroOffset(inputBuffer, texCoord.xy, vec2(0, 1)).r;\r\n\t\tfactor.x -= rounding.y * sampleLevelZeroOffset(inputBuffer, texCoord.zw, vec2(1, 1)).r;\r\n\t\tfactor.y -= rounding.x * sampleLevelZeroOffset(inputBuffer, texCoord.xy, vec2(0, -2)).r;\r\n\t\tfactor.y -= rounding.y * sampleLevelZeroOffset(inputBuffer, texCoord.zw, vec2(1, -2)).r;\r\n\r\n\t\tweights *= clamp(factor, 0.0, 1.0);\r\n\r\n\t#endif\r\n\r\n}\r\n\r\nvoid detectVerticalCornerPattern(inout vec2 weights, const in vec4 texCoord, const in vec2 d) {\r\n\r\n\t#if !defined(DISABLE_CORNER_DETECTION)\r\n\r\n\t\tvec2 leftRight = step(d.xy, d.yx);\r\n\t\tvec2 rounding = (1.0 - CORNER_ROUNDING_NORM) * leftRight;\r\n\r\n\t\trounding /= leftRight.x + leftRight.y;\r\n\r\n\t\tvec2 factor = vec2(1.0);\r\n\t\tfactor.x -= rounding.x * sampleLevelZeroOffset(inputBuffer, texCoord.xy, vec2(1, 0)).g;\r\n\t\tfactor.x -= rounding.y * sampleLevelZeroOffset(inputBuffer, texCoord.zw, vec2(1, 1)).g;\r\n\t\tfactor.y -= rounding.x * sampleLevelZeroOffset(inputBuffer, texCoord.xy, vec2(-2, 0)).g;\r\n\t\tfactor.y -= rounding.y * sampleLevelZeroOffset(inputBuffer, texCoord.zw, vec2(-2, 1)).g;\r\n\r\n\t\tweights *= clamp(factor, 0.0, 1.0);\r\n\r\n\t#endif\r\n\r\n}\r\n\r\nvoid main() {\r\n\r\n\tvec4 weights = vec4(0.0);\r\n\tvec4 subsampleIndices = vec4(0.0);\r\n\tvec2 e = texture2D(inputBuffer, vUv).rg;\r\n\r\n\tif(e.g > 0.0) {\r\n\r\n\t\t// Edge at north.\r\n\r\n\t\t#if !defined(DISABLE_DIAG_DETECTION)\r\n\r\n\t\t\t/* Diagonals have both north and west edges, so searching for them in one of\r\n\t\t\tthe boundaries is enough. */\r\n\t\t\tweights.rg = calculateDiagWeights(vUv, e, subsampleIndices);\r\n\r\n\t\t\t// Skip horizontal/vertical processing if there is a diagonal.\r\n\t\t\tif(weights.r == -weights.g) { // weights.r + weights.g == 0.0\r\n\r\n\t\t#endif\r\n\r\n\t\tvec2 d;\r\n\r\n\t\t// Find the distance to the left.\r\n\t\tvec3 coords;\r\n\t\tcoords.x = searchXLeft(vOffset[0].xy, vOffset[2].x);\r\n\t\tcoords.y = vOffset[1].y; // vOffset[1].y = vUv.y - 0.25 * texelSize.y (@CROSSING_OFFSET)\r\n\t\td.x = coords.x;\r\n\r\n\t\t/* Now fetch the left crossing edges, two at a time using bilinear\r\n\t\tfiltering. Sampling at -0.25 (see @CROSSING_OFFSET) enables to discern what\r\n\t\tvalue each edge has. */\r\n\t\tfloat e1 = texture2D(inputBuffer, coords.xy).r;\r\n\r\n\t\t// Find the distance to the right.\r\n\t\tcoords.z = searchXRight(vOffset[0].zw, vOffset[2].y);\r\n\t\td.y = coords.z;\r\n\r\n\t\t/* Translate distances to pixel units for better interleave arithmetic and\r\n\t\tmemory accesses. */\r\n\t\td = round(resolution.xx * d + -vPixCoord.xx);\r\n\r\n\t\t// The area texture is compressed quadratically.\r\n\t\tvec2 sqrtD = sqrt(abs(d));\r\n\r\n\t\t// Fetch the right crossing edges.\r\n\t\tfloat e2 = sampleLevelZeroOffset(inputBuffer, coords.zy, vec2(1, 0)).r;\r\n\r\n\t\t// Pattern recognized, now get the actual area.\r\n\t\tweights.rg = area(sqrtD, e1, e2, subsampleIndices.y);\r\n\r\n\t\t// Fix corners.\r\n\t\tcoords.y = vUv.y;\r\n\t\tdetectHorizontalCornerPattern(weights.rg, coords.xyzy, d);\r\n\r\n\t\t#if !defined(DISABLE_DIAG_DETECTION)\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// Skip vertical processing.\r\n\t\t\t\te.r = 0.0;\r\n\r\n\t\t\t}\r\n\r\n\t\t#endif\r\n\r\n\t}\r\n\r\n\tif(e.r > 0.0) {\r\n\r\n\t\t// Edge at west.\r\n\r\n\t\tvec2 d;\r\n\r\n\t\t// Find the distance to the top.\r\n\t\tvec3 coords;\r\n\t\tcoords.y = searchYUp(vOffset[1].xy, vOffset[2].z);\r\n\t\tcoords.x = vOffset[0].x; // vOffset[1].x = vUv.x - 0.25 * texelSize.x;\r\n\t\td.x = coords.y;\r\n\r\n\t\t// Fetch the top crossing edges.\r\n\t\tfloat e1 = texture2D(inputBuffer, coords.xy).g;\r\n\r\n\t\t// Find the distance to the bottom.\r\n\t\tcoords.z = searchYDown(vOffset[1].zw, vOffset[2].w);\r\n\t\td.y = coords.z;\r\n\r\n\t\t// Translate distances into pixel units.\r\n\t\td = round(resolution.yy * d - vPixCoord.yy);\r\n\r\n\t\t// The area texture is compressed quadratically.\r\n\t\tvec2 sqrtD = sqrt(abs(d));\r\n\r\n\t\t// Fetch the bottom crossing edges.\r\n\t\tfloat e2 = sampleLevelZeroOffset(inputBuffer, coords.xz, vec2(0, 1)).g;\r\n\r\n\t\t// Get the area for this direction.\r\n\t\tweights.ba = area(sqrtD, e1, e2, subsampleIndices.x);\r\n\r\n\t\t// Fix corners.\r\n\t\tcoords.x = vUv.x;\r\n\t\tdetectVerticalCornerPattern(weights.ba, coords.xyxz, d);\r\n\r\n\t}\r\n\r\n\tgl_FragColor = weights;\r\n\r\n}\r\n"),X="uniform vec2 texelSize;\r\nuniform vec2 resolution;\r\n\r\nvarying vec2 vUv;\r\nvarying vec4 vOffset[3];\r\nvarying vec2 vPixCoord;\r\n\r\nvoid main() {\r\n\r\n\tvUv = position.xy * 0.5 + 0.5;\r\n\tvPixCoord = vUv * resolution;\r\n\r\n\t// Offsets for the searches (see @PSEUDO_GATHER4).\r\n\tvOffset[0] = vUv.xyxy + texelSize.xyxy * vec4(-0.25, -0.125, 1.25, -0.125);\r\n\tvOffset[1] = vUv.xyxy + texelSize.xyxy * vec4(-0.125, -0.25, -0.125, 1.25);\r\n\r\n\t// This indicates the ends of the loops.\r\n\tvOffset[2] = vec4(vOffset[0].xz, vOffset[1].yw) +\r\n\t\tvec4(-2.0, 2.0, -2.0, 2.0) * texelSize.xxyy * MAX_SEARCH_STEPS_FLOAT;\r\n\r\n\tgl_Position = vec4(position.xy, 1.0, 1.0);\r\n\r\n}\r\n",J=(d.ShaderMaterial,"#include <common>\r\n#include <packing>\r\n\r\n#ifdef GL_FRAGMENT_PRECISION_HIGH\r\n\r\n\tuniform highp sampler2D normalDepthBuffer;\r\n\r\n#else\r\n\r\n\tuniform mediump sampler2D normalDepthBuffer;\r\n\r\n#endif\r\n\r\n#ifndef NORMAL_DEPTH\r\n\r\n\tuniform sampler2D normalBuffer;\r\n\r\n\t// The depth texture is bound to normalDepthBuffer.\r\n\tfloat readDepth(const in vec2 uv) {\r\n\r\n\t\t#if DEPTH_PACKING == 3201\r\n\r\n\t\t\treturn unpackRGBAToDepth(texture2D(normalDepthBuffer, uv));\r\n\r\n\t\t#else\r\n\r\n\t\t\treturn texture2D(normalDepthBuffer, uv).r;\r\n\r\n\t\t#endif\r\n\r\n\t}\r\n\r\n#endif\r\n\r\nuniform sampler2D noiseTexture;\r\n\r\nuniform mat4 inverseProjectionMatrix;\r\nuniform mat4 projectionMatrix;\r\nuniform vec2 texelSize;\r\n\r\nuniform float cameraNear;\r\nuniform float cameraFar;\r\nuniform float minRadiusScale;\r\nuniform float intensity;\r\nuniform float fade;\r\nuniform float bias;\r\n\r\nuniform vec2 distanceCutoff;\r\nuniform vec2 proximityCutoff;\r\n\r\nvarying vec2 vUv;\r\nvarying vec2 vUv2;\r\n\r\nfloat getViewZ(const in float depth) {\r\n\r\n\t#ifdef PERSPECTIVE_CAMERA\r\n\r\n\t\treturn perspectiveDepthToViewZ(depth, cameraNear, cameraFar);\r\n\r\n\t#else\r\n\r\n\t\treturn orthographicDepthToViewZ(depth, cameraNear, cameraFar);\r\n\r\n\t#endif\r\n\r\n}\r\n\r\nvec3 getViewPosition(const in vec2 screenPosition, const in float depth, const in float viewZ) {\r\n\r\n\tfloat clipW = projectionMatrix[2][3] * viewZ + projectionMatrix[3][3];\r\n\tvec4 clipPosition = vec4((vec3(screenPosition, depth) - 0.5) * 2.0, 1.0);\r\n\tclipPosition *= clipW; // Unproject.\r\n\r\n\treturn (inverseProjectionMatrix * clipPosition).xyz;\r\n\r\n}\r\n\r\nfloat getAmbientOcclusion(const in vec3 p, const in vec3 n, const in float depth, const in vec2 uv) {\r\n\r\n\t#ifdef DISTANCE_SCALING\r\n\r\n\t\tfloat radiusScale = 1.0 - smoothstep(0.0, distanceCutoff.y, depth);\r\n\t\tradiusScale = radiusScale * (1.0 - minRadiusScale) + minRadiusScale;\r\n\r\n\t\tfloat radius = RADIUS * radiusScale;\r\n\r\n\t#else\r\n\r\n\t\tfloat radius = RADIUS;\r\n\r\n\t#endif\r\n\r\n\t// Use a random starting angle.\r\n\tfloat noise = texture2D(noiseTexture, vUv2).r;\r\n\tfloat baseAngle = noise * PI2;\r\n\r\n\tfloat invSamples = 1.0 / SAMPLES_FLOAT;\r\n\tfloat rings = SPIRAL_TURNS * PI2;\r\n\r\n\tfloat occlusion = 0.0;\r\n\tint taps = 0;\r\n\r\n\tfor(int i = 0; i < SAMPLES_INT; ++i) {\r\n\r\n\t\tfloat alpha = (float(i) + 0.5) * invSamples;\r\n\t\tfloat angle = alpha * rings + baseAngle;\r\n\r\n\t\tvec2 coord = alpha * radius * vec2(cos(angle), sin(angle)) * texelSize + uv;\r\n\r\n\t\tif(coord.s < 0.0 || coord.s > 1.0 || coord.t < 0.0 || coord.t > 1.0) {\r\n\r\n\t\t\t// Skip samples outside the screen.\r\n\t\t\tcontinue;\r\n\r\n\t\t}\r\n\r\n\t\t#ifdef NORMAL_DEPTH\r\n\r\n\t\t\tfloat sampleDepth = texture2D(normalDepthBuffer, coord).a;\r\n\r\n\t\t#else\r\n\r\n\t\t\tfloat sampleDepth = readDepth(coord);\r\n\r\n\t\t#endif\r\n\r\n\t\tfloat viewZ = getViewZ(sampleDepth);\r\n\r\n\t\t#ifdef PERSPECTIVE_CAMERA\r\n\r\n\t\t\tfloat linearSampleDepth = viewZToOrthographicDepth(viewZ, cameraNear, cameraFar);\r\n\r\n\t\t#else\r\n\r\n\t\t\tfloat linearSampleDepth = sampleDepth;\r\n\r\n\t\t#endif\r\n\r\n\t\tfloat proximity = abs(depth - linearSampleDepth);\r\n\r\n\t\tif(proximity < proximityCutoff.y) {\r\n\r\n\t\t\tfloat falloff = 1.0 - smoothstep(proximityCutoff.x, proximityCutoff.y, proximity);\r\n\r\n\t\t\tvec3 Q = getViewPosition(coord, sampleDepth, viewZ);\r\n\t\t\tvec3 v = Q - p;\r\n\r\n\t\t\tfloat vv = dot(v, v);\r\n\t\t\tfloat vn = dot(v, n) - bias;\r\n\r\n\t\t\tfloat f = max(RADIUS_SQ - vv, 0.0) / RADIUS_SQ;\r\n\t\t\tocclusion += (f * f * f * max(vn / (fade + vv), 0.0)) * falloff;\r\n\r\n\t\t}\r\n\r\n\t\t++taps;\r\n\r\n\t}\r\n\r\n\treturn occlusion / (4.0 * max(float(taps), 1.0));\r\n\r\n}\r\n\r\nvoid main() {\r\n\r\n\t#ifdef NORMAL_DEPTH\r\n\r\n\t\tvec4 normalDepth = texture2D(normalDepthBuffer, vUv);\r\n\r\n\t#else\r\n\r\n\t\tvec4 normalDepth = vec4(\r\n\t\t\ttexture2D(normalBuffer, vUv).rgb,\r\n\t\t\treadDepth(vUv)\r\n\t\t);\r\n\r\n\t#endif\r\n\r\n\tfloat ao = 1.0;\r\n\tfloat depth = normalDepth.a;\r\n\tfloat viewZ = getViewZ(depth);\r\n\r\n\t#ifdef PERSPECTIVE_CAMERA\r\n\r\n\t\tfloat linearDepth = viewZToOrthographicDepth(viewZ, cameraNear, cameraFar);\r\n\r\n\t#else\r\n\r\n\t\tfloat linearDepth = depth;\r\n\r\n\t#endif\r\n\r\n\t// Skip fragments that are too far away.\r\n\tif(linearDepth < distanceCutoff.y) {\r\n\r\n\t\tvec3 viewPosition = getViewPosition(vUv, depth, viewZ);\r\n\t\tvec3 viewNormal = unpackRGBToNormal(normalDepth.rgb);\r\n\t\tao -= getAmbientOcclusion(viewPosition, viewNormal, linearDepth, vUv);\r\n\r\n\t\t// Fade AO based on depth.\r\n\t\tfloat d = smoothstep(distanceCutoff.x, distanceCutoff.y, linearDepth);\r\n\t\tao = mix(ao, 1.0, d);\r\n\r\n\t\t// Adjust the overall intensity.\r\n\t\tao = clamp(pow(ao, abs(intensity)), 0.0, 1.0);\r\n\r\n\t}\r\n\r\n\tgl_FragColor.r = ao;\r\n\r\n}\r\n"),Z="uniform vec2 noiseScale;\r\n\r\nvarying vec2 vUv;\r\nvarying vec2 vUv2;\r\n\r\nvoid main() {\r\n\r\n\tvUv = position.xy * 0.5 + 0.5;\r\n\tvUv2 = vUv * noiseScale;\r\n\r\n\tgl_Position = vec4(position.xy, 1.0, 1.0);\r\n\r\n}\r\n";d.ShaderMaterial,new d.Camera;new d.Color;var ee={SKIP:0,ADD:1,ALPHA:2,AVERAGE:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,EXCLUSION:8,LIGHTEN:9,MULTIPLY:10,DIVIDE:11,NEGATION:12,NORMAL:13,OVERLAY:14,REFLECT:15,SCREEN:16,SOFT_LIGHT:17,SUBTRACT:18},te=new Map([[ee.SKIP,null],[ee.ADD,"vec4 blend(const in vec4 x, const in vec4 y, const in float opacity) {\r\n\r\n\treturn min(x + y, 1.0) * opacity + x * (1.0 - opacity);\r\n\r\n}\r\n"],[ee.ALPHA,"vec3 blend(const in vec3 x, const in vec3 y, const in float opacity) {\r\n\r\n\treturn y * opacity + x * (1.0 - opacity);\r\n\r\n}\r\n\r\nvec4 blend(const in vec4 x, const in vec4 y, const in float opacity) {\r\n\r\n\tfloat a = min(y.a, opacity);\r\n\r\n\treturn vec4(blend(x.rgb, y.rgb, a), max(x.a, a));\r\n\r\n}\r\n"],[ee.AVERAGE,"vec4 blend(const in vec4 x, const in vec4 y, const in float opacity) {\r\n\r\n\treturn (x + y) * 0.5 * opacity + x * (1.0 - opacity);\r\n\r\n}\r\n"],[ee.COLOR_BURN,"float blend(const in float x, const in float y) {\r\n\r\n\treturn (y == 0.0) ? y : max(1.0 - (1.0 - x) / y, 0.0);\r\n\r\n}\r\n\r\nvec4 blend(const in vec4 x, const in vec4 y, const in float opacity) {\r\n\r\n\tvec4 z = vec4(blend(x.r, y.r), blend(x.g, y.g), blend(x.b, y.b), blend(x.a, y.a));\r\n\r\n\treturn z * opacity + x * (1.0 - opacity);\r\n\r\n}\r\n"],[ee.COLOR_DODGE,"float blend(const in float x, const in float y) {\r\n\r\n\treturn (y == 1.0) ? y : min(x / (1.0 - y), 1.0);\r\n\r\n}\r\n\r\nvec4 blend(const in vec4 x, const in vec4 y, const in float opacity) {\r\n\r\n\tvec4 z = vec4(blend(x.r, y.r), blend(x.g, y.g), blend(x.b, y.b), blend(x.a, y.a));\r\n\r\n\treturn z * opacity + x * (1.0 - opacity);\r\n\r\n}\r\n"],[ee.DARKEN,"vec4 blend(const in vec4 x, const in vec4 y, const in float opacity) {\r\n\r\n\treturn min(x, y) * opacity + x * (1.0 - opacity);\r\n\r\n}\r\n"],[ee.DIFFERENCE,"vec4 blend(const in vec4 x, const in vec4 y, const in float opacity) {\r\n\r\n\treturn abs(x - y) * opacity + x * (1.0 - opacity);\r\n\r\n}\r\n"],[ee.EXCLUSION,"vec4 blend(const in vec4 x, const in vec4 y, const in float opacity) {\r\n\r\n\treturn (x + y - 2.0 * x * y) * opacity + x * (1.0 - opacity);\r\n\r\n}\r\n"],[ee.LIGHTEN,"vec4 blend(const in vec4 x, const in vec4 y, const in float opacity) {\r\n\r\n\treturn max(x, y) * opacity + x * (1.0 - opacity);\r\n\r\n}\r\n"],[ee.MULTIPLY,"vec4 blend(const in vec4 x, const in vec4 y, const in float opacity) {\r\n\r\n\treturn x * y * opacity + x * (1.0 - opacity);\r\n\r\n}\r\n"],[ee.DIVIDE,"float blend(const in float x, const in float y) {\r\n\r\n\treturn (y > 0.0) ? min(x / y, 1.0) : 1.0;\r\n\r\n}\r\n\r\nvec4 blend(const in vec4 x, const in vec4 y, const in float opacity) {\r\n\r\n\tvec4 z = vec4(blend(x.r, y.r), blend(x.g, y.g), blend(x.b, y.b), blend(x.a, y.a));\r\n\r\n\treturn z * opacity + x * (1.0 - opacity);\r\n\r\n}\r\n"],[ee.NEGATION,"vec4 blend(const in vec4 x, const in vec4 y, const in float opacity) {\r\n\r\n\treturn (1.0 - abs(1.0 - x - y)) * opacity + x * (1.0 - opacity);\r\n\r\n}\r\n"],[ee.NORMAL,"vec4 blend(const in vec4 x, const in vec4 y, const in float opacity) {\r\n\r\n\treturn y * opacity + x * (1.0 - opacity);\r\n\r\n}\r\n"],[ee.OVERLAY,"float blend(const in float x, const in float y) {\r\n\r\n\treturn (x < 0.5) ? (2.0 * x * y) : (1.0 - 2.0 * (1.0 - x) * (1.0 - y));\r\n\r\n}\r\n\r\nvec4 blend(const in vec4 x, const in vec4 y, const in float opacity) {\r\n\r\n\tvec4 z = vec4(blend(x.r, y.r), blend(x.g, y.g), blend(x.b, y.b), blend(x.a, y.a));\r\n\r\n\treturn z * opacity + x * (1.0 - opacity);\r\n\r\n}\r\n"],[ee.REFLECT,"float blend(const in float x, const in float y) {\r\n\r\n\treturn (y == 1.0) ? y : min(x * x / (1.0 - y), 1.0);\r\n\r\n}\r\n\r\nvec4 blend(const in vec4 x, const in vec4 y, const in float opacity) {\r\n\r\n\tvec4 z = vec4(blend(x.r, y.r), blend(x.g, y.g), blend(x.b, y.b), blend(x.a, y.a));\r\n\r\n\treturn z * opacity + x * (1.0 - opacity);\r\n\r\n}\r\n"],[ee.SCREEN,"vec4 blend(const in vec4 x, const in vec4 y, const in float opacity) {\r\n\r\n\treturn (1.0 - (1.0 - x) * (1.0 - y)) * opacity + x * (1.0 - opacity);\r\n\r\n}\r\n"],[ee.SOFT_LIGHT,"float blend(const in float x, const in float y) {\r\n\r\n\treturn (y < 0.5) ?\r\n\t\t(2.0 * x * y + x * x * (1.0 - 2.0 * y)) :\r\n\t\t(sqrt(x) * (2.0 * y - 1.0) + 2.0 * x * (1.0 - y));\r\n\r\n}\r\n\r\nvec4 blend(const in vec4 x, const in vec4 y, const in float opacity) {\r\n\r\n\tvec4 z = vec4(blend(x.r, y.r), blend(x.g, y.g), blend(x.b, y.b), blend(x.a, y.a));\r\n\r\n\treturn z * opacity + x * (1.0 - opacity);\r\n\r\n}\r\n"],[ee.SUBTRACT,"vec4 blend(const in vec4 x, const in vec4 y, const in float opacity) {\r\n\r\n\treturn max(x + y - 1.0, 0.0) * opacity + x * (1.0 - opacity);\r\n\r\n}\r\n"]]),ne=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(a.a)(t).call(this))).blendFunction=e,n.opacity=new d.Uniform(i),n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"getBlendFunction",value:function(){return this.blendFunction}},{key:"setBlendFunction",value:function(e){this.blendFunction=e,this.dispatchEvent({type:"change"})}},{key:"getShaderCode",value:function(){return te.get(this.blendFunction)}}]),t}(d.EventDispatcher),re=(d.EventDispatcher,{NONE:0,DEPTH:1,CONVOLUTION:2});Object(x.a)(Set);d.DataTexture;new d.Vector3,new d.Matrix4;function ie(e,t,n){var r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),i=r.getContext("2d");if(r.width=e,r.height=t,n instanceof Image)i.drawImage(n,0,0);else{var o=i.createImageData(e,t);o.data.set(n),i.putImageData(o,0,0)}return r}var oe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(r.a)(this,e),this.width=t,this.height=n,this.data=i}return Object(i.a)(e,[{key:"toCanvas",value:function(){return"undefined"===typeof document?null:ie(this.width,this.height,this.data)}}],[{key:"from",value:function(t){var n,r=t.width,i=t.height;if(t instanceof Image){var o=ie(r,i,t);if(null!==o)n=o.getContext("2d").getImageData(0,0,r,i).data}else n=t.data;return new e(r,i,n)}}]),e}(),ae="lut.scaleup",se=new d.Color,le=function(e){function t(e,n){var i;return Object(r.a)(this,t),(i=Object(o.a)(this,Object(a.a)(t).call(this,e,n,n,n))).type=d.FloatType,i.format=d.RGBFormat,i.encoding=d.LinearEncoding,i.minFilter=d.LinearFilter,i.magFilter=d.LinearFilter,i.wrapS=d.ClampToEdgeWrapping,i.wrapT=d.ClampToEdgeWrapping,i.wrapR=d.ClampToEdgeWrapping,i.unpackAlignment=1,i.domainMin=new d.Vector3(0,0,0),i.domainMax=new d.Vector3(1,1,1),i}return Object(l.a)(t,e),Object(i.a)(t,[{key:"scaleUp",value:function(e){var n,r=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=this.image;if(e<=o.width)n=Promise.reject(new Error("The target size must be greater than the current size"));else{var a=URL.createObjectURL(new Blob(['(()=>{var q={SCALE_UP:"lut.scaleup"};var _=[new Float32Array(3),new Float32Array(3)],t=[new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3)],U=[[new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,0,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([1,0,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([0,1,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([0,1,1]),new Float32Array([1,1,1])]];function L(a,n,r,m){let h=r[0]-n[0],e=r[1]-n[1],s=r[2]-n[2],l=a[0]-n[0],w=a[1]-n[1],c=a[2]-n[2],y=e*c-s*w,A=s*l-h*c,g=h*w-e*l,p=Math.sqrt(y*y+A*A+g*g),V=p*.5,F=y/p,f=A/p,i=g/p,u=-(a[0]*F+a[1]*f+a[2]*i),M=m[0]*F+m[1]*f+m[2]*i;return Math.abs(M+u)*V/3}function X(a,n,r,m,h,e){let s=(r+m*n+h*n*n)*3;e[0]=a[s+0],e[1]=a[s+1],e[2]=a[s+2]}function k(a,n,r,m,h,e){let s=r*(n-1),l=m*(n-1),w=h*(n-1),c=Math.floor(s),y=Math.floor(l),A=Math.floor(w),g=Math.ceil(s),p=Math.ceil(l),V=Math.ceil(w),F=s-c,f=l-y,i=w-A;if(c===s&&y===l&&A===w)X(a,n,s,l,w,e);else{let u;F>=f&&f>=i?u=U[0]:F>=i&&i>=f?u=U[1]:i>=F&&F>=f?u=U[2]:f>=F&&F>=i?u=U[3]:f>=i&&i>=F?u=U[4]:i>=f&&f>=F&&(u=U[5]);let[M,x,P,T]=u,d=_[0];d[0]=F,d[1]=f,d[2]=i;let o=_[1],Y=g-c,Z=p-y,b=V-A;o[0]=Y*M[0]+c,o[1]=Z*M[1]+y,o[2]=b*M[2]+A,X(a,n,o[0],o[1],o[2],t[0]),o[0]=Y*x[0]+c,o[1]=Z*x[1]+y,o[2]=b*x[2]+A,X(a,n,o[0],o[1],o[2],t[1]),o[0]=Y*P[0]+c,o[1]=Z*P[1]+y,o[2]=b*P[2]+A,X(a,n,o[0],o[1],o[2],t[2]),o[0]=Y*T[0]+c,o[1]=Z*T[1]+y,o[2]=b*T[2]+A,X(a,n,o[0],o[1],o[2],t[3]);let v=L(x,P,T,d)*6,S=L(M,P,T,d)*6,C=L(M,x,T,d)*6,E=L(M,x,P,d)*6;t[0][0]*=v,t[0][1]*=v,t[0][2]*=v,t[1][0]*=S,t[1][1]*=S,t[1][2]*=S,t[2][0]*=C,t[2][1]*=C,t[2][2]*=C,t[3][0]*=E,t[3][1]*=E,t[3][2]*=E,e[0]=t[0][0]+t[1][0]+t[2][0]+t[3][0],e[1]=t[0][1]+t[1][1]+t[2][1]+t[3][1],e[2]=t[0][2]+t[1][2]+t[2][2]+t[3][2]}}var O=class{static expand(n,r){let m=Math.cbrt(n.length/3),h=new Float32Array(3),e=new n.constructor(r**3*3),s=1/(r-1);for(let l=0;l<r;++l)for(let w=0;w<r;++w)for(let c=0;c<r;++c){let y=c*s,A=w*s,g=l*s,p=Math.round(c+w*r+l*r*r)*3;k(n,m,y,A,g,h),e[p+0]=h[0],e[p+1]=h[1],e[p+2]=h[2]}return e}};self.addEventListener("message",a=>{let n=a.data,r=n.data;switch(n.operation){case q.SCALE_UP:r=O.expand(r,n.size);break}postMessage(r,[r.buffer]),close()});})();\n'],{type:"text/javascript"})),s=new Worker(a);n=new Promise(function(n,l){s.addEventListener("error",function(e){return l(e.error)}),s.addEventListener("message",function(i){var o=new t(i.data,e);o.encoding=r.encoding,o.type=r.type,o.name=r.name,URL.revokeObjectURL(a),n(o)});var u=i?[o.data.buffer]:[];s.postMessage({operation:ae,data:o.data,size:e},u)})}return n}},{key:"applyLUT",value:function(e){var t=this.image,n=e.image,r=Math.min(t.width,t.height,t.depth);if(r!==Math.min(n.width,n.height,n.depth))console.error("Size mismatch");else if(e.type!==d.FloatType||this.type!==d.FloatType)console.error("Both LUTs must be FloatType textures");else if(e.format!==d.RGBFormat||this.format!==d.RGBFormat)console.error("Both LUTs must be RGB textures");else{for(var i=t.data,o=n.data,a=r,s=a-1,l=0,u=Math.pow(a,3);l<u;++l){var c=3*l,f=i[c+0]*s,h=i[c+1]*s,p=i[c+2]*s,m=3*Math.round(f+h*a+p*a*a);i[c+0]=o[m+0],i[c+1]=o[m+1],i[c+2]=o[m+2]}this.needsUpdate=!0}return this}},{key:"convertToUint8",value:function(){if(this.type===d.FloatType){for(var e=this.image.data,t=new Uint8ClampedArray(e.length),n=0,r=e.length;n<r;++n)t[n]=255*e[n];this.image.data=t,this.type=d.UnsignedByteType,this.needsUpdate=!0}return this}},{key:"convertToFloat",value:function(){if(this.type===d.UnsignedByteType){for(var e=this.image.data,t=new Float32Array(e.length),n=0,r=e.length;n<r;++n)t[n]=e[n]/255;this.image.data=t,this.type=d.FloatType,this.needsUpdate=!0}return this}},{key:"convertLinearToSRGB",value:function(){var e=this.image.data;if(this.type===d.FloatType){for(var t=this.format===d.RGBAFormat?4:3,n=0,r=e.length;n<r;n+=t)se.fromArray(e,n).convertLinearToSRGB().toArray(e,n);this.encoding=d.sRGBEncoding,this.needsUpdate=!0}else console.error("Color space conversion requires FloatType data");return this}},{key:"convertSRGBToLinear",value:function(){var e=this.image.data;if(this.type===d.FloatType){for(var t=this.format===d.RGBAFormat?4:3,n=0,r=e.length;n<r;n+=t)se.fromArray(e,n).convertSRGBToLinear().toArray(e,n);this.encoding=d.LinearEncoding,this.needsUpdate=!0}else console.error("Color space conversion requires FloatType data");return this}},{key:"convertToRGBA",value:function(){if(this.format===d.RGBFormat){for(var e=this.image.width,t=this.image.data,n=new t.constructor(4*Math.pow(e,3)),r=this.type===d.FloatType?1:255,i=0,o=0,a=t.length;i<a;i+=3,o+=4)n[o+0]=t[i+0],n[o+1]=t[i+1],n[o+2]=t[i+2],n[o+3]=r;this.image.data=n,this.format=d.RGBAFormat,this.needsUpdate=!0}return this}},{key:"toDataTexture",value:function(){var e=this.image.width,t=this.image.height*this.image.depth,n=new d.DataTexture(this.image.data,e,t);return n.name=this.name,n.type=this.type,n.format=this.format,n.encoding=this.encoding,n.minFilter=d.LinearFilter,n.magFilter=d.LinearFilter,n.wrapS=this.wrapS,n.wrapT=this.wrapT,n.generateMipmaps=!1,n}},{key:"isLookupTexture3D",get:function(){return!0}}],[{key:"from",value:function(e){var n,r=e.image,i=r.width,o=r.height,a=Math.min(i,o);if(r instanceof Image){n=oe.from(r).data;var s=new Uint8Array(3*Math.pow(a,3));if(i>o)for(var l=0;l<a;++l)for(var u=0;u<a;++u)for(var c=0;c<a;++c){var f=4*(c+l*a+u*a*a),h=3*(c+u*a+l*a*a);s[h+0]=n[f+0],s[h+1]=n[f+1],s[h+2]=n[f+2]}else for(var d=0,p=Math.pow(a,3);d<p;++d){var m=4*d,v=3*d;s[v+0]=n[m+0],s[v+1]=n[m+1],s[v+2]=n[m+2]}n=s}else n=r.data.slice();var g=new t(n,a);return g.type=e.type,g.encoding=e.encoding,g.name=e.name,g}},{key:"createNeutral",value:function(e){for(var n=new Float32Array(3*Math.pow(e,3)),r=1/(e-1),i=0;i<e;++i)for(var o=0;o<e;++o)for(var a=0;a<e;++a){var s=3*(i+o*e+a*e*e);n[s+0]=i*r,n[s+1]=o*r,n[s+2]=a*r}var l=new t(n,e);return l.name="neutral",l}}]),t}(d.DataTexture3D),ue=(Math.PI,new d.Vector3,new d.Vector3,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAQCAYAAACm53kpAAAAeElEQVRYR+2XSwqAMAxEJ168ePEqwRSKhIIiuHjJqiU0gWE+1CQdApcVAMUAuARaMGCX1MIL/Ow13++9lW2s3mW9MWvsnWc/2fvGygwPAN4E8QzAA4CXAB6AHjG4JTHYI1ey3pcx6FHnEfhLDOIBKAmUBK6/ANUDTlROXAHd9EC1AAAAAElFTkSuQmCC"),ce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAIwCAYAAAABNmBHAAAgAElEQVR4Xuy9CbhlV1ktOvbpq09DkiIkUBI6kxASIH0DlAQiIK1wRfSJTx+i4JX7vKIigs8HXpXvqVcvrcC9agQ7IDTSSWgqCQQliDRBJKkkhDSkqVPNqVOnP+8b//rH3P+eZ+199tlznVTlvVrft7+1T7OaueZY42/m37QALKNk2wHg1pITlB17mC+Pp11W3X/LHyT32vhg48/5SOv+PnwpsHA70JoGlueB1iKApeqzvOzn44GatTB76Xzhd7suBR7+WWADgDEAwwCG/L54b/poDLrHuvvm70Z2Avhsc+PVcxscBU8F8C8ADg5+ipIjD/PlGwfgju8B924E5seARUfLsiNmqQW0IjL8+7L2NYD/7COBzfcCm+aB8SVgdAkYIRCXKyDax4EdAanL5PuNPllNvXDlAHwFgP8AcC2AhRIoDXbsYb48dl5WkVFTE3LGDcC9m4CZCWBuFFgeAZaGAYJQQCRqDHT+McJrVb8zwATUXH02MHYfMHEIGFsAxgjApQqACYQORjtd/B7Axt/z79sC0+cMPgjjlwPwVwHcA+DfAHzTxcVgWBroqMN8+cYBeM71wH0TwKExYHYUWCIAHYRLTlkCYgcIBcAgU/n3qy8GRu4HRgnAOWBkERhddPAJhGJDBxkvw7cqimr+zFM/ZLnZF64cgL8BYD+AWwB8x/dlWuWagHiYL984AJ/0RWBy1AE4AizyM1yxYAcTigW55xMbAkxEiwEdkJ/ZCQxPAiOHgBECcKEC4TBZcKkSv+mTieNcNPNC26mLNsj45QD8LQDTAO4GcJt/7iw2bfoG4WG+vAGwm9ExiEg69zpg/wgwPQLMjgALzn4E4aIzoJjQ9g4024uygkj+pyuAoX0VAIfngOH5NgCHMhAm8Sv2y3XDZeBhNIp8OzJE8OsBzAKYBHAXgDt8/4O+MVT0j4f58o0D8Pxrgf3DwMwIMEPQEYRkNwfgsuuDZLskip0No0gWMD/9HGDoADAkAC4Aw/wsAgZAgs2Z0ABI0GU6IVmKv+f28KDnHxkA/G0A8y6G73N9kOCjXnh/Ebb6OvgwX75xAF5wLTA1VIHPADgMLDj4yIA5AAm6aCUnv4oz46eeDwxNAUMzwJAz4BABSNDFTwSfg7DDKHE23MG5PqIY8A1u/dINs9dBdy8AgnGPM2NfUBrsnw7z5RsH4IXXAAcJviFgluAbygBINnSLWOAjGxJ4pgOKDV0v/OSLKp8iGXBovhLBBOCQM2ACoTOhnYrAdItYbCij5JFzRyIAqRccAnDAQUjg6UNQ7hsMXP0cRQAexss3DsCLCECCLwCQzMcPwUi2MwAScAKbfnY/YRLFQ8DHX+IAJAMSfDkAF13kLvleIjhjQQHxUVS3jjgGpKeeNzYVQEjgUS8k+PghONdhIwAP4+XXBYCHKIJbwJyDTgaIAdCBJx3Q2M8tYAHP9m4df/ylQOsQ0JqtRLCx30K1wtLBggScQOgsKBGcWHAJeOwRC0BSM1mQIKRbhh+Bj98JQP6t4U0APEyXXxcAEnxkQAFwoVUxID9kvQg+c1C7vidRbIDkc24B//hTQGumDcCWA5DgMxASdNIFBUI5pCML8v8API5zfEQx4BudgqiczviSnJhQwCP4BMCGl+wO8+U7AJi/W4O4YS6+pmK/2ciADsAOBhTIIiAJnPB7AvNjP+0AnANaYkAHX2JBAc+tYaJXOqBZv24Vc386XW5dtkHGW+4HFAJonpOe+YYQZAShgKjv3PNvPQaxVoI8zJdfFwASfPzMUwS3Kt1v0UFIlos6oDFdAGFcliMAP/ryAEAGNwQRnDOgLbdlIEwrIs6AZ/QgkMMHQF6ZAKQcJAsSYPwIeAIk9wJgoPK1gi7+PwF4GC/fOAAvIQPSs0URTPBJ/Pp3GSEGRHfBCIQ0xowBtUbcAj7ys5X4Jfu1HIAGQrIgQRXEsAFQIORDFhiDY/rMHmrU4QUgR08AkgUjCAW6CD6CkwBsAIQC4GG6fPMA3OXiNzCg2I9gNCMksmAAoemDzoimFwL48M85AKkiuQVMAAp8CYRRDAt8GQiJ67N6GJODAXAHlsGguscA2AJg1IPGYmxOpBxFWkRN9LsATgIwXnNs/v/5z/9XCf8BO3YAtxbc/46/KDt+5+ea1Yku2VUxHz/z0v24FwMGK1gWsK2OUUxHHdCBeRUB6OxHABr4ZICIBd0QWSF+XRdMTAjgCdTrG9cBNwE4F8CpDkICyYLGsuhFt6zs+gISwUen8zEAjgMw4cfx2H6O/90yAFo84Cbg4ID3/9TfLTt+5+ebnRABkODjx0SwPi5ec/FrYpmqSAxM8Dn60CsqAFI6GfhqAMiDE/gokmvEr0C4PgDkBQm40wE8zMFEUDKEVoxIMLl/KS73mE7H9d+vcKHQQcjwW0Yu9nP8m8sAmOIBuWY6wP2/4s0ezjjg8TuvaR6ABJ70vxUApGrm7EbGE+i472BAB+WHfqHS/eoAaEwY2E9+wLSXTqhI7CXgnB6LCoOJ4BiST+hTnG0HcCwAglCx3ARoZEVFXnBPp/O/A/hXACc7CPs9/i1lAOyIB+RDX+P9/+pbQjjjAMfv/PL6AFDs1wFAgs/9fgKfgdE/ZEpuiQlbwAde6QAMBgiRmsSwA9BY0JfjovGRDBMH4TlcXGhcBOc6HkF0gjPhZgchxTLZMAci/04W/B6Ab3t09EPXcPyflgFwRTwgJ2MN9/8bf5qFM67x+B/aW4XQz42FeL0YrRyikztUFw0704mf9kXgxhOAqc3AAsPyRxxQCs/PdXOFY0W1KHy3QIUGtx+6vdnx1vsB+dsTncm2AogglFgVEAlUWrOMB2RyEmMCGQ/Y7/HvKns6tfGAnJQ+r/9b76oJZ1zD8WdyQjYBh8aBhVEHjELouQ8ukQ7VRSCJAALwkr+sALhnGzDD3JAJYJHg9uhoi4bx8ytkWUtvHT/7+Zc4dw1uZ3612fH2dkQf7yxIEEockwkJQn4IQoq8unhAhmPRKKFx0uv4K8ueTs94wD7u//VX9ghn7OP4c+4G7h8HpseB+dF2AKlFLwuAIZ8jD6NPrOhAffmfA9/ZBuzZCkyRWSeqBCWyoYGQ5yQrBpDbum/ME1HoPo0XEkSD2zlfbna8q6+EUJcTCxKEtHL5EQjP6BEPyIgYAZBvYt3xHyx7OqvGA65y/7/9wVXCGVc5/sl7qxD66dEqiYgRzAqhN1A4CBNAAlDyAFI+iZ9/N3DLJuC+jcDUBmCWyUnOrmTYCMIOkNclLg0B8/RsNLg9+UvNjnd1APLmmQpFHyEBROuWACQT8nN+H/GAvY7/VNnT6SsesMf13/CpahGnZzhjj+PPmwX2MYdDIfQexWyBAwEUOQDrRDN/98p3A7dvAO6fAA5sqHJDBEAyoUVGkwEd6HR12XU4kwzfl6fCXTZzjy57vvnR513X7Hj7AyDvggAUi9EyFgiZqNxPQF6345nOWbD1HQ/Y5fpvuLa/2+82/vNHgAPDFQDnhoF5j2C2qBWCI8bw1eRw5CL5l94L3DEOTI4DB8Y9OWmsEu/zBJ3rgsaybqBob/7A4C7jtWcooRrczr+u2fH2D0AOQgAUCxKEP7aGgLy64+m6KdjWFA9Yc/03/Osa4glrjr+AupqHz1sEs0cxG0BC9HIePLoit9eNkVf9L+DuUWByDJgaq4ybGYLPAWgiXmLedUE7dwC7saL7CqfPKXi4NYdaykCD410bAHlDEsNiwZ9wAPYbkJcfz6T2gm3N8YDZ9d/wHxUA+739fPwXPrSKYGb+BuP3jAFDElFH9HIWwbzCIGkBr/or4J4RYO8oMOW6ZVcAuvi1Cgoha04BCwT5gfMKHm7NoRde2+x41w5A3hQZkADk5+cGiAeMx3+/7AENFA8Yrv/G71cAXFM4Yzj+otOAaQLQA0gZxaIIZtMDFTigKJV8H9Iq6aZ59ZXAvSPAvpEKgBTtBODcSCWCZeRYtpzrmLyeGNCAyFl1v+Hei8qeb370Rdc2O97BAMi7EgB/2QG41nhAHU9LuWAbOB7Qr//GPRUA13r7Gv9FZwIMoVcEswEwfDoimEP0shKKtIphaZQAXv1+YM+wA3DEdcvRKkGJADQQEsQuhi1Tjt95vBsh5nx2IO59SsHDrTmUOStNjndwAAqEry0IyCMICkOyiuIBNwBvPFQQT7gBuPjc9oRYAIHyOEL4vIFEYVNaOou5vCGE/tV/A0wOVcnpzI47NOri3QFIBpSeaSDUdYLOSWvYImSGgftpJDa4MWJbAGxivGUA5MAOc0Be6eVLj7/4Mk+hzCOYPYpZDBiNkLh+G/M3yFyv/ltgL3W3YQfgcFUhgRY2PwY+Z7/EhAR1SFyXCOb57r28QfQBsJQBMn5D4y0HYLPje9Cd7RIC0PM3EiMofF4gVCBp1P840ix/gyz56r+vAMjk9Gl375iB4+CzveuZdLkkEPJ8ZEfX/6R73vOjzT5Si9hucLxHAVg4PwJgRwh9CKOXK8YA4ZEqKZXSQWh5P+5AftXfA/uGKvYjCKn72cctbFrZNECka5L5CPwIPtMH3TVz17MLB5gdLgA2Nd6jACycHwLQxFEUSR5ASvARDB0h9AQb9bXIgCGk6lUfAPYTgEPAITKgg1BObk58srTJgG58WMkWMaAbQQT1nc8rHGANAJsc71EAFs4PAagQestgC1lsBJ4BMCSOK6dDUcwqqaFiQr/0QeAAAdjy+jBiQQeeMSBZT3nCPUDIa9z+/MIB1gCwyfEeBWDh/BCAeQSzgkjFfGLBBD5nxQ4DxN0wv3hVxX5TBGDwL5obxvVA5YqYL5BeMLd66YYxJpRB0gK+96LCAdYAsMnxHgVg4fwIgMrhUPKQ2C+Bz0PmBTqBMQehAbDlIjj4F80KJguSVZ0FuXpjoCOgXawLjALhbT9eOMAuAGxqvEcBWDg/l1IE05Ed0ygZnyHdz0VwCqEPIfNyx0QQvvLDFQCp+8nfZk5und8tXwIgWcHSNX0N2CJmnAl3v6RwgNnhl17T7HiPArBwfghAS7mV/hey2JS9FvM3BLpUUi1YwDRMXvkRYJoAlAh2l0dcZ04s6JUTDIjyBcrl4yDc/dLCAdYAsMnxHgVg4fxwKVwJgGEJNmWtxpQMpX9on2eRhVA+O56AjMfnP+e3Xvf3NwG4xIPTleiY55bpGh6UbafNU0l0z0p+5Jh5HqYJ6b51nP6XP8cx12XNHQVgIQB/bFPVg2OC7Q+WgVFWng/FvtWLI06uWh5oguKEcXVS/9sEAF//VGD7t4ETDgJbF4CNi8CGZWBs2fPL/H6Vwp2KEtVk4fJ+v/EIYPN9wKa5qu+IncfPwXHVZe/aOL3EbwS7xv8A1rQvnO0j8PArTgTGZ4BxFv9mIxhOCGsv+0OPYDRghcLfkWkEuq0+G00x4OtfDGz+d2DbHmDLjL8si8AYP/7CGIAiEEMTG92zXqSbH+d9R2aA0XnvO+JjthiIrOVDHHPOkBrzUQAWAPsZp3oPDpa/Xag6EVkLBK+5rAnJC3/nYk/APD704WiEAV8OTHwX2LQH2DgFbJgFNrBhjd8r79deGoEwsllgNBOzy8CdjweG9wBj08AIAci2D6HafmyAk4/Z7SJ72hGYRwFYAMDLTwOGp4FRFgD3HhzqRGQiyeurqOdG6r0Rm8IEZjzRlkiqCWoEgK8Axm4BJu4HJhyAbFhDxmbDGnZO4j0SgLGDkpibgEq66TJw/1nA0F5gdLpq+zDqFfd5LMeWqu5HNST0uJOIllg+qgMWgI+HPv0xwLA3gWHpW2sC441gCECbmKziaGrnUdMO4aHeh6MxAP4SMHI7ML4HGD8AjHvHJGNAgpDgY/ck3stipRemvVhc+uASMPUEYGh/9dIRgGx8Y+MNbR/00uVtH0wEx94j/v0oAxaA8Ed+GBieAYZZg5kADC0QWGOFzGJlcGPzl1BxNLXD8sk4xftwNAbA/wwM3wGMUmxOOQBnHXzetIYvibonmSiuYTNjriVg7glAiwBk0fNZH6+PmX9P6kfNmCXGpftJ7TgKwBIAnln14BAAYxMYm5C6RjCyCoOyr0qkD/c+HI0B8DXA8N3AyCQwesD1VQKH7EcASm1Q+y4CkN9pUKiVF5nLvy+fBbTUd8QBaH1HvNBROiZvfsNnrF4kcvPwpdsBLBeU18Nf7AB23Dp4ecHC8oBgUlJJecLS+7+WOpE3gbE+HKw+yoevCYkMGKqPJrdEKARutaFYRs1fiEZ0wP8CDN8LDO8FRqYq3W10pgKgfYLaYCzootgA6KXaTA90y374TKB1sBozy77xHFZ536utRgAmEaw6g5kUSFZwSXnA330qsOlfgHMPDlZesLA8IOjoLypPWHj/11EnCiVwkz7kAExtsGraYUWdSDX5TmsagL8KDBGA7Bd30JsW0oWivnEOQNP7yGTSBR101AlZSUtGyfgZDkCWY1HnJdcBVe6325hTvelg2CQjZNDygG/2An0j1wKnL6y9vGBheUC8prQ8YeH9X39OVQSc7Mc6fCaKvAeHdCIVf4yMYCynTpX+nb97NJmlSQb8r8DQHm9YOFUZTKOzoXGhs6AxF0HIexcLBvWBuiHN8s2ne98R3qc6L4Vyb2oBVjfm9MIFHbjDCh6kPOBbQoG+oW8CO5bWVl6wsDwgfr20PGHh/X/1iaEIuDcCTIW/1Q4rFv8OnYiW3c+W2iKwUjKbyjQNwL1uuR6sAEgDgq1brXOmV81PxhNB6DUDBSYzQJwFtz623XcktX1Q1VWKaTF/zZhVazBVYA1tX5MazsGvobwe/jQr0Ne6BTh5uf/ygoXlAfG60vKEhff/rSe1i4DnTWDUACY1guFTDqLYdCBvf6DJYSMYATBfOx1kLfj1v1axH10nQ3Sd0GUkBnTfpemtBJgseIKQAHLQcVxa2TnuMW0Aqui5es8xBIegVdVVE8VhzHnLh65WMB9An+X18K6aAn2tO4ETl6vqbKuVFywsDwhevqg8YeH93/Rk70JE90nowxZbIJjvS3WYNSGUwGHJTpPxwwcbBuBrgRYBeKACn7VtpdUu/c0NJxO9BIxcKu4TTODzbkonPLoaL0vyUQRb2y8HsL1ckfWzMeuFi40Qezqi+yiPhyt7FOjr6/gCFwgP7Xb5vssTFt7/nQRg6MGRWmDRoeyTlpgw68GRTwgZgo1gGmXAX6/8dtaylSKY/koyID9BhzML3q1gAos2AcOrZYSoq/pJp1VtODRm9Z3LS/7WjVkvXOzEtOpKyGrlAT+4SoG+VY8vBGCvy/dVnrDw/vee65NBJiAjBIVcAJQjOm+DkCZEeiGAMw6sAwDZsJrAdhFM9rPGhd4904Co5oVuCZPV6kD40Ec6+9W8dBTBsfdc3nkpvnB82fp2RPcs79dHgb51LA9ofsDV6vut5/3PnxcAmLVBiDqgevDaJLkYrpuQxzcNwN8AWgIgRbB8loEBzXDwl4cGiDGft58SCOWGedgjvOJ+bPvgRkiuA+ZjzhnQQOiFNVbloa7l/fos0LdO5QENgEXlCfs8Qbf7HyMA3QVjYihYhLENgjX9y/qwxQmRU/asfd0ZcLU2CHVGyusJQLKfVi98CS12T5f7iECkHpsMkAhCF8+nshWH2I/jXsOYO144GV/9ApAIrS3vt4YCfetQHtAA2G+/4PW4/2PPbzMgmUMi2NoeSCRxIt2/FvuxWURIWCXg357gfTjEDNIHnTRXRCpH5ugKwGl3HpMBXQc0v6WLYVm/5limj04rG762K2uYY9jBkr9+rI03NL5ZbczS/dJ+LQyoga4o77fGAn0NlwdMAOy3vl/T938KAcj121z8Bn+Y9eWQJRz8Y6kNagDh2ey5EvxjxQD8TWdAuneCCO4An1vw5vdzQMmdktwq7pLZQR+dM34+ZumAxvY1Y04uqOAJ6FsExzeto7zfAAX6GiwPaLWR1lrfr8n7f/Rl3QGzmsis+/uO71V9OFgP2gpPhgr7TGRqRUT6dyvr4aIs/pm/2zVUNbBSv6G8e5pEv0Cvec7Po7+bTtjlBRlkvAMBkDeQyvsNWKCvofKACYBrre/X1P0/oWEAnnFD1YdjhtXxR73mX10FfCHHE9pVWcGAI/S0gKsfA2y+twrFZw6Hxf/F0Pk8Ri/kpGSnMuDx5T0iACgQHioo0NdAecBUHW6QdsV2/cL7v/Cyqr5gnc42CCOcfX1VIZ/V8We9IDmTzVXwPDJiXuKXPxtDBma8+lzP4WAgKkPxCUAPE4v5GzEuMX0PYJPLhB6FJsc7MAMmkVxaYC/K9gG+F1++8AQ7Gwbgk78I7GFpXgIwFiRXOwaJZPUbiR0yCUDRk+cHf+YpwMj9HgfI8ClGPyvsSiH0WSKRuYlitLb/zHM/JOSs5C/YIC9cMQDZr/dwxgOW9gtGYUBi0wA8l304vDQvAchilFbpIBQhZ7Ejq6ZQ0/Yhil8y4j89Axie9DAsD6FX9HOK3QtROTFkviN83kG4felIY8DCeLrSeMDSfsEovAECUFsTjHD+tcB+tkFgcXKvBRir7qtFl9owmO4Xy/1G3bAFfPrZHorFNWBFwHjQAFctIghj2kBarw06If/+MM9ZqTN6DgsDojCerjQesLRfMApvoGkAWh8Ob/tgAPSKWCp8ngNQtadjmTdltvNvn3peFYhgQQgh+iUmEaUAUoXM1yRLmWuFLaE9Z+XIAWBhPF1pPGBpv2AU3kDTALzwmqo6qtVh9kJErAudABia38TC5wJgS2xIhAwBn3yhByL4EhzXfRXxYsDTJ4IvrNN2JFMxZcBzVo4cABbG05XGA5b2C0bhDTQNQLZBYH1AVsQSAAU+imI1obHyblnjG/kJk3U8BHz8xVUQAhnQIl5CyNgKAGp5LKSSCoAySh5Jj79vTagcxUaIBeRNe79g9gq+DXig4wGzy+PONfT7RWFA4noAkGXZVAhcBckJQgNgrLiaNb3paIDo1vHHX+oA9LQBi4DxJcOUPJUnTgU2NJUyROs8irGARxQAC+PpCtsFd40H/AEf0gMQkLgeACT41PiGoLOKqyrJq3K/Ya9mNyr5FusN/uPLPIeDa8Bc+w3rtyl4VFHaMZc3i9RWBM9jjzgAFsbTFbYLRmm/YBTeQNMAtD4cBKDXBTQGdAB2MGBo8SCLmEuS1AFVAJ3A/NhPt0PoCcA8bSDG76XI7aySg6JYuGfKwJHFgH0E5B3ueMCe/Y4L+xVHAOZ+9EHcEgQgwbeiEYx6jwTdz4qfu7EhEJqxGqruf/RnHIAEnxgwBM0aC8aUAYWNBRCmoIll4HTqO122QcZbrgMWxtMVtgvuOx6wa7/jwhtoGoDWh4MBJ16WN4lfr8AqI0TVV1O1fa9BbQzovkAy4Ed+NgCQUSxZCFWvCOaOFREXyUwZOPIA2GdA3uGOB6wPaOz+QPv5S+MA3OXiN9aclghW+d3IgupBF2pPqxcxGenDPxfSRh2ASiKKiVP2PaZScvAKoA0VDc6cOlIB2GdA3uGOB1zR77iwX/F6AFB9ONSOQW0frA50sILVcckWJyIDSgwPAVcJgFbYuZ3FJvAlEHbJ3IsgJLGedeBIA+AAAXmHOx6wo99xYb/i9QKg2iAIfDJEJHqj4SExbEty0gkdhB/6P9oZbBZIGiKYVb9GKaN50lRHBLOvhDxh/5EKwDUG5B3ueMB2QGM/grb7/6wHAPNGMAY+GSGUjC52VX2f2CD4+HO0gqkZfegXKgBaHkcWtS0AWii9xG1ImrLlN5XR8L8fmQD05BVrmEENmpYSP9QX+KHiqj2/82+HqqDWwnbBRfGATdzAegGwru2DpRq7Mzq2fpAf0Nq0Rl2wBXzglZ4yUAPAmDSVWDBPHQjLcgTqOZ6zUvdKHh4ruDCerox/Dnu7YqwXAC1NI/QcEQuK6WK/kdgCTGC0PYAP/KIDMBgglq+hIkrOfsaCviLSofcJgJ5AdM7kkSaCj/HqQKVIGvD4swF8bcBjmzjsaQ2H5D/6acBd9wALB4DFWWB5AVherMp4GKIYEOp7+26UF0aSfT/xYuDG7wDjrIpAERytXf2vajj7ueryQXSFl10K/ON3gIWDwCLvjfGB8Z54O+Ee4ve6513uB2R1yzsqC+twbC8HcNVhfAeaBuDP/TvwtS3A/ePAIfYFVlPq2HHTuyulZCTlhbjhETF5yxTQGgPGhoHhIWC4VSXGD3n0tLkMHXHxu+YyB+MlPwDuZs5K6FlsbCzdVO9DuKfkHM8AEkP7B8fOkwDcD+B7np42+JkGOvKdAL4E4K8P0zvQdET0b14D3DgB3D0B7B8HZka9WzrD88N6sFm+YcUjrn7E1ZDvMtF9DBgeAYaHgSGB0PNHCD4BLwLRsByAyX/ij0/dDUxuqlIG5hix7eFhvLcOVUAtyPSydAFmOQNe6EYGV/9ZESiKgIEgtbaD/gHALQC4ovY5r5KwtjOU/XfTAHzzLuCmIeDuMWDvKHBwpMoN0WQzNtAaYSs0K4ZlOSAjGG9kPjCBRwZ0ABKEBJexYAZEAU3A7Oi1BeDym4EDnjQ1TwCGWMW8MXcKks0YOyZNlQOQjcgYIUHllEzYQ0ktm+r6oz8G4F4AXwXwRd8/kO9A0wB8y65KmPxgGJgcqYJTKYpTv2CCzyddQJRDOjKivn+Deh8BF8BnwBtaCUA+YYEyAU8h+c6Az9gNHHRmrgOgmDA3jHQ+iWupCeUAvNSrA9HNwqx+muk9nJVNg/CTfrmbAPwbgK8D+PcHkIibjob5o13A3XypWsAkG1cPA9PDFQDZM1id0i1KxsWfOrKnAFXlifCFFMMRcASigOcs2MGAIfE9iWXplS6On7UbmPaUUTXQrgsVMzcRj5Folg2V5ayUA5BWYKwOxKUafnosWjcJwk+7W5F2EKvlE3xcXaNYfiCYsGkA/smuqug6hcleAnAImPbO6YwRpMgjCAVAm/yQmKTv5hNsAf/i7SyNBSl2a8Qv/4/M1yF+BZSYlNQCnnVrpbC+mToAACAASURBVJcaI7sOSEY2NpaDXLqpR+vE/OVksDgImgGgghHoYJbTWc7oJtFWc65/cg2AYvh2ALsB3AzgVv95nS/f4QdsIkT9T3cBrGtITWZfC5hqtQHInsEGQn3UDDvEDEY/ICf7SxMOrAg8T+c00JGkvHGd2DABUYZIAONzCUDppCFhSukCBsLQrFtZe/IixYQpSyEoJoqnuPWrVRAubQh83HNlZB23z7j1ywmj6CIIqUPxw2Xeu9bx2jx10wz4Z7sqTYZaDD8EIDuoE3hMVEphWg66JIp90k0sBxBcy+iPIIaT1RtEsHS/yIAqw+VSNPWQfe5tlVEk8auXgVa5BUsEJuT5uoliAbE5AGotmIAjCPnR9xDG3TQernYAUupTdBGEFMf83OkApHG+XlvTAPwfuyrgSZOhas3u6cwTsUBVn2gTwyFMi8wjHZAA1M9fYGHDULJD1m8Cpa8fRxDad+l+Ykf/3XNvd11U+qiL39SxXevSsshdDFvgbI1O2AwAtRZMZzTBRuDFjxe1Xg8QEIB8yyj5yYIUxfQIkfkIRnmHCM712JoG4FsdgHHp3ACoMH2G6jM4lWzoQarSvwQ6MSB/vporVaFkh+mCLlpVR8Z+dqDZLoDOpHSiQeAFDkBjPrlgCHgCUaFifg67H/9uYjn4Ai1vpTERTAASBaoQJBAKeNqHlL6mwPDZYAOROag/EYRkPX34MwHIvzW9rQcA+TLpI22G7EcQKlJGsYIJhC6ClUMiXfBTbFUQAej6nPS/OuAl9pOOqIc2BLzg++3VmWgIEUz82cRuCAtLIHQQm0gO52uOAb22sC3JEWgRfPpZf2sQBQIgLydPEIFGwPEj8MlF2bSbsulghLftqsCXq9HGgHysznrGgi5qzTUTFH8FLhAUn3hIJwCN0HLncw37qaF2zoYvuKNivmQIuUNc7GvWt6sHNs26twA6vhyq8NEMAHlyntFrDCcQehyaPTl+FwAbXDcmAKMRThakEk8Q8kPg8SPL0qzLBl+A9QCgR6uZGs3vfHz8TtBZvkgGQrEPBVAUg2Sij50QAOjiVKI3saADJRm7dSLYWfSFDkCem/dhZeMy9pPY5QvSDYQyUJoDIK8qMezh3wY6fSL49PcGgCAA8pScJLIgAUYQEmz8RPA17StvGoBv39W24eREiBoNQSgWNI1HBkdgxJSw1AI+dFIbgOYmkjimQ1r6XXC3rAbCHycAgytohf8vsB/r2KRaRq7zpZ+D37HMX0s3DDcCUGLYaw53MJ4YUODzusqlGCQAOQCejuxA8UULUkxIwAmMAp8Wa3qkN/R9W+sBwOhIEPjk5SLr8HeKFbTQfb77csPIMHGl/4MPbReslPhNe4+MiTpi9AFGV4nI7MfvagNQLh/pfrYnDAS8aJQ42A2w4em2cAyWQUuJVQTGWLs1uL7DG9J1RjhA+jvYk4t3KXeMqijpzrud4At9z3XtP16yGfjKZmCGooYh1tZzvv8xXPFl4PoJYC97k9FlwZWD+Azi/deMZWeP13eQCGEyoERudChIjbb3mJYwH7V0QIKuCwj/gfMj0asn2I0FXRSHXfL/iRkNgLyeVj8ccMY//J1fyxzTAXT2+xoQViKYD/1hDqLxPiYxTgSvQrphphG97tz4Slqafnj7uk1kIQDZrvWTw8B3jwEW+RLxPgSiCERdPwPR7+wCPg/gulFgfruDkOMQkFc5x84e708JAMmCuRNBXi4TIg5CGRzGiBGE/D4E/C2r2vcAYJoify62i0aJSMhB+2IHoNwu0fkcjQ85pu3ack5nIBREqneYFyWLkAXIJHESe00Cyx5QyeL6F/tyEcDcrOW2n7fX8df0mME+/vQ/PQjhoy3gzo3AISYf80MQaQx1peH9wb7v2mrtmCBkIMMejp3jIJD1MsaxaMZ8v5N/67INAsB3BAYU4JL4DSo1J15AFPAEwuQHZJzkKfUAtOHLJSOQRWndBYQvCQA01cfnNopfsaCJaD2baBn79QjSTiOEP1EcawIpkq2kegBTNgHWEpOKF8Uwq2NRFPM4AqCf46/rA2U9/uVDvurB01zvAJpiiwOl3fEeciCGF+Ij11f+QkbSfMPfIzqw57mEFZ9Dl3Ps5HXWAYByHJAJKV7N+s0cCQQhwSlfm4lGZ0KB8C/rABgZUS6ZHITBSEhCowUYAAksF7cStWREyxRwtuPpOlgw+5s9sq6OaIJIIlUgEhA1edoTgHxa9HVw5jibZNF+j/9yGQA/7pbujZ4bwv2+cWB6tFo0NzYnkxFA+cvEAo43VBoEo2e+48EMXEOmD9F6xhCE8RwZEJ80VblKvDlmzwicfqy93/o+8K8TwB2jVSgW138FrJQTXBNlnJgmrjZwanow9CBP/rL9wF0jwAGWDtFyoN9PHutnIHT05mPXz93dMGQAPniJsjiBXiTbxDZFMF9NLUPQxKR5qezz1Y6/YZDH0D6GkdAkYJIvRalAdHAMmPZoYhb6NhDWvEyf/ma737CXN7R1ZC7hUbPgcFgqt/ZZjADnM1xqEVhYBpb4CUk5UsL7jQvj///5buDrLeCOEeD+YQchYwG9VIfyg1NaZszFiCH6DkRGLze5/dgk8IMWcMCjdCiCzR8od1B8OTwvJM8JEShFut1fzMhi+eRJr6LI7hYP2M/xVLwKNoZjUTwRMAQQmYyhWGQxsSADOflZ4kukj7PhZ75bETjBpkAGahMkcrGgwhsXeCyBHBj1wmOBQwvAwqKzoFeRV8ZaerjKYAuirmPY/o9X7q5Cyr7fAvYMAftCPGAEoYlBiVtFwLjtp2U4irj7yOANbi+crHyrfCbTquJV44O0F1FrwQGIMZFqdQDyP/gGSZ8TC0ZRRsOlVzzgasd/u+zpMByLehAfCgMQCDyGZJHFCCgLZ2f8mgI5qauEcVx9e5vACTgCTwEMWr5TdIpWKJb5MvrnoocDswvAPAG4VLGg6UKeqmi4iuDz4er30oX0FP7u5moMvIf7W8B+jwlUNAzFnlZCIhvGFRCeWzrgXSSIBreXTFZSgVLHAp4UHOFuociEEsn2PJwl/XEk0dzfSojeerFg1IOo5BKAveIBex1P67lgUzgWQaJwLAKRH04i14ItgDKEtGsRnWx49b2Vkk9wUefTGrKCF7R0JxZMqxN8cmPAxWcAcxGABKEAKPA5u9lEaAbCmKMI+sDN1X3z+ro24wEZFc0VEE64ABgT180PF9ZdBcDb6JpqcPtPk+1ACbmKjJnllwyuILunEAWjZHkBsrsRUnfD0qEiC5IJfyisgMhzWhcP2O14Ro4WbASgAMQJ48SJwchmBCDFa8qpyBbSP7OvU4PQ0p2W7+LSnSJUFOrI4V7w5IoBTQQTfJ6oTSYk2mQcpGRyH2syGjIF6EM3V/fM++C1CfwUExhCsmzCaQT43lZC3e1hBpEHh36XEqrB7Scmq5dV0XZxmV8WuDFzAF9iwhow9seAGoBcGtKjqAc+1l9rLb/1igesO55ysmCrC8ei6IxRMAKTWNBi6Xw98xNTFUi0jEcmpYgRAPhddpVi9OIEPP5cYD4CcLkCooHPwaW9kV+iwWrQHT8uA1fd3F7DFvgUHUP2k8jTiogAqLoxFpDgbMj9jXSuN7i9dLIdaxzBp5XVBMIMgFEnFAPKT9qPd6A9BIGI7MfPmf4U+40HzI8nWgq2PBxL4FEkjKJixGRRFyQQPzzd1iAUzCAQas1YOmAEoFjwkecDC/PAwhKw6CxIkCXwOdVJLxTobMjBdyIgfvimNvNJ7Evf4jWtdnRYD1YNGVuG93VWuWs4Jf+mlZCCZxwP/cnJ6mXVKk2+tK8lQQVHRTGc64SDAZB3Ey3JcxyACkToJx4wHl+YwqloGDICmYmTFgMQFBET8yyYzyAG/AfWX8mCGQg0BTRoHwt9KVaPE/HQ890AIfgWK+CRAaMRYnVdxHbhdY8Wslw1V93UDsmPIj9GxgiAioRRMIJNvoti+SW/Ikd0gwAU8+XxJcbGITJPDvI6XdCFREFSknTB83xka40H1PGF9dnycCxFwygkK0bASJQSVAbAYeD98xUAe5U3jKIwBosSgNsuABYogl3/IwgFPrOIg1Xc4ZrpAsSrvruykl2ucykapkMMh4CExD5DwJfWAYAxwk4MKPAJgOIjGSEGwuCakRhemw6Yv0UUwRf7L00L9pnsNx6Qx4feY4O8pDEcixOjsoTKKpMYjSFYYjOC8Eq3Wnnr0YYS+0Tmi2HysrPGLqwASNYzBnT2Mz2QD91laxLB0gs12GAh81cf/o/OcHyJ+qj0S/zxnhUZbSyYWaL8+Rq2S29wowiWkJPan4MvgrDDGAlRe7KIywDIgR3meEDWg9HbJgApNTkXo8o0i7oVgxnEgFr8F7jEdnU5GvqfJQKQKyEOPlsNIQvyvupAGHS/Okv4qv9oh+PHxMLk8ggBCRxvAmEN+AiEzz2iQfQBeNmkh4K52hJBKOaNe/FSLobLRXCz43rQnu2yi9oMSMDxs2jo8303ERz1wsCGZECF4kd3DwEYYwJjhoNlQrgIjlYodbBPrwMAZfEmyzcIv27gs6XDzC/IR1DOgA9a6DRz4wZAsZ+LYXvQYsHoD4ziOFklna6YD3+nnU6dZ7bGDAcBUImIAmEUw/zbJ1i/scGNDJiLXmle3RhQ+l/aq57gUQCWzwwBKPeLsZ/LFrGg/ShRXAe64Ajkv30kALAjF8R11Dy3K7KRwJcsUTaqWScARou3w/INVnCH+A36n8RvM3nB5XP4oD6DATBYwGb5ajlOLOh6X8JaBKRG77+7ygGYp1bn+V25/01AzBnwQ1ypanD7KWfA1QDYC3zJIj7KgOUzc9nFbetX/r+O5biwNhyX5uSEDr5o0xsJwLp8/m4A7GaJUv/j3/5+HQFYJ3oFPPkho/hNeqBcMkcB2BAA6XrxmMBkfFAci/m0JpwzXw0TXvXtzrz+PKc/Ml/ugzM9MDqCAbz/keVjjGcQA/YLvjoguo1mRslRI6RwfsiA5nqhL5D6nscF8gfTdfxpS+/hLzvWfzMQCoB1Fq/8b3VWaPIDZqsRV64DALsZHVHs1gEvsqFAeBSApQC8pHK90Oql4UEAyvCwNeGcBXNLOPMLftgZsI75ouUr9ousp2TEyIJ/sU4AzC1e+WIFshyAHPZREVwItrrD3wGAhibTYBhxVpe/xePyrNBuWaoNp3DgFwC81O+RAepK/a5Lfe51jxr7JwA83nPXYgq1asl0yX5N48+f4VEGLATlK1vAo5YB1gBSRmsM+NFE57lcfPD5pPFWCJImtyvGgGfOAacBYO59zFglgHgPefZsXV6/gPXBYeC0RVgyJNOGYuJjPka9eHWgjL9bWzhWk0/n/wPn+k8bgFNmgYcsVflZnBRmIShtJM/m7JGibGBoOIIez9wKPP4AcNpylfbNlGfdI+9NjBjz8JVzppckZuJ+dBw4aQ44drk6j1LIY9JkPD7P4s2lwVEGLHwJnncscNIh4Nh5YMsSsHm5ndOu1BGFThJ8/K6JrZtoslST2+XHA6ftB05ZAE5crgAups5TfaL6EF+UyIif3gAcOwtsXep82eIYY9JkXpMgMp/AeZQBC2b8OduBYw8C2+aALQvARgJwGZhY7swEzbNa88IRvAVO1qkF91J36DNOBE7eD2yfB45fqphLnevzdGeBKBfL8UX5/CZgyyyweRHYsFwxYHzRNK6oetSBMDLjUQAWTPqPngpsnQK2zgKbCMAlYMMSME4ALrcnR6JYQIwsoUnjpDRstOLy7cBJB4CHUGwuAtuW2nUDVH1EFUhycSwWjGD64mZg0xywcaECoI0z5P3X5P6nWlHdgHgUgAUAfOYOYMtBYNMssHEe2LgITBCADkIzSJZXpCOnIg25uPrhgnupO/TyhwLHHwSOmwW2LVSik2pCrDsQskzNIBGIpBdGI+VfNgMb5oENCxX4yPRjPj4xaJ0+WGeEHRXBDUz2Mx4FbDoIbJypADixUAFwzAFI8KUJChMV2SUaAGc1cE/xFJef3FYRti64nkqWDrqqEhbrsm5zvZCdPCd8nHzJOLZuABRz9hTHZwPL7LnLnoNMIY2VyaKcjtZLHOAbNgNPngKe4BacfGF1pnydD+hphQ/8XV5UiEueLGnDN1tWXj/3/4cTwAUzwGPcRcFJiDpPt3FLmf5vjwE2HAQ2zPrEzDv7OQg5OSM+ScYQy5Xbo8465u/ZfLTJ7fKHAdumKxVh8wKwealSE6inEoSy2MWCdbUHIghv3AqMzwHji9VLZuDzD8cXxxWZs5c7apmW0fMBnIHKn5X7d6I5npvRz94O7LgXuGIReJSb+Xl1tzqflybwRwqf9i97BQRWomWJQ7oZVFtJoqDX/b/oGODsvcBTATB9gsfGqmzdjtVz+G+PAyamgYmZCoDjFE2anCVg1CeJwOMnTRB/DmUINVkkgia3y08BtkwDW+YqAFJFMD1VAAw6XG61R31O9/fdrcDYPDDmY0zjc1UjivBuAMx1QdMB+WAYXU8dhEU16dOSkppbcHFSrng8MHwnsGMPcN5ypURHp2xMIa7zDz2z8Gn/kVe0YomO0wEwBYKujL7v/zHA6C3AxfOVh58g5AsZxx4fZM7sf3h6BcDxWWeGBZ+cMEFiwGEHHRnDzun7ONHs/djkRgBunql0VDOSHIDU3cxSD4aEajhFXS4H4S1bgVGN0V8we7E0Fh9jVDG6Obr1LJMRwn+kOCaTEYT0dsfqZHXl/p7PrLi9wIY7gO0H2yAgCAWCWCowKrYE8nMLn/a7PQn9X7zIJPPkCcK+758y7x7guNsB6l98gZjLLYet3Ay5n0sv4R+fCYxPA2MOwLEAQLIDPyP8uBg2cRYmzFweAYilKkn+OC8/Fdh0CNhEA4nGA40kd6FES13WLO8v1qHKAfh9B+DoYjU2Ak/js/8NAIwg7OUb7LCC+WAfB4CpBJoIiTRNRmS1l13kqWh3Adv2A8cdqqp1MB+aIOSxWv6pq5D2kkIAvt8rF7BLJksN/jMqfa7v+7/Ak4B3A6ceqpasKMq5akAmlLWY37t8ZW97PDB2qALg2BxgAFwANEGcnI5JcrDZRPlkaXL4u1KJUAfAjbTQ59x6dSvdLPXAgGYshZWR6JIRaXB/NwFI8C1WwLMXzMeSwLfcXuKrA2G+wrLCDcN/IIg4ERRn0qvyySAQX6mG1XuA4fuAbTOVwktRRr2MLCoQyvEZ/UY/WwjAj3jtFJZkU79g1ghkgEBf98+0Umb/3A2M3lkBl/fOcdMok2EjkZyv8773LAfgHDDKjwNwxEUw9yailpwdxBAEYhBbAuGzG3aKkQEJwAkCkOCjlb7Y6SYyf2UwlAS+vKYnAXjfNmDEX7DEfA5CjUcsnzvbu1nDtUMmCDkRZEEyGdlAk6G6lQTSa6m0MP6HuY73AxNTlcJLZ6WOJYC5/CNxLpHMgdKIKNl69Qvu6/75AjHOiTU87gKOOViJb748BKCWrnK/maTA+58AjM0Ao7PA6Lx/xBAupoYDC9okBRAmPdBZ47lNA/DhwMRsxX7mPgl+SrmK5EaRNRslXFQ9CKB9DkADn79cZtkHFkysJ103eBbqlh97DpmTQTYgk9VNxu+xYbXKU3lhFoJPOgdFGY+lPkgQxokkgF9Xgj4AvfoFs84eX4Ke9x9fIC+tRfDxvvniif358sSir2LCj5wNjBKAc8CIi2AxxLCzIAGY9L7AhGIKgpATw4l8wToB0JjPrfTkp+SLQbHrOqm5jNyajS6VCMIpApDAWwQ4LrGgXqzIfnq5cv0vN0ZXHTInME5GBNLb1DGdOYQsI7AfGKFjlgqve8wJwG4T+fuFAFytXzCLb+VgWnH/fIGYfc46Hs7iHC8ZkPcdXx4VfVXJw8+cA4wIgM6AHSLKWZCTESfLfg7WsIyRF3ckiRQ+HACXkwHptyP4KHrpJvKVGnOhRF9eBF9wE0mUEogz2wC+WGI/vVxiQQIxAs9+rmHA6E1YFYB8DJwQMZl0OrLZ++i7sfT8zroYHLS9df4RACWKxSZvLXzG/fQLZqk2gqn2/vUCUQ9UZaM9wDaPeSPrC4A5C1KV+NITKwCS/SiCR/jRBDlLmP7nHynsxno1IPwJSyRpbiMADXzuPDYfZfBTEoAmcuVQdiaW0zwXwQsCYDYmMaDA1wG8TBSvaoR0G77EcGSET6hjOvVApfRPAUN0zjr45JzVcSqiTxD+VeGzXku/4Nr7JwDJOkxFIwt6j6+RqUrlkO4bXzp1gCAAv04AzgLDDsBhKugLFUvQUhTwCEKbnKCw14HwJ9cDgGQ9WegRgDI8XEcVEDvAl7lVlglAgi+I4CR+Zf1mLGgMmDFhBGFfDCicRJFERviSABjLS7FC0MFKMU+07wOPE0kGvaoQgGvtF9z1/iODkwn3VWoEXxres5ib9xx1wZufBAwLgAQexbAD0JiQwJOuJBA68/H3Zhk6+3CifqqwWNMKN8wjKgbk6gWJgC+FMaBb5vJVmsUbV2vCqo3cRWZcCIACoax53+ulkqNd7iqOcU1WcC9cxEm5kQBUdZ+sTnSL/jEtTWngi21jhJNJBivZBukXvOL+yYBkcOqxKjJ4AGgxzMrBVwdAMmHrZOAYF2l6y/mwV6xD17zmWo6MbRyeWtOHwxJ91IIhr6rqZS70DPPLXDVUrfBwzHKr1EUp6/h0T/6L/GcCqslt4IhoTcwdAqDSs7I60WQH6R329pHuFyuXDJmEjuOSbdB+wSvuP5bGUjmsA5XoUvcvBXKKAQnApUdXwah0b8jXR2YzJTsC0ZHB33FL+2yiX3h/1YeD1fFZGT81g/H6yqkVa9YEpqMhTADle8erHA6t7Mh6j4ZBXdBGjFyO4CSIm9wGBiBvgqxwIAJQlXIyEJLyI/i0SkAG/FbhaEr6BXfcv+5dLKhCg4z1C1HEBJ8+BODQGZXfk/quAZC6ketAZEQCTWAU8PIJt0fgwHzZvVWNaKqi7JLOmtDWFy42g1FxH/XfqGkII0C+a0tnDkfsGxQjn3VPsk7tXmuy+Xp0JhtoJosAaFcUAJUYKiYJxcqHqKAH9rPlG2cMrmCUbMX9guMLpGTcCMKDlZGhMK8IPnPIn1X5PA2AwegwEEYmDGBMjOI5whGQP3NPBT7VJlRNaKvF4t2IWHbDErtDlSk1p4lJ7/zd246tglGZryIfrFhQ7pU8WCAX0ZENG+57U14Z4YrCeLrSxXdev6TfLwrbxT7znMrfKQXfHLQCnyvmRIv0Q3430ezMmL98P393G3wqz6am1NYzzoGn+svqRmTAU2citctqAX/2EI8F9ACEmLHXLZGoFxtSl2xyK2bAYwrj6Xr12+1noL/jUTCD9vvFrn6u0v1/nvGkaoVBAQi0eummMAuXQHMWJAA7gCixG8U0gFfcXdlBKk4Z6zELgAJfZEKrxpC1xOIl/+Sk7jkcdYlSco90y9+gK6vJrRiADD0piad7RuFo3udNCgft94vCdrGXn+tujgV3QAcHLcFnroelivHkchEL8ue0uQ74S3eubAITS3IQhKkMRjBMokgWG3L//2z3VSnP4VDgQWxUEEUxAZFHL0eR3HDfm3IRbDHkBfF0zy4EIKNhSvr9goGEBdvTz/MIYQLQdVsTwRTFDj5jQmdArRDYJQNDSs961R3tPhx5NXoVgoxleHnarjohgLec3D2HI492yQNvIwvqO9fJm9zKGbAwnu6FhaP5pFuMg/b7tTbpBdvTz68cz/zI8azVj8iAHTqgmFHXDUB89R2dtaC7tUGw4kDOgFb0R2wYRDGZ8g9O8aU4XwPOczhiwGlMjqqLWiFYGu570wADFsbTvaxg8nkow7E8nM/atfKzln6/1mS4YHv6BQ4+Z0BbqHcd0NwwYbVD3+1yWhXJxPBrbq8AqE/XApSqAxiBV2MZ/54DMOZwKE00rnDUWcR5KiV/brjtSAMALIyn+/mCyeehjIYp6fdrvVELth8RAClyHXxmhPi6r1m8FM0ucgk8+y4RHC1kAK/5XgW+2hZYofafWcPq1B5AqDqEYsQ3nepR2gqhV2yiol1COkD0C+aOaoGx4aL7DQCwMJ7uVwomn4fm7VrX2u/XAlELth+5sHPtN+l/Ap6sX2dCsZ/phZkIJgv9l++1wbcq+2WFv2NXIjNKAPzuw7MUAV8DTuynFIEsQy83RgTAhiv+NgBABaQOGE/3mwWTLwAqHnaQfr9GnwUbARgDNBUlkpzQboyYCyYDYdILdf0l4NduW9kGoa4geNdazLElKoA3Prx7DofiETtC6XvE7hGEzJlpcis3Qgrj6d5UOJoYDcMglrX2+y0NPtl5UZUjkfx/Hqbecoe0OZzdF1gHQrln9Bhee4s3f3Zxm4MvAk9VSFdUIw0i+Q2PaBtISiBSSFgCYMjMW00MP7pwvvLDmwFgQTzdHxcOSGvBg/b7ZRZByWYAlOERluKM3Ra9CKWc0q73dTBhMFT4ZwIw9l5Lrpes+HjeBiGCUOKXeuBvPcKTiEIOR0f+RhDBMYi0Lhea4GTaa5NbOQAVDzhgPB1La5RssV3rIP1+7yy5OAADoAchEHBkFbKfGRpiweAPtMs5IFNokyOGk/7rAYC9OhBFwNXVY1at5tftCBHaWVS2AJdEcEinrDNC+Lumiyc1B8AB4+muLARAXTDCWvr93lR4/Z0Xt6ODFQkj8WtumEwHTKDLQejAfN3uds/dfjoQdatGLxb8jQBAYz6/boxiFgAVudzNIc2/s3xLk1szAORoB4yn+2DhaATAGJCtbpkCYq9+v4V+aBgAQ4i66XtaC85YkDog/zdZvzUgfN1N7a633Xqv6fe9msDIHfNaB6Ay2JRE1AHAEDIfI5nzZCLeN4Nbm9yaA+CA8XSsul6yqV0rJ2WQfr+splCyCYBR/HJyKX4phs0PKBZ0lqOYTpvniAiUAmAd+HKjo1cvDjHgr+3wPJQsVCymUZrPMuRsRBDG4AQCsunyJtFGHwAAIABJREFUcc0BUJlxQoH62q8ST8cggpKNAFRGwCD9fkuvbwAkyGgJE3C+Nz1P1q9/T3F1EZBxvZh50s6AEYC5yyUHXt5/Q8zI5/KrAmAIkkipkyGPYwXz1aRT8v5ZO6jJrRyAvKOvNXlLazsXs9bo/ztc29Pohgotp5J49Rcj/pzfIwGS//3OM4CNd1dpntQpFUmjEH4LYIgnyn/OLjL8FeDGhwJbNgFjI8DIEDA8BAy1PFK7FSKf43cNKrvHx+8C/vmxwMgmYHgEaA35J0StpvvzL/nP8RbLAfhyT207TChgDRiu/ZL9DsfWNABvYzbhCDBKoBAk/pEobGWTqp819hzQ1/0k0PoaMDEJbJjxVZFgDad0SaUO5LksWVj+XScDmw5UEUDJ6U4d0nVbC91S3ovfVHp5al64cgC+k7mZAP768KCA0WD3A/ieLz090CDceVmlAuhBljLgrfcAw6PAyDAwPFwBkCAbItM4a/FiNtERjBl76W9ffD2AbwJDdwFj+6syImRXrd5Y2FjIYcnzWPLEqnsfC0zsr6qBMQmfIDR/pyJ6xMhKyMrSDiKD2xja6TADTt0/AGAs1KcAUCFrOLF6tbtiRVFavT/wuMCa7MfVTlH098YBeBcwNAIMEYAUlS4uBULOmK3LCnwOPANlEIOSoF9+C4DvVoWXhvdWZVOYqWgi3vOXDUQhgieB0EElViMYJ08HxqeqnG8D4IIDkAzo51DKQQJvBKUmKACzbM4+5hUivwrgiwC4LzvjmgCh6nBcgiMTcv9Abo0D8E6g5eCjfpUA6AxoQIzgi8ALmWwC4z//DxcPPwBak8DQFDB8yJPpPZHeGCyC0KN5DFCByfh9/+OAsekKgEzCTwD047X0SCPM1IYQjCv2E/MJoGVwUUQoPboq0MdqkWVn7RtDDMahB4g+P6qhXFpjVtkDtRGA2nKjos7IyOyHFUbIrXe0FXsTuzIYfNb4O2M3ATGIYQOmPn6hG6gi3eUkQQAeAIYOAUOzALMVh2pAlESqGFBAXAYOMQVjxll03iO/yYKRAT0FQXkwZkjp1pz51LO2XAT3KtD3AIAwj4Wg05kfiuUHYlsXAJLVnP0INLM0OYFx78AzcRySeTsw2AJueI+Dj2Fne4EWKz5MA0MzDkCCkAByUWqsJzarEanzj2zXwjEGFHuGY+pYsMojzZL1G9EBexXou339IRBrC3lJGmNDuSHX+w7WC4Cm6wWxm8DngLTImgC8pBcGBuTXf/1fXnyTugnFwxTQOgi0CECyIFlsvvJfEnh0mhsYI/s5uxFYi1xZof7oOqSAawwYjRGBzYGXbtWXaCIrlvHUagX6SP/ruMVYCEbEqECXAMjfree2HgA0ESur1/0vtnNwGSsG0RsZME20/+/XWH6Mugk/yngPAGy5GDYALjiIHIgRUIrsZjM7Ax+BSx1S4pfffQVIep8dL7dMDsTGjJB+CvQxTHmdtrw4l0CovFruC2NOe975egDQsCXRK/eK634JhBK90q2C7I1i+Gt0jxF40k1cPJAB7UP2m3MGJAAFQrGei9iUTH9yBUDTHfU3B5+BOIKQ43BWtNtPcWIOzEZE8FoK9K0DCGNxLi3FqaKA9gTgeoFwPQAoI0OulWT11oEwiFz7cwbErzNxWtEYBB+VY76Vh4DWrH8IOoGQ7Ocg1CqMRLPltmxvs1/SHaP4dcAJePYyyUCRIzrTB8tE8FoL9DUMwl61kQQ87Rmy2PS2rgB0a1ci18RudEJH57OsY02y/+83/sZdBKr4FXQTApBvprGgQCg9UEAM+h9F6ugJDkC3gJPBEvRGrYoYCBX9IxEcS5K4i6cZAHIw8oXQ4mLBb35YH5d7OekadtTV1UZSjaEIPH4nQzYNwgjAHNwDuWGYpZc7lzPfX1cQur5oBorfzDf+zi0yVTuSkuxBI2Q+PhQDIUEnMLo1TBCZLufGw/ixbQa0KB8CTODjPohdY78IQmfDjmW7Yo/doAX6GqIiAtDHaYswSmeMubV81kp11L6hy2PdAcgblfslOKC1IiKRmyRxZgV/8++DS8BFrxXi5Hd/U6MeSKdqEsEKhpBRsgRMbAtuG4KU/+9ry5brzP/lPVMv1EPOQegharrVcgZUhVHFxNPcp9VFtlOWkL437C0WABWypFRGsV0sb5Hn2zYBwvUGoKl10v1knDgo0y7XA8Pfv0UACnjaK33Co9gJQAOe64FkNvtZAHQdjz9v2Nz2GSa3jYej2W3KGuZ9ixGdIVSoKT13B2s5AHkGheST6qn0erHv5AIgAAU+LVfw/wq3CEAV7clBKDDGZG9/5oVXx/oyYARczcqH5GyH8eFplTawFvAtrtXLGpNrQDGbejupB3omlIHQGc/ErzOcGSRs8zrhAbbuL1Tco/JfbLlNwHOmi2kIcs3owbdwNpYtynDQhsFcgvuG9/YapGFvYX22zZcAU0/GwA2LJ/4AmGF9mwEbBu98Y3cMF+uAGQCj2HVp3BbPuo3IlqxAy5wHAq4OfARmEBXGfNIBa0BIsG0ecwC67merHgRpZLwocrWaovuTxew/V0txJQ2DWeae3WAGbdhb2DB4+wRw7w5g8Qpv88liyGtoWHzMi4C9fAEHbBi8kwUKu2xNAdBxaGBLbJdZux1LwAGECYAEm6wyfpelJrEgFnRDxESwgyUxIUsVMwjVy5AYO0bG89Auu1/5BF38KqjBHlUAYXsteNCGwTeWNuwtk4JMkrlzGNizA1hm69g1Nix+zDOBW0aBeRZZGqBh8M4emfWNADDT+zqMjQyESdQFHfDbZECCLRgdHeCTe8CBaKJY1rDnBRCIAuGW4TYAZeFG8ZuMkGiQ1IEwGCJtHZBmy1obBsvVMnDD3jIAerti3LEBOMjGcOpa3WfD4ic9t6oveDtLfw7QMHjnH6wPAybW6yaG4+8D4HIQfvtDIVtLejpBFsVvUI7NIBHw3DUjRzL3rDVtsYPOkAScuX3coNDynT2VYJCkn+PjqvUD8hVbS8NgjphGxcANe8sAGNoVY/824BCBtIaGxRe8pLKZdpMkTvXiJ2toGHzSNHDPScAyq3er4qPyGaNc7JCRXWLT2TjwGmCOeQashq6+qSpZmp8vojQpheF58ncdZVjLnjWPHr4VWKTKxrHGUqq97qXu3jp0wPy+eEC/DYNZsZAO6IEb9pY9lNCuGPcNV830ZmkM9dmw+OKfbdcXvJMPdY0Ng0/7GnDXKcDMccBS7MwdKz8KCAKQIgY0MWGCtr4TOHAasMwOkTqf6unyuLykfd254nkb7qsw/iVg7jhgmSX31Vpd9yRHeLx+zRhjEGRbB6wDYT8NdymyubzDzCCGfpMJWfSRYfr9HP/aMgBm7YoxNQHMbQHm+ID6aFh8yS93tAvGQb7da2gYfPoXgbtPAqaPA+a3AEubgGU1RM6B060fgkRoCzj+TcD+04CFE4BldZdRc4/YxlxgjJMewSiwN1zWfsOngdljq3EmY08vm5i/7j5yIMqpvupKyGoNg9lngYosl9wY/0dZdrMzYl8Ne8sAWNOu2MA3zw/F2CoNiy99XbvftrcLriz6PhsGn3U9cM9xMODObQYWCMANwPJ49UliuW6SaqqBn/gGYP8pwPyJwNIxwDK76ahDeN6uXYCuYyABkEza4LbpY5WEWdSLxjF26/dQB0SJ6r4ByAN6NQxmkWcqrnQ00x1DEDJFjR8CcNWGvWVPp6ZdMQ6OVOCb3wAscPJ6NCy+7PerkP5Q3tBY1PrT9tEw+JwbgPu2AlNbgVkCcCOwtAFYcgAuiwWlM/XqDjMEbP9t4MB2YO54YJFMo/5gHIcALV1TRZ17FXOhPtvgtvkqf9H4kvHDlyKK4l6VzvVSBF22uwjOb7pbw+CfcwBSkyeFEHAUx/yw9JTyEbo27C17Ol3aFWNuAlgIn9QxO2tYfNlbK6MvaxeMRYquvL9rTcPgJ30TuH8LcHAzMOugX3QALo21WXBZLEHwRF1OgHS2eOgbgIPHA7PHAezNu7QFWFZ7JnXJ5rnqxHEulvlzwyVNN3+wern5Yovl7SXLGwvn4riLWO4fgMRJXcPd/+pmOymELEhRzBxJAo9gVL4kwVnbsLccgHEpWi3epocCAMeBRU5eTcPiy/6qtl0wpvhA+2gYfO7NwOQm4OBGYGaDs+5ExYDGgqP+ccAkINaVpB8GTv4d4OBxwNw2YGFrxYCmV0YxLNYheCXau7EhV3ga3Lb8g4+R45uoGLADgHWqhsBXA8K1AZADyRvuvtkBSArh+i9DsQhCOtf0UUgW/7aiYW/Z0+nRrhizoxXwFhyAi5y4rGHxU66qAFhT3rDSIVdpGHzencDejcDBDcDsBDBP1uX1CMJRwFiQIBzxieL3KIY1YW5MPOxNwLRb8gs0aghAss1GZ1O+SFHsdRPt0i/PLHu++dFb/x4mXfhcbWxhfCtYMFr/uWvKxfDaAcg7ipPCvFOVpuo3HrCjYW/ZA+rRrti6TS6MVQ+L4NPH2nx698GnXF0BsKa8Iab4dFZpGHz+JLBvApieqAA4J8CPOQuOBBAOV0CUYbIskRkAecrvAdNbXc/aDCxSpyT4CEIyTgRgneiLIp3nP6fs+a4A4N8B8/48CUC+ZGJA29fpuLmxJW+5h5kNFg2jiWHSi0r0Uv4pCoZsxw8DUfnhd4Vk0XGdGvaWPaBV2hVjdjgA0BlpkQ/K9bmn/HOVqtClvKEBqlfD4AtmgP3jDsBxB6DA7tdbcvYzJvQJkii2n4NOeMpbgJktbYPGACiF3wFoEx1ZMNe/4jnPLXu+KwD4t/5SO/iMBcXuesHylyACMBPDgzGg7opM8mEHIGdwrfGA1rC37AH10a64Yr4APvvOSdwEPOVbKxu+K2pdKRTmdI3dqkPPVgbSTBGAY8AsATjWniBdx0QxJylOFCcr6HBiw1P/CDgU3EgEIMW52M8YkLolQRddIN1AyKWiBretf9MJQN6HsaCPxe4rvgDdHOcOxDIAcmDFDXvLnk4f7Yqt63gEIB/Yoj+4p9xaAbBHeUPM8qF2aRh84QQwNQYcGgdmx4C50WqCFngNsgSvQ+Dxu4MuiawhwIAXVk1O+e/A7CZgThY1dcno1nHL2oDIyZULpBsAFTBZ9pjT0QQgn2V6ufRicS8QRgbs5ZYpEsENDejBfpoLrwAOjgIzZMBRZ0AHoUC+SOA56xJwNlEyTFw5FxBPeWvlzpnbANCdQ1eSGTRybMuydgMggVBsKmtYoC6Mt8znZxsZMLzAxoAOvsh+ydDqtXx4FIDl8L/omQ7A0QqA82S/ERdTI22mNfaTuBIIxR4BhKe+y61punQC+MytI/Zz/c9EuvyBeetLAfGZ5WOMZ9j2/gqABB1fMLsHAVBqhfTcyH5d9MByEdzs+B50Z7voGZX+NzNSsd8cwUcG5ASRKYbdHRNYwhhDIHRgGmO0gFP+HJh15jOXjnyKblVT5Cbfoq+yJOszF8P8+VnNPlICkMAzds/YLxlYznrJwIpO6egTPMqA5ZNDAB6iCCYAyYBcBqTRQ0e4630SxZyQJQIvMJ8mSeLrYe+p/GzGfnTpEIBy6US/out+K1wg+brs88rHmDOgAVCMnrEfxxMte1Mt6j7u9zzKgIXzczEBOJIB0BnCJoqgIfDEhM58SWzJEPGJe9hfVH42un/Mfxl9bgSiBySIBWnAJBDGEDAB8QWFA8wO3/a+wH4+rg4RLPYLul8tCI8CsJmJMQAOuwFC9qMI9g9Z0CxhZz65K0wfFBPqu7PEyVdWAOTHVlTcpxhXHZLz1w0ZA6EDLhkCskRf0sw4dRYC0PQ/vVSRAYPo7QCdj7GqVOSMeBSAzUzMxZcDMwLgcKX/zbv45SQlHXDIgagJc+bjZBqAWhUoH/Y+B2D0J7rFa6LYDRmzomsAaOeKqxEvbWacHQB08JkRIteSXiSBLYJOLB+X4xrzAzY7vgfd2S4RAKkDDgPzNEAIxMASSWF38WsgkuXLyXTRSRCe/DduSZMBMwe6ObTd8JBj24Aot07uDObPP9XsIzUGFPs5+JJ/M6oT4buxHv9X7BeY8KgOWDg/Z58GTC9Xq5FxTXOw9c3Cm6k5fPcjgbHbgAlvVG2tH1T3Oavoq6BlniZ+12n5u/2sDbOvasqoFg8x2Lnbcd1GdhSAhXN+7qMrAC4sA8sORJ6yHwD28z+Ft4fdv8UyqUDrDmCEBcpZ39kLS6aq9l4D2rLb/KYsFTPWdfbvh86vQu2s1K/K+zIjTsXIVQ9a59Egs4Y6sZfIA/EcSp/jEXv8BWcAhxaA+SVgSQAkGAMICcwVlNLlqTc9Gbv/HAA7MrL4+f1VlXwrUq7SvCoyGcrrWpGhuur2fNGYwM8YT67hT3s1LaZvqn5MLM0bzmHMmIFSgdFNj/mIBct63NhFZwEzDsBFgpDPeanNgATfCtGsX9TIKwNrg9tuVkhlng7TI/YArX1VkXKrEe1l2SynN1RCsFJsqnQv3UIMxhwIRjU5AGN9QUteVz3BUAvahuNgjC3HxLAND7nBp/cgONXF5wCz8xUDGgCjKPbvevlzcKUHH2ag6cnYzepYBB9Zi2FxDJdjoXJv1WDFiLJ6MKqKZUzoQFTfj2HmwTKcTpVWvcxHKm6kKgoORAEvVclPD6NdzLXpMT8IYNPcLV7yJGB2AVhYrAC4SNA5AxKM9ryDPE5fs6eeVKWGZ2M3S3MQfEyJUKV8L1ZpJXpVJ9pLilmlAxWkVJHKwIhjjD9TtVXVm1HdOy/pJiaMFRWM+bo0rWl4yM1N7oPhTJecC8wRgAttBjQWdBBGESwgSiV0Pb9DRgu0TY19N+M1mRKh8niqFx3rRDsLqjgl9yaGXT80vcL1wnE252PAZCzAHQCoiqoW3yYWFIt664fUpKaREr1NPakH6XkuOQ+YDwy4FMSwgU8GSRSz0UJx3Vx/5vFNbrs/EiLRY+v4ACITww6iJEodQKwBIyBRv9vwhKzUW6z66TUGEwhDS3ezqusAyNxnJn8xa1KRPSFts9YfFB/QDZcAm78CnDBT5U8rCqjfc3yh8Gn/hGd/MsKf1+QzYJ4891Jye13iy1cAE9cDJ+6FpYrEkidxDN3OtXR+FwBGMezoMmxJLOumAuD4J4rxJrfdH/XCoLGFVKiUbw+LAPQqWWaMMLrd6/+JycSIm85w9lOpt1j1MwAwFTiqAWEUxeYH5ENn/jInUVHeMXQ/f/jRePvCa4DhTwLHfBc4frGqqaNJzLPw6iZxV+HTplFGvZrXZT45N39+HW3TujlZv8D6fp8HRq8Dts9XIOR5YtakgBgdrrrt5Qsq8Ssd0BhQ4HMwmVitAWHAY/LbLDQNQDaTVJ8Q6W4qVB51OOqDZDPVB3TLOBepW5jmqaLbec3jGgBGMSxvvemDYkQ9GoKF1ShUCSKCqBeQrvmfVZPC1keBjXcCmw911tTJ8q5XgOLaQgA+x/OdWA2EGZ98gbjleTHdQHQN+2iwls3nK3/Zhj3VeQhovYzdxmArSwQgDRA3QiSCJUrTnjfl4KozRCSCCeYmt90EoJJbVCk/1+FiCwFZxLk4dRfLFia6x8LbYkD9v9cXtLG6+O4AYQRfrgPygVIcqyhTXcWFOJH8fh3rz7EKwnUArq8mcGwK2MCC1i7WY7Zenh56feHT/jE3yliE4TZncd636gPFCKWavGhcRx2J+cvs9MlSw0Ty3cCm+c7n0G0MExdW4BMIbTXE9UCynvyCCX+Ovm4gbByA/xisVgJPpXrzLj4EoRJjJIZrWHArS9iprK+KcefgiyB0XVKGjOmCmW9xhRVMUSyRFnNeFGEdI2q+/HFXclkp9WsAbgTG9wGj08CI64WxRk/OTDcUAvBHXSLQxcVCDMQSWbzv+1e7WVbz+k5w2tJtsbcCYV6WJY7hmAsDA7r1Sz3OgOgoM+KTOJbcjSI5yGIaNE1uuwlAAU/MF+tF5/0sIghVLdVdM2S0bSzHx2Mi+FTxXf8X925NC4BycK8QwfmgVX1LlcFiykEMcL2BndJJ7aQfijKfxLGDwAhByM7aC5U4qwPzNwufNnNuOH4VZaCPlPo2AahqFqoPVFc14ga2m+WEEL0cAz9kdPrOmMu8r1o/rTsXz7f9oswFs+jO6LAqkvC3Ggg5Fg6mwW03CUI6X12h8lyfcz3QHqr3DIl64DbqaQKc9mI87QXACD6vpJqY0EVxz2CEyCI5eMSGX2e7VtI5J4yTRyZhscrvt1nQuivOAaNLlYESwcySgiVbr37Bfd0/u31yEgg2FVaiPCeVOguqAfGov0iR0R9JABJ0bnwk9nMxw+fOh55EbgRhzozrBUA1polN9CLwok5HEEUQBjFMQB7D+j656PW+IrJ8O/bBCo4sGFdGejqiyYCx3mKe9/JtTiBvmI5OFiTisg9LtJFF7gZGDrUbHKs79+hyu5hSaUvh1foFr3r/6vZJCiXgCDwVVFJ7MVmRLsrGltuFCc68yFdACMDAflwR4QM3HPoKgIExt4gz42SuaQb8hBOE2oZmlu+KFlKR3QSssMJxDPWbbjpfLoJrxG8CYT8MKGZSVTCxYFTIb84nkCxCIPLDiby30gXFghaF4c2ReR466Uu2fvoFr3r/fKAEFxvpqMcd9yonIrkuK5LLV7MVCM+/uDJCyIC2J8a0z1iwqyESgMl15Sa33QKgmtPEBnp11mwuXgO70Ud4DHWzfgDYC3zBEOk7HlA6XKyHQzb8HgGoCSQLqsxorIy1Bxie7Wx0rFaf+wr9Xv32C+56/7HbJ5VHtRYT+GJrsehHcya57PyKAQk6+vBkBZPpjPEExlwU59awg3C24W6KBsC6tqHR+MidyVG3i3rdAnAsH2T093XT+zLr197MTA80h3SfsZP2UqpCrPQ46oF317VrpeiKXTJ9MhMLkgGdCacKG/mupV9w1/vnwyGgCDCKWzJe3lqsyzLWZWe6/kc/oKzgKH4jC7oolhdC4jiuzM0WPo+cPQ2AsX1obFCTO5Jzn566PwbReiwnfTWjI4KvDoh1juh+aT+WKSYD3i8Aql2rJk+VsVQly5kkddv2FvHT61icqO7Fr71/IkLNXOi0FQjV0046oBy6wZ922Q95ICqDEaL4XWw3COcf9Mw73DFB9AqE6wZAAS8XuzGQIDKf+oVkqxt00ttAc+YT0PJ9qRFSB8xoye5Xu1ZVeCSgCLbYLVNswoncHxoeLwCzBGjBNki/4BX3z9lXgUCyIIGmhova83cRgO5Te9yLgP3MfmsBS8xs8/U67ePQOqy9umBUruDchqo8sHSd3PMfT5ifo+ack8eFHI6QEcnT5GvdOnVdXof+ptJ+BVPWceiaRHA8Us/nkACo8mzqlqmWrbFDppT5A5UIZm7CPA2Vgm3QfsEd909kKIqB1qJAKCBG8ZstZz3xHOAAiwmpDIdng1maZQAkZzsHZ537YfQrwNyxoQ+HakrnS0h1mUA1C96TdJTmORyhC3oeqdwROi+GDhkFI6bYNrcNDEDeAkXwQizPRpmnIs3OdqZPSaRFUcbchHlgie6agq2kX7Dd/+d8lUJVXuUzk8ERmS+2vfd4uvN2VOV5rSwb0y3JhgIh9wJeN3YMQCIgR78Q+nDEVYBYZUrUpbXFnM7COSdf7N4IPvtDnT2BY/h8Chh10MXQeYGS+7GGjaQiABpuNIFiECnzdWJMIUHcazLptC7YivsF8/7FgLFMqpiQL5TuNbKfA/DC46rqqAbAwIKWK+timRUBEiNGsOQsyQm+Gpjd4n046hbT84KPuYjOmHHyp92gcgDS2OoIuVIeh/xyUkaVwyEWdLrewHE3uBUDcKIwnq40HpDXL+n3CzbaKdguel5VnFJl2awaghLQBTzteZ0cjLq2A2n0M6EPh2pC57Wg41poLzZsAZNso0Hw6eVR/J8bF9YjWGmVCpGKwQLBRCcrbiSxNLgVAxCF8XSl8YDHHFPW7xeFBRwv/rGqOKUBkODzqgdWPYAM53vTASMQu4Bx9J+69OHIF+N71F1O1gUB+AsBfFqKC+4Wi4BWX+CYgOTAU36wdMVNVKka3MoBWBhPxyiuko3xkSX9fvGMkqsDlzzHC1N6SQ4DoINOe7KelWWTheziObeKCdARApD1AdVnRH048gKUAmAEYi6Oh4DJV4VoGDWqjq4XLbO5o1jBoimEPhPJmwu9FvnTLgdgYTwd2wyXbMyRKen3i2eXXB245FlVYUpVxUpGiLtmGBlrTEhVUwV8dEkVKAq3MHJ1uzRbRx+OOgDWFX6MsXJU/36lJoEoA2AKvw8+uwTEDIBbStdOs8ddDsDCeDom7ZdszBIs6fcL9ror2C75US9IxJJsEsHdGFBil4yYuUwknofJgF4XcEUfjrz+X7fKo4EJJ//PkMORO6FrVjQMeL5kJhZMMXzLwNZCt1nzDFgYT8cQwpLt4hDON0i/X7ys5OrAJVe0S/ISgFY7j9ZvnQ7I3+lyqpYaL98CWp/N+nDkZdhi6bW8An1kP3fRTLKVWlwF6RZCH2L4zDDR0k1IqeTNb2OQSYNbOQMWxtMxeqtkY6I+ny9VEz6btfb7xc+XXB249AoXv85+tIBVgJJ6n4lf6oV+mfjdDJNMH0wAVFX90GMk1f5TxlS3Fggh92DyN0IORy5665KIfCktsl+K3VsGtpVOWOMiuDCerlSnjQ2rB+n3C+pIBdulz8wqonrNPLKgwKaC5B3s53qhXVq6oDNg6sOhqvqhEr3V2VNLBjmnSSNdrOLJ1zkAu6VPRjFcFz4fXDJ8i45hG94Gt3IGjOFYA8TTlQZ/qGH1oP1+8ZtlT1MAtHK8mQg25zOZUSCLIliWcbw8wfW5Ln04ssqnHX04euiCk6/3de66MPpuAQVZAEFkw2MKFw6a1wEL4+lSBvmAOMhD8vkOkFX77feLNw14YT/ssmc4A6oOdHBEkwXlgjH2k4Nal6wB4fIuX9LzZjAmorNeHMo5Tc0OewHwDTUh9HXxfGJsYkAbAAAgAElEQVS/uvCpoAcew6zBBrdyBlQwwoDxdLZWXLDFkHyF8xGE/fb7xR8XXByAAVC1oB18HQYIT+8uGfP75SCUs1o64he8v4j6cIQ+IqkPhxrBCHjdjBH6AblQkAeY1ondukSiELmsUPpjbyp7XuvDgAXxdNZVvWCLIfmKg6Bbhrjup98v3lVwcQLw8gqA5v9zC9jErutltg8gMxDWWMBaMVkmANWFyEV6R0uH2I1IzW7ypbkQOTP5f2ch9KsFkwp0kQlDAOmxzHpscGuGAQvi6VD4RgmAg/b7xZVlT5MATNXwqQc6KGwf2U2uGV2uzg3D4ua7fDnPwZcKgIdq9GaIBPZb0YdD7hgyIFWMXiH0eQ5vXS5HcMkc++9lz2t9GLAgns7KxxZsCkgdtN8vWD+vYDMAUpcja7lOR9eLVcIP4tcuob/3AOHCdW02VTX62ApB4Mv1v24gnPy9HiH03fJ366KYHYTHsgBBg1s5AxbG0+HLZaOp65i+ln6/YM5EwdYBwGj1cmUkE7+8THLNdAHhwrUOXtcrO/pwhF4cct2oN68BMDCfmsJM/n6PEPoYPp8bH3kCkbtjji2tJJA962YAWBBPZ0WBCrbYsFoOf9pDAiENk179fkuvf9nTXewKcBSjsn7ldonWbgQpx+26otaLIwAlfi2QQSJY3Yjy5i9dmsFM/oEDMM/Z7Uf0RiYUA7J+ToNbOQC3e0WBBm9qLad6HICG1ZK1XB5PoxnuOOIcxSXe/Of8xHV/P+FpwN47gKUpYHmuSve0pKZgCKSq5wqniWE1WZz/xouBm74KTMwBI17lVBXwtWSs+8/vL45Ff3vhpcAnvwos8d48DZX3M2hx9XIAnu0IIO0chu35AOgLL0yuG/jOmwbg028G/mNz1YWdETbm4I5BrFlov+EtD2wIo7l+Atg8D2xY7iw3V5diEqO54mnj6XdMAYcU+6gon7A3NSO2qFjlyZYDkAX6uD5Iam44YaUfVNDNxaJcLIPXcGGpfi6PnZdVD1wPspQBX/wl4OaNwN6Jqg+xwrxslcVFuYJblehkcYYZGPS3L20BxueBcS8nwg5H5kZkx6TQSbXFZcCQKadx5Cz5mPurAFxrRaa17pAR2PFC+ElSHKQ/0QjQcgCyGyM9v3SnsDBRJgL6msWCf6IfWeUJac8UFlpY8500DcCfvgb43hiwZwyYVhd2D/VSrKGAmIDnBkiafEcN9cprHgKMzgNjS1V7rRjRlceyrqif6KAkMgXIM+6tAnDl+zSL36O9+U8p9jGHQo285/2XA/AnXeNnKAorDXH/AILwbSvLEz6Ql2+cAf/3XcCdw8DkKHBwpOpFbE2wadzIdyh3jjNQirYWEwYq+/zJwMh8pf+xKNSwM6DZMmzNRRbM2K+2Ii6TlFrAWfd5V3i/F7IgT2LBF5LbIdkqxLPWvtzlAGQ3RpU3Y7AiixMxLOUB2t7pKQ8M0qCTnp8HkojJgNqaMEJesQv4AR3Iw8DB4QqAs+6SWRiqgJgY0HVDAdBA4Ba4xN7ndlSFAAjAYX4IPO5dBDMAdS2i+Jx7XTf1eEdTDfgAQnR34p/wQkRmjNAoByDT/ugFphXAmjAEn8qaPQAgZCs0lSckCNmVigEbFMsPBBE3DcBX7gLuawH7hoAD7EM8DMw48AhATrjtQwiXoqkTEwWd7LOneXNCbz6Tiq/TInb2M8ZzIFrTQbGiy92oGz7pXl/7jvdAJnb2470IbB3T77Sai+hyAP5voTqW6sKwFAc/TAdc5+3dvcsTrvPVYSK4SQb8xV3+6IaAqSHg0FDVh3iOIFTIFxtit9orL5Z/LD1Q4s+B8OnHVuXwhhdd5DoLGsgCCJ04q66X/Ju/vSaeAxDPvbdtmdtKDV90gVEPIl/xySkviOhmAEjrlzSkwj40SlQZYZ39I+8JBMx8mZryhOsKwqYB+KpdVSDFvhYwPVR9BD7uyX4SwRS59nNI+bRck/DzJ05v12M0nY8fAk8iWL5BB5qASPGRCi8EVjzv3mqpkC9ACrrwhKukB67GhpqRRowQMqCiYbj8oOoHeUWpdYIBAUj8c8WjrjyhNIJ1unzjDPjqXdUjJAAP8TMEzLYq9uOHICQALe/EwWe+QgddAqCzzD8+vgIgg0qp+5nYjaDzCgjmnCYone0klqP4JSgvvK+6LoFPoFMlkPGh+0rPWta4RHTNJJQz4M8EAGoNTPVU8opS64CC9zoAWTFChcq7lCdch6s3L4J/2QFIEBKA1P9mHIBmhPh3Ai354RyAAmWsR/PRs6vOR8Z8FMPS97yxtIlYgVB/I7jC0rIKSfLXF1EEB+BFFjQ3jCLA49OWsRTTEPzvzQEwry7VrZ5KwzAQAPssT9jw1dcHgCrORQCS/bgn+1HsCYQSveaHkzvGv1scgU/6R55Y1YIxhvOm1EZekQWl8wVDxJgwc88QiJc6AKX/meHDawX9z16M/Em7bO8Q08GBP/jEkAEVjMBoAFWXUjRA3KtNwOBXW3EkAZhrALktpC6lKtTV4OU7RHB+3kHWgv/zrnYZl2kCkF4uF8MGQGc+MqEYUCA0n1tkwxbw4ScHAHr71Q7W4++c8czwcBAmHVB/c7Bcek9b3FuwbdD/kjGWgzJjQ3thGmVA3jhfOyU+RxB6FamOFp8NrhsTgLy8Cpzm5QlVptAU+6CiNgXCaIQ0BcDYV8b0P4pi30vfIxD5+w72C9aliegW8MHzqrmh/meuFhYi0pKbs6D9fsh/n1XFMrYMbPgUByCZz6J+uEknDA9AornWFRb01WZEsACoHhOqyC7wdetT0QAK2KqOb5MCUvPyhLE0oQxzqaYNXL5xBvyVXe12vByLADjXAvgxBvSPGFGMIjCmJbEW8HfntxtQmxT0cmxp9UPAdKAZ1upA6EB7qgDo6oCUxXRtPVSpAwJpnUhuxAqWCCYK1MBExZljY5S8SYr+pxAFAuBayhNG26jw8usCQLX0SAAkwwcAEngyQizaXoziIli+Oe7/9kJvNk1LmBMe9ECO3XRB7aPeF0EYHNVPdT8gj016YBcWtBfBVYJuz7mF7VgGY/pO8f5WdQ1/7U67nIKNS7j0wIbDPFZsyNHHY7od/xdlEHj8CcC3TgCWHgGAPSxiSdt4312u/8SPAl8/Dlh4pDeZW2PD4J1c9+uyDaIDkgEJQKnTfG/N8nUAmu5HUnMW5ARbPfEuIHy/ACjRK7FL5pOR4RaxgTHofKl8r/S1ZWBnAGDKefbn3AFIPRPXB7sFiVQimKVgGdl5ooNwLQ1/1U+DQGSXQ9r5Evy1q9rZbP1lGQDZsPpzI8APHgXgod7qUx11YtBbFzC+/C+BL7SAWwhgdoLkONSLqy5oLogYft3ZI1F7EAC+phsAnekokhP4HIzml/PvthQWmPB9LJ7jxkcSr14jWj4/0wFlgJD5eoDw6fe4DzAYPHokWhHJZ3TFSkn4h7YOSOBwEtiMTv1aY0uktFYTmI2/43EMQmCuAJmUE0gmVD8EFdPpdnxhVhqzDr8F4NMtYM9Jfg98EVTeNu9Q2OFZBX7vr9vtgm/lcezczZ61ZNN8DCvilYCdPXqNDQpAlfGTKm0M6AA0PTAyoMSx64cRfPQHXsniOTI+fEWDFGp+Qb9BeySRBV2kpl0QxxGAlHDmkI56X6z+EP7UDYSdRgh/IouwIZ36lHabBE0GJ0r10Rgb/xA/tt/j/6aMAf+7R4CxzuBXWRGULwBfIrY6UNfpvLae7n0I+LO/reoLMqiVMbW38oUhkNkQIzZO7tIweGePcmWlAFTjAYHPVGwXxWoLYblEDkLuTT8MDPhXLJ4jALpaJB+ggU6xfgJknT7IKXIQXh4Y0FZCog+wxiUTwSkXUbSMV1rB/A31OXWuFpPUda/mRHKi1e6U+hA7Zq7l+A+UAfDtHg/LrptkQpZ727cRWOL9542Pa3rOvuOqagUltgtmJM08j4/PILbIDKz6w5PAHsbraTnMGdZWIwIzxIfeK0rn578J3LAVuH8CODRahV/FFQ/1IumIvXP1QudNfyNT8oVqcHviPcBd48A0g2RDuoDqHdb2SalZAdG9dnfDkAE0gXnH5ijWCDbKCq5/MRiV0QD8HgHQ63jG0hdsLGxA3x9Bw1Asli7hO3BwApgng/Gjvq01IHrXJ7q3Cz7E++YziF2rs1ZLZ+8H9jJsSoECWXj6igmR87aLgfbGq4GvbgLu2gjsHwdmCEIPSI1h+SkCRjpfUC3iNWcpoRrcnrYbuGsUOMBo7QBCxSTG/igxVcBIVGPWM1h1JYQPnyKNExGZMDIJ9b66eEBGxPDY1Y5nv+GCjfGAxD+DDpiawphABWZPjwNzNLAEIH4XCH0M7/5c93bBfI8Yk2cgVAdvdT10ifDkBWC/r9lGH51NhIsnsWHOfPmEUKT94WeAG8eAO8aAfWPAwVEHISNQlKQUglJjJExqC+H6Nq93kOpUg9szbwLuHa66QzFWkaFieXxi6hgVHOMCYGRuJ+5V4jYJIDKI9KlsAvFDq8QDrnb8NWVPh9EwdFkQ79TlSMIsN0Mi5s9MoOGno4U6f3YAvefL7Y7rvdoFLxOANSA8f7xSgWmd0kCQbmZ6mTLEnJ0UqWLhUkxlrBn6n3wWuGkYuGukCsufGq2iojnRFpafsU7MDxErJuZhYCsJosHtWTcBe1oeq+hxigJgXBrMmTBPnJKLrr+VED54ibHYvZos8sO+DNcrHrDX8YVVyglAKud0LtMjFPtNMz6QLDY7VomLJd671AEH4Xu+3g7nWq28ISvX58/hguOBg8vtFQvV/hEzxfqOevuTfpjri8vAWz8L3NYCfjBc6ZYHmBcitnFd06pxyb8W4gPlgonBqffTtdTg9pybqiVNBssyUsdUD7eGO9amnf3sXtxQipl7Wg/sD4A8AwHIyZMYky50Tp/xgN2OL8y051qw2hXzwRCEdT2nmck1RxHG+w5jeO9NFQBpR6ldMIMXlFWgVndqF2dVFsJzuOgRwMElB6DcI6rznemD0RnbwQiSRS3g7Z+tVIl7PC9kahiYZm6IizuLigliT/VoUog+p8P9l3wJ7qGEanB77k3VczroUToWLCsABud4ypaLCUoxf9i/9w9ADiICULrQRWuIB6w7nuZrwaZwLBGwClSqSyz3AhHbaRGEFGOmC44D72UVgjW2C2Z4lIF4ArjodODQcqUGqAxfcpG4mJVuVqcL5tbs2z/veV0tYK/nhTAqesYNHdO5PCJZos+WuzxHJIViuXFyJxupNLg976ZK2lizUKodilGUgzyGhokF8yw5Mf+qRkjdjfuDtwkkm7DTkNaBaQ2ox1q3eMD8+B6O3H6em8Kx1Ccx9ptWl9iYIUAAWrI3I3nHgPdOtsO5eOuxXXBdj0V1vOL/so3Cxef60tlSpYwveKf0pAu6ohfdJ8k4CUqgvr5jV6VGTBKALeCAh+VbZLTnh5gu6D44A6H8cVlkNK95O1WkBrfn31R5HSy+JCwPplAxRegE/2T+AloGncNmbQyogUQx/KwB4gHj8YWNTwRAOW0FIIIndoqNkTAxz/bd09XDGLBdMM6/pLKi5whAX60gCK2ujxzEAqGL2pQ1Jis5AJEAFHvTujYAKjRf+SEugm1d2COQLU/DAwQ44caEw8AtZzSIPgAvuKkdrWMM6M7xCMBoiBn4YpCE2NCfxWAA5MEuwvCCEICwlnhAHV+YORfDsWJGgPpMKwg1b9QpFnzHbD2BK2JGul9s8KkYW17vLALQRTCBpzXZpS4gtCXXMAkduuAy8E7PijPWprXJ5CR38ygw1fJDohh2BlRAgq2OeN7uTWc1D0AFNtmL54ESBsCaJcLkDajxj5ZXRiCIGA0waDwgjy8sk5+HY+X9ppUbJSCp6TnFCMXwny1WAFQ8rUAc2wUrRL6mXTAefWnFfnz3FpbagQKLAqAzoZjAKkkpXkNO5GCEvOMLFXOnnC4xIKOjnQGNdWSM+GqHQGd7JSsxUf+JzQLwhTdV4je1nQvr1MkPGtlf9yP2Dy+gAqZ6rQytfvdHSDxgLwBF8AmAYjHWluEDiKGMiqOVvtejXTBOuRSYJwDJAARgZAGWL9Nk+IM3SzgTydE4eec1nZHbtDaNAf1Dpd/SMx2END6kD0oXtFhBXmcY+OY6AFChnKnzl7NfdMR3qCAae2B+VVMYXASvDs3/X/zHJZcB84vuiqABEo0QPnhnwqQLyRURmZBPytnwHde0M1vN2lR6picoKULaxHDIEdHkW2iWg4/7b5zb7DSQAVd0/griV2JYojfpwRGEYsGBrOBmx/OgP5sAKANkcbFzNWTRnX/GSGImMYH/LYlk+gGvdT+bW+SWH+Ig1GqL5QeTtR2EYj5LVHfjw/ZDwL8yJ6TB7UU3VVoTjTYxYDK+Ivv7dzNAZIxpZSiU8jjKgIWTcykZkBawDBBnQdMr5QeTKI5iWCB09AmEb7+ucnOQ/aTPWn6wuzyS4u+R0Ob6CUGqJpIDA97AdqINbgRgBJ69CG4Jp6q/ckjXqB/RKla4WpkO2ODgHoynigA0JiLwaNiEt95YQKJ4FRC+7brKzRH9jZbN6iJYuSHm9I5iOAOhHNJfZkh+gxsBKPbLu3+JgaWDdojhMO5kkDWSlNTg4B6MpyIAjf3IggJgMD4MCARjFMU9QCgAykhSKnUCYHB9JB0wy5aTRUxmup4h+Q1uAmDs+hpXgFLnB6ULONOn5xACNJqxghsc3IPxVBGAiQG9aLeilWUJW1FvVXEN0TKp1C6At19TMSCBpz1dHtT/JH7N9yaxp6QkF73KBxYIr10nAMproB44qQGTj6sjUrtOFPtLeFQHLES9AdDFrq1E6M13MaxVCTNAXNFThIylLcor40zxtgDAPKuVwDMrOKw+SBTbtR2MND7sZwC7Qvm4wqHa4T/uIrhb+7n0EgbQdTijoyg+agWXT8llDsAFWr/B8qP1K7bT0pvtVwHhW6+t2C/m8svvZlawi2CKe37nhFtapkDnILRqBQA+v04AjMyn79EIkXO/DnzyCBwVweX4wxs9B4rRZgyPVFqykgDd+5JSpBU5r0vHyHz+jsc3ub0KABsZMCyQgeExKyFPVIz3lmcM6OfPAGCADYPE67Jfs6h7G0o+xvi7oyK4cLZfOgpsXwC2Lq9MwuuVERonKn4nSJrcXnQKcM7dwMMXgYcsVxkSebJgzOWPqdB1ad2f3gpsnwK2LXWeR9m3danUIV1lBSCPArBwtp+7DThuBti6UDWDmWA/DvXk8LRptfPtNUlihYZTOPCi04GH3wFsnwGOW6iAs5n3GeJJ+KLoE+9VDClQ8R6vOQHYegDYwuY3S6H/iJ8jb11ck0q9Qhoc9QMWgPBZJwFbpoFN88DGRWBiqQIgWyJY3lPozaGJ1KTEPh36zpTkJrcXPRE44S7g+Cng2DlgyyKwaclfFoIwvCwx9Zn3Q1DmIPx/2/sSaMuusszvjfXq1ZRUElJkKsBEGQyYhJCBSkUqAW1tsBdpuxEVaBzowXZqe1g90G2LotjQdmMjKqtBxQERdAWUAkUlZNBGkQRNyIAEMAkxpFKpqjfUG3t9//m/c/+737njPq9uVeqcte66b7jnnn32/s6///3v//++Tz0dmD0KzC4DM6vAFpd/0L3Gh6yTDgnvLwKzAWDGiH/ThcC2OWDrErB1pRgQisIQhAa+AED+HEEY6uNLyrRnZLSl6tSbrgLOeBQ44yiw8ziwfaV4UGbdegmA5QMTLFlqsfn7XecDW+eAmePAltXiXnkuZSBkRcm4UGXtU2uo3xsAZgz6y54JzMwDWzkgBOAqMMVBCSAUObh8QuN/CiTgcWAuyWhL1amvvBbY+VgxbW477paa7gIBqCnUrbUBiQuhAKDUot13IbBlDtiyBEyvtO5VDxvvVfxW/JkWNFrCeK8NAGsY7BsvKQC4hQCkJNaKy2LRIsg6SJ3IQSe1onKKC2CsOYMeN+0Dtj0ObDsGbFsEZmWp5S74g2Ir2uA22BScAJGA+dJFwPQ8ML0ETAUAkgDTPq9zdK/+sMWpPF19NxYwA4g3PtsHxAE4SQC6FdSgmGWRRIJLZJll8EGKjHiX1jwaN10HzD4BbD0GzC4WrsKMW2pNobZoCu6CLCDfCTqzgg6sr+wFphaAKQfgZHKvpRSYg7HN5XCL2AbAZwPrZGaj6ippXhgn0kqmU1woxnHedg5AATuWHig2FE1uVRwoxoX+Wcbg89S3AqCKPONcCi8oPtVP+9++G3j+oSK2xRBFDElUxbTS+3nvc4FpDsjxllXQoJg8FgdCQoGJJTTicLcQ6vPL6wbg9cDM4cJv27oAzFA5ky9/UOSvmg8oP86n0dICBn25JwjARWDSAUgBHN6vfdbv10AbARh8X91vDM2ss+NvAECKPVLCsHoyUgRqrlbnRwB933OBc+4DXrIC0IEmiLnE75di8HsyAcjzWUVGUi6uICMpVwwJVMXdeOk3XAxc+Hng+vV2esAYw+sWoP31r3eLcLwQBeQUrEHh4Jo2h4vDmJPuAyMLGAeEn7uqbgB+I7DlSWBGCwe31Gb9aL20kGDb/EGRxY6WTz8f2wtM8l4pgL1SgM8esHCvsuylME4nn9cfQLtldg6TZ0kUKorAfij23vAPCmqp3fcCl60XFINid1PlZrf41/dnApB6wSQjutUfIDJR8CGIQOwWEH7DywpKrWc8CFzqRLHkVYrB2jS2FQH5vkuBycXCAlIUUAAkCM2iRBA6+ARCe7DjYmQduLYTleiQ/XTTS4DpI+6nLhZW2nzVCEBaMLd+soIGqjD1ampdugiYWCpeBKA9bBJC9ActAk8LES26SqsftInLZ44dQif4Igdhym5WLrPDyuYH/7HTCNwDnPko8LXrBccjQaioe6BiKad3+QY/MGTH6rS3OBvCnQDuAIyqhiDkQ9RX+29yE3on8IwjxQPI8zkTiApGU3oVkD/4fGDieAuAdMw5MFQjEgg1DYsUku+a3uI0TGBfV7PotwHwaOEmbHEATvuDIutni6UAQoFRIFRYhfe/dhEw7tbe9Of0Si1g8HkrwRcevDajz07gIJ7n05rYyWIpb4ya/7vv8PRdFpj/LXDmkQLAnA4jCCOlTBRN/rFMAJKgkkVHpGUjySSBSFeg7/azqk8EgbSEq8UDRACLKDXSyaQ7Br//DcA4LSCtwnKhTEkQcmAIQhtM+Uaajl0uS9NatITXWzpzfcdNB4DpY+6nBgDaCtanYLN6fCj4u1ay0QIqtML/EYC61wSA9tAJeP6eWsAoDysFpg1eB0HIQRCIIkVeCqQf/05P3WCB+UPA+CPAzvmCaFWDKEuYcl1yMN+Y2dckqGTeHPEvvWDSNhOAfbefX0A6rS8CUw8X9066bFIfdqMHJID++DJgLACQumyc3gyAEYRRKFCLD1eu5ODLF6QvXedx0w3A1BwwxdAJLTXjd8seQnGrZ9bPFxLyA7WIKON63tYtCQBN/sv9QPm6BkLp0vl9t/m6ietR6fbyBA4gnXtORwRRpNnTtPpW6gWLH83lKqcOFTEnDiKtoHwy8RNFhrefyeztbnrBfbWfgttsP+kIyO32ELD1cHHvInrlvWs6TsnB7qAUlg/suFtAWkE55zYQ0QpqcALoNCXTEt7A3KoaDwGQfqoAOEUBa7fUbKctltwCajVbxvSiyvoasM0BaBKwwdKb9fN7NfcqBWGiSWykWXER0umeacUEonQgCKRfIgDFjya5yq8Wfsfs8dYgiuMxgpAg/vnMzu6mF0z6Zj5APdvPQec0TEosnvQosGOhaLuIYvnwEYSithE52F1XFAA0p5yigD4otCqygFKnpHUpLYP0OcKURYv6Mj4MNR433QhM0gL6QongawOg+6rl9CswKoSkEIxPyTsuAPigCYBmAXVfYcVf+n0SRYw6dP1YwNgHsgSajiJP429RrpWOM6cxDiJB6NINM4w7LbUGMQUwB/M9mZ3dSy+YVG0EoBiDBST5ddZ+PkCsAiIlQZDa3LVatJ0WXG2PbL98AB+4omB3oP/HgTUhmGgBfRqWf2TTrUSjExDSP/qWzQDgfAFAWyzR8rkFtDAKX75jo6nUguZxZ8NByHbvvqBQ36T1swcsBaBAGGRg40Ir+rt9WUDhQ5ZAU7Es2e9LLzglqHRxNkbeuW+oQRRls5jaMjnK0a9ecNf2R4LAwO829kQB3LTtEYQPUwzQAWgW0AGo8AQH0ljp/V17pm0KRcEifGuNOnocO1rACQbKPXhs8TtNwVr5uh+n6Zf3wDgu29g2FdMtOc8B6PdpFj08ZFrplw+ZA5FTvAQQ0/BT36FPDkRqBT9Jag7xYlQItY0f88j78sZzCcKPZlrAQfSCK9uvB4h577SCotUiEJ8opq8IQFl/PUBPEoBLxbRE62LSqG4dFB8r5bHcOtiOQSqT5T7RKzYDgJx+BUCCTxZQCwhaQc9oKcEnEBKknj5FsJ1LAPo9xoWWPWDy+6IIoqbeaO0VA+zHB0zxIQDKkn1GgtXiRxMIAx0Vn0Db+lkuFjLRCt5WEwD71Qvu2H5OfekD5FaciQay/GIbFgBXriwAyGmJADR1ck3DwTE3TQ4B0LetzBJErTYAr2BBSI3HTS8tLKBZPo/fWQDZp197Z3scjGb5BDp/L3+njMweB6B83Gj9wj3atOsPWin9WgXCFlVO/3ctf4iD8XkBkH5USlAZlNPZAQqARr5vxu1yjmH0givbX0UQKI63o0Wun/xHuR8E4VnPK5JQLd4VNttTBvK2uoiKOUf/f+GjwMNBh0NMV6J0c0NpcRv7mrYv3kh8/uHxYp+bVpwLp3R7sts2YzouSq3KGa+q7+x7Co4nazAerRKsVlV1QitF59dyyFZaYY0HMu9mWL3gtvZXMbymBIFMZ1ov2h0B+LTLisxgW+Eq5uU92iZ72ud9vvR+4JFp4NjkRh2ONi0OB1/UBCkvEYRhfuNs4OmhhiPKnFQlx6aAjMnSXJUAACAASURBVPjmz1w41nnwO4cCIBvBwZgTAOUHRq3gyDExD4zRGVYEnpm5LqmQc0M5esFt7acFl0SlHiBxuTkYxxdaihUC4QVXFu5FCUD5QtJl85sjGA0ziQxqeu/fem+hw0F2fLLQGxFlYMRvo7v1WmIVtpt1DFkXvOR7LwJ2HSkyoZmEypoVVe8p7b6qEMnidGG/Vl/L2aPOIwuA1pAIQE3DAmFa4j9f7CPaFpCHKujr5xzZesGdHqAqKz5X+FLRAl58le+jui+kTBALMcgZ73CDBkpN2/7+bfcWOhwUyCEAjQTcAVhKdjkPc2RajewKyu/n1//qJcA2uhBMRGXQOcn9U6JIOjXHQqSYOsVoQp1HNgAvz8yny80H5PVz9H6RqVd849WtXQ/zA0Ow2ayGLJ474L0G79vvbulwkJi8BGCg4S01SKqofoNvSIC+5zkhFUupV8rUTpJN06KpaBkFQm5M1HlkA3AyM5/u9Zl38zrk6f0iU6/4hmscgK5ISUtCTowyDqb7UxwsqFJW3fo/vbuIBJEZ1YRgyHwQKNi0KEl1OKTCZJdxtPDn//v8ooaDaVgqFyiTD2IKfcjZS4Fo+7g+HXOPv84jG4DIzKfLzQf8KVfI/FNKrQ6h94tfz+vOA9cGAAbrpylY2SDlVTTt+uCnV3/V3a7DQQAysJAwobZJgUXi78Qayhd812WeiOAZzEyUiAkHMeu5BF5FwZQAWLPwknkLQy9CrPMy8+lIHZFzvN3T+YbV+8X7c64OHHix74V6zIxB+RJ0wQ+UU992tYoFy3fcXcTDxQkoPsCUhFIczKVCegSg5B8A/PILN9ZwxBSxtiKiUAOi7JW0dLTustF8AGbm0/1o3vjjnSGdj+lYlGwdRO8XN+c1wABIoHk6k61yuSCJITq3jDY9Vx0BqK++uwAfX6JkI/hME0SC1EGguiQ+isqcQRLrF6/0jO2w+6FMnZhyZYsQ1W50qOHgPX1NXndtODsfgMwHzMin+0+ZN0S9YOllMzWfLwKQSS396P3iY3kNOLDPM1y065H4gOW3p4uTDkB8zWdb7FgbdDhEgJkCUDRvogTmd/vPv3BVAUBuvylNzAAYi4hisVQnEHoIqWblrxqm4Mx8ujfljT+YjsWBYgIOc0oJPsq1slCpH71fKybJOEoAuuVTRSCnYlmU6P/Z4iSJEcbLv+Yu9/1EAh7JKEXDKxq4ChUiKymRbwjgHdcUWTARgLYXHSr2LOU+BV7MVwzxwOfkOWybYAGZD5iRT0edjpxD6VhcOQ6j94tP51wdOHBdMeXa9OqWRcmWXA1XLUIUH6zyCwlAs3z+YBkfs1u+VIejJEF3ckrjI9T0y/aMA2+/tgAg08VURKT8vbKMUgAMIGzzAcOi5HknHQAz8+l+MW/829KxhtH7tTz+jIMAJPCYMULAWd6fvi+EY9ouoZBM/Kx/4LUBgFLgNC5o16FrE8JJVJgkiFhaQQBv3+dVbMrWVsC8UxFRkjjaVsW2DtRdOJ/vAyohVYK7A+bTvTdj8HlqTMcaRu/XxHkzjgNkIOWuDr8jnYYDKDutgpUhra0uAlAyCCUAK8BXcjBXgLCk/h0D/hcByDxFAdAzoFUqUBYRJTUcMWdPP7ONL6i5bLQeALJRQ+bT/W7G4AuAOXq/lsGdcRgAY+glLkYclJVTsa6ptCX3uQjAKINQstFrAZKIwWxQIhIJuovB/Nx+r2LzFCwlj8Y0evl/MYk0kieVtcvrwGUnHQCVjjVkPl3mItQsIPuElx9G79dOzDgMgGkAWlNyBJn8xKprBRC+zgEo4LWRgcdVcOCjjlNvmx84DrzNAahaFZWLygKWxUNibIhTcPD9BMLLa65bzreAMSGVoXvJ/Cgh1WUfO+XTZS5CDYDs9GH1fnOrIDcAkABTTDCCLYK0Cwi/586WcKJUiEpC8CCBYDsiiSplqUIUmOjf+o2tIiKVUJbgU5uSWl4DWwX4+PcXnrQATBNS+8yny1yEopdcay+930y5YhgAg+9n2OoUeI5TdQer+32fdhmGoOBZanBo+g1yEKU4dYgFSvqB//vZBIBt9RshkTbW8ZZZ2hUgvDL3iU3uux4LSBM0ZD7dPRnTH08VAIfV+2XAOucQAMuVcKfFSD/+IAABsEoGwYAoHZIKEEYxRIHwLS8pUuhjFVs6/ZZhIVWyxVKBBIRXnbQATBNS+8ynI4tBzkEACv+chlUVIKE/5cRGsWmlKfIzudc3APLQSlg3E2OCyVRc1kpU3DgBmKoQsWtlBcswjPu+nfTYtBL+GQdgOf16GCZW6pXlBCqWSgqJypoOAFfXXDifbwFJLvi5HAjlnUsiIe6AjOp4iQNQHRlT2PlgJCUbbc2s+v/hFwFb/q7gm6HlYpBbmTV2sscQyy/qFBj2v0/cAdz/HGD7NDA1AUyOOU+1CwWOewNjKj6/O03F1/WuugW4/XJgfBoYmwDGdH7IxB5kLPIB+I8AfNwZgga5ck2fJbEm8V9zNWPfrasbgMuPAcuseJ8Exsb9FdBhA+7gaQNKB6TfcgCYug+YJT+g89aoBDMmIMScP12uTKj13uDv8zsKig/uJ1uQOsnojm3qB5P5ACRBH3OhPuzzRN9DV88HqQLEWPJnvTy5nm/t/1s4BcuSpRZtGAu4fi+wtBVYEyccrYwn6hF8/FkJp9bKxAKVFsn/d8urgbHPA9NPOEOWl4+2cfoFHhfVrJTZPKHSj5daOtup6JyCpPx8rHWRVQ7WOlrYCMx8AHIzlxkALPD9c0VB+x/A3E/+E2fUYHXdF7KTGwdvTd0AHP9r4PgWYG0KWBdfsBdsMPfPrKKsoL9XAVLAvO2fFylCE4cKliyrDVZNcGS1CqEYhWFiAZV+XntaURdTLmpCEbpchTYLqi6NrkMCzLzt5Xc4HwyJmmkJ+Z73jQOh4NWeDUZiK1K08f0EXt7CMHVawIk7gaVpYJUA9LI1Ao8bzKX1cytoFtFfpdCIWz7rgzHgth8u0oPGDwETc8CEMySUzFaikgtlpW1Ta8JqNba7lVljSRgW+Q6ZP/57WQvj6fydBjXfAjKbgEvMLwWCvhNoipgNpnQshlS4IGFWzIk6ylWwAz93ETLxGWB5ClidLABoIOS7pmGfG+33YAG5mND0G8F4678vkiPJczNOAC4UyQm2N8w94kirFlfIAl7i402d6dbPWWAtrsjOFiuCvAJZOQE0pHTFsckHYDeCvhNgipQNxoAz8/8IPr5nbvH2jd+6AThJAE4AqwTdZKEBLDoDgU4+YVkPHIBoPwareOt/BkDexsMFAFnbzNJYm0IDnVwbt4uyur1kwL7Tp+iZM/08WT9Rc7DHUmuYTr/x+6o4ovvu9fjBbgR9JyA+omwwxvZI5ULg6ZW7y9FPf9QNwKm/CgCcKABovh8ByVy/UCtJq2f+X1yYJPGU27lIZLbuEWDsWBHesZeDz4iURLUWa1TE47LqK12fZmd3OXidFctqm92KatVs1jAEsNv6sdymaa2g8+xUL4I+Pn2beCgbLGWHI/h8G3oTr45iK86POlbBU9yKI/AcfLR+ouQwH9BfmmbLlTHboOnZ/T9+5vaf8FUaAThXsFOQ45mUcgZCWTAxe0UQ+urYMO1/37GtxQmoLCBtRSp30LrDp2SFdzYMgk/R+VNwvwR9mwQDsaspGSfJgYDYNTbp8psCQFJxEIBkQjDrxt8dXCUIY+COH5MVFPi8SOn2n/QYLZ9Gp0cxANIP5IvAkzVzxivRydnKNzBa8fddM84b6AFyAriMF2pajk9kYIeoClXmA3AQgr5NQEHMBqMVFMNaIOayNRL/vhlH3RZwmhbQQUcAasrVVGz4EtjCu/3dfb/ID3PbT7uKAZ/MhcIC0vqRTo4W0IBIEAmEtFwCYqjW03bcmdwBYeoWgetUbrR8snrloiR2drpACf+rD4D9EvTVjIJu7HBV+781X752Czj9lwUZkTEgcPoNPp5Nv4oBRhCG6dd+1DkMz1JIhR1BAHJ7zwqO3fIRRM5tmDK5CoQKsSgOeBYBKFZULTqcB9r6Ni5KYmd3WKDUA0BlhNLM8EbT1QBXBU72aI5ZjUcVOxz7WLkQ8d37vsart/uA6RcPsxNSAtAXHDYNC1AEpf9s01kKwuBwGU7HgVt/1jtD1e60fgQigSe/j5bQp+KYpGB+H62jT7P8/ZypBIC8Dhcx8eY9wF015abhmnoAyJ5WSrKeNgKO9SHxnT/LSasJBim5lRjWBEIVeROInKL1qunybRawLgASdEy74qjaNNzJCgqEEYzBGvK0297mAFSHEIB6ebKDgc8J1ksmV8t29f1en6L5v6cxIK5iK6Xne/5jCTiFcTqVn/r/tWDPWwXnEPTVgIKUHU7ljASawKefIwDpMdRxRB+wFgD+RREDJABpwSzz2c0LfxczVjkVKwaYgtBBezu3SvX08d39P5uO3QKahXMQciourZRAGKZWar/YZ1xXRPe8wQr2AUK7TvbOVTZBXx4MBECRnConUBSFEXT6mf/TK+/qmzAF/0UBOPqBZYF52HrTFCw2LH5G8UCzJEko5nZqmRnPh/uCXmpnVpDTsIPPwKApOaSA2QLDLSHf97iPx0tpISLfz7bl4iFfsUsnj+HZWEeOYDCDnDmCvZkEgedcCjxGseIhBYt3vx049HwMLRh8gA9gh2MoH9ABqKJzxf0McO7XlSAU4HzhYYFq+5D7hwBu/98OQLlIBCKnW39SlXNY+nqeiq2dkQg+gnGPb9/ZpT0lq6MV5D96gLCwgDmCwbdnCvZmCgY/dxy47xxg5SWuUjigYPHFbwA+fyGwfr2rXrMvPB+vp3L3GHCgi9JOHQCkRVPppeUBigXLFymyejYTB4YsgfA20ofRAlYB0FfAlvQqP0/TsX5PLOB5DNu471cmIwiBaRww/F01J+mz2pqChxUMZvpJlmBv3iTocsW4dzewfhkGFix+2febXDAeJO/YEILBB7pU1g8LQFo98QASVGYNQ6DZfEG3fnEqrgLhbf/HV15anbkFNCvohWSl9XPQ2XTM/2s3I4DwPIZwBEDfgitH0Ek6N6x+u/iD7T4g/YdBBYPpWHEaHlqwNw+AQa4Yj54JrJO+aQDB4pt+oCAyYvOPEIQDCgYfeF/9U3AbAMX7ItAlVtAspKZdz5SOlvA2pstxjES3wJ+92NgAGK2gwi78QoVfEhBeQACqNNP1RdoA18kKdgDhxkUI/zKIYDCnqyzB3jwAJnLFOEIW7QEEi1/1Y21ywVglCAcQDD5/Efj7M4CVrZ5AKlkhxeQUaxBI4nvFzxf8IfCVC4HV7cC6ZEX5nen3VX1vAGLZq8ysrvHY+QBwbGfI2E6JpLvdX+ksthpUvQrmX/sVDGZVUJZgb17vJHLFeGQcmCdVb5+Cxd/5xjZ6QzzMLOQBBIOfTV2Ps4HFHQ7CLQUQmUrV0rgKJMsCjsxGAqTn/hzw0EXA4tnAyg5gbTYBorKkUyLnkB9YVhTxu+kT13iccwtwdBewPAus+b2ar9xJAafqfgMQO4dh+J9+BHe5gqZZZzYok1JJUcpaR6bp93P+W/N6p0KuGIemgEWKgPQhWPxdP7NBLhiHKYHUp2DwpZ8rLOD8tmJQVplOLxAqmbRKC6EDYC7/CeCRPcCx3cDSrsISrs04CPm9ArZk55UvKAspYLqPaPdR4/H0g8DRHcDyVr/X6VabLHk2PhjpPVZY7d5xwF6CwS9y/4LbbVyQsEKIufGiKe0p2JvXOx3kinF0GjhOQY+oNRtljji9TQPf/fOV9IZY4Gq4D8Hgy/4W+Oo2YG5bUUy04vUcLCqSJVRWszJbNgxSmMau+q/Ao2cBR88EjtOqbgNWWaTkIFz3YiWrF4nAjtN0nBZrJnU+/8PA3CxwfMYB6LUra3oglL0tps6wlVha5rLiqd9AdDfB4Je6U0s/0BXTDYh80Sr2FOzNA2AXuWIszABL1JaKWq1R+nwGeM17OsoFY5XTVw/B4Cv+Djg0C8xvLYqJCECzgsxmZlq9T8e0XGUyaUizavPtxoFr/zvw2BnA0Z3A8e2FVV3x6c4sqwObckeyhiXAowUSADhD1XhceDMwx37lvU4XxVN2n3rJIocygkr/Vbs7fe+EdBLcfaXXQ3IPWIrpBB6XlnwpR76jYG9e7/SQKzarxM7qJFj8mg8UarMV9IZ4gvNDD8HgKx8HDs8A8zMFAFnPYQPDl0Co2g4fpDZLqKCxT0/7fhJ4fCdwbFvhRiwRgJruCOwUgCpeCvUjZmEFxhfk9W969kW/B8xvKQqnVgg+B6CB0MsI7P70AHgmd2n1NQ0rv7FvALIlVYK73MnQCDLThSGZoDpuP7uCeuX5n8zroB5yxThGnQ0CgyBMxY63Aq/5aBHG6EBviDlOLV0Eg1+0AByZLgbl+HRxnZXJoqqttA4ODovlJZVuSjTQFtq+NwNPbHMAzramdVpVs6wEoPtdNg37wJfvsYiJP9NFqvHY+7vAwjSwxAeNxVO8T6aNVRRRlT6hHrJ0Ovaw0WDJCKng7g86APvNB9wg2JvXO33IFWOBgn8EIf2nRLD4tbe1+AU7yAWbZeskGHwVdd2mgAUCcNKnJgLQrZ/V9/Jnn5JUYmnAE3hCmv3+t8AWQfSzyPK/POOgJgDdsgqA5nfJAvLdLV+bz0kK4RqPZ3wQWJxyAPqDVhZQyQr7gyaXI9axWCFVAGLvRUhV46PgLnUWBs0HbBPszeudPuWKsTRZAJDTo8l8ui/42juL5veQC7ZpsEow+OrZQlqVVuH4FLA8WVyDAOTAmHUQCAWQkOlsQAwDt/9/AE8SgPQpNa07+AhAA6HLXbb5Xr4IaAMfv/eGvP5NzyYA7UGjBWTWjh40v9fSyscHLtaxhJWxFVsNNAXH1khw983+DYPmA5aCvXkdNIBccemfceooAfhAAcA+6A2xLuAGucxrzgKOMexDfV9OwbS2BB/BEoqLSrBoYGgJ3E8qLcIEsP/ngCPuUy7S13L3wb6PU56/m/Xj4Ps0TKCXQA6AXuNeZY3HMz5QANAeND1kwcKXlj6wOZQ+b7R+Pi0PD0DeFAfk590CKg8qncfoFzIRVWVqfFfBhgn25vXOAHLFWCDbvPstBsJZ4LUPt+jdesgFg+qVptWq11bg2gtgfuLiRAAgQeg+oEmsOujsXb5SsAoCIN/3vx04OlNM6Yv0tdx1MKvK7/TFjVmeCD4HQQQhf159eV7/pmc/kwCcKABoeYvR0oept7SEoZQ0Tr1lPuPQFlAtO0nyAcWhpzw/FSjFzGjLx+RGvxzoSeC1hwsA9klvaFN5FAy+9mJgnhaQ0qqagglADo4c9AhCDpJPl5ZommQ8738HcGw6AJBW1VecZv0cePwOY0/wl1lAD/WUCx0mMlDLr8bjmb+Dwp3x4nkDYbD0thIO5aNtfmDi/xGEeRawxhs7Vb/q2huABQJwAlhyy2cC0xoggjAAUCWWAkksOiIY978TmOOqeqqwqAx3WGhHK06n7TDwOcAV/iipPAKjwgrZm2o8nkUA0gKmAHTrp+o9MTrEYvq44o9pZIOtgmu8mafCV72YAKT/RwAy5OPOuVlAAk9Oule6xQRTWUKlWtkU/IvAHAHti5oIwDK841ZPFtCmdr0U8PaC9hVultd4CIC8P2Ztt/m5/qC11TJXlJDGGpfGAmYODgFoCxACkLpuWh3KCgqE8gNVZK4KtxgjJAB/2X1Krao1rfN7CWZf3LSBT4uAEIyWBVpipL7GgwA0AW25GbGENBTRx3rm1M2w39mmrFVwjTd1Kn+VAZALEE5LtIDyMWUBvbLNLGHgd5H/V07BDp7r3uU+Jadgn3ptxekA5MBri0/Wp4wzBjDbCnkMWMqVpE8GJwLQqvfc0pqbkVj5aNk7gbCxgJno30cAjntowtXNaZ1suvSKNhsYTcVKmw9F5xGE+94dfEoP+JYhD/8OC8eIPUsUHokVVKB78XszbzAF4Pvd//PCKVGIpOAr78mn4DZOm8YC1jco+w6EFTDDPJqeCEBZBa5GffVbhmQ8DtZW5TYOvPhXip0GTuu22lTMLSw+aAVl9QhEWjurI/aQiLJkTMLsX9R3r/ymZ73fp1+37OU9hunXSkdl7T3QrhKCtlCM59k2i5CMMSIAGdqxEIwrmptzTsCEut5yilKoJLAcxCq3fe8tLCDBFwO+tKjyuxSCMdYEXoeDrHcHvu0tTwLzmwHA4N/Gh6zNCqqeOSxC2lb8tQSiMwbuqXIqAcjFh2JjBKGJyShQG6ygVbfJegULWBYcMR3rvb6oCRaQwFPgl1M5rR7/JtBZOIZWx/0+s4QeY5z/1/X2tFnAxPpFELaVkdLN8MWGVr4pCBsfMHN8bmTKfCjZ0Ncp456/x58zLzfw6Qf3ABd8pUgEYmqk5bGyek06IQl1bkXScnlN/u8L24Gdx1qVq91KQvrpgwaAAw9p+wnXPw1YjyWMGtDo2ASOFGMU7SIEUzdYD34vMPmXwLbHgdkFYAtlGiim6DpxJtvq9LtlVr/aWKEB8pUXAOOPAFPzwBTZ9r04vdQ9Ts4pAZ3cd+yHxgfMAOH+vcA69/9Uxijmz/AerYpdar1lNSMYzV+vWY/34I8DY58Gph8Bpo8A04vAFEFIknIHohGVR62QhFRSYjQE6qFri2z3iaPAhHNNlxKwArI0Q1IAxwfReacbC5gBPp66/5ICgLKCtqnsrKKlrFZUFPKOr7osMTtdsxzqQRZ93Q1MPARMPllohUxRqkEK6gShOP0S+dY2hlRv99y+ovRi7IiTnTvLqmg6xDPYpqAUgRgsoR7MxgJmgHD/c4E1FXu7FRRbvEgd7evXWlbPpp9EgUjiJpwe6zwOMlvpAWCMVusJYPIYMOlSDZRpoGiNxKzbdIQlXONMWJbGtw4svdgz3El47nzTRvPrrKptAJT6ZrzfintvAJgx4vsvdQvIXK5VYF3sUZxmJUvgA1FOvwF8spKyBtM1y6EepI4LqVMedbEaTp0EIKdPKh5FqYYqSxgo2jgFr13j6XXHnOiSZOeBVSvyC8qC2r05FVvVw9cAMAOA178AWPMp2LJaaekiCPXExwHw660n1oB/niGQazwOkkSepbJ/72I1x4CJ+cJ6lYI1riccrVicUuVSmIW82pkwnHHVOKbFsOozQGkFkwewnBES37ABYMaAX39ZAUCCb82nIlo+40p2gNnvsoKunxH1xGwA/LOzdQOQJPIuHzV2GBg7Cow7AI0l33XfjOsv6oVodes6ISbBsAZMX+kJxU56KY7pkmFVhOciuvTzSt05v0+ryuT/9gDrZNe4wPMsI7VJP3GcP7gUOOdvgL1rRYJ0ZI5IV3hV4/wrGYPPU3/AiRhYusy2K7mU999P+z90ObD7LuBZK0Xdkeq9NSX2+o4HLwfWlopFCC0fgciBMtAFC8CGrYXVoVjnU2G7rTXrzh4kfRzLY1kyGwBoeiGcPiXb5eAzdXWnazPCSScb4j3xfmav8Cx2p50lAMW0VXINitCogl2r9H2dcctWwQxQsn6ZTBbMNtcgdKIbiZj51VcBk38CXPxoQcfCUg8pjcYgZScw/momACnXyr4leBhs5QaBTHpf7X8dMPYJYO8XgAv9e8QJlAZZq8D4xSuANYKPJQn0AR2AHKy1MACKe9nfFI6IEqduEWoHIJ9wlsVKLekoMCa9EAegSTYQeM4TXco2SEMkAHEbBZoj4bbYtdyCVrFqGXgTSxgXYTZeHLi9AMjEQRCVUXP/n4KUaaT8vVTi+Rtg7GPAuYcAWlMCgUVkQfJ2Q12yBvPXMwHImhDWwf81imsTiLSEvHZkr+jY/p9CQRD4p8DOBwteItai05qn31FFdfLlFxYWgCDUIkRkj/TxbCEi/89jfPZ3X2VqYSJQbmUNQY3HQT7hbv2sLoerVwKQHNEEoCsm8R4MhPRjXUGzVEIKIoY7yaEYuY4dgGb5RXruoSgtSCLLarkICQ9f6QNykGjFdjsIBaI4kGlt8W+Rg5g0HJ8qAp47nihAzFpuWtPIMBZJlASILvR6fQ0DCVbJCkJOJCqnk4pGpb99tZ8MopyiKDX7WWDiwYKXiEQOehCrgKh+eJQ+EQHo1Lby/zRlyf8TIbf9XS5ftIb8I92YugH4ay2pLusorl7dAoonWtMwQSTdOFuQSLTGHyIC8kxSIQuA4hwU2WUAoO4/grBcDbsfWElSzg+JCoYDoEGM1ixSkHzgF/wG7y8sIa3J7JPAGWuFJSQIaU01iJHUiYP4e33BrPOHmG/JMaOfTZVYRhwGav87vWKPJ9/rSH4IOGO5sITqg/ggxXs4TOaBAECbeoOsgfl+DrQShFqcEIhyyt0MbMusEkx76iAZXKM8BvXiZAGlF+KaIbaadYpem4aDgpJZQz6YJABV5VcHAJZ0v4FxX6KG5UpYs0KnqjhRuagEVgPglYAl9ciHf8mdUrJh0Qx9vkDBzBywfbkYQIGwahA/kglATsHsDzKA0BATiPyZ4NEDwIeoa/uFYKKXL2f24nQoIgd9R3yQCMTFqwIAfdBWI7+yB5ZLECYLETd85YJl+2YAUNosLIel/xYlu4Jsl6bhNhD6it4WJCvA2Zc4Gxo73RcgJeOqFmGR6rcChLYACyGojmEYdj59KnZ+tIQRhH9IvWA2hiREjDeRI9Cly7fMF3EtWRFawhQIf5IJwE56wdTIYdt7tp9ys1K8JnoJvod9Wn682PNkP4hUy1ndWgstAtBDMLYN5/6PAc5DGNoF4SrZfN+4+IhT8jqwg2Cp8ThIJ5vfSWBXAVCrWN9SMxDK+skaOvhoAc8me654pmUB3f0wyt+E8FyRAGmPlOEoiSD2qgvmAKoOm52fAuiTDHSyIRxx+lI0QxxADubfF5vffMmSajrWlP7nmZ3dSy+4r/ZzAUEHnQ8R70HsXlK+PgJsW68G4XYGZj0EY2EYATCAT6tAhmE0DXcC4faapcwMgAIfLb0kuzT9Qmw5uwAAIABJREFUSi+EfeALkSrpBovbrQDnkm8wAo8/E3i+CCsZ98NCpAp8cUekZyBavI4ET/TnaAk/RQCyAXy6uNSPA0i+wMeB6ePA5HFgZq2wpNGK3FUDAHmv3fSCe7afX8CB4UNEEOolVi/3obastNwJ9cO5BOBKEQMsAcifHWzRAigWWAlCn5K2bQYAOe1KMjTIR2kRUhKVS7IrLia0v+3xwHMZMCbYNP0KfG79zAqK5DxOvyEuWu6VD5KSHy2YAEQAfpaRdl5UkuUctIpBnCIIl4psD03FtIIP1ADAlBuJM47EqqUX3LX9kSBQcuuyftK78xUkHyQ+RLqHZ3Fv1KcgLj5kAQ1s0Qo6IA1nHhNLQzA8ZxvBXuNx8DcS5UYpNnoYxsCnUIqvZo0F3wPTMa7Hv53HOJVbS/l+5bumX7d+5WLE44hxIRJB2NMCqj9ixwuE90svWCaIA6bAp959EKeWChAyA0PTOV2unGMQveCO7bfqHbcS4rJR7Ewqnw5AWhLuImg2uFQAXAVs8RGmntW4+g2hB3P79L/EJ9zGvqrxOPibiVihAOgrWQOf/EBfBcsPNBBqW9Hv6zzGqFzmoXz3B9AePgXiq6bgiv4YOB9QHS8AfpkAFMMjrWAcQA0iO9XJiQyAnos2vV7ESHOOQfWCO7Zf7F40mZFQScRKAYBaSU6vAVcTgN7xXHiUFpDTMK2dFh56912BTiDcvpkATIXzCL4g3WXTZ4jpGfjoF/oihL+fx+0yWUABLwIwtYKKIabgCzHQvi2ggBKn0McEQDaKT5cGkIOo6SuyYzEfjQB0EM5nZgAPoxe8of3sgSqCQM3jkdFLvpRvR13+7UVRuhUFSavNO6otwp88ZZ3+t4M6HLtch6OT9AG/q9cmtf//gV1JDYcnQ2zY6/YakfSrU+Pg1M45NqPt3IEtoM7WFHokyrWKkooglCMWLYjiUXMtK3g8Uzd1WL3gDe3vRRCoUEYCwGtYFxxqgA2E/jI20F5hhmQod98BHNnlxOTig1aGiDanO21yV4DygWuB8YeB6fnC9WEtiKVVKeE0ZGiXWczeJoWMIig5a9V5DA1ANoKDeDylZ9NSXxyAsiKawrQqmCv2HVf5e8aRoxfc1n7xs+khItAUvojvyWryxVcWJZksVSyZoQRA3dcAoHzax4Gj2wtu6FVKM7gMgti02jbV476oUJJs1j/AbA1mQ3Pm8eTRsoZDtR+xZKCiEKmMXTIeXHPGdhYArX8FwG4DGMEnAHIK4yvT58nWC2b73cexaZgWWaEKgU1gjNbPP7PvOYGsUSBkv3hBtmRWNzxjTk9RWktvxp6POj0vARjY9sWkFel8RWxegjIF4RjwAOnZWMPBTGjqvHmszxJOBUD3xyznL2bqROvoP3N3q84jG4C7M/PpcvMBef0cvV9k6hXv+2Yno5QfGArRbaCC0mWv2YtF3ecerNDhkNZIIsXQRv5dlTtGADJSz2gEE1EJQM//026HdIEZLC8B6A0tk0g1Ja8DuzJdphS82QBEZj5dbj7gxZN5er/IZI+67pscgE7QaDOUMyC0Wb8+gXjuR4F5J6YsaXnFhBoAGEVvUhb60jISgCQnoh/OLBgvIrL8v7DdFkEYM5dtNg97tvz5zJqzdfIBmJlPl5sP+DJP5xtW7xffnzeh7H+Z+3+RpkyWT1YxuURJYVtx6T0fCTocouQV85VkHRIGegEuEv/YKpkA/JceVmL8kv6t5/9pu62tfiPWcFQVEa0DZ9WcLJEPwMx8uvfnjT9IgZyj94t/ldeA/S9tMaGa9SNdmsIxbvVscVJ1GScoMt4UPwhAsmMZ0aXzQBsvdGRBjQz0FUpEJRAJQOq4KAnBdz+sfiPJ3bOYn8fsykyVWMfiN3BOzckS+QDMzKe7OW/88aqQzsfE5kH1fvGjeQ0wADodmVGwOeiMsUqHrGOnS4UFy9P/wAEojkEnI+IqOIJQNLgpCXhcmLAtD/D+kgQE235L93tj+YBqgTX9BiCeW/NedT4AmQ+YkU/3sbzxBymQuZhm8g1T+QbV+wWFdjKO/Te2mEFNlCb6gPF708VJ1TXHgKd91GnZpDfi1k/gM2vqU3DUnCuBmNQe3P9vw6pe229KOvB0K1k+ZS+rnrfM2AlA3JMZtah/EZKZT3drxuDz1O/yxAwu9JgJxr3lQfR+8aa8Buy/wdWQZAVl+ZzCrG3q9c/YrkmHy3IRYryAAqAkEBIlopJxNNUbER+fA/H+/+AAdP9PmS9dazicJybm7mlB8nR2dI1HvgVkOlZGPt2nM29GCamcGZjAwlQ+vvrV+8X/zGsAAUiLVPp/wd+zaTMFWw+/kAA0GQQnpCw5mDsAMIrcRB5mC/+MAffTwgfwKY2KfmCZ6ZIkUShrxXxBX4yYaV8Hzmcn13jUA8CMfDqWYeQcSkhVOl8U6uxH7xekrsg49h8oiCENgC5TUG5vKxxT8f2aRtOtcAKQ1s8soPuOVUIwpchNlEEIOyNSIrrvv3hwnckWIZPZsnbcDyzTpvg3lU8mpZQqozyfK74aj3wAKh1LgrsD5tMxiz/nkGD1sHq/YNFOxkEAcuW7oqmXlisuQOT7VV2jwi/kTgj1RkoZhBje8Z83SCAEEJZW0C3gff8tADCt4VASaWIBK0HI9q8BF5yUAMzIp8tNx5Jg9bB6v/jdDPSRns0BWIZeUitIo9IhHmhXTvzCPQddccnZ76U1V/IvC4SBCFyg26DFNg7c++Mhhb6qiCikT7WVUmr6lYn2nRKyrdZ51GMBlZIc07GUBdMjny6XCiUmpA6j94vMZbgBMFo552pu27PXAqXTyAUQcitOQjAm9xX0N9pIwIPmSCmH5QuPqER0L4kDYgp9zOUL6fYxkbZcFceyAreAF3GlV+NRDwAz8uksnT3jiILVSmpWNlhMze+k94vMZfgGAPJeHDjpCrgM01Tdry9OzvmYAzAqLVWIwEShwzbRwwSEn+MqP6bQK5tZlWyhjCCCsC19Xv7gOnBRbgp7cu/5AOyVjqVMmA75dJZ9nHF0yohWNlhMxKnS+0XmMtwAmFq4imnYbrEqNJPc+9kfd62RKh0On8qV9hXZ9askEPgAfI56ziocUgVbzGT28lEtRMoKtg7lBHtznfZNA+CQ+XQWM8k4uglWK/NLYKzS+8U9GReXD0g/Tyvh4Ne17Yb4Zbr6g6y7/aNWcoPpjKRTsJIags5IJwkEAv6en05S6GUBfRWsUExZyVZVQCQwrgN7Wfdd41GPBczIp8ODeXfTSbBa6YYxlY8/p3q/udc3C+jTbtvqt2oadnB2m4oNgMn0W0p+hYWHWbwg9yU/0Kb9EIy+5y2hiCit4UgKyTeAkN8Valk4Le/ldlONRz4AWWBRM6fdIPfHstw/G+SE5rMnVQ/kA5AkLHS0ak7V7reXfhgACaBqDtD3e/nmc5k9kA/A80JReq+U38zGVp3ObJo/BvAOD3dtwiWar9zEHsgHIGlFubqSx7+Jja36anLLcDvvgwA+NDpDfILv+qlzuXwAXuSjrkKemlO2e3U1uWUYnL8dwB/5e2apca9LNv+vsQfyAUheX4VguB+mzIsaG9ntqxhF4Xbe3QD+n7/uHLAW9wQ1tblMRQ/UA0CaHC7plXEh+q4T0OWcfhleYTSHBK0EH/mi+fcRuKQn4I6fWpeoB4AevCz3HOOm9yb3F5mBlZBNclYCj1aRfyfrbgPCTR6AzK+vD4CyglX7jpmN7HY66d1E0ctdIrEEE4wEIMlam+Pk7YF6AMj7EwAVbU82vTerCwhAXopJN9zVI+AYrOeULLZgErY2x8nZA/kAJGWr0naUWdFpy2cT+oCWjpdjLFxE5UzYIBBpEUX5nLnlvAktb76SPVAfAOUHpiAMm96bsVtCAMaKALICMyxDq6cXfycA+b/mOLl6oF4AiqBRIEzBp7/X2Af0+fi1XIioMIlAI+AIPIGPmeROWV3j1Zuvyu2B+gHoFfZiDS2lC0LiY52WUADkQoTTMH1BFSYRdHoRfKSu5v9qrizMHYPT+vx6ARhSuDcAzzmDo5ZGHT1PAKYMwQxME2jiSo/gEwBrrq+u41ZOy++oD4BaCcsXTPiSI3ey8s4KGoG8QwCMFM+0ggQhLR0BF19SXuD/ayakz7uR0/TsMcxg3SjfqWNA0hsrga/ojaq/8WPcC+YIk4Ke4CMSuB2XVht1Oj8zIfXlU8BtU8DhmYRXWdfrdF1fgr3+S8At48CD04DVjXQSDO70PTUnaJ5uOCwsIIFHSSFy1pKPWCDsZxCpw8UVgKSPxLXM937OzxxAljzcPAbcswU4Qh4V3UN8mKoeKm/bu78IfKJQa8VD48CylHQiL3O3/qg5Rf30BKACMtJXjXKQcfBSK8Dfqc3KVCwuN2VFGRnm/yKZtq4Re5ifyQQgM2A+BeB3GHaZBo5MAIue0l7Kt3cC4xhw+5eL7TuCkJk1jBtyerbUfYG5ExjZ/pqrxE5fAOrOq5SmowVIrRp1IyT2R6+fg0bgVYG4CsyZe2UsaiOGKXr4Sfp9k8CxCYAFSKyvXeY1o1BxQux91yMtfsHPutgnnyUuUvhc0ZsgUXib+nVkq6+ZKaABIHsgVZnuwD9sVo66rrR4ImdhLGSQ8zPL/JgBQxeU1ouWkO9PTgDzbgmXxrzMkatl3keivfG5x4r4IRcz5BfkO5vEZ0kgpIfBZ8yKjlL17syy0tMNcOn9dl4Fy6dLFabj1Mpvow9Ify+I4Nlo9Xt+ZqU9VdJpqZh4QDDyxUyYOYJwHDg+DhgI/WUVZl7aSEt93+GO9Ia2iuZKOfA7lhp9JpvAVy61w2mOwO5hmCgMHC1H9O24gu6UD9jP+ZmbtLRaSsei9SL4XDPbAEh/kGQ/pSUcc0lbApFWb67lQUhpVnLBsoKqqZclFMmUtrxPcwxl3X7vOCAtYLSCcugFQmqhdssH7HU+RznjiOlYXA8wqkOfkItTAom+oKygca4ES8jY+N3z7fSG4hfUtp3ihUHruVSsFy1iRvNP+1N7A5BdJACmVpAgZPhGOyCigEjlPLudn7kvFtOxuB4g6OjD8UWLRkCZFRwrLCEXJQQhp2K+37lQeBCRX1A7KPQto1prFEmSYn2mB9EAsO+kYfk8KQhZF8yjVz5gp/MztyOUjiW9bCUhEBhKRCCgSis45uQ/PhX/xfFWMgOnWu2gxB0TF/o0kEZ/kCDM1Ts+3RHYnwVUL6XhDFrAswfIB6w6P1MrTulY0sum1VICglKwCEACqvQFCUK3gHcsFQCM/ILayqP1k9JshVqrncMalOYYvgcGAyCvIwuod8YBJQmZpmGJeyRwkGw4n8jJOJQNw3idLFhMRNB0SgASTJyKoy/4ieXCeFfJBUeV2SoAclFyR0bbm1OHTUiN0/DTAwD7zQeM52dqj8VsGEkVE2jKetG7AEhQ0frJAv6RC0trC1skl+IWlNinGLbSaZg7Mc0xfA8MbgF1LQV1z08A2G8+oM7PVF9Ms2GUE0gQyp+Lwu2yagLgR9ZaYpkSypQ6a6Q2DCqzpkvietXIFdoZfuieGmcOD0DeP0HEbBhNwYPmA/L8zJQsATAKnguEqS+XTqkE4YfWWwCUFZTksYAYwZfIBeN9Tw0cjOwu8gDIZqsoSSvhEeQDiiGYFoyWiSDRypWgi69UP5sc5fIcquSCNeXqe2X9ZAHfM7Khe2pcOB+AT41+aO5iRD3QAHBEHd9ctuiBBoANEkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cvAFgg4GR9kADwJF2f3PxBoANBkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cfOxqYJ2au9RdPtdp/khoEOlglDYT39V1PzQFXLsMXAlgt9PCxJKPbufyf8/KHIPfBPAZABf79Xc5XQ0ZQ1Q7360NbxoHrlsDvs5ZRsgo0une06by6X1mZvtP99PNAp4F4LsBXA5gjw8EGTeqaGF4QhzQF80CX7cAvGIdeDYAfhdZ2sTKUcVrpE7nd31N5gj8e2dIo2osk7NZpMdK0Z19tv+bJ4F9K8D1ACj8yfNSikHeg+5Z969m57Y/8/ZP+dPLKZhP/rcA+AYAF7g1oRUhEMUzFMt6eSJfX78b2DkPfM0i8GIAX+uWlAMppreUUErn8p2gzTl+2flg/sDbTkvIOik+CP20//mzwAXzwDcCuNTPJeFXpEpM6QEjIHm/zTF8D7T5gATYNQCe69aAloRTGulfBESBSYNyxR5g/Bhw7hKwZwl4vk9LnM5JmsBzUyDGAX3B8G23Mz/g9BuUa/0IiutfMkj7zwKmngAuXSvOpUvAWYBtF4BTnspIj/O8zPaf7qdvWITw6eZA0JLQEhKEGgxZhUj/dz3NzSKwbR44exnYvVKcy+mM5Km0JhxInUtrGkmzCPicg3W5LMGkQiZZTm9xS9Z3+4m2o8C5c4X15pTKW2Lb+fCx7WLtjYxzqiql29Icw/dA5SqYf6RTTilg+lYCIXmICKQ4IK9wxfSJY8AZK8CuFWDnanEua9ZTAMsaCog3Dt92O/MvnRGBtGwkqKRmMEkqCaa+2k+0LQDTh4rP88UHj74kF1WaATo9QHQ7mmP4HugYhtEKj4PB6ZQ+FS0hQahpldPya1kXTOqNY8DscgG+HavAttUCvBxInitrkgL4lcO33c7spBdM3kAuSnq2nx9gQfAh4JyVwvrxwel2z3p4aMlzH6DM2z/lT+8aB+Q/OT4EEqckWQSBkGD6EQKQnDCLwBSnYgcf32fXioGUFawC4esyu7CXXnDP9tOCsyD4KLB1rmgvX7zfbu2WG/Jtme0/3U/vKxBNAMoi0KcjkATCN3HOEr3UAjDrwOP71rXixYEkeKMFlSX8ocwR6KUXTJ7AaNE2tF8WfA4Ye7Kw1mwvX/yZn+eKnvcrfzC6IK/ObP/pfnpfAGQnySoISBqUXyAASS1AK0JfagWYcRDOrAF66TxZQU7jBOEbM0egH71gcgXSFZAV54NQtj9YcNIpbONCyh8Ygi8CVospApDuB63g92W2/3Q/vW8AsqM4gLIKBBIH8bcJwMCNMX68BTqBb8s6sGWtsIA6jwDk662ZI9CvXjA5A6NVa2t/IAicnC/aGV+8T74IQPm/AmGuBc+8/VP+9IEAyLslAKMV/LgAyIUInfnjwPQqMOOgI/DstQ5Mr7UAqMF8V2YXDqoXXNl+EQQ6N9v29aKdesUpWJZbAPyPme0/3U8fGIDssDid/pUASCvCaXgJmFguAEfgEXT27gDkuwaUg/nbmSMwjF7whvbLhSDL5TwwvdRqo9oqHzACkCB8U2b7T/fThwIgO01T1IMCoAZxGRhbKoAXQUcQTjkI+a4B5e5FzjGsXvCG9gdqrLGFYrpVG/UuHzBOw2/LaXxzbh43DKeoJwlAHqLndSs4udoCoIBHQE45EPk3DuitmYOQoxdctp8+rFwIWsGFYiFFoLGNchcEQC6e+OJC5J2Z7T/dTx/aApYdJ37AyJK/DIwvFxYvWr0IwEn/H1Opco5sveDUhSAAF4HJpQJkWixp6k2n4IYfMGf0amDHev2I8+l4/UbvNw8Eozw72wJePOJ8und7EkKj9ztKGA1/7WwATo44n45pWI3e7/AAGPWZ2QBkYHCU+XTMfGGQmYIxjd7vqOE0+PXzATjifDrKtTZ6v4MP/MlyRj4AR5xPF+VaqZLJF1UzKdPV6P2eLDDr3I58AI44n07ZMARbo/d78gMubWE+AEecT8e9YOn2Uheu0fs9tUCYD8AR59MpG6bR+z21gKfW1gNAz4geRT5dTEZo9H5PPRDmAzBmRM8BJzqfLiYjSKKr0fs9dYBYDwBHmE9XtRfMsIz04aQZ1+j9npygrA+Akqs8wfl0BCCTWRq935MTYL1aVQ8Ao1zlAnAi8+kEQGZTNXq/vYb75Pt/fQAcUT5dBGCj93vyAaxXi+oDoFLyT3A+3Rcavd9eY3xS/z8fgCQX/LPR3SOzkon55jg1eyAfgD8M4NcAPD6aDmBtB1e4NMDNcer1QD4AbwbwxwDe4UvRE9wHZG1gNSXDLlwLNcep1QP5APxzzwj9IIAPnXhT5ORc5EYCA9HNcWr1QD4AmRH6FQBMTSZZH98ZmD5Bh5g1FopiNns1x6nTA/kAvAfAEwDudnI+EvQxPfkEzYfaCXRSBluQMB7YHKdGD+QDsBNBH/9+AkAobqTADGK7Inw1x8nfA/kA7EXQt8kgrGAGMfBxZ5Cv5ji5eyAfgL0I+r68uR0QmUFoBQU8vfNvzXHy9kA9AORoMw7CdGQCjoUZDwL4kv/+8OZ1gJhBIjGDgMh3vTavBc035/RAPgD7JegjODfhiMwgoqeJwNPPTaB6Ezq/hq+sB4AcXeXEP+ZhGVo9vRimIQD5v5oPAZCupgDI9wg8/qz/1Xz55usyeyAfgMMQ9GU2Op4eAchpOIJQQEz/VuPlm6/K7IH6AMjgGzdl6QtyX5jWjpQFevF3lq3xf6yhrOlIAUgQCojR8gmE+l9Nl2++JrMH6gEgR5UA5KYsc+AZmCbQCDi+IvgEQMob1XBEAHIajgBMLV+0kCdws6aGu3zqfkV9AGTwjftg3JRVVRAtHQEXX/wbAcoXP5d5CID8GoJKvqDAloKOoIz/y7x8c3pmD4zhaqwjRzCYyQg5gr2ZgsFTLweWr8XQgsXjbwLWrnNtMlKgNoLBmZAa7PTCAuYIBlMvlWQswwr2UlUw45jdDSx8HbD+Ctd+HVCwePKbgJV9aASDM8Yg59TWFDysYPBtmYK91IbNOHaPA/M7gUXKXA4hWDz79cA8+W0aweCMURj+1HYfcBjBYO54MMY3tGDv8I3nmWSHOzYOLJ0LLPGXAQWLz3oB8MQUsEa16kYwOG8whjh74yJkUMFgbsNlCfYO0epwissVY34bsHw2sEIRkAEEi/dcU0SP5qhF1ggG5w3GEGdXr4L5134Fg4kAjuDQgr1DtDqcUmZETwArZwAru4BVqsv0KVh8/o3F4v0QXZBGMDhvMIY4u3MYhv95Zh+Cu1xBcxuOU/HfeDIq5cv7FuwdotXhlCBXjOXZAnyrO4BV6in0IVh8wStLuWCsUAyvEQzOG5ABz+4eB+R/ewnu/kOP/3G/l4kJTERlljQtIot2e53/IwO2OPl4FLtcnCqAp9cahT56CBZf+LpSLhhz1N5qBIPzBmTAs/sLRHcTDKbiNHdBGGymOC/3hglEvgjAnoK9A7Y4+XgiV4zVWYDAs/etxaubYPFFP1QkLtCIP8neaASD8wZkwLP7AyC/tJNg8L/xLNBu+YBdBXsHbHEFAINcMVamgdWZAoRrfPdXm8KitLdmgYveWAq+2y7iMqfuRjA4b1AGOLt/APJLqwSD3+y5T1yI0AoSbAxMMzGV1o8/My2ro2DvAK2t+GgiV4zj4+3AIwDXtwBrVJeuECze+9aW4Dut4PxkIhYsdetGMDhvoDqcPRgA+SWp4O4veQ5Uv/mAGwR78+6rQq4Yq9PAOi2fA4/vBkKudKVU7VZw77uKvWFuZbtcMNb5v0YwOG9g+jx7cADyi6Pg7gccgIxlcA5TKhaD01yYKBmVFpBZMfx/m2Bvny3t8LGqoqTliZbVI+gMgHwnMAnCIFi897cLAAZ6QyzFzzSCwXkD1OPs4QDIL5XgLmk5JHk/SD5gKdibd38VcsVYGmuBTaAzEHLHgyCcaokB7/1IkUET5IKxwF5pBIPzBqbPs4cHIC/AaeqvPL9pmHxAE+zts6VdLCD/lcgVY3UyWD0Bj1ZwqgCggXA7sPfWAoAJvaEtZBrB4Lyx6efsPADyCtmCvf00s/NnOsgVY3m8BTRZPZuGBUACdArY+5lWDqGmYbIrLHEx0ggG5w1OH2fnA7CPizQfaXqgUw80AGywMdIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0BxoAjrT7m4s3AGwwMNIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0B8ZYNMbkX+ZekpuIiOQrPar+xs889HJg6jZg5jAwvVZ8B+ll9PlO5/Fc/o+ECjnHfi8zYfkvM5ulmp4qJXVqx5deD4zfAkw/CGxdAZgoHfuh131QkaI5hu8Bs4Ds8B0AWLnIRGCBsFfn87JffDMwdjOw5R5g8giwZa34jnQQUwDo99wBfJ4TM7COiNdlaj2rA/jeV/vfDeATAP4UGH8I2Lrc6gc+SHqY4oMZ74VSKM0xfA+UUzB/oBUUCKMl6zSQ/PsXqZD5KQC/A0w/DEwcAcYXgYnVwppwADuBkefnCim90FmBWXwnK87Uen53BI8sbuwqaz9p5UgnQhBS+ZN1zE8Ak0utviCwq8DI8/nx5hi+Bzb4gJzKZE1SEFZZgS9/2pWR/gTAJ4HJQ8DEMWB8ARhfBsaWCwDquwQKvvNgHXvOcYVbPFJPkw+dDxC/W1Y4tWDpw/Rlgo4lo1T4/KxTihDNpJwj3/UiMLXemprjffC7eWpzDN8DlYsQDiKtVxzEqoHkyX9HRizW+nIgaQnvAiaeBCbmC0s4tgSMu2rMePAR9X252jXklaTFU108K0MHav/nvJ6ZxVVk9OI7GR2IZoGQNc/HgbHgIwqILIVujuF7oOMqWFawCoRxkfEIB5CWgkREBCNf9wMTc8A4QciBWyoGz16rwNgaML5eWKpctYZL3N+TWLX0gvtuP0HHk2n16JDyxXmVhfU0qywbJbr5GSuXKxA/sV5Y9UYWdnjwyS3qKKgarWA69Wg6fjQOIK0HadnIjPVFB+AiME4AuiUkCFnESyCSkmAuU7Cjm15wX+2X2ifBRn9A8mKcW2UFjULVQcgVDl80u40SYh763FfvquhLCxitoBYUsoJfjXKttByMq9CKcHn4sPuCbgXNJwyWkECcz5Q376UX3LNncZyQAAADEklEQVT9fFgIJs6lBBwtn3Tt6FpIz4RWnuQxPh2XIGzm4CwQ9hWIFgBTK0gQHiIAJddKq0ELQh+KL1qUR4MvSEsoENIKrgALHNiMox+94K7tl9qnnMio8MSf6SNwGpYVjCDk/Ju7isq496fCqX0BkDeqlWwKwic1gAQSpzGREnFgREz01eALLvvq2Kfi45m6cf3qBXdsfxRbJMho8dimqOhEK8cXQRr9QVpvPoDNMXQP9A3ACELFxPh+jACkP0fLIKFCCRRqKuPUdqjlC9o07JZwKVNHeBC94DQcZO0XAAkmgotAk9QYrR9f/BvByYfMSATDVMzwTXMM3QMDAVAgVHCZ7/MaQK4QZUHiNCbBQlqUw74YCb7gcmYkelC9YFlwvVv7RRAorTuBkECU9asCID9/x9B935zYzyKkqpfiNHxcA0gLQgvBAaPVkCqm3h2AtC5m/RyEqzw/4xhGL3hD++MmslgqCbgUfLKAcRrmTlBzDN0DA1tAXUlWcDm1IOIIJAjlT/Fd05lbFQFwjdtgGcewesFt7Rc/Gx8iWjUCjGCT1YvWT1MwgUqrf3NG45tTbcu0aximWx9xENcEQHGbcYAEwtSXSqY0gnCdgeuMI0cvuGx/FUGgFhwEYrR80QckWN+X0fjm1DwAWv8RgJFilJZBznz0pQg+AZAAlVWh1GvGka0XzB0cCQi30aSGVa9AF62fLOB7MhrfnJoPwPER59Px+o3e76mL5Kwp2G57xPl0kxc3er+nLvyKtLmhfUC78RHn081ONnq/pzcAR5xPR9mRRu/31IVgvgUccT4dNaobvd/TGYAjzqejumqj93s6A3DE+XRUg2VSCjdaGr3fUw+I+VPwiPPpqJjO8J1Nw43e7ymHwHoAKMFd7QErAeEE5NNJMb3R+z3lsGcNzgfgiPPpomJ6o/d76oGwPgCOKJ8uKqY3er+nKwBHmE+noqRG7/fUA199U/AI8+kEwEbv93QHoEhZTnA+nYqSGr3fBoAtaiqBUImdm5hPJwA2er+nKwBHnE+X1gUzSbnR+z11wPj/AeCpPDD3t7rvAAAAAElFTkSuQmCC";new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,0,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([1,0,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([0,1,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([0,1,1]),new Float32Array([1,1,1]);new Float32Array(2),new Float32Array(2),new Float32Array([0,-.25,.25,-.125,.125,-.375,.375]),new Float32Array([0,0]),new Float32Array([.25,-.25]),new Float32Array([-.25,.25]),new Float32Array([.125,-.125]),new Float32Array([-.125,.125]),new Uint8Array([0,0]),new Uint8Array([3,0]),new Uint8Array([0,3]),new Uint8Array([3,3]),new Uint8Array([1,0]),new Uint8Array([4,0]),new Uint8Array([1,3]),new Uint8Array([4,3]),new Uint8Array([0,1]),new Uint8Array([3,1]),new Uint8Array([0,4]),new Uint8Array([3,4]),new Uint8Array([1,1]),new Uint8Array([4,1]),new Uint8Array([1,4]),new Uint8Array([4,4]),new Uint8Array([0,0]),new Uint8Array([1,0]),new Uint8Array([0,2]),new Uint8Array([1,2]),new Uint8Array([2,0]),new Uint8Array([3,0]),new Uint8Array([2,2]),new Uint8Array([3,2]),new Uint8Array([0,1]),new Uint8Array([1,1]),new Uint8Array([0,3]),new Uint8Array([1,3]),new Uint8Array([2,1]),new Uint8Array([3,1]),new Uint8Array([2,3]),new Uint8Array([3,3]);new Map([[he(0,0,0,0),new Float32Array([0,0,0,0])],[he(0,0,0,1),new Float32Array([0,0,0,1])],[he(0,0,1,0),new Float32Array([0,0,1,0])],[he(0,0,1,1),new Float32Array([0,0,1,1])],[he(0,1,0,0),new Float32Array([0,1,0,0])],[he(0,1,0,1),new Float32Array([0,1,0,1])],[he(0,1,1,0),new Float32Array([0,1,1,0])],[he(0,1,1,1),new Float32Array([0,1,1,1])],[he(1,0,0,0),new Float32Array([1,0,0,0])],[he(1,0,0,1),new Float32Array([1,0,0,1])],[he(1,0,1,0),new Float32Array([1,0,1,0])],[he(1,0,1,1),new Float32Array([1,0,1,1])],[he(1,1,0,0),new Float32Array([1,1,0,0])],[he(1,1,0,1),new Float32Array([1,1,0,1])],[he(1,1,1,0),new Float32Array([1,1,1,0])],[he(1,1,1,1),new Float32Array([1,1,1,1])]]);function fe(e,t,n){return e+(t-e)*n}function he(e,t,n,r){var i=fe(e,t,.75),o=fe(n,r,.75);return fe(i,o,.875)}d.Loader,d.Loader,d.Loader;var de=n(251);n(73),n(252);function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var me=function e(){var t=e.SkyShader,n=new d.ShaderMaterial({name:"SkyShader",fragmentShader:t.fragmentShader,vertexShader:t.vertexShader,uniforms:d.UniformsUtils.clone(t.uniforms),side:d.BackSide,depthWrite:!1});d.Mesh.call(this,new d.BoxBufferGeometry(1,1,1),n)};me.prototype=Object.create(d.Mesh.prototype),me.SkyShader={uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new d.Vector3},up:{value:new d.Vector3(0,1,0)}},vertexShader:["uniform vec3 sunPosition;","uniform float rayleigh;","uniform float turbidity;","uniform float mieCoefficient;","uniform vec3 up;","varying vec3 vWorldPosition;","varying vec3 vSunDirection;","varying float vSunfade;","varying vec3 vBetaR;","varying vec3 vBetaM;","varying float vSunE;","const float e = 2.71828182845904523536028747135266249775724709369995957;","const float pi = 3.141592653589793238462643383279502884197169;","const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );","const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );","const float v = 4.0;","const vec3 K = vec3( 0.686, 0.678, 0.666 );","const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );","const float cutoffAngle = 1.6110731556870734;","const float steepness = 1.5;","const float EE = 1000.0;","float sunIntensity( float zenithAngleCos ) {","\tzenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );","\treturn EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );","}","vec3 totalMie( float T ) {","\tfloat c = ( 0.2 * T ) * 10E-18;","\treturn 0.434 * c * MieConst;","}","void main() {","\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );","\tvWorldPosition = worldPosition.xyz;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","\tgl_Position.z = gl_Position.w;","\tvSunDirection = normalize( sunPosition );","\tvSunE = sunIntensity( dot( vSunDirection, up ) );","\tvSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );","\tfloat rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );","\tvBetaR = totalRayleigh * rayleighCoefficient;","\tvBetaM = totalMie( turbidity ) * mieCoefficient;","}"].join("\n"),fragmentShader:["varying vec3 vWorldPosition;","varying vec3 vSunDirection;","varying float vSunfade;","varying vec3 vBetaR;","varying vec3 vBetaM;","varying float vSunE;","uniform float mieDirectionalG;","uniform vec3 up;","const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );","const float pi = 3.141592653589793238462643383279502884197169;","const float n = 1.0003;","const float N = 2.545E25;","const float rayleighZenithLength = 8.4E3;","const float mieZenithLength = 1.25E3;","const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;","const float THREE_OVER_SIXTEENPI = 0.05968310365946075;","const float ONE_OVER_FOURPI = 0.07957747154594767;","float rayleighPhase( float cosTheta ) {","\treturn THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );","}","float hgPhase( float cosTheta, float g ) {","\tfloat g2 = pow( g, 2.0 );","\tfloat inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );","\treturn ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );","}","void main() {","\tvec3 direction = normalize( vWorldPosition - cameraPos );","\tfloat zenithAngle = acos( max( 0.0, dot( up, direction ) ) );","\tfloat inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );","\tfloat sR = rayleighZenithLength * inverse;","\tfloat sM = mieZenithLength * inverse;","\tvec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );","\tfloat cosTheta = dot( direction, vSunDirection );","\tfloat rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );","\tvec3 betaRTheta = vBetaR * rPhase;","\tfloat mPhase = hgPhase( cosTheta, mieDirectionalG );","\tvec3 betaMTheta = vBetaM * mPhase;","\tvec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );","\tLin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );","\tfloat theta = acos( direction.y ); // elevation --\x3e y-axis, [-pi/2, pi/2]","\tfloat phi = atan( direction.z, direction.x ); // azimuth --\x3e x-axis [-pi/2, pi/2]","\tvec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );","\tvec3 L0 = vec3( 0.1 ) * Fex;","\tfloat sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );","\tL0 += ( vSunE * 19000.0 * Fex ) * sundisk;","\tvec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );","\tvec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );","\tgl_FragColor = vec4( retColor, 1.0 );","#include <tonemapping_fragment>","#include <encodings_fragment>","}"].join("\n")};var ve=function e(t,n){d.Mesh.call(this,t),this.type="Reflector";var r=this,i=void 0!==(n=n||{}).color?new d.Color(n.color):new d.Color(8355711),o=n.textureWidth||512,a=n.textureHeight||512,s=n.clipBias||0,l=n.shader||e.ReflectorShader,u=new d.Plane,c=new d.Vector3,f=new d.Vector3,h=new d.Vector3,p=new d.Matrix4,m=new d.Vector3(0,0,-1),v=new d.Vector4,g=new d.Vector3,y=new d.Vector3,_=new d.Vector4,b=new d.Matrix4,w=new d.PerspectiveCamera,x={minFilter:d.LinearFilter,magFilter:d.LinearFilter,format:d.RGBFormat,stencilBuffer:!1},A=new d.WebGLRenderTarget(o,a,x);d.MathUtils.isPowerOfTwo(o)&&d.MathUtils.isPowerOfTwo(a)||(A.texture.generateMipmaps=!1);var M=new d.ShaderMaterial({uniforms:d.UniformsUtils.clone(l.uniforms),fragmentShader:l.fragmentShader,vertexShader:l.vertexShader});M.uniforms.tDiffuse.value=A.texture,M.uniforms.color.value=i,M.uniforms.textureMatrix.value=b,this.material=M,this.onBeforeRender=function(e,t,n){if(f.setFromMatrixPosition(r.matrixWorld),h.setFromMatrixPosition(n.matrixWorld),p.extractRotation(r.matrixWorld),c.set(0,0,1),c.applyMatrix4(p),g.subVectors(f,h),!(g.dot(c)>0)){g.reflect(c).negate(),g.add(f),p.extractRotation(n.matrixWorld),m.set(0,0,-1),m.applyMatrix4(p),m.add(h),y.subVectors(f,m),y.reflect(c).negate(),y.add(f),w.position.copy(g),w.up.set(0,1,0),w.up.applyMatrix4(p),w.up.reflect(c),w.lookAt(y),w.far=n.far,w.updateMatrixWorld(),w.projectionMatrix.copy(n.projectionMatrix),b.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),b.multiply(w.projectionMatrix),b.multiply(w.matrixWorldInverse),b.multiply(r.matrixWorld),u.setFromNormalAndCoplanarPoint(c,f),u.applyMatrix4(w.matrixWorldInverse),v.set(u.normal.x,u.normal.y,u.normal.z,u.constant);var i=w.projectionMatrix;_.x=(Math.sign(v.x)+i.elements[8])/i.elements[0],_.y=(Math.sign(v.y)+i.elements[9])/i.elements[5],_.z=-1,_.w=(1+i.elements[10])/i.elements[14],v.multiplyScalar(2/v.dot(_)),i.elements[2]=v.x,i.elements[6]=v.y,i.elements[10]=v.z+1-s,i.elements[14]=v.w,A.texture.encoding=e.outputEncoding,r.visible=!1;var o=e.getRenderTarget(),a=e.xr.enabled,l=e.shadowMap.autoUpdate;e.xr.enabled=!1,e.shadowMap.autoUpdate=!1,e.setRenderTarget(A),e.state.buffers.depth.setMask(!0),!1===e.autoClear&&e.clear(),e.render(t,w),e.xr.enabled=a,e.shadowMap.autoUpdate=l,e.setRenderTarget(o);var d=n.viewport;void 0!==d&&e.state.viewport(d),r.visible=!0}},this.getRenderTarget=function(){return A}};(ve.prototype=Object.create(d.Mesh.prototype)).constructor=ve,ve.ReflectorShader={uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:["uniform mat4 textureMatrix;","varying vec4 vUv;","void main() {","\tvUv = textureMatrix * vec4( position, 1.0 );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform vec3 color;","uniform sampler2D tDiffuse;","varying vec4 vUv;","float blendOverlay( float base, float blend ) {","\treturn( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );","}","vec3 blendOverlay( vec3 base, vec3 blend ) {","\treturn vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );","}","void main() {","\tvec4 base = texture2DProj( tDiffuse, vUv );","\tgl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );","}"].join("\n")};var ge=function(){d.InstancedBufferGeometry.call(this),this.type="LineSegmentsGeometry";this.setIndex([0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5]),this.setAttribute("position",new d.Float32BufferAttribute([-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],3)),this.setAttribute("uv",new d.Float32BufferAttribute([-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],2))};ge.prototype=Object.assign(Object.create(d.InstancedBufferGeometry.prototype),{constructor:ge,isLineSegmentsGeometry:!0,applyMatrix4:function(e){var t=this.attributes.instanceStart,n=this.attributes.instanceEnd;return void 0!==t&&(t.applyMatrix4(e),n.applyMatrix4(e),t.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},setPositions:function(e){var t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));var n=new d.InstancedInterleavedBuffer(t,6,1);return this.setAttribute("instanceStart",new d.InterleavedBufferAttribute(n,3,0)),this.setAttribute("instanceEnd",new d.InterleavedBufferAttribute(n,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this},setColors:function(e){var t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));var n=new d.InstancedInterleavedBuffer(t,6,1);return this.setAttribute("instanceColorStart",new d.InterleavedBufferAttribute(n,3,0)),this.setAttribute("instanceColorEnd",new d.InterleavedBufferAttribute(n,3,3)),this},fromWireframeGeometry:function(e){return this.setPositions(e.attributes.position.array),this},fromEdgesGeometry:function(e){return this.setPositions(e.attributes.position.array),this},fromMesh:function(e){return this.fromWireframeGeometry(new d.WireframeGeometry(e.geometry)),this},fromLineSegments:function(e){var t=e.geometry;return t.isGeometry?this.setPositions(t.vertices):t.isBufferGeometry&&this.setPositions(t.attributes.position.array),this},computeBoundingBox:function(){var e=new d.Box3;return function(){null===this.boundingBox&&(this.boundingBox=new d.Box3);var t=this.attributes.instanceStart,n=this.attributes.instanceEnd;void 0!==t&&void 0!==n&&(this.boundingBox.setFromBufferAttribute(t),e.setFromBufferAttribute(n),this.boundingBox.union(e))}}(),computeBoundingSphere:function(){var e=new d.Vector3;return function(){null===this.boundingSphere&&(this.boundingSphere=new d.Sphere),null===this.boundingBox&&this.computeBoundingBox();var t=this.attributes.instanceStart,n=this.attributes.instanceEnd;if(void 0!==t&&void 0!==n){var r=this.boundingSphere.center;this.boundingBox.getCenter(r);for(var i=0,o=0,a=t.count;o<a;o++)e.fromBufferAttribute(t,o),i=Math.max(i,r.distanceToSquared(e)),e.fromBufferAttribute(n,o),i=Math.max(i,r.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}}(),toJSON:function(){},applyMatrix:function(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}});var ye=function(){ge.call(this),this.type="LineGeometry"};ye.prototype=Object.assign(Object.create(ge.prototype),{constructor:ye,isLineGeometry:!0,setPositions:function(e){for(var t=e.length-3,n=new Float32Array(2*t),r=0;r<t;r+=3)n[2*r]=e[r],n[2*r+1]=e[r+1],n[2*r+2]=e[r+2],n[2*r+3]=e[r+3],n[2*r+4]=e[r+4],n[2*r+5]=e[r+5];return ge.prototype.setPositions.call(this,n),this},setColors:function(e){for(var t=e.length-3,n=new Float32Array(2*t),r=0;r<t;r+=3)n[2*r]=e[r],n[2*r+1]=e[r+1],n[2*r+2]=e[r+2],n[2*r+3]=e[r+3],n[2*r+4]=e[r+4],n[2*r+5]=e[r+5];return ge.prototype.setColors.call(this,n),this},fromLine:function(e){var t=e.geometry;return t.isGeometry?this.setPositions(t.vertices):t.isBufferGeometry&&this.setPositions(t.attributes.position.array),this},copy:function(){return this}}),d.UniformsLib.line={linewidth:{value:1},resolution:{value:new d.Vector2(1,1)},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1},opacity:{value:1}},d.ShaderLib.line={uniforms:d.UniformsUtils.merge([d.UniformsLib.common,d.UniformsLib.fog,d.UniformsLib.line]),vertexShader:"\n\t\t#include <common>\n\t\t#include <color_pars_vertex>\n\t\t#include <fog_pars_vertex>\n\t\t#include <logdepthbuf_pars_vertex>\n\t\t#include <clipping_planes_pars_vertex>\n\n\t\tuniform float linewidth;\n\t\tuniform vec2 resolution;\n\n\t\tattribute vec3 instanceStart;\n\t\tattribute vec3 instanceEnd;\n\n\t\tattribute vec3 instanceColorStart;\n\t\tattribute vec3 instanceColorEnd;\n\n\t\tvarying vec2 vUv;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashScale;\n\t\t\tattribute float instanceDistanceStart;\n\t\t\tattribute float instanceDistanceEnd;\n\t\t\tvarying float vLineDistance;\n\n\t\t#endif\n\n\t\tvoid trimSegment( const in vec4 start, inout vec4 end ) {\n\n\t\t\t// trim end segment so it terminates between the camera plane and the near plane\n\n\t\t\t// conservative estimate of the near plane\n\t\t\tfloat a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column\n\t\t\tfloat b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column\n\t\t\tfloat nearEstimate = - 0.5 * b / a;\n\n\t\t\tfloat alpha = ( nearEstimate - start.z ) / ( end.z - start.z );\n\n\t\t\tend.xyz = mix( start.xyz, end.xyz, alpha );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\t#ifdef USE_COLOR\n\n\t\t\t\tvColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;\n\n\t\t\t#endif\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tvLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;\n\n\t\t\t#endif\n\n\t\t\tfloat aspect = resolution.x / resolution.y;\n\n\t\t\tvUv = uv;\n\n\t\t\t// camera space\n\t\t\tvec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );\n\t\t\tvec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );\n\n\t\t\t// special case for perspective projection, and segments that terminate either in, or behind, the camera plane\n\t\t\t// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space\n\t\t\t// but we need to perform ndc-space calculations in the shader, so we must address this issue directly\n\t\t\t// perhaps there is a more elegant solution -- WestLangley\n\n\t\t\tbool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column\n\n\t\t\tif ( perspective ) {\n\n\t\t\t\tif ( start.z < 0.0 && end.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( start, end );\n\n\t\t\t\t} else if ( end.z < 0.0 && start.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( end, start );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// clip space\n\t\t\tvec4 clipStart = projectionMatrix * start;\n\t\t\tvec4 clipEnd = projectionMatrix * end;\n\n\t\t\t// ndc space\n\t\t\tvec2 ndcStart = clipStart.xy / clipStart.w;\n\t\t\tvec2 ndcEnd = clipEnd.xy / clipEnd.w;\n\n\t\t\t// direction\n\t\t\tvec2 dir = ndcEnd - ndcStart;\n\n\t\t\t// account for clip-space aspect ratio\n\t\t\tdir.x *= aspect;\n\t\t\tdir = normalize( dir );\n\n\t\t\t// perpendicular to dir\n\t\t\tvec2 offset = vec2( dir.y, - dir.x );\n\n\t\t\t// undo aspect ratio adjustment\n\t\t\tdir.x /= aspect;\n\t\t\toffset.x /= aspect;\n\n\t\t\t// sign flip\n\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\n\n\t\t\t// endcaps\n\t\t\tif ( position.y < 0.0 ) {\n\n\t\t\t\toffset += - dir;\n\n\t\t\t} else if ( position.y > 1.0 ) {\n\n\t\t\t\toffset += dir;\n\n\t\t\t}\n\n\t\t\t// adjust for linewidth\n\t\t\toffset *= linewidth;\n\n\t\t\t// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...\n\t\t\toffset /= resolution.y;\n\n\t\t\t// select end\n\t\t\tvec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;\n\n\t\t\t// back to clip space\n\t\t\toffset *= clip.w;\n\n\t\t\tclip.xy += offset;\n\n\t\t\tgl_Position = clip;\n\n\t\t\tvec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation\n\n\t\t\t#include <logdepthbuf_vertex>\n\t\t\t#include <clipping_planes_vertex>\n\t\t\t#include <fog_vertex>\n\n\t\t}\n\t\t",fragmentShader:"\n\t\tuniform vec3 diffuse;\n\t\tuniform float opacity;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashSize;\n\t\t\tuniform float gapSize;\n\n\t\t#endif\n\n\t\tvarying float vLineDistance;\n\n\t\t#include <common>\n\t\t#include <color_pars_fragment>\n\t\t#include <fog_pars_fragment>\n\t\t#include <logdepthbuf_pars_fragment>\n\t\t#include <clipping_planes_pars_fragment>\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\t#include <clipping_planes_fragment>\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tif ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps\n\n\t\t\t\tif ( mod( vLineDistance, dashSize + gapSize ) > dashSize ) discard; // todo - FIX\n\n\t\t\t#endif\n\n\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\tfloat a = vUv.x;\n\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\t\tfloat len2 = a * a + b * b;\n\n\t\t\t\tif ( len2 > 1.0 ) discard;\n\n\t\t\t}\n\n\t\t\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t\t\t#include <logdepthbuf_fragment>\n\t\t\t#include <color_fragment>\n\n\t\t\tgl_FragColor = vec4( diffuseColor.rgb, diffuseColor.a );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <encodings_fragment>\n\t\t\t#include <fog_fragment>\n\t\t\t#include <premultiplied_alpha_fragment>\n\n\t\t}\n\t\t"};var _e=function(e){d.ShaderMaterial.call(this,{type:"LineMaterial",uniforms:d.UniformsUtils.clone(d.ShaderLib.line.uniforms),vertexShader:d.ShaderLib.line.vertexShader,fragmentShader:d.ShaderLib.line.fragmentShader,clipping:!0}),this.dashed=!1,Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(e){this.uniforms.diffuse.value=e}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(e){this.uniforms.linewidth.value=e}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(e){this.uniforms.dashScale.value=e}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(e){this.uniforms.dashSize.value=e}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(e){this.uniforms.gapSize.value=e}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(e){this.uniforms.opacity.value=e}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(e){this.uniforms.resolution.value.copy(e)}}}),this.setValues(e)};(_e.prototype=Object.create(d.ShaderMaterial.prototype)).constructor=_e,_e.prototype.isLineMaterial=!0;var be=function(e,t){d.Mesh.call(this),this.type="LineSegments2",this.geometry=void 0!==e?e:new ge,this.material=void 0!==t?t:new _e({color:16777215*Math.random()})};be.prototype=Object.assign(Object.create(d.Mesh.prototype),{constructor:be,isLineSegments2:!0,computeLineDistances:function(){var e=new d.Vector3,t=new d.Vector3;return function(){for(var n=this.geometry,r=n.attributes.instanceStart,i=n.attributes.instanceEnd,o=new Float32Array(2*r.data.count),a=0,s=0,l=r.data.count;a<l;a++,s+=2)e.fromBufferAttribute(r,a),t.fromBufferAttribute(i,a),o[s]=0===s?0:o[s-1],o[s+1]=o[s]+e.distanceTo(t);var u=new d.InstancedInterleavedBuffer(o,2,1);return n.setAttribute("instanceDistanceStart",new d.InterleavedBufferAttribute(u,1,0)),n.setAttribute("instanceDistanceEnd",new d.InterleavedBufferAttribute(u,1,1)),this}}(),raycast:function(){var e=new d.Vector4,t=new d.Vector4,n=new d.Vector4,r=new d.Vector3,i=new d.Matrix4,o=new d.Line3,a=new d.Vector3;return function(s,l){null===s.camera&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2.');var u=s.ray,c=s.camera,f=c.projectionMatrix,h=this.geometry,p=this.material,m=p.resolution,v=p.linewidth,g=h.attributes.instanceStart,y=h.attributes.instanceEnd;u.at(1,n),n.w=1,n.applyMatrix4(c.matrixWorldInverse),n.applyMatrix4(f),n.multiplyScalar(1/n.w),n.x*=m.x/2,n.y*=m.y/2,n.z=0,r.copy(n);var _=this.matrixWorld;i.multiplyMatrices(c.matrixWorldInverse,_);for(var b=0,w=g.count;b<w;b++){e.fromBufferAttribute(g,b),t.fromBufferAttribute(y,b),e.w=1,t.w=1,e.applyMatrix4(i),t.applyMatrix4(i),e.applyMatrix4(f),t.applyMatrix4(f),e.multiplyScalar(1/e.w),t.multiplyScalar(1/t.w);var x=e.z<-1&&t.z<-1,A=e.z>1&&t.z>1;if(!x&&!A){e.x*=m.x/2,e.y*=m.y/2,t.x*=m.x/2,t.y*=m.y/2,o.start.copy(e),o.start.z=0,o.end.copy(t),o.end.z=0;var M=o.closestPointToPointParameter(r,!0);o.at(M,a);var S=d.MathUtils.lerp(e.z,t.z,M),C=S>=-1&&S<=1,E=r.distanceTo(a)<.5*v;if(C&&E){o.start.fromBufferAttribute(g,b),o.end.fromBufferAttribute(y,b),o.start.applyMatrix4(_),o.end.applyMatrix4(_);var I=new d.Vector3,T=new d.Vector3;u.distanceSqToSegment(o.start,o.end,T,I),l.push({point:T,pointOnLine:I,distance:u.origin.distanceTo(T),object:this,face:null,faceIndex:b,uv:null,uv2:null})}}}}}()});var we=function(e,t){be.call(this),this.type="Line2",this.geometry=void 0!==e?e:new ye,this.material=void 0!==t?t:new _e({color:16777215*Math.random()})};we.prototype=Object.assign(Object.create(be.prototype),{constructor:we,isLine2:!0});var xe=function(e){d.Loader.call(this,e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}};xe.prototype=Object.assign(Object.create(d.Loader.prototype),{constructor:xe,setDecoderPath:function(e){return this.decoderPath=e,this},setDecoderConfig:function(e){return this.decoderConfig=e,this},setWorkerLimit:function(e){return this.workerLimit=e,this},setVerbosity:function(){console.warn("THREE.DRACOLoader: The .setVerbosity() method has been removed.")},setDrawMode:function(){console.warn("THREE.DRACOLoader: The .setDrawMode() method has been removed.")},setSkipDequantization:function(){console.warn("THREE.DRACOLoader: The .setSkipDequantization() method has been removed.")},load:function(e,t,n,r){var i=this,o=new d.FileLoader(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),"use-credentials"===this.crossOrigin&&o.setWithCredentials(!0),o.load(e,function(e){var n={attributeIDs:i.defaultAttributeIDs,attributeTypes:i.defaultAttributeTypes,useUniqueIDs:!1};i.decodeGeometry(e,n).then(t).catch(r)},n,r)},decodeDracoFile:function(e,t,n,r){var i={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(e,i).then(t)},decodeGeometry:function(e,t){var n=this;for(var r in t.attributeTypes){var i=t.attributeTypes[r];void 0!==i.BYTES_PER_ELEMENT&&(t.attributeTypes[r]=i.name)}var o,a=JSON.stringify(t);if(xe.taskCache.has(e)){var s=xe.taskCache.get(e);if(s.key===a)return s.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}var l=this.workerNextTaskID++,u=e.byteLength,c=this._getWorker(l,u).then(function(n){return o=n,new Promise(function(n,r){o._callbacks[l]={resolve:n,reject:r},o.postMessage({type:"decode",id:l,taskConfig:t,buffer:e},[e])})}).then(function(e){return n._createGeometry(e.geometry)});return c.catch(function(){return!0}).then(function(){o&&l&&n._releaseTask(o,l)}),xe.taskCache.set(e,{key:a,promise:c}),c},_createGeometry:function(e){var t=new d.BufferGeometry;e.index&&t.setIndex(new d.BufferAttribute(e.index.array,1));for(var n=0;n<e.attributes.length;n++){var r=e.attributes[n],i=r.name,o=r.array,a=r.itemSize;t.setAttribute(i,new d.BufferAttribute(o,a))}return t},_loadLibrary:function(e,t){var n=new d.FileLoader(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),new Promise(function(t,r){n.load(e,t,void 0,r)})},preload:function(){return this._initDecoder(),this},_initDecoder:function(){var e=this;if(this.decoderPending)return this.decoderPending;var t="object"!==typeof WebAssembly||"js"===this.decoderConfig.type,n=[];return t?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(function(n){var r=n[0];t||(e.decoderConfig.wasmBinary=n[1]);var i=xe.DRACOWorker.toString(),o=["/* draco decoder */",r,"","/* worker */",i.substring(i.indexOf("{")+1,i.lastIndexOf("}"))].join("\n");e.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending},_getWorker:function(e,t){var n=this;return this._initDecoder().then(function(){var r;n.workerPool.length<n.workerLimit?((r=new Worker(n.workerSourceURL))._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:n.decoderConfig}),r.onmessage=function(e){var t=e.data;switch(t.type){case"decode":r._callbacks[t.id].resolve(t);break;case"error":r._callbacks[t.id].reject(t);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+t.type+'"')}},n.workerPool.push(r)):n.workerPool.sort(function(e,t){return e._taskLoad>t._taskLoad?-1:1});return(r=n.workerPool[n.workerPool.length-1])._taskCosts[e]=t,r._taskLoad+=t,r})},_releaseTask:function(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]},debug:function(){console.log("Task load: ",this.workerPool.map(function(e){return e._taskLoad}))},dispose:function(){for(var e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}),xe.DRACOWorker=function(){var e,t;function n(e,t,n,r,i,o){var a,s,l=o.num_components(),u=n.num_points()*l;switch(i){case Float32Array:a=new e.DracoFloat32Array,t.GetAttributeFloatForAllPoints(n,o,a),s=new Float32Array(u);break;case Int8Array:a=new e.DracoInt8Array,t.GetAttributeInt8ForAllPoints(n,o,a),s=new Int8Array(u);break;case Int16Array:a=new e.DracoInt16Array,t.GetAttributeInt16ForAllPoints(n,o,a),s=new Int16Array(u);break;case Int32Array:a=new e.DracoInt32Array,t.GetAttributeInt32ForAllPoints(n,o,a),s=new Int32Array(u);break;case Uint8Array:a=new e.DracoUInt8Array,t.GetAttributeUInt8ForAllPoints(n,o,a),s=new Uint8Array(u);break;case Uint16Array:a=new e.DracoUInt16Array,t.GetAttributeUInt16ForAllPoints(n,o,a),s=new Uint16Array(u);break;case Uint32Array:a=new e.DracoUInt32Array,t.GetAttributeUInt32ForAllPoints(n,o,a),s=new Uint32Array(u);break;default:throw new Error("THREE.DRACOLoader: Unexpected attribute type.")}for(var c=0;c<u;c++)s[c]=a.GetValue(c);return e.destroy(a),{name:r,array:s,itemSize:l}}onmessage=function(r){var i=r.data;switch(i.type){case"init":e=i.decoderConfig,t=new Promise(function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)});break;case"decode":var o=i.buffer,a=i.taskConfig;t.then(function(e){var t=e.draco,r=new t.Decoder,s=new t.DecoderBuffer;s.Init(new Int8Array(o),o.byteLength);try{var l=function(e,t,r,i){var o,a,s=i.attributeIDs,l=i.attributeTypes,u=t.GetEncodedGeometryType(r);if(u===e.TRIANGULAR_MESH)o=new e.Mesh,a=t.DecodeBufferToMesh(r,o);else{if(u!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");o=new e.PointCloud,a=t.DecodeBufferToPointCloud(r,o)}if(!a.ok()||0===o.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+a.error_msg());var c={index:null,attributes:[]};for(var f in s){var h,d,p=self[l[f]];if(i.useUniqueIDs)d=s[f],h=t.GetAttributeByUniqueId(o,d);else{if(-1===(d=t.GetAttributeId(o,e[s[f]])))continue;h=t.GetAttribute(o,d)}c.attributes.push(n(e,t,o,f,p,h))}if(u===e.TRIANGULAR_MESH){for(var m=o.num_faces(),v=3*m,g=new Uint32Array(v),y=new e.DracoInt32Array,_=0;_<m;++_){t.GetFaceFromMesh(o,_,y);for(var b=0;b<3;++b)g[3*_+b]=y.GetValue(b)}c.index={array:g,itemSize:1},e.destroy(y)}return e.destroy(o),c}(t,r,s,a),u=l.attributes.map(function(e){return e.array.buffer});l.index&&u.push(l.index.array.buffer),self.postMessage({type:"decode",id:i.id,geometry:l},u)}catch(c){console.error(c),self.postMessage({type:"error",id:i.id,error:c.message})}finally{t.destroy(s),t.destroy(r)}})}}},xe.taskCache=new WeakMap,xe.setDecoderPath=function(){console.warn("THREE.DRACOLoader: The .setDecoderPath() method has been removed. Use instance methods.")},xe.setDecoderConfig=function(){console.warn("THREE.DRACOLoader: The .setDecoderConfig() method has been removed. Use instance methods.")},xe.releaseDecoderModule=function(){console.warn("THREE.DRACOLoader: The .releaseDecoderModule() method has been removed. Use instance methods.")},xe.getDecoderModule=function(){console.warn("THREE.DRACOLoader: The .getDecoderModule() method has been removed. Use instance methods.")};!function(){function e(e){d.Loader.call(this,e),this.dracoLoader=null,this.ddsLoader=null,this.ktx2Loader=null,this.pluginCallbacks=[],this.register(function(e){return new a(e)}),this.register(function(e){return new l(e)}),this.register(function(e){return new s(e)})}function t(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}e.prototype=Object.assign(Object.create(d.Loader.prototype),{constructor:e,load:function(e,t,n,r){var i,o=this;i=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:d.LoaderUtils.extractUrlBase(e),o.manager.itemStart(e);var a=function(t){r?r(t):console.error(t),o.manager.itemError(e),o.manager.itemEnd(e)},s=new d.FileLoader(o.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),"use-credentials"===o.crossOrigin&&s.setWithCredentials(!0),s.load(e,function(n){try{o.parse(n,i,function(n){t(n),o.manager.itemEnd(e)},a)}catch(r){a(r)}},n,a)},setDRACOLoader:function(e){return this.dracoLoader=e,this},setDDSLoader:function(e){return this.ddsLoader=e,this},setKTX2Loader:function(e){return this.ktx2Loader=e,this},register:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this},unregister:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this},parse:function(e,t,a,s){var l,c={},f={};if("string"===typeof e)l=e;else if(d.LoaderUtils.decodeText(new Uint8Array(e,0,4))===u){try{c[n.KHR_BINARY_GLTF]=new h(e)}catch(M){return void(s&&s(M))}l=c[n.KHR_BINARY_GLTF].content}else l=d.LoaderUtils.decodeText(new Uint8Array(e));var v=JSON.parse(l);if(void 0===v.asset||v.asset.version[0]<2)s&&s(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var _=new B(v,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager,ktx2Loader:this.ktx2Loader});_.fileLoader.setRequestHeader(this.requestHeader);for(var b=0;b<this.pluginCallbacks.length;b++){var w=this.pluginCallbacks[b](_);f[w.name]=w,c[w.name]=!0}if(v.extensionsUsed)for(b=0;b<v.extensionsUsed.length;++b){var x=v.extensionsUsed[b],A=v.extensionsRequired||[];switch(x){case n.KHR_LIGHTS_PUNCTUAL:c[x]=new i(v);break;case n.KHR_MATERIALS_UNLIT:c[x]=new o;break;case n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:c[x]=new g;break;case n.KHR_DRACO_MESH_COMPRESSION:c[x]=new p(v,this.dracoLoader);break;case n.MSFT_TEXTURE_DDS:c[x]=new r(this.ddsLoader);break;case n.KHR_TEXTURE_TRANSFORM:c[x]=new m;break;case n.KHR_MESH_QUANTIZATION:c[x]=new y;break;default:A.indexOf(x)>=0&&void 0===f[x]&&console.warn('THREE.GLTFLoader: Unknown extension "'+x+'".')}}_.setExtensions(c),_.setPlugins(f),_.parse(a,s)}}});var n={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function r(e){if(!e)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader");this.name=n.MSFT_TEXTURE_DDS,this.ddsLoader=e}function i(e){this.name=n.KHR_LIGHTS_PUNCTUAL;var t=e.extensions&&e.extensions[n.KHR_LIGHTS_PUNCTUAL]||{};this.lightDefs=t.lights||[]}function o(){this.name=n.KHR_MATERIALS_UNLIT}function a(e){this.parser=e,this.name=n.KHR_MATERIALS_CLEARCOAT}function s(e){this.parser=e,this.name=n.KHR_MATERIALS_TRANSMISSION}function l(e){this.parser=e,this.name=n.KHR_TEXTURE_BASISU}i.prototype.loadLight=function(e){var t,n=this.lightDefs[e],r=new d.Color(16777215);void 0!==n.color&&r.fromArray(n.color);var i=void 0!==n.range?n.range:0;switch(n.type){case"directional":(t=new d.DirectionalLight(r)).target.position.set(0,0,-1),t.add(t.target);break;case"point":(t=new d.PointLight(r)).distance=i;break;case"spot":(t=new d.SpotLight(r)).distance=i,n.spot=n.spot||{},n.spot.innerConeAngle=void 0!==n.spot.innerConeAngle?n.spot.innerConeAngle:0,n.spot.outerConeAngle=void 0!==n.spot.outerConeAngle?n.spot.outerConeAngle:Math.PI/4,t.angle=n.spot.outerConeAngle,t.penumbra=1-n.spot.innerConeAngle/n.spot.outerConeAngle,t.target.position.set(0,0,-1),t.add(t.target);break;default:throw new Error('THREE.GLTFLoader: Unexpected light type, "'+n.type+'".')}return t.position.set(0,0,0),t.decay=2,void 0!==n.intensity&&(t.intensity=n.intensity),t.name=n.name||"light_"+e,Promise.resolve(t)},o.prototype.getMaterialType=function(){return d.MeshBasicMaterial},o.prototype.extendParams=function(e,t,n){var r=[];e.color=new d.Color(1,1,1),e.opacity=1;var i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){var o=i.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}void 0!==i.baseColorTexture&&r.push(n.assignTexture(e,"map",i.baseColorTexture))}return Promise.all(r)},a.prototype.getMaterialType=function(){return d.MeshPhysicalMaterial},a.prototype.extendMaterialParams=function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],o=r.extensions[this.name];if(void 0!==o.clearcoatFactor&&(t.clearcoat=o.clearcoatFactor),void 0!==o.clearcoatTexture&&i.push(n.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),void 0!==o.clearcoatRoughnessFactor&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),void 0!==o.clearcoatRoughnessTexture&&i.push(n.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),void 0!==o.clearcoatNormalTexture&&(i.push(n.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),void 0!==o.clearcoatNormalTexture.scale)){var a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new d.Vector2(a,a)}return Promise.all(i)},s.prototype.getMaterialType=function(){return d.MeshPhysicalMaterial},s.prototype.extendMaterialParams=function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],o=r.extensions[this.name];return void 0!==o.transmissionFactor&&(t.transmission=o.transmissionFactor),void 0!==o.transmissionTexture&&i.push(n.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(i)},l.prototype.loadTexture=function(e){var t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;var i=r.extensions[this.name],o=n.images[i.source],a=t.options.ktx2Loader;if(!a)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return t.loadTextureImage(e,o,a)};var u="glTF",c=12,f={JSON:1313821514,BIN:5130562};function h(e){this.name=n.KHR_BINARY_GLTF,this.content=null,this.body=null;var t=new DataView(e,0,c);if(this.header={magic:d.LoaderUtils.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==u)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var r=new DataView(e,c),i=0;i<r.byteLength;){var o=r.getUint32(i,!0);i+=4;var a=r.getUint32(i,!0);if(i+=4,a===f.JSON){var s=new Uint8Array(e,c+i,o);this.content=d.LoaderUtils.decodeText(s)}else if(a===f.BIN){var l=c+i;this.body=e.slice(l,l+o)}i+=o}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function p(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=n.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}function m(){this.name=n.KHR_TEXTURE_TRANSFORM}function v(e){d.MeshStandardMaterial.call(this),this.isGLTFSpecularGlossinessMaterial=!0;var t=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),n=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),r=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),i=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 );// 0.0525 corresponds to the base mip of a 256 cubemap.","material.specularRoughness += geometryRoughness;","material.specularRoughness = min( material.specularRoughness, 1.0 );","material.specularColor = specularFactor.rgb;"].join("\n"),a={specular:{value:(new d.Color).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(e){for(var s in a)e.uniforms[s]=a[s];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;"),e.fragmentShader=e.fragmentShader.replace("uniform float metalness;","uniform float glossiness;"),e.fragmentShader=e.fragmentShader.replace("#include <roughnessmap_pars_fragment>",t),e.fragmentShader=e.fragmentShader.replace("#include <metalnessmap_pars_fragment>",n),e.fragmentShader=e.fragmentShader.replace("#include <roughnessmap_fragment>",r),e.fragmentShader=e.fragmentShader.replace("#include <metalnessmap_fragment>",i),e.fragmentShader=e.fragmentShader.replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(e){a.specular.value=e}},specularMap:{get:function(){return a.specularMap.value},set:function(e){a.specularMap.value=e}},glossiness:{get:function(){return a.glossiness.value},set:function(e){a.glossiness.value=e}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(e){a.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_ROUGHNESSMAP=""):(delete this.defines.USE_ROUGHNESSMAP,delete this.defines.USE_GLOSSINESSMAP)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}function g(){return{name:n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return v},extendParams:function(e,t,n){var r=t.extensions[this.name];e.color=new d.Color(1,1,1),e.opacity=1;var i=[];if(Array.isArray(r.diffuseFactor)){var o=r.diffuseFactor;e.color.fromArray(o),e.opacity=o[3]}if(void 0!==r.diffuseTexture&&i.push(n.assignTexture(e,"map",r.diffuseTexture)),e.emissive=new d.Color(0,0,0),e.glossiness=void 0!==r.glossinessFactor?r.glossinessFactor:1,e.specular=new d.Color(1,1,1),Array.isArray(r.specularFactor)&&e.specular.fromArray(r.specularFactor),void 0!==r.specularGlossinessTexture){var a=r.specularGlossinessTexture;i.push(n.assignTexture(e,"glossinessMap",a)),i.push(n.assignTexture(e,"specularMap",a))}return Promise.all(i)},createMaterial:function(e){var t=new v(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=d.TangentSpaceNormalMap,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}}function y(){this.name=n.KHR_MESH_QUANTIZATION}function _(e,t,n,r){d.Interpolant.call(this,e,t,n,r)}p.prototype.decodePrimitive=function(e,t){var n=this.json,r=this.dracoLoader,i=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},s={},l={};for(var u in o){var c=z[u]||u.toLowerCase();a[c]=o[u]}for(u in e.attributes){c=z[u]||u.toLowerCase();if(void 0!==o[u]){var f=n.accessors[e.attributes[u]],h=E[f.componentType];l[c]=h,s[c]=!0===f.normalized}}return t.getDependency("bufferView",i).then(function(e){return new Promise(function(t){r.decodeDracoFile(e,function(e){for(var n in e.attributes){var r=e.attributes[n],i=s[n];void 0!==i&&(r.normalized=i)}t(e)},a,l)})})},m.prototype.extendTexture=function(e,t){return e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),e.needsUpdate=!0,e},v.prototype=Object.create(d.MeshStandardMaterial.prototype),v.prototype.constructor=v,v.prototype.copy=function(e){return d.MeshStandardMaterial.prototype.copy.call(this,e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this},_.prototype=Object.create(d.Interpolant.prototype),_.prototype.constructor=_,_.prototype.copySampleValue_=function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r*3+r,o=0;o!==r;o++)t[o]=n[i+o];return t},_.prototype.beforeStart_=_.prototype.copySampleValue_,_.prototype.afterEnd_=_.prototype.copySampleValue_,_.prototype.interpolate_=function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=2*a,l=3*a,u=r-t,c=(n-t)/u,f=c*c,h=f*c,d=e*l,p=d-l,m=-2*h+3*f,v=h-f,g=1-m,y=v-f+c,_=0;_!==a;_++){var b=o[p+_+a],w=o[p+_+s]*u,x=o[d+_+a],A=o[d+_]*u;i[_]=g*b+y*w+m*x+v*A}return i};var b=0,w=1,x=2,A=3,M=4,S=5,C=6,E={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},I={9728:d.NearestFilter,9729:d.LinearFilter,9984:d.NearestMipmapNearestFilter,9985:d.LinearMipmapNearestFilter,9986:d.NearestMipmapLinearFilter,9987:d.LinearMipmapLinearFilter},T={33071:d.ClampToEdgeWrapping,33648:d.MirroredRepeatWrapping,10497:d.RepeatWrapping},L={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},z={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},k={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},D={CUBICSPLINE:void 0,LINEAR:d.InterpolateLinear,STEP:d.InterpolateDiscrete},O="OPAQUE",N="MASK",j="BLEND",P={"image/png":d.RGBAFormat,"image/jpeg":d.RGBFormat};function R(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)?e:/^data:.*,.*$/i.test(e)?e:/^blob:.*$/i.test(e)?e:t+e)}function $(e,t,n){for(var r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function F(e,t){void 0!==t.extras&&("object"===typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function K(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){var i=t.extras.targetNames;if(e.morphTargetInfluences.length===i.length){e.morphTargetDictionary={};for(n=0,r=i.length;n<r;n++)e.morphTargetDictionary[i[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function U(e){var t=e.extensions&&e.extensions[n.KHR_DRACO_MESH_COMPRESSION];return t?"draco:"+t.bufferView+":"+t.indices+":"+V(t.attributes):e.indices+":"+V(e.attributes)+":"+e.mode}function V(e){for(var t="",n=Object.keys(e).sort(),r=0,i=n.length;r<i;r++)t+=n[r]+":"+e[n[r]]+";";return t}function B(e,n){this.json=e||{},this.extensions={},this.plugins={},this.options=n||{},this.cache=new t,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},"undefined"!==typeof createImageBitmap&&!1===/Firefox/.test(navigator.userAgent)?this.textureLoader=new d.ImageBitmapLoader(this.options.manager):this.textureLoader=new d.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new d.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}function H(e,t,n){var r=t.attributes,i=[];function o(t,r){return n.getDependency("accessor",t).then(function(t){e.setAttribute(r,t)})}for(var a in r){var s=z[a]||a.toLowerCase();s in e.attributes||i.push(o(r[a],s))}if(void 0!==t.indices&&!e.index){var l=n.getDependency("accessor",t.indices).then(function(t){e.setIndex(t)});i.push(l)}return F(e,t),function(e,t,n){var r=t.attributes,i=new d.Box3;if(void 0!==r.POSITION){var o=(h=n.json.accessors[r.POSITION]).min,a=h.max;if(void 0!==o&&void 0!==a){i.set(new d.Vector3(o[0],o[1],o[2]),new d.Vector3(a[0],a[1],a[2]));var s=t.targets;if(void 0!==s){for(var l=new d.Vector3,u=new d.Vector3,c=0,f=s.length;c<f;c++){var h,p=s[c];if(void 0!==p.POSITION)o=(h=n.json.accessors[p.POSITION]).min,a=h.max,void 0!==o&&void 0!==a?(u.setX(Math.max(Math.abs(o[0]),Math.abs(a[0]))),u.setY(Math.max(Math.abs(o[1]),Math.abs(a[1]))),u.setZ(Math.max(Math.abs(o[2]),Math.abs(a[2]))),l.max(u)):console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}i.expandByVector(l)}e.boundingBox=i;var m=new d.Sphere;i.getCenter(m.center),m.radius=i.min.distanceTo(i.max)/2,e.boundingSphere=m}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(e,t,n),Promise.all(i).then(function(){return void 0!==t.targets?function(e,t,n){for(var r=!1,i=!1,o=0,a=t.length;o<a&&(void 0!==(u=t[o]).POSITION&&(r=!0),void 0!==u.NORMAL&&(i=!0),!r||!i);o++);if(!r&&!i)return Promise.resolve(e);var s=[],l=[];for(o=0,a=t.length;o<a;o++){var u=t[o];if(r){var c=void 0!==u.POSITION?n.getDependency("accessor",u.POSITION):e.attributes.position;s.push(c)}i&&(c=void 0!==u.NORMAL?n.getDependency("accessor",u.NORMAL):e.attributes.normal,l.push(c))}return Promise.all([Promise.all(s),Promise.all(l)]).then(function(t){var n=t[0],o=t[1];return r&&(e.morphAttributes.position=n),i&&(e.morphAttributes.normal=o),e.morphTargetsRelative=!0,e})}(e,t.targets,n):e})}function G(e,t){var n=e.getIndex();if(null===n){var r=[],i=e.getAttribute("position");if(void 0===i)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var o=0;o<i.count;o++)r.push(o);e.setIndex(r),n=e.getIndex()}var a=n.count-2,s=[];if(t===d.TriangleFanDrawMode)for(o=1;o<=a;o++)s.push(n.getX(0)),s.push(n.getX(o)),s.push(n.getX(o+1));else for(o=0;o<a;o++)o%2===0?(s.push(n.getX(o)),s.push(n.getX(o+1)),s.push(n.getX(o+2))):(s.push(n.getX(o+2)),s.push(n.getX(o+1)),s.push(n.getX(o)));s.length/3!==a&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var l=e.clone();return l.setIndex(s),l}B.prototype.setExtensions=function(e){this.extensions=e},B.prototype.setPlugins=function(e){this.plugins=e},B.prototype.parse=function(e,t){var n=this,r=this.json,i=this.extensions;this.cache.removeAll(),this._markDefs(),Promise.all([this.getDependencies("scene"),this.getDependencies("animation"),this.getDependencies("camera")]).then(function(t){var o={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};$(i,o,r),F(o,r),e(o)}).catch(t)},B.prototype._markDefs=function(){for(var e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[],i=0,o=t.length;i<o;i++)for(var a=t[i].joints,s=0,l=a.length;s<l;s++)e[a[s]].isBone=!0;for(var u=0,c=e.length;u<c;u++){var f=e[u];void 0!==f.mesh&&(this._addNodeRef(this.meshCache,f.mesh),void 0!==f.skin&&(r[f.mesh].isSkinnedMesh=!0)),void 0!==f.camera&&this._addNodeRef(this.cameraCache,f.camera),f.extensions&&f.extensions[n.KHR_LIGHTS_PUNCTUAL]&&void 0!==f.extensions[n.KHR_LIGHTS_PUNCTUAL].light&&this._addNodeRef(this.lightCache,f.extensions[n.KHR_LIGHTS_PUNCTUAL].light)}},B.prototype._addNodeRef=function(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)},B.prototype._getNodeRef=function(e,t,n){if(e.refs[t]<=1)return n;var r=n.clone();return r.name+="_instance_"+e.uses[t]++,r},B.prototype._invokeOne=function(e){var t=Object.values(this.plugins);t.push(this);for(var n=0;n<t.length;n++){var r=e(t[n]);if(r)return r}},B.prototype._invokeAll=function(e){var t=Object.values(this.plugins);t.unshift(this);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r]));return Promise.all(n)},B.prototype.getDependency=function(e,t){var r=e+":"+t,i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this.loadNode(t);break;case"mesh":i=this._invokeOne(function(e){return e.loadMesh&&e.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(e){return e.loadBufferView&&e.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(e){return e.loadMaterial&&e.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(e){return e.loadTexture&&e.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this.loadAnimation(t);break;case"camera":i=this.loadCamera(t);break;case"light":i=this.extensions[n.KHR_LIGHTS_PUNCTUAL].loadLight(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(r,i)}return i},B.prototype.getDependencies=function(e){var t=this.cache.get(e);if(!t){var n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map(function(t,r){return n.getDependency(e,r)})),this.cache.add(e,t)}return t},B.prototype.loadBuffer=function(e){var t=this.json.buffers[e],r=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[n.KHR_BINARY_GLTF].body);var i=this.options;return new Promise(function(e,n){r.load(R(t.uri,i.path),e,void 0,function(){n(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})},B.prototype.loadBufferView=function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(e){var n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)})},B.prototype.loadAccessor=function(e){var t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse)return Promise.resolve(null);var i=[];return void 0!==r.bufferView?i.push(this.getDependency("bufferView",r.bufferView)):i.push(null),void 0!==r.sparse&&(i.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(i).then(function(e){var i,o,a=e[0],s=L[r.type],l=E[r.componentType],u=l.BYTES_PER_ELEMENT,c=u*s,f=r.byteOffset||0,h=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,p=!0===r.normalized;if(h&&h!==c){var m=Math.floor(f/h),v="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+m+":"+r.count,g=t.cache.get(v);g||(i=new l(a,m*h,r.count*h/u),g=new d.InterleavedBuffer(i,h/u),t.cache.add(v,g)),o=new d.InterleavedBufferAttribute(g,s,f%h/u,p)}else i=null===a?new l(r.count*s):new l(a,f,r.count*s),o=new d.BufferAttribute(i,s,p);if(void 0!==r.sparse){var y=L.SCALAR,_=E[r.sparse.indices.componentType],b=r.sparse.indices.byteOffset||0,w=r.sparse.values.byteOffset||0,x=new _(e[1],b,r.sparse.count*y),A=new l(e[2],w,r.sparse.count*s);null!==a&&(o=new d.BufferAttribute(o.array.slice(),o.itemSize,o.normalized));for(var M=0,S=x.length;M<S;M++){var C=x[M];if(o.setX(C,A[M*s]),s>=2&&o.setY(C,A[M*s+1]),s>=3&&o.setZ(C,A[M*s+2]),s>=4&&o.setW(C,A[M*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return o})},B.prototype.loadTexture=function(e){var t,r,i=this.json,o=this.options,a=i.textures[e],s=a.extensions||{};return(t=s[n.MSFT_TEXTURE_DDS]?i.images[s[n.MSFT_TEXTURE_DDS].source]:i.images[a.source]).uri&&(r=o.manager.getHandler(t.uri)),r||(r=s[n.MSFT_TEXTURE_DDS]?this.extensions[n.MSFT_TEXTURE_DDS].ddsLoader:this.textureLoader),this.loadTextureImage(e,t,r)},B.prototype.loadTextureImage=function(e,t,n){var r=this,i=this.json,o=this.options,a=i.textures[e],s=self.URL||self.webkitURL,l=t.uri,u=!1;return void 0!==t.bufferView&&(l=r.getDependency("bufferView",t.bufferView).then(function(e){u=!0;var n=new Blob([e],{type:t.mimeType});return l=s.createObjectURL(n)})),Promise.resolve(l).then(function(e){return new Promise(function(t,r){var i=t;!0===n.isImageBitmapLoader&&(i=function(e){t(new d.CanvasTexture(e))}),n.load(R(e,o.path),i,void 0,r)})}).then(function(n){!0===u&&s.revokeObjectURL(l),n.flipY=!1,a.name&&(n.name=a.name),t.mimeType in P&&(n.format=P[t.mimeType]);var o=(i.samplers||{})[a.sampler]||{};return n.magFilter=I[o.magFilter]||d.LinearFilter,n.minFilter=I[o.minFilter]||d.LinearMipmapLinearFilter,n.wrapS=T[o.wrapS]||d.RepeatWrapping,n.wrapT=T[o.wrapT]||d.RepeatWrapping,r.associations.set(n,{type:"textures",index:e}),n})},B.prototype.assignTexture=function(e,t,r){var i=this;return this.getDependency("texture",r.index).then(function(o){if(!o.isCompressedTexture)switch(t){case"aoMap":case"emissiveMap":case"metalnessMap":case"normalMap":case"roughnessMap":o.format=d.RGBFormat}if(void 0===r.texCoord||0==r.texCoord||"aoMap"===t&&1==r.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+r.texCoord+" for texture "+t+" not yet supported."),i.extensions[n.KHR_TEXTURE_TRANSFORM]){var a=void 0!==r.extensions?r.extensions[n.KHR_TEXTURE_TRANSFORM]:void 0;if(a){var s=i.associations.get(o);o=i.extensions[n.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),i.associations.set(o,s)}}e[t]=o})},B.prototype.assignFinalMaterial=function(e){var t=e.geometry,n=e.material,r=void 0!==t.attributes.tangent,i=void 0!==t.attributes.color,o=void 0===t.attributes.normal,a=!0===e.isSkinnedMesh,s=Object.keys(t.morphAttributes).length>0,l=s&&void 0!==t.morphAttributes.normal;if(e.isPoints){var u="PointsMaterial:"+n.uuid,c=this.cache.get(u);c||(c=new d.PointsMaterial,d.Material.prototype.copy.call(c,n),c.color.copy(n.color),c.map=n.map,c.sizeAttenuation=!1,this.cache.add(u,c)),n=c}else if(e.isLine){u="LineBasicMaterial:"+n.uuid;var f=this.cache.get(u);f||(f=new d.LineBasicMaterial,d.Material.prototype.copy.call(f,n),f.color.copy(n.color),this.cache.add(u,f)),n=f}if(r||i||o||a||s){u="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(u+="specular-glossiness:"),a&&(u+="skinning:"),r&&(u+="vertex-tangents:"),i&&(u+="vertex-colors:"),o&&(u+="flat-shading:"),s&&(u+="morph-targets:"),l&&(u+="morph-normals:");var h=this.cache.get(u);h||(h=n.clone(),a&&(h.skinning=!0),r&&(h.vertexTangents=!0),i&&(h.vertexColors=!0),o&&(h.flatShading=!0),s&&(h.morphTargets=!0),l&&(h.morphNormals=!0),this.cache.add(u,h),this.associations.set(h,this.associations.get(n))),n=h}n.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),n.normalScale&&!r&&(n.normalScale.y=-n.normalScale.y),n.clearcoatNormalScale&&!r&&(n.clearcoatNormalScale.y=-n.clearcoatNormalScale.y),e.material=n},B.prototype.getMaterialType=function(){return d.MeshStandardMaterial},B.prototype.loadMaterial=function(e){var t,r=this,i=this.json,o=this.extensions,a=i.materials[e],s={},l=a.extensions||{},u=[];if(l[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var c=o[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=c.getMaterialType(),u.push(c.extendParams(s,a,r))}else if(l[n.KHR_MATERIALS_UNLIT]){var f=o[n.KHR_MATERIALS_UNLIT];t=f.getMaterialType(),u.push(f.extendParams(s,a,r))}else{var h=a.pbrMetallicRoughness||{};if(s.color=new d.Color(1,1,1),s.opacity=1,Array.isArray(h.baseColorFactor)){var p=h.baseColorFactor;s.color.fromArray(p),s.opacity=p[3]}void 0!==h.baseColorTexture&&u.push(r.assignTexture(s,"map",h.baseColorTexture)),s.metalness=void 0!==h.metallicFactor?h.metallicFactor:1,s.roughness=void 0!==h.roughnessFactor?h.roughnessFactor:1,void 0!==h.metallicRoughnessTexture&&(u.push(r.assignTexture(s,"metalnessMap",h.metallicRoughnessTexture)),u.push(r.assignTexture(s,"roughnessMap",h.metallicRoughnessTexture))),t=this._invokeOne(function(t){return t.getMaterialType&&t.getMaterialType(e)}),u.push(this._invokeAll(function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,s)}))}!0===a.doubleSided&&(s.side=d.DoubleSide);var m=a.alphaMode||O;return m===j?(s.transparent=!0,s.depthWrite=!1):(s.transparent=!1,m===N&&(s.alphaTest=void 0!==a.alphaCutoff?a.alphaCutoff:.5)),void 0!==a.normalTexture&&t!==d.MeshBasicMaterial&&(u.push(r.assignTexture(s,"normalMap",a.normalTexture)),s.normalScale=new d.Vector2(1,1),void 0!==a.normalTexture.scale&&s.normalScale.set(a.normalTexture.scale,a.normalTexture.scale)),void 0!==a.occlusionTexture&&t!==d.MeshBasicMaterial&&(u.push(r.assignTexture(s,"aoMap",a.occlusionTexture)),void 0!==a.occlusionTexture.strength&&(s.aoMapIntensity=a.occlusionTexture.strength)),void 0!==a.emissiveFactor&&t!==d.MeshBasicMaterial&&(s.emissive=(new d.Color).fromArray(a.emissiveFactor)),void 0!==a.emissiveTexture&&t!==d.MeshBasicMaterial&&u.push(r.assignTexture(s,"emissiveMap",a.emissiveTexture)),Promise.all(u).then(function(){var i;return i=t===v?o[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(s):new t(s),a.name&&(i.name=a.name),i.map&&(i.map.encoding=d.sRGBEncoding),i.emissiveMap&&(i.emissiveMap.encoding=d.sRGBEncoding),F(i,a),r.associations.set(i,{type:"materials",index:e}),a.extensions&&$(o,i,a),i})},B.prototype.loadGeometries=function(e){var t=this,r=this.extensions,i=this.primitiveCache;function o(e){return r[n.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then(function(n){return H(n,e,t)})}for(var a=[],s=0,l=e.length;s<l;s++){var u,c=e[s],f=U(c),h=i[f];if(h)a.push(h.promise);else u=c.extensions&&c.extensions[n.KHR_DRACO_MESH_COMPRESSION]?o(c):H(new d.BufferGeometry,c,t),i[f]={primitive:c,promise:u},a.push(u)}return Promise.all(a)},B.prototype.loadMesh=function(e){for(var t,n=this,r=this.json.meshes[e],i=r.primitives,o=[],a=0,s=i.length;a<s;a++){var l=void 0===i[a].material?(void 0===(t=this.cache).DefaultMaterial&&(t.DefaultMaterial=new d.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:d.FrontSide})),t.DefaultMaterial):this.getDependency("material",i[a].material);o.push(l)}return o.push(n.loadGeometries(i)),Promise.all(o).then(function(t){for(var o=t.slice(0,t.length-1),a=t[t.length-1],s=[],l=0,u=a.length;l<u;l++){var c,f=a[l],h=i[l],p=o[l];if(h.mode===M||h.mode===S||h.mode===C||void 0===h.mode)!0!==(c=!0===r.isSkinnedMesh?new d.SkinnedMesh(f,p):new d.Mesh(f,p)).isSkinnedMesh||c.geometry.attributes.skinWeight.normalized||c.normalizeSkinWeights(),h.mode===S?c.geometry=G(c.geometry,d.TriangleStripDrawMode):h.mode===C&&(c.geometry=G(c.geometry,d.TriangleFanDrawMode));else if(h.mode===w)c=new d.LineSegments(f,p);else if(h.mode===A)c=new d.Line(f,p);else if(h.mode===x)c=new d.LineLoop(f,p);else{if(h.mode!==b)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+h.mode);c=new d.Points(f,p)}Object.keys(c.geometry.morphAttributes).length>0&&K(c,r),c.name=r.name||"mesh_"+e,a.length>1&&(c.name+="_"+l),F(c,r),n.assignFinalMaterial(c),s.push(c)}if(1===s.length)return s[0];var m=new d.Group;for(l=0,u=s.length;l<u;l++)m.add(s[l]);return m})},B.prototype.loadCamera=function(e){var t,n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new d.PerspectiveCamera(d.MathUtils.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new d.OrthographicCamera(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=n.name),F(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")},B.prototype.loadSkin=function(e){var t=this.json.skins[e],n={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",t.inverseBindMatrices).then(function(e){return n.inverseBindMatrices=e,n})},B.prototype.loadAnimation=function(e){for(var t=this.json.animations[e],n=[],r=[],i=[],o=[],a=[],s=0,l=t.channels.length;s<l;s++){var u=t.channels[s],c=t.samplers[u.sampler],f=u.target,h=void 0!==f.node?f.node:f.id,p=void 0!==t.parameters?t.parameters[c.input]:c.input,m=void 0!==t.parameters?t.parameters[c.output]:c.output;n.push(this.getDependency("node",h)),r.push(this.getDependency("accessor",p)),i.push(this.getDependency("accessor",m)),o.push(c),a.push(f)}return Promise.all([Promise.all(n),Promise.all(r),Promise.all(i),Promise.all(o),Promise.all(a)]).then(function(n){for(var r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=[],u=0,c=r.length;u<c;u++){var f=r[u],h=i[u],p=o[u],m=a[u],v=s[u];if(void 0!==f){var g;switch(f.updateMatrix(),f.matrixAutoUpdate=!0,k[v.path]){case k.weights:g=d.NumberKeyframeTrack;break;case k.rotation:g=d.QuaternionKeyframeTrack;break;case k.position:case k.scale:default:g=d.VectorKeyframeTrack}var y=f.name?f.name:f.uuid,b=void 0!==m.interpolation?D[m.interpolation]:d.InterpolateLinear,w=[];k[v.path]===k.weights?f.traverse(function(e){!0===e.isMesh&&e.morphTargetInfluences&&w.push(e.name?e.name:e.uuid)}):w.push(y);var x=p.array;if(p.normalized){var A;if(x.constructor===Int8Array)A=1/127;else if(x.constructor===Uint8Array)A=1/255;else if(x.constructor==Int16Array)A=1/32767;else{if(x.constructor!==Uint16Array)throw new Error("THREE.GLTFLoader: Unsupported output accessor component type.");A=1/65535}for(var M=new Float32Array(x.length),S=0,C=x.length;S<C;S++)M[S]=x[S]*A;x=M}for(S=0,C=w.length;S<C;S++){var E=new g(w[S]+"."+k[v.path],h.array,x,b);"CUBICSPLINE"===m.interpolation&&(E.createInterpolant=function(e){return new _(this.times,this.values,this.getValueSize()/3,e)},E.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),l.push(E)}}}var I=t.name?t.name:"animation_"+e;return new d.AnimationClip(I,void 0,l)})},B.prototype.loadNode=function(e){var t=this.json,r=this.extensions,i=this,o=t.nodes[e];return function(){var e=[];if(void 0!==o.mesh&&e.push(i.getDependency("mesh",o.mesh).then(function(e){var t=i._getNodeRef(i.meshCache,o.mesh,e);return void 0!==o.weights&&t.traverse(function(e){if(e.isMesh)for(var t=0,n=o.weights.length;t<n;t++)e.morphTargetInfluences[t]=o.weights[t]}),t})),void 0!==o.camera&&e.push(i.getDependency("camera",o.camera).then(function(e){return i._getNodeRef(i.cameraCache,o.camera,e)})),o.extensions&&o.extensions[n.KHR_LIGHTS_PUNCTUAL]&&void 0!==o.extensions[n.KHR_LIGHTS_PUNCTUAL].light){var t=o.extensions[n.KHR_LIGHTS_PUNCTUAL].light;e.push(i.getDependency("light",t).then(function(e){return i._getNodeRef(i.lightCache,t,e)}))}return Promise.all(e)}().then(function(t){var n;if((n=!0===o.isBone?new d.Bone:t.length>1?new d.Group:1===t.length?t[0]:new d.Object3D)!==t[0])for(var a=0,s=t.length;a<s;a++)n.add(t[a]);if(o.name&&(n.userData.name=o.name,n.name=d.PropertyBinding.sanitizeNodeName(o.name)),F(n,o),o.extensions&&$(r,n,o),void 0!==o.matrix){var l=new d.Matrix4;l.fromArray(o.matrix),n.applyMatrix4(l)}else void 0!==o.translation&&n.position.fromArray(o.translation),void 0!==o.rotation&&n.quaternion.fromArray(o.rotation),void 0!==o.scale&&n.scale.fromArray(o.scale);return i.associations.set(n,{type:"nodes",index:e}),n})},B.prototype.loadScene=function(){function e(t,n,r,i){var o=r.nodes[t];return i.getDependency("node",t).then(function(e){return void 0===o.skin?e:i.getDependency("skin",o.skin).then(function(e){for(var n=[],r=0,o=(t=e).joints.length;r<o;r++)n.push(i.getDependency("node",t.joints[r]));return Promise.all(n)}).then(function(n){return e.traverse(function(e){if(e.isMesh){for(var r=[],i=[],o=0,a=n.length;o<a;o++){var s=n[o];if(s){r.push(s);var l=new d.Matrix4;void 0!==t.inverseBindMatrices&&l.fromArray(t.inverseBindMatrices.array,16*o),i.push(l)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[o])}e.bind(new d.Skeleton(r,i),e.matrixWorld)}}),e});var t}).then(function(t){n.add(t);var a=[];if(o.children)for(var s=o.children,l=0,u=s.length;l<u;l++){var c=s[l];a.push(e(c,t,r,i))}return Promise.all(a)})}return function(t){var n=this.json,r=this.extensions,i=this.json.scenes[t],o=new d.Group;i.name&&(o.name=i.name),F(o,i),i.extensions&&$(r,o,i);for(var a=i.nodes||[],s=[],l=0,u=a.length;l<u;l++)s.push(e(a[l],o,n,this));return Promise.all(s).then(function(){return o})}}()}();n.d(t,"a",function(){return Ae}),Object(h.e)({OrbitControlsImpl:p});Object(h.e)({MapControlsImpl:m});Object(h.e)({TrackballControlsImpl:g.a});Object(h.e)({DeviceOrientationControlsImp:function(e){var t=this;this.object=e,this.object.rotation.reorder("YXZ"),this.enabled=!0,this.deviceOrientation={},this.screenOrientation=0,this.alphaOffset=0;var n=function(e){t.deviceOrientation=e},r=function(){t.screenOrientation=window.orientation||0},i=function(){var e=new d.Vector3(0,0,1),t=new d.Euler,n=new d.Quaternion,r=new d.Quaternion(-Math.sqrt(.5),0,0,Math.sqrt(.5));return function(i,o,a,s,l){t.set(a,o,-s,"YXZ"),i.setFromEuler(t),i.multiply(r),i.multiply(n.setFromAxisAngle(e,-l))}}();this.connect=function(){r(),void 0!==window.DeviceOrientationEvent&&"function"===typeof window.DeviceOrientationEvent.requestPermission?window.DeviceOrientationEvent.requestPermission().then(function(e){"granted"==e&&(window.addEventListener("orientationchange",r,!1),window.addEventListener("deviceorientation",n,!1))}).catch(function(e){console.error("THREE.DeviceOrientationControls: Unable to use DeviceOrientation API:",e)}):(window.addEventListener("orientationchange",r,!1),window.addEventListener("deviceorientation",n,!1)),t.enabled=!0},this.disconnect=function(){window.removeEventListener("orientationchange",r,!1),window.removeEventListener("deviceorientation",n,!1),t.enabled=!1},this.update=function(){if(!1!==t.enabled){var e=t.deviceOrientation;if(e){var n=e.alpha?d.MathUtils.degToRad(e.alpha)+t.alphaOffset:0,r=e.beta?d.MathUtils.degToRad(e.beta):0,o=e.gamma?d.MathUtils.degToRad(e.gamma):0,a=t.screenOrientation?d.MathUtils.degToRad(t.screenOrientation):0;i(t.object.quaternion,n,r,o,a)}}},this.dispose=function(){t.disconnect()},this.connect()}});Object(h.e)({TransformControlsImpl:_});Object(h.e)({FlyControlsImpl:function(e,t){function n(e,t){return function(){t.apply(e,arguments)}}function r(e){e.preventDefault()}void 0===t&&(console.warn('THREE.FlyControls: The second parameter "domElement" is now mandatory.'),t=document),this.object=e,this.domElement=t,t&&this.domElement.setAttribute("tabindex",-1),this.movementSpeed=1,this.rollSpeed=.005,this.dragToLook=!1,this.autoForward=!1,this.tmpQuaternion=new d.Quaternion,this.mouseStatus=0,this.moveState={up:0,down:0,left:0,right:0,forward:0,back:0,pitchUp:0,pitchDown:0,yawLeft:0,yawRight:0,rollLeft:0,rollRight:0},this.moveVector=new d.Vector3(0,0,0),this.rotationVector=new d.Vector3(0,0,0),this.keydown=function(e){if(!e.altKey){switch(e.keyCode){case 16:this.movementSpeedMultiplier=.1;break;case 87:this.moveState.forward=1;break;case 83:this.moveState.back=1;break;case 65:this.moveState.left=1;break;case 68:this.moveState.right=1;break;case 82:this.moveState.up=1;break;case 70:this.moveState.down=1;break;case 38:this.moveState.pitchUp=1;break;case 40:this.moveState.pitchDown=1;break;case 37:this.moveState.yawLeft=1;break;case 39:this.moveState.yawRight=1;break;case 81:this.moveState.rollLeft=1;break;case 69:this.moveState.rollRight=1}this.updateMovementVector(),this.updateRotationVector()}},this.keyup=function(e){switch(e.keyCode){case 16:this.movementSpeedMultiplier=1;break;case 87:this.moveState.forward=0;break;case 83:this.moveState.back=0;break;case 65:this.moveState.left=0;break;case 68:this.moveState.right=0;break;case 82:this.moveState.up=0;break;case 70:this.moveState.down=0;break;case 38:this.moveState.pitchUp=0;break;case 40:this.moveState.pitchDown=0;break;case 37:this.moveState.yawLeft=0;break;case 39:this.moveState.yawRight=0;break;case 81:this.moveState.rollLeft=0;break;case 69:this.moveState.rollRight=0}this.updateMovementVector(),this.updateRotationVector()},this.mousedown=function(e){if(this.domElement!==document&&this.domElement.focus(),e.preventDefault(),e.stopPropagation(),this.dragToLook)this.mouseStatus++;else{switch(e.button){case 0:this.moveState.forward=1;break;case 2:this.moveState.back=1}this.updateMovementVector()}},this.mousemove=function(e){if(!this.dragToLook||this.mouseStatus>0){var t=this.getContainerDimensions(),n=t.size[0]/2,r=t.size[1]/2;this.moveState.yawLeft=-(e.pageX-t.offset[0]-n)/n,this.moveState.pitchDown=(e.pageY-t.offset[1]-r)/r,this.updateRotationVector()}},this.mouseup=function(e){if(e.preventDefault(),e.stopPropagation(),this.dragToLook)this.mouseStatus--,this.moveState.yawLeft=this.moveState.pitchDown=0;else{switch(e.button){case 0:this.moveState.forward=0;break;case 2:this.moveState.back=0}this.updateMovementVector()}this.updateRotationVector()},this.update=function(e){var t=e*this.movementSpeed,n=e*this.rollSpeed;this.object.translateX(this.moveVector.x*t),this.object.translateY(this.moveVector.y*t),this.object.translateZ(this.moveVector.z*t),this.tmpQuaternion.set(this.rotationVector.x*n,this.rotationVector.y*n,this.rotationVector.z*n,1).normalize(),this.object.quaternion.multiply(this.tmpQuaternion),this.object.rotation.setFromQuaternion(this.object.quaternion,this.object.rotation.order)},this.updateMovementVector=function(){var e=this.moveState.forward||this.autoForward&&!this.moveState.back?1:0;this.moveVector.x=-this.moveState.left+this.moveState.right,this.moveVector.y=-this.moveState.down+this.moveState.up,this.moveVector.z=-e+this.moveState.back},this.updateRotationVector=function(){this.rotationVector.x=-this.moveState.pitchDown+this.moveState.pitchUp,this.rotationVector.y=-this.moveState.yawRight+this.moveState.yawLeft,this.rotationVector.z=-this.moveState.rollRight+this.moveState.rollLeft},this.getContainerDimensions=function(){return this.domElement!=document?{size:[this.domElement.offsetWidth,this.domElement.offsetHeight],offset:[this.domElement.offsetLeft,this.domElement.offsetTop]}:{size:[window.innerWidth,window.innerHeight],offset:[0,0]}},this.dispose=function(){this.domElement.removeEventListener("contextmenu",r,!1),this.domElement.removeEventListener("mousedown",o,!1),this.domElement.removeEventListener("mousemove",i,!1),this.domElement.removeEventListener("mouseup",a,!1),window.removeEventListener("keydown",s,!1),window.removeEventListener("keyup",l,!1)};var i=n(this,this.mousemove),o=n(this,this.mousedown),a=n(this,this.mouseup),s=n(this,this.keydown),l=n(this,this.keyup);this.domElement.addEventListener("contextmenu",r,!1),this.domElement.addEventListener("mousemove",i,!1),this.domElement.addEventListener("mousedown",o,!1),this.domElement.addEventListener("mouseup",a,!1),window.addEventListener("keydown",s,!1),window.addEventListener("keyup",l,!1),this.updateMovementVector(),this.updateRotationVector()}});var Ae=Object(c.forwardRef)(function(e,t){var n=e.children,r=e.makeDefault,i=void 0!==r&&r,o=y(e,["children","makeDefault"]),a=Object(h.i)(),s=a.setDefaultCamera,l=a.camera,d=a.size,p=Object(h.j)(function(e){e.aspect=d.width/d.height,e.updateProjectionMatrix()},[d,o]);return Object(c.useLayoutEffect)(function(){if(i&&p.current){var e=l;return s(p.current),function(){return s(e)}}},[]),f.a.createElement("perspectiveCamera",u({ref:Object(v.a)([p,t])},o),n)});Object(h.e)({TextMeshImpl:de.Text});new d.Vector3,new d.Vector3,new d.Vector3;var Me=function(e){function t(e){var n;return Object(r.a)(this,t),n=Object(o.a)(this,Object(a.a)(t).call(this,e)),pe(Object(s.a)(n),"_time",void 0),pe(Object(s.a)(n),"_factor",void 0),n.setValues(e),n._time={value:0},n._factor={value:1},n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"onBeforeCompile",value:function(e){e.uniforms.time=this._time,e.uniforms.factor=this._factor,e.vertexShader="\n      uniform float time;\n      uniform float factor;\n      "+e.vertexShader+"\n    ",e.vertexShader=e.vertexShader.replace("#include <begin_vertex>","float theta = sin( time + position.y ) / 2.0 * factor;\n        float c = cos( theta );\n        float s = sin( theta );\n        mat3 m = mat3( c, 0, s, 0, 1, 0, -s, 0, c );\n        vec3 transformed = vec3( position ) * m;\n        vNormal = vNormal * m;")}},{key:"time",get:function(){return this._time.value},set:function(e){this._time.value=e}},{key:"factor",get:function(){return this._factor.value},set:function(e){this._factor.value=e}}]),t}(d.MeshStandardMaterial);Object(h.e)({WobbleMaterialImpl:Me});var Se=function(e){function t(e){var n;return Object(r.a)(this,t),n=Object(o.a)(this,Object(a.a)(t).call(this,e)),pe(Object(s.a)(n),"_time",void 0),pe(Object(s.a)(n),"_distort",void 0),pe(Object(s.a)(n),"_radius",void 0),n.setValues(e),n._time={value:0},n._distort={value:.4},n._radius={value:1},n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"onBeforeCompile",value:function(e){e.uniforms.time=this._time,e.uniforms.radius=this._radius,e.uniforms.distort=this._distort,e.vertexShader="\n      uniform float time;\n      uniform float radius;\n      uniform float distort;\n      #define GLSLIFY 1\nvec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289(i);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}\n      "+e.vertexShader+"\n    ",e.vertexShader=e.vertexShader.replace("#include <begin_vertex>","\n        float updateTime = time / 50.0;\n        float noise = snoise(vec3(position / 2.0 + updateTime * 5.0));\n        vec3 transformed = vec3(position * (noise * pow(distort, 2.0) + radius));\n        ")}},{key:"time",get:function(){return this._time.value},set:function(e){this._time.value=e}},{key:"distort",get:function(){return this._distort.value},set:function(e){this._distort.value=e}},{key:"radius",get:function(){return this._radius.value},set:function(e){this._radius.value=e}}]),t}(d.MeshPhysicalMaterial);Object(h.e)({DistortMaterialImpl:Se});Object(h.e)({SkyImpl:me});Object(h.e)({ReflectorImpl:ve});Object(h.e)({Line2:we,LineGeometry:ye,LineMaterial:_e});var Ce=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(a.a)(t).call(this,{uniforms:{time:{value:0},fade:{value:1}},vertexShader:"uniform float time;\n      attribute float size;\n      varying vec3 vColor;\n      void main() {\n        vColor = color;\n        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);\n        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(mvPosition.x + 2.0 * time + 100.0));\n        gl_Position = projectionMatrix * mvPosition;\n      }",fragmentShader:"uniform sampler2D pointTexture;\n      uniform float fade;\n      varying vec3 vColor;\n      void main() {\n        float opacity = 1.0;\n        if (fade == 1.0) {\n          float d = distance(gl_PointCoord, vec2(0.5, 0.5));\n          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));\n        }\n        gl_FragColor = vec4(vColor, opacity);\n      }"}))}return Object(l.a)(t,e),t}(d.ShaderMaterial);Object(h.e)({StarfieldMaterial:Ce});new d.Matrix4,new d.Ray,new d.Sphere,new d.Vector3;function Ee(e){var t=e+"BufferGeometry";return Object(c.forwardRef)(function(e,n){var r=e.args,i=e.children,o=y(e,["args","children"]);return f.a.createElement("mesh",u({ref:n},o),f.a.createElement(t,{attach:"geometry",args:r}),i)})}Ee("box"),Ee("circle"),Ee("cone"),Ee("cylinder"),Ee("sphere"),Ee("plane"),Ee("tube"),Ee("torus"),Ee("torusKnot"),Ee("tetrahedron"),Ee("ring"),Ee("polyhedron"),Ee("icosahedron"),Ee("octahedron"),Ee("dodecahedron"),Ee("extrude"),Ee("lathe"),Ee("parametric")},function(e,t,n){"use strict";var r=n(7);function i(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var o=n(9),a=n.n(o),s=n(18),l=n(16),u=n(12),c=n(2),f=n(8),h=n(11);function d(){var e=i(["## Raw vZome Exports"]);return d=function(){return e},e}function p(){var e=i(["## Dependencies"]);return p=function(){return e},e}function m(){var e=i(["## vZome Icosahedral Symmetry and Predefined Shapes"]);return m=function(){return e},e}function v(){var e=i(["## Normalizing vZome Exports\n\nThe VSON export format currently uses a serialization for algebraic numbers that has an unfortunate property:\nan integer coordinate is serialized as an integer, but a non-integer rational number is\nserialized as a fraction string.\nThe functions here normalize the various vZome JSON exports,\nincluding the model file itself, so that all algebraic numbers are represented as an (N+1)-tuple\nof integers, where N is the order of the field, and the last integer is the common divisor.\n\nThe conversions here also map vZome orbit names (colors) to canonical 2-vector strings.\nThe strings represent the gnomonic projection of the orbit prototype onto the X=1 plane."]);return v=function(){return e},e}function g(){var e=i(["# WIP Importing vZome Shapes\n\n[Observable vZome](https://beta.observablehq.com/@vorth/wip-observable-vzome)\nis designed to be somewhat independent of [desktop vZome](http://vzome.com).\nIn particular, it has its own definition of icosahedral symmetry in terms\nof a set of quaternions, and it has a more rational approach to associating\nshapes with vectors, based on canonicalization.\n\nFinally, Observable vZome uses a simpler, three-integer representation of\na number in the Golden field (two factors, one common divisor),\nwhereas vZome uses a four-integer representation (two factors, each with its\nown divisor).\n\nIn spite of these differences, we still want both variants of vZome to render\nthe same shapes, or at least be able to.  For that reason, this notebook\nimports some popular vZome shape sets, and converts them to the format\nrequired to support the rendering in Observable vZome."]);return g=function(){return e},e}function y(e,t){var n=e.module();n.variable(t()).define(["md"],function(e){return e(g())}),n.variable(t()).define(["md"],function(e){return e(v())}),n.variable(t("parseVsonNumber")).define("parseVsonNumber",["simplify3"],function(e){return function(t){var n=Object(r.a)(t,3),i=n[0],o=void 0===i?0:i,a=n[1],s=void 0===a?0:a,l=n[2],u=void 0===l?1:l,c=1,f=1;if("number"!==typeof o){var h=o.split("/").map(Number),d=Object(r.a)(h,2);o=d[0],c=d[1]}if("number"!==typeof s){var p=s.split("/").map(Number),m=Object(r.a)(p,2);s=m[0],f=m[1]}return e(o*f,s*c,c*f*u)}}),n.variable(t("parseVsonVector")).define("parseVsonVector",["parseVsonNumber"],function(e){return function(t){return t.map(e)}}),n.variable(t("convertSymmetry")).define("convertSymmetry",["parseVsonVector","orbit2","parseVsonNumber"],function(e,t,n){return function(i){var o={},a=!0,s=!1,l=void 0;try{for(var u,c=i.orbits[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value,h=e(f.prototype),d=t(h),p=Object(r.a)(d,4),m=p[0],v=(p[1],p[2],p[3],JSON.stringify(m));o[f.name]={canonical:v,unitLength:n(f.unitLength),prototype:[[1,0,1]].concat(m),canonicalize:f.canonicalize}}}catch(M){s=!0,l=M}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}var g=[],y=!0,_=!1,b=void 0;try{for(var w,x=i.symmetry.permutations[Symbol.iterator]();!(y=(w=x.next()).done);y=!0){var A=w.value;g[A.findIndex(function(e){return 0==e})]=A}}catch(M){_=!0,b=M}finally{try{y||null==x.return||x.return()}finally{if(_)throw b}}return Object.assign({},{name:i.symmetry.name,permutations:i.symmetry.permutations,inverses:g,matrices:i.symmetry.matrices.map(function(t){return t.map(e)}),orbits:o,styleNames:i.styleNames})}}),n.variable(t("convertShapes")).define("convertShapes",["scalarmul","parseVsonVector","orbit2","quattransform","quatconj"],function(e,t,n,i,o){return function(a){var s={},l=function(t){return e([2,3,1],t)},u=function(u){var c=a.strutGeometries[u],f=t(c.prototypeVector),h=n(f),d=Object(r.a)(h,4),p=d[0],m=d[1],v=d[2],g=(d[3],c.vertices.map(t).map(function(t){return t=i(o(m),t),l(e([1-2*v],t))}));s[JSON.stringify(p)]={color:u,prototype:[[1,0,1]].concat(p),vertices:g,polygons:c.polygons.map(function(e){return v?e.slice().reverse():e}),tip:c.fullScaleVertices,waist:c.halfScaleVertices}};for(var c in a.strutGeometries)u(c);var f=a.connectorShape.vertices.map(function(e){return l(t(e))}),h=Object.assign({},a.connectorShape,{vertices:f});return{name:a.name,ballShape:h,strutShapes:s}}}),n.variable(t()).define(["md"],function(e){return e(m())}),n.variable(t("vZome_colors")).define("vZome_colors",function(){return{red:"#c52431",yellow:"#f0a901",blue:"#06608d",green:"#088d32",orange:"#e76500",purple:"#7a42ab",black:"#28282a",white:"#eef1f7",olive:"#746801",lavender:"#907fe3",maroon:"#831147",rose:"#fc6aab",navy:"#343088",brown:"#693601",apple:"#81bf1e",sand:"#bb9055",turquoise:"#2fae97",coral:"#fe8c8b",sulfur:"#c4e751",cinnamon:"#90380e",spruce:"#0c5437",magenta:"#db2976",slate:"#667e99",mauve:"#925283",ivory:"#e5ddb9"}}),n.variable(t("vZome_icosahedral_orbits")).define("vZome_icosahedral_orbits",["golden_icosahedral_symmetry","vZome_colors"],function(e,t){var n={};return Object.entries(e.orbits).map(function(e){var i=Object(r.a)(e,2),o=i[0],a=i[1],s=a.canonical,l=a.prototype;n[s]={prototype:l,color:t[o],vZomeName:o}}),n}),n.variable(t("golden_icosahedral_symmetry")).define("golden_icosahedral_symmetry",["convertSymmetry","vzome_golden_icosahedral_symmetry"],function(e,t){return e(t)}),n.variable(t("icosahedral_solid_connectors_shapes")).define("icosahedral_solid_connectors_shapes",["convertShapes","vzome_icosahedral_solid_connectors_shapes"],function(e,t){return e(t)}),n.variable(t("icosahedral_lifelike_connectors_shapes")).define("icosahedral_lifelike_connectors_shapes",["convertShapes","vzome_icosahedral_lifelike_connectors_shapes"],function(e,t){return e(t)}),n.variable(t()).define(["md"],function(e){return e(p())});var i=e.module(ce);return n.import("vectoradd",i),n.import("gcd",i),n.import("grneg",i),n.import("grfloat",i),n.import("grmul",i),n.import("grdiv",i),n.import("grsub",i),n.import("simplify3",i),n.import("scalarmul",i),n.import("spread",i),n.import("icosahedral_quaternions_vzome",i),n.import("orbit2",i),n.import("quattransform",i),n.import("quatconj",i),n.variable(t()).define(["md"],function(e){return e(d())}),n.variable(t("vzome_golden_icosahedral_symmetry")).define("vzome_golden_icosahedral_symmetry",function(){return{symmetry:{name:"icosahedral",permutations:[[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],[1,2,0,4,5,3,7,8,6,10,11,9,13,14,12,46,47,45,49,50,48,52,53,51,55,56,54,58,59,57,16,17,15,19,20,18,22,23,21,25,26,24,28,29,27,31,32,30,34,35,33,37,38,36,40,41,39,43,44,42],[2,0,1,5,3,4,8,6,7,11,9,10,14,12,13,32,30,31,35,33,34,38,36,37,41,39,40,44,42,43,47,45,46,50,48,49,53,51,52,56,54,55,59,57,58,17,15,16,20,18,19,23,21,22,26,24,25,29,27,28],[3,14,21,6,2,24,9,5,27,12,8,15,0,11,18,23,50,58,26,53,46,29,56,49,17,59,52,20,47,55,42,22,34,30,25,37,33,28,40,36,16,43,39,19,31,41,10,54,44,13,57,32,1,45,35,4,48,38,7,51],[4,12,52,7,0,55,10,3,58,13,6,46,1,9,49,51,33,44,54,36,32,57,39,35,45,42,38,48,30,41,28,53,20,16,56,23,19,59,26,22,47,29,25,50,17,24,11,40,27,14,43,15,2,31,18,5,34,21,8,37],[5,13,38,8,1,41,11,4,44,14,7,32,2,10,35,37,19,27,40,22,15,43,25,18,31,28,21,34,16,24,59,36,48,47,39,51,50,42,54,53,30,57,56,33,45,55,9,26,58,12,29,46,0,17,49,3,20,52,6,23],[6,18,29,9,21,17,12,24,20,0,27,23,3,15,26,49,57,7,52,45,10,55,48,13,58,51,1,46,54,4,39,56,25,42,59,28,30,47,16,33,50,19,36,53,22,43,8,35,31,11,38,34,14,41,37,2,44,40,5,32],[7,49,57,10,52,45,13,55,48,1,58,51,4,46,54,35,43,8,38,31,11,41,34,14,44,37,2,32,40,5,25,39,56,28,42,59,16,30,47,19,33,50,22,36,53,29,6,18,17,9,21,20,12,24,23,0,27,26,3,15],[8,35,43,11,38,31,14,41,34,2,44,37,5,32,40,18,29,6,21,17,9,24,20,12,27,23,0,15,26,3,56,25,39,59,28,42,47,16,30,50,19,33,53,22,36,57,7,49,45,10,52,48,13,55,51,1,58,54,4,46],[9,26,55,12,29,58,0,17,46,3,20,49,6,23,52,13,38,5,1,41,8,4,44,11,7,32,14,10,35,2,36,48,59,39,51,47,42,54,50,30,57,53,33,45,56,19,27,37,22,15,40,25,18,43,28,21,31,16,24,34],[10,54,41,13,57,44,1,45,32,4,48,35,7,51,38,14,21,3,2,24,6,5,27,9,8,15,12,11,18,0,22,34,42,25,37,30,28,40,33,16,43,36,19,31,39,50,58,23,53,46,26,56,49,29,59,52,17,47,55,20],[11,40,24,14,43,27,2,31,15,5,34,18,8,37,21,12,52,4,0,55,7,3,58,10,6,46,13,9,49,1,53,20,28,56,23,16,59,26,19,47,29,22,50,17,25,33,44,51,36,32,54,39,35,57,42,38,45,30,41,48],[12,52,4,0,55,7,3,58,10,6,46,13,9,49,1,11,40,24,14,43,27,2,31,15,5,34,18,8,37,21,33,44,51,36,32,54,39,35,57,42,38,45,30,41,48,53,20,28,56,23,16,59,26,19,47,29,22,50,17,25],[13,38,5,1,41,8,4,44,11,7,32,14,10,35,2,9,26,55,12,29,58,0,17,46,3,20,49,6,23,52,19,27,37,22,15,40,25,18,43,28,21,31,16,24,34,36,48,59,39,51,47,42,54,50,30,57,53,33,45,56],[14,21,3,2,24,6,5,27,9,8,15,12,11,18,0,10,54,41,13,57,44,1,45,32,4,48,35,7,51,38,50,58,23,53,46,26,56,49,29,59,52,17,47,55,20,22,34,42,25,37,30,28,40,33,16,43,36,19,31,39],[15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],[16,17,15,19,20,18,22,23,21,25,26,24,28,29,27,31,32,30,34,35,33,37,38,36,40,41,39,43,44,42,1,2,0,4,5,3,7,8,6,10,11,9,13,14,12,46,47,45,49,50,48,52,53,51,55,56,54,58,59,57],[17,15,16,20,18,19,23,21,22,26,24,25,29,27,28,47,45,46,50,48,49,53,51,52,56,54,55,59,57,58,32,30,31,35,33,34,38,36,37,41,39,40,44,42,43,2,0,1,5,3,4,8,6,7,11,9,10,14,12,13],[18,29,6,21,17,9,24,20,12,27,23,0,15,26,3,8,35,43,11,38,31,14,41,34,2,44,37,5,32,40,57,7,49,45,10,52,48,13,55,51,1,58,54,4,46,56,25,39,59,28,42,47,16,30,50,19,33,53,22,36],[19,27,37,22,15,40,25,18,43,28,21,31,16,24,34,36,48,59,39,51,47,42,54,50,30,57,53,33,45,56,13,38,5,1,41,8,4,44,11,7,32,14,10,35,2,9,26,55,12,29,58,0,17,46,3,20,49,6,23,52],[20,28,53,23,16,56,26,19,59,29,22,47,17,25,50,52,4,12,55,7,0,58,10,3,46,13,6,49,1,9,44,51,33,32,54,36,35,57,39,38,45,42,41,48,30,40,24,11,43,27,14,31,15,2,34,18,5,37,21,8],[21,3,14,24,6,2,27,9,5,15,12,8,18,0,11,34,42,22,37,30,25,40,33,28,43,36,16,31,39,19,54,41,10,57,44,13,45,32,1,48,35,4,51,38,7,58,23,50,46,26,53,49,29,56,52,17,59,55,20,47],[22,34,42,25,37,30,28,40,33,16,43,36,19,31,39,50,58,23,53,46,26,56,49,29,59,52,17,47,55,20,10,54,41,13,57,44,1,45,32,4,48,35,7,51,38,14,21,3,2,24,6,5,27,9,8,15,12,11,18,0],[23,50,58,26,53,46,29,56,49,17,59,52,20,47,55,3,14,21,6,2,24,9,5,27,12,8,15,0,11,18,41,10,54,44,13,57,32,1,45,35,4,48,38,7,51,42,22,34,30,25,37,33,28,40,36,16,43,39,19,31],[24,11,40,27,14,43,15,2,31,18,5,34,21,8,37,28,53,20,16,56,23,19,59,26,22,47,29,25,50,17,51,33,44,54,36,32,57,39,35,45,42,38,48,30,41,4,12,52,7,0,55,10,3,58,13,6,46,1,9,49],[25,39,56,28,42,59,16,30,47,19,33,50,22,36,53,29,6,18,17,9,21,20,12,24,23,0,27,26,3,15,7,49,57,10,52,45,13,55,48,1,58,51,4,46,54,35,43,8,38,31,11,41,34,14,44,37,2,32,40,5],[26,55,9,29,58,12,17,46,0,20,49,3,23,52,6,27,37,19,15,40,22,18,43,25,21,31,28,24,34,16,38,5,13,41,8,1,44,11,4,32,14,7,35,2,10,48,59,36,51,47,39,54,50,42,57,53,30,45,56,33],[27,37,19,15,40,22,18,43,25,21,31,28,24,34,16,26,55,9,29,58,12,17,46,0,20,49,3,23,52,6,48,59,36,51,47,39,54,50,42,57,53,30,45,56,33,38,5,13,41,8,1,44,11,4,32,14,7,35,2,10],[28,53,20,16,56,23,19,59,26,22,47,29,25,50,17,24,11,40,27,14,43,15,2,31,18,5,34,21,8,37,4,12,52,7,0,55,10,3,58,13,6,46,1,9,49,51,33,44,54,36,32,57,39,35,45,42,38,48,30,41],[29,6,18,17,9,21,20,12,24,23,0,27,26,3,15,25,39,56,28,42,59,16,30,47,19,33,50,22,36,53,35,43,8,38,31,11,41,34,14,44,37,2,32,40,5,7,49,57,10,52,45,13,55,48,1,58,51,4,46,54],[30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],[31,32,30,34,35,33,37,38,36,40,41,39,43,44,42,16,17,15,19,20,18,22,23,21,25,26,24,28,29,27,46,47,45,49,50,48,52,53,51,55,56,54,58,59,57,1,2,0,4,5,3,7,8,6,10,11,9,13,14,12],[32,30,31,35,33,34,38,36,37,41,39,40,44,42,43,2,0,1,5,3,4,8,6,7,11,9,10,14,12,13,17,15,16,20,18,19,23,21,22,26,24,25,29,27,28,47,45,46,50,48,49,53,51,52,56,54,55,59,57,58],[33,44,51,36,32,54,39,35,57,42,38,45,30,41,48,53,20,28,56,23,16,59,26,19,47,29,22,50,17,25,12,52,4,0,55,7,3,58,10,6,46,13,9,49,1,11,40,24,14,43,27,2,31,15,5,34,18,8,37,21],[34,42,22,37,30,25,40,33,28,43,36,16,31,39,19,21,3,14,24,6,2,27,9,5,15,12,8,18,0,11,58,23,50,46,26,53,49,29,56,52,17,59,55,20,47,54,41,10,57,44,13,45,32,1,48,35,4,51,38,7],[35,43,8,38,31,11,41,34,14,44,37,2,32,40,5,7,49,57,10,52,45,13,55,48,1,58,51,4,46,54,29,6,18,17,9,21,20,12,24,23,0,27,26,3,15,25,39,56,28,42,59,16,30,47,19,33,50,22,36,53],[36,48,59,39,51,47,42,54,50,30,57,53,33,45,56,19,27,37,22,15,40,25,18,43,28,21,31,16,24,34,9,26,55,12,29,58,0,17,46,3,20,49,6,23,52,13,38,5,1,41,8,4,44,11,7,32,14,10,35,2],[37,19,27,40,22,15,43,25,18,31,28,21,34,16,24,5,13,38,8,1,41,11,4,44,14,7,32,2,10,35,55,9,26,58,12,29,46,0,17,49,3,20,52,6,23,59,36,48,47,39,51,50,42,54,53,30,57,56,33,45],[38,5,13,41,8,1,44,11,4,32,14,7,35,2,10,48,59,36,51,47,39,54,50,42,57,53,30,45,56,33,26,55,9,29,58,12,17,46,0,20,49,3,23,52,6,27,37,19,15,40,22,18,43,25,21,31,28,24,34,16],[39,56,25,42,59,28,30,47,16,33,50,19,36,53,22,43,8,35,31,11,38,34,14,41,37,2,44,40,5,32,6,18,29,9,21,17,12,24,20,0,27,23,3,15,26,49,57,7,52,45,10,55,48,13,58,51,1,46,54,4],[40,24,11,43,27,14,31,15,2,34,18,5,37,21,8,44,51,33,32,54,36,35,57,39,38,45,42,41,48,30,52,4,12,55,7,0,58,10,3,46,13,6,49,1,9,20,28,53,23,16,56,26,19,59,29,22,47,17,25,50],[41,10,54,44,13,57,32,1,45,35,4,48,38,7,51,42,22,34,30,25,37,33,28,40,36,16,43,39,19,31,23,50,58,26,53,46,29,56,49,17,59,52,20,47,55,3,14,21,6,2,24,9,5,27,12,8,15,0,11,18],[42,22,34,30,25,37,33,28,40,36,16,43,39,19,31,41,10,54,44,13,57,32,1,45,35,4,48,38,7,51,3,14,21,6,2,24,9,5,27,12,8,15,0,11,18,23,50,58,26,53,46,29,56,49,17,59,52,20,47,55],[43,8,35,31,11,38,34,14,41,37,2,44,40,5,32,39,56,25,42,59,28,30,47,16,33,50,19,36,53,22,49,57,7,52,45,10,55,48,13,58,51,1,46,54,4,6,18,29,9,21,17,12,24,20,0,27,23,3,15,26],[44,51,33,32,54,36,35,57,39,38,45,42,41,48,30,40,24,11,43,27,14,31,15,2,34,18,5,37,21,8,20,28,53,23,16,56,26,19,59,29,22,47,17,25,50,52,4,12,55,7,0,58,10,3,46,13,6,49,1,9],[45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],[46,47,45,49,50,48,52,53,51,55,56,54,58,59,57,1,2,0,4,5,3,7,8,6,10,11,9,13,14,12,31,32,30,34,35,33,37,38,36,40,41,39,43,44,42,16,17,15,19,20,18,22,23,21,25,26,24,28,29,27],[47,45,46,50,48,49,53,51,52,56,54,55,59,57,58,17,15,16,20,18,19,23,21,22,26,24,25,29,27,28,2,0,1,5,3,4,8,6,7,11,9,10,14,12,13,32,30,31,35,33,34,38,36,37,41,39,40,44,42,43],[48,59,36,51,47,39,54,50,42,57,53,30,45,56,33,38,5,13,41,8,1,44,11,4,32,14,7,35,2,10,27,37,19,15,40,22,18,43,25,21,31,28,24,34,16,26,55,9,29,58,12,17,46,0,20,49,3,23,52,6],[49,57,7,52,45,10,55,48,13,58,51,1,46,54,4,6,18,29,9,21,17,12,24,20,0,27,23,3,15,26,43,8,35,31,11,38,34,14,41,37,2,44,40,5,32,39,56,25,42,59,28,30,47,16,33,50,19,36,53,22],[50,58,23,53,46,26,56,49,29,59,52,17,47,55,20,22,34,42,25,37,30,28,40,33,16,43,36,19,31,39,14,21,3,2,24,6,5,27,9,8,15,12,11,18,0,10,54,41,13,57,44,1,45,32,4,48,35,7,51,38],[51,33,44,54,36,32,57,39,35,45,42,38,48,30,41,4,12,52,7,0,55,10,3,58,13,6,46,1,9,49,24,11,40,27,14,43,15,2,31,18,5,34,21,8,37,28,53,20,16,56,23,19,59,26,22,47,29,25,50,17],[52,4,12,55,7,0,58,10,3,46,13,6,49,1,9,20,28,53,23,16,56,26,19,59,29,22,47,17,25,50,40,24,11,43,27,14,31,15,2,34,18,5,37,21,8,44,51,33,32,54,36,35,57,39,38,45,42,41,48,30],[53,20,28,56,23,16,59,26,19,47,29,22,50,17,25,33,44,51,36,32,54,39,35,57,42,38,45,30,41,48,11,40,24,14,43,27,2,31,15,5,34,18,8,37,21,12,52,4,0,55,7,3,58,10,6,46,13,9,49,1],[54,41,10,57,44,13,45,32,1,48,35,4,51,38,7,58,23,50,46,26,53,49,29,56,52,17,59,55,20,47,21,3,14,24,6,2,27,9,5,15,12,8,18,0,11,34,42,22,37,30,25,40,33,28,43,36,16,31,39,19],[55,9,26,58,12,29,46,0,17,49,3,20,52,6,23,59,36,48,47,39,51,50,42,54,53,30,57,56,33,45,37,19,27,40,22,15,43,25,18,31,28,21,34,16,24,5,13,38,8,1,41,11,4,44,14,7,32,2,10,35],[56,25,39,59,28,42,47,16,30,50,19,33,53,22,36,57,7,49,45,10,52,48,13,55,51,1,58,54,4,46,8,35,43,11,38,31,14,41,34,2,44,37,5,32,40,18,29,6,21,17,9,24,20,12,27,23,0,15,26,3],[57,7,49,45,10,52,48,13,55,51,1,58,54,4,46,56,25,39,59,28,42,47,16,30,50,19,33,53,22,36,18,29,6,21,17,9,24,20,12,27,23,0,15,26,3,8,35,43,11,38,31,14,41,34,2,44,37,5,32,40],[58,23,50,46,26,53,49,29,56,52,17,59,55,20,47,54,41,10,57,44,13,45,32,1,48,35,4,51,38,7,34,42,22,37,30,25,40,33,28,43,36,16,31,39,19,21,3,14,24,6,2,27,9,5,15,12,8,18,0,11],[59,36,48,47,39,51,50,42,54,53,30,57,56,33,45,55,9,26,58,12,29,46,0,17,49,3,20,52,6,23,5,13,38,8,1,41,11,4,44,14,7,32,2,10,35,37,19,27,40,22,15,43,25,18,31,28,21,34,16,24]],matrices:[[[[1,0],[0,0],[0,0]],[[0,0],[1,0],[0,0]],[[0,0],[0,0],[1,0]]],[[[0,0],[0,0],[1,0]],[[1,0],[0,0],[0,0]],[[0,0],[1,0],[0,0]]],[[[0,0],[1,0],[0,0]],[[0,0],[0,0],[1,0]],[[1,0],[0,0],[0,0]]],[[[0,"1/2"],["-1/2","1/2"],["1/2",0]],[["-1/2","1/2"],["1/2",0],[0,"-1/2"]],[["-1/2",0],[0,"1/2"],["-1/2","1/2"]]],[[["-1/2",0],[0,"1/2"],["-1/2","1/2"]],[[0,"1/2"],["-1/2","1/2"],["1/2",0]],[["-1/2","1/2"],["1/2",0],[0,"-1/2"]]],[[["-1/2","1/2"],["1/2",0],[0,"-1/2"]],[["-1/2",0],[0,"1/2"],["-1/2","1/2"]],[[0,"1/2"],["-1/2","1/2"],["1/2",0]]],[[["1/2",0],[0,"1/2"],["-1/2","1/2"]],[[0,"1/2"],["1/2","-1/2"],["-1/2",0]],[["1/2","-1/2"],["1/2",0],[0,"-1/2"]]],[[["1/2","-1/2"],["1/2",0],[0,"-1/2"]],[["1/2",0],[0,"1/2"],["-1/2","1/2"]],[[0,"1/2"],["1/2","-1/2"],["-1/2",0]]],[[[0,"1/2"],["1/2","-1/2"],["-1/2",0]],[["1/2","-1/2"],["1/2",0],[0,"-1/2"]],[["1/2",0],[0,"1/2"],["-1/2","1/2"]]],[[["1/2",0],[0,"1/2"],["1/2","-1/2"]],[[0,"1/2"],["1/2","-1/2"],["1/2",0]],[["-1/2","1/2"],["-1/2",0],[0,"-1/2"]]],[[["-1/2","1/2"],["-1/2",0],[0,"-1/2"]],[["1/2",0],[0,"1/2"],["1/2","-1/2"]],[[0,"1/2"],["1/2","-1/2"],["1/2",0]]],[[[0,"1/2"],["1/2","-1/2"],["1/2",0]],[["-1/2","1/2"],["-1/2",0],[0,"-1/2"]],[["1/2",0],[0,"1/2"],["1/2","-1/2"]]],[[[0,"1/2"],["-1/2","1/2"],["-1/2",0]],[["-1/2","1/2"],["1/2",0],[0,"1/2"]],[["1/2",0],[0,"-1/2"],["-1/2","1/2"]]],[[["1/2",0],[0,"-1/2"],["-1/2","1/2"]],[[0,"1/2"],["-1/2","1/2"],["-1/2",0]],[["-1/2","1/2"],["1/2",0],[0,"1/2"]]],[[["-1/2","1/2"],["1/2",0],[0,"1/2"]],[["1/2",0],[0,"-1/2"],["-1/2","1/2"]],[[0,"1/2"],["-1/2","1/2"],["-1/2",0]]],[[[1,0],[0,0],[0,0]],[[0,0],[-1,0],[0,0]],[[0,0],[0,0],[-1,0]]],[[[0,0],[0,0],[1,0]],[[-1,0],[0,0],[0,0]],[[0,0],[-1,0],[0,0]]],[[[0,0],[1,0],[0,0]],[[0,0],[0,0],[-1,0]],[[-1,0],[0,0],[0,0]]],[[[0,"1/2"],["-1/2","1/2"],["1/2",0]],[["1/2","-1/2"],["-1/2",0],[0,"1/2"]],[["1/2",0],[0,"-1/2"],["1/2","-1/2"]]],[[["-1/2",0],[0,"1/2"],["-1/2","1/2"]],[[0,"-1/2"],["1/2","-1/2"],["-1/2",0]],[["1/2","-1/2"],["-1/2",0],[0,"1/2"]]],[[["-1/2","1/2"],["1/2",0],[0,"-1/2"]],[["1/2",0],[0,"-1/2"],["1/2","-1/2"]],[[0,"-1/2"],["1/2","-1/2"],["-1/2",0]]],[[["1/2",0],[0,"1/2"],["-1/2","1/2"]],[[0,"-1/2"],["-1/2","1/2"],["1/2",0]],[["-1/2","1/2"],["-1/2",0],[0,"1/2"]]],[[["1/2","-1/2"],["1/2",0],[0,"-1/2"]],[["-1/2",0],[0,"-1/2"],["1/2","-1/2"]],[[0,"-1/2"],["-1/2","1/2"],["1/2",0]]],[[[0,"1/2"],["1/2","-1/2"],["-1/2",0]],[["-1/2","1/2"],["-1/2",0],[0,"1/2"]],[["-1/2",0],[0,"-1/2"],["1/2","-1/2"]]],[[["1/2",0],[0,"1/2"],["1/2","-1/2"]],[[0,"-1/2"],["-1/2","1/2"],["-1/2",0]],[["1/2","-1/2"],["1/2",0],[0,"1/2"]]],[[["-1/2","1/2"],["-1/2",0],[0,"-1/2"]],[["-1/2",0],[0,"-1/2"],["-1/2","1/2"]],[[0,"-1/2"],["-1/2","1/2"],["-1/2",0]]],[[[0,"1/2"],["1/2","-1/2"],["1/2",0]],[["1/2","-1/2"],["1/2",0],[0,"1/2"]],[["-1/2",0],[0,"-1/2"],["-1/2","1/2"]]],[[[0,"1/2"],["-1/2","1/2"],["-1/2",0]],[["1/2","-1/2"],["-1/2",0],[0,"-1/2"]],[["-1/2",0],[0,"1/2"],["1/2","-1/2"]]],[[["1/2",0],[0,"-1/2"],["-1/2","1/2"]],[[0,"-1/2"],["1/2","-1/2"],["1/2",0]],[["1/2","-1/2"],["-1/2",0],[0,"-1/2"]]],[[["-1/2","1/2"],["1/2",0],[0,"1/2"]],[["-1/2",0],[0,"1/2"],["1/2","-1/2"]],[[0,"-1/2"],["1/2","-1/2"],["1/2",0]]],[[[-1,0],[0,0],[0,0]],[[0,0],[-1,0],[0,0]],[[0,0],[0,0],[1,0]]],[[[0,0],[0,0],[-1,0]],[[-1,0],[0,0],[0,0]],[[0,0],[1,0],[0,0]]],[[[0,0],[-1,0],[0,0]],[[0,0],[0,0],[-1,0]],[[1,0],[0,0],[0,0]]],[[[0,"-1/2"],["1/2","-1/2"],["-1/2",0]],[["1/2","-1/2"],["-1/2",0],[0,"1/2"]],[["-1/2",0],[0,"1/2"],["-1/2","1/2"]]],[[["1/2",0],[0,"-1/2"],["1/2","-1/2"]],[[0,"-1/2"],["1/2","-1/2"],["-1/2",0]],[["-1/2","1/2"],["1/2",0],[0,"-1/2"]]],[[["1/2","-1/2"],["-1/2",0],[0,"1/2"]],[["1/2",0],[0,"-1/2"],["1/2","-1/2"]],[[0,"1/2"],["-1/2","1/2"],["1/2",0]]],[[["-1/2",0],[0,"-1/2"],["1/2","-1/2"]],[[0,"-1/2"],["-1/2","1/2"],["1/2",0]],[["1/2","-1/2"],["1/2",0],[0,"-1/2"]]],[[["-1/2","1/2"],["-1/2",0],[0,"1/2"]],[["-1/2",0],[0,"-1/2"],["1/2","-1/2"]],[[0,"1/2"],["1/2","-1/2"],["-1/2",0]]],[[[0,"-1/2"],["-1/2","1/2"],["1/2",0]],[["-1/2","1/2"],["-1/2",0],[0,"1/2"]],[["1/2",0],[0,"1/2"],["-1/2","1/2"]]],[[["-1/2",0],[0,"-1/2"],["-1/2","1/2"]],[[0,"-1/2"],["-1/2","1/2"],["-1/2",0]],[["-1/2","1/2"],["-1/2",0],[0,"-1/2"]]],[[["1/2","-1/2"],["1/2",0],[0,"1/2"]],[["-1/2",0],[0,"-1/2"],["-1/2","1/2"]],[[0,"1/2"],["1/2","-1/2"],["1/2",0]]],[[[0,"-1/2"],["-1/2","1/2"],["-1/2",0]],[["1/2","-1/2"],["1/2",0],[0,"1/2"]],[["1/2",0],[0,"1/2"],["1/2","-1/2"]]],[[[0,"-1/2"],["1/2","-1/2"],["1/2",0]],[["1/2","-1/2"],["-1/2",0],[0,"-1/2"]],[["1/2",0],[0,"-1/2"],["-1/2","1/2"]]],[[["-1/2",0],[0,"1/2"],["1/2","-1/2"]],[[0,"-1/2"],["1/2","-1/2"],["1/2",0]],[["-1/2","1/2"],["1/2",0],[0,"1/2"]]],[[["1/2","-1/2"],["-1/2",0],[0,"-1/2"]],[["-1/2",0],[0,"1/2"],["1/2","-1/2"]],[[0,"1/2"],["-1/2","1/2"],["-1/2",0]]],[[[-1,0],[0,0],[0,0]],[[0,0],[1,0],[0,0]],[[0,0],[0,0],[-1,0]]],[[[0,0],[0,0],[-1,0]],[[1,0],[0,0],[0,0]],[[0,0],[-1,0],[0,0]]],[[[0,0],[-1,0],[0,0]],[[0,0],[0,0],[1,0]],[[-1,0],[0,0],[0,0]]],[[[0,"-1/2"],["1/2","-1/2"],["-1/2",0]],[["-1/2","1/2"],["1/2",0],[0,"-1/2"]],[["1/2",0],[0,"-1/2"],["1/2","-1/2"]]],[[["1/2",0],[0,"-1/2"],["1/2","-1/2"]],[[0,"1/2"],["-1/2","1/2"],["1/2",0]],[["1/2","-1/2"],["-1/2",0],[0,"1/2"]]],[[["1/2","-1/2"],["-1/2",0],[0,"1/2"]],[["-1/2",0],[0,"1/2"],["-1/2","1/2"]],[[0,"-1/2"],["1/2","-1/2"],["-1/2",0]]],[[["-1/2",0],[0,"-1/2"],["1/2","-1/2"]],[[0,"1/2"],["1/2","-1/2"],["-1/2",0]],[["-1/2","1/2"],["-1/2",0],[0,"1/2"]]],[[["-1/2","1/2"],["-1/2",0],[0,"1/2"]],[["1/2",0],[0,"1/2"],["-1/2","1/2"]],[[0,"-1/2"],["-1/2","1/2"],["1/2",0]]],[[[0,"-1/2"],["-1/2","1/2"],["1/2",0]],[["1/2","-1/2"],["1/2",0],[0,"-1/2"]],[["-1/2",0],[0,"-1/2"],["1/2","-1/2"]]],[[["-1/2",0],[0,"-1/2"],["-1/2","1/2"]],[[0,"1/2"],["1/2","-1/2"],["1/2",0]],[["1/2","-1/2"],["1/2",0],[0,"1/2"]]],[[["1/2","-1/2"],["1/2",0],[0,"1/2"]],[["1/2",0],[0,"1/2"],["1/2","-1/2"]],[[0,"-1/2"],["-1/2","1/2"],["-1/2",0]]],[[[0,"-1/2"],["-1/2","1/2"],["-1/2",0]],[["-1/2","1/2"],["-1/2",0],[0,"-1/2"]],[["-1/2",0],[0,"-1/2"],["-1/2","1/2"]]],[[[0,"-1/2"],["1/2","-1/2"],["1/2",0]],[["-1/2","1/2"],["1/2",0],[0,"1/2"]],[["-1/2",0],[0,"1/2"],["1/2","-1/2"]]],[[["-1/2",0],[0,"1/2"],["1/2","-1/2"]],[[0,"1/2"],["-1/2","1/2"],["-1/2",0]],[["1/2","-1/2"],["-1/2",0],[0,"-1/2"]]],[[["1/2","-1/2"],["-1/2",0],[0,"-1/2"]],[["1/2",0],[0,"-1/2"],["-1/2","1/2"]],[[0,"-1/2"],["1/2","-1/2"],["1/2",0]]]]},orbits:[{name:"blue",unitLength:[2,0],canonicalize:0,prototype:[[1,0],[0,0],[0,0]]},{name:"red",unitLength:[1,0],canonicalize:0,prototype:[[0,1],[1,0],[0,0]]},{name:"yellow",unitLength:[-1,1],canonicalize:0,prototype:[[1,1],[0,0],[-1,0]]},{name:"green",unitLength:[2,0],canonicalize:0,prototype:[[1,0],[1,0],[0,0]]},{name:"orange",unitLength:[1,0],canonicalize:0,prototype:[[1,0],[0,1],[0,0]]},{name:"purple",unitLength:[-1,1],canonicalize:0,prototype:[[1,1],[1,0],[0,0]]},{name:"black",unitLength:[1,0],canonicalize:0,prototype:[[0,1],[1,0],[1,-1]]},{name:"lavender",unitLength:[1,0],canonicalize:21,prototype:[[2,-1],[0,1],[2,-1]]},{name:"olive",unitLength:[1,0],canonicalize:6,prototype:[[0,1],[0,1],[2,-1]]},{name:"maroon",unitLength:[1,0],canonicalize:24,prototype:[[-1,1],[3,-1],[1,-1]]},{name:"rose",unitLength:[1,0],canonicalize:17,prototype:[[2,-1],[-1,2],[0,0]]},{name:"navy",unitLength:[-1,1],canonicalize:9,prototype:[[-1,2],[1,1],[0,0]]},{name:"turquoise",unitLength:[1,0],canonicalize:-30,prototype:[[2,0],[2,-1],[-3,2]]},{name:"coral",unitLength:[1,0],canonicalize:26,prototype:[[-3,3],[0,0],[1,0]]},{name:"sulfur",unitLength:[1,0],canonicalize:0,prototype:[[-3,3],[2,-1],[0,0]]},{name:"sand",unitLength:[1,0],canonicalize:-44,prototype:[[-2,2],[-2,2],[2,0]]},{name:"apple",unitLength:[1,0],canonicalize:-59,prototype:[[5,-3],[1,0],[0,1]]},{name:"cinnamon",unitLength:[1,0],canonicalize:-31,prototype:[[5,-3],[2,-1],[2,0]]},{name:"spruce",unitLength:[1,0],canonicalize:-31,prototype:[[-3,2],[-3,2],[5,-2]]},{name:"brown",unitLength:[1,0],canonicalize:-44,prototype:[[-1,1],[-1,1],[-2,2]]}],styleNames:["solid connectors","lifelike","tiny connectors","small dodecahedra","Big Zome","no-twist 121 zone","Vienne","Vienne lifelike","Vienne 121 zone"]}}),n.variable(t("vzome_icosahedral_solid_connectors_shapes")).define("vzome_icosahedral_solid_connectors_shapes",function(){return fetch("https://gist.githubusercontent.com/vorth/b6294348ebfb7846d7cbe29f1ec38b9f/raw/a6342932778873c4137edc8bf62d3b78adc29ef4/solid-connectors-shapes.json").then(function(e){return e.json()})}),n.variable(t("vzome_icosahedral_lifelike_connectors_shapes")).define("vzome_icosahedral_lifelike_connectors_shapes",function(){return fetch("https://gist.githubusercontent.com/vorth/b6294348ebfb7846d7cbe29f1ec38b9f/raw/a6342932778873c4137edc8bf62d3b78adc29ef4/lifelike-shapes.json").then(function(e){return e.json()})}),n}function _(){var e=i(["",""]);return _=function(){return e},e}function b(){var e=i(["",""]);return b=function(){return e},e}function w(){var e=i(["\varphi"],["\\varphi"]);return w=function(){return e},e}function x(){var e=i(["Powers of ",":"]);return x=function(){return e},e}function A(){var e=i(["\n"," \u2013 blue <br>\n"," \u2013 green <br>\n"," \u2013 yellow <br>\n"," \u2013 red <br>\n"," <br>\n"," <br>\n"," <br>\n"," <br>\n"," <br>\n"," <br>\n"," <br>\n"," <br>\n"," <br>\n"," <br>\n"," <br>\n"]);return A=function(){return e},e}function M(){var e=i(["",""]);return M=function(){return e},e}function S(){var e=i(["Test  \n",""]);return S=function(){return e},e}function C(){var e=i(["",""]);return C=function(){return e},e}function E(){var e=i(['<tr>\n      <td style="padding: .5em; text-align: right;">','</td>\n      <td style="padding: .5em; text-align: center;">','</td>\n      <td style="padding: .5em; text-align: center;">','</td>\n      <td style="padding: .5em; text-align: center;">','</td>\n      <td style="padding: .5em; text-align: center;">',"</td>\n  </tr>"]);return E=function(){return e},e}function I(){var e=i(["\n<table>\n","\n</table>"]);return I=function(){return e},e}function T(){var e=i(["Zomeball Vertices  \n",""]);return T=function(){return e},e}function L(){var e=i(["Big Zomeball  \n",""]);return L=function(){return e},e}function z(){var e=i(["Green  \n",""]);return z=function(){return e},e}function k(){var e=i(["Red  \n",""]);return k=function(){return e},e}function D(){var e=i(["Yellow  \n",""]);return D=function(){return e},e}function O(){var e=i(["Blue  \n",""]);return O=function(){return e},e}function N(){var e=i(["\n      \textcolor{#04f}{","}colon!\n      \textcolor{#a90}{","}colon!\n      \textcolor{#d03}{","}"],["\n      \\textcolor{#04f}{","}\\colon\\!\n      \\textcolor{#a90}{","}\\colon\\!\n      \\textcolor{#d03}{","}"]);return N=function(){return e},e}function j(){var e=i(["",""]);return j=function(){return e},e}function P(){var e=i(['<tr>\n    <td style="padding: .5em; text-align: right;">','</td>\n    <td style="padding: .5em; text-align: center;">','</td>\n    <td style="padding: .5em; text-align: center;">','</td>\n    <td style="padding: .5em; text-align: center;">',"</td></tr>"]);return P=function(){return e},e}function R(){var e=i(["Quaternions and Matrices as Jacob might order them:<br>\n(But realistically I\u2019d probably want to think more about it)\n\n<table>\n","\n</table>"]);return R=function(){return e},e}function $(){var e=i(["",""]);return $=function(){return e},e}function F(){var e=i(['<tr><td style="padding: .5em; text-align: right;">','</td>\n                     <td style="padding: .5em; text-align: center;">','</td>\n                     <td style="padding: .5em; text-align: center;">',"</td>\n                ","\n                 </tr>"]);return F=function(){return e},e}function K(){var e=i(["Quaternions and Matrices for vZome directions:\n\n<table>\n","\n</table>"]);return K=function(){return e},e}function U(){var e=i(["\nGiven any vector, we can rotate it in 60 distinct ways (including no\nrotation) and still preserve the symmetries of the icosahedron. These\ncan be composed of fifth-turn rotations around the icosahedron vertices,\nthird-turn\xa5 rotations around the centers of the icosahedron faces, and\nhalf-turn rotations around the centers of the icosahedron edges.\n\nIf we additionally reflect along any of those directions, we obtain\nan additional 60 \u201cimproper rotations\u201d which still preserve icosahedral\nsymmetry.\n"]);return U=function(){return e},e}function V(){var e=i(["Quaternions representing 1/5 turns about\n              ",":<br><br>\n              ",""]);return V=function(){return e},e}function B(){var e=i(["","\begin{bmatrix} ","end{bmatrix} "],["","\\begin{bmatrix} ","\\end{bmatrix} "]);return B=function(){return e},e}function H(){var e=i(["","left langle ","\right \rangle "],["","\\left \\langle ","\\right \\rangle "]);return H=function(){return e},e}function G(){var e=i(["left[","\right]"],["\\left[","\\right]"]);return G=function(){return e},e}function Q(){var e=i(["* * *\n\n### Vectors\n\nFor the moment just do everything in terms of rationals.\n"]);return Q=function(){return e},e}function q(){var e=i(["left. 1 middle/ left(dfrac{a_0 + a_1\varphi}{a_d}\right) \right. \\[.6em]\n  qquad = left(dfrac{a_0 + a_1 - a_1\varphi}{a_0 + a_1 - a_1\varphi}\right)\n           dfrac{a_d}{a_0 + a_1\varphi} \\[.6em]\n  qquad = dfrac{(a_0 + a_1 - a_1\varphi)a_d}\n                 {(a_0 + a_1)a_0 + (a_0 + a_1)a_1\varphi - a_0a_1\varphi - a_1^2\varphi^2} \\[.6em]\n  qquad = dfrac{(a_0 + a_1)a_d - a_1a_d\varphi}\n                 {a_0^2 + a_0a_1 - a_1^2}"],["\\left. 1 \\middle/ \\left(\\dfrac{a_0 + a_1\\varphi}{a_d}\\right) \\right. \\\\[.6em]\n  \\qquad = \\left(\\dfrac{a_0 + a_1 - a_1\\varphi}{a_0 + a_1 - a_1\\varphi}\\right)\n           \\dfrac{a_d}{a_0 + a_1\\varphi} \\\\[.6em]\n  \\qquad = \\dfrac{(a_0 + a_1 - a_1\\varphi)a_d}\n                 {(a_0 + a_1)a_0 + (a_0 + a_1)a_1\\varphi - a_0a_1\\varphi - a_1^2\\varphi^2} \\\\[.6em]\n  \\qquad = \\dfrac{(a_0 + a_1)a_d - a_1a_d\\varphi}\n                 {a_0^2 + a_0a_1 - a_1^2}"]);return q=function(){return e},e}function W(){var e=i(["left(dfrac{a_0 + a_1\varphi}{a_d}\right)left(dfrac{b_0 + b_1\varphi}{b_d}\right) \\[.6em]\n  qquad = dfrac{(a_0b_0 + a_1b_1) + (a_0b_1 + a_1b_0 + a_1b_1)\varphi}{a_db_d}"],["\\left(\\dfrac{a_0 + a_1\\varphi}{a_d}\\right)\\left(\\dfrac{b_0 + b_1\\varphi}{b_d}\\right) \\\\[.6em]\n  \\qquad = \\dfrac{(a_0b_0 + a_1b_1) + (a_0b_1 + a_1b_0 + a_1b_1)\\varphi}{a_db_d}"]);return W=function(){return e},e}function Y(){var e=i(["dfrac{a_0 + a_1\varphi}{a_d} - dfrac{b_0 + b_1\varphi}{b_d} \\[.6em]\n  qquad = dfrac{(a_0b_d - b_0a_d) + (a_1b_d - b_1a_d)\varphi}{a_db_d}"],["\\dfrac{a_0 + a_1\\varphi}{a_d} - \\dfrac{b_0 + b_1\\varphi}{b_d} \\\\[.6em]\n  \\qquad = \\dfrac{(a_0b_d - b_0a_d) + (a_1b_d - b_1a_d)\\varphi}{a_db_d}"]);return Y=function(){return e},e}function X(){var e=i(["dfrac{a_0 + a_1\varphi}{a_d} + dfrac{b_0 + b_1\varphi}{b_d} \\[.6em]\n  qquad = dfrac{(a_0b_d + b_0a_d) + (a_1b_d + b_1a_d)\varphi}{a_db_d}"],["\\dfrac{a_0 + a_1\\varphi}{a_d} + \\dfrac{b_0 + b_1\\varphi}{b_d} \\\\[.6em]\n  \\qquad = \\dfrac{(a_0b_d + b_0a_d) + (a_1b_d + b_1a_d)\\varphi}{a_db_d}"]);return X=function(){return e},e}function J(){var e=i(["",""]);return J=function(){return e},e}function Z(){var e=i(["* * *\n### Golden Rationals "]);return Z=function(){return e},e}function ee(){var e=i(["* * *"]);return ee=function(){return e},e}function te(){var e=i(["\n(a_0 + a_1\varphi)(b_0 + b_1\varphi) \\[.2em]\n  qquad = a_0b_0 + (a_0b_1 + a_1b_0)\varphi + a_1b_1\varphi^2 \\[.2em]\n  qquad = (a_0b_0 + a_1b_1) + (a_0b_1 + a_1b_0 + a_1b_1)\varphi\n"],["\n(a_0 + a_1\\varphi)(b_0 + b_1\\varphi) \\\\[.2em]\n  \\qquad = a_0b_0 + (a_0b_1 + a_1b_0)\\varphi + a_1b_1\\varphi^2 \\\\[.2em]\n  \\qquad = (a_0b_0 + a_1b_1) + (a_0b_1 + a_1b_0 + a_1b_1)\\varphi\n"]);return te=function(){return e},e}function ne(){var e=i(["(a_0 + a_1\varphi) - (b_0 + b_1\varphi) \\[.2em]\n  qquad = (a_0 - b_0) + (a_1 - b_1)\varphi"],["(a_0 + a_1\\varphi) - (b_0 + b_1\\varphi) \\\\[.2em]\n  \\qquad = (a_0 - b_0) + (a_1 - b_1)\\varphi"]);return ne=function(){return e},e}function re(){var e=i(["(a_0 + a_1\varphi) + (b_0 + b_1\varphi) \\[.2em]\n  qquad = (a_0 + b_0) + (a_1 + b_1)\varphi"],["(a_0 + a_1\\varphi) + (b_0 + b_1\\varphi) \\\\[.2em]\n  \\qquad = (a_0 + b_0) + (a_1 + b_1)\\varphi"]);return re=function(){return e},e}function ie(){var e=i(["\varphi = dfrac{1 + sqrt{5}}{2} approx ",""],["\\varphi = \\dfrac{1 + \\sqrt{5}}{2} \\approx ",""]);return ie=function(){return e},e}function oe(){var e=i([""," "," ","\varphi"],[""," "," ","\\varphi"]);return oe=function(){return e},e}function ae(){var e=i(["\varphi^2 = \varphi + 1"],["\\varphi^2 = \\varphi + 1"]);return ae=function(){return e},e}function se(){var e=i(["\varphi"],["\\varphi"]);return se=function(){return e},e}function le(){var e=i(["* * *\n\n### Golden Integers\n\nThe key property to know about the golden ratio "," is that ",".\n"]);return le=function(){return e},e}function ue(){var e=i(["# Zome Arithmetic\n\n[Zome][] is a geometric construction system based on the symmetry system of\nthe icosahedron. Because of the pentagonal symmetries involved, the golden\nratio is fundamental to describing the metrical geometry of Zome shapes.\n\nFor the moment this notebook mostly sticks to business without a lot of\nexplanation.\n\n  [Zome]: https://en.wikipedia.org/wiki/Zome\n"]);return ue=function(){return e},e}function ce(e,t){var n=e.module();n.variable(t()).define(["md"],function(e){return e(ue())}),n.variable(t()).define(["md","tex"],function(e,t){return e(le(),t(se()),t(ae()))}),n.variable(t("gprint")).define("gprint",["tex"],function(e){return function(t){var n=Object(r.a)(t,2),i=n[0],o=n[1],a=void 0===o?0:o,s=a>0?"+":"";return e(oe(),i,s,a)}}),n.variable(t()).define(["tex","PHI"],function(e,t){return e(ie(),t.toFixed(4))}),n.variable(t("PHI")).define("PHI",function(){return.5*(Math.sqrt(5)+1)}),n.variable(t("gfloat")).define("gfloat",["PHI"],function(e){return function(t){var n=Object(r.a)(t,2),i=n[0],o=void 0===i?0:i,a=n[1];return o+e*(void 0===a?0:a)}}),n.variable(t()).define(["tex"],function(e){return e(re())}),n.variable(t("gadd")).define("gadd",function(){return function(e,t){var n=Object(r.a)(e,2),i=n[0],o=void 0===i?0:i,a=n[1],s=void 0===a?0:a,l=Object(r.a)(t,2),u=l[0],c=void 0===u?0:u,f=l[1];return[o+c,s+(void 0===f?0:f)]}}),n.variable(t()).define(["tex"],function(e){return e(ne())}),n.variable(t("gneg")).define("gneg",function(){return function(e){var t=Object(r.a)(e,2),n=t[0],i=void 0===n?0:n,o=t[1];return[0-i,0-(void 0===o?0:o)]}}),n.variable(t("gsub")).define("gsub",function(){return function(e,t){var n=Object(r.a)(e,2),i=n[0],o=void 0===i?0:i,a=n[1],s=void 0===a?0:a,l=Object(r.a)(t,2),u=l[0],c=void 0===u?0:u,f=l[1];return[o-c,s-(void 0===f?0:f)]}}),n.variable(t()).define(["tex"],function(e){return e(te())}),n.variable(t("gmul")).define("gmul",function(){return function(e,t){var n=Object(r.a)(e,2),i=n[0],o=void 0===i?0:i,a=n[1],s=void 0===a?0:a,l=Object(r.a)(t,2),u=l[0],c=void 0===u?0:u,f=l[1],h=void 0===f?0:f;return[o*c+s*h,o*h+s*c+s*h]}}),n.variable(t("gsign")).define("gsign",["PHI"],function(e){return function(t){var n=Object(r.a)(t,2),i=n[0],o=void 0===i?0:i,a=n[1],s=o+e*(void 0===a?0:a);return(s>0)-(s<0)}}),n.variable(t("gabs")).define("gabs",["PHI"],function(e){return function(t){var n=Object(r.a)(t,2),i=n[0],o=void 0===i?0:i,a=n[1],s=void 0===a?0:a,l=o+e*s,u=(l>0)-(l<0);return[o*u,s*u]}}),n.variable(t("gsquare")).define("gsquare",["gmul"],function(e){return function(t){return e(t,t)}}),n.variable(t()).define(["md"],function(e){return e(ee())}),n.variable(t("gcd")).define("gcd",function(){return function(e,t){for(e=Math.abs(e),t=Math.abs(t);0!=t;){var n=[t,e%t];e=n[0],t=n[1]}return e}}),n.variable(t("gcdc")).define("gcdc",function(){for(var e=new Uint16Array(1048576),t=0;t<1024;t++)for(var n=0;n<1024;n++){for(var r=n,i=t;0!=i;){var o=[i,r%i];r=o[0],i=o[1]}e[1024*t+n]=r}return function(t,n){if((0|t)!==t||(0|n)!==n)throw new TypeError("gcdc operates only on integers.");for(t*=(t>0)-(t<0),n*=(n>0)-(n<0);t>=1024||n>=1024;){if(0==n)return t;var r=[n,t%n];t=r[0],n=r[1]}return e[1024*n+t]}}),n.variable(t("lcm")).define("lcm",["gcd"],function(e){return function(t,n){return t/e(t,n)*n}}),n.variable(t("simplify")).define("simplify",["gcd"],function(e){return function(t){var n=t.reduce(e);return t.map(function(e){return e/n})}}),n.variable(t("simplify3")).define("simplify3",["gcdc","gcd"],function(e,t){for(var n=new Uint8Array(6291456),r=0;r<128;r++)for(var i=0;i<128;i++)for(var o=0;o<128;o++){var a=e(e(o,i),r),s=3*(128*(128*r+i)+o);n[s]=o/a,n[s+1]=i/a,n[s+2]=r/a}return n[0]=n[1]=n[2]=0,function(e,r,i){if((0|e)!==e||(0|r)!==r||(0|i)!==i)throw new TypeError("simplify3 operates only on integers.");var o=(e>0)-(e<0),a=(r>0)-(r<0),s=(i>0)-(i<0);if(e*=o,r*=a,i*=s,o*=s,a*=s,e<128&&r<128&&i<128){var l=3*(128*(128*i+r)+e);return[o*n[l],a*n[l+1],n[l+2]]}var u=t(t(e,r),i);return[o*e/u,a*r/u,i/u]}}),n.variable(t()).define(["md"],function(e){return e(Z())}),n.variable(t("grprintraw")).define("grprintraw",function(){return function(e){var t=Object(r.a)(e,3),n=t[0],i=void 0===n?0:n,o=t[1],a=void 0===o?0:o,s=t[2],l=void 0===s?1:s,u=0==a?"".concat(i):0==i&&1==a?"\\varphi":0==i&&-1==a?"- \\varphi":0==i?"".concat(a,"\\varphi"):1==a?"".concat(i," + \\varphi"):-1==a?"".concat(i," - \\varphi"):a<0?"".concat(i," ").concat(a,"\\varphi"):"".concat(i," + ").concat(a,"\\varphi");return 1==l?u:"\\dfrac{".concat(u,"}{").concat(l,"}")}}),n.variable(t("grprint")).define("grprint",["tex","grprintraw"],function(e,t){return function(n){return e(J(),t(n))}}),n.variable(t("grfloat")).define("grfloat",["PHI"],function(e){return function(t){var n=Object(r.a)(t,3),i=n[0],o=void 0===i?0:i,a=n[1],s=void 0===a?0:a,l=n[2];return(o+e*s)/(void 0===l?1:l)}}),n.variable(t()).define(["tex"],function(e){return e(X())}),n.variable(t("gradd")).define("gradd",["simplify3"],function(e){return function(t,n){var i=Object(r.a)(t,3),o=i[0],a=void 0===o?0:o,s=i[1],l=void 0===s?0:s,u=i[2],c=void 0===u?1:u,f=Object(r.a)(n,3),h=f[0],d=void 0===h?0:h,p=f[1],m=void 0===p?0:p,v=f[2],g=void 0===v?1:v;return e(a*g+d*c,l*g+m*c,c*g)}}),n.variable(t("grsum")).define("grsum",["gradd"],function(e){return function(t){return t.reduce(e,[0])}}),n.variable(t()).define(["tex"],function(e){return e(Y())}),n.variable(t("grneg")).define("grneg",function(){return function(e){var t=Object(r.a)(e,3),n=t[0],i=void 0===n?0:n,o=t[1],a=void 0===o?0:o,s=t[2];return[0-i,0-a,void 0===s?1:s]}}),n.variable(t("grsub")).define("grsub",["simplify3"],function(e){return function(t,n){var i=Object(r.a)(t,3),o=i[0],a=void 0===o?0:o,s=i[1],l=void 0===s?0:s,u=i[2],c=void 0===u?1:u,f=Object(r.a)(n,3),h=f[0],d=void 0===h?0:h,p=f[1],m=void 0===p?0:p,v=f[2],g=void 0===v?1:v;return e(a*g-d*c,l*g-m*c,c*g)}}),n.variable(t()).define(["tex"],function(e){return e(W())}),n.variable(t("grmul")).define("grmul",["simplify3"],function(e){return function(t,n){var i=Object(r.a)(t,3),o=i[0],a=void 0===o?0:o,s=i[1],l=void 0===s?0:s,u=i[2],c=void 0===u?1:u,f=Object(r.a)(n,3),h=f[0],d=void 0===h?0:h,p=f[1],m=void 0===p?0:p,v=f[2];return e(a*d+l*m,a*m+l*d+l*m,c*(void 0===v?1:v))}}),n.variable(t()).define(["tex"],function(e){return e(q())}),n.variable(t("grinv")).define("grinv",["simplify3"],function(e){return function(t){var n=Object(r.a)(t,3),i=n[0],o=void 0===i?0:i,a=n[1],s=void 0===a?0:a,l=n[2],u=void 0===l?1:l;return e((o+s)*u,0-s*u,o*o+o*s-s*s)}}),n.variable(t("grdiv")).define("grdiv",["grmul","grinv"],function(e,t){return function(n,r){return e(n,t(r))}}),n.variable(t("grsign")).define("grsign",["PHI"],function(e){return function(t){var n=Object(r.a)(t,3),i=n[0],o=void 0===i?0:i,a=n[1],s=void 0===a?0:a,l=n[2],u=void 0===l?1:l,c=o+e*s;return((u>0)-(u<0))*((c>0)-(c<0))}}),n.variable(t("grabs")).define("grabs",["PHI"],function(e){return function(t){var n=Object(r.a)(t,3),i=n[0],o=void 0===i?0:i,a=n[1],s=void 0===a?0:a,l=n[2],u=void 0===l?1:l,c=o+e*s,f=((u>0)-(u<0))*((c>0)-(c<0));return[o*f,s*f,u]}}),n.variable(t("grgreater")).define("grgreater",["PHI"],function(e){return function(t,n){var i=Object(r.a)(t,3),o=i[0],a=void 0===o?0:o,s=i[1],l=void 0===s?0:s,u=i[2],c=void 0===u?1:u,f=Object(r.a)(n,3),h=f[0],d=void 0===h?0:h,p=f[1],m=void 0===p?0:p,v=f[2],g=void 0===v?1:v;return a*g-d*c+e*(l*g-m*c)>0}}),n.variable(t("grsquare")).define("grsquare",["grmul"],function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0];return e(t,t)}}),n.variable(t("grpow")).define("grpow",["grinv","grmul"],function(e,t){return function(n,r){r<0&&(n=e(n),r=-r);for(var i=[1],o=0;o<r;o++)i=t(n,i);return i}}),n.variable(t()).define(["md"],function(e){return e(Q())}),n.variable(t("vprint")).define("vprint",["tex","grprintraw"],function(e,t){return function(n){return e(G(),n.map(t).join(","))}}),n.variable(t("quatprint")).define("quatprint",["lcm","grprintraw","grmul","tex"],function(e,t,n,i){return function(o){var a=(o=Object(u.a)(o.values()).map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(r.a)(e,3),n=t[0],i=void 0===n?0:n,o=t[1],a=void 0===o?0:o,s=t[2];return[i,a,void 0===s?1:s]})).map(function(e){return Object(r.a)(e,3)[2]}).reduce(e),s=1==a?"":t([1,,a]);return o=o.map(function(e,t){return n(e,[a])}),i(H(),s,o.map(t).join(","))}}),n.variable(t("mat33print")).define("mat33print",["lcm","grprintraw","grmul","tex"],function(e,t,n,i){return function(o){var a=(o=Object(u.a)(o.values()).map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(r.a)(e,3),n=t[0],i=void 0===n?0:n,o=t[1],a=void 0===o?0:o,s=t[2];return[i,a,void 0===s?1:s]})).map(function(e){return Object(r.a)(e,3)[2]}).reduce(e),s=1==a?"":t([1,,a]),l=(o=o.map(function(e,t){return n(e,[a])})).map(function(e,n){return t(e)+((n-2)%3?"&":"\\\\")}).join("");return i(B(),s,l)}}),n.variable(t("quadrance")).define("quadrance",["grsquare","gradd"],function(e,t){return function(n){return Object(u.a)(n.values()).map(e).reduce(t,[0])}}),n.variable(t("scalarmul")).define("scalarmul",["grmul"],function(e){return function(t,n){return Object(u.a)(n.values()).map(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0];return e(t,n)})}}),n.variable(t("vectoradd")).define("vectoradd",["gradd"],function(e){return function(t,n){return Object(u.a)(t.values()).map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0],r=arguments.length>1?arguments[1]:void 0;return e(t,n[r]||[0])})}}),n.variable(t("vectorsub")).define("vectorsub",["grsub"],function(e){return function(t,n){return Object(u.a)(t.values()).map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0],r=arguments.length>1?arguments[1]:void 0;return e(t,n[r]||[0])})}}),n.variable(t("dot")).define("dot",["grmul","gradd"],function(e,t){return function(n,r){return Object(u.a)(n.values()).map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0],n=arguments.length>1?arguments[1]:void 0;return e(t,r[n]||[0])}).reduce(t,[0])}}),n.variable(t("wedge")).define("wedge",["grmul","grsub"],function(e,t){return function(n,i){var o=e,a=t,s=Object(r.a)(n,3),l=s[0],u=s[1],c=s[2],f=Object(r.a)(i,3),h=f[0],d=f[1],p=f[2];return[a(o(u,p),o(c,d)),a(o(c,h),o(l,p)),a(o(l,d),o(u,h))]}}),n.variable(t("spread")).define("spread",["grsub","grdiv","grsquare","dot","grmul","quadrance"],function(e,t,n,r,i,o){return function(a,s){return e([1],t(n(r(a,s)),i(o(a),o(s))))}}),n.variable(t("transform")).define("transform",["grmul","gradd"],function(e,t){return function(n,i){var o=Object(r.a)(n,9),a=o[0],s=o[1],l=o[2],u=o[3],c=o[4],f=o[5],h=o[6],d=o[7],p=o[8],m=Object(r.a)(i,3),v=m[0],g=void 0===v?[0]:v,y=m[1],_=void 0===y?[0]:y,b=m[2],w=void 0===b?[0]:b,x=e,A=t;return[A(A(x(g,a),x(_,s)),x(w,l)),A(A(x(g,u),x(_,c)),x(w,f)),A(A(x(g,h),x(_,d)),x(w,p))]}}),n.variable(t("quatmul")).define("quatmul",["grmul","gradd","grsub"],function(e,t,n){return function(i,o){var a=e,s=t,l=n,u=Object(r.a)(i,4),c=u[0],f=void 0===c?[0]:c,h=u[1],d=void 0===h?[0]:h,p=u[2],m=void 0===p?[0]:p,v=u[3],g=void 0===v?[0]:v,y=Object(r.a)(o,4),_=y[0],b=void 0===_?[0]:_,w=y[1],x=void 0===w?[0]:w,A=y[2],M=void 0===A?[0]:A,S=y[3],C=void 0===S?[0]:S;return[l(a(f,b),s(s(a(d,x),a(m,M)),a(g,C))),s(s(a(f,x),a(d,b)),l(a(m,C),a(g,M))),s(s(a(f,M),a(m,b)),l(a(g,x),a(d,C))),s(s(a(f,C),a(g,b)),l(a(d,M),a(m,x)))]}}),n.variable(t("quatconj")).define("quatconj",["grneg"],function(e){return function(t){var n=Object(r.a)(t,4),i=n[0],o=void 0===i?[0]:i,a=n[1],s=void 0===a?[0]:a,l=n[2],u=void 0===l?[0]:l,c=n[3],f=void 0===c?[0]:c;return[o,e(s),e(u),e(f)]}}),n.variable(t("quatnormalize")).define("quatnormalize",["scalarmul","grsign"],function(e,t){return function(n){return e([n.map(t).reduce(function(e,t){return e||t})||1],n)}}),n.variable(t("quattransform")).define("quattransform",["quatmul","quatconj"],function(e,t){return function(n,r){return e(n,e([[0]].concat(r),t(n))).slice(1)}}),n.variable(t()).define(["quatmul","html","vprint"],function(e,t,n){for(var r=[[[1],[0],[0],[0]],[[0,1,2],[-1,1,2],[0,0,1],[1,0,2]]],i=2;i<10;i++)r[i]=e(r[i-1],r[1]);return t(V(),n([[1],[0],[0,1]]),r.map(n))}),n.variable(t("red_rotation")).define("red_rotation",function(){return[[0,1,2],[-1,1,2],[1,0,2],[-1,1,2],[1,0,2],[0,-1,2],[-1,0,2],[0,1,2],[-1,1,2]]}),n.variable(t()).define(["md"],function(e){return e(U())}),n.variable(t("icosahedral_symmetry")).define("icosahedral_symmetry",["scalarmul","grneg","transform","red_rotation"],function(e,t,n,i){return function(o){o=e([1],o);for(var a=[],s=0;s<5;s++){var l=o,u=Object(r.a)(l,3),c=u[0],f=u[1],h=u[2],d=o.map(t),p=Object(r.a)(d,3),m=p[0],v=p[1],g=p[2];a.push([c,f,h],[c,v,g],[m,f,g],[m,v,h],[h,c,f],[h,m,v],[g,c,v],[g,m,f],[f,h,c],[f,g,m],[v,h,m],[v,g,c]),o=n(i,o)}return a}}),n.variable(t("icosahedral_quaternions")).define("icosahedral_quaternions",["quatmul","scalarmul","grsign"],function(e,t,n){for(var r=[[1],,,],i=[1,,2],o=[r,[,[1],,],[,,[1]],[,,,[1]]],a=[r,[i,i,i,i],[[-1,,2],i,i,i]],s=[r,[[,1,2],[-1,1,2],,i]],l=2;l<5;l++)s[l]=e(s[l-1],s[1]);return[o,a,s].reduce(function(t,n){var r;return(r=[]).concat.apply(r,Object(u.a)(t.map(function(t){return n.map(function(n){return e(t,n)})})))}).map(function(e){return t([n(e[0])||n(e[1])||1],e)})}),n.variable(t("icosahedral_quaternions_vzome")).define("icosahedral_quaternions_vzome",["quatmul","quatnormalize"],function(e,t){for(var n=[[1],,,],r=[1,,2],i=[n,[,[1],,],[,,,[1]],[,,[1]]],o=[n,[r,r,r,r],[[-1,,2],r,r,r]],a=[n,[[,1,2],r,[-1,1,2]]],s=2;s<5;s++)a[s]=e(a[s-1],a[1]);for(var l,u,c,f=[],h=0,d=i;h<d.length;h++){l=d[h];for(var p=0,m=a;p<m.length;p++){u=m[p];for(var v=0,g=o;v<g.length;v++)c=g[v],f.push(t(e(l,e(c,u))))}}return f}),n.variable(t("quat2matrix")).define("quat2matrix",["quatconj","quatmul"],function(e,t){return function(n){var i=e(n),o=t(n,t([,[1],,],i)),a=Object(r.a)(o,4),s=(a[0],a[1]),l=a[2],u=a[3],c=t(n,t([,,[1]],i)),f=Object(r.a)(c,4),h=(f[0],f[1]),d=f[2],p=f[3],m=t(n,t([,,,[1]],i)),v=Object(r.a)(m,4);v[0];return[s,h,v[1],l,d,v[2],u,p,v[3]]}}),n.variable(t("scott_matrices")).define("scott_matrices",["golden_icosahedral_symmetry"],function(e){return e.matrices.map(function(e){var t;return(t=[]).concat.apply(t,Object(u.a)(e))})}),n.variable(t("orbitnames")).define("orbitnames",["golden_icosahedral_symmetry"],function(e){return Object.entries(e.orbits).reduce(function(e,t){var n=Object(r.a)(t,2),i=n[0];return e[n[1].canonical]=i,e},{})}),n.variable(t()).define(["mat33print","red_rotation"],function(e,t){return e(t)}),n.variable(t()).define(["quatprint","icosahedral_quaternions_vzome"],function(e,t){return e(t[3])}),n.variable(t()).define(["html","icosahedral_quaternions_vzome","tex","quatprint","mat33print","quat2matrix"],function(e,t,n,r,i,o){return e(K(),t.map(function(t,a){return e(F(),n($(),a),r(t),i(o(t)),"")}))}),n.variable(t()).define(["html","icosahedral_quaternions","tex","quatprint","mat33print","quat2matrix"],function(e,t,n,r,i,o){return e(R(),t.map(function(t,a){return e(P(),n(j(),a),n(N(),Math.floor(a/15)%4,Math.floor(a/5)%3,a%5),r(t),i(o(t)))}))}),n.variable(t()).define(["md","deduplicate","icosahedral_symmetry","vprint"],function(e,t,n,r){return e(O(),t(n([[2],[0],[0]])).map(r))}),n.variable(t()).define(["md","deduplicate","icosahedral_symmetry","vprint"],function(e,t,n,r){return e(D(),t(n([[1],[1],[1]])).map(r))}),n.variable(t()).define(["md","deduplicate","icosahedral_symmetry","vprint"],function(e,t,n,r){return e(k(),t(n([[,1],[1],[0]])).map(r))}),n.variable(t()).define(["md","deduplicate","icosahedral_symmetry","vprint"],function(e,t,n,r){return e(z(),t(n([[2],[2],[0]])).map(r))}),n.variable(t()).define(["md","deduplicate","icosahedral_symmetry","vprint"],function(e,t,n,r){return e(L(),t(n([[2,2],[,1],[1]])).map(r))}),n.variable(t()).define(["md","deduplicate","icosahedral_symmetry","vprint"],function(e,t,n,r){return e(T(),t(n([[1,0,1],[-1,1,2],[2,-1,2]])).map(r))}),n.variable(t("deduplicate")).define("deduplicate",function(){return function(e){var t=new Set;return e.filter(function(e){return!t.has(JSON.stringify(e))&&(t.add(JSON.stringify(e)),!0)})}}),n.variable(t("orbit")).define("orbit",["grabs","transform","red_rotation","dot","grmul","grgreater","vectoradd","scalarmul","grinv"],function(e,t,n,r,i,o,a,s,l){var u=[[-1,1],[-1],[0,-1]];return function(c){c=c.map(e),c=t(n,c).map(e),c=t(n,c).map(e);var f=r(c,u);return f=i([-o([0],f),0,2],f),c=a(c,s(f,u)),s(l(c[0]),[c[1],c[2]])}}),n.variable(t("transform_in_place")).define("transform_in_place",["simplify3"],function(e){var t=function(t,n){var i=Object(r.a)(t,3),o=i[0],a=i[1],s=i[2],l=Object(r.a)(n,3),u=l[0],c=l[1],f=l[2];return e(o*u+a*c,o*c+a*u+a*c,s*f)},n=function(t,n,i){var o=Object(r.a)(t,3),a=o[0],s=o[1],l=o[2],u=Object(r.a)(n,3),c=u[0],f=u[1],h=u[2],d=Object(r.a)(i,3),p=d[0],m=d[1],v=d[2];return e(a*h*v+c*l*v+p*l*h,s*h*v+f*l*v+m*l*h,l*h*v)};return function(e,i){var o=Object(r.a)(e,9),a=o[0],s=o[1],l=o[2],u=o[3],c=o[4],f=o[5],h=o[6],d=o[7],p=o[8],m=Object(r.a)(i,3),v=m[0],g=m[1],y=m[2];return i[0]=n(t(v,a),t(g,s),t(y,l)),i[1]=n(t(v,u),t(g,c),t(y,f)),i[2]=n(t(v,h),t(g,d),t(y,p)),i}}),n.variable(t("orbit2")).define("orbit2",["PHI","range","quatmul","grsign","scalarmul","transform","red_rotation","dot","grgreater","grmul","vectoradd","grinv"],function(e,t,n,i,o,a,s,l,c,f,h,d){var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(r.a)(e,3),n=t[0],i=void 0===n?0:n,o=t[1],a=void 0===o?0:o,s=t[2];return[i,a,void 0===s?1:s]},m=function(t){var n=t[0]+e*t[1],r=(n>0)-(n<0);return t[0]*=r,t[1]*=r,+(r<0)},v=Object(u.a)(t(256)).map(function(e){var t=[[1],,,];128&e&&(t=n(t,[,[1],,])),64&e&&(t=n(t,[,,[1]])),32&e&&(t=n(t,[,,,[1]])),t=n(t,[[,1,2],[-1,,2],[1,-1,2]]),16&e&&(t=n(t,[,,[1]])),8&e&&(t=n(t,[,,,[1]])),t=n(t,[[,1,2],[-1,,2],[1,-1,2]]),4&e&&(t=n(t,[,,[1]])),2&e&&(t=n(t,[,,,[1]])),1&e&&(t=n(t,[,[-1,1,2],[-1,,2],[,-1,2]]));var r=t.map(i).reduce(function(e,t){return e||t})||1;return o([r],t)}),g=[[-1,1],[-1],[,-1]];return function(e){e=[p(e[0]),p(e[1]),p(e[2])];var t=[m(e[0]),m(e[1]),m(e[2])];e=a(s,e),t.push(m(e[1]),m(e[2])),e=a(s,e),t.push(m(e[1]),m(e[2]));var n=l(e,g),r=+c([0],n);t.push(r),n=f([-r,0,2],n),e=h(e,o(n,g));var i,u=o(d(e[0]),[e[1],e[2]]),y=t.reduce(function(e,t){return(e<<1)+t}),_=v[y],b=e[0];return[u,_,(i=y,i-=i>>1&85,(i-=i>>2&51)-(i>>4)&1),b]}}),n.variable(t()).define(["orbit2"],function(e){return e([[0],[0],[0]])}),n.variable(t()).define(["html","icosahedral_quaternions_vzome","quattransform","orbit2","scalarmul","tex","quatprint"],function(e,t,n,i,o,a,s){return e(I(),t.map(function(t,l){var u=[[1],[2,-1],[5,-3]],c=n(t,u),f=i(c),h=Object(r.a)(f,3),d=(h[0],h[1]),p=h[2],m=o([1-2*p],n(d,u));return e(E(),a(C(),l),s(t),s(d),s(c),s(m))}))}),n.variable(t()).define(["quattransform"],function(e){return e([[0,1,2],[1,0,2],[-1,1,2],[0,0,1]],[[1,0,1],[2,-1,2],[-3,2,2]])});var i=e.module(y);return n.import("golden_icosahedral_symmetry",i),n.variable(t("test_orbits")).define("test_orbits",function(){return[[[1,0,1],[2,-1,2],[-3,2,2]],[[1,0,1],[2,-1,1],[5,-3,1]],[[1,0,1],[0,0,1],[-4,3,5]],[[1,0,1],[2,-1,1],[0,0,1]],[[1,0,1],[-1,1,1],[0,0,1]],[[1,0,1],[0,0,1],[2,-1,1]],[[1,0,1],[0,0,1],[0,0,1]]]}),n.variable(t()).define(["md","deduplicate","icosahedral_symmetry","vprint"],function(e,t,n,r){return e(S(),t(n([[1],[-8,5],[5,-3]])).map(r))}),n.variable(t()).define(["md","icosahedral_quaternions_vzome","quattransform","vprint"],function(e,t,n,r){return e(M(),t.map(function(e){return n(e,[[3],[2,-1],[5,-3]])}).map(r))}),n.variable(t()).define(["vprint","orbit"],function(e,t){return e(t([[3],[2,-1],[5,-3]]))}),n.variable(t()).define(["vprint","orbit"],function(e,t){return e(t([[3],[2,-1],[5,-3]]))}),n.variable(t()).define(["vprint","orbit"],function(e,t){return e(t([[2],[0],[0]]))}),n.variable(t()).define(["vprint","orbit"],function(e,t){return e(t([[-1,1],[1],[,1]]))}),n.variable(t()).define(["vprint","orbit"],function(e,t){return e(t([[1],[1],[1]]))}),n.variable(t()).define(["vprint","orbit"],function(e,t){return e(t([[1],[1,1],[0]]))}),n.variable(t()).define(["vprint","orbit"],function(e,t){return e(t([[,1],[1],[0]]))}),n.variable(t()).define(["vprint","orbit"],function(e,t){return e(t([[2],[2],[0]]))}),n.variable(t()).define(["vprint","orbit"],function(e,t){return e(t([[1],[-8,5],[5,-3]]))}),n.variable(t()).define(["orbit","grfloat"],function(e,t){return e([[1],[1,1],[0]]).map(t)}),n.variable(t()).define(["orbit","grfloat"],function(e,t){return e([[,1],[1],[0]]).map(t)}),n.variable(t()).define(["md","vprint","orbit"],function(e,t,n){return e(A(),t(n([[1],[0],[0]])),t(n([[1],[1],[0]])),t(n([[1],[-1,1],[0]])),t(n([[1],[1,1],[0]])),t(n([[1],[1,2],[0]])),t(n([[1],[0,1],[0]])),t(n([[1,1],[1],[0]])),t(n([[1,2],[1],[0]])),t(n([[2,3],[1],[0]])),t(n([[2],[1],[0]])),t(n([[1],[2],[0]])),t(n([[2],[-1,1],[0]])),t(n([[-1,1],[2],[0]])),t(n([[2],[1,1],[0]])),t(n([[1,1],[2],[0]])))}),n.variable(t()).define(["md","tex"],function(e,t){return e(x(),t(w()))}),n.variable(t()).define(["vprint","range","grpow"],function(e,t,n){return e(Object(u.a)(t(10)).map(function(e){return n([,1],e)}))}),n.variable(t()).define(["vprint","range","grpow"],function(e,t,n){return e(Object(u.a)(t(10)).map(function(e){return n([,1],-e)}))}),n.variable(t("parseAlgebraicNumber")).define("parseAlgebraicNumber",["simplify3"],function(e){return function(t){var n=Object(r.a)(t,3),i=n[0],o=void 0===i?0:i,a=n[1],s=void 0===a?0:a,l=n[2],u=void 0===l?1:l,c=1,f=1;if("number"!==typeof o){var h=o.split("/").map(Number),d=Object(r.a)(h,2);o=d[0],c=d[1]}if("number"!==typeof s){var p=s.split("/").map(Number),m=Object(r.a)(p,2);s=m[0],f=m[1]}return e(o*f,s*c,c*f*u)}}),n.variable(t("range")).define("range",function(){return function(e){return Object(h.a)({},Symbol.iterator,a.a.mark(function t(){var n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=0;case 1:if(!(n<e)){t.next=7;break}return t.next=4,n;case 4:n++,t.next=1;break;case 7:case"end":return t.stop()}},t)}))}}),n.variable(t()).define(["solid_connectors","orbit2","quattransform","quatconj","scalarmul"],function(e,t,n,i,o){var a=JSON.parse(JSON.stringify(e));return Object.entries(a.strutGeometries).map(function(e){var a=Object(r.a)(e,2),s=a[0],l=a[1],u=t(l.prototypeVector),c=Object(r.a)(u,4),f=c[0],h=c[1],d=c[2],p=(c[3],l.vertices.map(function(e){return e=n(i(h),e),d?o([-1],e):e})),m=Object.assign({name:s},l,{vertices:p,prototypeVector:[[1,0,0]].concat(f)});return[JSON.stringify(f),m]}).reduce(function(e,t){var n=Object(r.a)(t,2),i=n[0],o=n[1];return e[i]=o,e},{})}),n.variable(t("solid_connectors")).define("solid_connectors",function(){return{name:"solid connectors",connectorShape:{vertices:[[[-1,1,2],[0,-1,2],[-1,1,1]],[[0,1,2],[1,-1,1],[-1,1,2]],[[-1,1,1],[1,-1,2],[0,1,2]],[[1,0,1],[-1,1,2],[2,-1,2]],[[0,1,2],[-1,1,1],[-1,1,2]],[[-1,1,1],[-1,1,2],[0,1,2]],[[0,1,2],[0,0,1],[3,-1,2]],[[2,-1,2],[-1,0,1],[-1,1,2]],[[-2,1,2],[-1,0,1],[-1,1,2]],[[-2,1,2],[-1,0,1],[1,-1,2]],[[2,-1,2],[-1,0,1],[1,-1,2]],[[1,0,1],[1,-1,2],[-2,1,2]],[[0,1,2],[1,-1,1],[1,-1,2]],[[-1,1,1],[1,-1,2],[0,-1,2]],[[0,1,2],[0,0,1],[-3,1,2]],[[0,0,1],[3,-1,2],[0,-1,2]],[[-1,1,2],[0,1,2],[1,-1,1]],[[-1,1,1],[-1,1,2],[0,-1,2]],[[-1,1,2],[2,-1,2],[-1,0,1]],[[1,0,1],[-1,1,2],[-2,1,2]],[[1,-1,2],[0,-1,2],[-1,1,1]],[[0,0,1],[-3,1,2],[0,1,2]],[[0,1,2],[-1,1,1],[1,-1,2]],[[3,-1,2],[0,1,2],[0,0,1]],[[-3,1,2],[0,1,2],[0,0,1]],[[0,-1,2],[-1,1,1],[-1,1,2]],[[1,-1,2],[0,1,2],[-1,1,1]],[[-2,1,2],[1,0,1],[-1,1,2]],[[-1,1,2],[-2,1,2],[-1,0,1]],[[2,-1,2],[1,0,1],[-1,1,2]],[[-1,1,2],[0,1,2],[-1,1,1]],[[0,-1,2],[1,-1,1],[-1,1,2]],[[-3,1,2],[0,-1,2],[0,0,1]],[[0,0,1],[3,-1,2],[0,1,2]],[[-1,1,2],[0,-1,2],[1,-1,1]],[[0,0,1],[-3,1,2],[0,-1,2]],[[-1,0,1],[-1,1,2],[2,-1,2]],[[0,-1,2],[0,0,1],[3,-1,2]],[[1,-1,1],[-1,1,2],[0,1,2]],[[1,0,1],[1,-1,2],[2,-1,2]],[[1,-1,2],[0,-1,2],[1,-1,1]],[[-1,0,1],[-1,1,2],[-2,1,2]],[[-1,0,1],[1,-1,2],[-2,1,2]],[[-1,0,1],[1,-1,2],[2,-1,2]],[[2,-1,2],[1,0,1],[1,-1,2]],[[0,-1,2],[-1,1,1],[1,-1,2]],[[-2,1,2],[1,0,1],[1,-1,2]],[[1,-1,2],[0,1,2],[1,-1,1]],[[1,-1,1],[1,-1,2],[0,1,2]],[[-1,1,2],[2,-1,2],[1,0,1]],[[1,-1,2],[2,-1,2],[-1,0,1]],[[1,-1,2],[2,-1,2],[1,0,1]],[[1,-1,2],[-2,1,2],[1,0,1]],[[-1,1,2],[-2,1,2],[1,0,1]],[[3,-1,2],[0,-1,2],[0,0,1]],[[0,-1,2],[0,0,1],[-3,1,2]],[[1,-1,1],[1,-1,2],[0,-1,2]],[[1,-1,2],[-2,1,2],[-1,0,1]],[[1,-1,1],[-1,1,2],[0,-1,2]],[[0,-1,2],[1,-1,1],[1,-1,2]]],polygons:[[9,40,35,34,10],[0,1,2],[33,51,49],[25,36,37,38],[41,55,42],[9,32,59,40],[20,21,52,48],[26,33,30,29,27],[3,4,5,6],[27,29,44,46],[50,57,56,55,58],[26,38,51,33],[45,47,58],[18,28,57,50],[40,59,56],[31,48,37,43],[7,8,9,10],[36,41,42,43],[24,46,47,45],[4,30,5],[15,47,46,44,16],[15,50,58,47],[24,45,41,36,25],[11,14,19],[3,6,39],[1,39,6,2],[8,32,9],[11,12,13,14],[16,22,17],[0,21,20,8,7],[12,34,13],[35,40,56,57],[0,7,54,1],[15,16,17,18],[3,19,22,23,4],[7,10,54],[41,45,58,55],[3,39,11,19],[14,17,22,19],[0,2,53,21],[49,51,52,53],[31,43,42,59,32],[15,18,50],[42,55,56,59],[4,23,29,30],[25,38,26],[13,28,18,17,14],[8,20,31,32],[23,44,29],[24,27,46],[37,48,52,51,38],[20,48,31],[24,25,26,27],[16,44,23,22],[13,34,35,28],[10,34,12,54],[2,6,5,49,53],[36,43,37],[5,30,33,49],[1,54,12,11,39],[28,35,57],[21,53,52]]},strutGeometries:{cinnamon:{prototypeVector:[[5,-3,1],[2,-1,1],[2,0,1]],fullScaleVertices:[16,0,1,2,3,4,5,11,12],halfScaleVertices:[],vertices:[[[6,-4,1],[3,-2,1],[1,-2,1]],[[1,-1,2],[2,-1,2],[-1,0,1]],[[-1,1,2],[2,-1,2],[-1,0,1]],[[5,-3,1],[3,-2,1],[1,-2,1]],[[5,-3,1],[1,-1,1],[1,-2,1]],[[-1,1,2],[-2,1,2],[-1,0,1]],[[1,-1,2],[-2,1,2],[1,0,1]],[[-1,1,2],[-2,1,2],[1,0,1]],[[-6,4,1],[-3,2,1],[-1,2,1]],[[-5,3,1],[-3,2,1],[-1,2,1]],[[-6,4,1],[-1,1,1],[-1,2,1]],[[0,0,1],[0,0,1],[0,0,1]],[[6,-4,1],[1,-1,1],[1,-2,1]],[[-5,3,1],[-1,1,1],[-1,2,1]],[[-1,1,2],[2,-1,2],[1,0,1]],[[1,-1,2],[2,-1,2],[1,0,1]],[[1,-1,2],[-2,1,2],[-1,0,1]]],polygons:[[0,1,2,3],[6,7,8,9],[4,3,2,5],[4,8,10,3],[13,10,14,15],[9,8,4,12],[12,4,5,16],[0,3,10,13],[12,0,13,9],[7,14,10,8],[12,16,1,0],[9,13,15,6]]},green:{prototypeVector:[[1,1,2],[1,0,2],[-2,1,2]],fullScaleVertices:[0,1,2,18,3,4,8,9,10,11],halfScaleVertices:[],vertices:[[[-2,-3,4],[-5,1,4],[7,-4,4]],[[-3,1,2],[0,-1,2],[0,0,1]],[[-2,-3,4],[-5,1,4],[15,-8,4]],[[-6,-1,4],[-7,3,4],[13,-8,4]],[[-6,-1,4],[-7,3,4],[21,-12,4]],[[0,1,2],[-1,1,1],[-1,1,2]],[[1,0,1],[-1,1,2],[2,-1,2]],[[6,1,4],[7,-3,4],[-13,8,4]],[[-1,0,1],[1,-1,2],[-2,1,2]],[[0,-1,2],[1,-1,1],[1,-1,2]],[[0,-1,2],[1,-1,1],[-1,1,2]],[[-1,0,1],[1,-1,2],[2,-1,2]],[[2,3,4],[5,-1,4],[-7,4,4]],[[3,-1,2],[0,1,2],[0,0,1]],[[6,1,4],[7,-3,4],[-21,12,4]],[[2,3,4],[5,-1,4],[-15,8,4]],[[0,1,2],[-1,1,1],[1,-1,2]],[[1,0,1],[-1,1,2],[-2,1,2]],[[0,0,1],[0,0,1],[0,0,1]]],polygons:[[0,1,2],[5,6,7],[3,8,9],[4,2,10,11],[12,7,2,4],[13,5,12],[7,14,0,2],[14,15,3,0],[15,12,4,3],[1,10,2],[9,0,3],[9,1,0],[16,13,15],[13,12,15],[6,17,14,7],[3,4,11,8],[5,7,12],[17,16,15,14]]},navy:{prototypeVector:[[-1,2,1],[1,1,1],[0,0,1]],fullScaleVertices:[0,16,4,5,6,7,8,9,10,12],halfScaleVertices:[],vertices:[[[0,0,1],[0,0,1],[0,0,1]],[[11,-3,4],[3,2,4],[6,-3,4]],[[0,1,2],[-1,1,1],[-1,1,2]],[[1,0,1],[-1,1,2],[2,-1,2]],[[-1,0,1],[1,-1,2],[2,-1,2]],[[-3,1,2],[0,-1,2],[0,0,1]],[[-13,5,4],[3,-6,4],[-6,3,4]],[[-13,5,4],[3,-6,4],[6,-3,4]],[[0,-1,2],[1,-1,1],[1,-1,2]],[[-1,0,1],[1,-1,2],[-2,1,2]],[[-11,3,4],[-3,-2,4],[-6,3,4]],[[13,-5,4],[-3,6,4],[6,-3,4]],[[-11,3,4],[-3,-2,4],[6,-3,4]],[[13,-5,4],[-3,6,4],[-6,3,4]],[[11,-3,4],[3,2,4],[-6,3,4]],[[1,0,1],[-1,1,2],[-2,1,2]],[[0,-1,2],[1,-1,1],[-1,1,2]],[[3,-1,2],[0,1,2],[0,0,1]],[[0,1,2],[-1,1,1],[1,-1,2]]],polygons:[[1,2,3],[6,5,7],[9,8,10],[10,8,6],[8,5,6],[11,1,7,12],[13,10,6,14],[15,14,1,3],[12,7,16],[13,17,11],[16,7,5],[2,1,11],[11,17,2],[13,18,17],[18,14,15],[7,1,14,6],[13,14,18],[10,12,4,9],[4,12,16],[10,13,11,12]]},black:{prototypeVector:[[-1,3,2],[1,0,2],[-2,1,2]],fullScaleVertices:[1,2,4,5,6,7,11,12,14],halfScaleVertices:[],vertices:[[[-1,3,2],[0,1,2],[0,0,1]],[[1,-3,2],[-2,1,2],[2,-1,1]],[[1,-3,2],[-2,1,2],[0,0,1]],[[-1,3,2],[0,1,2],[-2,1,1]],[[-1,0,1],[1,-1,2],[-2,1,2]],[[1,-3,2],[0,-1,2],[2,-1,1]],[[-1,0,1],[1,-1,2],[2,-1,2]],[[-1,0,1],[-1,1,2],[2,-1,2]],[[1,0,1],[1,-1,2],[2,-1,2]],[[-1,3,2],[2,-1,2],[0,0,1]],[[1,0,1],[-1,1,2],[2,-1,2]],[[1,-3,2],[0,-1,2],[0,0,1]],[[-1,0,1],[-1,1,2],[-2,1,2]],[[-1,3,2],[2,-1,2],[-2,1,1]],[[0,0,1],[0,0,1],[0,0,1]],[[1,0,1],[1,-1,2],[-2,1,2]],[[1,0,1],[-1,1,2],[-2,1,2]]],polygons:[[0,1,2,3],[5,6,7,1],[8,9,0,10],[11,2,12,4],[13,11,5,9],[4,6,5,11],[3,2,11,13],[15,13,9,8],[3,13,15,16],[16,10,0,3],[9,5,1,0],[1,7,12,2]]},yellow:{prototypeVector:[[1,1,1],[0,0,1],[-1,0,1]],fullScaleVertices:[4,9,11,12],halfScaleVertices:[2,3,6,7,8,10],vertices:[[[0,1,2],[0,0,1],[-3,1,2]],[[1,0,1],[-1,1,2],[-2,1,2]],[[0,-1,2],[-1,1,2],[1,0,2]],[[-1,0,1],[0,0,1],[0,0,1]],[[-1,0,1],[-1,1,2],[2,-1,2]],[[1,0,1],[1,-1,2],[-2,1,2]],[[0,-1,2],[1,-1,2],[1,0,2]],[[0,1,2],[-1,1,2],[-1,0,2]],[[1,0,1],[0,0,1],[0,0,1]],[[0,0,1],[0,0,1],[0,0,1]],[[0,1,2],[1,-1,2],[-1,0,2]],[[0,-1,2],[0,0,1],[3,-1,2]],[[-1,0,1],[1,-1,2],[2,-1,2]]],polygons:[[0,1,2,3],[5,0,3,6],[3,2,7],[2,6,8],[6,3,10],[10,7,4,12],[1,5,6,2],[7,8,11,4],[10,8,6],[8,10,12,11],[8,7,2],[7,10,3]]},turquoise:{prototypeVector:[[2,0,1],[2,-1,1],[-3,2,1]],fullScaleVertices:[0,16,1,10,11,12,13,14,15],halfScaleVertices:[],vertices:[[[1,-2,1],[3,-2,2],[-9,5,2]],[[1,-2,1],[5,-4,2],[-9,5,2]],[[-1,2,1],[-3,2,2],[5,-3,2]],[[-1,2,1],[-5,4,2],[5,-3,2]],[[1,0,1],[1,-1,2],[-2,1,2]],[[1,0,1],[-1,1,2],[-2,1,2]],[[-1,2,1],[-5,4,2],[9,-5,2]],[[1,0,1],[-1,1,2],[2,-1,2]],[[1,0,1],[1,-1,2],[2,-1,2]],[[-1,2,1],[-3,2,2],[9,-5,2]],[[1,-2,1],[5,-4,2],[-5,3,2]],[[-1,0,1],[-1,1,2],[2,-1,2]],[[1,-2,1],[3,-2,2],[-5,3,2]],[[-1,0,1],[1,-1,2],[2,-1,2]],[[0,0,1],[0,0,1],[0,0,1]],[[-1,0,1],[-1,1,2],[-2,1,2]],[[-1,0,1],[1,-1,2],[-2,1,2]]],polygons:[[0,1,2,3],[2,4,5,3],[6,7,8,9],[11,12,10,13],[9,10,12,6],[9,8,4,2],[15,16,1,0],[2,1,10,9],[0,12,11,15],[3,5,7,6],[13,10,1,16],[0,3,6,12]]},brown:{prototypeVector:[[-1,1,1],[-1,1,1],[-2,2,1]],fullScaleVertices:[0,16,1,6,7,8,13,14,15],halfScaleVertices:[],vertices:[[[1,-1,2],[-2,1,2],[-1,0,1]],[[-1,0,2],[-1,0,1],[0,-1,1]],[[1,0,2],[1,0,1],[0,1,1]],[[0,1,2],[-1,2,2],[-2,3,2]],[[-1,1,2],[0,1,2],[-1,1,1]],[[0,0,1],[3,-1,2],[0,1,2]],[[0,-1,2],[1,-2,2],[2,-3,2]],[[1,-1,2],[0,-1,2],[1,-1,1]],[[1,-2,2],[1,-1,1],[0,-1,1]],[[-1,1,2],[2,-1,2],[1,0,1]],[[-1,1,1],[-1,1,2],[0,1,2]],[[-1,2,2],[-1,1,1],[0,1,1]],[[0,1,2],[1,0,2],[2,1,2]],[[1,-1,1],[1,-1,2],[0,-1,2]],[[0,-1,2],[-1,0,2],[-2,-1,2]],[[0,0,1],[-3,1,2],[0,-1,2]],[[0,0,1],[0,0,1],[0,0,1]]],polygons:[[2,3,4,5],[9,10,11,12],[3,11,10,4],[7,13,8,6],[14,1,11,3],[0,15,1,14],[12,2,5,9],[13,0,14,8],[6,1,15,7],[8,14,3,2],[6,8,2,12],[12,11,1,6]]},orange:{prototypeVector:[[2,1,2],[-1,1,2],[-1,0,2]],fullScaleVertices:[0,1,2,6,7,8,10,14],halfScaleVertices:[],vertices:[[[-2,-1,2],[1,-1,1],[3,-1,2]],[[0,-1,2],[0,0,1],[3,-1,2]],[[0,-1,1],[1,-1,2],[0,1,2]],[[2,0,1],[-1,1,2],[-2,1,2]],[[1,0,1],[1,-1,2],[-2,1,2]],[[2,1,2],[0,0,1],[1,-1,2]],[[-2,-1,2],[0,0,1],[-1,1,2]],[[-2,0,1],[1,-1,2],[2,-1,2]],[[-1,0,1],[-1,1,2],[2,-1,2]],[[1,0,1],[-1,1,2],[-2,1,2]],[[-1,0,1],[1,-1,2],[2,-1,2]],[[0,1,1],[-1,1,2],[0,-1,2]],[[0,1,2],[0,0,1],[-3,1,2]],[[2,1,2],[-1,1,1],[-3,1,2]],[[0,0,1],[0,0,1],[0,0,1]]],polygons:[[0,1,2,3,4,5],[1,8,6,2],[3,9,4],[8,10,7],[5,11,7,10,0],[12,11,5,4],[6,8,7,11,12,13],[13,9,3,2,6],[10,1,0],[12,9,13]]},red:{prototypeVector:[[0,1,1],[1,0,1],[0,0,1]],fullScaleVertices:[16,17,18,19,7,12],halfScaleVertices:[0,1,2,20,5,6,8,9,10,11],vertices:[[[0,-1,2],[-2,1,1],[-1,1,2]],[[0,1,2],[2,-1,1],[-1,1,2]],[[-1,1,1],[3,-1,2],[2,-1,2]],[[0,1,2],[-1,1,1],[1,-1,2]],[[3,-1,2],[0,1,2],[0,0,1]],[[3,-3,2],[-2,1,2],[0,0,1]],[[0,-1,2],[-2,1,1],[1,-1,2]],[[0,-1,2],[1,-1,1],[-1,1,2]],[[1,-1,1],[-3,1,2],[2,-1,2]],[[1,-1,1],[-3,1,2],[-2,1,2]],[[-3,3,2],[2,-1,2],[0,0,1]],[[0,1,2],[2,-1,1],[1,-1,2]],[[-3,1,2],[0,-1,2],[0,0,1]],[[1,0,1],[-1,1,2],[2,-1,2]],[[1,0,1],[-1,1,2],[-2,1,2]],[[0,1,2],[-1,1,1],[-1,1,2]],[[-1,0,1],[1,-1,2],[2,-1,2]],[[0,-1,2],[1,-1,1],[1,-1,2]],[[-1,0,1],[1,-1,2],[-2,1,2]],[[0,0,1],[0,0,1],[0,0,1]],[[-1,1,1],[3,-1,2],[-2,1,2]]],polygons:[[0,1,2],[3,4,5,6],[8,9,10],[9,11,10],[13,14,9,8],[4,15,0,5],[2,1,7,16],[0,8,1],[14,3,6,9],[8,10,1],[9,6,11],[5,0,2],[11,20,18,17],[20,2,16,18],[6,5,20],[1,10,12,7],[6,20,11],[15,13,8,0],[10,11,17,12],[5,2,20]]},apple:{prototypeVector:[[5,-3,1],[1,0,1],[0,1,1]],fullScaleVertices:[0,1,4,7,8,9,10,13,14],halfScaleVertices:[],vertices:[[[1,-1,4],[-3,0,4],[-6,-1,4]],[[-1,1,4],[-5,0,4],[-2,-3,4]],[[-3,3,4],[-3,4,4],[2,3,4]],[[-1,1,4],[-1,4,4],[-2,5,4]],[[1,-1,2],[-2,1,2],[-1,0,1]],[[1,-1,4],[5,0,4],[2,3,4]],[[-1,1,4],[3,0,4],[6,1,4]],[[1,-1,4],[1,-4,4],[2,-5,4]],[[3,-3,4],[3,-4,4],[-2,-3,4]],[[1,-1,2],[0,-1,2],[1,-1,1]],[[0,0,1],[-3,1,2],[0,-1,2]],[[0,0,1],[3,-1,2],[0,1,2]],[[-1,1,2],[2,-1,2],[1,0,1]],[[0,0,1],[0,0,1],[0,0,1]],[[1,-1,1],[1,-1,2],[0,-1,2]],[[-1,1,1],[-1,1,2],[0,1,2]],[[-1,1,2],[0,1,2],[-1,1,1]]],polygons:[[0,1,2,3],[5,6,7,8],[4,10,1,0],[11,12,6,5],[3,5,8,0],[6,2,1,7],[7,1,10,9],[8,7,9,14],[15,2,6,12],[16,11,5,3],[0,8,14,4],[3,2,15,16]]},sand:{prototypeVector:[[-2,2,1],[-2,2,1],[2,0,1]],fullScaleVertices:[0,16,1,2,3,6,11,12,13],halfScaleVertices:[],vertices:[[[1,-1,2],[0,-1,2],[1,-1,1]],[[1,-1,2],[-2,1,2],[-1,0,1]],[[-1,-1,2],[0,-1,2],[0,-1,1]],[[-1,0,1],[-3,1,2],[-2,-1,2]],[[1,0,1],[1,1,2],[-2,3,2]],[[3,-1,2],[4,-1,2],[0,1,1]],[[1,-1,1],[1,-1,2],[0,-1,2]],[[-1,1,2],[0,1,2],[-1,1,1]],[[0,0,1],[3,-1,2],[0,1,2]],[[1,1,2],[0,1,2],[0,1,1]],[[-1,1,1],[-1,1,2],[0,1,2]],[[0,0,1],[-3,1,2],[0,-1,2]],[[-1,0,1],[-1,-1,2],[2,-3,2]],[[-3,1,2],[-4,1,2],[0,-1,1]],[[1,0,1],[3,-1,2],[2,1,2]],[[-1,1,2],[2,-1,2],[1,0,1]],[[0,0,1],[0,0,1],[0,0,1]]],polygons:[[2,3,4,5],[6,1,3,2],[5,4,7,8],[4,9,10,7],[11,13,3,1],[2,5,14,12],[4,3,13,9],[14,5,8,15],[12,13,11,0],[6,2,12,0],[14,9,13,12],[15,10,9,14]]},blue:{prototypeVector:[[1,0,1],[0,0,1],[0,0,1]],fullScaleVertices:[0,1,4,7,8],halfScaleVertices:[],vertices:[[[-1,0,1],[-1,1,2],[2,-1,2]],[[-1,0,1],[-1,1,2],[-2,1,2]],[[1,0,1],[-1,1,2],[-2,1,2]],[[1,0,1],[-1,1,2],[2,-1,2]],[[-1,0,1],[1,-1,2],[2,-1,2]],[[1,0,1],[1,-1,2],[2,-1,2]],[[1,0,1],[1,-1,2],[-2,1,2]],[[-1,0,1],[1,-1,2],[-2,1,2]],[[0,0,1],[0,0,1],[0,0,1]]],polygons:[[0,1,2,3],[5,6,7,4],[5,4,0,3],[1,7,6,2]]},olive:{prototypeVector:[[0,1,1],[0,1,1],[2,-1,1]],fullScaleVertices:[16,17,2,18,3,7,9,13,14,15],halfScaleVertices:[],vertices:[[[-1,2,2],[1,1,2],[-1,1,1]],[[0,1,1],[-1,2,2],[-1,1,2]],[[-1,0,1],[-3,0,2],[1,-1,2]],[[-3,0,2],[-1,-1,2],[0,0,1]],[[1,0,1],[3,0,2],[-1,1,2]],[[0,1,2],[-1,1,1],[1,-1,2]],[[3,-1,2],[0,1,2],[0,0,1]],[[1,-2,2],[-1,-1,2],[1,-1,1]],[[3,0,2],[1,1,2],[0,0,1]],[[0,-1,1],[1,-2,2],[1,-1,2]],[[0,1,2],[-1,1,1],[-1,1,2]],[[1,0,1],[-1,1,2],[2,-1,2]],[[1,0,1],[-1,1,2],[-2,1,2]],[[0,-1,2],[1,-1,1],[1,-1,2]],[[0,-1,2],[1,-1,1],[-1,1,2]],[[-1,0,1],[1,-1,2],[-2,1,2]],[[-1,0,1],[1,-1,2],[2,-1,2]],[[-3,1,2],[0,-1,2],[0,0,1]],[[0,0,1],[0,0,1],[0,0,1]]],polygons:[[0,1,2,3],[4,5,6],[7,8,4,9],[0,10,11],[1,12,8],[0,3,9,4],[2,14,3],[7,9,15],[3,14,16],[17,2,7,13],[7,2,1,8],[8,12,5],[4,8,5],[10,0,4,6],[7,15,13],[1,11,12],[2,17,14],[0,11,1],[3,16,9],[9,16,15]]},coral:{prototypeVector:[[-3,3,1],[0,0,1],[1,0,1]],fullScaleVertices:[0,1,2,7,8,9,10,14],halfScaleVertices:[],vertices:[[[-3,0,2],[1,-1,2],[1,-1,1]],[[-3,0,2],[1,-1,2],[-1,0,1]],[[-1,0,1],[1,-1,2],[-2,1,2]],[[3,0,2],[1,-1,2],[-1,1,1]],[[1,0,1],[1,-1,2],[2,-1,2]],[[1,0,1],[-1,1,2],[2,-1,2]],[[3,0,2],[-1,1,2],[-1,1,1]],[[-3,0,2],[-1,1,2],[-1,0,1]],[[0,-1,2],[0,0,1],[-3,1,2]],[[-1,0,1],[-1,1,2],[-2,1,2]],[[-3,0,2],[-1,1,2],[1,-1,1]],[[3,0,2],[1,-1,2],[1,0,1]],[[0,1,2],[0,0,1],[3,-1,2]],[[3,0,2],[-1,1,2],[1,0,1]],[[0,0,1],[0,0,1],[0,0,1]]],polygons:[[1,2,0],[3,4,5,6],[8,7,9],[7,10,9],[1,8,2],[11,4,3],[0,2,9,10],[11,3,1,0],[12,11,13],[7,1,3,6],[13,6,5],[0,10,13,11],[10,7,6,13],[12,13,5],[8,1,7],[11,12,4]]},sulfur:{prototypeVector:[[-3,3,1],[2,-1,1],[0,0,1]],fullScaleVertices:[16,0,3,8,9,10,13,14,15],halfScaleVertices:[],vertices:[[[-9,3,2],[3,-2,2],[-2,1,2]],[[9,-3,2],[-5,4,2],[-2,1,2]],[[9,-3,2],[-5,4,2],[2,-1,2]],[[-9,3,2],[3,-2,2],[2,-1,2]],[[9,-3,2],[-3,2,2],[-2,1,2]],[[9,-3,2],[-3,2,2],[2,-1,2]],[[1,0,1],[1,-1,2],[2,-1,2]],[[1,0,1],[1,-1,2],[-2,1,2]],[[-1,0,1],[-1,1,2],[2,-1,2]],[[-1,0,1],[-1,1,2],[-2,1,2]],[[-1,0,1],[1,-1,2],[2,-1,2]],[[1,0,1],[-1,1,2],[-2,1,2]],[[1,0,1],[-1,1,2],[2,-1,2]],[[-9,3,2],[5,-4,2],[2,-1,2]],[[-1,0,1],[1,-1,2],[-2,1,2]],[[-9,3,2],[5,-4,2],[-2,1,2]],[[0,0,1],[0,0,1],[0,0,1]]],polygons:[[0,1,2,3],[4,5,6,7],[0,3,8,9],[11,1,4,7],[11,12,2,1],[13,3,2,5],[14,10,13,15],[14,15,0,9],[15,13,5,4],[13,10,8,3],[2,12,6,5],[1,0,15,4]]},purple:{prototypeVector:[[1,1,1],[1,0,1],[0,0,1]],fullScaleVertices:[0,1,2,18,3,4,5,9,13,14],halfScaleVertices:[],vertices:[[[-1,0,1],[1,-1,2],[-2,1,2]],[[-3,1,2],[0,-1,2],[0,0,1]],[[0,-1,1],[3,-3,2],[2,-1,2]],[[0,-1,1],[3,-3,2],[-2,1,2]],[[0,-1,1],[1,-1,2],[2,-1,2]],[[0,-1,2],[1,-1,1],[1,-1,2]],[[0,1,1],[-1,1,2],[2,-1,2]],[[0,1,1],[-3,3,2],[2,-1,2]],[[0,1,2],[-1,1,1],[-1,1,2]],[[-1,0,1],[1,-1,2],[2,-1,2]],[[1,0,1],[-1,1,2],[-2,1,2]],[[0,1,1],[-1,1,2],[-2,1,2]],[[1,0,1],[-1,1,2],[2,-1,2]],[[0,-1,2],[1,-1,1],[-1,1,2]],[[0,-1,1],[1,-1,2],[-2,1,2]],[[0,1,1],[-3,3,2],[-2,1,2]],[[3,-1,2],[0,1,2],[0,0,1]],[[0,1,2],[-1,1,1],[1,-1,2]],[[0,0,1],[0,0,1],[0,0,1]]],polygons:[[1,2,3],[6,7,8],[3,5,1],[10,11,6,12],[2,1,13],[9,0,14,4],[14,3,11,15],[6,2,4,7],[14,0,5],[2,13,4],[4,13,9],[16,8,7],[17,15,11],[8,12,6],[15,16,7],[15,7,4,14],[11,3,2,6],[15,17,16],[11,10,17],[14,5,3]]},rose:{prototypeVector:[[2,-1,1],[-1,2,1],[0,0,1]],fullScaleVertices:[16,0,1,2,3,6,7,11,15],halfScaleVertices:[],vertices:[[[3,-2,2],[-2,-1,2],[1,-1,2]],[[-1,0,2],[-2,-1,2],[1,-1,2]],[[-2,1,2],[-1,0,1],[1,-1,2]],[[2,-1,2],[-1,0,1],[1,-1,2]],[[-3,2,2],[2,1,2],[-1,1,2]],[[1,0,2],[2,1,2],[-1,1,2]],[[3,-2,2],[-2,-1,2],[-1,1,2]],[[-1,0,2],[-2,-1,2],[-1,1,2]],[[-2,1,2],[1,0,1],[-1,1,2]],[[-3,2,2],[2,1,2],[1,-1,2]],[[-2,1,2],[1,0,1],[1,-1,2]],[[2,-1,2],[-1,0,1],[-1,1,2]],[[2,-1,2],[1,0,1],[-1,1,2]],[[2,-1,2],[1,0,1],[1,-1,2]],[[1,0,2],[2,1,2],[1,-1,2]],[[-2,1,2],[-1,0,1],[-1,1,2]],[[0,0,1],[0,0,1],[0,0,1]]],polygons:[[0,1,2,3],[4,5,6,7],[8,4,9,10],[11,6,0,3],[5,12,13,14],[8,12,5,4],[11,15,7,6],[6,5,14,0],[4,7,1,9],[7,15,2,1],[1,0,14,9],[9,14,13,10]]},maroon:{prototypeVector:[[-1,1,1],[3,-1,1],[1,-1,1]],fullScaleVertices:[4,5,7,8,9,10,11,12,15],halfScaleVertices:[],vertices:[[[-1,1,2],[0,1,2],[1,-1,1]],[[2,-1,2],[1,0,1],[1,-1,2]],[[1,0,2],[2,0,1],[0,-1,2]],[[-1,1,1],[2,1,2],[1,-2,2]],[[0,0,1],[0,0,1],[0,0,1]],[[1,-2,2],[0,-1,1],[0,1,2]],[[1,0,1],[2,1,2],[-1,0,2]],[[1,-1,1],[-2,-1,2],[-1,2,2]],[[-2,1,2],[-1,0,1],[-1,1,2]],[[-1,0,2],[-2,0,1],[0,1,2]],[[-1,0,1],[-2,-1,2],[1,0,2]],[[-3,1,2],[0,-1,2],[0,0,1]],[[1,-1,2],[0,-1,2],[-1,1,1]],[[-1,2,2],[0,1,1],[0,-1,2]],[[0,1,2],[-1,1,1],[1,-1,2]],[[0,-1,2],[1,-1,1],[-1,1,2]],[[3,-1,2],[0,1,2],[0,0,1]]],polygons:[[0,1,2,3],[5,2,6,7],[8,9,10,11],[3,2,5,10],[0,3,13,14],[7,12,15,5],[9,7,6,13],[13,6,16,14],[2,1,16,6],[3,10,9,13],[10,5,15,11],[8,12,7,9]]},lavender:{prototypeVector:[[2,-1,1],[0,1,1],[2,-1,1]],fullScaleVertices:[0,1,4,5,6,7,13,14],halfScaleVertices:[],vertices:[[[1,-1,1],[-2,-1,2],[5,-4,2]],[[3,-2,2],[-2,0,1],[4,-3,2]],[[-5,4,2],[0,1,1],[-4,3,2]],[[-3,2,1],[2,1,2],[-3,2,2]],[[5,-4,2],[0,-1,1],[4,-3,2]],[[3,-2,1],[-2,-1,2],[3,-2,2]],[[-2,1,2],[-1,0,1],[-1,1,2]],[[-3,1,2],[0,-1,2],[0,0,1]],[[-3,2,2],[2,0,1],[-4,3,2]],[[-1,1,1],[2,1,2],[-5,4,2]],[[3,-1,2],[0,1,2],[0,0,1]],[[2,-1,2],[1,0,1],[1,-1,2]],[[2,-1,2],[1,0,1],[-1,1,2]],[[-2,1,2],[-1,0,1],[1,-1,2]],[[0,0,1],[0,0,1],[0,0,1]]],polygons:[[0,1,2,3],[4,5,6,7],[4,0,3,8],[2,9,10],[8,3,11],[8,11,12],[9,12,10],[0,4,7],[9,8,12],[5,1,6],[8,9,5,4],[3,2,10,11],[1,0,13],[1,13,6],[0,7,13],[5,9,2,1]]},spruce:{prototypeVector:[[-3,2,1],[-3,2,1],[5,-2,1]],fullScaleVertices:[0,1,6,7,10,11,12,14],halfScaleVertices:[],vertices:[[[-1,1,2],[-2,1,2],[-1,0,1]],[[1,-1,1],[-1,0,2],[-3,-1,2]],[[-1,1,1],[-3,2,2],[3,1,2]],[[0,0,1],[-3,2,2],[3,1,2]],[[1,-1,2],[2,-1,2],[1,0,1]],[[-1,1,2],[2,-1,2],[1,0,1]],[[0,0,1],[-1,0,2],[-3,-1,2]],[[1,-1,1],[3,-2,2],[-3,-1,2]],[[0,0,1],[3,-1,2],[0,1,2]],[[0,0,1],[1,0,2],[3,1,2]],[[1,-1,2],[-2,1,2],[-1,0,1]],[[0,0,1],[-3,1,2],[0,-1,2]],[[0,0,1],[3,-2,2],[-3,-1,2]],[[-1,1,1],[1,0,2],[3,1,2]],[[0,0,1],[0,0,1],[0,0,1]]],polygons:[[2,3,4,5],[8,4,9],[10,1,11],[6,1,3,2],[13,9,7,12],[7,1,10],[12,0,6],[5,13,2],[9,4,3],[8,9,13],[0,11,6],[13,12,6,2],[12,7,10,0],[9,3,1,7],[11,1,6],[8,13,5]]}}}}),n.variable(t("solid_connectors_normalized")).define("solid_connectors_normalized",function(){return{name:"solid connectors",connectorShape:{vertices:[[[-1,1,2],[0,-1,2],[-1,1,1]],[[0,1,2],[1,-1,1],[-1,1,2]],[[-1,1,1],[1,-1,2],[0,1,2]],[[1,0,1],[-1,1,2],[2,-1,2]],[[0,1,2],[-1,1,1],[-1,1,2]],[[-1,1,1],[-1,1,2],[0,1,2]],[[0,1,2],[0,0,1],[3,-1,2]],[[2,-1,2],[-1,0,1],[-1,1,2]],[[-2,1,2],[-1,0,1],[-1,1,2]],[[-2,1,2],[-1,0,1],[1,-1,2]],[[2,-1,2],[-1,0,1],[1,-1,2]],[[1,0,1],[1,-1,2],[-2,1,2]],[[0,1,2],[1,-1,1],[1,-1,2]],[[-1,1,1],[1,-1,2],[0,-1,2]],[[0,1,2],[0,0,1],[-3,1,2]],[[0,0,1],[3,-1,2],[0,-1,2]],[[-1,1,2],[0,1,2],[1,-1,1]],[[-1,1,1],[-1,1,2],[0,-1,2]],[[-1,1,2],[2,-1,2],[-1,0,1]],[[1,0,1],[-1,1,2],[-2,1,2]],[[1,-1,2],[0,-1,2],[-1,1,1]],[[0,0,1],[-3,1,2],[0,1,2]],[[0,1,2],[-1,1,1],[1,-1,2]],[[3,-1,2],[0,1,2],[0,0,1]],[[-3,1,2],[0,1,2],[0,0,1]],[[0,-1,2],[-1,1,1],[-1,1,2]],[[1,-1,2],[0,1,2],[-1,1,1]],[[-2,1,2],[1,0,1],[-1,1,2]],[[-1,1,2],[-2,1,2],[-1,0,1]],[[2,-1,2],[1,0,1],[-1,1,2]],[[-1,1,2],[0,1,2],[-1,1,1]],[[0,-1,2],[1,-1,1],[-1,1,2]],[[-3,1,2],[0,-1,2],[0,0,1]],[[0,0,1],[3,-1,2],[0,1,2]],[[-1,1,2],[0,-1,2],[1,-1,1]],[[0,0,1],[-3,1,2],[0,-1,2]],[[-1,0,1],[-1,1,2],[2,-1,2]],[[0,-1,2],[0,0,1],[3,-1,2]],[[1,-1,1],[-1,1,2],[0,1,2]],[[1,0,1],[1,-1,2],[2,-1,2]],[[1,-1,2],[0,-1,2],[1,-1,1]],[[-1,0,1],[-1,1,2],[-2,1,2]],[[-1,0,1],[1,-1,2],[-2,1,2]],[[-1,0,1],[1,-1,2],[2,-1,2]],[[2,-1,2],[1,0,1],[1,-1,2]],[[0,-1,2],[-1,1,1],[1,-1,2]],[[-2,1,2],[1,0,1],[1,-1,2]],[[1,-1,2],[0,1,2],[1,-1,1]],[[1,-1,1],[1,-1,2],[0,1,2]],[[-1,1,2],[2,-1,2],[1,0,1]],[[1,-1,2],[2,-1,2],[-1,0,1]],[[1,-1,2],[2,-1,2],[1,0,1]],[[1,-1,2],[-2,1,2],[1,0,1]],[[-1,1,2],[-2,1,2],[1,0,1]],[[3,-1,2],[0,-1,2],[0,0,1]],[[0,-1,2],[0,0,1],[-3,1,2]],[[1,-1,1],[1,-1,2],[0,-1,2]],[[1,-1,2],[-2,1,2],[-1,0,1]],[[1,-1,1],[-1,1,2],[0,-1,2]],[[0,-1,2],[1,-1,1],[1,-1,2]]],polygons:[[9,40,35,34,10],[0,1,2],[33,51,49],[25,36,37,38],[41,55,42],[9,32,59,40],[20,21,52,48],[26,33,30,29,27],[3,4,5,6],[27,29,44,46],[50,57,56,55,58],[26,38,51,33],[45,47,58],[18,28,57,50],[40,59,56],[31,48,37,43],[7,8,9,10],[36,41,42,43],[24,46,47,45],[4,30,5],[15,47,46,44,16],[15,50,58,47],[24,45,41,36,25],[11,14,19],[3,6,39],[1,39,6,2],[8,32,9],[11,12,13,14],[16,22,17],[0,21,20,8,7],[12,34,13],[35,40,56,57],[0,7,54,1],[15,16,17,18],[3,19,22,23,4],[7,10,54],[41,45,58,55],[3,39,11,19],[14,17,22,19],[0,2,53,21],[49,51,52,53],[31,43,42,59,32],[15,18,50],[42,55,56,59],[4,23,29,30],[25,38,26],[13,28,18,17,14],[8,20,31,32],[23,44,29],[24,27,46],[37,48,52,51,38],[20,48,31],[24,25,26,27],[16,44,23,22],[13,34,35,28],[10,34,12,54],[2,6,5,49,53],[36,43,37],[5,30,33,49],[1,54,12,11,39],[28,35,57],[21,53,52]]},strutGeometries:{"[[5,-3,2],[2,-1,2]]":{name:"cinnamon",prototypeVector:[[1,0,0],[5,-3,2],[2,-1,2]],fullScaleVertices:[16,0,1,2,3,4,5,11,12],halfScaleVertices:[],vertices:[[[1,-2,1],[6,-4,1],[3,-2,1]],[[-1,0,1],[1,-1,2],[2,-1,2]],[[-1,0,1],[-1,1,2],[2,-1,2]],[[1,-2,1],[5,-3,1],[3,-2,1]],[[1,-2,1],[5,-3,1],[1,-1,1]],[[-1,0,1],[-1,1,2],[-2,1,2]],[[1,0,1],[1,-1,2],[-2,1,2]],[[1,0,1],[-1,1,2],[-2,1,2]],[[-1,2,1],[-6,4,1],[-3,2,1]],[[-1,2,1],[-5,3,1],[-3,2,1]],[[-1,2,1],[-6,4,1],[-1,1,1]],[[0,0,1],[0,0,1],[0,0,1]],[[1,-2,1],[6,-4,1],[1,-1,1]],[[-1,2,1],[-5,3,1],[-1,1,1]],[[1,0,1],[-1,1,2],[2,-1,2]],[[1,0,1],[1,-1,2],[2,-1,2]],[[-1,0,1],[1,-1,2],[-2,1,2]]],polygons:[[0,1,2,3],[6,7,8,9],[4,3,2,5],[4,8,10,3],[13,10,14,15],[9,8,4,12],[12,4,5,16],[0,3,10,13],[12,0,13,9],[7,14,10,8],[12,16,1,0],[9,13,15,6]]},"[[2,-1,1],[5,-3,1]]":{name:"green",prototypeVector:[[1,0,0],[2,-1,1],[5,-3,1]],fullScaleVertices:[0,1,2,18,3,4,8,9,10,11],halfScaleVertices:[],vertices:[[[-2,-3,4],[-5,1,4],[-7,4,4]],[[-3,1,2],[0,-1,2],[0,0,1]],[[-2,-3,4],[-5,1,4],[-15,8,4]],[[-6,-1,4],[-7,3,4],[-13,8,4]],[[-6,-1,4],[-7,3,4],[-21,12,4]],[[0,1,2],[-1,1,1],[1,-1,2]],[[1,0,1],[-1,1,2],[-2,1,2]],[[6,1,4],[7,-3,4],[13,-8,4]],[[-1,0,1],[1,-1,2],[2,-1,2]],[[0,-1,2],[1,-1,1],[-1,1,2]],[[0,-1,2],[1,-1,1],[1,-1,2]],[[-1,0,1],[1,-1,2],[-2,1,2]],[[2,3,4],[5,-1,4],[7,-4,4]],[[3,-1,2],[0,1,2],[0,0,1]],[[6,1,4],[7,-3,4],[21,-12,4]],[[2,3,4],[5,-1,4],[15,-8,4]],[[0,1,2],[-1,1,1],[-1,1,2]],[[1,0,1],[-1,1,2],[2,-1,2]],[[0,0,1],[0,0,1],[0,0,1]]],polygons:[[0,1,2],[5,6,7],[3,8,9],[4,2,10,11],[12,7,2,4],[13,5,12],[7,14,0,2],[14,15,3,0],[15,12,4,3],[1,10,2],[9,0,3],[9,1,0],[16,13,15],[13,12,15],[6,17,14,7],[3,4,11,8],[5,7,12],[17,16,15,14]]},"[[-1,1,2],[2,-1,2]]":{name:"navy",prototypeVector:[[1,0,0],[-1,1,2],[2,-1,2]],fullScaleVertices:[0,16,4,5,6,7,8,9,10,12],halfScaleVertices:[],vertices:[[[0,0,1],[0,0,1],[0,0,1]],[[1,2,2],[-1,1,1],[5,-3,2]],[[1,0,1],[-1,1,2],[-2,1,2]],[[0,1,2],[-1,1,1],[1,-1,2]],[[-3,1,2],[0,-1,2],[0,0,1]],[[-1,0,1],[1,-1,2],[-2,1,2]],[[-5,-2,4],[10,-7,4],[-9,5,4]],[[-7,2,2],[1,-1,1],[-3,1,2]],[[-1,0,1],[1,-1,2],[2,-1,2]],[[0,-1,2],[1,-1,1],[-1,1,2]],[[-1,-2,2],[1,-1,1],[-5,3,2]],[[5,2,4],[-10,7,4],[9,-5,4]],[[-11,2,4],[-2,-1,4],[-7,3,4]],[[7,-2,2],[-1,1,1],[3,-1,2]],[[11,-2,4],[2,1,4],[7,-3,4]],[[3,-1,2],[0,1,2],[0,0,1]],[[0,-1,2],[1,-1,1],[1,-1,2]],[[1,0,1],[-1,1,2],[2,-1,2]],[[0,1,2],[-1,1,1],[-1,1,2]]],polygons:[[1,2,3],[6,5,7],[9,8,10],[10,8,6],[8,5,6],[11,1,7,12],[13,10,6,14],[15,14,1,3],[12,7,16],[13,17,11],[16,7,5],[2,1,11],[11,17,2],[13,18,17],[18,14,15],[7,1,14,6],[13,14,18],[10,12,4,9],[4,12,16],[10,13,11,12]]},"[[-2,3,11],[-7,5,11]]":{name:"black",prototypeVector:[[1,0,0],[-2,3,11],[-7,5,11]],fullScaleVertices:[1,2,4,5,6,7,11,12,14],halfScaleVertices:[],vertices:[[[-1,3,2],[0,1,2],[0,0,1]],[[1,-3,2],[-2,1,2],[-2,1,1]],[[1,-3,2],[-2,1,2],[0,0,1]],[[-1,3,2],[0,1,2],[2,-1,1]],[[-1,0,1],[1,-1,2],[2,-1,2]],[[1,-3,2],[0,-1,2],[-2,1,1]],[[-1,0,1],[1,-1,2],[-2,1,2]],[[-1,0,1],[-1,1,2],[-2,1,2]],[[1,0,1],[1,-1,2],[-2,1,2]],[[-1,3,2],[2,-1,2],[0,0,1]],[[1,0,1],[-1,1,2],[-2,1,2]],[[1,-3,2],[0,-1,2],[0,0,1]],[[-1,0,1],[-1,1,2],[2,-1,2]],[[-1,3,2],[2,-1,2],[2,-1,1]],[[0,0,1],[0,0,1],[0,0,1]],[[1,0,1],[1,-1,2],[2,-1,2]],[[1,0,1],[-1,1,2],[2,-1,2]]],polygons:[[0,1,2,3],[5,6,7,1],[8,9,0,10],[11,2,12,4],[13,11,5,9],[4,6,5,11],[3,2,11,13],[15,13,9,8],[3,13,15,16],[16,10,0,3],[9,5,1,0],[1,7,12,2]]},"[[0,0,1],[2,-1,1]]":{name:"yellow",prototypeVector:[[1,0,0],[0,0,1],[2,-1,1]],fullScaleVertices:[4,9,11,12],halfScaleVertices:[2,3,6,7,8,10],vertices:[[[0,1,2],[0,0,1],[3,-1,2]],[[1,0,1],[-1,1,2],[2,-1,2]],[[0,-1,2],[-1,1,2],[-1,0,2]],[[-1,0,1],[0,0,1],[0,0,1]],[[-1,0,1],[-1,1,2],[-2,1,2]],[[1,0,1],[1,-1,2],[2,-1,2]],[[0,-1,2],[1,-1,2],[-1,0,2]],[[0,1,2],[-1,1,2],[1,0,2]],[[1,0,1],[0,0,1],[0,0,1]],[[0,0,1],[0,0,1],[0,0,1]],[[0,1,2],[1,-1,2],[1,0,2]],[[0,-1,2],[0,0,1],[-3,1,2]],[[-1,0,1],[1,-1,2],[-2,1,2]]],polygons:[[0,1,2,3],[5,0,3,6],[3,2,7],[2,6,8],[6,3,10],[10,7,4,12],[1,5,6,2],[7,8,11,4],[10,8,6],[8,10,12,11],[8,7,2],[7,10,3]]},"[[2,-1,2],[-3,2,2]]":{name:"turquoise",prototypeVector:[[1,0,0],[2,-1,2],[-3,2,2]],fullScaleVertices:[0,16,1,10,11,12,13,14,15],halfScaleVertices:[],vertices:[[[1,-2,1],[3,-2,2],[-9,5,2]],[[1,-2,1],[5,-4,2],[-9,5,2]],[[-1,2,1],[-3,2,2],[5,-3,2]],[[-1,2,1],[-5,4,2],[5,-3,2]],[[1,0,1],[1,-1,2],[-2,1,2]],[[1,0,1],[-1,1,2],[-2,1,2]],[[-1,2,1],[-5,4,2],[9,-5,2]],[[1,0,1],[-1,1,2],[2,-1,2]],[[1,0,1],[1,-1,2],[2,-1,2]],[[-1,2,1],[-3,2,2],[9,-5,2]],[[1,-2,1],[5,-4,2],[-5,3,2]],[[-1,0,1],[-1,1,2],[2,-1,2]],[[1,-2,1],[3,-2,2],[-5,3,2]],[[-1,0,1],[1,-1,2],[2,-1,2]],[[0,0,1],[0,0,1],[0,0,1]],[[-1,0,1],[-1,1,2],[-2,1,2]],[[-1,0,1],[1,-1,2],[-2,1,2]]],polygons:[[0,1,2,3],[2,4,5,3],[6,7,8,9],[11,12,10,13],[9,10,12,6],[9,8,4,2],[15,16,1,0],[2,1,10,9],[0,12,11,15],[3,5,7,6],[13,10,1,16],[0,3,6,12]]},"[[2,-1,3],[5,-3,3]]":{name:"brown",prototypeVector:[[1,0,0],[2,-1,3],[5,-3,3]],fullScaleVertices:[0,16,1,6,7,8,13,14,15],halfScaleVertices:[],vertices:[[[-1,0,1],[1,-1,2],[2,-1,2]],[[-3,-3,4],[-3,2,4],[2,-1,4]],[[3,3,4],[3,-2,4],[-2,1,4]],[[3,3,4],[3,-2,4],[6,-3,4]],[[1,0,1],[1,-1,2],[2,-1,2]],[[1,0,1],[1,-1,2],[-2,1,2]],[[-3,-3,4],[-3,2,4],[-6,3,4]],[[-1,0,1],[-1,1,2],[-2,1,2]],[[-3,-3,4],[1,-2,4],[-6,3,4]],[[1,0,1],[-1,1,2],[-2,1,2]],[[1,0,1],[-1,1,2],[2,-1,2]],[[3,3,4],[-1,2,4],[6,-3,4]],[[3,3,4],[-1,2,4],[-2,1,4]],[[-1,0,1],[1,-1,2],[-2,1,2]],[[-3,-3,4],[1,-2,4],[2,-1,4]],[[-1,0,1],[-1,1,2],[2,-1,2]],[[0,0,1],[0,0,1],[0,0,1]]],polygons:[[2,3,4,5],[9,10,11,12],[3,11,10,4],[7,13,8,6],[14,1,11,3],[0,15,1,14],[12,2,5,9],[13,0,14,8],[6,1,15,7],[8,14,3,2],[6,8,2,12],[12,11,1,6]]},"[[-4,3,5],[3,-1,5]]":{name:"orange",prototypeVector:[[1,0,0],[-4,3,5],[3,-1,5]],fullScaleVertices:[0,1,2,6,7,8,10,14],halfScaleVertices:[],vertices:[[[-2,-1,2],[1,-1,1],[-3,1,2]],[[0,-1,2],[0,0,1],[-3,1,2]],[[0,-1,1],[1,-1,2],[0,-1,2]],[[2,0,1],[-1,1,2],[2,-1,2]],[[1,0,1],[1,-1,2],[2,-1,2]],[[2,1,2],[0,0,1],[-1,1,2]],[[-2,-1,2],[0,0,1],[1,-1,2]],[[-2,0,1],[1,-1,2],[-2,1,2]],[[-1,0,1],[-1,1,2],[-2,1,2]],[[1,0,1],[-1,1,2],[2,-1,2]],[[-1,0,1],[1,-1,2],[-2,1,2]],[[0,1,1],[-1,1,2],[0,1,2]],[[0,1,2],[0,0,1],[3,-1,2]],[[2,1,2],[-1,1,1],[3,-1,2]],[[0,0,1],[0,0,1],[0,0,1]]],polygons:[[0,1,2,3,4,5],[1,8,6,2],[3,9,4],[8,10,7],[5,11,7,10,0],[12,11,5,4],[6,8,7,11,12,13],[13,9,3,2,6],[10,1,0],[12,9,13]]},"[[-1,1,1],[0,0,1]]":{name:"red",prototypeVector:[[1,0,0],[-1,1,1],[0,0,1]],fullScaleVertices:[16,17,18,19,7,12],halfScaleVertices:[0,1,2,20,5,6,8,9,10,11],vertices:[[[1,-1,1],[-3,1,2],[-2,1,2]],[[0,1,2],[2,-1,1],[1,-1,2]],[[-3,3,2],[2,-1,2],[0,0,1]],[[0,1,2],[-1,1,1],[-1,1,2]],[[1,0,1],[-1,1,2],[2,-1,2]],[[1,-1,1],[-3,1,2],[2,-1,2]],[[0,-1,2],[-2,1,1],[-1,1,2]],[[0,-1,2],[1,-1,1],[1,-1,2]],[[0,-1,2],[-2,1,1],[1,-1,2]],[[3,-3,2],[-2,1,2],[0,0,1]],[[-1,1,1],[3,-1,2],[-2,1,2]],[[-1,1,1],[3,-1,2],[2,-1,2]],[[-1,0,1],[1,-1,2],[-2,1,2]],[[0,1,2],[-1,1,1],[1,-1,2]],[[3,-1,2],[0,1,2],[0,0,1]],[[1,0,1],[-1,1,2],[-2,1,2]],[[-3,1,2],[0,-1,2],[0,0,1]],[[-1,0,1],[1,-1,2],[2,-1,2]],[[0,-1,2],[1,-1,1],[-1,1,2]],[[0,0,1],[0,0,1],[0,0,1]],[[0,1,2],[2,-1,1],[-1,1,2]]],polygons:[[0,1,2],[3,4,5,6],[8,9,10],[9,11,10],[13,14,9,8],[4,15,0,5],[2,1,7,16],[0,8,1],[14,3,6,9],[8,10,1],[9,6,11],[5,0,2],[11,20,18,17],[20,2,16,18],[6,5,20],[1,10,12,7],[6,20,11],[15,13,8,0],[10,11,17,12],[5,2,20]]},"[[2,-1,3],[-1,1,3]]":{name:"apple",prototypeVector:[[1,0,0],[2,-1,3],[-1,1,3]],fullScaleVertices:[0,1,4,7,8,9,10,13,14],halfScaleVertices:[],vertices:[[[-3,-3,4],[-3,2,4],[-4,1,4]],[[-3,-3,4],[1,-2,4],[-4,1,4]],[[3,3,4],[3,-2,4],[-4,3,4]],[[3,3,4],[-1,2,4],[-4,3,4]],[[-1,0,1],[-1,1,2],[-2,1,2]],[[3,3,4],[-1,2,4],[4,-1,4]],[[3,3,4],[3,-2,4],[4,-1,4]],[[-3,-3,4],[1,-2,4],[4,-3,4]],[[-3,-3,4],[-3,2,4],[4,-3,4]],[[-1,0,1],[1,-1,2],[2,-1,2]],[[-1,0,1],[1,-1,2],[-2,1,2]],[[1,0,1],[-1,1,2],[2,-1,2]],[[1,0,1],[1,-1,2],[2,-1,2]],[[0,0,1],[0,0,1],[0,0,1]],[[-1,0,1],[-1,1,2],[2,-1,2]],[[1,0,1],[1,-1,2],[-2,1,2]],[[1,0,1],[-1,1,2],[-2,1,2]]],polygons:[[0,1,2,3],[5,6,7,8],[4,10,1,0],[11,12,6,5],[3,5,8,0],[6,2,1,7],[7,1,10,9],[8,7,9,14],[15,2,6,12],[16,11,5,3],[0,8,14,4],[3,2,15,16]]},"[[-8,5,1],[5,-3,1]]":{name:"sand",prototypeVector:[[1,0,0],[-8,5,1],[5,-3,1]],fullScaleVertices:[0,16,1,2,3,6,11,12,13],halfScaleVertices:[],vertices:[[[-1,0,1],[-1,1,2],[-2,1,2]],[[-1,0,1],[1,-1,2],[2,-1,2]],[[-1,-2,2],[-1,0,2],[-1,0,2]],[[-1,-2,2],[-1,0,2],[3,-2,2]],[[1,2,2],[3,-2,2],[1,0,2]],[[1,2,2],[3,-2,2],[-3,2,2]],[[-1,0,1],[1,-1,2],[-2,1,2]],[[1,0,1],[1,-1,2],[2,-1,2]],[[1,0,1],[1,-1,2],[-2,1,2]],[[1,2,2],[1,0,2],[1,0,2]],[[1,0,1],[-1,1,2],[2,-1,2]],[[-1,0,1],[-1,1,2],[2,-1,2]],[[-1,-2,2],[-3,2,2],[-1,0,2]],[[-1,-2,2],[-3,2,2],[3,-2,2]],[[1,2,2],[1,0,2],[-3,2,2]],[[1,0,1],[-1,1,2],[-2,1,2]],[[0,0,1],[0,0,1],[0,0,1]]],polygons:[[2,3,4,5],[6,1,3,2],[5,4,7,8],[4,9,10,7],[11,13,3,1],[2,5,14,12],[4,3,13,9],[14,5,8,15],[12,13,11,0],[6,2,12,0],[14,9,13,12],[15,10,9,14]]},"[[0,0,1],[0,0,1]]":{name:"blue",prototypeVector:[[1,0,0],[0,0,1],[0,0,1]],fullScaleVertices:[0,1,4,7,8],halfScaleVertices:[],vertices:[[[-1,0,1],[-1,1,2],[-2,1,2]],[[-1,0,1],[-1,1,2],[2,-1,2]],[[1,0,1],[-1,1,2],[2,-1,2]],[[1,0,1],[-1,1,2],[-2,1,2]],[[-1,0,1],[1,-1,2],[-2,1,2]],[[1,0,1],[1,-1,2],[-2,1,2]],[[1,0,1],[1,-1,2],[2,-1,2]],[[-1,0,1],[1,-1,2],[2,-1,2]],[[0,0,1],[0,0,1],[0,0,1]]],polygons:[[0,1,2,3],[5,6,7,4],[5,4,0,3],[1,7,6,2]]},"[[3,-1,5],[0,0,1]]":{name:"olive",prototypeVector:[[1,0,0],[3,-1,5],[0,0,1]],fullScaleVertices:[16,17,2,18,3,7,9,13,14,15],halfScaleVertices:[],vertices:[[[2,1,2],[2,-1,2],[-2,1,2]],[[2,1,2],[0,1,2],[-2,1,2]],[[-2,-1,2],[-2,1,2],[-2,1,2]],[[-2,-1,2],[0,-1,2],[-2,1,2]],[[2,1,2],[2,-1,2],[2,-1,2]],[[0,1,2],[-1,1,1],[-1,1,2]],[[1,0,1],[-1,1,2],[2,-1,2]],[[-2,-1,2],[-2,1,2],[2,-1,2]],[[2,1,2],[0,1,2],[2,-1,2]],[[-2,-1,2],[0,-1,2],[2,-1,2]],[[1,0,1],[-1,1,2],[-2,1,2]],[[0,1,2],[-1,1,1],[1,-1,2]],[[3,-1,2],[0,1,2],[0,0,1]],[[-1,0,1],[1,-1,2],[2,-1,2]],[[0,-1,2],[1,-1,1],[1,-1,2]],[[0,-1,2],[1,-1,1],[-1,1,2]],[[-3,1,2],[0,-1,2],[0,0,1]],[[-1,0,1],[1,-1,2],[-2,1,2]],[[0,0,1],[0,0,1],[0,0,1]]],polygons:[[0,1,2,3],[4,5,6],[7,8,4,9],[0,10,11],[1,12,8],[0,3,9,4],[2,14,3],[7,9,15],[3,14,16],[17,2,7,13],[7,2,1,8],[8,12,5],[4,8,5],[10,0,4,6],[7,15,13],[1,11,12],[2,17,14],[0,11,1],[3,16,9],[9,16,15]]},"[[-3,2,2],[-1,1,2]]":{name:"coral",prototypeVector:[[1,0,0],[-3,2,2],[-1,1,2]],fullScaleVertices:[0,1,2,7,8,9,10,14],halfScaleVertices:[],vertices:[[[2,-3,2],[-2,1,2],[0,-1,2]],[[0,-1,1],[-1,0,2],[-3,1,2]],[[0,-1,2],[0,0,1],[-3,1,2]],[[0,1,1],[3,-2,2],[-1,1,2]],[[1,0,1],[1,-1,2],[2,-1,2]],[[0,1,2],[0,0,1],[3,-1,2]],[[-2,3,2],[2,-1,2],[0,1,2]],[[-2,-1,2],[-2,1,2],[-2,1,2]],[[-1,0,1],[1,-1,2],[-2,1,2]],[[-1,0,1],[-1,1,2],[-2,1,2]],[[0,-1,1],[-3,2,2],[1,-1,2]],[[2,1,2],[2,-1,2],[2,-1,2]],[[1,0,1],[-1,1,2],[2,-1,2]],[[0,1,1],[1,0,2],[3,-1,2]],[[0,0,1],[0,0,1],[0,0,1]]],polygons:[[1,2,0],[3,4,5,6],[8,7,9],[7,10,9],[1,8,2],[11,4,3],[0,2,9,10],[11,3,1,0],[12,11,13],[7,1,3,6],[13,6,5],[0,10,13,11],[10,7,6,13],[12,13,5],[8,1,7],[11,12,4]]},"[[-1,1,3],[0,0,1]]":{name:"sulfur",prototypeVector:[[1,0,0],[-1,1,3],[0,0,1]],fullScaleVertices:[16,0,3,8,9,10,13,14,15],halfScaleVertices:[],vertices:[[[-9,3,2],[3,-2,2],[2,-1,2]],[[9,-3,2],[-5,4,2],[2,-1,2]],[[9,-3,2],[-5,4,2],[-2,1,2]],[[-9,3,2],[3,-2,2],[-2,1,2]],[[9,-3,2],[-3,2,2],[2,-1,2]],[[9,-3,2],[-3,2,2],[-2,1,2]],[[1,0,1],[1,-1,2],[-2,1,2]],[[1,0,1],[1,-1,2],[2,-1,2]],[[-1,0,1],[-1,1,2],[-2,1,2]],[[-1,0,1],[-1,1,2],[2,-1,2]],[[-1,0,1],[1,-1,2],[-2,1,2]],[[1,0,1],[-1,1,2],[2,-1,2]],[[1,0,1],[-1,1,2],[-2,1,2]],[[-9,3,2],[5,-4,2],[-2,1,2]],[[-1,0,1],[1,-1,2],[2,-1,2]],[[-9,3,2],[5,-4,2],[2,-1,2]],[[0,0,1],[0,0,1],[0,0,1]]],polygons:[[0,1,2,3],[4,5,6,7],[0,3,8,9],[11,1,4,7],[11,12,2,1],[13,3,2,5],[14,10,13,15],[14,15,0,9],[15,13,5,4],[13,10,8,3],[2,12,6,5],[1,0,15,4]]},"[[2,-1,1],[0,0,1]]":{name:"purple",prototypeVector:[[1,0,0],[2,-1,1],[0,0,1]],fullScaleVertices:[0,1,2,18,3,4,5,9,13,14],halfScaleVertices:[],vertices:[[[-1,0,1],[1,-1,2],[2,-1,2]],[[-3,1,2],[0,-1,2],[0,0,1]],[[0,-1,1],[3,-3,2],[-2,1,2]],[[0,-1,1],[3,-3,2],[2,-1,2]],[[0,-1,1],[1,-1,2],[-2,1,2]],[[0,-1,2],[1,-1,1],[-1,1,2]],[[0,1,1],[-1,1,2],[-2,1,2]],[[0,1,1],[-3,3,2],[-2,1,2]],[[0,1,2],[-1,1,1],[1,-1,2]],[[-1,0,1],[1,-1,2],[-2,1,2]],[[1,0,1],[-1,1,2],[2,-1,2]],[[0,1,1],[-1,1,2],[2,-1,2]],[[1,0,1],[-1,1,2],[-2,1,2]],[[0,-1,2],[1,-1,1],[1,-1,2]],[[0,-1,1],[1,-1,2],[2,-1,2]],[[0,1,1],[-3,3,2],[2,-1,2]],[[3,-1,2],[0,1,2],[0,0,1]],[[0,1,2],[-1,1,1],[-1,1,2]],[[0,0,1],[0,0,1],[0,0,1]]],polygons:[[1,2,3],[6,7,8],[3,5,1],[10,11,6,12],[2,1,13],[9,0,14,4],[14,3,11,15],[6,2,4,7],[14,0,5],[2,13,4],[4,13,9],[16,8,7],[17,15,11],[8,12,6],[15,16,7],[15,7,4,14],[11,3,2,6],[15,17,16],[11,10,17],[14,5,3]]},"[[0,0,1],[-4,3,5]]":{name:"rose",prototypeVector:[[1,0,0],[0,0,1],[-4,3,5]],fullScaleVertices:[16,0,1,2,3,6,7,11,15],halfScaleVertices:[],vertices:[[[-2,-1,2],[1,-1,2],[3,-2,2]],[[-2,-1,2],[1,-1,2],[-1,0,2]],[[-1,0,1],[1,-1,2],[-2,1,2]],[[-1,0,1],[1,-1,2],[2,-1,2]],[[2,1,2],[-1,1,2],[-3,2,2]],[[2,1,2],[-1,1,2],[1,0,2]],[[-2,-1,2],[-1,1,2],[3,-2,2]],[[-2,-1,2],[-1,1,2],[-1,0,2]],[[1,0,1],[-1,1,2],[-2,1,2]],[[2,1,2],[1,-1,2],[-3,2,2]],[[1,0,1],[1,-1,2],[-2,1,2]],[[-1,0,1],[-1,1,2],[2,-1,2]],[[1,0,1],[-1,1,2],[2,-1,2]],[[1,0,1],[1,-1,2],[2,-1,2]],[[2,1,2],[1,-1,2],[1,0,2]],[[-1,0,1],[-1,1,2],[-2,1,2]],[[0,0,1],[0,0,1],[0,0,1]]],polygons:[[0,1,2,3],[4,5,6,7],[8,4,9,10],[11,6,0,3],[5,12,13,14],[8,12,5,4],[11,15,7,6],[6,5,14,0],[4,7,1,9],[7,15,2,1],[1,0,14,9],[9,14,13,10]]},"[[5,-3,1],[0,0,1]]":{name:"maroon",prototypeVector:[[1,0,0],[5,-3,1],[0,0,1]],fullScaleVertices:[4,5,7,8,9,10,11,12,15],halfScaleVertices:[],vertices:[[[1,0,1],[-1,1,2],[-2,1,2]],[[1,0,1],[-1,1,2],[2,-1,2]],[[1,2,2],[-1,1,1],[2,-1,2]],[[1,2,2],[-1,1,1],[-2,1,2]],[[0,0,1],[0,0,1],[0,0,1]],[[-1,-2,2],[0,0,1],[2,-1,2]],[[1,2,2],[0,0,1],[2,-1,2]],[[-1,-2,2],[1,-1,1],[2,-1,2]],[[-1,0,1],[1,-1,2],[-2,1,2]],[[-1,-2,2],[1,-1,1],[-2,1,2]],[[-1,-2,2],[0,0,1],[-2,1,2]],[[-1,0,1],[-1,1,2],[-2,1,2]],[[-1,0,1],[1,-1,2],[2,-1,2]],[[1,2,2],[0,0,1],[-2,1,2]],[[1,0,1],[1,-1,2],[-2,1,2]],[[-1,0,1],[-1,1,2],[2,-1,2]],[[1,0,1],[1,-1,2],[2,-1,2]]],polygons:[[0,1,2,3],[5,2,6,7],[8,9,10,11],[3,2,5,10],[0,3,13,14],[7,12,15,5],[9,7,6,13],[13,6,16,14],[2,1,16,6],[3,10,9,13],[10,5,15,11],[8,12,7,9]]},"[[-3,2,1],[-3,2,1]]":{name:"lavender",prototypeVector:[[1,0,0],[-3,2,1],[-3,2,1]],fullScaleVertices:[0,1,4,5,6,7,13,14],halfScaleVertices:[],vertices:[[[-2,0,1],[4,-3,2],[3,-2,2]],[[-2,-1,2],[5,-4,2],[1,-1,1]],[[2,1,2],[-3,2,2],[-3,2,1]],[[0,1,1],[-4,3,2],[-5,4,2]],[[-2,-1,2],[3,-2,2],[3,-2,1]],[[0,-1,1],[4,-3,2],[5,-4,2]],[[0,-1,2],[0,0,1],[-3,1,2]],[[-1,0,1],[-1,1,2],[-2,1,2]],[[2,1,2],[-5,4,2],[-1,1,1]],[[2,0,1],[-4,3,2],[-3,2,2]],[[1,0,1],[1,-1,2],[2,-1,2]],[[0,1,2],[0,0,1],[3,-1,2]],[[1,0,1],[-1,1,2],[2,-1,2]],[[-1,0,1],[1,-1,2],[-2,1,2]],[[0,0,1],[0,0,1],[0,0,1]]],polygons:[[0,1,2,3],[4,5,6,7],[4,0,3,8],[2,9,10],[8,3,11],[8,11,12],[9,12,10],[0,4,7],[9,8,12],[5,1,6],[8,9,5,4],[3,2,10,11],[1,0,13],[1,13,6],[0,7,13],[5,9,2,1]]},"[[-5,4,11],[-5,4,11]]":{name:"spruce",prototypeVector:[[1,0,0],[-5,4,11],[-5,4,11]],fullScaleVertices:[0,1,6,7,10,11,12,14],halfScaleVertices:[],vertices:[[[-1,0,1],[-1,1,2],[-2,1,2]],[[-3,-1,2],[1,-1,1],[-1,0,2]],[[3,1,2],[-1,1,1],[-3,2,2]],[[3,1,2],[0,0,1],[-3,2,2]],[[1,0,1],[1,-1,2],[2,-1,2]],[[1,0,1],[-1,1,2],[2,-1,2]],[[-3,-1,2],[0,0,1],[-1,0,2]],[[-3,-1,2],[1,-1,1],[3,-2,2]],[[0,1,2],[0,0,1],[3,-1,2]],[[3,1,2],[0,0,1],[1,0,2]],[[-1,0,1],[1,-1,2],[-2,1,2]],[[0,-1,2],[0,0,1],[-3,1,2]],[[-3,-1,2],[0,0,1],[3,-2,2]],[[3,1,2],[-1,1,1],[1,0,2]],[[0,0,1],[0,0,1],[0,0,1]]],polygons:[[2,3,4,5],[8,4,9],[10,1,11],[6,1,3,2],[13,9,7,12],[7,1,10],[12,0,6],[5,13,2],[9,4,3],[8,9,13],[0,11,6],[13,12,6,2],[12,7,10,0],[9,3,1,7],[11,1,6],[8,13,5]]}}}}),n.variable(t()).define(["md","solid_connectors","vprint"],function(e,t,n){return e(b(),t.strutGeometries.blue.vertices.map(n))}),n.variable(t("normalized_blue_vertices")).define("normalized_blue_vertices",["md","solid_connectors_normalized","vprint"],function(e,t,n){return e(_(),t.strutGeometries["[[0,0,1],[0,0,1]]"].vertices.map(n))}),n.variable(t()).define(["orbit2","solid_connectors"],function(e,t){return e(t.strutGeometries.blue.prototypeVector)}),n.variable(t()).define(function(){return[["red",[197,36,49]],["yellow",[240,169,1]],["blue",[6,96,141]],["green",[8,141,50]],["orange",[231,101,0]],["purple",[122,66,171]],["black",[40,40,42]],["white",[238,241,247]],["olive",[116,104,1]],["lavender",[144,127,227]],["maroon",[131,17,71]],["rose",[252,106,171]],["navy",[52,48,136]],["brown",[105,54,1]],["apple",[129,191,30]],["sand",[187,144,85]],["turquoise",[47,174,151]],["coral",[254,140,139]],["sulfur",[196,231,81]],["cinnamon",[144,56,14]],["spruce",[12,84,55]],["magenta",[219,41,118]],["snubPentagon",[170,27,111]],["snubTriangle",[153,158,0]],["snubDiagonal",[229,221,185]],["slate",[102,126,153]],["mauve",[146,82,131]],["ivory",[229,221,185]]].map(function(e){var t=Object(r.a)(e,2),n=t[0],i=t[1];return"".concat(n,': "').concat(function(e){return"#"+e.map(function(e){return("0"+e.toString(16)).substr(-2,2)}).join("")}(i),'"')}).join(",\n")}),n}function fe(){var e=i(["## Imports"]);return fe=function(){return e},e}function he(){var e=i(['<span style="background:#cccccc;color:',';">',"</span>"]);return he=function(){return e},e}function de(){var e=i(['\nThis notebook only makes sense in the context of [Observable vZome][1].\nThe goal is to create a generic strut shape for an orbit not known in advance.\nIn [vZome][2], such struts are always rendered in white.\nFor known orbits, the strut shapes have been modeled manually.\n\nWe want a simple prismatic shape with a reasonably uniform cross-section.\nThe challenge is to come up with a shape that will serve for any orbit,\nminimally sensitive to the actual direction of the orbit.\n\nSince every field allows octahedral symmetry, we want the richest triangular\ntiling of that symmetry, which means we want the fundamental triangles of\nthe reflection group, by definition.  Rather than rely on any symmetry orbits,\nwe can simply hard-code the vertices of a disdyakis dodecahedron, all\nreflections and permutations of (8,0,0), (4,4,4), and (5,5,0).\n(This is a simple approximation with integers.)\nThese vertices correspond to blue-like, yellow-like, and green-like axes,\nin the usual Zome coloring.\n\n<img src="https://user-images.githubusercontent.com/1584024/50730978-410b8880-110e-11e9-8e1a-325c9a2cbf29.png"/>\n\nFirst, we find the triangle intersected by the orbit prototype vector.\nThere should be only two possibilities, assuming\nthe orbit prototype has been normalized.  Next, we find the centroid of that triangle,\nand the point where the prototype vector intersects the triangle (',").\nNext, we use the offset from the centroid to the intersection, and offset\nthe entire triangle by the same amount.\nFinally, using the offsetted copy of the "," edge,\nwe reflect that edge's endpoints through the "," point, to yield\nthe "," parallelogram strut cross-section.\n\n[1]: https://beta.observablehq.com/@vorth/observable-vzome-rendering\n[2]: http://vzome.com\n"]);return de=function(){return e},e}function pe(){var e=i(["# A Shape for White Struts"]);return pe=function(){return e},e}function me(e,t){var n=e.module();n.variable(t()).define(["md"],function(e){return e(pe())}),n.variable(t()).define(["md","colorWord"],function(e,t){return e(de(),t("black"),t("chartreuse"),t("black"),t("orange"))}),n.variable(t()).define(["getDefaultShape"],function(e){return e([[-1,1],[2,-1]])}),n.variable(t("getDefaultShape")).define("getDefaultShape",["grmul","grfloat","scalarmul","vectoradd","planeFromPoints","linePlaneIntersection","vectorsub","grneg"],function(e,t,n,i,o,a,s,l){var u=[[4,5,1,0],[1,5,7,3],[2,3,7,6],[4,0,2,6],[0,1,3,2],[4,6,7,5]],c=[4,5,6,7];return function(f){var h,d,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,,10],m=[[1,0,1]].concat(f),v=e([8],p),g=e([5],p),y=e([4],p),_=f.map(t),b=Object(r.a)(_,2),w=b[0],x=b[1],A=[y,y,y],M=!1;1>=w?w>=x?(M=!0,h=[v,[],[]],d=[g,g,[]]):1>=x?(h=[v,[],[]],d=[g,[],g]):(M=!0,h=[[],v,[]],d=[g,[],g]):1>=x?(h=[[],v,[]],d=[g,g,[]]):w>=x?(M=!0,h=[[],v,[]],d=[[],g,g]):(h=[[],[],v],d=[[],g,g]);var S=n([1,,3],i(i(h,d),A)),C=o(h,d,A),E=a([[[],[],[]],m],C),I=s(M?d:A,S),T=s(M?A:d,S),L=i(E,I),z=i(E,T),k=s(E,I),D=s(E,T),O=L.map(l),N=z.map(l),j=k.map(l),P=D.map(l);return{prototype:m,vertices:[L,D,z,k,j,N,P,O],polygons:u,tip:c,waist:[]}}}),n.variable(t("planeFromPoints")).define("planeFromPoints",["vectorsub","wedge"],function(e,t){return function(n,r,i){var o=e(n,r),a=e(n,i);return[n,t(o,a)]}}),n.variable(t("linePlaneIntersection")).define("linePlaneIntersection",["dot","vectorsub","grdiv","vectoradd","scalarmul"],function(e,t,n,i,o){return function(a,s){var l=Object(r.a)(a,2),u=l[0],c=l[1],f=Object(r.a)(s,2),h=f[0],d=f[1],p=e(d,c);if(0!=p[0]||0!=p[1]){var m=t(h,u),v=e(d,m),g=n(v,p);return i(u,o(g,c))}}}),n.variable(t("colorWord")).define("colorWord",["html"],function(e){return function(t){return e(he(),t,t)}}),n.variable(t()).define(["md"],function(e){return e(fe())});var i=e.module(Dt);n.import("createStrutGeometry",i);var o=e.module(ce);return n.import("grfloat",o),n.import("grneg",o),n.import("grsum",o),n.import("grdiv",o),n.import("grmul",o),n.import("wedge",o),n.import("dot",o),n.import("vectorsub",o),n.import("vectoradd",o),n.import("scalarmul",o),n}function ve(){var e=i(["*Clip art courtesy [ClipArt ETC](https://etc.usf.edu/clipart/), radio buttons and checkboxes courtesy [Amit Sch](https://beta.observablehq.com/@meetamit/multiple-choice-inputs).*"]);return ve=function(){return e},e}function ge(){var e=i(["License: [MIT](https://opensource.org/licenses/MIT)"]);return ge=function(){return e},e}function ye(){var e=i(['<div style="font-size: 0.85rem; font-style: italic;">',"</div>"]);return ye=function(){return e},e}function _e(){var e=i(['<div style="font: 700 0.9rem sans-serif;">',"</div>"]);return _e=function(){return e},e}function be(){var e=i(['<output name=output style="font: 14px Menlo, Consolas, monospace; margin-left: 0.5em;"></output>']);return be=function(){return e},e}function we(){var e=i(['<input name=submit type=submit style="margin: 0 0.75em" value="','" />']);return we=function(){return e},e}function xe(){var e=i(["<form>\n\t<input name=input type="," />\n  </form>"]);return xe=function(){return e},e}function Ae(){var e=i(["<div></div>"]);return Ae=function(){return e},e}function Me(){var e=i(["---\n## Wishlist (Send suggestions, please!)\n\n* Location picker!\n* 2D coordinate input (using an &lt;svg>)\n* 3D coordinate input (for say, positioning a camera in a WebGL sketch)\n* Geocoder search with location autocomplete that returns longitude and latitude.\n* Degrees or radians input, for circular things, or angles.\n* A dimensions input, or a box-model input, with margin (and optionally, padding).\n* A map-projection-picker input, rendering little thumbnails of all the d3-geo-projections.\n* Other useful formatting options.\n\n---"]);return Me=function(){return e},e}function Se(){var e=i(['---\n## Passwords\n\n~~~js\nimport {password} from "@jashkenas/inputs"\n~~~']);return Se=function(){return e},e}function Ce(){var e=i(['---\n## Numbers\n\n~~~js\nimport {number} from "@jashkenas/inputs"\n~~~']);return Ce=function(){return e},e}function Ee(){var e=i(['<label style="display: inline-block; margin: 5px 10px 3px 0; font-size: 0.85em;">\n           ',"\n           ","\n          </label>"]);return Ee=function(){return e},e}function Ie(){var e=i(["<input type=checkbox name=input ",' style="vertical-align: baseline;" />']);return Ie=function(){return e},e}function Te(){var e=i(["\n      <form>\n        ","\n      </form>\n    "]);return Te=function(){return e},e}function Le(){var e=i(['---\n## Checkboxes\n\n~~~js\nimport {checkbox} from "@jashkenas/inputs"\n~~~']);return Le=function(){return e},e}function ze(){var e=i(['\n          <label style="display: inline-block; margin: 5px 10px 3px 0; font-size: 0.85em;">\n           ',"\n           ","\n          </label>"]);return ze=function(){return e},e}function ke(){var e=i(["<input type=radio name=input ",' style="vertical-align: baseline;" />']);return ke=function(){return e},e}function De(){var e=i(["\n      <form>\n        ","\n      </form>\n    "]);return De=function(){return e},e}function Oe(){var e=i(['---\n## Radio Buttons\n\n~~~js\nimport {radio} from "@jashkenas/inputs"\n~~~']);return Oe=function(){return e},e}function Ne(){var e=i(['<form><textarea style="display: block; font-size: 0.8em;" name=input>',"</textarea></form>"]);return Ne=function(){return e},e}function je(){var e=i(['---\n## Textareas\n\n~~~js\nimport {textarea} from "@jashkenas/inputs"\n~~~']);return je=function(){return e},e}function Pe(){var e=i(['---\n## Text Inputs\n\n~~~js\nimport {text} from "@jashkenas/inputs"\n~~~']);return Pe=function(){return e},e}function Re(){var e=i(['<img height="125px" style="margin: 2px;" />']);return Re=function(){return e},e}function $e(){var e=i(["<div>"]);return $e=function(){return e},e}function Fe(){var e=i(['---\n## File Upload\n*Use the JavaScript [File API](https://developer.mozilla.org/en-US/docs/Web/API/File/Using_files_from_web_applications) to work with uploaded file contents.*\n\n`import {file} from "@jashkenas/inputs"`'],['---\n## File Upload\n*Use the JavaScript [File API](https://developer.mozilla.org/en-US/docs/Web/API/File/Using_files_from_web_applications) to work with uploaded file contents.*\n\n\\`import {file} from "@jashkenas/inputs"\\`']);return Fe=function(){return e},e}function Ke(){var e=i([' ---\n## Times\n\n*value: a HH:MM:SS formatted string: * `"09:30:45"`\n<br>*(Time values are always in 24-hour format)*\n\n~~~js\nimport {time} from "@jashkenas/inputs"\n~~~'],[' ---\n## Times\n\n*value: a HH:MM:SS formatted string: * \\`"09:30:45"\\`\n<br>*(Time values are always in 24-hour format)*\n\n~~~js\nimport {time} from "@jashkenas/inputs"\n~~~']);return Ke=function(){return e},e}function Ue(){var e=i([' ---\n## Dates\n\n*value: a YYYY-MM-DD formatted string: * `"2016-11-08"` \n\n~~~js\nimport {date} from "@jashkenas/inputs"\n~~~'],[' ---\n## Dates\n\n*value: a YYYY-MM-DD formatted string: * \\`"2016-11-08"\\` \n\n~~~js\nimport {date} from "@jashkenas/inputs"\n~~~']);return Ue=function(){return e},e}function Ve(){var e=i(['<div style="position: absolute; width: ','px; white-space: nowrap; color: #444; text-align: center; font: 13px sans-serif; margin-top: -18px;">\n            <span style="color: #777;">Longitude:</span> ','\n            &nbsp; &nbsp; \n            <span style="color: #777;">Latitude:</span> '," \n          </div>"]);return Ve=function(){return e},e}function Be(){var e=i(['<form style="width: ','px;"></form>']);return Be=function(){return e},e}function He(){var e=i([' ---\n## U.S.A. Map Coordinates\n\n*value: an array pair of `[longitude, latitude]`, e.g. * `[-122.27, 37.87]` \n\n~~~js\nimport {usaMapCoordinates} from "@jashkenas/inputs"\n~~~'],[' ---\n## U.S.A. Map Coordinates\n\n*value: an array pair of \\`[longitude, latitude]\\`, e.g. * \\`[-122.27, 37.87]\\` \n\n~~~js\nimport {usaMapCoordinates} from "@jashkenas/inputs"\n~~~']);return He=function(){return e},e}function Ge(){var e=i(['<div style="position: absolute; width: ','px; white-space: nowrap; color: #444; text-align: center; font: 13px sans-serif; margin-top: -18px;">\n            <span style="color: #777;">Longitude:</span> ','\n            &nbsp; &nbsp; \n            <span style="color: #777;">Latitude:</span> '," \n          </div>"]);return Ge=function(){return e},e}function Qe(){var e=i(['<form style="width: ','px;"></form>']);return Qe=function(){return e},e}function qe(){var e=i([' ---\n## World Map Coordinates\n\n*value: an array pair of `[longitude, latitude]`, e.g. * `[-122.27, 37.87]` \n\n~~~js\nimport {worldMapCoordinates} from "@jashkenas/inputs"\n~~~'],[' ---\n## World Map Coordinates\n\n*value: an array pair of \\`[longitude, latitude]\\`, e.g. * \\`[-122.27, 37.87]\\` \n\n~~~js\nimport {worldMapCoordinates} from "@jashkenas/inputs"\n~~~']);return qe=function(){return e},e}function We(){var e=i(['\n      <form>\n        <label style="display: inline-block; font: 600 0.8rem sans-serif; margin: 6px 0 0;">\n          <span style="display: inline-block; width: 70px;">Longitude:</span>\n          ','\n        </label>\n        <br>\n        <label style="display: inline-block; font: 600 0.8rem sans-serif; margin: 0 0 6px;">\n          <span style="display: inline-block; width: 70px;">Latitude:</span>\n          ',"\n        </label>\n      </form>\n    "]);return We=function(){return e},e}function Ye(){var e=i(['<input name="input" type="number" autocomplete="off" min="-90" max="90" style="width: 80px;" step="any" value="','" />']);return Ye=function(){return e},e}function Xe(){var e=i(['<input name="input" type="number" autocomplete="off" min="-180" max="180" style="width: 80px;" step="any" value="','" />']);return Xe=function(){return e},e}function Je(){var e=i([' ---\n## Coordinates\n\n*value: an array pair of `[longitude, latitude]`, e.g. * `[-122.27, 37.87]` \n\n~~~js\nimport {coordinates} from "@jashkenas/inputs"\n~~~'],[' ---\n## Coordinates\n\n*value: an array pair of \\`[longitude, latitude]\\`, e.g. * \\`[-122.27, 37.87]\\` \n\n~~~js\nimport {coordinates} from "@jashkenas/inputs"\n~~~']);return Je=function(){return e},e}function Ze(){var e=i(['---\n## Color Pickers\n\n*value: a hexadecimal string, e.g. * `"#bada55"` \n\n~~~js\nimport {color} from "@jashkenas/inputs"\n~~~'],['---\n## Color Pickers\n\n*value: a hexadecimal string, e.g. * \\`"#bada55"\\` \n\n~~~js\nimport {color} from "@jashkenas/inputs"\n~~~']);return Ze=function(){return e},e}function et(){var e=i(["<option>"]);return et=function(){return e},e}function tt(){var e=i(['\n      <form>\n         <input name="input" type="text" autocomplete="off" \n          placeholder="','" style="font-size: 1em;" list=','>\n          <datalist id="','">\n              ',"\n          </datalist>\n      </form>\n      "]);return tt=function(){return e},e}function nt(){var e=i(['---\n## Autoselects\n*A variant of an option menu, using an autocompleting text input, via HTML\u2019s datalist element.* \n\n~~~js\nimport {autoSelect} from "@jashkenas/inputs"\n~~~']);return nt=function(){return e},e}function rt(){var e=i(["<option>"]);return rt=function(){return e},e}function it(){var e=i(['\n      <form>\n        <select name="input" ',">\n          ","\n        </select>\n      </form>\n    "]);return it=function(){return e},e}function ot(){var e=i(['---\n## Dropdown Menus and Multiselects\n\n~~~js\nimport {select} from "@jashkenas/inputs"\n~~~']);return ot=function(){return e},e}function at(){var e=i(['---\n## Buttons\n\n~~~js\nimport {button} from "@jashkenas/inputs"\n~~~']);return at=function(){return e},e}function st(){var e=i(["More [fancy slider techniques](https://beta.observablehq.com/@mootari/prime-numbers-slider)."]);return st=function(){return e},e}function lt(){var e=i(['---\n## Sliders\n\n~~~js\nimport {slider} from "@jashkenas/inputs"\n~~~']);return lt=function(){return e},e}function ut(){var e=i(["#### Friends & Family: \n\n- For fully custom forms, combining various inputs into a single reactive cell, try [@mbostock/form-input](/@mbostock/form-input).\n\n- For color scheme and interpolation pickers, take a look at [@zechasault/color-schemes-and-interpolators-picker](/@zechasault/color-schemes-and-interpolators-picker)\n\n- For data-driven range sliders, displaying a histogram of the distribution and allowing you to filter out a range of a dataset along a given attribute, see [@bumbeishvili/data-driven-range-sliders](/@bumbeishvili/data-driven-range-sliders), or [@trebor/snapping-histogram-slider](/@trebor/snapping-histogram-slider)\n\n- For a ternary plot input, describing the percentages of a whole composed of exactly three things, give [@yurivish/ternary-slider](/@yurivish/ternary-slider) a try.\n\n*If you have any improvements for the bazaar, [please make your change in a fork and send it to me as a suggestion.](https://observablehq.com/@observablehq/suggestions-and-comments)*"]);return ut=function(){return e},e}function ct(){var e=i(['# Inputs\n<div style="margin-top: -3px; font-weight: 100; font-size: 1.05em;">*a.k.a \u201cThe Grand Native Inputs Bazaar\u201d*</div>\n\n<img width="350px" src="https://gist.githubusercontent.com/jashkenas/0c1a40e6fdd2a8df5d3a4177e0a2a5cd/raw/66df7c29968fc8398833ffe7c72f06cb37211c69/capstan.gif" />\n\nA collection of assorted fancy inputs, odds and ends \u2014 with which to produce values to feed your burgeoning sketches. All inputs support optional **titles** and **descriptions**; where it makes sense, inputs also support a **submit** option, which allows you to prevent the value from updating until the input has been finalized.\n\nWares we have on offer: \n  * [`slider`](#sliderDemo)\n  * [`button`](#buttonDemo)\n  * [`select`](#selectDemo)\n  * [`autoSelect`](#autoSelectDemo)\n  * [`color`](#colorDemo)\n  * [`coordinates`](#coordinatesDemo)\n  * [`worldMapCoordinates`](#worldMapCoordinatesDemo)\n  * [`usaMapCoordinates`](#usaMapCoordinatesDemo)\n  * [`date`](#dateDemo)\n  * [`time`](#timeDemo)\n  * [`file`](#fileDemo)\n  * [`text`](#textDemo)\n  * [`textarea`](#textareaDemo)\n  * [`radio`](#radioDemo)\n  * [`checkbox`](#checkboxDemo)\n  * [`number`](#numberDemo)\n  * [`password`](#passwordDemo)'],['# Inputs\n<div style="margin-top: -3px; font-weight: 100; font-size: 1.05em;">*a.k.a \u201cThe Grand Native Inputs Bazaar\u201d*</div>\n\n<img width="350px" src="https://gist.githubusercontent.com/jashkenas/0c1a40e6fdd2a8df5d3a4177e0a2a5cd/raw/66df7c29968fc8398833ffe7c72f06cb37211c69/capstan.gif" />\n\nA collection of assorted fancy inputs, odds and ends \u2014 with which to produce values to feed your burgeoning sketches. All inputs support optional **titles** and **descriptions**; where it makes sense, inputs also support a **submit** option, which allows you to prevent the value from updating until the input has been finalized.\n\nWares we have on offer: \n  * [\\`slider\\`](#sliderDemo)\n  * [\\`button\\`](#buttonDemo)\n  * [\\`select\\`](#selectDemo)\n  * [\\`autoSelect\\`](#autoSelectDemo)\n  * [\\`color\\`](#colorDemo)\n  * [\\`coordinates\\`](#coordinatesDemo)\n  * [\\`worldMapCoordinates\\`](#worldMapCoordinatesDemo)\n  * [\\`usaMapCoordinates\\`](#usaMapCoordinatesDemo)\n  * [\\`date\\`](#dateDemo)\n  * [\\`time\\`](#timeDemo)\n  * [\\`file\\`](#fileDemo)\n  * [\\`text\\`](#textDemo)\n  * [\\`textarea\\`](#textareaDemo)\n  * [\\`radio\\`](#radioDemo)\n  * [\\`checkbox\\`](#checkboxDemo)\n  * [\\`number\\`](#numberDemo)\n  * [\\`password\\`](#passwordDemo)']);return ct=function(){return e},e}function ft(e,t){var n=e.module();return n.variable(t()).define(["md"],function(e){return e(ct())}),n.variable(t()).define(["md"],function(e){return e(ut())}),n.variable(t("sliderDemo")).define("sliderDemo",["md"],function(e){return e(lt())}),n.variable(t("viewof a")).define("viewof a",["slider"],function(e){return e()}),n.variable(t("a")).define("a",["Generators","viewof a"],function(e,t){return e.input(t)}),n.variable(t("viewof a1")).define("viewof a1",["slider"],function(e){return e({min:0,max:1,step:.01,format:".0%",description:"Zero to one, formatted as a percentage"})}),n.variable(t("a1")).define("a1",["Generators","viewof a1"],function(e,t){return e.input(t)}),n.variable(t("viewof a1_1")).define("viewof a1_1",["slider"],function(e){return e({min:0,max:1,step:.01,format:function(e){return"".concat(Math.round(100*e)," per cent")},description:"Zero to one, formatted with a custom function"})}),n.variable(t("a1_1")).define("a1_1",["Generators","viewof a1_1"],function(e,t){return e.input(t)}),n.variable(t("viewof a2")).define("viewof a2",["slider"],function(e){return e({min:0,max:1e9,step:1e3,value:325e4,format:",",description:"Zero to one billion, in steps of one thousand, formatted as a (US) number"})}),n.variable(t("a2")).define("a2",["Generators","viewof a2"],function(e,t){return e.input(t)}),n.variable(t("viewof a3")).define("viewof a3",["slider"],function(e){return e({min:0,max:100,step:1,value:10,title:"Integers",description:"Integers from zero through 100"})}),n.variable(t("a3")).define("a3",["Generators","viewof a3"],function(e,t){return e.input(t)}),n.variable(t("viewof a4")).define("viewof a4",["slider"],function(e){return e({min:.9,max:1.1,precision:3,description:"A high precision slider example"})}),n.variable(t("a4")).define("a4",["Generators","viewof a4"],function(e,t){return e.input(t)}),n.variable(t("viewof a5")).define("viewof a5",["slider"],function(e){return e({min:.9,max:1.1,precision:3,submit:!0,description:"The same as a4, but only changes value on submit"})}),n.variable(t("a5")).define("a5",["Generators","viewof a5"],function(e,t){return e.input(t)}),n.variable(t()).define(["md"],function(e){return e(st())}),n.variable(t("slider")).define("slider",["input"],function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="number"===typeof t?{value:t}:t,r=n.min,i=void 0===r?0:r,o=n.max,a=void 0===o?1:o,s=n.value,l=void 0===s?(a+i)/2:s,u=n.step,c=void 0===u?"any":u,f=n.precision,h=void 0===f?2:f,d=n.title,p=n.description,m=n.getValue,v=n.format,g=n.display,y=n.submit;return h=Math.pow(10,h),m||(m=function(e){return Math.round(e.valueAsNumber*h)/h}),e({type:"range",title:d,description:p,submit:y,format:v,display:g,attributes:{min:i,max:a,step:c,value:l},getValue:m})}}),n.variable(t("buttonDemo")).define("buttonDemo",["md"],function(e){return e(at())}),n.variable(t("viewof b")).define("viewof b",["button"],function(e){return e()}),n.variable(t("b")).define("b",["Generators","viewof b"],function(e,t){return e.input(t)}),n.variable(t()).define(["b"],function(e){return!this}),n.variable(t("viewof b1")).define("viewof b1",["button"],function(e){return e({value:"Click me",description:"We use a reference to the button below to record the time you pressed it."})}),n.variable(t("b1")).define("b1",["Generators","viewof b1"],function(e,t){return e.input(t)}),n.variable(t()).define(["b1"],function(e){return new Date(Date.now()).toUTCString()}),n.variable(t("button")).define("button",["input"],function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="string"===typeof t?{value:t}:t,r=n.value,i=void 0===r?"Ok":r,o=n.title,a=n.description,s=n.disabled,l=e({type:"button",title:o,description:a,attributes:{disabled:s,value:i}});return l.output.remove(),l}}),n.variable(t("selectDemo")).define("selectDemo",["md"],function(e){return e(ot())}),n.variable(t("viewof dd")).define("viewof dd",["select"],function(e){return e(["Spring","Summer","Fall","Winter"])}),n.variable(t("dd")).define("dd",["Generators","viewof dd"],function(e,t){return e.input(t)}),n.variable(t()).define(["dd"],function(e){return e}),n.variable(t("viewof dd1")).define("viewof dd1",["select"],function(e){return e({title:"Stooges",description:"Please pick your favorite stooge.",options:["Curly","Larry","Moe","Shemp"],value:"Moe"})}),n.variable(t("dd1")).define("dd1",["Generators","viewof dd1"],function(e,t){return e.input(t)}),n.variable(t()).define(["dd1"],function(e){return e}),n.variable(t("viewof dd2")).define("viewof dd2",["select"],function(e){return e({description:"As a child, which vegetables did you refuse to eat?",options:["Spinach","Broccoli","Brussels Sprouts","Cauliflower","Kale","Turnips","Green Beans","Asparagus"],multiple:!0})}),n.variable(t("dd2")).define("dd2",["Generators","viewof dd2"],function(e,t){return e.input(t)}),n.variable(t()).define(["dd2"],function(e){return e}),n.variable(t("viewof dd3")).define("viewof dd3",["select"],function(e){var t=e({title:"How are you feeling today?",options:[{label:"\ud83e\udd37",value:"shrug"},{label:"\ud83d\ude02",value:"tears-of-joy"},{label:"\ud83d\ude0d",value:"loving-it"},{label:"\ud83e\udd14",value:"hmmm"},{label:"\ud83d\ude31",value:"yikes"},{label:"\ud83d\ude08",value:"mischievous"},{label:"\ud83d\udca9",value:"poo"}],value:"hmmm"});return t.input.style.fontSize="30px",t.input.style.marginTop="8px",t}),n.variable(t("dd3")).define("dd3",["Generators","viewof dd3"],function(e,t){return e.input(t)}),n.variable(t()).define(["dd3"],function(e){return e}),n.variable(t("select")).define("select",["input","html"],function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=Array.isArray(n)?{options:n}:n,i=r.value,o=r.title,a=r.description,s=r.submit,l=r.multiple,u=r.size,c=r.options;c=c.map(function(e){return"object"===typeof e?e:{value:e,label:e}});var f=e({type:"select",title:o,description:a,submit:s,getValue:function(e){var t=Array.prototype.filter.call(e.options,function(e){return e.selected}).map(function(e){return e.value});return l?t:t[0]},form:t(it(),l?'multiple size="'.concat(u||c.length,'"'):"",c.map(function(e){var n=e.value,r=e.label;return Object.assign(t(rt()),{value:n,selected:Array.isArray(i)?i.includes(n):i===n,textContent:r})}))});return f.output.remove(),f}}),n.variable(t("autoSelectDemo")).define("autoSelectDemo",["md"],function(e){return e(nt())}),n.variable(t("viewof as")).define("viewof as",["autoSelect","usa"],function(e,t){return e({options:t.objects.states.geometries.map(function(e){return e.properties.name}),placeholder:"Search for a US state . . ."})}),n.variable(t("as")).define("as",["Generators","viewof as"],function(e,t){return e.input(t)}),n.variable(t()).define(["as"],function(e){return e}),n.variable(t("autoSelect")).define("autoSelect",["input","html"],function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=Array.isArray(n)?{options:n}:n,i=r.value,o=r.title,a=r.description,s=(r.autocomplete,r.placeholder),l=(r.size,r.options),u=r.list,c=void 0===u?"options":u,f=new Set(l),h=e({type:"text",title:o,description:a,action:function(e){e.value=e.input.value=i||"",e.onsubmit=function(e){return e.preventDefault()},e.input.oninput=function(t){t.stopPropagation(),e.value=e.input.value,f.has(e.input.value)&&e.dispatchEvent(new CustomEvent("input"))}},form:t(tt(),s,c,c,l.map(function(e){return Object.assign(t(et()),{value:e})}))});return h.output.remove(),h}}),n.variable(t("colorDemo")).define("colorDemo",["md"],function(e){return e(Ze())}),n.variable(t("viewof c")).define("viewof c",["color"],function(e){return e()}),n.variable(t("c")).define("c",["Generators","viewof c"],function(e,t){return e.input(t)}),n.variable(t("viewof c1")).define("viewof c1",["color"],function(e){return e({value:"#0000ff",title:"Background Color",description:"This color picker starts out blue"})}),n.variable(t("c1")).define("c1",["Generators","viewof c1"],function(e,t){return e.input(t)}),n.variable(t("color")).define("color",["input"],function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="string"===typeof t?{value:t}:t,r=n.value,i=void 0===r?"#000000":r,o=n.title,a=n.description,s=n.submit,l=n.display,u=e({type:"color",title:o,description:a,submit:s,display:l,attributes:{value:i}});return(o||a)&&(u.input.style.margin="5px 0"),u}}),n.variable(t("coordinatesDemo")).define("coordinatesDemo",["md"],function(e){return e(Je())}),n.variable(t("viewof coords1")).define("viewof coords1",["coordinates"],function(e){return e()}),n.variable(t("coords1")).define("coords1",["Generators","viewof coords1"],function(e,t){return e.input(t)}),n.variable(t()).define(["coords1"],function(e){return e}),n.variable(t("viewof coords2")).define("viewof coords2",["coordinates"],function(e){return e({title:"Hometown",description:"Enter the coordinates of where you were born",value:[-122.27,37.87],submit:!0})}),n.variable(t("coords2")).define("coords2",["Generators","viewof coords2"],function(e,t){return e.input(t)}),n.variable(t()).define(["coords2"],function(e){return e}),n.variable(t("coordinates")).define("coordinates",["html","input"],function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=Array.isArray(n)?{value:n}:n,o=i.value,a=void 0===o?[]:o,s=i.title,l=i.description,u=i.submit,c=Object(r.a)(a,2),f=c[0],h=c[1];f=null!=f?f:"",h=null!=h?h:"";var d=e(Xe(),f),p=e(Ye(),h),m=t({type:"coordinates",title:s,description:l,submit:u,getValue:function(){var e=d.valueAsNumber,t=p.valueAsNumber;return[isNaN(e)?null:e,isNaN(t)?null:t]},form:e(We(),d,p)});return m.output.remove(),m}}),n.variable(t("worldMapCoordinatesDemo")).define("worldMapCoordinatesDemo",["md"],function(e){return e(qe())}),n.variable(t("viewof worldMap1")).define("viewof worldMap1",["worldMapCoordinates"],function(e){return e([-122.27,37.87])}),n.variable(t("worldMap1")).define("worldMap1",["Generators","viewof worldMap1"],function(e,t){return e.input(t)}),n.variable(t()).define(["worldMap1"],function(e){return e}),n.variable(t("worldMapCoordinates")).define("worldMapCoordinates",["html","DOM","d3geo","graticule","land","countries","input"],function(e,t,n,i,o,a,s){return function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=Array.isArray(l)?{value:l}:l,c=u.value,f=void 0===c?[]:c,h=u.title,d=u.description,p=u.width,m=void 0===p?400:p,v=Math.round(.525*m),g=Object(r.a)(f,2),y=g[0],_=g[1];y=null!=y?y:null,_=null!=_?_:null;var b=e(Qe(),m),w=t.context2d(m,v),x=w.canvas;x.style.margin="10px 0 0";var A=n.geoNaturalEarth1().precision(.1).fitSize([m,v],{type:"Sphere"}),M=n.geoPath(A,w).pointRadius(2.5);function S(){if(w.fillStyle="#fff",w.fillRect(0,0,m,v),w.beginPath(),M(i),w.lineWidth=.35,w.strokeStyle="#ddd",w.stroke(),w.beginPath(),M(o),w.fillStyle="#f4f4f4",w.fill(),w.beginPath(),M(a),w.strokeStyle="#aaa",w.stroke(),null!=y&&null!=_){var e={type:"MultiPoint",coordinates:[[y,_]]};w.beginPath(),M(e),w.fillStyle="#f00",w.fill()}}return b.append(x),x.onclick=function(e){var t=e.offsetX,n=e.offsetY,r=A.invert([t,n]);y=+r[0].toFixed(2),_=+r[1].toFixed(2),S(),x.dispatchEvent(new CustomEvent("input",{bubbles:!0}))},S(),s({type:"worldMapCoordinates",title:h,description:d,display:function(t){return e(Ge(),m,null!=y?y:"",null!=_?_:"")},getValue:function(){return[null!=y?y:null,null!=_?_:null]},form:b})}}),n.variable(t("usaMapCoordinatesDemo")).define("usaMapCoordinatesDemo",["md"],function(e){return e(He())}),n.variable(t("viewof usaMap1")).define("viewof usaMap1",["usaMapCoordinates"],function(e){return e([-122.27,37.87])}),n.variable(t("usaMap1")).define("usaMap1",["Generators","viewof usaMap1"],function(e,t){return e.input(t)}),n.variable(t()).define(["usaMap1"],function(e){return e}),n.variable(t("viewof usaMap2")).define("viewof usaMap2",["usaMapCoordinates"],function(e){return e({title:"A Mini Map",description:"Defaults to New York City",width:200,value:[-74,40.71]})}),n.variable(t("usaMap2")).define("usaMap2",["Generators","viewof usaMap2"],function(e,t){return e.input(t)}),n.variable(t()).define(["usaMap2"],function(e){return e}),n.variable(t("usaMapCoordinates")).define("usaMapCoordinates",["html","DOM","d3geo","nation","states","input"],function(e,t,n,i,o,a){return function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=Array.isArray(s)?{value:s}:s,u=l.value,c=void 0===u?[]:u,f=l.title,h=l.description,d=l.width,p=void 0===d?400:d,m=p/960,v=600*m,g=Object(r.a)(c,2),y=g[0],_=g[1];y=null!=y?y:null,_=null!=_?_:null;var b=e(Be(),p),w=t.context2d(p,v),x=w.canvas;x.style.margin="5px 0 0";var A=n.geoAlbersUsa().scale(1280).translate([480,300]),M=n.geoPath().context(w).pointRadius(2.5/m);function S(){if(w.clearRect(0,0,p,v),w.save(),w.scale(m,m),w.lineWidth=.35/m,w.beginPath(),M(i),w.fillStyle="#f4f4f4",w.fill(),w.beginPath(),M(o),w.strokeStyle="#aaa",w.stroke(),null!=y&&null!=_){var e={type:"MultiPoint",coordinates:[A([y,_])]};w.beginPath(),M(e),w.fillStyle="#f00",w.fill()}w.restore()}return b.append(x),x.onclick=function(e){var t=e.offsetX,n=e.offsetY,r=A.invert([t/m,n/m]);y=+r[0].toFixed(2),_=+r[1].toFixed(2),S(),x.dispatchEvent(new CustomEvent("input",{bubbles:!0}))},S(),a({type:"worldMapCoordinates",title:f,description:h,display:function(t){return e(Ve(),p,null!=y?y:"",null!=_?_:"")},getValue:function(){return[null!=y?y:null,null!=_?_:null]},form:b})}}),n.variable(t("dateDemo")).define("dateDemo",["md"],function(e){return e(Ue())}),n.variable(t("viewof d")).define("viewof d",["date"],function(e){return e()}),n.variable(t("d")).define("d",["Generators","viewof d"],function(e,t){return e.input(t)}),n.variable(t("viewof d1")).define("viewof d1",["date"],function(e){return e({title:"2017",min:"2017-01-01",max:"2017-12-31",value:"2017-01-01",description:"Only dates within the 2017 calendar year are allowed"})}),n.variable(t("d1")).define("d1",["Generators","viewof d1"],function(e,t){return e.input(t)}),n.variable(t("date")).define("date",["input"],function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="string"===typeof t?{value:t}:t,r=n.min,i=n.max,o=n.value,a=n.title,s=n.description,l=n.display;return e({type:"date",title:a,description:s,display:l,attributes:{min:r,max:i,value:o}})}}),n.variable(t("timeDemo")).define("timeDemo",["md"],function(e){return e(Ke())}),n.variable(t("viewof t")).define("viewof t",["time"],function(e){return e()}),n.variable(t("t")).define("t",["Generators","viewof t"],function(e,t){return e.input(t)}),n.variable(t()).define(["t"],function(e){return e}),n.variable(t("viewof t1")).define("viewof t1",["time"],function(e){return e({title:"Afternoon",min:"12:00:00",max:"23:59:59",value:"13:00:00",step:1,description:"Only times after noon are allowed, and seconds are included"})}),n.variable(t("t1")).define("t1",["Generators","viewof t1"],function(e,t){return e.input(t)}),n.variable(t()).define(["t1"],function(e){return e}),n.variable(t("time")).define("time",["input"],function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="string"===typeof t?{value:t}:t,r=n.min,i=n.max,o=n.step,a=n.value,s=n.title,l=n.description,u=n.display,c=e({type:"time",title:s,description:l,display:u,getValue:function(e){return e.value?e.value:void 0},attributes:{min:r,max:i,step:o,value:a}});return c.output.remove(),c}}),n.variable(t("fileDemo")).define("fileDemo",["md"],function(e){return e(Fe())}),n.variable(t("viewof e")).define("viewof e",["file"],function(e){return e()}),n.variable(t("e")).define("e",["Generators","viewof e"],function(e,t){return e.input(t)}),n.variable(t("viewof e1")).define("viewof e1",["file"],function(e){return e({title:"Photographs",description:"Only .jpg files are allowed in this example. Choose some images, and they\u2019ll appear in the cell below.",accept:".jpg",multiple:!0})}),n.variable(t("e1")).define("e1",["Generators","viewof e1"],function(e,t){return e.input(t)}),n.variable(t()).define(["html","e1","Files"],function(){var e=Object(s.a)(a.a.mark(function e(t,n,r){var i,o,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=t($e()),o=0;case 2:if(!(o<n.length)){e.next=12;break}return n[o],s=t(Re()),e.next=7,r.url(n[o]);case 7:s.src=e.sent,i.append(s);case 9:o++,e.next=2;break;case 12:return e.abrupt("return",i);case 13:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}()),n.variable(t("file")).define("file",["input"],function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.multiple,r=t.accept,i=t.title,o=t.description,a=e({type:"file",title:i,description:o,attributes:{multiple:n,accept:r},action:function(e){e.input.onchange=function(){e.value=n?e.input.files:e.input.files[0],e.dispatchEvent(new CustomEvent("input"))}}});return a.output.remove(),a.input.onchange(),a}}),n.variable(t("textDemo")).define("textDemo",["md"],function(e){return e(Pe())}),n.variable(t("viewof f")).define("viewof f",["text"],function(e){return e()}),n.variable(t("f")).define("f",["Generators","viewof f"],function(e,t){return e.input(t)}),n.variable(t("viewof f1")).define("viewof f1",["text"],function(e){return e({title:"A Text Input",placeholder:"Placeholder text",description:"Note that text inputs don\u2019t show output on the right"})}),n.variable(t("f1")).define("f1",["Generators","viewof f1"],function(e,t){return e.input(t)}),n.variable(t()).define(["f1"],function(e){return e}),n.variable(t("viewof f2")).define("viewof f2",["text"],function(e){return e({placeholder:"Placeholder text",description:"This input only changes value on submit",submit:"Go"})}),n.variable(t("f2")).define("f2",["Generators","viewof f2"],function(e,t){return e.input(t)}),n.variable(t()).define(["f2"],function(e){return e}),n.variable(t("text")).define("text",["input"],function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="string"===typeof t?{value:t}:t,r=n.value,i=n.title,o=n.description,a=n.autocomplete,s=void 0===a?"off":a,l=n.maxlength,u=n.minlength,c=n.pattern,f=n.placeholder,h=n.size,d=n.submit,p=e({type:"text",title:i,description:o,submit:d,attributes:{value:r,autocomplete:s,maxlength:l,minlength:u,pattern:c,placeholder:f,size:h}});return p.output.remove(),p.input.style.fontSize="1em",p}}),n.variable(t("textareaDemo")).define("textareaDemo",["md"],function(e){return e(je())}),n.variable(t("viewof g")).define("viewof g",["textarea"],function(e){return e()}),n.variable(t("g")).define("g",["Generators","viewof g"],function(e,t){return e.input(t)}),n.variable(t()).define(["g"],function(e){return e}),n.variable(t("viewof g1")).define("viewof g1",["textarea"],function(e){return e({title:"Your Great American Novel",placeholder:"Insert story here...",spellcheck:!0,width:"100%",rows:10,submit:"Publish"})}),n.variable(t("g1")).define("g1",["Generators","viewof g1"],function(e,t){return e.input(t)}),n.variable(t()).define(["g1"],function(e){return e}),n.variable(t("textarea")).define("textarea",["input","html"],function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r="string"===typeof n?{value:n}:n,i=r.value,o=void 0===i?"":i,a=r.title,s=r.description,l=r.autocomplete,u=r.cols,c=void 0===u?45:u,f=r.rows,h=void 0===f?3:f,d=r.width,p=r.height,m=r.maxlength,v=r.placeholder,g=r.spellcheck,y=r.wrap,_=r.submit,b=e({form:t(Ne(),o),title:a,description:s,submit:_,attributes:{autocomplete:l,cols:c,rows:h,maxlength:m,placeholder:v,spellcheck:g,wrap:y}});return b.output.remove(),null!=d&&(b.input.style.width=d),null!=p&&(b.input.style.height=p),_&&(b.submit.style.margin="0"),(a||s)&&(b.input.style.margin="3px 0"),b}}),n.variable(t("radioDemo")).define("radioDemo",["md"],function(e){return e(Oe())}),n.variable(t("viewof r")).define("viewof r",["radio"],function(e){return e(["Lust","Gluttony","Greed","Sloth","Wrath","Envy","Pride"])}),n.variable(t("r")).define("r",["Generators","viewof r"],function(e,t){return e.input(t)}),n.variable(t()).define(["r"],function(e){return e}),n.variable(t("viewof r1")).define("viewof r1",["radio"],function(e){return e({title:"Contact Us",description:"Please select your preferred contact method",options:[{label:"By Email",value:"email"},{label:"By Phone",value:"phone"},{label:"By Pager",value:"pager"}],value:"pager"})}),n.variable(t("r1")).define("r1",["Generators","viewof r1"],function(e,t){return e.input(t)}),n.variable(t()).define(["r1"],function(e){return e}),n.variable(t("radio")).define("radio",["input","html"],function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=Array.isArray(n)?{options:n}:n,i=r.value,o=r.title,a=r.description,s=r.submit,l=r.options;l=l.map(function(e){return"string"===typeof e?{value:e,label:e}:e});var u=e({type:"radio",title:o,description:a,submit:s,getValue:function(e){if(e.checked)return e.value;var t=Array.prototype.find.call(e,function(e){return e.checked});return t?t.value:void 0},form:t(De(),l.map(function(e){var n=e.value,r=e.label,o=t(ke(),n===i?"checked":"");return o.setAttribute("value",n),t(ze(),o,r)}))});return u.output.remove(),u}}),n.variable(t("checkboxDemo")).define("checkboxDemo",["md"],function(e){return e(Le())}),n.variable(t("viewof ch")).define("viewof ch",["checkbox"],function(e){return e(["Lust","Gluttony","Greed","Sloth","Wrath","Envy","Pride"])}),n.variable(t("ch")).define("ch",["Generators","viewof ch"],function(e,t){return e.input(t)}),n.variable(t()).define(["ch"],function(e){return e}),n.variable(t("viewof ch1")).define("viewof ch1",["checkbox"],function(e){return e({title:"Colors",description:"Please select your favorite colors",options:[{value:"r",label:"Red"},{value:"o",label:"Orange"},{value:"y",label:"Yellow"},{value:"g",label:"Green"},{value:"b",label:"Blue"},{value:"i",label:"Indigo"},{value:"v",label:"Violet"}],value:["r","g","b"],submit:!0})}),n.variable(t("ch1")).define("ch1",["Generators","viewof ch1"],function(e,t){return e.input(t)}),n.variable(t()).define(["ch1"],function(e){return e}),n.variable(t("viewof ch3")).define("viewof ch3",["checkbox"],function(e){return e({description:"Just a single checkbox to toggle",options:[{value:"toggle",label:"On"}],value:"toggle"})}),n.variable(t("ch3")).define("ch3",["Generators","viewof ch3"],function(e,t){return e.input(t)}),n.variable(t()).define(["ch3"],function(e){return e}),n.variable(t("checkbox")).define("checkbox",["input","html"],function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=Array.isArray(n)?{options:n}:n,i=r.value,o=r.title,a=r.description,s=r.submit,l=r.options;l=l.map(function(e){return"string"===typeof e?{value:e,label:e}:e});var u=e({type:"checkbox",title:o,description:a,submit:s,getValue:function(e){return e.length?Array.prototype.filter.call(e,function(e){return e.checked}).map(function(e){return e.value}):!!e.checked&&e.value},form:t(Te(),l.map(function(e){var n=e.value,r=e.label,o=t(Ie(),(i||[]).indexOf(n)>-1?"checked":"");return o.setAttribute("value",n),t(Ee(),o,r)}))});return u.output.remove(),u}}),n.variable(t("numberDemo")).define("numberDemo",["md"],function(e){return e(Ce())}),n.variable(t("viewof h")).define("viewof h",["number"],function(e){return e()}),n.variable(t("h")).define("h",["Generators","viewof h"],function(e,t){return e.input(t)}),n.variable(t()).define(["h"],function(e){return e}),n.variable(t("viewof h1")).define("viewof h1",["number"],function(e){return e({placeholder:"13+",title:"Your Age",submit:!0})}),n.variable(t("h1")).define("h1",["Generators","viewof h1"],function(e,t){return e.input(t)}),n.variable(t()).define(["h1"],function(e){return e}),n.variable(t("number")).define("number",["input"],function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="number"===typeof t||"string"===typeof t?{value:+t}:t,r=n.value,i=n.title,o=n.description,a=n.placeholder,s=n.submit,l=n.step,u=void 0===l?"any":l,c=n.min,f=n.max,h=e({type:"number",title:i,description:o,submit:s,attributes:{value:r,placeholder:a,step:u,min:c,max:f,autocomplete:"off"},getValue:function(e){return e.valueAsNumber}});return h.output.remove(),h.input.style.width="auto",h.input.style.fontSize="1em",h}}),n.variable(t("passwordDemo")).define("passwordDemo",["md"],function(e){return e(Se())}),n.variable(t("viewof i")).define("viewof i",["password"],function(e){return e({value:"password"})}),n.variable(t("i")).define("i",["Generators","viewof i"],function(e,t){return e.input(t)}),n.variable(t()).define(["i"],function(e){return e}),n.variable(t("viewof i1")).define("viewof i1",["password"],function(e){return e({title:"Your super secret password",description:"Less than 12 characters, please.",minlength:6,maxlength:12})}),n.variable(t("i1")).define("i1",["Generators","viewof i1"],function(e,t){return e.input(t)}),n.variable(t()).define(["i1"],function(e){return e}),n.variable(t("password")).define("password",["input"],function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="string"===typeof t?{value:t}:t,r=n.value,i=n.title,o=n.description,a=n.autocomplete,s=void 0===a?"off":a,l=n.maxlength,u=n.minlength,c=n.pattern,f=n.placeholder,h=n.size,d=n.submit,p=e({type:"password",title:i,description:o,submit:d,attributes:{value:r,autocomplete:s,maxlength:l,minlength:u,pattern:c,placeholder:f,size:h}});return p.output.remove(),p.input.style.fontSize="1em",p}}),n.variable(t()).define(["md"],function(e){return e(Me())}),n.variable(t("input")).define("input",["html","d3format"],function(e,t){return function(n){var r=n.form,i=n.type,o=void 0===i?"text":i,a=n.attributes,s=void 0===a?{}:a,l=n.action,u=n.getValue,c=n.title,f=n.description,h=n.format,d=n.display,p=n.submit,m=(n.options,e(Ae()));if(r||(r=e(xe(),o)),Object.keys(s).forEach(function(e){var t=s[e];null!=t&&r.input.setAttribute(e,t)}),p&&r.append(e(we(),"string"==typeof p?p:"Submit")),r.append(e(be())),c&&r.prepend(e(_e(),c)),f&&r.append(e(ye(),f)),h&&(h="function"===typeof h?h:t.format(h)),l)l(r);else{var v=p?"onsubmit":"button"==o?"onclick":"checkbox"==o||"radio"==o?"onchange":"oninput";r[v]=function(e){e&&e.preventDefault();var t=u?u(r.input):r.input.value;if(r.output){var n=d?d(t):h?h(t):t;if(n instanceof window.Element){for(;r.output.hasChildNodes();)r.output.removeChild(r.output.lastChild);r.output.append(n)}else r.output.value=n}r.value=t,"oninput"!==v&&r.dispatchEvent(new CustomEvent("input",{bubbles:!0}))},"oninput"!==v&&(m.oninput=function(e){return e&&e.stopPropagation()&&e.preventDefault()}),"onsubmit"!==v&&(r.onsubmit=function(e){return e&&e.preventDefault()}),r[v]()}for(;r.childNodes.length;)m.appendChild(r.childNodes[0]);return r.append(m),r}}),n.variable(t("d3geo")).define("d3geo",["require"],function(e){return e("d3-geo@1")}),n.variable(t("d3format")).define("d3format",["require"],function(e){return e("d3-format@1")}),n.variable(t("topojson")).define("topojson",["require"],function(e){return e("topojson-client@3")}),n.variable(t("world")).define("world",Object(s.a)(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cdn.jsdelivr.net/npm/world-atlas@1/world/110m.json");case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}},e)}))),n.variable(t("land")).define("land",["topojson","world"],function(e,t){return e.feature(t,t.objects.land)}),n.variable(t("countries")).define("countries",["topojson","world"],function(e,t){return e.feature(t,t.objects.countries)}),n.variable(t("usa")).define("usa",Object(s.a)(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cdn.jsdelivr.net/npm/us-atlas@^2.1/us/states-10m.json");case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}},e)}))),n.variable(t("nation")).define("nation",["topojson","usa"],function(e,t){return e.feature(t,t.objects.nation)}),n.variable(t("states")).define("states",["topojson","usa"],function(e,t){return e.feature(t,t.objects.states)}),n.variable(t("graticule")).define("graticule",["d3geo"],function(e){return e.geoGraticule10()}),n.variable(t("viewof license")).define("viewof license",["md"],function(e){var t=e(ge());return t.value="MIT",t}),n.variable(t("license")).define("license",["Generators","viewof license"],function(e,t){return e.input(t)}),n.variable(t()).define(["md"],function(e){return e(ve())}),n}function ht(){var e=i(["## reusable3dCanvas\n\nThe canvas is highly configurable; pass any configuration changes\nas the third argument.  Until I add more examples, just\nread the code below to explore the possibilities.\n\nYes, the configuration names and structure can be improved upon.\n\nI'd like to find a way to make ```reusable3dCanvas```\nand ```reactive3dCanvas``` less opinionated about the\nlighting, camera, and controls.  Send your suggestions!\n\nIn particular, I loathe the ```THREE.OrbitControls```,\nbut ```THREE.TrackballControls``` is not well-behaved\nwhen there are multiple canvases on a page; I haven't figured\nout how to make it respond only to mouse events one canvas at a time.\n"],["## reusable3dCanvas\n\nThe canvas is highly configurable; pass any configuration changes\nas the third argument.  Until I add more examples, just\nread the code below to explore the possibilities.\n\nYes, the configuration names and structure can be improved upon.\n\nI'd like to find a way to make \\`\\`\\`reusable3dCanvas\\`\\`\\`\nand \\`\\`\\`reactive3dCanvas\\`\\`\\` less opinionated about the\nlighting, camera, and controls.  Send your suggestions!\n\nIn particular, I loathe the \\`\\`\\`THREE.OrbitControls\\`\\`\\`,\nbut \\`\\`\\`THREE.TrackballControls\\`\\`\\` is not well-behaved\nwhen there are multiple canvases on a page; I haven't figured\nout how to make it respond only to mouse events one canvas at a time.\n"]);return ht=function(){return e},e}function dt(){var e=i(["\nThe entire mesh is being replaced as you change the color,\nbut the camera remains unchanged.\n\nAt the moment, ```reusable3dCanvas``` *only* supports wholesale mesh changes.\nFor example, changing the background color with the color picker below\nwill not update the scene; you must re-run the main cell above to\nrender with the new background color.\n"],["\nThe entire mesh is being replaced as you change the color,\nbut the camera remains unchanged.\n\nAt the moment, \\`\\`\\`reusable3dCanvas\\`\\`\\` *only* supports wholesale mesh changes.\nFor example, changing the background color with the color picker below\nwill not update the scene; you must re-run the main cell above to\nrender with the new background color.\n"]);return dt=function(){return e},e}function pt(){var e=i(["\nRotate, pan, or zoom with your mouse on the scene above.\nThen click on the first color picker below, to change the color of the cube.\n"]);return pt=function(){return e},e}function mt(){var e=i(["\nIf you create multiple WebGL canvases in a single Observable notebook,\nand those notebook cells get re-evaluated often, you'll find that\nyou can quickly run out of WebGL contexts.\nI had this problem with [one of my notebooks][3].\n(It is possible that I could have fixed this by disposing of the contexts correctly; I haven't looked into that.)\n\nThere are also sound functional reasons to reuse an existing WebGL context, as illustrated in\nmy [Mutating WebGL Uniforms][2] notebook, itself a fork of a fork.  Mike Bostock discusses the general problem in [this forum thread][1].\n\nOne obvious use-case is to update the mesh being rendered, without losing the camera\nposition and orientation, as seen below.\n\n[1]:https://talk.observablehq.com/t/slider-changes-re-creating-webgl-context/202/4\n[2]:https://beta.observablehq.com/@vorth/mutating-webgl-uniforms\n[3]:https://beta.observablehq.com/@vorth/exploring-4d-quaternion-rotations\n"]);return mt=function(){return e},e}function vt(){var e=i(["# Reusable Three.js Canvas"]);return vt=function(){return e},e}function gt(e,t){var n=e.module();n.variable(t()).define(["md"],function(e){return e(vt())}),n.variable(t()).define(["md"],function(e){return e(mt())}),n.variable(t()).define(["reusable3dCanvas","cube","background"],function(e,t,n){return e(this,t,{background:n,camera:{aspect:2,position:[3,4,5]}})}),n.variable(t()).define(["md"],function(e){return e(pt())}),n.variable(t("viewof cubeColor")).define("viewof cubeColor",["color"],function(e){return e({value:"#8278d1"})}),n.variable(t("cubeColor")).define("cubeColor",["Generators","viewof cubeColor"],function(e,t){return e.input(t)}),n.variable(t()).define(["md"],function(e){return e(dt())}),n.variable(t("viewof background")).define("viewof background",["color"],function(e){return e({value:"#9cd3d7"})}),n.variable(t("background")).define("background",["Generators","viewof background"],function(e,t){return e.input(t)}),n.variable(t("cube")).define("cube",["THREE","cubeColor"],function(e,t){return new e.Mesh(new e.CubeGeometry,new e.MeshLambertMaterial({color:t}))}),n.variable(t()).define(["md"],function(e){return e(ht())}),n.variable(t("reusable3dCanvas")).define("reusable3dCanvas",["reactive3dCanvas"],function(e){return function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t&&t.replaceMesh?(t.replaceMesh(n),t):e(n,r)}}),n.variable(t("reactive3dCanvas")).define("reactive3dCanvas",["lightedCamera","perspectiveCamera","scene","renderer","addOrbitControl","THREE"],function(e,t,n,r,i,o){return function(a){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=s.orbitControl,f=void 0===c||c,h=e(t(s.camera),s.lights),d=n(a,h,s),p=r(s),m=null;return f&&(m=i(p,d,h,s.camera)),p.domElement.scene=d,p.domElement.render=function(){return p.render(d,h)},p.domElement.replaceMesh=function(e){d.remove(d.replaceableMesh),d.add(e),d.replaceableMesh=e,p.render(d,h)},p.domElement.adjustCamera=function(e,t,n){var r;h.lookAt(Object(l.a)(o.Vector3,Object(u.a)(t))),m.target=Object(l.a)(o.Vector3,Object(u.a)(t)),h.up=Object(l.a)(o.Vector3,Object(u.a)(n)),(r=h.position).set.apply(r,Object(u.a)(e)),m.update(),p.render(d,h)},p.render(d,h),p.domElement}}),n.variable(t("renderer")).define("renderer",["width","THREE"],function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.renderWidth,i=void 0===r?e:r,o=n.camera,a=(void 0===o?{}:o).aspect,s=void 0===a?2:a,l=new t.WebGLRenderer({antialias:!0});return l.setPixelRatio(window.devicePixelRatio),l.setSize(i,i/s),l}}),n.variable(t("perspectiveCamera")).define("perspectiveCamera",["THREE"],function(e){return function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.fov,i=void 0===r?30:r,o=n.aspect,a=void 0===o?2:o,s=n.near,c=void 0===s?1:s,f=n.far,h=void 0===f?4e3:f,d=n.position,p=void 0===d?[0,0,500]:d,m=n.up,v=void 0===m?[0,0,1]:m,g=n.lookAt,y=void 0===g?[0,0,0]:g;console.log(y);var _=new e.PerspectiveCamera(i,a,c,h);return _.lookAt(Object(l.a)(e.Vector3,Object(u.a)(y))),_.up=Object(l.a)(e.Vector3,Object(u.a)(v)),(t=_.position).set.apply(t,Object(u.a)(p)),_}}),n.variable(t("lightedCamera")).define("lightedCamera",["THREE"],function(e){return function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.spot,o=void 0===i?{color:8947848,intensity:.4,position:[200,500,0]}:i,a=new e.SpotLight(o.color,o.intensity);(n=a.position).set.apply(n,Object(u.a)(o.position)),t.add(a);var s=r.ambient,l=void 0===s?{color:4473924,intensity:.8}:s;return t.add(new e.AmbientLight(l.color,l.intensity)),t.add(new e.HemisphereLight(15724008,7500360,.6)),t}}),n.variable(t("scene")).define("scene",["THREE"],function(e){return function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=new e.Scene,o=r.background,a=void 0===o?11193599:o;return i.background=new e.Color(a),i.add(n),i.add(t),i.replaceableMesh=t,i}}),n.variable(t("addOrbitControl")).define("addOrbitControl",["THREE"],function(e){return function(t,n,r){var i=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).lookAt,o=void 0===i?[0,0,0]:i,a=new e.OrbitControls(r,t.domElement);return a.target=Object(l.a)(e.Vector3,Object(u.a)(o)),a.addEventListener("change",function(){t.render(n,r)}),function e(){requestAnimationFrame(e),a.update()}(),a}}),n.variable(t("THREE")).define("THREE",["require"],function(){var e=Object(s.a)(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("three@0.96/build/three.min.js");case 2:return n=window.THREE=e.sent,e.next=5,t("three@0.96/examples/js/controls/OrbitControls.js").catch(function(){});case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());var r=e.module(ft);return n.import("color",r),n}function yt(){var e=i(["## Dependencies"]);return yt=function(){return e},e}function _t(){var e=i(["## Model Resolution\n\nWe use the term *resolve* to refer to the process of taking a list\nof line segments (as pairs of vectors), and associating a strut shape,\nlength, and orientation with each."]);return _t=function(){return e},e}function bt(){var e=i(['<div><div style="font-weight:bold">',"</div><div>","</div><div>","</div><div>","</div><div>","</div></div>"]);return bt=function(){return e},e}function wt(){var e=i(["<div><div>","</div><div>","</div><div>","</div></div>"]);return wt=function(){return e},e}function xt(){var e=i(["<span>","","</span>"]);return xt=function(){return e},e}function At(){var e=i(["## Useful Input Controls\n\nThis section contains some reusable input controls for Zome numbers,\nZome vectors, etc."]);return At=function(){return e},e}function Mt(){var e=i(["The embedShape function converts shape vertices from vectors over\nthe Golden field to vectors over the real numbers."]);return Mt=function(){return e},e}function St(){var e=i(["## Private Functions"]);return St=function(){return e},e}function Ct(){var e=i(["\n## Public Functions\n"]);return Ct=function(){return e},e}function Et(){var e=i(['\nThe following cell, demonstrating a canvas inlined in HTML,\nuses a *non-reusable* canvas,\nuntil I can figure out how to access the canvas\nelement from "this", which is the table element.\nIt is disabled, since its presence will ruin the use of the other canvas.\n']);return Et=function(){return e},e}function It(){var e=i(["\nFinally, you can simply edit the code below, which generates the model being rendered above.\n"]);return It=function(){return e},e}function Tt(){var e=i(["\nThe model also includes a panel joining three of the strut endpoints.\nYou can adjust the panel color with this color picker:\n"]);return Tt=function(){return e},e}function Lt(){var e=i(["\nYou can control the length of the struts relative to the ball size here:\n"]);return Lt=function(){return e},e}function zt(){var e=i(["\nYou can experiment with several changes.  First, rotate, pan, or zoom\nin the canvas above, using your mouse.  Then, as you make changes below,\nyou'll see\nthat your camera position is not changing.  This means that the canvas\nis not being discarded and recreated.\n\nThe *testResolve* model is generated in a cell below.  It is applying\nicosahedral symmetry to a strut in the blue plane.  You can control the\nY-axis coordinate here:\n"]);return zt=function(){return e},e}function kt(){var e=i(["# Observable vZome Rendering\n\nThis notebook represents a new embodiment of vZome, native to the web,\nand reimagined in Javascript.  It is a collaborative effort between [Jacob Rus](https://beta.observablehq.com/@jrus) and \n[Scott Vorthmann](https://beta.observablehq.com/@vorth), with Jacob providing\nmost of the fresh ideas and clever, clear implementation.\n\nFor now, this notebook gives you a handy viewer for [vZome](http://vzome.com) models, based\non [Three.js](https://threejs.org/), but no equivalent of the\n[desktop vZome](http://vzome.com/home/index/vzome-60/)\napplication for interactively building models.  However, we\nare providing a completely transparent set of APIs for generating\nmodels using Javascript code.  Observable vZome is far more open-ended\nthan the desktop application, which still has its place as a way\nto interactively create models.\n\nThis notebook replaces an [earlier version][1].\nIt now supports a reusable 3d canvas that allows changes\nto the rendered model, without rebuilding the WebGL context.\nThis is important if you want to have many such canvases on a page.\n\n[1]: https://beta.observablehq.com/@vorth/wip-observable-vzome\n"]);return kt=function(){return e},e}function Dt(e,t){var n=e.module();n.variable(t()).define(["md"],function(e){return e(kt())}),n.variable(t()).define(["vZome","testResolve"],function(e,t){return e.renderModel(this,t,{renderWidth:100})}),n.variable(t()).define(["md"],function(e){return e(zt())}),n.variable(t("viewof y")).define("viewof y",["vZome"],function(e){return e.numberInput(4)}),n.variable(t("y")).define("y",["Generators","viewof y"],function(e,t){return e.input(t)}),n.variable(t()).define(["md"],function(e){return e(Lt())}),n.variable(t("viewof scale")).define("viewof scale",["vZome"],function(e){return e.numberInput(4,5)}),n.variable(t("scale")).define("scale",["Generators","viewof scale"],function(e,t){return e.input(t)}),n.variable(t()).define(["md"],function(e){return e(Tt())}),n.variable(t("viewof panelColor")).define("viewof panelColor",["color"],function(e){return e()}),n.variable(t("panelColor")).define("panelColor",["Generators","viewof panelColor"],function(e,t){return e.input(t)}),n.variable(t()).define(["md"],function(e){return e(It())}),n.variable(t("testResolve")).define("testResolve",["scalarmul","scale","y","icosahedral_quaternions_vzome","quattransform","resolveSegments","panelColor"],function(e,t,n,r,i,o,a){var s=e(t,[[1,0],n,[0]]),l=o(r.map(function(e){return i(e,s)}).map(function(e){return[[[0],[0],[0]],e]}));return l.panels.push({vertices:[5,1,7],color:a}),l}),n.variable(t()).define(["md"],function(e){return e(Et())}),n.variable(t()).define(["md"],function(e){return e(Ct())}),n.variable(t("vZome")).define("vZome",["renderModel","meshGroup","createShapeGeometry","Geometries","numberInput","vectorInput","quaternionInput"],function(e,t,n,r,i,o,a){return{renderModel:e,meshGroup:t,createShapeGeometry:n,Geometries:r,numberInput:i,vectorInput:o,quaternionInput:a}}),n.variable(t("renderModel")).define("renderModel",["icosahedral_solid_connectors_shapes","Geometries","colors","meshGroup","reusable3dCanvas"],function(e,t,n,r,i){return function(o,a,s){var l=s.shapes,u=new t(void 0===l?e:l,n),c=r(a,u);return i(o,c,s)}}),n.variable(t("meshGroup")).define("meshGroup",["Geometries","icosahedral_solid_connectors_shapes","colors","THREE","grfloat","createPanelShape","createShapeGeometry","embedShape"],function(e,t,n,i,o,a,s,l){return function(u){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new e(t,n),f=new i.Object3D,h=new i.MeshLambertMaterial({color:c.ballColor});return u.balls.contents.forEach(function(e){var t=new i.Mesh(c.ballGeometry,h),n=t.position,a=u.vertices.contents[e].map(o),s=Object(r.a)(a,3);n.x=s[0],n.y=s[1],n.z=s[2],f.add(t)}),u.struts.forEach(function(e){var t=e.orbit,n=c.strutColor(t),a=new i.MeshLambertMaterial({color:n}),s=c.strutGeometry(t,e.length);if(s){var l=new i.Mesh(s,a),h=l.quaternion,d=l.position,p=u.vertices.contents[e.start].map(o),m=Object(r.a)(p,3);d.x=m[0],d.y=m[1],d.z=m[2];var v=u.quaternions.contents[e.orientation].map(o),g=Object(r.a)(v,4);h.w=g[0],h.x=g[1],h.y=g[2],h.z=g[3],f.add(l)}}),u.panels&&u.panels.forEach(function(e){var t=a(e.vertices,u.vertices.contents),r=s(l(t)),o=new i.MeshLambertMaterial({color:e.color||n.red}),c=new i.Mesh(r,o);f.add(c)}),f}}),n.variable(t("Geometries")).define("Geometries",["createShapeGeometry","embedShape","getDefaultShape","resolveStrutShape","colors"],function(e,t,n,r,i){return function(){function o(n,r){Object(c.a)(this,o),this.colors=r,this.shapes=n,this.cache={},this.ballColor=r.white,this.ballGeometry=e(t(n.ballShape))}return Object(f.a)(o,[{key:"strutGeometry",value:function(i,o){var a=i+":"+o;if(!this.cache[a]){var s=this.shapes.strutShapes[i];s||((s=n(JSON.parse(i),[1,,2])).color="#bdbdbd",this.shapes.strutShapes[i]=s),this.cache[a]=e(t(r(s,o))),console.log("Cached geometry for "+a)}return this.cache[a]}},{key:"strutColor",value:function(e){var t=this.shapes.strutShapes[e];if(t){var n=t.color;return n.startsWith("#")?n:i[n]}return"#aaaaaa"}}]),o}()}),n.variable(t()).define(["md"],function(e){return e(St())}),n.variable(t()).define(["md"],function(e){return e(Mt())}),n.variable(t("embedShape")).define("embedShape",["grfloat"],function(e){return function(t){return{polygons:t.polygons,vertices:t.vertices.map(function(t){return t.map(e)})}}}),n.variable(t("resolveStrutShape")).define("resolveStrutShape",["scalarmul","vectoradd"],function(e,t){return function(n,r){var i=e(r,n.prototype),o=e([1,,2],i),a=n.vertices.slice(),s=!0,l=!1,u=void 0;try{for(var c,f=n.tip[Symbol.iterator]();!(s=(c=f.next()).done);s=!0){var h=c.value;a[h]=t(a[h],i)}}catch(_){l=!0,u=_}finally{try{s||null==f.return||f.return()}finally{if(l)throw u}}var d=!0,p=!1,m=void 0;try{for(var v,g=n.waist[Symbol.iterator]();!(d=(v=g.next()).done);d=!0){var y=v.value;a[y]=t(a[y],o)}}catch(_){p=!0,m=_}finally{try{d||null==g.return||g.return()}finally{if(p)throw m}}return{polygons:n.polygons,vertices:a}}}),n.variable(t("createPanelShape")).define("createPanelShape",["range"],function(e){return function(t,n){var r=t.map(function(e){return n[e]}),i=Object(u.a)(e(t.length));return{vertices:r,polygons:[i.slice(),i.slice().reverse()]}}}),n.variable(t("createShapeGeometry")).define("createShapeGeometry",["THREE"],function(e){return function(t){var n=new e.Geometry;return n.vertices=t.vertices.map(function(t){return Object(l.a)(e.Vector3,Object(u.a)(t))}),n.faces=t.polygons.reduce(function(t,n){return t.concat(function(t){return t.reduce(function(t,n,r,i){return r>=2&&t.push(new e.Face3(i[0],i[r-1],i[r])),t},[])}(n))},[]),n.computeFaceNormals(),n}}),n.variable(t()).define(["md"],function(e){return e(At())}),n.variable(t("phiPowerInput")).define("phiPowerInput",["grpow","numberString","slider"],function(e,t,n){return function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=Object(u.a)(Array(2*r+1).keys()).map(function(e){return e-r}).map(function(t){return e([,1],t)}),a=Object.assign({},i,{value:r,min:0,max:2*r,step:1,getValue:function(e){return o[e.value]},display:function(e){return t(e)}});return n(a)}}),n.variable(t("numberString")).define("numberString",function(){return function(e){var t=Object(r.a)(e,2),n=t[0],i=t[1],o=void 0===i?0:i;return""+n+(o>=0?"+":"")+o+"\u03c6"}}),n.variable(t("numberInput")).define("numberInput",["number","phiPowerInput","html","grmul"],function(e,t,n,r){return function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=e({value:o});a.style.display="inline";var s=t(i);s.style.display="inline";var l=n(xt(),a,s);return l.oninput=function(){return l.value=r([a.value],s.value)},l.oninput(),l}}),n.variable(t("viewof x")).define("viewof x",["numberInput"],function(e){return e(4,0)}),n.variable(t("x")).define("x",["Generators","viewof x"],function(e,t){return e.input(t)}),n.variable(t("vectorInput")).define("vectorInput",["numberInput","html"],function(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,0,0],i=e(n,r[0]),o=e(n,r[1]),a=e(n,r[2]),s=t(wt(),i,o,a);return s.oninput=function(){return s.value=[i.value,o.value,a.value]},s.oninput(),s}}),n.variable(t("quaternionInput")).define("quaternionInput",["numberInput","html"],function(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,0,0,0],o=e(n,i[0]),a=e(n,i[1]),s=e(n,i[2]),l=e(n,i[3]),u=t(bt(),r,o,a,s,l);return u.oninput=function(){return u.value=[o.value,a.value,s.value,l.value]},u.oninput(),u}}),n.variable(t()).define(["quaternionInput"],function(e){return e(3,"Enter a quaternion:")}),n.variable(t()).define(["md"],function(e){return e(_t())}),n.variable(t("newModel")).define("newModel",["IndexedSet"],function(e){return function(){return{vertices:new e,quaternions:new e,balls:new e,struts:[],panels:[]}}}),n.variable(t("resolveSegments")).define("resolveSegments",["newModel","IndexedSet","scalarmul","vectorsub","orbit2"],function(e,t,n,i,o){return function(a){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e(),l=[2,3,1],u=new t,c=!0,f=!1,h=void 0;try{for(var d,p=a[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var m=d.value,v=n(l,m[0]),g=n(l,m[1]),y=s.vertices.add(v),_=s.vertices.add(g);s.balls.add(y),s.balls.add(_),y!=_&&u.add([y,_].sort())}}catch($){f=!0,h=$}finally{try{c||null==p.return||p.return()}finally{if(f)throw h}}var b=!0,w=!1,x=void 0;try{for(var A,M=u.contents[Symbol.iterator]();!(b=(A=M.next()).done);b=!0){var S=A.value,C=Object(r.a)(S,2),E=C[0],I=C[1],T=s.vertices.contents[E],L=s.vertices.contents[I],z=i(L,T),k=o(z),D=Object(r.a)(k,4),O=D[0],N=D[1],j=D[2],P=D[3],R=s.quaternions.add(N);s.struts.push({orbit:JSON.stringify(O),orientation:R,start:j?I:E,length:P})}}catch($){w=!0,x=$}finally{try{b||null==M.return||M.return()}finally{if(w)throw x}}return s}}),n.variable(t("IndexedSet")).define("IndexedSet",function(){return function(){function e(){Object(c.a)(this,e),this.contents=[],this.map=new Map}return Object(f.a)(e,[{key:"add",value:function(e){var t=JSON.stringify(e),n=this.map.get(t);return null==n&&(n=this.contents.length,this.contents.push(e),this.map.set(t,n)),n}}]),e}()}),n.variable(t("colors")).define("colors",function(){return{red:"#c52431",yellow:"#f0a901",blue:"#06608d",green:"#088d32",orange:"#e76500",purple:"#7a42ab",black:"#28282a",white:"#eef1f7",olive:"#746801",lavender:"#907fe3",maroon:"#831147",rose:"#fc6aab",navy:"#343088",brown:"#693601",apple:"#81bf1e",sand:"#bb9055",turquoise:"#2fae97",coral:"#fe8c8b",sulfur:"#c4e751",cinnamon:"#90380e",spruce:"#0c5437",magenta:"#db2976",slate:"#667e99",mauve:"#925283",ivory:"#e5ddb9"}}),n.variable(t()).define(["md"],function(e){return e(yt())});var i=e.module(me);n.import("getDefaultShape",i);var o=e.module(y);n.import("icosahedral_solid_connectors_shapes",o),n.import("icosahedral_lifelike_connectors_shapes",o);var h=e.module(ce);n.import("vectoradd",h),n.import("grneg",h),n.import("grfloat",h),n.import("grmul",h),n.import("grdiv",h),n.import("grsub",h),n.import("simplify3",h),n.import("grpow",h),n.import("scalarmul",h),n.import("spread",h),n.import("vectorsub",h),n.import("icosahedral_quaternions_vzome",h),n.import("orbit2",h),n.import("range",h),n.import("deduplicate",h),n.import("quattransform",h),n.import("quatconj",h);var d=e.module(ft);n.import("select",d),n.import("slider",d),n.import("color",d),n.import("number",d),n.variable(t("THREE")).define("THREE",["require"],function(){var e=Object(s.a)(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("three@0.96/build/three.min.js");case 2:return n=window.THREE=e.sent,e.next=5,t("three@0.96/examples/js/controls/OrbitControls.js").catch(function(){});case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());var p=e.module(gt);return n.import("reusable3dCanvas",p),n.import("reactive3dCanvas",p),n}function Ot(){var e=i(["## Dependencies"]);return Ot=function(){return e},e}function Nt(){var e=i(["## Model Resolution\n\nWe use the term *resolve* to refer to the process of taking a list\nof line segments (as pairs of vectors), and associating a strut shape,\nlength, and orientation with each."]);return Nt=function(){return e},e}function jt(){var e=i(['<div><div style="font-weight:bold">',"</div><div>","</div><div>","</div><div>","</div><div>","</div></div>"]);return jt=function(){return e},e}function Pt(){var e=i(["<div><div>","</div><div>","</div><div>","</div></div>"]);return Pt=function(){return e},e}function Rt(){var e=i(["<span>","","</span>"]);return Rt=function(){return e},e}function $t(){var e=i(["## Useful Input Controls\n\nThis section contains some reusable input controls for Zome numbers,\nZome vectors, etc."]);return $t=function(){return e},e}function Ft(){var e=i(["## vZomeRenderer"]);return Ft=function(){return e},e}function Kt(){var e=i(["\n<table><tr>\n<td>\n","\n</td>\n<td>The shape models used to render these purple struts and balls\nare imported from vZome.  It is possible to hand-code your own shape models,\nbut we are not quite ready to document it.</span>\n</td></tr></table>"]);return Kt=function(){return e},e}function Ut(){var e=i(["# WIP Observable vZome\n\nThis notebook represents a new embodiment of vZome, native to the web,\nand reimagined in Javascript.  It is a collaborative effort between [Jacob Rus](https://beta.observablehq.com/@jrus) and \n[Scott Vorthmann](https://beta.observablehq.com/@vorth), with Jacob providing\nmost of the fresh ideas and clever, clear implementation.\n\nFor now, this notebook gives you a handy viewer for [vZome](http://vzome.com) models, based\non [Three.js](https://threejs.org/), but no equivalent of the\n[desktop vZome](http://vzome.com/home/index/vzome-60/)\napplication for interactively building models.  However, we\nare providing a completely transparent set of APIs for generating\nmodels using Javascript code.  Observable vZome is far more open-ended\nthan the desktop application, which still has its place as a way\nto interactively create models."]);return Ut=function(){return e},e}function Vt(e,t){var n=e.module();n.variable(t()).define(["md"],function(e){return e(Ut())}),n.variable(t()).define(["html","vZomeRenderer","testResolve","icosahedral_solid_connectors_shapes"],function(e,t,n,r){return e(Kt(),t(n,r,500))}),n.variable(t()).define(["md"],function(e){return e(Ft())}),n.variable(t("vZomeRenderer")).define("vZomeRenderer",["icosahedral_solid_connectors_shapes","width","Geometries","colors","meshGroup","vZomeCanvas"],function(e,t,n,r,i,o){return function(a){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.6,c=new n(s,r),f=i(a,c);return o(f,{renderWidth:l,aspect:u})}}),n.variable(t("vZomeCanvas")).define("vZomeCanvas",["width","THREE","invalidation"],function(e,t,n){return function(r,i){var o=i.renderWidth,a=void 0===o?e:o,s=i.aspect,l=void 0===s?1.6:s,u=i.orbitControl,c=void 0===u||u,f=new t.Scene;f.background=new t.Color(16777215),f.add(r);var h=f.lights={};h.ambient=new t.AmbientLight(4473924,.8),h.spot=new t.SpotLight(8947848,.4),h.spot.position.set(200,500,0),h.hemiLight=new t.HemisphereLight(15724008,7500360,.6);var d=new t.PerspectiveCamera(30,l,1,4e3);d.position.z=500,d.add(h.hemiLight),d.add(h.ambient),d.add(h.spot),f.add(d);var p,m=new t.WebGLRenderer({antialias:!0,preserveDrawingBuffer:!0});return m.setSize(a,a/l),m.setPixelRatio(devicePixelRatio),n.then(function(){return m.dispose()}),c&&(p=new t.OrbitControls(d,m.domElement),n.then(function(){return m.dispose(),p.dispose()}),p.addEventListener("change",function(){m.render(f,d)})),function e(){requestAnimationFrame(e),p&&p.update()}(),m.render(f,d),m.domElement}}),n.variable(t("defaultCanvas")).define("defaultCanvas",["THREE","width","invalidation"],function(e,t,n){return function(r,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1.6,a=new e.Scene;a.background=new e.Color(16777215),a.add(r);var s=a.lights={};s.ambient=new e.AmbientLight(4473924,.8),s.spot=new e.SpotLight(8947848,.4),s.spot.position.set(200,500,0),s.hemiLight=new e.HemisphereLight(15724008,7500360,.6);var l=new e.PerspectiveCamera(30,o,1,4e3);l.position.z=500,l.add(s.hemiLight),l.add(s.ambient),l.add(s.spot),a.add(l);var u=new e.WebGLRenderer({antialias:!0,preserveDrawingBuffer:!0}),c=i||t;u.setSize(c,c/o),u.setPixelRatio(devicePixelRatio);var f=new e.OrbitControls(l,u.domElement);return f.staticMoving=!0,n.then(function(){return f.dispose(),u.dispose()}),f.addEventListener("change",function(){u.render(a,l)}),function e(){requestAnimationFrame(e),f.update()}(),u.render(a,l),u.domElement}}),n.variable(t("meshGroup")).define("meshGroup",["Geometries","icosahedral_solid_connectors_shapes","colors","THREE","grfloat","createPanelGeometry"],function(e,t,n,i,o,a){return function(s){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new e(t,n),u=new i.Object3D,c=new i.MeshLambertMaterial({color:l.ballColor});return s.balls.contents.forEach(function(e){var t=new i.Mesh(l.ballGeometry,c),n=t.position,a=s.vertices.contents[e].map(o),f=Object(r.a)(a,3);n.x=f[0],n.y=f[1],n.z=f[2],u.add(t)}),s.struts.forEach(function(e){var t=e.orbit,n=l.strutColor(t),a=new i.MeshLambertMaterial({color:n}),c=l.strutGeometry(t,e.length);if(c){var f=new i.Mesh(c,a),h=f.quaternion,d=f.position,p=s.vertices.contents[e.start].map(o),m=Object(r.a)(p,3);d.x=m[0],d.y=m[1],d.z=m[2];var v=s.quaternions.contents[e.orientation].map(o),g=Object(r.a)(v,4);h.w=g[0],h.x=g[1],h.y=g[2],h.z=g[3],u.add(f)}}),s.panels&&s.panels.forEach(function(e){var t=a(e,s.vertices.contents),r=new i.MeshLambertMaterial({color:e.color||n.red}),o=new i.Mesh(t,r);u.add(o)}),u}}),n.variable(t("Geometries")).define("Geometries",["createBallGeometry","getStrutGeometry","colors"],function(e,t,n){return function(){function r(t,n){Object(c.a)(this,r),this.colors=n,this.shapes=t,this.cache={},this.ballColor=n.white,this.ballGeometry=e(t.ballShape)}return Object(f.a)(r,[{key:"strutGeometry",value:function(e,n){return t(this.cache,this.shapes,e,n)}},{key:"strutColor",value:function(e){var t=this.shapes.strutShapes[e];return t?n[t.color]:n.white}}]),r}()}),n.variable(t("THREEVector3")).define("THREEVector3",["THREE","grfloat"],function(e,t){return function(n){return Object(l.a)(e.Vector3,Object(u.a)(n.map(t)))}}),n.variable(t("createStrutGeometry")).define("createStrutGeometry",["scalarmul","vectoradd","THREE","THREEVector3","triangulate"],function(e,t,n,r,i){return function(o,a,s){var l=o.strutShapes[a];if(l){var u=e(s,l.prototype),c=e([1,,2],u),f=l.vertices.slice(),h=!0,d=!1,p=void 0;try{for(var m,v=l.tip[Symbol.iterator]();!(h=(m=v.next()).done);h=!0){var g=m.value;f[g]=t(f[g],u)}}catch(S){d=!0,p=S}finally{try{h||null==v.return||v.return()}finally{if(d)throw p}}var y=!0,_=!1,b=void 0;try{for(var w,x=l.waist[Symbol.iterator]();!(y=(w=x.next()).done);y=!0){var A=w.value;f[A]=t(f[A],c)}}catch(S){_=!0,b=S}finally{try{y||null==x.return||x.return()}finally{if(_)throw b}}var M=new n.Geometry;return M.vertices=f.map(r),M.faces=l.polygons.reduce(function(e,t){return e.concat(i(t))},[]),M.computeFaceNormals(),M}}}),n.variable(t("triangulate")).define("triangulate",["THREE"],function(e){return function(t){return t.reduce(function(t,n,r,i){return r>=2&&t.push(new e.Face3(i[0],i[r-1],i[r])),t},[])}}),n.variable(t("createPanelGeometry")).define("createPanelGeometry",["THREE","THREEVector3","range","triangulate"],function(e,t,n,r){return function(i,o){var a=new e.Geometry;a.vertices=i.vertices.map(function(e){return t(o[e])});var s=Object(u.a)(n(i.vertices.length));return a.faces=r(s).concat(r(s.reverse())),a.computeFaceNormals(),a}}),n.variable(t("createBallGeometry")).define("createBallGeometry",["THREE","THREEVector3","triangulate"],function(e,t,n){return function(r){var i=new e.Geometry;return i.vertices=r.vertices.map(t),i.faces=r.polygons.reduce(function(e,t){return e.concat(n(t))},[]),i.computeFaceNormals(),i}}),n.variable(t("getStrutGeometry")).define("getStrutGeometry",["createStrutGeometry"],function(e){return function(t,n,r,i){var o=r+":"+i;return t[o]||(t[o]=e(n,r,i),console.log("Cached geometry for "+o)),t[o]}}),n.variable(t()).define(["md"],function(e){return e($t())}),n.variable(t("phiPowerInput")).define("phiPowerInput",["grpow","slider","numberString"],function(e,t,n){return function(r){var i=Object(u.a)(Array(2*r+1).keys()).map(function(e){return e-r}).map(function(t){return e([,1],t)});return t({value:r,min:0,max:2*r,step:1,getValue:function(e){return i[e.value]},display:function(e){return n(e)}})}}),n.variable(t("numberString")).define("numberString",function(){return function(e){var t=Object(r.a)(e,2),n=t[0],i=t[1],o=void 0===i?0:i;return""+n+(o>=0?"+":"")+o+"\u03c6"}}),n.variable(t("numberInput")).define("numberInput",["number","phiPowerInput","html","grmul"],function(e,t,n,r){return function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=e({value:o});a.style.display="inline";var s=t(i);s.style.display="inline";var l=n(Rt(),a,s);return l.oninput=function(){return l.value=r([a.value],s.value)},l.oninput(),l}}),n.variable(t("viewof x")).define("viewof x",["numberInput"],function(e){return e(4,0)}),n.variable(t("x")).define("x",["Generators","viewof x"],function(e,t){return e.input(t)}),n.variable(t()).define(["x"],function(e){return e}),n.variable(t("vectorInput")).define("vectorInput",["numberInput","html"],function(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,0,0],i=e(n,r[0]),o=e(n,r[1]),a=e(n,r[2]),s=t(Pt(),i,o,a);return s.oninput=function(){return s.value=[i.value,o.value,a.value]},s.oninput(),s}}),n.variable(t("quaternionInput")).define("quaternionInput",["numberInput","html"],function(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,0,0,0],o=e(n,i[0]),a=e(n,i[1]),s=e(n,i[2]),l=e(n,i[3]),u=t(jt(),r,o,a,s,l);return u.oninput=function(){return u.value=[o.value,a.value,s.value,l.value]},u.oninput(),u}}),n.variable(t()).define(["quaternionInput"],function(e){return e(3,"Enter a quaternion:")}),n.variable(t()).define(["md"],function(e){return e(Nt())}),n.variable(t("newModel")).define("newModel",["IndexedSet"],function(e){return function(){return{vertices:new e,quaternions:new e,balls:new e,struts:[],panels:[]}}}),n.variable(t("resolveSegments")).define("resolveSegments",["newModel","IndexedSet","scalarmul","vectorsub","orbit2"],function(e,t,n,i,o){return function(a){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e(),l=[2,3,1],u=new t,c=!0,f=!1,h=void 0;try{for(var d,p=a[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var m=d.value,v=n(l,m[0]),g=n(l,m[1]),y=s.vertices.add(v),_=s.vertices.add(g);s.balls.add(y),s.balls.add(_),y!=_&&u.add([y,_].sort())}}catch($){f=!0,h=$}finally{try{c||null==p.return||p.return()}finally{if(f)throw h}}var b=!0,w=!1,x=void 0;try{for(var A,M=u.contents[Symbol.iterator]();!(b=(A=M.next()).done);b=!0){var S=A.value,C=Object(r.a)(S,2),E=C[0],I=C[1],T=s.vertices.contents[E],L=s.vertices.contents[I],z=i(L,T),k=o(z),D=Object(r.a)(k,4),O=D[0],N=D[1],j=D[2],P=D[3],R=s.quaternions.add(N);s.struts.push({orbit:JSON.stringify(O),orientation:R,start:j?I:E,length:P})}}catch($){w=!0,x=$}finally{try{b||null==M.return||M.return()}finally{if(w)throw x}}return s}}),n.variable(t("IndexedSet")).define("IndexedSet",function(){return function(){function e(){Object(c.a)(this,e),this.contents=[],this.map=new Map}return Object(f.a)(e,[{key:"add",value:function(e){var t=JSON.stringify(e),n=this.map.get(t);return null==n&&(n=this.contents.length,this.contents.push(e),this.map.set(t,n)),n}}]),e}()}),n.variable(t("testResolve")).define("testResolve",["scalarmul","icosahedral_quaternions_vzome","quattransform","resolveSegments","colors"],function(e,t,n,r,i){var o=e([1,2],[[1,2],[0,1],[0,0]]),a=r(t.map(function(e){return n(e,o)}).map(function(e){return[[[0],[0],[0]],e]}));return a.panels.push({vertices:[3,5,7],color:i.yellow}),a}),n.variable(t("colors")).define("colors",function(){return{red:"#c52431",yellow:"#f0a901",blue:"#06608d",green:"#088d32",orange:"#e76500",purple:"#7a42ab",black:"#28282a",white:"#eef1f7",olive:"#746801",lavender:"#907fe3",maroon:"#831147",rose:"#fc6aab",navy:"#343088",brown:"#693601",apple:"#81bf1e",sand:"#bb9055",turquoise:"#2fae97",coral:"#fe8c8b",sulfur:"#c4e751",cinnamon:"#90380e",spruce:"#0c5437",magenta:"#db2976",slate:"#667e99",mauve:"#925283",ivory:"#e5ddb9"}}),n.variable(t()).define(["md"],function(e){return e(Ot())});var i=e.module(y);n.import("icosahedral_solid_connectors_shapes",i),n.import("icosahedral_lifelike_connectors_shapes",i);var o=e.module(ce);n.import("vectoradd",o),n.import("grneg",o),n.import("grfloat",o),n.import("grmul",o),n.import("grdiv",o),n.import("grsub",o),n.import("simplify3",o),n.import("grpow",o),n.import("scalarmul",o),n.import("spread",o),n.import("vectorsub",o),n.import("icosahedral_quaternions_vzome",o),n.import("orbit2",o),n.import("range",o),n.import("deduplicate",o),n.import("quattransform",o),n.import("quatconj",o);var h=e.module(ft);return n.import("select",h),n.import("slider",h),n.import("color",h),n.import("number",h),n.variable(t("THREE")).define("THREE",["require"],function(){var e=Object(s.a)(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("three@0.96/build/three.min.js");case 2:return n=window.THREE=e.sent,e.next=5,t("three@0.96/examples/js/controls/OrbitControls.js").catch(function(){});case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),n}function Bt(){var e=i(["## Dependencies"]);return Bt=function(){return e},e}function Ht(){var e=i(["\n\nThe order of the full icosahedral symmetry group is 120, but the order of the\nsubgroup of proper rotations is only 60.  For this rendering, we are only doing\nrotations, without any reflections, to generate the vectors in an orbit.\nThis means that roughly half of the sphere is not showing any vector cones.\nOnly the orbits lying on the blue mirror planes are fully represented.\n\n## Code and Data"]);return Ht=function(){return e},e}function Gt(){var e=i(['The "Orbits Generated" slider how many of the generated orbits are rendered\nas vectors, represented by very narrow cones.']);return Gt=function(){return e},e}function Qt(){var e=i(['This rendering is a somewhat novel way of representing the vector orbits\nof the icosahedral symmetry group, designed by\n[Jacob Rus](https://beta.observablehq.com/@jrus) and [Scott Vorthmann](https://beta.observablehq.com/@vorth).\nOrbit colors are assigned to match [vZome](http://vzome.com) coloring\nas much as possible.  Orbits unknown to vZome are colored ivory.\n\nStarting from the mirror planes and their axes (the blue lines in\n[Zome](http://zometool.com)), the remaining orbits have been generated\nby choosing two known vectors and taking their cross product.\nIf the result represents an unknown orbit, the orbit is added to the\never-growing list.\n\nThis means that new vectors appear at the intersections of existing planes.\nFor example, with the ordering of blue vectors that we are using,\nthe "orange" orbit appears at the intersection of the red and blue planes.\n\nFor the first few orbits, the planes orthogonal to its vectors\nare rendered.  The number of orbits rendered this way is\ncontrolled by the value of the "Orbits as Great Circles" slider.']);return Qt=function(){return e},e}function qt(){var e=i(["# Orbits of Icosahedral Symmetry"]);return qt=function(){return e},e}function Wt(e,t){var n=e.module();n.variable(t()).define(["md"],function(e){return e(qt())}),n.variable(t("viewof ranks")).define("viewof ranks",["slider"],function(e){return e({min:0,max:40,step:1,value:20,title:"Orbits to Generate",description:"Control the number of orbits rendered as cones"})}),n.variable(t("ranks")).define("ranks",["Generators","viewof ranks"],function(e,t){return e.input(t)}),n.variable(t("viewof rings")).define("viewof rings",["slider"],function(e){return e({min:0,max:20,step:1,value:6,title:"Orbits as Great Circles",description:"Control the number of orbits whose orthogonal planes are rendered as great circles"})}),n.variable(t("rings")).define("rings",["Generators","viewof rings"],function(e,t){return e.input(t)}),n.variable(t("rendering")).define("rendering",["reusable3dCanvas","orbitSphere"],function(e,t){return e(this,t,{renderWidth:650,camera:{aspect:5/3,position:[270,40,20]}})}),n.variable(t()).define(["md"],function(e){return e(Qt())}),n.variable(t()).define(["md"],function(e){return e(Gt())}),n.variable(t()).define(["md"],function(e){return e(Ht())}),n.variable(t("orbitSphere")).define("orbitSphere",["THREE","rings","orbit2quaternion","icosahedral_quaternions","grfloat","ranks","rankedOrbits","colors"],function(e,t,n,i,o,a,s,l){var u=new e.Group,c=new e.SphereGeometry(75,99,99),f=new e.MeshLambertMaterial({color:16777215});f.opacity=.8,f.transparent=!1;var h=new e.Mesh(c,f);u.add(h);var d=new e.ConeGeometry(1,86,32,3,!1),p=new e.Quaternion;function m(a,s,l){a.name;var c=new e.MeshLambertMaterial({color:s,side:e.DoubleSide}),f=new e.Quaternion;n(a,f),i.map(function(n){var i=new e.Quaternion,a=n.map(o),s=Object(r.a)(a,4);i.w=s[0],i.x=s[1],i.y=s[2],i.z=s[3];var h=new e.Quaternion;h.multiplyQuaternions(i,f),function(n,r,i){var o=85-i;if(i<t&&o>75){var a=new e.RingGeometry(75,o,99),s=new e.Mesh(a,r),l=s.quaternion,c=n,f=[c.w,c.x,c.y,c.z];l.w=f[0],l.x=f[1],l.y=f[2],l.z=f[3],u.add(s)}var h=new e.Mesh(d,r),m=new e.Quaternion;m.multiplyQuaternions(n,p);var v=h.quaternion,g=[m.w,m.x,m.y,m.z];v.w=g[0],v.x=g[1],v.y=g[2],v.z=g[3];var y=new e.Vector3(0,-42,0);y.applyQuaternion(v);var _=h.position,b=[y.x,y.y,y.z];_.x=b[0],_.y=b[1],_.z=b[2],u.add(h)}(h,c,l)})}p.setFromUnitVectors(new e.Vector3(0,-1,0),new e.Vector3(0,0,1));for(var v=0;v<=a;v++)m(s[v].orbit,l[s[v].name||"ivory"],v);return u}),n.variable(t("orbits")).define("orbits",["golden_icosahedral_symmetry","colors"],function(e,t){return Object.entries(e.orbits).map(function(e){var n=Object(r.a)(e,2),i=n[0];return{orbit:n[1].prototype.slice(1),color:t[i]}})}),n.variable(t("orbit2quaternion")).define("orbit2quaternion",["orbit2quatf"],function(e){return function(t,n){var i=e(t),o=Object(r.a)(i,4);n.w=o[0],n.x=o[1],n.y=o[2],n.z=o[3]}}),n.variable(t("IndexedSet")).define("IndexedSet",function(){return function(){function e(){Object(c.a)(this,e),this.contents=[],this.map=new Map}return Object(f.a)(e,[{key:"add",value:function(e){var t=JSON.stringify(e),n=this.map.get(t);return null==n&&(n=this.contents.length,this.contents.push(e),this.map.set(t,n)),n}}]),e}()}),n.variable(t("rankedOrbits")).define("rankedOrbits",["IndexedSet","icosahedral_symmetry","wedge","orbit2","orbitnames"],function(e,t,n,i,o){var a=new e,s=JSON.stringify,l=s([[0,0,1],[0,0,1],[0,0,1]]);a.add([[1,0,1],[0,0,1],[0,0,1]]);for(var u=0;u<10;u++){var c=!0,f=!1,h=void 0;try{for(var d,p=t(a.contents[u])[Symbol.iterator]();!(c=(d=p.next()).done);c=!0)for(var m=d.value,v=0;v<=u;v++){var g=n(m,a.contents[v]);if(s(g)!=l){var y=i(g),_=Object(r.a)(y,4),b=_[0];_[1],_[2],_[3];a.add([[1,0,1]].concat(b))}}}catch(w){f=!0,h=w}finally{try{c||null==p.return||p.return()}finally{if(f)throw h}}}return a.contents.map(function(e){return{orbit:e.slice(1),name:o[s(i(e)[0])]}})}),n.variable(t("orbit2quatf")).define("orbit2quatf",["grfloat"],function(e){return function(t){var n=Object(r.a)(t,2),i=n[0],o=n[1];i=e(i),o=e(o);var a=Math.sqrt(1+i*i+o*o),s=1/Math.sqrt(2*a*(a+1));return[s*(a+1),-s*o,s*i,0]}}),n.variable(t()).define(["md"],function(e){return e(Bt())});var i=e.module(Vt);n.import("colors",i);var o=e.module(y);n.import("golden_icosahedral_symmetry",o);var a=e.module(ce);n.import("icosahedral_quaternions",a),n.import("grfloat",a),n.import("wedge",a),n.import("orbit2",a),n.import("icosahedral_symmetry",a),n.import("orbitnames",a);var s=e.module(gt);n.import("reusable3dCanvas",s),n.import("THREE",s);var l=e.module(ft);return n.import("slider",l),n}function Yt(){var e=i(["## Dependencies"]);return Yt=function(){return e},e}function Xt(){var e=i(["\nThe key is a triangle, representing the fundamental domain of the reflection\ngroup, which is actually a spherical triangle.  For simplicity, we use a\ngnomonic projection of the spherical triangle, since we want a flat\ndiagram.  Each orbit is a line in space that intersects with our triangle\nat a particular point.  (Looking at it another way, every point in the triangle\ndefines an orbit.)  This particular set of orbits are those predefined in\nvZome for icosahedral symmetry, obviously including those defined by\nZometool: blue, red, yellow, and green.\n\n## icosaOrbitsTriangle\n\nThe following function defines a reusable component that can be applied\nin other Observable notebooks.  At the moment, it only supports icosahedral\nsymmetry, and [Golden numbers](https://beta.observablehq.com/@jrus/zome-arithmetic).\nNote that you can pass in your own collection of orbits, as well as control\nwidth, height, etc.  Adjusting the height and width affects the size of the\nHTML element rectangle, but does not change the aspect ratio of the triangle.\n"]);return Xt=function(){return e},e}function Jt(){var e=i(["",""]);return Jt=function(){return e},e}function Zt(){var e=i(["*Click on a color dot to see orbit coordinates.*"]);return Zt=function(){return e},e}function en(){var e=i(["# vZome Icosahedral Orbit Triangle\n\nIn [vZome](http://vzome.com), orbits of symmetry groups are assigned colors,\nfor easy visual identification, in keeping with the design of\n[Zometool](http://zometool.com).  The orbit colors serve as a nice\nvisual identifier, but they don't tell us anything about how a given orbit\nfits into the symmetry group.  For that, we need a *key* like\nthe one shown below.\n"]);return en=function(){return e},e}function tn(e,t){var n=e.module();n.variable(t()).define(["md"],function(e){return e(en())}),n.variable(t("viewof clickedOrbit")).define("viewof clickedOrbit",["icosaOrbitsTriangle"],function(e){return e()}),n.variable(t("clickedOrbit")).define("clickedOrbit",["Generators","viewof clickedOrbit"],function(e,t){return e.input(t)}),n.variable(t()).define(["md","clickedOrbit","vprint"],function(e,t,n){var r=e(Zt());return t.color&&((r=e(Jt(),n(t.orbit))).style.color=t.color),r.style.background="#cccccc",r}),n.variable(t()).define(["md"],function(e){return e(Xt())}),n.variable(t("icosaOrbitsTriangle")).define("icosaOrbitsTriangle",["icosaOrbits","width","grfloat","DOM","d3"],function(e,t,n,i,o){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=a.orbits,l=void 0===s?e:s,u=a.svgWidth,c=void 0===u?t:u,f=a.height,h=void 0===f?400:f,d=a.stroke,p=void 0===d?.005:d,m=a.radius,v=void 0===m?.04:m;function g(e){return[n(e[0]),-n(e[1])]}var y=[0,1,2].map(function(t){return g(e[t].orbit)}),_=Object(r.a)(y,3),b=_[0],w=_[1],x=_[2],A=i.svg(c,h);A.value="NO ORBIT";var M=[-.25*w[0],1.25*x[1],1.5*w[0],-1.5*x[1]],S=o.select(A).style("max-width","700px").style("height","auto").attr("viewBox",M.join(" ")).append("g"),C=w[0]*p,E=w[0]*v;return S.append("polygon").attr("fill","none").attr("stroke","black").attr("stroke-width",C).attr("points",[b,w,x].map(function(e){return e.join(",")}).join(" ")),S.selectAll("circle").data(l).enter().append("circle").attr("cx",function(e){return g(e.orbit)[0]}).attr("cy",function(e){return g(e.orbit)[1]}).attr("r",E).attr("fill",function(e){return e.color||"#ffffff"}).attr("stroke","black").attr("stroke-width",C).on("click",function(e,t){A.value=e,A.dispatchEvent(new CustomEvent("input")),o.select(this).transition().attr("r",2*E).transition().attr("r",E)}),A}}),n.variable(t()).define(["md"],function(e){return e(Yt())}),n.variable(t("d3")).define("d3",["require"],function(e){return e("d3@5")});var i=e.module(Wt);n.import("orbits","icosaOrbits",i);var o=e.module(ce);return n.import("grfloat",o),n.import("vprint",o),n}function nn(){var e=i(["## Raw vZome Exports"]);return nn=function(){return e},e}function rn(){var e=i(["## Dependencies"]);return rn=function(){return e},e}function on(){var e=i(["\nThere is more to do before we have an alternative to [convertVsonModel](#convertVsonModel) function\nthat uses this mapping... future work.\n"]);return on=function(){return e},e}function an(){var e=i(["\n## A Different Approach\n\nThe code above resolves the imported VSON models by ignoring the strut\nmetadata, and just looking at the endpoints of each strut, resolving\nthe vector between them using Jacob's code.\n\nA more efficient method is to *map* the VSON strut metadata directly\ninto the orbits, orientations, and reflections as understood by Observable vZome.\nThis code captures that mapping.\n\nWe start with orientation, which is an integer between zero and fifty-nine, inclusive.\nIn traditional vZome, this indexes a list of transformation matrices.\nIn Observable vZome, it indexes a list of quaternions.\nBoth lists contains exactly the same orientations, but in different orders.\nHere, we are providing functions to map either index to the triple\nof integers used in [Jacob's notebook](https://beta.observablehq.com/@jrus/zome-arithmetic#icosahedral_quaternions).\n"]);return an=function(){return e},e}function sn(){var e=i(['# WIP Importing vZome Models\n\n[Observable vZome](https://beta.observablehq.com/@vorth/wip-observable-vzome)\nis designed to be somewhat independent of [desktop vZome](http://vzome.com).\nIn particular, it has its own definition of icosahedral symmetry in terms\nof a set of quaternions, and it has a more rational approach to associating\nshapes with vectors, based on canonicalization.\n\nFinally, Observable vZome uses a simpler, three-integer representation of\na number in the Golden field (two factors, one common divisor),\nwhereas vZome uses a four-integer representation (two factors, each with its\nown divisor).\n\nThis notebook contains a function to normalize vZome "VSON" exports\nas ready-to-render ("resolved") models for Observable vZome.\n\nIn the future, we will provide full interchange between models created\nin desktop vZome, and models generated using Javascript code.\n\n## Models\n\nThese models, as exported from vZome, use its "VSON" representation, with all numbers represented\nexactly as rational tuples, and all struts already resolved into orbit, length, and orientations.\n\nHere, they have been converted for use with Observable vZome.']);return sn=function(){return e},e}function ln(e,t){var n=e.module();n.variable(t()).define(["md"],function(e){return e(sn())}),n.variable(t()).define(["vZomeRenderer","red_quat_120_cell"],function(e,t){return e(t)}),n.variable(t("test_VSON_model")).define("test_VSON_model",["convertVsonModel"],function(e){return e({field:"golden",symmetry:"icosahedral",vertices:[[[0,0],[0,0],[0,0]],[[1,2],[0,0],[2,3]],[[1,2],[3,5],[0,0]],[[2,4],[0,0],[0,0]],[[2,4],[0,0],[4,6]]],balls:[2,1,4,0,3],struts:[{start:0,end:2,length:[1,2],orbit:"yellow",orientation:6},{start:1,end:4,length:[1,2],orbit:"red",orientation:2},{start:0,end:1,length:[1,2],orbit:"red",orientation:2},{start:3,end:4,length:[4,6],orbit:"blue",orientation:2},{start:2,end:1,length:[2,3],orbit:"red",orientation:31},{start:2,end:3,length:[1,2],orbit:"yellow",orientation:21},{start:0,end:3,length:[2,4],orbit:"blue",orientation:0}]})}),n.variable(t("purple_triangles")).define("purple_triangles",["convertVsonModel"],function(e){return e({field:"golden",symmetry:"icosahedral",vertices:[[[-2,-4],[0,0],[0,0]],[[-2,-3],[-1,-1],[-1,-2]],[[-2,-3],[-1,-1],[1,2]],[[-2,-3],[1,1],[-1,-2]],[[-2,-3],[1,1],[1,2]],[[-1,-2],[-2,-3],[-1,-1]],[[-1,-2],[-2,-3],[1,1]],[[-1,-2],[2,3],[-1,-1]],[[-1,-2],[2,3],[1,1]],[[-1,-1],[-1,-2],[-2,-3]],[[-1,-1],[-1,-2],[2,3]],[[-1,-1],[1,2],[-2,-3]],[[-1,-1],[1,2],[2,3]],[[0,0],[-2,-4],[0,0]],[[0,0],[0,0],[-2,-4]],[[0,0],[0,0],[2,4]],[[0,0],[2,4],[0,0]],[[1,1],[-1,-2],[-2,-3]],[[1,1],[-1,-2],[2,3]],[[1,1],[1,2],[-2,-3]],[[1,1],[1,2],[2,3]],[[1,2],[-2,-3],[-1,-1]],[[1,2],[-2,-3],[1,1]],[[1,2],[2,3],[-1,-1]],[[1,2],[2,3],[1,1]],[[2,3],[-1,-1],[-1,-2]],[[2,3],[-1,-1],[1,2]],[[2,3],[1,1],[-1,-2]],[[2,3],[1,1],[1,2]],[[2,4],[0,0],[0,0]]],balls:[13,2,12,5,3,24,8,18,10,19,25,11,1,16,29,9,0,26,20,21,14,27,22,15,6,23,28,7,17,4],struts:[{start:28,end:11,length:[2,2],orbit:"purple",orientation:56},{start:23,end:22,length:[2,2],orbit:"purple",orientation:31},{start:16,end:9,length:[2,2],orbit:"purple",orientation:19},{start:15,end:27,length:[2,2],orbit:"purple",orientation:20},{start:16,end:18,length:[2,2],orbit:"purple",orientation:34},{start:15,end:1,length:[2,2],orbit:"purple",orientation:50},{start:17,end:2,length:[2,2],orbit:"purple",orientation:38},{start:20,end:3,length:[2,2],orbit:"purple",orientation:53},{start:14,end:26,length:[2,2],orbit:"purple",orientation:5},{start:12,end:19,length:[2,2],orbit:"purple",orientation:17},{start:27,end:1,length:[2,2],orbit:"purple",orientation:30},{start:21,end:3,length:[2,2],orbit:"purple",orientation:54},{start:24,end:2,length:[2,2],orbit:"purple",orientation:39},{start:24,end:17,length:[2,2],orbit:"purple",orientation:22},{start:10,end:7,length:[2,2],orbit:"purple",orientation:55},{start:5,end:8,length:[2,2],orbit:"purple",orientation:1},{start:25,end:10,length:[2,2],orbit:"purple",orientation:41},{start:29,end:8,length:[2,2],orbit:"purple",orientation:48},{start:13,end:12,length:[2,2],orbit:"purple",orientation:4},{start:0,end:23,length:[2,2],orbit:"purple",orientation:3},{start:13,end:19,length:[2,2],orbit:"purple",orientation:49},{start:26,end:4,length:[2,2],orbit:"purple",orientation:45},{start:29,end:5,length:[2,2],orbit:"purple",orientation:33},{start:0,end:22,length:[2,2],orbit:"purple",orientation:18},{start:25,end:7,length:[2,2],orbit:"purple",orientation:51},{start:20,end:21,length:[2,2],orbit:"purple",orientation:25},{start:28,end:6,length:[2,2],orbit:"purple",orientation:36},{start:6,end:11,length:[2,2],orbit:"purple",orientation:52},{start:14,end:4,length:[2,2],orbit:"purple",orientation:35},{start:9,end:18,length:[2,2],orbit:"purple",orientation:2}]})}),n.variable(t("sixty_spruce")).define("sixty_spruce",["convertVsonModel"],function(e){return e({field:"golden",symmetry:"icosahedral",vertices:[[[-7,-10],[0,-3],[-1,-1]],[[-7,-10],[0,3],[1,1]],[[-7,-9],[-1,-4],[2,3]],[[-7,-9],[1,4],[-2,-3]],[[-6,-8],[-2,-6],[-2,-4]],[[-6,-8],[2,6],[2,4]],[[-4,-9],[-1,-1],[-5,-6]],[[-4,-9],[1,1],[5,6]],[[-5,-7],[-3,-8],[2,3]],[[-5,-7],[3,8],[-2,-3]],[[-3,-8],[-2,-3],[5,7]],[[-3,-8],[2,3],[-5,-7]],[[-5,-6],[-4,-9],[-1,-1]],[[-5,-6],[4,9],[1,1]],[[-4,-5],[0,-1],[0,1]],[[-4,-5],[0,1],[0,-1]],[[-2,-6],[-2,-4],[-6,-8]],[[-2,-6],[2,4],[6,8]],[[-3,-5],[0,-2],[-1,-2]],[[-3,-5],[0,2],[1,2]],[[-2,-5],[0,-1],[2,3]],[[-2,-5],[0,1],[-2,-3]],[[-3,-4],[-1,-3],[2,2]],[[-3,-4],[1,3],[-2,-2]],[[-2,-4],[-6,-8],[-2,-6]],[[-2,-4],[-1,-2],[-3,-3]],[[-2,-4],[1,2],[3,3]],[[-2,-4],[6,8],[2,6]],[[-3,-3],[-2,-4],[-1,-2]],[[-3,-3],[2,4],[1,2]],[[-1,-4],[-2,-3],[7,9]],[[-1,-4],[2,3],[-7,-9]],[[-2,-3],[-7,-9],[1,4]],[[-2,-3],[-5,-7],[3,8]],[[-2,-3],[-2,-5],[0,1]],[[-2,-3],[2,5],[0,-1]],[[-2,-3],[5,7],[-3,-8]],[[-2,-3],[7,9],[-1,-4]],[[-1,-3],[-2,-2],[3,4]],[[-1,-3],[2,2],[-3,-4]],[[-2,-2],[-3,-4],[1,3]],[[-2,-2],[3,4],[-1,-3]],[[0,-3],[-1,-1],[-7,-10]],[[0,-3],[1,1],[7,10]],[[-1,-2],[-3,-5],[0,-2]],[[-1,-2],[-3,-3],[-2,-4]],[[-1,-2],[3,3],[2,4]],[[-1,-2],[3,5],[0,2]],[[0,-2],[-1,-2],[-3,-5]],[[0,-2],[1,2],[3,5]],[[-1,-1],[-7,-10],[0,-3]],[[-1,-1],[-5,-6],[-4,-9]],[[-1,-1],[5,6],[4,9]],[[-1,-1],[7,10],[0,3]],[[0,-1],[-4,-5],[0,1]],[[0,-1],[-2,-3],[2,5]],[[0,-1],[0,-1],[4,5]],[[0,-1],[0,1],[-4,-5]],[[0,-1],[2,3],[-2,-5]],[[0,-1],[4,5],[0,-1]],[[0,1],[-4,-5],[0,-1]],[[0,1],[-2,-3],[-2,-5]],[[0,1],[0,-1],[-4,-5]],[[0,1],[0,1],[4,5]],[[0,1],[2,3],[2,5]],[[0,1],[4,5],[0,1]],[[1,1],[-7,-10],[0,3]],[[1,1],[-5,-6],[4,9]],[[1,1],[5,6],[-4,-9]],[[1,1],[7,10],[0,-3]],[[0,2],[-1,-2],[3,5]],[[0,2],[1,2],[-3,-5]],[[1,2],[-3,-5],[0,2]],[[1,2],[-3,-3],[2,4]],[[1,2],[3,3],[-2,-4]],[[1,2],[3,5],[0,-2]],[[0,3],[-1,-1],[7,10]],[[0,3],[1,1],[-7,-10]],[[2,2],[-3,-4],[-1,-3]],[[2,2],[3,4],[1,3]],[[1,3],[-2,-2],[-3,-4]],[[1,3],[2,2],[3,4]],[[2,3],[-7,-9],[-1,-4]],[[2,3],[-5,-7],[-3,-8]],[[2,3],[-2,-5],[0,-1]],[[2,3],[2,5],[0,1]],[[2,3],[5,7],[3,8]],[[2,3],[7,9],[1,4]],[[1,4],[-2,-3],[-7,-9]],[[1,4],[2,3],[7,9]],[[3,3],[-2,-4],[1,2]],[[3,3],[2,4],[-1,-2]],[[2,4],[-6,-8],[2,6]],[[2,4],[-1,-2],[3,3]],[[2,4],[1,2],[-3,-3]],[[2,4],[6,8],[-2,-6]],[[3,4],[-1,-3],[-2,-2]],[[3,4],[1,3],[2,2]],[[2,5],[0,-1],[-2,-3]],[[2,5],[0,1],[2,3]],[[3,5],[0,-2],[1,2]],[[3,5],[0,2],[-1,-2]],[[2,6],[-2,-4],[6,8]],[[2,6],[2,4],[-6,-8]],[[4,5],[0,-1],[0,-1]],[[4,5],[0,1],[0,1]],[[5,6],[-4,-9],[1,1]],[[5,6],[4,9],[-1,-1]],[[3,8],[-2,-3],[-5,-7]],[[3,8],[2,3],[5,7]],[[5,7],[-3,-8],[-2,-3]],[[5,7],[3,8],[2,3]],[[4,9],[-1,-1],[5,6]],[[4,9],[1,1],[-5,-6]],[[6,8],[-2,-6],[2,4]],[[6,8],[2,6],[-2,-4]],[[7,9],[-1,-4],[-2,-3]],[[7,9],[1,4],[2,3]],[[7,10],[0,-3],[1,1]],[[7,10],[0,3],[-1,-1]]],balls:[57,33,96,98,67,29,71,116,39,47,111,94,14,4,119,44,105,34,19,63,102,110,21,115,50,59,86,60,85,117,109,92,55,75,70,38,87,10,101,89,41,53,112,45,37,18,77,36,68,82,2,28,43,30,27,106,74,72,83,8,69,7,78,84,1,11,24,40,113,66,32,80,13,103,42,114,6,79,35,58,104,56,93,90,15,51,88,22,54,12,95,91,23,81,46,26,100,17,61,49,31,62,108,73,3,107,97,76,52,48,65,16,20,118,99,64,25,0,5,9],struts:[{start:74,end:95,length:[2,3],orbit:"spruce",orientation:57},{start:59,end:37,length:[2,3],orbit:"spruce",orientation:23},{start:96,end:110,length:[2,3],orbit:"spruce",orientation:11},{start:94,end:103,length:[2,3],orbit:"spruce",orientation:28},{start:85,end:107,length:[2,3],orbit:"spruce",orientation:18},{start:78,end:83,length:[2,3],orbit:"spruce",orientation:39},{start:71,end:77,length:[2,3],orbit:"spruce",orientation:15},{start:34,end:12,length:[2,3],orbit:"spruce",orientation:48},{start:49,end:43,length:[2,3],orbit:"spruce",orientation:30},{start:73,end:92,length:[2,3],orbit:"spruce",orientation:42},{start:55,end:67,length:[2,3],orbit:"spruce",orientation:19},{start:25,end:16,length:[2,3],orbit:"spruce",orientation:58},{start:15,end:3,length:[2,3],orbit:"spruce",orientation:7},{start:26,end:17,length:[2,3],orbit:"spruce",orientation:43},{start:44,end:50,length:[2,3],orbit:"spruce",orientation:17},{start:48,end:42,length:[2,3],orbit:"spruce",orientation:45},{start:39,end:11,length:[2,3],orbit:"spruce",orientation:25},{start:20,end:7,length:[2,3],orbit:"spruce",orientation:5},{start:54,end:32,length:[2,3],orbit:"spruce",orientation:8},{start:22,end:8,length:[2,3],orbit:"spruce",orientation:56},{start:93,end:102,length:[2,3],orbit:"spruce",orientation:13},{start:46,end:27,length:[2,3],orbit:"spruce",orientation:12},{start:65,end:87,length:[2,3],orbit:"spruce",orientation:38},{start:104,end:116,length:[2,3],orbit:"spruce",orientation:37},{start:80,end:108,length:[2,3],orbit:"spruce",orientation:55},{start:58,end:68,length:[2,3],orbit:"spruce",orientation:4},{start:62,end:88,length:[2,3],orbit:"spruce",orientation:6},{start:28,end:4,length:[2,3],orbit:"spruce",orientation:44},{start:64,end:52,length:[2,3],orbit:"spruce",orientation:49},{start:100,end:118,length:[2,3],orbit:"spruce",orientation:16},{start:38,end:10,length:[2,3],orbit:"spruce",orientation:10},{start:40,end:33,length:[2,3],orbit:"spruce",orientation:24},{start:56,end:30,length:[2,3],orbit:"spruce",orientation:51},{start:45,end:24,length:[2,3],orbit:"spruce",orientation:27},{start:105,end:117,length:[2,3],orbit:"spruce",orientation:52},{start:14,end:2,length:[2,3],orbit:"spruce",orientation:22},{start:99,end:112,length:[2,3],orbit:"spruce",orientation:35},{start:81,end:109,length:[2,3],orbit:"spruce",orientation:40},{start:23,end:9,length:[2,3],orbit:"spruce",orientation:41},{start:21,end:6,length:[2,3],orbit:"spruce",orientation:20},{start:61,end:51,length:[2,3],orbit:"spruce",orientation:34},{start:19,end:1,length:[2,3],orbit:"spruce",orientation:46},{start:101,end:119,length:[2,3],orbit:"spruce",orientation:1},{start:63,end:89,length:[2,3],orbit:"spruce",orientation:21},{start:35,end:13,length:[2,3],orbit:"spruce",orientation:33},{start:91,end:115,length:[2,3],orbit:"spruce",orientation:14},{start:98,end:113,length:[2,3],orbit:"spruce",orientation:50},{start:57,end:31,length:[2,3],orbit:"spruce",orientation:36},{start:84,end:106,length:[2,3],orbit:"spruce",orientation:3},{start:75,end:69,length:[2,3],orbit:"spruce",orientation:47},{start:70,end:76,length:[2,3],orbit:"spruce",orientation:0},{start:41,end:36,length:[2,3],orbit:"spruce",orientation:9},{start:18,end:0,length:[2,3],orbit:"spruce",orientation:31},{start:47,end:53,length:[2,3],orbit:"spruce",orientation:2},{start:29,end:5,length:[2,3],orbit:"spruce",orientation:59},{start:79,end:86,length:[2,3],orbit:"spruce",orientation:54},{start:97,end:111,length:[2,3],orbit:"spruce",orientation:26},{start:60,end:82,length:[2,3],orbit:"spruce",orientation:53},{start:90,end:114,length:[2,3],orbit:"spruce",orientation:29},{start:72,end:66,length:[2,3],orbit:"spruce",orientation:32}]})}),n.variable(t("all_turquoise")).define("all_turquoise",["convertVsonModel"],function(e){return e({field:"golden",symmetry:"icosahedral",vertices:[[[-8,-12],[-2,-2],[0,-2]],[[-8,-12],[-2,-2],[0,2]],[[-8,-12],[2,2],[0,-2]],[[-8,-12],[2,2],[0,2]],[[-6,-12],[-2,-4],[-2,-4]],[[-6,-12],[-2,-4],[2,4]],[[-6,-12],[2,4],[-2,-4]],[[-6,-12],[2,4],[2,4]],[[-6,-10],[-4,-6],[-4,-4]],[[-6,-10],[-4,-6],[4,4]],[[-6,-10],[0,-2],[-4,-8]],[[-6,-10],[0,-2],[4,8]],[[-6,-10],[0,2],[-4,-8]],[[-6,-10],[0,2],[4,8]],[[-6,-10],[4,6],[-4,-4]],[[-6,-10],[4,6],[4,4]],[[-6,-8],[-6,-8],[-2,-4]],[[-6,-8],[-6,-8],[2,4]],[[-6,-8],[-2,-4],[-6,-8]],[[-6,-8],[-2,-4],[6,8]],[[-6,-8],[2,4],[-6,-8]],[[-6,-8],[2,4],[6,8]],[[-6,-8],[6,8],[-2,-4]],[[-6,-8],[6,8],[2,4]],[[-4,-8],[-6,-10],[0,-2]],[[-4,-8],[-6,-10],[0,2]],[[-4,-8],[6,10],[0,-2]],[[-4,-8],[6,10],[0,2]],[[-4,-6],[-4,-4],[-6,-10]],[[-4,-6],[-4,-4],[6,10]],[[-4,-6],[-1,-1],[0,-1]],[[-4,-6],[-1,-1],[0,1]],[[-4,-6],[1,1],[0,-1]],[[-4,-6],[1,1],[0,1]],[[-4,-6],[4,4],[-6,-10]],[[-4,-6],[4,4],[6,10]],[[-3,-6],[-1,-2],[-1,-2]],[[-3,-6],[-1,-2],[1,2]],[[-3,-6],[1,2],[-1,-2]],[[-3,-6],[1,2],[1,2]],[[-3,-5],[-2,-3],[-2,-2]],[[-3,-5],[-2,-3],[2,2]],[[-3,-5],[0,-1],[-2,-4]],[[-3,-5],[0,-1],[2,4]],[[-3,-5],[0,1],[-2,-4]],[[-3,-5],[0,1],[2,4]],[[-3,-5],[2,3],[-2,-2]],[[-3,-5],[2,3],[2,2]],[[-4,-4],[-6,-10],[-4,-6]],[[-4,-4],[-6,-10],[4,6]],[[-4,-4],[6,10],[-4,-6]],[[-4,-4],[6,10],[4,6]],[[-3,-4],[-3,-4],[-1,-2]],[[-3,-4],[-3,-4],[1,2]],[[-3,-4],[-1,-2],[-3,-4]],[[-3,-4],[-1,-2],[3,4]],[[-3,-4],[1,2],[-3,-4]],[[-3,-4],[1,2],[3,4]],[[-3,-4],[3,4],[-1,-2]],[[-3,-4],[3,4],[1,2]],[[-2,-4],[-6,-12],[-2,-4]],[[-2,-4],[-6,-12],[2,4]],[[-2,-4],[-6,-8],[-6,-8]],[[-2,-4],[-6,-8],[6,8]],[[-2,-4],[-3,-5],[0,-1]],[[-2,-4],[-3,-5],[0,1]],[[-2,-4],[-2,-4],[-6,-12]],[[-2,-4],[-2,-4],[6,12]],[[-2,-4],[2,4],[-6,-12]],[[-2,-4],[2,4],[6,12]],[[-2,-4],[3,5],[0,-1]],[[-2,-4],[3,5],[0,1]],[[-2,-4],[6,8],[-6,-8]],[[-2,-4],[6,8],[6,8]],[[-2,-4],[6,12],[-2,-4]],[[-2,-4],[6,12],[2,4]],[[-2,-3],[-2,-2],[-3,-5]],[[-2,-3],[-2,-2],[3,5]],[[-2,-3],[2,2],[-3,-5]],[[-2,-3],[2,2],[3,5]],[[-2,-2],[-3,-5],[-2,-3]],[[-2,-2],[-3,-5],[2,3]],[[-2,-2],[0,-2],[-8,-12]],[[-2,-2],[0,-2],[8,12]],[[-2,-2],[0,2],[-8,-12]],[[-2,-2],[0,2],[8,12]],[[-2,-2],[3,5],[-2,-3]],[[-2,-2],[3,5],[2,3]],[[-1,-2],[-3,-6],[-1,-2]],[[-1,-2],[-3,-6],[1,2]],[[-1,-2],[-3,-4],[-3,-4]],[[-1,-2],[-3,-4],[3,4]],[[-1,-2],[-1,-2],[-3,-6]],[[-1,-2],[-1,-2],[3,6]],[[-1,-2],[1,2],[-3,-6]],[[-1,-2],[1,2],[3,6]],[[-1,-2],[3,4],[-3,-4]],[[-1,-2],[3,4],[3,4]],[[-1,-2],[3,6],[-1,-2]],[[-1,-2],[3,6],[1,2]],[[0,-2],[-8,-12],[-2,-2]],[[0,-2],[-8,-12],[2,2]],[[0,-2],[-4,-8],[-6,-10]],[[0,-2],[-4,-8],[6,10]],[[0,-2],[4,8],[-6,-10]],[[0,-2],[4,8],[6,10]],[[0,-2],[8,12],[-2,-2]],[[0,-2],[8,12],[2,2]],[[-1,-1],[0,-1],[-4,-6]],[[-1,-1],[0,-1],[4,6]],[[-1,-1],[0,1],[-4,-6]],[[-1,-1],[0,1],[4,6]],[[0,-1],[-4,-6],[-1,-1]],[[0,-1],[-4,-6],[1,1]],[[0,-1],[-2,-4],[-3,-5]],[[0,-1],[-2,-4],[3,5]],[[0,-1],[2,4],[-3,-5]],[[0,-1],[2,4],[3,5]],[[0,-1],[4,6],[-1,-1]],[[0,-1],[4,6],[1,1]],[[0,1],[-4,-6],[-1,-1]],[[0,1],[-4,-6],[1,1]],[[0,1],[-2,-4],[-3,-5]],[[0,1],[-2,-4],[3,5]],[[0,1],[2,4],[-3,-5]],[[0,1],[2,4],[3,5]],[[0,1],[4,6],[-1,-1]],[[0,1],[4,6],[1,1]],[[1,1],[0,-1],[-4,-6]],[[1,1],[0,-1],[4,6]],[[1,1],[0,1],[-4,-6]],[[1,1],[0,1],[4,6]],[[0,2],[-8,-12],[-2,-2]],[[0,2],[-8,-12],[2,2]],[[0,2],[-4,-8],[-6,-10]],[[0,2],[-4,-8],[6,10]],[[0,2],[4,8],[-6,-10]],[[0,2],[4,8],[6,10]],[[0,2],[8,12],[-2,-2]],[[0,2],[8,12],[2,2]],[[1,2],[-3,-6],[-1,-2]],[[1,2],[-3,-6],[1,2]],[[1,2],[-3,-4],[-3,-4]],[[1,2],[-3,-4],[3,4]],[[1,2],[-1,-2],[-3,-6]],[[1,2],[-1,-2],[3,6]],[[1,2],[1,2],[-3,-6]],[[1,2],[1,2],[3,6]],[[1,2],[3,4],[-3,-4]],[[1,2],[3,4],[3,4]],[[1,2],[3,6],[-1,-2]],[[1,2],[3,6],[1,2]],[[2,2],[-3,-5],[-2,-3]],[[2,2],[-3,-5],[2,3]],[[2,2],[0,-2],[-8,-12]],[[2,2],[0,-2],[8,12]],[[2,2],[0,2],[-8,-12]],[[2,2],[0,2],[8,12]],[[2,2],[3,5],[-2,-3]],[[2,2],[3,5],[2,3]],[[2,3],[-2,-2],[-3,-5]],[[2,3],[-2,-2],[3,5]],[[2,3],[2,2],[-3,-5]],[[2,3],[2,2],[3,5]],[[2,4],[-6,-12],[-2,-4]],[[2,4],[-6,-12],[2,4]],[[2,4],[-6,-8],[-6,-8]],[[2,4],[-6,-8],[6,8]],[[2,4],[-3,-5],[0,-1]],[[2,4],[-3,-5],[0,1]],[[2,4],[-2,-4],[-6,-12]],[[2,4],[-2,-4],[6,12]],[[2,4],[2,4],[-6,-12]],[[2,4],[2,4],[6,12]],[[2,4],[3,5],[0,-1]],[[2,4],[3,5],[0,1]],[[2,4],[6,8],[-6,-8]],[[2,4],[6,8],[6,8]],[[2,4],[6,12],[-2,-4]],[[2,4],[6,12],[2,4]],[[3,4],[-3,-4],[-1,-2]],[[3,4],[-3,-4],[1,2]],[[3,4],[-1,-2],[-3,-4]],[[3,4],[-1,-2],[3,4]],[[3,4],[1,2],[-3,-4]],[[3,4],[1,2],[3,4]],[[3,4],[3,4],[-1,-2]],[[3,4],[3,4],[1,2]],[[4,4],[-6,-10],[-4,-6]],[[4,4],[-6,-10],[4,6]],[[4,4],[6,10],[-4,-6]],[[4,4],[6,10],[4,6]],[[3,5],[-2,-3],[-2,-2]],[[3,5],[-2,-3],[2,2]],[[3,5],[0,-1],[-2,-4]],[[3,5],[0,-1],[2,4]],[[3,5],[0,1],[-2,-4]],[[3,5],[0,1],[2,4]],[[3,5],[2,3],[-2,-2]],[[3,5],[2,3],[2,2]],[[3,6],[-1,-2],[-1,-2]],[[3,6],[-1,-2],[1,2]],[[3,6],[1,2],[-1,-2]],[[3,6],[1,2],[1,2]],[[4,6],[-4,-4],[-6,-10]],[[4,6],[-4,-4],[6,10]],[[4,6],[-1,-1],[0,-1]],[[4,6],[-1,-1],[0,1]],[[4,6],[1,1],[0,-1]],[[4,6],[1,1],[0,1]],[[4,6],[4,4],[-6,-10]],[[4,6],[4,4],[6,10]],[[4,8],[-6,-10],[0,-2]],[[4,8],[-6,-10],[0,2]],[[4,8],[6,10],[0,-2]],[[4,8],[6,10],[0,2]],[[6,8],[-6,-8],[-2,-4]],[[6,8],[-6,-8],[2,4]],[[6,8],[-2,-4],[-6,-8]],[[6,8],[-2,-4],[6,8]],[[6,8],[2,4],[-6,-8]],[[6,8],[2,4],[6,8]],[[6,8],[6,8],[-2,-4]],[[6,8],[6,8],[2,4]],[[6,10],[-4,-6],[-4,-4]],[[6,10],[-4,-6],[4,4]],[[6,10],[0,-2],[-4,-8]],[[6,10],[0,-2],[4,8]],[[6,10],[0,2],[-4,-8]],[[6,10],[0,2],[4,8]],[[6,10],[4,6],[-4,-4]],[[6,10],[4,6],[4,4]],[[6,12],[-2,-4],[-2,-4]],[[6,12],[-2,-4],[2,4]],[[6,12],[2,4],[-2,-4]],[[6,12],[2,4],[2,4]],[[8,12],[-2,-2],[0,-2]],[[8,12],[-2,-2],[0,2]],[[8,12],[2,2],[0,-2]],[[8,12],[2,2],[0,2]]],balls:[13,218,115,112,177,80,38,208,11,56,21,198,186,205,58,46,29,230,132,64,124,148,137,96,223,75,136,174,152,121,25,183,128,130,5,184,168,107,49,9,26,87,157,140,216,1,14,28,190,119,204,50,166,2,105,170,40,52,161,30,77,90,154,217,89,236,37,213,100,55,110,214,194,167,85,193,181,159,104,123,143,36,7,67,155,79,61,24,195,23,207,227,138,127,44,34,18,73,94,47,59,202,97,84,22,133,74,191,71,0,233,129,33,101,120,151,48,185,35,106,4,81,111,145,122,158,173,232,187,199,98,172,231,149,222,27,144,103,76,200,176,45,182,72,114,113,51,95,10,3,43,8,31,162,6,164,150,125,239,226,126,92,206,219,16,19,65,169,203,228,220,39,66,180,192,20,117,62,142,70,146,210,78,108,156,139,234,118,178,109,189,175,60,116,135,88,197,171,83,91,54,147,163,179,212,235,225,165,141,201,68,17,15,82,221,32,229,134,215,160,42,63,224,53,41,209,12,238,153,99,102,211,237,69,188,131,86,57,196,93],struts:[{start:90,end:62,length:[2,3],orbit:"turquoise",orientation:22},{start:136,end:124,length:[2,3],orbit:"turquoise",orientation:40},{start:19,end:55,length:[2,3],orbit:"turquoise",orientation:23},{start:164,end:140,length:[2,3],orbit:"turquoise",orientation:4},{start:109,end:83,length:[2,3],orbit:"turquoise",orientation:32},{start:78,end:34,length:[2,3],orbit:"turquoise",orientation:59},{start:110,end:84,length:[2,3],orbit:"turquoise",orientation:47},{start:46,end:14,length:[2,3],orbit:"turquoise",orientation:57},{start:86,end:50,length:[2,3],orbit:"turquoise",orientation:58},{start:8,end:40,length:[2,3],orbit:"turquoise",orientation:12},{start:159,end:191,length:[2,3],orbit:"turquoise",orientation:13},{start:201,end:233,length:[2,3],orbit:"turquoise",orientation:18},{start:88,end:60,length:[2,3],orbit:"turquoise",orientation:19},{start:135,end:123,length:[2,3],orbit:"turquoise",orientation:55},{start:209,end:239,length:[2,3],orbit:"turquoise",orientation:0},{start:52,end:16,length:[2,3],orbit:"turquoise",orientation:36},{start:13,end:45,length:[2,3],orbit:"turquoise",orientation:26},{start:230,end:198,length:[2,3],orbit:"turquoise",orientation:42},{start:6,end:38,length:[2,3],orbit:"turquoise",orientation:18},{start:63,end:91,length:[2,3],orbit:"turquoise",orientation:52},{start:57,end:21,length:[2,3],orbit:"turquoise",orientation:38},{start:218,end:182,length:[2,3],orbit:"turquoise",orientation:38},{start:177,end:149,length:[2,3],orbit:"turquoise",orientation:22},{start:44,end:12,length:[2,3],orbit:"turquoise",orientation:56},{start:107,end:119,length:[2,3],orbit:"turquoise",orientation:16},{start:210,end:162,length:[2,3],orbit:"turquoise",orientation:44},{start:118,end:106,length:[2,3],orbit:"turquoise",orientation:46},{start:122,end:134,length:[2,3],orbit:"turquoise",orientation:25},{start:32,end:2,length:[2,3],orbit:"turquoise",orientation:45},{start:97,end:73,length:[2,3],orbit:"turquoise",orientation:7},{start:227,end:195,length:[2,3],orbit:"turquoise",orientation:56},{start:131,end:157,length:[2,3],orbit:"turquoise",orientation:2},{start:214,end:174,length:[2,3],orbit:"turquoise",orientation:39},{start:189,end:153,length:[2,3],orbit:"turquoise",orientation:58},{start:95,end:69,length:[2,3],orbit:"turquoise",orientation:35},{start:54,end:18,length:[2,3],orbit:"turquoise",orientation:53},{start:125,end:137,length:[2,3],orbit:"turquoise",orientation:10},{start:17,end:53,length:[2,3],orbit:"turquoise",orientation:6},{start:100,end:112,length:[2,3],orbit:"turquoise",orientation:1},{start:186,end:222,length:[2,3],orbit:"turquoise",orientation:6},{start:74,end:98,length:[2,3],orbit:"turquoise",orientation:34},{start:41,end:9,length:[2,3],orbit:"turquoise",orientation:42},{start:235,end:203,length:[2,3],orbit:"turquoise",orientation:33},{start:168,end:212,length:[2,3],orbit:"turquoise",orientation:24},{start:115,end:103,length:[2,3],orbit:"turquoise",orientation:40},{start:228,end:196,length:[2,3],orbit:"turquoise",orientation:41},{start:197,end:229,length:[2,3],orbit:"turquoise",orientation:11},{start:81,end:49,length:[2,3],orbit:"turquoise",orientation:43},{start:163,end:211,length:[2,3],orbit:"turquoise",orientation:14},{start:238,end:208,length:[2,3],orbit:"turquoise",orientation:30},{start:141,end:165,length:[2,3],orbit:"turquoise",orientation:34},{start:175,end:215,length:[2,3],orbit:"turquoise",orientation:9},{start:199,end:231,length:[2,3],orbit:"turquoise",orientation:12},{start:24,end:64,length:[2,3],orbit:"turquoise",orientation:9},{start:128,end:154,length:[2,3],orbit:"turquoise",orientation:17},{start:152,end:188,length:[2,3],orbit:"turquoise",orientation:28},{start:143,end:167,length:[2,3],orbit:"turquoise",orientation:37},{start:146,end:172,length:[2,3],orbit:"turquoise",orientation:20},{start:72,end:96,length:[2,3],orbit:"turquoise",orientation:37},{start:35,end:79,length:[2,3],orbit:"turquoise",orientation:29},{start:173,end:147,length:[2,3],orbit:"turquoise",orientation:50},{start:133,end:121,length:[2,3],orbit:"turquoise",orientation:46},{start:138,end:126,length:[2,3],orbit:"turquoise",orientation:31},{start:67,end:93,length:[2,3],orbit:"turquoise",orientation:20},{start:3,end:33,length:[2,3],orbit:"turquoise",orientation:15},{start:237,end:207,length:[2,3],orbit:"turquoise",orientation:45},{start:216,end:180,length:[2,3],orbit:"turquoise",orientation:51},{start:120,end:132,length:[2,3],orbit:"turquoise",orientation:16},{start:221,end:185,length:[2,3],orbit:"turquoise",orientation:53},{start:184,end:220,length:[2,3],orbit:"turquoise",orientation:23},{start:22,end:58,length:[2,3],orbit:"turquoise",orientation:21},{start:5,end:37,length:[2,3],orbit:"turquoise",orientation:3},{start:48,end:80,length:[2,3],orbit:"turquoise",orientation:13},{start:181,end:217,length:[2,3],orbit:"turquoise",orientation:21},{start:206,end:236,length:[2,3],orbit:"turquoise",orientation:15},{start:156,end:130,length:[2,3],orbit:"turquoise",orientation:32},{start:65,end:25,length:[2,3],orbit:"turquoise",orientation:39},{start:85,end:111,length:[2,3],orbit:"turquoise",orientation:17},{start:43,end:11,length:[2,3],orbit:"turquoise",orientation:41},{start:105,end:117,length:[2,3],orbit:"turquoise",orientation:25},{start:145,end:171,length:[2,3],orbit:"turquoise",orientation:5},{start:113,end:101,length:[2,3],orbit:"turquoise",orientation:31},{start:116,end:104,length:[2,3],orbit:"turquoise",orientation:55},{start:68,end:94,length:[2,3],orbit:"turquoise",orientation:5},{start:39,end:7,length:[2,3],orbit:"turquoise",orientation:48},{start:70,end:26,length:[2,3],orbit:"turquoise",orientation:54},{start:59,end:23,length:[2,3],orbit:"turquoise",orientation:51},{start:190,end:158,length:[2,3],orbit:"turquoise",orientation:43},{start:51,end:87,length:[2,3],orbit:"turquoise",orientation:28},{start:102,end:114,length:[2,3],orbit:"turquoise",orientation:10},{start:232,end:200,length:[2,3],orbit:"turquoise",orientation:48},{start:148,end:176,length:[2,3],orbit:"turquoise",orientation:52},{start:170,end:144,length:[2,3],orbit:"turquoise",orientation:35},{start:194,end:226,length:[2,3],orbit:"turquoise",orientation:26},{start:192,end:224,length:[2,3],orbit:"turquoise",orientation:27},{start:127,end:139,length:[2,3],orbit:"turquoise",orientation:1},{start:150,end:178,length:[2,3],orbit:"turquoise",orientation:49},{start:0,end:30,length:[2,3],orbit:"turquoise",orientation:0},{start:179,end:151,length:[2,3],orbit:"turquoise",orientation:19},{start:61,end:89,length:[2,3],orbit:"turquoise",orientation:49},{start:205,end:161,length:[2,3],orbit:"turquoise",orientation:59},{start:28,end:76,length:[2,3],orbit:"turquoise",orientation:14},{start:225,end:193,length:[2,3],orbit:"turquoise",orientation:57},{start:183,end:219,length:[2,3],orbit:"turquoise",orientation:8},{start:36,end:4,length:[2,3],orbit:"turquoise",orientation:33},{start:99,end:75,length:[2,3],orbit:"turquoise",orientation:4},{start:223,end:187,length:[2,3],orbit:"turquoise",orientation:36},{start:10,end:42,length:[2,3],orbit:"turquoise",orientation:11},{start:15,end:47,length:[2,3],orbit:"turquoise",orientation:27},{start:77,end:29,length:[2,3],orbit:"turquoise",orientation:44},{start:166,end:142,length:[2,3],orbit:"turquoise",orientation:7},{start:213,end:169,length:[2,3],orbit:"turquoise",orientation:54},{start:155,end:129,length:[2,3],orbit:"turquoise",orientation:47},{start:92,end:66,length:[2,3],orbit:"turquoise",orientation:50},{start:27,end:71,length:[2,3],orbit:"turquoise",orientation:24},{start:160,end:204,length:[2,3],orbit:"turquoise",orientation:29},{start:82,end:108,length:[2,3],orbit:"turquoise",orientation:2},{start:202,end:234,length:[2,3],orbit:"turquoise",orientation:3},{start:31,end:1,length:[2,3],orbit:"turquoise",orientation:30},{start:20,end:56,length:[2,3],orbit:"turquoise",orientation:8}]})}),n.variable(t("red_quat_120_cell")).define("red_quat_120_cell",["convertVsonModel"],function(e){return fetch("https://gist.githubusercontent.com/vorth/a6d27d0e00499653c1572cc41aaa3aa5/raw/f977b625ade4f87c06093bfa5de1acde7ef90000/red-quaternion-120-cell.vson").then(function(e){return e.json()}).then(e)}),n.variable(t("hyperdo_cells")).define("hyperdo_cells",["convertVsonModel"],function(e){return e({field:"golden",symmetry:"icosahedral",vertices:[[[-5,-8],[0,0],[-2,-3]],[[-5,-8],[0,0],[2,3]],[[-3,-5],[-3,-5],[-3,-5]],[[-3,-5],[-3,-5],[3,5]],[[-3,-5],[3,5],[-3,-5]],[[-3,-5],[3,5],[3,5]],[[-2,-3],[-5,-8],[0,0]],[[-2,-3],[5,8],[0,0]],[[0,0],[-3,-5],[8,13]],[[0,0],[-2,-3],[-5,-8]],[[0,0],[-2,-3],[5,8]],[[0,0],[0,0],[0,0]],[[0,0],[0,0],[10,16]],[[0,0],[2,3],[-5,-8]],[[0,0],[2,3],[5,8]],[[0,0],[3,5],[8,13]],[[2,3],[-5,-8],[0,0]],[[2,3],[5,8],[0,0]],[[3,5],[-5,-8],[8,13]],[[3,5],[-3,-5],[-3,-5]],[[3,5],[-3,-5],[3,5]],[[3,5],[0,0],[11,18]],[[3,5],[3,5],[-3,-5]],[[3,5],[3,5],[3,5]],[[3,5],[5,8],[8,13]],[[5,8],[-5,-8],[5,8]],[[5,8],[-3,-5],[10,16]],[[5,8],[0,0],[-2,-3]],[[5,8],[0,0],[2,3]],[[5,8],[3,5],[10,16]],[[5,8],[5,8],[5,8]],[[8,13],[-3,-5],[5,8]],[[8,13],[-2,-3],[8,13]],[[8,13],[0,0],[3,5]],[[8,13],[2,3],[8,13]],[[8,13],[3,5],[5,8]]],balls:[2,15,6,20,26,12,8,4,10,27,23,11,25,18,16,34,19,31,5,30,35,22,29,9,33,7,32,1,28,14,21,17,13,0,3,24],struts:[{start:4,end:7,length:[4,6],orbit:"blue",orientation:10},{start:23,end:17,length:[4,6],orbit:"blue",orientation:55},{start:4,end:0,length:[4,6],orbit:"blue",orientation:39},{start:5,end:7,length:[4,6],orbit:"blue",orientation:52},{start:27,end:28,length:[4,6],orbit:"blue",orientation:2},{start:26,end:21,length:[4,6],orbit:"blue",orientation:51},{start:19,end:9,length:[4,6],orbit:"blue",orientation:56},{start:12,end:21,length:[1,2],orbit:"yellow",orientation:8},{start:30,end:23,length:[1,2],orbit:"yellow",orientation:19},{start:2,end:0,length:[4,6],orbit:"blue",orientation:51},{start:13,end:9,length:[4,6],orbit:"blue",orientation:16},{start:19,end:16,length:[4,6],orbit:"blue",orientation:40},{start:2,end:9,length:[4,6],orbit:"blue",orientation:23},{start:10,end:14,length:[4,6],orbit:"blue",orientation:1},{start:3,end:1,length:[4,6],orbit:"blue",orientation:54},{start:8,end:18,length:[2,3],orbit:"red",orientation:15},{start:3,end:6,length:[4,6],orbit:"blue",orientation:25},{start:15,end:14,length:[1,2],orbit:"yellow",orientation:22},{start:23,end:28,length:[4,6],orbit:"blue",orientation:24},{start:24,end:15,length:[2,3],orbit:"red",orientation:30},{start:22,end:13,length:[4,6],orbit:"blue",orientation:53},{start:30,end:35,length:[2,3],orbit:"red",orientation:15},{start:32,end:26,length:[4,6],orbit:"blue",orientation:41},{start:25,end:31,length:[2,3],orbit:"red",orientation:0},{start:1,end:0,length:[4,6],orbit:"blue",orientation:47},{start:16,end:6,length:[4,6],orbit:"blue",orientation:45},{start:20,end:16,length:[4,6],orbit:"blue",orientation:22},{start:30,end:24,length:[2,3],orbit:"red",orientation:32},{start:32,end:31,length:[1,2],orbit:"yellow",orientation:22},{start:3,end:10,length:[4,6],orbit:"blue",orientation:11},{start:33,end:35,length:[2,3],orbit:"red",orientation:1},{start:5,end:1,length:[4,6],orbit:"blue",orientation:36},{start:31,end:33,length:[2,3],orbit:"red",orientation:46},{start:25,end:18,length:[2,3],orbit:"red",orientation:32},{start:23,end:14,length:[4,6],orbit:"blue",orientation:41},{start:10,end:8,length:[1,2],orbit:"yellow",orientation:2},{start:22,end:17,length:[4,6],orbit:"blue",orientation:7},{start:25,end:20,length:[1,2],orbit:"yellow",orientation:54},{start:34,end:29,length:[4,6],orbit:"blue",orientation:38},{start:5,end:14,length:[4,6],orbit:"blue",orientation:8},{start:2,end:6,length:[4,6],orbit:"blue",orientation:37},{start:12,end:8,length:[2,3],orbit:"red",orientation:16},{start:34,end:35,length:[1,2],orbit:"yellow",orientation:17},{start:20,end:28,length:[4,6],orbit:"blue",orientation:6},{start:22,end:27,length:[4,6],orbit:"blue",orientation:21},{start:29,end:24,length:[1,2],orbit:"yellow",orientation:54},{start:7,end:17,length:[4,6],orbit:"blue",orientation:0},{start:26,end:18,length:[1,2],orbit:"yellow",orientation:19},{start:29,end:21,length:[4,6],orbit:"blue",orientation:39},{start:4,end:13,length:[4,6],orbit:"blue",orientation:26},{start:20,end:10,length:[4,6],orbit:"blue",orientation:38},{start:12,end:15,length:[2,3],orbit:"red",orientation:46},{start:32,end:34,length:[4,6],orbit:"blue",orientation:1},{start:28,end:33,length:[1,2],orbit:"yellow",orientation:8},{start:19,end:27,length:[4,6],orbit:"blue",orientation:9}]})}),n.variable(t("convertVsonModel")).define("convertVsonModel",["parseVsonVector","resolveSegments"],function(e,t){return function(n){var r=n.vertices.map(e);var i=t(n.struts.map(function(e){return[r[e.start],r[e.end]]})),o=n.panels||[];return i.panels=o&&o.map(function(e){return{vertices:e.vertices.map(function(e){return i.vertices.add(r[e])}),color:e.color||"#99aa00"}}),i}}),n.variable(t()).define(["md"],function(e){return e(an())}),n.variable(t("byr2vZome")).define("byr2vZome",function(){return function(e){var t=Object(r.a)(e,3);return 3*t[0]%4*15+t[1]+3*t[2]}}),n.variable(t("byr2index")).define("byr2index",function(){return function(e){var t=Object(r.a)(e,3);return 15*t[0]+5*t[1]+t[2]}}),n.variable(t("vZome2byr")).define("vZome2byr",function(){return function(e){var t=3*Math.floor(e/15)%4,n=e%3;return[t,n,Math.floor((e-n-3*t%4*15)/3)]}}),n.variable(t()).define(["md"],function(e){return e(on())}),n.variable(t()).define(["md"],function(e){return e(rn())});var i=e.module(Vt);n.import("resolveSegments",i),n.import("vZomeRenderer",i);var o=e.module(y);return n.import("parseVsonVector",o),n.variable(t()).define(["md"],function(e){return e(nn())}),n}function un(){var e=i(["## Imports"]);return un=function(){return e},e}function cn(){var e=i(["",""]);return cn=function(){return e},e}function fn(){var e=i(["","",""]);return fn=function(){return e},e}function hn(){var e=i(["## Implementation"]);return hn=function(){return e},e}function dn(){var e=i(["## 4D Polytopes"]);return dn=function(){return e},e}function pn(){var e=i(['## Other Interesting Projections\n\nThe following projections are interesting because require\nrelatively few "white" orbits, strut orbits that are unknown\nto vZome.']);return pn=function(){return e},e}function mn(){var e=i(["\n## The Green-Mirror Projection\n\nThis projection corresponds to\nreflecting the familiar red-yellow-blue projection\nthrough any green strut axis,\nor rotating it \nninety degrees around any blue strut axis.\n"]);return mn=function(){return e},e}function vn(){var e=i(["## The Edge-First Projection"]);return vn=function(){return e},e}function gn(){var e=i(["## The Face-First Projection"]);return gn=function(){return e},e}function yn(){var e=i(["\n## The Vertex-First Projection"]);return yn=function(){return e},e}function _n(){var e=i(["## The Standard Projection\n\nWith a unit quaternion on both sides of the transformation,\nwe get the well-known Zome projection of the 120-cell.\nIn a very real sense, this projection is the reason that\n[Zometool](http://zometool.com)\nexists: Marc Pelletier recognized that the earlier\n[Zometoy system](http://zometool.com/about-us/)\ndeveloped by Steve and Holly Baer could naturally\nrepresent this projection (and the same projection of the 600-cell),\nwhich he was familiar with from\nCoxeter's Regular Polytopes book.\nHe and Paul Hildebrandt ran with the idea from there.\n\nWe call this the **cell-first** projection, because there is a\ndodecahedral cell centered in the model.\nThis is the only projection that does not require the hidden-cell\nremoval, since the projections of the hidden cells are coincident\nwith the projections of the visible cells.  In other words, every\ndodecahedral cell you see is actually two aligned cells projected to\nthe same place."]);return _n=function(){return e},e}function bn(){var e=i(["### Just an experiment\n\nIgnore this for now."]);return bn=function(){return e},e}function wn(){var e=i(["\n## Hidden Cell Removal\n\nThere is one more thing I should say about the 120-cell projections:\nI am removing hidden cells when projecting from 4D to 3D.\nThis is analogous to hidden surface removal routinely done in 3D graphics;\nwe don't render the polygons in the mesh that are facing away from the camera,\nsince they should be hidden by other, nearer, front-facing polygons.\nIn the 4D case, we are hiding 3D polyhedral cells rather than 2D\npolygons.\n\nThe result is a much more apprehensible rendering, with no confusing overlay\nof the front and the back of the object.  For example, if I didn't do the hidden-cell removal,\nthe vertex-first projection below would have *eight* yellow struts emanating from the center\nball, and you would not see the tetrahedral symmetry of the cells.\n"]);return wn=function(){return e},e}function xn(){var e=i(["\nYou copy this cell output to capture the current rotation as code for a new cell\n(omitting the back-quotes):\n"]);return xn=function(){return e},e}function An(){var e=i(["","",""]);return An=function(){return e},e}function Mn(){var e=i(["\nThe renderings above and below are both of a 120-cell, a 4-dimensional object.  Its vertices\nall sit on the 3-sphere, the 4D analogue of the sphere you are familiar with.\nBoth are fully interactive 3D renderings -- you can rotate, pan, and zoom.\n\nBefore we go into the 4D rotations, try moving the first slider below, to the right.\nYou will see the blob of Zome balls expand into a recognizable Zome model.\nNow the triangle on the right makes sense, documenting the strut colors\n(and vector orbits under icosahedral symmetry) used in the projected object.\n\nGeneral 4D rotations can be implemented by two-sided quaternion multiplication;\nevery 4-vector gets multiplied by one quaternion from the left and one from the right.\nThe other eight controls below control these two quaternions,\neach row controlling one coordinate of the four required.\nThe number from the left input is muliplied by the\npower of phi from the right input.\nObviously a multiplier of zero leaves you with zero,\nregardless of the phi power.\n\nExperiment with the quaternion controls, and see if you can rediscover\nsome of the rotations capture in the rest of the notebook.\nThere are many ways to encode rotations that give similar results\nin terms of the orbit triangle.\n"]);return Mn=function(){return e},e}function Sn(){var e=i(["# Exploring 4D Quaternion Rotations"]);return Sn=function(){return e},e}function Cn(e,t){var n=e.module();n.variable(t()).define(["md"],function(e){return e(Sn())}),n.variable(t()).define(["rotated4dViewOriginal","fourD_120_cell"],function(e,t){return e(this,t,[[[,1],[,1],[1],[]],[[1],[],[],[]],[1,1]])}),n.variable(t()).define(["md"],function(e){return e(Mn())}),n.variable(t()).define(["rotated4dViewOriginal","fourD_120_cell","rotation_4d","scale"],function(e,t,n,r){return e(this,t,n.slice().concat([r]))}),n.variable(t("viewof scale")).define("viewof scale",["phiPowerInput"],function(e){return e(5)}),n.variable(t("scale")).define("scale",["Generators","viewof scale"],function(e,t){return e.input(t)}),n.variable(t("viewof rotation_4d")).define("viewof rotation_4d",["quaternionInput","html"],function(e,t){var n=e(5,"Left quaternion:"),r=e(5,"Right quaternion:");n.style.display="inline",r.style.display="inline";var i=t(An(),n,r);return i.style.display="inline",i.oninput=function(){return i.value=[n.value,r.value]},i.oninput(),i}),n.variable(t("rotation_4d")).define("rotation_4d",["Generators","viewof rotation_4d"],function(e,t){return e.input(t)}),n.variable(t()).define(["md"],function(e){return e(xn())}),n.variable(t()).define(["rotation_4d","scale"],function(e,t){return"rotated4dViewOriginal( fourD_120_cell, [\n  "+JSON.stringify(e[0])+",\n  "+JSON.stringify(e[1])+",\n  "+JSON.stringify(t)+"\n] )"}),n.variable(t()).define(["md"],function(e){return e(wn())}),n.variable(t()).define(["md"],function(e){return e(bn())}),n.define("initial mscale",function(){return[1]}),n.variable(t("mutable mscale")).define("mutable mscale",["Mutable","initial mscale"],function(e,t){return new e(t)}),n.variable(t("mscale")).define("mscale",["mutable mscale"],function(e){return e.generator}),n.variable(t()).define(["phiPowerInput","mutable mscale"],function(e,t){var n=e(5),r=n.oninput;return n.oninput=function(){r(),t.value=n.value},n}),n.variable(t()).define(["md"],function(e){return e(_n())}),n.variable(t()).define(["rotated4dViewOriginal","fourD_120_cell"],function(e,t){return e(this,t,[[[1],[],[],[]],[[1],[],[],[]],[2,3]])}),n.variable(t()).define(["md"],function(e){return e(yn())}),n.variable(t()).define(["rotated4dViewOriginal","fourD_120_cell"],function(e,t){return e(this,t,[[[1],[1],[],[]],[[1],[],[],[]],[1,2]])}),n.variable(t()).define(["md"],function(e){return e(gn())}),n.variable(t()).define(["rotated4dViewOriginal","fourD_120_cell"],function(e,t){return e(this,t,[[[1],[,1],[],[]],[[1],[],[],[]],[1,1]])}),n.variable(t()).define(["md"],function(e){return e(vn())}),n.variable(t()).define(["rotated4dViewOriginal","fourD_120_cell"],function(e,t){return e(this,t,[[[1],[1,1],[],[]],[[1],[],[],[]],[1,1]])}),n.variable(t()).define(["md"],function(e){return e(mn())}),n.variable(t()).define(["rotated4dViewOriginal","fourD_120_cell"],function(e,t){return e(this,t,[[[1,0,1],[1,0,1],[0,0,1],[0,0,1]],[[1,0,1],[1,0,1],[0,0,1],[0,0,1]],[1,1,1]])}),n.variable(t()).define(["md"],function(e){return e(pn())}),n.variable(t()).define(["rotated4dViewOriginal","fourD_120_cell"],function(e,t){return e(this,t,[[[1],[,1],[1],[]],[[1],[],[],[]],[1,1]])}),n.variable(t()).define(["rotated4dViewOriginal","fourD_120_cell"],function(e,t){return e(this,t,[[[,1],[,1],[1],[]],[[1],[],[],[]],[1,1]])}),n.variable(t()).define(["rotated4dViewOriginal","fourD_120_cell"],function(e,t){return e(this,t,[[[1,0,1],[-1,1,1],[0,0,1],[0,0,1]],[[1,0,1],[0,-1,1],[0,0,1],[0,0,1]],[1,1,1]])}),n.variable(t()).define(["md"],function(e){return e(dn())}),n.variable(t("fourD_120_cell")).define("fourD_120_cell",function(){return fetch("https://gist.githubusercontent.com/vorth/53ea8016f6df2ea27c0aa653a4c63cd9/raw/3ec5ea19f167193074f80aa5551c416626733503/120-cell-4D.vson").then(function(e){return e.json()})}),n.variable(t()).define(["md"],function(e){return e(hn())}),n.variable(t("rotated4dView")).define("rotated4dView",["width","Geometries","icosahedral_solid_connectors_shapes","vZome_colors","rotateAndProject","meshGroup","reusable3dCanvas","getUsedOrbits","icosaOrbitsTriangle","html"],function(e,t,n,r,i,o,a,s,l,u){return function(c,f,h,d){var p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},m=e/2,v=p.height,g=void 0===v?300:v,y=p.svgWidth,_=void 0===y?m:y,b=p.renderWidth,w=void 0===b?m:b,x=p.orbitControl,A=void 0===x||x,M=new t(n,r),S=i(f,h,d),C=o(S,M),E=a(c&&c.vZomeCanvas,C,{renderWidth:w,camera:{aspect:1.6}});E.style.display="inline",E.style["vertical-align"]="top";var I=Object.assign({},p,{orbits:s(S),svgWidth:_,height:g}),T=l(I);T.style.display="inline",T.style["vertical-align"]="top";var L=A?u(fn(),E,T):u(cn(),E);return L.vZomeCanvas=E,L}}),n.variable(t("rotated4dViewNoOrbit")).define("rotated4dViewNoOrbit",["rotated4dView"],function(e){return function(t,n,r,i,o){var a=Object.assign({},o,{orbitControl:!1});return e(t,n,r,i,a)}}),n.variable(t("rotated4dViewOriginal")).define("rotated4dViewOriginal",["rotated4dView","quaternionRotor"],function(e,t){return function(n,i,o,a){var s=Object(r.a)(o,3),l=s[0],u=s[1],c=s[2];return e(n,i,t(l,u),c,a)}}),n.variable(t("getUsedOrbits")).define("getUsedOrbits",["vZome_icosahedral_orbits","IndexedSet"],function(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=new t;return n.struts.map(function(e){return i.add(e.orbit)}),i.contents.map(function(e){var t=r[e];return{orbit:JSON.parse(e),color:t&&t.color}})}}),n.variable(t("quaternionRotor")).define("quaternionRotor",["quatmul"],function(e){return function(t,n){return function(r){return e(t,e(r,n))}}}),n.variable(t("rotateAndProject")).define("rotateAndProject",["removeHiddenVertices","convertVsonModel","scalarmul"],function(e,t,n){return function(r,i,o){function a(e,t){return Object.assign({},e,{vertices:e.vertices.map(t)})}var s=a(r,i),l=e(s);return t(a(l,function(e){return n(o,e.slice(1,4))}))}}),n.variable(t("removeHiddenVertices")).define("removeHiddenVertices",["grfloat"],function(e){return function(t){function n(t){return e(t[0])>=0}return Object.assign({},t,{struts:t.struts.filter(function(e){return n(t.vertices[e.start])||n(t.vertices[e.end])}),balls:t.balls.filter(function(e){return n(t.vertices[e])})})}}),n.variable(t()).define(["md"],function(e){return e(un())});var i=e.module(tn);n.import("icosaOrbitsTriangle",i);var o=e.module(y);n.import("vZome_icosahedral_orbits",o),n.import("icosahedral_solid_connectors_shapes",o),n.import("vZome_colors",o);var a=e.module(Wt);n.import("orbits","icosaOrbits",a),n.import("IndexedSet",a);var s=e.module(ln);n.import("convertVsonModel",s);var l=e.module(Dt);n.import("Geometries",l),n.import("meshGroup",l),n.import("phiPowerInput",l),n.import("quaternionInput",l);var u=e.module(ce);n.import("scalarmul",u),n.import("quatconj",u),n.import("quatmul",u),n.import("grpow",u),n.import("grfloat",u),n.import("grprint",u),n.import("grprintraw",u);var c=e.module(ft);n.import("slider",c),n.import("color",c),n.import("input",c);var f=e.module(gt);return n.import("reusable3dCanvas",f),n}function En(){var e=i(["## Dependencies"]);return En=function(){return e},e}function In(){var e=i(["## Data"]);return In=function(){return e},e}function Tn(){var e=i(["\n----\n## Code"]);return Tn=function(){return e},e}function Ln(){var e=i(['\n## Discussion\n\nThis notebook is a collaboration with [Nan Ma][nan], and is really\njust an offshoot of a project that he has undertaken.\nNan has generated [very complete data][data] for the family of\n[4D star polytopes][stars], including the full topology of cells,\nfaces, edges, and vertices.\nHe is working on preparing his own page to present everything,\nbut he graciously took some time out to export his Mathematica data\nin JSON format, so I could experiment with it here.\n\nThe benefit of "exploding" these 4D polytope projections should be\npretty clear; it is effectively impossible to understand the cell\nstructure of the normal, unexploded projections to 3D.\nThe trick for exploding them is one that Nan came up with:\njust find the center of each cell (the centroid of the vertices),\nthen scale that vector up, and add it to all the vertices of the cell\nbefore rendering.\n\nThese polytopes render very naturally with [Zometool][zome],\nSince their 4D vertex coordinates can all be expressed in the Golden field.\nThe only problem for building these in real life is\nthe presence of lots of intersecting struts in the projections.\nOf course, [vZome][vzome] does not care about such intersections,\nany more than the rendering in this notebook does.\n\nI\'m delighted to finally have the full structure of the 120-cell as\npart of his data set.  I have rendered the 120-cell in many different\ncontexts, but now, in addition to the ability to explode the cells,\nI can do other fun things like elide sets of cells, select by cell\nin vZome, and so on.\n\n[stars]: https://en.wikipedia.org/wiki/Star_polyhedron#Star_polytopes\n[data]: https://github.com/nanma80/star-polytope\n[nan]: http://nan.ma/\n[vzome]: http://vzome.com\n[zome]: https://zometool.com\n']);return Ln=function(){return e},e}function zn(){var e=i(["*Use the mouse and scroll-wheel to rotate, pan, and zoom.*"]);return zn=function(){return e},e}function kn(){var e=i(["# Exploding 4D Star Polytopes"]);return kn=function(){return e},e}function Dn(e,t){var n=e.module();n.variable(t("title")).define("title",["md"],function(e){return e(kn())}),n.variable(t("viewof name")).define("viewof name",["select"],function(e){var t=e({title:"Schl\xe4fli Symbol",description:"Select a 4D polytope",options:["{5,3,3}","{3,3,5}","{3,3,5/2}","{3,5/2,5}","{3,5,5/2}","{5/2,3,3}","{5/2,3,5}","{5/2,5,3}","{5/2,5,5/2}","{5,3,5/2}","{5,5/2,3}","{5,5/2,5}"],value:"hmmm"});return t.input.style.fontSize="20px",t.input.style.marginTop="8px",t}),n.variable(t("name")).define("name",["Generators","viewof name"],function(e,t){return e.input(t)}),n.variable(t("mainView")).define("mainView",["explosion","polytopes","name","grmul","strutScale","rotated4dViewOriginal","explode","polytopeData"],function(e,t,n,r,i,o,a,s){var l=[e,,t[n].divisor],u=r([2,3,1],i);return o(this,a(s,l),[[[1],[],[],[]],[[1],[],[],[]],u],{renderWidth:700,orbitControl:!1})}),n.variable(t()).define(["md"],function(e){return e(zn())}),n.variable(t("viewof explosion")).define("viewof explosion",["slider"],function(e){return e({min:0,max:100,step:1,value:50,title:"Explode / Implode",description:"Merge or separate the cells"})}),n.variable(t("explosion")).define("explosion",["Generators","viewof explosion"],function(e,t){return e.input(t)}),n.variable(t("viewof strutScale")).define("viewof strutScale",["phiPowerInput"],function(e){return e(4,{title:"Strut Lengths",description:"Scale struts relative to balls"})}),n.variable(t("strutScale")).define("strutScale",["Generators","viewof strutScale"],function(e,t){return e.input(t)}),n.variable(t()).define(["md"],function(e){return e(Ln())}),n.variable(t()).define(["md"],function(e){return e(Tn())}),n.variable(t("explode")).define("explode",["IndexedSet","getCellEdges","centroid","getEdgesVertices","scalarmul","vectoradd","polytopes","name"],function(e,t,n,i,o,a,s,l){return function(u,c){for(var f=new e,h=[],d=function(e){var s=t(u,e),l=n(i(u,s)),d=o(c,l);function p(e){var t=u.vertices[e];return f.add(a(t,d))}h=h.concat(s.map(function(e){var t=Object(r.a)(u.edges[e],2),n=t[0],i=t[1];return[p(n),p(i)]}))},p=0;p<u.cells.length;p++)d(p);return{vertices:s[l].flip?f.contents.map(function(e){var t=Object(r.a)(e,4),n=t[0];return[t[1],n,t[2],t[3]]}):f.contents,struts:h.map(function(e){var t=Object(r.a)(e,2);return{start:t[0],end:t[1]}}),balls:f.contents.map(function(e,t){return t})}}}),n.variable(t("centroid")).define("centroid",["vectoradd","scalarmul"],function(e,t){return function(n){var r=n.reduce(function(t,n){return e(t,n)},[[],[],[],[]]);return t([1,,n.length],r)}}),n.variable(t("getFaceVertices")).define("getFaceVertices",function(){return function(e,t){var n=e.faces[t].reduce(function(t,n){return t.concat(e.edges[n])},[]);return Array.from(new Set(n))}}),n.variable(t("getEdgesVertices")).define("getEdgesVertices",function(){return function(e,t){var n=t.reduce(function(t,n){return t.concat(e.edges[n])},[]);return Array.from(new Set(n)).reduce(function(t,n){return t.push(e.vertices[n]),t},[])}}),n.variable(t("getCellEdges")).define("getCellEdges",function(){return function(e,t){var n=e.cells[t].reduce(function(t,n){return t.concat(e.faces[n])},[]);return Array.from(new Set(n))}}),n.variable(t()).define(["md"],function(e){return e(In())}),n.variable(t("polytopes")).define("polytopes",function(){return{"{5,3,3}":{suffix:"5_3_3_cell120",flip:!0,divisor:30},"{3,3,5}":{suffix:"3_3_5_cell600",flip:!0,divisor:15},"{3,3,5/2}":{suffix:"3_3_52",flip:!1,divisor:2},"{3,5/2,5}":{suffix:"3_52_5",flip:!1,divisor:5},"{3,5,5/2}":{suffix:"3_5_52",flip:!1,divisor:15},"{5/2,3,3}":{suffix:"52_3_3",flip:!0,divisor:2},"{5/2,3,5}":{suffix:"52_3_5",flip:!0,divisor:10},"{5/2,5,3}":{suffix:"52_5_3",flip:!0,divisor:15},"{5/2,5,5/2}":{suffix:"52_5_52",flip:!0,divisor:5},"{5,3,5/2}":{suffix:"5_3_52",flip:!0,divisor:10},"{5,5/2,3}":{suffix:"5_52_3",flip:!0,divisor:5},"{5,5/2,5}":{suffix:"5_52_5",flip:!0,divisor:15}}}),n.variable(t("polytopeData")).define("polytopeData",["polytopes","name"],function(e,t){return fetch("https://raw.githubusercontent.com/nanma80/star-polytope/master/data/polytope_".concat(e[t].suffix,".json")).then(function(e){return e.json()})}),n.variable(t()).define(["md"],function(e){return e(En())});var i=e.module(Dt);n.import("phiPowerInput",i),n.import("quaternionInput",i);var o=e.module(Cn);n.import("rotated4dViewOriginal",o),n.import("rotated4dViewNoOrbit",o);var a=e.module(Wt);n.import("IndexedSet",a);var s=e.module(ce);n.import("scalarmul",s),n.import("vectoradd",s),n.import("grmul",s);var l=e.module(ft);return n.import("slider",l),n.import("select",l),n}n.d(t,"a",function(){return Dn})},,,function(e,t,n){"use strict";var r=n(114),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.concurrent_mode"):60111,d=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,m=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,g="function"===typeof Symbol&&Symbol.iterator;function y(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,i,o,a,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],u=0;(e=Error(t.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||_}function x(){}function A(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||_}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){"object"!==typeof e&&"function"!==typeof e&&null!=e&&y("85"),this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=w.prototype;var M=A.prototype=new x;M.constructor=A,r(M,w.prototype),M.isPureReactComponent=!0;var S={current:null},C={current:null},E=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var r=void 0,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,r)&&!I.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:C.current}}function L(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var z=/\/+/g,k=[];function D(e,t,n,r){if(k.length){var i=k.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function O(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>k.length&&k.push(e)}function N(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case o:case a:l=!0}}if(l)return r(i,t,""===n?"."+j(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=n+j(s=t[u],u);l+=e(s,c,r,i)}else if(c=null===t||"object"!==typeof t?null:"function"===typeof(c=g&&t[g]||t["@@iterator"])?c:null,"function"===typeof c)for(t=c.call(t),u=0;!(s=t.next()).done;)l+=e(s=s.value,c=n+j(s,u++),r,i);else"object"===s&&y("31","[object Object]"===(r=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":r,"");return l}(e,"",t,n)}function j(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function P(e,t){e.func.call(e.context,t,e.count++)}function R(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?$(e,r,n,function(e){return e}):null!=e&&(L(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(z,"$&/")+"/")+n)),r.push(e))}function $(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(z,"$&/")+"/"),N(e,R,t=D(t,o,r,i)),O(t)}function F(){var e=S.current;return null===e&&y("321"),e}var K={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return $(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;N(e,P,t=D(null,null,t,n)),O(t)},count:function(e){return N(e,function(){return null},null)},toArray:function(e){var t=[];return $(e,t,null,function(e){return e}),t},only:function(e){return L(e)||y("143"),e}},createRef:function(){return{current:null}},Component:w,PureComponent:A,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:d,render:e}},lazy:function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return F().useCallback(e,t)},useContext:function(e,t){return F().useContext(e,t)},useEffect:function(e,t){return F().useEffect(e,t)},useImperativeHandle:function(e,t,n){return F().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return F().useLayoutEffect(e,t)},useMemo:function(e,t){return F().useMemo(e,t)},useReducer:function(e,t,n){return F().useReducer(e,t,n)},useRef:function(e){return F().useRef(e)},useState:function(e){return F().useState(e)},Fragment:s,StrictMode:l,Suspense:p,createElement:T,cloneElement:function(e,t,n){(null===e||void 0===e)&&y("267",e);var i=void 0,a=r({},e.props),s=e.key,l=e.ref,u=e._owner;if(null!=t){void 0!==t.ref&&(l=t.ref,u=C.current),void 0!==t.key&&(s=""+t.key);var c=void 0;for(i in e.type&&e.type.defaultProps&&(c=e.type.defaultProps),t)E.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=void 0===t[i]&&void 0!==c?c[i]:t[i])}if(1===(i=arguments.length-2))a.children=n;else if(1<i){c=Array(i);for(var f=0;f<i;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:o,type:e.type,key:s,ref:l,props:a,_owner:u}},createFactory:function(e){var t=T.bind(null,e);return t.type=e,t},isValidElement:L,version:"16.8.6",unstable_ConcurrentMode:h,unstable_Profiler:u,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:S,ReactCurrentOwner:C,assign:r}},U={default:K},V=U&&K||U;e.exports=V.default||V},function(e,t,n){"use strict";var r=n(0),i=n(114),o=n(259);function a(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,i,o,a,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],u=0;(e=Error(t.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}r||a("227");var s=!1,l=null,u=!1,c=null,f={onError:function(e){s=!0,l=e}};function h(e,t,n,r,i,o,a,u,c){s=!1,l=null,function(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}.apply(f,arguments)}var d=null,p={};function m(){if(d)for(var e in p){var t=p[e],n=d.indexOf(e);if(-1<n||a("96",e),!g[n])for(var r in t.extractEvents||a("97",e),g[n]=t,n=t.eventTypes){var i=void 0,o=n[r],s=t,l=r;y.hasOwnProperty(l)&&a("99",l),y[l]=o;var u=o.phasedRegistrationNames;if(u){for(i in u)u.hasOwnProperty(i)&&v(u[i],s,l);i=!0}else o.registrationName?(v(o.registrationName,s,l),i=!0):i=!1;i||a("98",r,e)}}}function v(e,t,n){_[e]&&a("100",e),_[e]=t,b[e]=t.eventTypes[n].dependencies}var g=[],y={},_={},b={},w=null,x=null,A=null;function M(e,t,n){var r=e.type||"unknown-event";e.currentTarget=A(n),function(e,t,n,r,i,o,f,d,p){if(h.apply(this,arguments),s){if(s){var m=l;s=!1,l=null}else a("198"),m=void 0;u||(u=!0,c=m)}}(r,t,void 0,e),e.currentTarget=null}function S(e,t){return null==t&&a("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function C(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var E=null;function I(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)M(e,t[r],n[r]);else t&&M(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var T={injectEventPluginOrder:function(e){d&&a("101"),d=Array.prototype.slice.call(e),m()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];p.hasOwnProperty(t)&&p[t]===r||(p[t]&&a("102",t),p[t]=r,n=!0)}n&&m()}};function L(e,t){var n=e.stateNode;if(!n)return null;var r=w(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}return e?null:(n&&"function"!==typeof n&&a("231",t,typeof n),n)}function z(e){if(null!==e&&(E=S(E,e)),e=E,E=null,e&&(C(e,I),E&&a("95"),u))throw e=c,u=!1,c=null,e}var k=Math.random().toString(36).slice(2),D="__reactInternalInstance$"+k,O="__reactEventHandlers$"+k;function N(e){if(e[D])return e[D];for(;!e[D];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[D]).tag||6===e.tag?e:null}function j(e){return!(e=e[D])||5!==e.tag&&6!==e.tag?null:e}function P(e){if(5===e.tag||6===e.tag)return e.stateNode;a("33")}function R(e){return e[O]||null}function $(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function F(e,t,n){(t=L(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=S(n._dispatchListeners,t),n._dispatchInstances=S(n._dispatchInstances,e))}function K(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=$(t);for(t=n.length;0<t--;)F(n[t],"captured",e);for(t=0;t<n.length;t++)F(n[t],"bubbled",e)}}function U(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=L(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=S(n._dispatchListeners,t),n._dispatchInstances=S(n._dispatchInstances,e))}function V(e){e&&e.dispatchConfig.registrationName&&U(e._targetInst,null,e)}function B(e){C(e,K)}var H=!("undefined"===typeof window||!window.document||!window.document.createElement);function G(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Q={animationend:G("Animation","AnimationEnd"),animationiteration:G("Animation","AnimationIteration"),animationstart:G("Animation","AnimationStart"),transitionend:G("Transition","TransitionEnd")},q={},W={};function Y(e){if(q[e])return q[e];if(!Q[e])return e;var t,n=Q[e];for(t in n)if(n.hasOwnProperty(t)&&t in W)return q[e]=n[t];return e}H&&(W=document.createElement("div").style,"AnimationEvent"in window||(delete Q.animationend.animation,delete Q.animationiteration.animation,delete Q.animationstart.animation),"TransitionEvent"in window||delete Q.transitionend.transition);var X=Y("animationend"),J=Y("animationiteration"),Z=Y("animationstart"),ee=Y("transitionend"),te="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ne=null,re=null,ie=null;function oe(){if(ie)return ie;var e,t,n=re,r=n.length,i="value"in ne?ne.value:ne.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return ie=i.slice(e,1<t?1-t:void 0)}function ae(){return!0}function se(){return!1}function le(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ae:se,this.isPropagationStopped=se,this}function ue(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function ce(e){e instanceof this||a("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function fe(e){e.eventPool=[],e.getPooled=ue,e.release=ce}i(le.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ae)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ae)},persist:function(){this.isPersistent=ae},isPersistent:se,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=se,this._dispatchInstances=this._dispatchListeners=null}}),le.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},le.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,fe(n),n},fe(le);var he=le.extend({data:null}),de=le.extend({data:null}),pe=[9,13,27,32],me=H&&"CompositionEvent"in window,ve=null;H&&"documentMode"in document&&(ve=document.documentMode);var ge=H&&"TextEvent"in window&&!ve,ye=H&&(!me||ve&&8<ve&&11>=ve),_e=String.fromCharCode(32),be={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},we=!1;function xe(e,t){switch(e){case"keyup":return-1!==pe.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Ae(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Me=!1;var Se={eventTypes:be,extractEvents:function(e,t,n,r){var i=void 0,o=void 0;if(me)e:{switch(e){case"compositionstart":i=be.compositionStart;break e;case"compositionend":i=be.compositionEnd;break e;case"compositionupdate":i=be.compositionUpdate;break e}i=void 0}else Me?xe(e,n)&&(i=be.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=be.compositionStart);return i?(ye&&"ko"!==n.locale&&(Me||i!==be.compositionStart?i===be.compositionEnd&&Me&&(o=oe()):(re="value"in(ne=r)?ne.value:ne.textContent,Me=!0)),i=he.getPooled(i,t,n,r),o?i.data=o:null!==(o=Ae(n))&&(i.data=o),B(i),o=i):o=null,(e=ge?function(e,t){switch(e){case"compositionend":return Ae(t);case"keypress":return 32!==t.which?null:(we=!0,_e);case"textInput":return(e=t.data)===_e&&we?null:e;default:return null}}(e,n):function(e,t){if(Me)return"compositionend"===e||!me&&xe(e,t)?(e=oe(),ie=re=ne=null,Me=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ye&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=de.getPooled(be.beforeInput,t,n,r)).data=e,B(t)):t=null,null===o?t:null===t?o:[o,t]}},Ce=null,Ee=null,Ie=null;function Te(e){if(e=x(e)){"function"!==typeof Ce&&a("280");var t=w(e.stateNode);Ce(e.stateNode,e.type,t)}}function Le(e){Ee?Ie?Ie.push(e):Ie=[e]:Ee=e}function ze(){if(Ee){var e=Ee,t=Ie;if(Ie=Ee=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function ke(e,t){return e(t)}function De(e,t,n){return e(t,n)}function Oe(){}var Ne=!1;function je(e,t){if(Ne)return e(t);Ne=!0;try{return ke(e,t)}finally{Ne=!1,(null!==Ee||null!==Ie)&&(Oe(),ze())}}var Pe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Re(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pe[e.type]:"textarea"===t}function $e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Fe(e){if(!H)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}function Ke(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ue(e){e._valueTracker||(e._valueTracker=function(e){var t=Ke(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ve(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ke(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}var Be=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Be.hasOwnProperty("ReactCurrentDispatcher")||(Be.ReactCurrentDispatcher={current:null});var He=/^(.*)[\\\/]/,Ge="function"===typeof Symbol&&Symbol.for,Qe=Ge?Symbol.for("react.element"):60103,qe=Ge?Symbol.for("react.portal"):60106,We=Ge?Symbol.for("react.fragment"):60107,Ye=Ge?Symbol.for("react.strict_mode"):60108,Xe=Ge?Symbol.for("react.profiler"):60114,Je=Ge?Symbol.for("react.provider"):60109,Ze=Ge?Symbol.for("react.context"):60110,et=Ge?Symbol.for("react.concurrent_mode"):60111,tt=Ge?Symbol.for("react.forward_ref"):60112,nt=Ge?Symbol.for("react.suspense"):60113,rt=Ge?Symbol.for("react.memo"):60115,it=Ge?Symbol.for("react.lazy"):60116,ot="function"===typeof Symbol&&Symbol.iterator;function at(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=ot&&e[ot]||e["@@iterator"])?e:null}function st(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case et:return"ConcurrentMode";case We:return"Fragment";case qe:return"Portal";case Xe:return"Profiler";case Ye:return"StrictMode";case nt:return"Suspense"}if("object"===typeof e)switch(e.$$typeof){case Ze:return"Context.Consumer";case Je:return"Context.Provider";case tt:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case rt:return st(e.type);case it:if(e=1===e._status?e._result:null)return st(e)}return null}function lt(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=st(e.type);n=null,r&&(n=st(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(He,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}var ut=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ct=Object.prototype.hasOwnProperty,ft={},ht={};function dt(e,t,n,r,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pt[e]=new dt(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pt[t]=new dt(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){pt[e]=new dt(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pt[e]=new dt(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pt[e]=new dt(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){pt[e]=new dt(e,3,!0,e,null)}),["capture","download"].forEach(function(e){pt[e]=new dt(e,4,!1,e,null)}),["cols","rows","size","span"].forEach(function(e){pt[e]=new dt(e,6,!1,e,null)}),["rowSpan","start"].forEach(function(e){pt[e]=new dt(e,5,!1,e.toLowerCase(),null)});var mt=/[\-:]([a-z])/g;function vt(e){return e[1].toUpperCase()}function gt(e,t,n,r){var i=pt.hasOwnProperty(t)?pt[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!ct.call(ht,e)||!ct.call(ft,e)&&(ut.test(e)?ht[e]=!0:(ft[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function yt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function _t(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function bt(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=yt(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function wt(e,t){null!=(t=t.checked)&&gt(e,"checked",t,!1)}function xt(e,t){wt(e,t);var n=yt(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Mt(e,t.type,n):t.hasOwnProperty("defaultValue")&&Mt(e,t.type,yt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function At(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Mt(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mt,vt);pt[t]=new dt(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mt,vt);pt[t]=new dt(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mt,vt);pt[t]=new dt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),["tabIndex","crossOrigin"].forEach(function(e){pt[e]=new dt(e,1,!1,e.toLowerCase(),null)});var St={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Ct(e,t,n){return(e=le.getPooled(St.change,e,t,n)).type="change",Le(n),B(e),e}var Et=null,It=null;function Tt(e){z(e)}function Lt(e){if(Ve(P(e)))return e}function zt(e,t){if("change"===e)return t}var kt=!1;function Dt(){Et&&(Et.detachEvent("onpropertychange",Ot),It=Et=null)}function Ot(e){"value"===e.propertyName&&Lt(It)&&je(Tt,e=Ct(It,e,$e(e)))}function Nt(e,t,n){"focus"===e?(Dt(),It=n,(Et=t).attachEvent("onpropertychange",Ot)):"blur"===e&&Dt()}function jt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Lt(It)}function Pt(e,t){if("click"===e)return Lt(t)}function Rt(e,t){if("input"===e||"change"===e)return Lt(t)}H&&(kt=Fe("input")&&(!document.documentMode||9<document.documentMode));var $t={eventTypes:St,_isInputEventSupported:kt,extractEvents:function(e,t,n,r){var i=t?P(t):window,o=void 0,a=void 0,s=i.nodeName&&i.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===i.type?o=zt:Re(i)?kt?o=Rt:(o=jt,a=Nt):(s=i.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Pt),o&&(o=o(e,t)))return Ct(o,n,r);a&&a(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Mt(i,"number",i.value)}},Ft=le.extend({view:null,detail:null}),Kt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ut(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Kt[e])&&!!t[e]}function Vt(){return Ut}var Bt=0,Ht=0,Gt=!1,Qt=!1,qt=Ft.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Vt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Bt;return Bt=e.screenX,Gt?"mousemove"===e.type?e.screenX-t:0:(Gt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Ht;return Ht=e.screenY,Qt?"mousemove"===e.type?e.screenY-t:0:(Qt=!0,0)}}),Wt=qt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Yt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Xt={eventTypes:Yt,extractEvents:function(e,t,n,r){var i="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(i&&(n.relatedTarget||n.fromElement)||!o&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=t,t=(t=n.relatedTarget||n.toElement)?N(t):null):o=null,o===t)return null;var a=void 0,s=void 0,l=void 0,u=void 0;"mouseout"===e||"mouseover"===e?(a=qt,s=Yt.mouseLeave,l=Yt.mouseEnter,u="mouse"):"pointerout"!==e&&"pointerover"!==e||(a=Wt,s=Yt.pointerLeave,l=Yt.pointerEnter,u="pointer");var c=null==o?i:P(o);if(i=null==t?i:P(t),(e=a.getPooled(s,o,n,r)).type=u+"leave",e.target=c,e.relatedTarget=i,(n=a.getPooled(l,t,n,r)).type=u+"enter",n.target=i,n.relatedTarget=c,r=t,o&&r)e:{for(i=r,u=0,a=t=o;a;a=$(a))u++;for(a=0,l=i;l;l=$(l))a++;for(;0<u-a;)t=$(t),u--;for(;0<a-u;)i=$(i),a--;for(;u--;){if(t===i||t===i.alternate)break e;t=$(t),i=$(i)}t=null}else t=null;for(i=t,t=[];o&&o!==i&&(null===(u=o.alternate)||u!==i);)t.push(o),o=$(o);for(o=[];r&&r!==i&&(null===(u=r.alternate)||u!==i);)o.push(r),r=$(r);for(r=0;r<t.length;r++)U(t[r],"bubbled",e);for(r=o.length;0<r--;)U(o[r],"captured",n);return[e,n]}};function Jt(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}var Zt=Object.prototype.hasOwnProperty;function en(e,t){if(Jt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Zt.call(t,n[r])||!Jt(e[n[r]],t[n[r]]))return!1;return!0}function tn(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!==(2&t.effectTag))return 1;for(;t.return;)if(0!==(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function nn(e){2!==tn(e)&&a("188")}function rn(e){if(!(e=function(e){var t=e.alternate;if(!t)return 3===(t=tn(e))&&a("188"),1===t?null:e;for(var n=e,r=t;;){var i=n.return,o=i?i.alternate:null;if(!i||!o)break;if(i.child===o.child){for(var s=i.child;s;){if(s===n)return nn(i),e;if(s===r)return nn(i),t;s=s.sibling}a("188")}if(n.return!==r.return)n=i,r=o;else{s=!1;for(var l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}s||a("189")}}n.alternate!==r&&a("190")}return 3!==n.tag&&a("188"),n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var on=le.extend({animationName:null,elapsedTime:null,pseudoElement:null}),an=le.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sn=Ft.extend({relatedTarget:null});function ln(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn=Ft.extend({key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ln(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?cn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Vt,charCode:function(e){return"keypress"===e.type?ln(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ln(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),hn=qt.extend({dataTransfer:null}),dn=Ft.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Vt}),pn=le.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),mn=qt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),vn=[["abort","abort"],[X,"animationEnd"],[J,"animationIteration"],[Z,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[ee,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],gn={},yn={};function _n(e,t){var n=e[0],r="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:t},gn[e]=t,yn[n]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){_n(e,!0)}),vn.forEach(function(e){_n(e,!1)});var bn={eventTypes:gn,isInteractiveTopLevelEventType:function(e){return void 0!==(e=yn[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var i=yn[e];if(!i)return null;switch(e){case"keypress":if(0===ln(n))return null;case"keydown":case"keyup":e=fn;break;case"blur":case"focus":e=sn;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=qt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=dn;break;case X:case J:case Z:e=on;break;case ee:e=pn;break;case"scroll":e=Ft;break;case"wheel":e=mn;break;case"copy":case"cut":case"paste":e=an;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Wt;break;default:e=le}return B(t=e.getPooled(i,t,n,r)),t}},wn=bn.isInteractiveTopLevelEventType,xn=[];function An(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;e.ancestors.push(n),n=N(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=$e(e.nativeEvent);r=e.topLevelType;for(var o=e.nativeEvent,a=null,s=0;s<g.length;s++){var l=g[s];l&&(l=l.extractEvents(r,t,o,i))&&(a=S(a,l))}z(a)}}var Mn=!0;function Sn(e,t){if(!t)return null;var n=(wn(e)?En:In).bind(null,e);t.addEventListener(e,n,!1)}function Cn(e,t){if(!t)return null;var n=(wn(e)?En:In).bind(null,e);t.addEventListener(e,n,!0)}function En(e,t){De(In,e,t)}function In(e,t){if(Mn){var n=$e(t);if(null===(n=N(n))||"number"!==typeof n.tag||2===tn(n)||(n=null),xn.length){var r=xn.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{je(An,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>xn.length&&xn.push(e)}}}var Tn={},Ln=0,zn="_reactListenersID"+(""+Math.random()).slice(2);function kn(e){return Object.prototype.hasOwnProperty.call(e,zn)||(e[zn]=Ln++,Tn[e[zn]]={}),Tn[e[zn]]}function Dn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function On(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nn(e,t){var n,r=On(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=On(r)}}function jn(){for(var e=window,t=Dn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Dn((e=t.contentWindow).document)}return t}function Pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Rn(e){var t=jn(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==r&&Pn(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Nn(n,o);var a=Nn(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $n=H&&"documentMode"in document&&11>=document.documentMode,Fn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Kn=null,Un=null,Vn=null,Bn=!1;function Hn(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Bn||null==Kn||Kn!==Dn(n)?null:("selectionStart"in(n=Kn)&&Pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Vn&&en(Vn,n)?null:(Vn=n,(e=le.getPooled(Fn.select,Un,e,t)).type="select",e.target=Kn,B(e),e))}var Gn={eventTypes:Fn,extractEvents:function(e,t,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){e:{o=kn(o),i=b.onSelect;for(var a=0;a<i.length;a++){var s=i[a];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break e}}o=!0}i=!o}if(i)return null;switch(o=t?P(t):window,e){case"focus":(Re(o)||"true"===o.contentEditable)&&(Kn=o,Un=t,Vn=null);break;case"blur":Vn=Un=Kn=null;break;case"mousedown":Bn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Bn=!1,Hn(n,r);case"selectionchange":if($n)break;case"keydown":case"keyup":return Hn(n,r)}return null}};function Qn(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function qn(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+yt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Wn(e,t){return null!=t.dangerouslySetInnerHTML&&a("91"),i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yn(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&a("92"),Array.isArray(t)&&(1>=t.length||a("93"),t=t[0]),n=t),null==n&&(n="")),e._wrapperState={initialValue:yt(n)}}function Xn(e,t){var n=yt(t.value),r=yt(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Jn(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}T.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w=R,x=j,A=P,T.injectEventPluginsByName({SimpleEventPlugin:bn,EnterLeaveEventPlugin:Xt,ChangeEventPlugin:$t,SelectEventPlugin:Gn,BeforeInputEventPlugin:Se});var Zn={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function er(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tr(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?er(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var nr,rr=void 0,ir=(nr=function(e,t){if(e.namespaceURI!==Zn.svg||"innerHTML"in e)e.innerHTML=t;else{for((rr=rr||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=rr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return nr(e,t)})}:nr);function or(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ar={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sr=["Webkit","ms","Moz","O"];function lr(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ar.hasOwnProperty(e)&&ar[e]?(""+t).trim():t+"px"}function ur(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=lr(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ar).forEach(function(e){sr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ar[t]=ar[e]})});var cr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fr(e,t){t&&(cr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&a("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&a("60"),"object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||a("61")),null!=t.style&&"object"!==typeof t.style&&a("62",""))}function hr(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function dr(e,t){var n=kn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=b[t];for(var r=0;r<t.length;r++){var i=t[r];if(!n.hasOwnProperty(i)||!n[i]){switch(i){case"scroll":Cn("scroll",e);break;case"focus":case"blur":Cn("focus",e),Cn("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":Fe(i)&&Cn(i,e);break;case"invalid":case"submit":case"reset":break;default:-1===te.indexOf(i)&&Sn(i,e)}n[i]=!0}}}function pr(){}var mr=null,vr=null;function gr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function yr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var _r="function"===typeof setTimeout?setTimeout:void 0,br="function"===typeof clearTimeout?clearTimeout:void 0,wr=o.unstable_scheduleCallback,xr=o.unstable_cancelCallback;function Ar(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function Mr(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var Sr=[],Cr=-1;function Er(e){0>Cr||(e.current=Sr[Cr],Sr[Cr]=null,Cr--)}function Ir(e,t){Sr[++Cr]=e.current,e.current=t}var Tr={},Lr={current:Tr},zr={current:!1},kr=Tr;function Dr(e,t){var n=e.type.contextTypes;if(!n)return Tr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Or(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Nr(e){Er(zr),Er(Lr)}function jr(e){Er(zr),Er(Lr)}function Pr(e,t,n){Lr.current!==Tr&&a("168"),Ir(Lr,t),Ir(zr,n)}function Rr(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())o in e||a("108",st(t)||"Unknown",o);return i({},n,r)}function $r(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Tr,kr=Lr.current,Ir(Lr,t),Ir(zr,zr.current),!0}function Fr(e,t,n){var r=e.stateNode;r||a("169"),n?(t=Rr(e,t,kr),r.__reactInternalMemoizedMergedChildContext=t,Er(zr),Er(Lr),Ir(Lr,t)):Er(zr),Ir(zr,n)}var Kr=null,Ur=null;function Vr(e){return function(t){try{return e(t)}catch(n){}}}function Br(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Hr(e,t,n,r){return new Br(e,t,n,r)}function Gr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Qr(e,t){var n=e.alternate;return null===n?((n=Hr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.contextDependencies=e.contextDependencies,n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qr(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Gr(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case We:return Wr(n.children,i,o,t);case et:return Yr(n,3|i,o,t);case Ye:return Yr(n,2|i,o,t);case Xe:return(e=Hr(12,n,t,4|i)).elementType=Xe,e.type=Xe,e.expirationTime=o,e;case nt:return(e=Hr(13,n,t,i)).elementType=nt,e.type=nt,e.expirationTime=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case Je:s=10;break e;case Ze:s=9;break e;case tt:s=11;break e;case rt:s=14;break e;case it:s=16,r=null;break e}a("130",null==e?e:typeof e,"")}return(t=Hr(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Wr(e,t,n,r){return(e=Hr(7,e,r,t)).expirationTime=n,e}function Yr(e,t,n,r){return e=Hr(8,e,r,t),t=0===(1&t)?Ye:et,e.elementType=t,e.type=t,e.expirationTime=n,e}function Xr(e,t,n){return(e=Hr(6,e,null,t)).expirationTime=n,e}function Jr(e,t,n){return(t=Hr(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zr(e,t){e.didError=!1;var n=e.earliestPendingTime;0===n?e.earliestPendingTime=e.latestPendingTime=t:n<t?e.earliestPendingTime=t:e.latestPendingTime>t&&(e.latestPendingTime=t),ni(t,e)}function ei(e,t){e.didError=!1,e.latestPingedTime>=t&&(e.latestPingedTime=0);var n=e.earliestPendingTime,r=e.latestPendingTime;n===t?e.earliestPendingTime=r===t?e.latestPendingTime=0:r:r===t&&(e.latestPendingTime=n),n=e.earliestSuspendedTime,r=e.latestSuspendedTime,0===n?e.earliestSuspendedTime=e.latestSuspendedTime=t:n<t?e.earliestSuspendedTime=t:r>t&&(e.latestSuspendedTime=t),ni(t,e)}function ti(e,t){var n=e.earliestPendingTime;return n>t&&(t=n),(e=e.earliestSuspendedTime)>t&&(t=e),t}function ni(e,t){var n=t.earliestSuspendedTime,r=t.latestSuspendedTime,i=t.earliestPendingTime,o=t.latestPingedTime;0===(i=0!==i?i:o)&&(0===e||r<e)&&(i=r),0!==(e=i)&&n>e&&(e=n),t.nextExpirationTimeToWorkOn=i,t.expirationTime=e}function ri(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var ii=(new r.Component).refs;function oi(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var ai={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===tn(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=xs(),i=Yo(r=Wa(r,e));i.payload=t,void 0!==n&&null!==n&&(i.callback=n),Va(),Jo(e,i),Ja(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=xs(),i=Yo(r=Wa(r,e));i.tag=Bo,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),Va(),Jo(e,i),Ja(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=xs(),r=Yo(n=Wa(n,e));r.tag=Ho,void 0!==t&&null!==t&&(r.callback=t),Va(),Jo(e,r),Ja(e,n)}};function si(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!en(n,r)||!en(i,o))}function li(e,t,n){var r=!1,i=Tr,o=t.contextType;return"object"===typeof o&&null!==o?o=Uo(o):(i=Or(t)?kr:Lr.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Dr(e,i):Tr),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ai,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ui(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ai.enqueueReplaceState(t,t.state,null)}function ci(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ii;var o=t.contextType;"object"===typeof o&&null!==o?i.context=Uo(o):(o=Or(t)?kr:Lr.current,i.context=Dr(e,o)),null!==(o=e.updateQueue)&&(na(e,o,n,i,r),i.state=e.memoizedState),"function"===typeof(o=t.getDerivedStateFromProps)&&(oi(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ai.enqueueReplaceState(i,i.state,null),null!==(o=e.updateQueue)&&(na(e,o,n,i,r),i.state=e.memoizedState)),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var fi=Array.isArray;function hi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){n=n._owner;var r=void 0;n&&(1!==n.tag&&a("309"),r=n.stateNode),r||a("147",e);var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===ii&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}"string"!==typeof e&&a("284"),n._owner||a("290",e)}return e}function di(e,t){"textarea"!==e.type&&a("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function pi(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,n){return(e=Qr(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Xr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=hi(e,t,n),r.return=e,r):((r=qr(n.type,n.key,n.props,null,e.mode,r)).ref=hi(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Jr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Wr(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case Qe:return(n=qr(t.type,t.key,t.props,null,e.mode,n)).ref=hi(e,null,t),n.return=e,n;case qe:return(t=Jr(t,e.mode,n)).return=e,t}if(fi(t)||at(t))return(t=Wr(t,e.mode,n,null)).return=e,t;di(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case Qe:return n.key===i?n.type===We?f(e,t,n.props.children,r,i):u(e,t,n,r):null;case qe:return n.key===i?c(e,t,n,r):null}if(fi(n)||at(n))return null!==i?null:f(e,t,n,r,null);di(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case Qe:return e=e.get(null===r.key?n:r.key)||null,r.type===We?f(t,e,r.props.children,i,r.key):u(t,e,r,i);case qe:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(fi(r)||at(r))return f(t,e=e.get(n)||null,r,i,null);di(t,r)}return null}function m(i,a,s,l){for(var u=null,c=null,f=a,m=a=0,v=null;null!==f&&m<s.length;m++){f.index>m?(v=f,f=null):v=f.sibling;var g=d(i,f,s[m],l);if(null===g){null===f&&(f=v);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,m),null===c?u=g:c.sibling=g,c=g,f=v}if(m===s.length)return n(i,f),u;if(null===f){for(;m<s.length;m++)(f=h(i,s[m],l))&&(a=o(f,a,m),null===c?u=f:c.sibling=f,c=f);return u}for(f=r(i,f);m<s.length;m++)(v=p(f,i,m,s[m],l))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),a=o(v,a,m),null===c?u=v:c.sibling=v,c=v);return e&&f.forEach(function(e){return t(i,e)}),u}function v(i,s,l,u){var c=at(l);"function"!==typeof c&&a("150"),null==(l=c.call(l))&&a("151");for(var f=c=null,m=s,v=s=0,g=null,y=l.next();null!==m&&!y.done;v++,y=l.next()){m.index>v?(g=m,m=null):g=m.sibling;var _=d(i,m,y.value,u);if(null===_){m||(m=g);break}e&&m&&null===_.alternate&&t(i,m),s=o(_,s,v),null===f?c=_:f.sibling=_,f=_,m=g}if(y.done)return n(i,m),c;if(null===m){for(;!y.done;v++,y=l.next())null!==(y=h(i,y.value,u))&&(s=o(y,s,v),null===f?c=y:f.sibling=y,f=y);return c}for(m=r(i,m);!y.done;v++,y=l.next())null!==(y=p(m,i,v,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=o(y,s,v),null===f?c=y:f.sibling=y,f=y);return e&&m.forEach(function(e){return t(i,e)}),c}return function(e,r,o,l){var u="object"===typeof o&&null!==o&&o.type===We&&null===o.key;u&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case Qe:e:{for(c=o.key,u=r;null!==u;){if(u.key===c){if(7===u.tag?o.type===We:u.elementType===o.type){n(e,u.sibling),(r=i(u,o.type===We?o.props.children:o.props)).ref=hi(e,u,o),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}o.type===We?((r=Wr(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=qr(o.type,o.key,o.props,null,e.mode,l)).ref=hi(e,r,o),l.return=e,e=l)}return s(e);case qe:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Jr(o,e.mode,l)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Xr(o,e.mode,l)).return=e,e=r),s(e);if(fi(o))return m(e,r,o,l);if(at(o))return v(e,r,o,l);if(c&&di(e,o),"undefined"===typeof o&&!u)switch(e.tag){case 1:case 0:a("152",(l=e.type).displayName||l.name||"Component")}return n(e,r)}}var mi=pi(!0),vi=pi(!1),gi={},yi={current:gi},_i={current:gi},bi={current:gi};function wi(e){return e===gi&&a("174"),e}function xi(e,t){Ir(bi,t),Ir(_i,e),Ir(yi,gi);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tr(null,"");break;default:t=tr(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}Er(yi),Ir(yi,t)}function Ai(e){Er(yi),Er(_i),Er(bi)}function Mi(e){wi(bi.current);var t=wi(yi.current),n=tr(t,e.type);t!==n&&(Ir(_i,e),Ir(yi,n))}function Si(e){_i.current===e&&(Er(yi),Er(_i))}var Ci=0,Ei=2,Ii=4,Ti=8,Li=16,zi=32,ki=64,Di=128,Oi=Be.ReactCurrentDispatcher,Ni=0,ji=null,Pi=null,Ri=null,$i=null,Fi=null,Ki=null,Ui=0,Vi=null,Bi=0,Hi=!1,Gi=null,Qi=0;function qi(){a("321")}function Wi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jt(e[n],t[n]))return!1;return!0}function Yi(e,t,n,r,i,o){if(Ni=o,ji=t,Ri=null!==e?e.memoizedState:null,Oi.current=null===Ri?uo:co,t=n(r,i),Hi){do{Hi=!1,Qi+=1,Ri=null!==e?e.memoizedState:null,Ki=$i,Vi=Fi=Pi=null,Oi.current=co,t=n(r,i)}while(Hi);Gi=null,Qi=0}return Oi.current=lo,(e=ji).memoizedState=$i,e.expirationTime=Ui,e.updateQueue=Vi,e.effectTag|=Bi,e=null!==Pi&&null!==Pi.next,Ni=0,Ki=Fi=$i=Ri=Pi=ji=null,Ui=0,Vi=null,Bi=0,e&&a("300"),t}function Xi(){Oi.current=lo,Ni=0,Ki=Fi=$i=Ri=Pi=ji=null,Ui=0,Vi=null,Bi=0,Hi=!1,Gi=null,Qi=0}function Ji(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Fi?$i=Fi=e:Fi=Fi.next=e,Fi}function Zi(){if(null!==Ki)Ki=(Fi=Ki).next,Ri=null!==(Pi=Ri)?Pi.next:null;else{null===Ri&&a("310");var e={memoizedState:(Pi=Ri).memoizedState,baseState:Pi.baseState,queue:Pi.queue,baseUpdate:Pi.baseUpdate,next:null};Fi=null===Fi?$i=e:Fi.next=e,Ri=Pi.next}return Fi}function eo(e,t){return"function"===typeof t?t(e):t}function to(e){var t=Zi(),n=t.queue;if(null===n&&a("311"),n.lastRenderedReducer=e,0<Qi){var r=n.dispatch;if(null!==Gi){var i=Gi.get(n);if(void 0!==i){Gi.delete(n);var o=t.memoizedState;do{o=e(o,i.action),i=i.next}while(null!==i);return Jt(o,t.memoizedState)||(xo=!0),t.memoizedState=o,t.baseUpdate===n.last&&(t.baseState=o),n.lastRenderedState=o,[o,r]}}return[t.memoizedState,r]}r=n.last;var s=t.baseUpdate;if(o=t.baseState,null!==s?(null!==r&&(r.next=null),r=s.next):r=null!==r?r.next:null,null!==r){var l=i=null,u=r,c=!1;do{var f=u.expirationTime;f<Ni?(c||(c=!0,l=s,i=o),f>Ui&&(Ui=f)):o=u.eagerReducer===e?u.eagerState:e(o,u.action),s=u,u=u.next}while(null!==u&&u!==r);c||(l=s,i=o),Jt(o,t.memoizedState)||(xo=!0),t.memoizedState=o,t.baseUpdate=l,t.baseState=i,n.lastRenderedState=o}return[t.memoizedState,n.dispatch]}function no(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===Vi?(Vi={lastEffect:null}).lastEffect=e.next=e:null===(t=Vi.lastEffect)?Vi.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,Vi.lastEffect=e),e}function ro(e,t,n,r){var i=Ji();Bi|=e,i.memoizedState=no(t,n,void 0,void 0===r?null:r)}function io(e,t,n,r){var i=Zi();r=void 0===r?null:r;var o=void 0;if(null!==Pi){var a=Pi.memoizedState;if(o=a.destroy,null!==r&&Wi(r,a.deps))return void no(Ci,n,o,r)}Bi|=e,i.memoizedState=no(t,n,o,r)}function oo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ao(){}function so(e,t,n){25>Qi||a("301");var r=e.alternate;if(e===ji||null!==r&&r===ji)if(Hi=!0,e={expirationTime:Ni,action:n,eagerReducer:null,eagerState:null,next:null},null===Gi&&(Gi=new Map),void 0===(n=Gi.get(t)))Gi.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{Va();var i=xs(),o={expirationTime:i=Wa(i,e),action:n,eagerReducer:null,eagerState:null,next:null},s=t.last;if(null===s)o.next=o;else{var l=s.next;null!==l&&(o.next=l),s.next=o}if(t.last=o,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.lastRenderedReducer))try{var u=t.lastRenderedState,c=r(u,n);if(o.eagerReducer=r,o.eagerState=c,Jt(c,u))return}catch(f){}Ja(e,i)}}var lo={readContext:Uo,useCallback:qi,useContext:qi,useEffect:qi,useImperativeHandle:qi,useLayoutEffect:qi,useMemo:qi,useReducer:qi,useRef:qi,useState:qi,useDebugValue:qi},uo={readContext:Uo,useCallback:function(e,t){return Ji().memoizedState=[e,void 0===t?null:t],e},useContext:Uo,useEffect:function(e,t){return ro(516,Di|ki,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ro(4,Ii|zi,oo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ro(4,Ii|zi,e,t)},useMemo:function(e,t){var n=Ji();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ji();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=so.bind(null,ji,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ji().memoizedState=e},useState:function(e){var t=Ji();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:eo,lastRenderedState:e}).dispatch=so.bind(null,ji,e),[t.memoizedState,e]},useDebugValue:ao},co={readContext:Uo,useCallback:function(e,t){var n=Zi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Wi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)},useContext:Uo,useEffect:function(e,t){return io(516,Di|ki,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,io(4,Ii|zi,oo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return io(4,Ii|zi,e,t)},useMemo:function(e,t){var n=Zi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Wi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:to,useRef:function(){return Zi().memoizedState},useState:function(e){return to(eo)},useDebugValue:ao},fo=null,ho=null,po=!1;function mo(e,t){var n=Hr(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function vo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function go(e){if(po){var t=ho;if(t){var n=t;if(!vo(e,t)){if(!(t=Ar(n))||!vo(e,t))return e.effectTag|=2,po=!1,void(fo=e);mo(fo,n)}fo=e,ho=Mr(t)}else e.effectTag|=2,po=!1,fo=e}}function yo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e.return;fo=e}function _o(e){if(e!==fo)return!1;if(!po)return yo(e),po=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!yr(t,e.memoizedProps))for(t=ho;t;)mo(e,t),t=Ar(t);return yo(e),ho=fo?Ar(e.stateNode):null,!0}function bo(){ho=fo=null,po=!1}var wo=Be.ReactCurrentOwner,xo=!1;function Ao(e,t,n,r){t.child=null===e?vi(t,null,n,r):mi(t,e.child,n,r)}function Mo(e,t,n,r,i){n=n.render;var o=t.ref;return Ko(t,i),r=Yi(e,t,n,r,o,i),null===e||xo?(t.effectTag|=1,Ao(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Do(e,t,i))}function So(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Gr(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=qr(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Co(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:en)(i,r)&&e.ref===t.ref)?Do(e,t,o):(t.effectTag|=1,(e=Qr(a,r)).ref=t.ref,e.return=t,t.child=e)}function Co(e,t,n,r,i,o){return null!==e&&en(e.memoizedProps,r)&&e.ref===t.ref&&(xo=!1,i<o)?Do(e,t,o):Io(e,t,n,r,o)}function Eo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Io(e,t,n,r,i){var o=Or(n)?kr:Lr.current;return o=Dr(t,o),Ko(t,i),n=Yi(e,t,n,r,o,i),null===e||xo?(t.effectTag|=1,Ao(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Do(e,t,i))}function To(e,t,n,r,i){if(Or(n)){var o=!0;$r(t)}else o=!1;if(Ko(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),li(t,n,r),ci(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=Uo(u):u=Dr(t,u=Or(n)?kr:Lr.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&ui(t,a,r,u),Qo=!1;var h=t.memoizedState;l=a.state=h;var d=t.updateQueue;null!==d&&(na(t,d,r,a,i),l=t.memoizedState),s!==r||h!==l||zr.current||Qo?("function"===typeof c&&(oi(t,n,c,r),l=t.memoizedState),(s=Qo||si(t,n,s,r,h,l,u))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"===typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,s=t.memoizedProps,a.props=t.type===t.elementType?s:ri(t.type,s),l=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=Uo(u):u=Dr(t,u=Or(n)?kr:Lr.current),(f="function"===typeof(c=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&ui(t,a,r,u),Qo=!1,l=t.memoizedState,h=a.state=l,null!==(d=t.updateQueue)&&(na(t,d,r,a,i),h=t.memoizedState),s!==r||l!==h||zr.current||Qo?("function"===typeof c&&(oi(t,n,c,r),h=t.memoizedState),(c=Qo||si(t,n,s,r,l,h,u))?(f||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,u)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return Lo(e,t,n,r,o,i)}function Lo(e,t,n,r,i,o){Eo(e,t);var a=0!==(64&t.effectTag);if(!r&&!a)return i&&Fr(t,n,!1),Do(e,t,o);r=t.stateNode,wo.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=mi(t,e.child,null,o),t.child=mi(t,null,s,o)):Ao(e,t,s,o),t.memoizedState=r.state,i&&Fr(t,n,!0),t.child}function zo(e){var t=e.stateNode;t.pendingContext?Pr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pr(0,t.context,!1),xi(e,t.containerInfo)}function ko(e,t,n){var r=t.mode,i=t.pendingProps,o=t.memoizedState;if(0===(64&t.effectTag)){o=null;var a=!1}else o={timedOutAt:null!==o?o.timedOutAt:0},a=!0,t.effectTag&=-65;if(null===e)if(a){var s=i.fallback;e=Wr(null,r,0,null),0===(1&t.mode)&&(e.child=null!==t.memoizedState?t.child.child:t.child),r=Wr(s,r,n,null),e.sibling=r,(n=e).return=r.return=t}else n=r=vi(t,null,i.children,n);else null!==e.memoizedState?(s=(r=e.child).sibling,a?(n=i.fallback,i=Qr(r,r.pendingProps),0===(1&t.mode)&&((a=null!==t.memoizedState?t.child.child:t.child)!==r.child&&(i.child=a)),r=i.sibling=Qr(s,n,s.expirationTime),n=i,i.childExpirationTime=0,n.return=r.return=t):n=r=mi(t,r.child,i.children,n)):(s=e.child,a?(a=i.fallback,(i=Wr(null,r,0,null)).child=s,0===(1&t.mode)&&(i.child=null!==t.memoizedState?t.child.child:t.child),(r=i.sibling=Wr(a,r,n,null)).effectTag|=2,n=i,i.childExpirationTime=0,n.return=r.return=t):r=n=mi(t,s,i.children,n)),t.stateNode=e.stateNode;return t.memoizedState=o,t.child=n,r}function Do(e,t,n){if(null!==e&&(t.contextDependencies=e.contextDependencies),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child&&a("153"),null!==t.child){for(n=Qr(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Qr(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function Oo(e,t,n){var r=t.expirationTime;if(null!==e){if(e.memoizedProps!==t.pendingProps||zr.current)xo=!0;else if(r<n){switch(xo=!1,t.tag){case 3:zo(t),bo();break;case 5:Mi(t);break;case 1:Or(t.type)&&$r(t);break;case 4:xi(t,t.stateNode.containerInfo);break;case 10:$o(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?ko(e,t,n):null!==(t=Do(e,t,n))?t.sibling:null}return Do(e,t,n)}}else xo=!1;switch(t.expirationTime=0,t.tag){case 2:r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps;var i=Dr(t,Lr.current);if(Ko(t,n),i=Yi(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,Xi(),Or(r)){var o=!0;$r(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var s=r.getDerivedStateFromProps;"function"===typeof s&&oi(t,r,s,e),i.updater=ai,t.stateNode=i,i._reactInternalFiber=t,ci(t,r,e,n),t=Lo(null,t,r,!0,o,n)}else t.tag=0,Ao(null,t,i,n),t=t.child;return t;case 16:switch(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),o=t.pendingProps,e=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:switch(e._status=0,(t=(t=e._ctor)()).then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)}),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}(i),t.type=e,i=t.tag=function(e){if("function"===typeof e)return Gr(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===tt)return 11;if(e===rt)return 14}return 2}(e),o=ri(e,o),s=void 0,i){case 0:s=Io(null,t,e,o,n);break;case 1:s=To(null,t,e,o,n);break;case 11:s=Mo(null,t,e,o,n);break;case 14:s=So(null,t,e,ri(e.type,o),r,n);break;default:a("306",e,"")}return s;case 0:return r=t.type,i=t.pendingProps,Io(e,t,r,i=t.elementType===r?i:ri(r,i),n);case 1:return r=t.type,i=t.pendingProps,To(e,t,r,i=t.elementType===r?i:ri(r,i),n);case 3:return zo(t),null===(r=t.updateQueue)&&a("282"),i=null!==(i=t.memoizedState)?i.element:null,na(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===i?(bo(),t=Do(e,t,n)):(i=t.stateNode,(i=(null===e||null===e.child)&&i.hydrate)&&(ho=Mr(t.stateNode.containerInfo),fo=t,i=po=!0),i?(t.effectTag|=2,t.child=vi(t,null,r,n)):(Ao(e,t,r,n),bo()),t=t.child),t;case 5:return Mi(t),null===e&&go(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,yr(r,i)?s=null:null!==o&&yr(r,o)&&(t.effectTag|=16),Eo(e,t),1!==n&&1&t.mode&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Ao(e,t,s,n),t=t.child),t;case 6:return null===e&&go(t),null;case 13:return ko(e,t,n);case 4:return xi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=mi(t,null,r,n):Ao(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Mo(e,t,r,i=t.elementType===r?i:ri(r,i),n);case 7:return Ao(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ao(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,$o(t,o=i.value),null!==s){var l=s.value;if(0===(o=Jt(l,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!zr.current){t=Do(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.contextDependencies;if(null!==u){s=l.child;for(var c=u.first;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===l.tag&&((c=Yo(n)).tag=Ho,Jo(l,c)),l.expirationTime<n&&(l.expirationTime=n),null!==(c=l.alternate)&&c.expirationTime<n&&(c.expirationTime=n),c=n;for(var f=l.return;null!==f;){var h=f.alternate;if(f.childExpirationTime<c)f.childExpirationTime=c,null!==h&&h.childExpirationTime<c&&(h.childExpirationTime=c);else{if(!(null!==h&&h.childExpirationTime<c))break;h.childExpirationTime=c}f=f.return}u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}}Ao(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,Ko(t,n),r=r(i=Uo(i,o.unstable_observedBits)),t.effectTag|=1,Ao(e,t,r,n),t.child;case 14:return o=ri(i=t.type,t.pendingProps),So(e,t,i,o=ri(i.type,o),r,n);case 15:return Co(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ri(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Or(r)?(e=!0,$r(t)):e=!1,Ko(t,n),li(t,r,i),ci(t,r,i,n),Lo(null,t,r,!0,e,n)}a("156")}var No={current:null},jo=null,Po=null,Ro=null;function $o(e,t){var n=e.type._context;Ir(No,n._currentValue),n._currentValue=t}function Fo(e){var t=No.current;Er(No),e.type._context._currentValue=t}function Ko(e,t){jo=e,Ro=Po=null;var n=e.contextDependencies;null!==n&&n.expirationTime>=t&&(xo=!0),e.contextDependencies=null}function Uo(e,t){return Ro!==e&&!1!==t&&0!==t&&("number"===typeof t&&1073741823!==t||(Ro=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Po?(null===jo&&a("308"),Po=t,jo.contextDependencies={first:t,expirationTime:0}):Po=Po.next=t),e._currentValue}var Vo=0,Bo=1,Ho=2,Go=3,Qo=!1;function qo(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Wo(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Yo(e){return{expirationTime:e,tag:Vo,payload:null,callback:null,next:null,nextEffect:null}}function Xo(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Jo(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,i=null;null===r&&(r=e.updateQueue=qo(e.memoizedState))}else r=e.updateQueue,i=n.updateQueue,null===r?null===i?(r=e.updateQueue=qo(e.memoizedState),i=n.updateQueue=qo(n.memoizedState)):r=e.updateQueue=Wo(i):null===i&&(i=n.updateQueue=Wo(r));null===i||r===i?Xo(r,t):null===r.lastUpdate||null===i.lastUpdate?(Xo(r,t),Xo(i,t)):(Xo(r,t),i.lastUpdate=t)}function Zo(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=qo(e.memoizedState):ea(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function ea(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=Wo(t)),t}function ta(e,t,n,r,o,a){switch(n.tag){case Bo:return"function"===typeof(e=n.payload)?e.call(a,r,o):e;case Go:e.effectTag=-2049&e.effectTag|64;case Vo:if(null===(o="function"===typeof(e=n.payload)?e.call(a,r,o):e)||void 0===o)break;return i({},r,o);case Ho:Qo=!0}return r}function na(e,t,n,r,i){Qo=!1;for(var o=(t=ea(e,t)).baseState,a=null,s=0,l=t.firstUpdate,u=o;null!==l;){var c=l.expirationTime;c<i?(null===a&&(a=l,o=u),s<c&&(s=c)):(u=ta(e,0,l,u,n,r),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=l:(t.lastEffect.nextEffect=l,t.lastEffect=l))),l=l.next}for(c=null,l=t.firstCapturedUpdate;null!==l;){var f=l.expirationTime;f<i?(null===c&&(c=l,null===a&&(o=u)),s<f&&(s=f)):(u=ta(e,0,l,u,n,r),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=l:(t.lastCapturedEffect.nextEffect=l,t.lastCapturedEffect=l))),l=l.next}null===a&&(t.lastUpdate=null),null===c?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===c&&(o=u),t.baseState=o,t.firstUpdate=a,t.firstCapturedUpdate=c,e.expirationTime=s,e.memoizedState=u}function ra(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),ia(t.firstEffect,n),t.firstEffect=t.lastEffect=null,ia(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function ia(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;"function"!==typeof n&&a("191",n),n.call(r)}e=e.nextEffect}}function oa(e,t){return{value:e,source:t,stack:lt(t)}}function aa(e){e.effectTag|=4}var sa=void 0,la=void 0,ua=void 0,ca=void 0;sa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},la=function(){},ua=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var s=t.stateNode;switch(wi(yi.current),e=null,n){case"input":a=_t(s,a),r=_t(s,r),e=[];break;case"option":a=Qn(s,a),r=Qn(s,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=Wn(s,a),r=Wn(s,r),e=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(s.onclick=pr)}fr(n,r),s=n=void 0;var l=null;for(n in a)if(!r.hasOwnProperty(n)&&a.hasOwnProperty(n)&&null!=a[n])if("style"===n){var u=a[n];for(s in u)u.hasOwnProperty(s)&&(l||(l={}),l[s]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(_.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in r){var c=r[n];if(u=null!=a?a[n]:void 0,r.hasOwnProperty(n)&&c!==u&&(null!=c||null!=u))if("style"===n)if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(l||(l={}),l[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&(l||(l={}),l[s]=c[s])}else l||(e||(e=[]),e.push(n,l)),l=c;else"dangerouslySetInnerHTML"===n?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(n,""+c)):"children"===n?u===c||"string"!==typeof c&&"number"!==typeof c||(e=e||[]).push(n,""+c):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(_.hasOwnProperty(n)?(null!=c&&dr(o,n),e||u===c||(e=[])):(e=e||[]).push(n,c))}l&&(e=e||[]).push("style",l),o=e,(t.updateQueue=o)&&aa(t)}},ca=function(e,t,n,r){n!==r&&aa(t)};var fa="function"===typeof WeakSet?WeakSet:Set;function ha(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=lt(n)),null!==n&&st(n.type),t=t.value,null!==e&&1===e.tag&&st(e.type);try{console.error(t)}catch(i){setTimeout(function(){throw i})}}function da(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){qa(e,n)}else t.current=null}function pa(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&e)!==Ci){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}(r.tag&t)!==Ci&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function ma(e){switch("function"===typeof Ur&&Ur(e),e.tag){case 0:case 11:case 14:case 15:var t=e.updateQueue;if(null!==t&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n.destroy;if(void 0!==r){var i=e;try{r()}catch(o){qa(i,o)}}n=n.next}while(n!==t)}break;case 1:if(da(e),"function"===typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(o){qa(e,o)}break;case 5:da(e);break;case 4:ya(e)}}function va(e){return 5===e.tag||3===e.tag||4===e.tag}function ga(e){e:{for(var t=e.return;null!==t;){if(va(t)){var n=t;break e}t=t.return}a("160"),n=void 0}var r=t=void 0;switch(n.tag){case 5:t=n.stateNode,r=!1;break;case 3:case 4:t=n.stateNode.containerInfo,r=!0;break;default:a("161")}16&n.effectTag&&(or(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||va(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var i=e;;){if(5===i.tag||6===i.tag)if(n)if(r){var o=t,s=i.stateNode,l=n;8===o.nodeType?o.parentNode.insertBefore(s,l):o.insertBefore(s,l)}else t.insertBefore(i.stateNode,n);else r?(s=t,l=i.stateNode,8===s.nodeType?(o=s.parentNode).insertBefore(l,s):(o=s).appendChild(l),null!==(s=s._reactRootContainer)&&void 0!==s||null!==o.onclick||(o.onclick=pr)):t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function ya(e){for(var t=e,n=!1,r=void 0,i=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&a("160"),n.tag){case 5:r=n.stateNode,i=!1;break e;case 3:case 4:r=n.stateNode.containerInfo,i=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag){e:for(var o=t,s=o;;)if(ma(s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===o)break;for(;null===s.sibling;){if(null===s.return||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}i?(o=r,s=t.stateNode,8===o.nodeType?o.parentNode.removeChild(s):o.removeChild(s)):r.removeChild(t.stateNode)}else if(4===t.tag){if(null!==t.child){r=t.stateNode.containerInfo,i=!0,t.child.return=t,t=t.child;continue}}else if(ma(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function _a(e,t){switch(t.tag){case 0:case 11:case 14:case 15:pa(Ii,Ti,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&function(e,t,n,r,i){e[O]=i,"input"===n&&"radio"===i.type&&null!=i.name&&wt(e,i),hr(n,r),r=hr(n,i);for(var o=0;o<t.length;o+=2){var a=t[o],s=t[o+1];"style"===a?ur(e,s):"dangerouslySetInnerHTML"===a?ir(e,s):"children"===a?or(e,s):gt(e,a,s,r)}switch(n){case"input":xt(e,i);break;case"textarea":Xn(e,i);break;case"select":t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!i.multiple,null!=(n=i.value)?qn(e,!!i.multiple,n,!1):t!==!!i.multiple&&(null!=i.defaultValue?qn(e,!!i.multiple,i.defaultValue,!0):qn(e,!!i.multiple,i.multiple?[]:"",!1))}}(n,o,i,e,r)}break;case 6:null===t.stateNode&&a("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 12:break;case 13:if(n=t.memoizedState,r=void 0,e=t,null===n?r=!1:(r=!0,e=t.child,0===n.timedOutAt&&(n.timedOutAt=xs())),null!==e&&function(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)r.style.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=lr("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else{if(13===n.tag&&null!==n.memoizedState){(r=n.child.sibling).return=n,n=r;continue}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}(e,r),null!==(n=t.updateQueue)){t.updateQueue=null;var s=t.stateNode;null===s&&(s=t.stateNode=new fa),n.forEach(function(e){var n=function(e,t){var n=e.stateNode;null!==n&&n.delete(t),t=Wa(t=xs(),e),null!==(e=Xa(e,t))&&(Zr(e,t),0!==(t=e.expirationTime)&&As(e,t))}.bind(null,t,e);s.has(e)||(s.add(e),e.then(n,n))})}break;case 17:break;default:a("163")}}var ba="function"===typeof WeakMap?WeakMap:Map;function wa(e,t,n){(n=Yo(n)).tag=Go,n.payload={element:null};var r=t.value;return n.callback=function(){ks(r),ha(e,t)},n}function xa(e,t,n){(n=Yo(n)).tag=Go;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ra?Ra=new Set([this]):Ra.add(this));var n=t.value,i=t.stack;ha(e,t),this.componentDidCatch(n,{componentStack:null!==i?i:""})}),n}function Aa(e){switch(e.tag){case 1:Or(e.type)&&Nr();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:return Ai(),jr(),0!==(64&(t=e.effectTag))&&a("285"),e.effectTag=-2049&t|64,e;case 5:return Si(e),null;case 13:return 2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 18:return null;case 4:return Ai(),null;case 10:return Fo(e),null;default:return null}}var Ma=Be.ReactCurrentDispatcher,Sa=Be.ReactCurrentOwner,Ca=1073741822,Ea=!1,Ia=null,Ta=null,La=0,za=-1,ka=!1,Da=null,Oa=!1,Na=null,ja=null,Pa=null,Ra=null;function $a(){if(null!==Ia)for(var e=Ia.return;null!==e;){var t=e;switch(t.tag){case 1:var n=t.type.childContextTypes;null!==n&&void 0!==n&&Nr();break;case 3:Ai(),jr();break;case 5:Si(t);break;case 4:Ai();break;case 10:Fo(t)}e=e.return}Ta=null,La=0,za=-1,ka=!1,Ia=null}function Fa(){for(;null!==Da;){var e=Da.effectTag;if(16&e&&or(Da.stateNode,""),128&e){var t=Da.alternate;null!==t&&(null!==(t=t.ref)&&("function"===typeof t?t(null):t.current=null))}switch(14&e){case 2:ga(Da),Da.effectTag&=-3;break;case 6:ga(Da),Da.effectTag&=-3,_a(Da.alternate,Da);break;case 4:_a(Da.alternate,Da);break;case 8:ya(e=Da),e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,null!==(e=e.alternate)&&(e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null)}Da=Da.nextEffect}}function Ka(){for(;null!==Da;){if(256&Da.effectTag)e:{var e=Da.alternate,t=Da;switch(t.tag){case 0:case 11:case 15:pa(Ei,Ci,t);break e;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:ri(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}break e;case 3:case 5:case 6:case 4:case 17:break e;default:a("163")}}Da=Da.nextEffect}}function Ua(e,t){for(;null!==Da;){var n=Da.effectTag;if(36&n){var r=Da.alternate,i=Da,o=t;switch(i.tag){case 0:case 11:case 15:pa(Li,zi,i);break;case 1:var s=i.stateNode;if(4&i.effectTag)if(null===r)s.componentDidMount();else{var l=i.elementType===i.type?r.memoizedProps:ri(i.type,r.memoizedProps);s.componentDidUpdate(l,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}null!==(r=i.updateQueue)&&ra(0,r,s);break;case 3:if(null!==(r=i.updateQueue)){if(s=null,null!==i.child)switch(i.child.tag){case 5:s=i.child.stateNode;break;case 1:s=i.child.stateNode}ra(0,r,s)}break;case 5:o=i.stateNode,null===r&&4&i.effectTag&&gr(i.type,i.memoizedProps)&&o.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:a("163")}}128&n&&(null!==(i=Da.ref)&&(o=Da.stateNode,"function"===typeof i?i(o):i.current=o)),512&n&&(Na=e),Da=Da.nextEffect}}function Va(){null!==ja&&xr(ja),null!==Pa&&Pa()}function Ba(e,t){Oa=Ea=!0,e.current===t&&a("177");var n=e.pendingCommitExpirationTime;0===n&&a("261"),e.pendingCommitExpirationTime=0;var r=t.expirationTime,i=t.childExpirationTime;for(function(e,t){if(e.didError=!1,0===t)e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0;else{t<e.latestPingedTime&&(e.latestPingedTime=0);var n=e.latestPendingTime;0!==n&&(n>t?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime>t&&(e.earliestPendingTime=e.latestPendingTime)),0===(n=e.earliestSuspendedTime)?Zr(e,t):t<e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,Zr(e,t)):t>n&&Zr(e,t)}ni(0,e)}(e,i>r?i:r),Sa.current=null,r=void 0,1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,mr=Mn,vr=function(){var e=jn();if(Pn(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(t=(t=e.ownerDocument)&&t.defaultView||window).getSelection&&t.getSelection();if(n&&0!==n.rangeCount){t=n.anchorNode;var r=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{t.nodeType,i.nodeType}catch(d){t=null;break e}var o=0,a=-1,s=-1,l=0,u=0,c=e,f=null;t:for(;;){for(var h;c!==t||0!==r&&3!==c.nodeType||(a=o+r),c!==i||0!==n&&3!==c.nodeType||(s=o+n),3===c.nodeType&&(o+=c.nodeValue.length),null!==(h=c.firstChild);)f=c,c=h;for(;;){if(c===e)break t;if(f===t&&++l===r&&(a=o),f===i&&++u===n&&(s=o),null!==(h=c.nextSibling))break;f=(c=f).parentNode}c=h}t=-1===a||-1===s?null:{start:a,end:s}}else t=null}t=t||{start:0,end:0}}else t=null;return{focusedElem:e,selectionRange:t}}(),Mn=!1,Da=r;null!==Da;){i=!1;var s=void 0;try{Ka()}catch(u){i=!0,s=u}i&&(null===Da&&a("178"),qa(Da,s),null!==Da&&(Da=Da.nextEffect))}for(Da=r;null!==Da;){i=!1,s=void 0;try{Fa()}catch(u){i=!0,s=u}i&&(null===Da&&a("178"),qa(Da,s),null!==Da&&(Da=Da.nextEffect))}for(Rn(vr),vr=null,Mn=!!mr,mr=null,e.current=t,Da=r;null!==Da;){i=!1,s=void 0;try{Ua(e,n)}catch(u){i=!0,s=u}i&&(null===Da&&a("178"),qa(Da,s),null!==Da&&(Da=Da.nextEffect))}if(null!==r&&null!==Na){var l=function(e,t){Pa=ja=Na=null;var n=is;is=!0;do{if(512&t.effectTag){var r=!1,i=void 0;try{var o=t;pa(Di,Ci,o),pa(Ci,ki,o)}catch(l){r=!0,i=l}r&&qa(t,i)}t=t.nextEffect}while(null!==t);is=n,0!==(n=e.expirationTime)&&As(e,n),cs||is||Is(1073741823,!1)}.bind(null,e,r);ja=o.unstable_runWithPriority(o.unstable_NormalPriority,function(){return wr(l)}),Pa=l}Ea=Oa=!1,"function"===typeof Kr&&Kr(t.stateNode),n=t.expirationTime,0===(t=(t=t.childExpirationTime)>n?t:n)&&(Ra=null),function(e,t){e.expirationTime=t,e.finishedWork=null}(e,t)}function Ha(e){for(;;){var t=e.alternate,n=e.return,r=e.sibling;if(0===(1024&e.effectTag)){Ia=e;e:{var o=t,s=La,l=(t=e).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:Or(t.type)&&Nr();break;case 3:Ai(),jr(),(l=t.stateNode).pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),null!==o&&null!==o.child||(_o(t),t.effectTag&=-3),la(t);break;case 5:Si(t);var u=wi(bi.current);if(s=t.type,null!==o&&null!=t.stateNode)ua(o,t,s,l,u),o.ref!==t.ref&&(t.effectTag|=128);else if(l){var c=wi(yi.current);if(_o(t)){o=(l=t).stateNode;var f=l.type,h=l.memoizedProps,d=u;switch(o[D]=l,o[O]=h,s=void 0,u=f){case"iframe":case"object":Sn("load",o);break;case"video":case"audio":for(f=0;f<te.length;f++)Sn(te[f],o);break;case"source":Sn("error",o);break;case"img":case"image":case"link":Sn("error",o),Sn("load",o);break;case"form":Sn("reset",o),Sn("submit",o);break;case"details":Sn("toggle",o);break;case"input":bt(o,h),Sn("invalid",o),dr(d,"onChange");break;case"select":o._wrapperState={wasMultiple:!!h.multiple},Sn("invalid",o),dr(d,"onChange");break;case"textarea":Yn(o,h),Sn("invalid",o),dr(d,"onChange")}for(s in fr(u,h),f=null,h)h.hasOwnProperty(s)&&(c=h[s],"children"===s?"string"===typeof c?o.textContent!==c&&(f=["children",c]):"number"===typeof c&&o.textContent!==""+c&&(f=["children",""+c]):_.hasOwnProperty(s)&&null!=c&&dr(d,s));switch(u){case"input":Ue(o),At(o,h,!0);break;case"textarea":Ue(o),Jn(o);break;case"select":case"option":break;default:"function"===typeof h.onClick&&(o.onclick=pr)}s=f,l.updateQueue=s,(l=null!==s)&&aa(t)}else{h=t,d=s,o=l,f=9===u.nodeType?u:u.ownerDocument,c===Zn.html&&(c=er(d)),c===Zn.html?"script"===d?((o=f.createElement("div")).innerHTML="<script><\/script>",f=o.removeChild(o.firstChild)):"string"===typeof o.is?f=f.createElement(d,{is:o.is}):(f=f.createElement(d),"select"===d&&(d=f,o.multiple?d.multiple=!0:o.size&&(d.size=o.size))):f=f.createElementNS(c,d),(o=f)[D]=h,o[O]=l,sa(o,t,!1,!1),d=o;var p=u,m=hr(f=s,h=l);switch(f){case"iframe":case"object":Sn("load",d),u=h;break;case"video":case"audio":for(u=0;u<te.length;u++)Sn(te[u],d);u=h;break;case"source":Sn("error",d),u=h;break;case"img":case"image":case"link":Sn("error",d),Sn("load",d),u=h;break;case"form":Sn("reset",d),Sn("submit",d),u=h;break;case"details":Sn("toggle",d),u=h;break;case"input":bt(d,h),u=_t(d,h),Sn("invalid",d),dr(p,"onChange");break;case"option":u=Qn(d,h);break;case"select":d._wrapperState={wasMultiple:!!h.multiple},u=i({},h,{value:void 0}),Sn("invalid",d),dr(p,"onChange");break;case"textarea":Yn(d,h),u=Wn(d,h),Sn("invalid",d),dr(p,"onChange");break;default:u=h}fr(f,u),c=void 0;var v=f,g=d,y=u;for(c in y)if(y.hasOwnProperty(c)){var b=y[c];"style"===c?ur(g,b):"dangerouslySetInnerHTML"===c?null!=(b=b?b.__html:void 0)&&ir(g,b):"children"===c?"string"===typeof b?("textarea"!==v||""!==b)&&or(g,b):"number"===typeof b&&or(g,""+b):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(_.hasOwnProperty(c)?null!=b&&dr(p,c):null!=b&&gt(g,c,b,m))}switch(f){case"input":Ue(d),At(d,h,!1);break;case"textarea":Ue(d),Jn(d);break;case"option":null!=h.value&&d.setAttribute("value",""+yt(h.value));break;case"select":(u=d).multiple=!!h.multiple,null!=(d=h.value)?qn(u,!!h.multiple,d,!1):null!=h.defaultValue&&qn(u,!!h.multiple,h.defaultValue,!0);break;default:"function"===typeof u.onClick&&(d.onclick=pr)}(l=gr(s,l))&&aa(t),t.stateNode=o}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode&&a("166");break;case 6:o&&null!=t.stateNode?ca(o,t,o.memoizedProps,l):("string"!==typeof l&&(null===t.stateNode&&a("166")),o=wi(bi.current),wi(yi.current),_o(t)?(s=(l=t).stateNode,o=l.memoizedProps,s[D]=l,(l=s.nodeValue!==o)&&aa(t)):(s=t,(l=(9===o.nodeType?o:o.ownerDocument).createTextNode(l))[D]=t,s.stateNode=l));break;case 11:break;case 13:if(l=t.memoizedState,0!==(64&t.effectTag)){t.expirationTime=s,Ia=t;break e}l=null!==l,s=null!==o&&null!==o.memoizedState,null!==o&&!l&&s&&(null!==(o=o.child.sibling)&&(null!==(u=t.firstEffect)?(t.firstEffect=o,o.nextEffect=u):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),(l||s)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Ai(),la(t);break;case 10:Fo(t);break;case 9:case 14:break;case 17:Or(t.type)&&Nr();break;case 18:break;default:a("156")}Ia=null}if(t=e,1===La||1!==t.childExpirationTime){for(l=0,s=t.child;null!==s;)(o=s.expirationTime)>l&&(l=o),(u=s.childExpirationTime)>l&&(l=u),s=s.sibling;t.childExpirationTime=l}if(null!==Ia)return Ia;null!==n&&0===(1024&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(null!==(e=Aa(e)))return e.effectTag&=1023,e;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=1024)}if(null!==r)return r;if(null===n)break;e=n}return null}function Ga(e){var t=Oo(e.alternate,e,La);return e.memoizedProps=e.pendingProps,null===t&&(t=Ha(e)),Sa.current=null,t}function Qa(e,t){Ea&&a("243"),Va(),Ea=!0;var n=Ma.current;Ma.current=lo;var r=e.nextExpirationTimeToWorkOn;r===La&&e===Ta&&null!==Ia||($a(),La=r,Ia=Qr((Ta=e).current,null),e.pendingCommitExpirationTime=0);for(var i=!1;;){try{if(t)for(;null!==Ia&&!Cs();)Ia=Ga(Ia);else for(;null!==Ia;)Ia=Ga(Ia)}catch(g){if(Ro=Po=jo=null,Xi(),null===Ia)i=!0,ks(g);else{null===Ia&&a("271");var o=Ia,s=o.return;if(null!==s){e:{var l=e,u=s,c=o,f=g;if(s=La,c.effectTag|=1024,c.firstEffect=c.lastEffect=null,null!==f&&"object"===typeof f&&"function"===typeof f.then){var h=f;f=u;var d=-1,p=-1;do{if(13===f.tag){var m=f.alternate;if(null!==m&&null!==(m=m.memoizedState)){p=10*(1073741822-m.timedOutAt);break}"number"===typeof(m=f.pendingProps.maxDuration)&&(0>=m?d=0:(-1===d||m<d)&&(d=m))}f=f.return}while(null!==f);f=u;do{if((m=13===f.tag)&&(m=void 0!==f.memoizedProps.fallback&&null===f.memoizedState),m){if(null===(u=f.updateQueue)?((u=new Set).add(h),f.updateQueue=u):u.add(h),0===(1&f.mode)){f.effectTag|=64,c.effectTag&=-1957,1===c.tag&&(null===c.alternate?c.tag=17:((s=Yo(1073741823)).tag=Ho,Jo(c,s))),c.expirationTime=1073741823;break e}u=s;var v=(c=l).pingCache;null===v?(v=c.pingCache=new ba,m=new Set,v.set(h,m)):void 0===(m=v.get(h))&&(m=new Set,v.set(h,m)),m.has(u)||(m.add(u),c=Ya.bind(null,c,h,u),h.then(c,c)),-1===d?l=1073741823:(-1===p&&(p=10*(1073741822-ti(l,s))-5e3),l=p+d),0<=l&&za<l&&(za=l),f.effectTag|=2048,f.expirationTime=s;break e}f=f.return}while(null!==f);f=Error((st(c.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+lt(c))}ka=!0,f=oa(f,c),l=u;do{switch(l.tag){case 3:l.effectTag|=2048,l.expirationTime=s,Zo(l,s=wa(l,f,s));break e;case 1:if(d=f,p=l.type,c=l.stateNode,0===(64&l.effectTag)&&("function"===typeof p.getDerivedStateFromError||null!==c&&"function"===typeof c.componentDidCatch&&(null===Ra||!Ra.has(c)))){l.effectTag|=2048,l.expirationTime=s,Zo(l,s=xa(l,d,s));break e}}l=l.return}while(null!==l)}Ia=Ha(o);continue}i=!0,ks(g)}}break}if(Ea=!1,Ma.current=n,Ro=Po=jo=null,Xi(),i)Ta=null,e.finishedWork=null;else if(null!==Ia)e.finishedWork=null;else{if(null===(n=e.current.alternate)&&a("281"),Ta=null,ka){if(i=e.latestPendingTime,o=e.latestSuspendedTime,s=e.latestPingedTime,0!==i&&i<r||0!==o&&o<r||0!==s&&s<r)return ei(e,r),void ws(e,n,r,e.expirationTime,-1);if(!e.didError&&t)return e.didError=!0,r=e.nextExpirationTimeToWorkOn=r,t=e.expirationTime=1073741823,void ws(e,n,r,t,-1)}t&&-1!==za?(ei(e,r),(t=10*(1073741822-ti(e,r)))<za&&(za=t),t=10*(1073741822-xs()),t=za-t,ws(e,n,r,e.expirationTime,0>t?0:t)):(e.pendingCommitExpirationTime=r,e.finishedWork=n)}}function qa(e,t){for(var n=e.return;null!==n;){switch(n.tag){case 1:var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ra||!Ra.has(r)))return Jo(n,e=xa(n,e=oa(t,e),1073741823)),void Ja(n,1073741823);break;case 3:return Jo(n,e=wa(n,e=oa(t,e),1073741823)),void Ja(n,1073741823)}n=n.return}3===e.tag&&(Jo(e,n=wa(e,n=oa(t,e),1073741823)),Ja(e,1073741823))}function Wa(e,t){var n=o.unstable_getCurrentPriorityLevel(),r=void 0;if(0===(1&t.mode))r=1073741823;else if(Ea&&!Oa)r=La;else{switch(n){case o.unstable_ImmediatePriority:r=1073741823;break;case o.unstable_UserBlockingPriority:r=1073741822-10*(1+((1073741822-e+15)/10|0));break;case o.unstable_NormalPriority:r=1073741822-25*(1+((1073741822-e+500)/25|0));break;case o.unstable_LowPriority:case o.unstable_IdlePriority:r=1;break;default:a("313")}null!==Ta&&r===La&&--r}return n===o.unstable_UserBlockingPriority&&(0===ss||r<ss)&&(ss=r),r}function Ya(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),null!==Ta&&La===n?Ta=null:(t=e.earliestSuspendedTime,r=e.latestSuspendedTime,0!==t&&n<=t&&n>=r&&(e.didError=!1,(0===(t=e.latestPingedTime)||t>n)&&(e.latestPingedTime=n),ni(n,e),0!==(n=e.expirationTime)&&As(e,n)))}function Xa(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return i}function Ja(e,t){null!==(e=Xa(e,t))&&(!Ea&&0!==La&&t>La&&$a(),Zr(e,t),Ea&&!Oa&&Ta===e||As(e,e.expirationTime),gs>vs&&(gs=0,a("185")))}function Za(e,t,n,r,i){return o.unstable_runWithPriority(o.unstable_ImmediatePriority,function(){return e(t,n,r,i)})}var es=null,ts=null,ns=0,rs=void 0,is=!1,os=null,as=0,ss=0,ls=!1,us=null,cs=!1,fs=!1,hs=null,ds=o.unstable_now(),ps=1073741822-(ds/10|0),ms=ps,vs=50,gs=0,ys=null;function _s(){ps=1073741822-((o.unstable_now()-ds)/10|0)}function bs(e,t){if(0!==ns){if(t<ns)return;null!==rs&&o.unstable_cancelCallback(rs)}ns=t,e=o.unstable_now()-ds,rs=o.unstable_scheduleCallback(Es,{timeout:10*(1073741822-t)-e})}function ws(e,t,n,r,i){e.expirationTime=r,0!==i||Cs()?0<i&&(e.timeoutHandle=_r(function(e,t,n){e.pendingCommitExpirationTime=n,e.finishedWork=t,_s(),ms=ps,Ts(e,n)}.bind(null,e,t,n),i)):(e.pendingCommitExpirationTime=n,e.finishedWork=t)}function xs(){return is?ms:(Ms(),0!==as&&1!==as||(_s(),ms=ps),ms)}function As(e,t){null===e.nextScheduledRoot?(e.expirationTime=t,null===ts?(es=ts=e,e.nextScheduledRoot=e):(ts=ts.nextScheduledRoot=e).nextScheduledRoot=es):t>e.expirationTime&&(e.expirationTime=t),is||(cs?fs&&(os=e,as=1073741823,Ls(e,1073741823,!1)):1073741823===t?Is(1073741823,!1):bs(e,t))}function Ms(){var e=0,t=null;if(null!==ts)for(var n=ts,r=es;null!==r;){var i=r.expirationTime;if(0===i){if((null===n||null===ts)&&a("244"),r===r.nextScheduledRoot){es=ts=r.nextScheduledRoot=null;break}if(r===es)es=i=r.nextScheduledRoot,ts.nextScheduledRoot=i,r.nextScheduledRoot=null;else{if(r===ts){(ts=n).nextScheduledRoot=es,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if(i>e&&(e=i,t=r),r===ts)break;if(1073741823===e)break;n=r,r=r.nextScheduledRoot}}os=t,as=e}var Ss=!1;function Cs(){return!!Ss||!!o.unstable_shouldYield()&&(Ss=!0)}function Es(){try{if(!Cs()&&null!==es){_s();var e=es;do{var t=e.expirationTime;0!==t&&ps<=t&&(e.nextExpirationTimeToWorkOn=ps),e=e.nextScheduledRoot}while(e!==es)}Is(0,!0)}finally{Ss=!1}}function Is(e,t){if(Ms(),t)for(_s(),ms=ps;null!==os&&0!==as&&e<=as&&!(Ss&&ps>as);)Ls(os,as,ps>as),Ms(),_s(),ms=ps;else for(;null!==os&&0!==as&&e<=as;)Ls(os,as,!1),Ms();if(t&&(ns=0,rs=null),0!==as&&bs(os,as),gs=0,ys=null,null!==hs)for(e=hs,hs=null,t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(r){ls||(ls=!0,us=r)}}if(ls)throw e=us,us=null,ls=!1,e}function Ts(e,t){is&&a("253"),os=e,as=t,Ls(e,t,!1),Is(1073741823,!1)}function Ls(e,t,n){if(is&&a("245"),is=!0,n){var r=e.finishedWork;null!==r?zs(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,br(r)),Qa(e,n),null!==(r=e.finishedWork)&&(Cs()?e.finishedWork=r:zs(e,r,t)))}else null!==(r=e.finishedWork)?zs(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,br(r)),Qa(e,n),null!==(r=e.finishedWork)&&zs(e,r,t));is=!1}function zs(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime>=n&&(null===hs?hs=[r]:hs.push(r),r._defer))return e.finishedWork=t,void(e.expirationTime=0);e.finishedWork=null,e===ys?gs++:(ys=e,gs=0),o.unstable_runWithPriority(o.unstable_ImmediatePriority,function(){Ba(e,t)})}function ks(e){null===os&&a("246"),os.expirationTime=0,ls||(ls=!0,us=e)}function Ds(e,t){var n=cs;cs=!0;try{return e(t)}finally{(cs=n)||is||Is(1073741823,!1)}}function Os(e,t){if(cs&&!fs){fs=!0;try{return e(t)}finally{fs=!1}}return e(t)}function Ns(e,t,n){cs||is||0===ss||(Is(ss,!1),ss=0);var r=cs;cs=!0;try{return o.unstable_runWithPriority(o.unstable_UserBlockingPriority,function(){return e(t,n)})}finally{(cs=r)||is||Is(1073741823,!1)}}function js(e,t,n,r,i){var o=t.current;e:if(n){t:{2===tn(n=n._reactInternalFiber)&&1===n.tag||a("170");var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Or(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);a("171"),s=void 0}if(1===n.tag){var l=n.type;if(Or(l)){n=Rr(n,l,s);break e}}n=s}else n=Tr;return null===t.context?t.context=n:t.pendingContext=n,t=i,(i=Yo(r)).payload={element:e},null!==(t=void 0===t?null:t)&&(i.callback=t),Va(),Jo(o,i),Ja(o,r),r}function Ps(e,t,n,r){var i=t.current;return js(e,t,n,i=Wa(xs(),i),r)}function Rs(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function $s(e){var t=1073741822-25*(1+((1073741822-xs()+500)/25|0));t>=Ca&&(t=Ca-1),this._expirationTime=Ca=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Fs(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Ks(e,t,n){e={current:t=Hr(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=t.stateNode=e}function Us(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Vs(e,t,n,r,i){var o=n._reactRootContainer;if(o){if("function"===typeof i){var a=i;i=function(){var e=Rs(o._internalRoot);a.call(e)}}null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Ks(e,!1,t)}(n,r),"function"===typeof i){var s=i;i=function(){var e=Rs(o._internalRoot);s.call(e)}}Os(function(){null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)})}return Rs(o._internalRoot)}function Bs(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Us(t)||a("200"),function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:qe,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Ce=function(e,t,n){switch(t){case"input":if(xt(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=R(r);i||a("90"),Ve(r),xt(r,i)}}}break;case"textarea":Xn(e,n);break;case"select":null!=(t=n.value)&&qn(e,!!n.multiple,t,!1)}},$s.prototype.render=function(e){this._defer||a("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new Fs;return js(e,t,null,n,r._onCommit),r},$s.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},$s.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||a("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,i=t;i!==this;)r=i,i=i._next;null===r&&a("251"),r._next=i._next,this._next=t,e.firstBatch=this}this._defer=!1,Ts(e,n),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},$s.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Fs.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Fs.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!==typeof n&&a("191",n),n()}}},Ks.prototype.render=function(e,t){var n=this._internalRoot,r=new Fs;return null!==(t=void 0===t?null:t)&&r.then(t),Ps(e,n,null,r._onCommit),r},Ks.prototype.unmount=function(e){var t=this._internalRoot,n=new Fs;return null!==(e=void 0===e?null:e)&&n.then(e),Ps(null,t,null,n._onCommit),n},Ks.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,i=new Fs;return null!==(n=void 0===n?null:n)&&i.then(n),Ps(t,r,e,i._onCommit),i},Ks.prototype.createBatch=function(){var e=new $s(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime>=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},ke=Ds,De=Ns,Oe=function(){is||0===ss||(Is(ss,!1),ss=0)};var Hs={createPortal:Bs,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return void 0===t&&("function"===typeof e.render?a("188"):a("268",Object.keys(e))),e=null===(e=rn(t))?null:e.stateNode},hydrate:function(e,t,n){return Us(t)||a("200"),Vs(null,e,t,!0,n)},render:function(e,t,n){return Us(t)||a("200"),Vs(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return Us(n)||a("200"),(null==e||void 0===e._reactInternalFiber)&&a("38"),Vs(e,t,n,!1,r)},unmountComponentAtNode:function(e){return Us(e)||a("40"),!!e._reactRootContainer&&(Os(function(){Vs(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Bs.apply(void 0,arguments)},unstable_batchedUpdates:Ds,unstable_interactiveUpdates:Ns,flushSync:function(e,t){is&&a("187");var n=cs;cs=!0;try{return Za(e,t)}finally{cs=n,Is(1073741823,!1)}},unstable_createRoot:function(e,t){return Us(e)||a("299","unstable_createRoot"),new Ks(e,!0,null!=t&&!0===t.hydrate)},unstable_flushControlled:function(e){var t=cs;cs=!0;try{Za(e)}finally{(cs=t)||is||Is(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[j,P,R,T.injectEventPluginsByName,y,B,function(e){C(e,V)},Le,ze,In,z]}};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Kr=Vr(function(e){return t.onCommitFiberRoot(n,e)}),Ur=Vr(function(e){return t.onCommitFiberUnmount(n,e)})}catch(r){}})(i({},e,{overrideProps:null,currentDispatcherRef:Be.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rn(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}({findFiberByHostInstance:N,bundleType:0,version:"16.8.6",rendererPackageName:"react-dom"});var Gs={default:Hs},Qs=Gs&&Hs||Gs;e.exports=Qs.default||Qs},function(e,t,n){"use strict";e.exports=n(260)},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=null,r=!1,i=3,o=-1,a=-1,s=!1,l=!1;function u(){if(!s){var e=n.expirationTime;l?A():l=!0,x(h,e)}}function c(){var e=n,t=n.next;if(n===t)n=null;else{var r=n.previous;n=r.next=t,t.previous=r}e.next=e.previous=null,r=e.callback,t=e.expirationTime,e=e.priorityLevel;var o=i,s=a;i=e,a=t;try{var l=r()}finally{i=o,a=s}if("function"===typeof l)if(l={callback:l,priorityLevel:e,expirationTime:t,next:null,previous:null},null===n)n=l.next=l.previous=l;else{r=null,e=n;do{if(e.expirationTime>=t){r=e;break}e=e.next}while(e!==n);null===r?r=n:r===n&&(n=l,u()),(t=r.previous).next=r.previous=l,l.next=r,l.previous=t}}function f(){if(-1===o&&null!==n&&1===n.priorityLevel){s=!0;try{do{c()}while(null!==n&&1===n.priorityLevel)}finally{s=!1,null!==n?u():l=!1}}}function h(e){s=!0;var i=r;r=e;try{if(e)for(;null!==n;){var o=t.unstable_now();if(!(n.expirationTime<=o))break;do{c()}while(null!==n&&n.expirationTime<=o)}else if(null!==n)do{c()}while(null!==n&&!M())}finally{s=!1,r=i,null!==n?u():l=!1,f()}}var d,p,m=Date,v="function"===typeof setTimeout?setTimeout:void 0,g="function"===typeof clearTimeout?clearTimeout:void 0,y="function"===typeof requestAnimationFrame?requestAnimationFrame:void 0,_="function"===typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function b(e){d=y(function(t){g(p),e(t)}),p=v(function(){_(d),e(t.unstable_now())},100)}if("object"===typeof performance&&"function"===typeof performance.now){var w=performance;t.unstable_now=function(){return w.now()}}else t.unstable_now=function(){return m.now()};var x,A,M,S=null;if("undefined"!==typeof window?S=window:"undefined"!==typeof e&&(S=e),S&&S._schedMock){var C=S._schedMock;x=C[0],A=C[1],M=C[2],t.unstable_now=C[3]}else if("undefined"===typeof window||"function"!==typeof MessageChannel){var E=null,I=function(e){if(null!==E)try{E(e)}finally{E=null}};x=function(e){null!==E?setTimeout(x,0,e):(E=e,setTimeout(I,0,!1))},A=function(){E=null},M=function(){return!1}}else{"undefined"!==typeof console&&("function"!==typeof y&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof _&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var T=null,L=!1,z=-1,k=!1,D=!1,O=0,N=33,j=33;M=function(){return O<=t.unstable_now()};var P=new MessageChannel,R=P.port2;P.port1.onmessage=function(){L=!1;var e=T,n=z;T=null,z=-1;var r=t.unstable_now(),i=!1;if(0>=O-r){if(!(-1!==n&&n<=r))return k||(k=!0,b($)),T=e,void(z=n);i=!0}if(null!==e){D=!0;try{e(i)}finally{D=!1}}};var $=function e(t){if(null!==T){b(e);var n=t-O+j;n<j&&N<j?(8>n&&(n=8),j=n<N?N:n):N=n,O=t+j,L||(L=!0,R.postMessage(void 0))}else k=!1};x=function(e,t){T=e,z=t,D||0>t?R.postMessage(void 0):k||(k=!0,b($))},A=function(){T=null,L=!1,z=-1}}t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=i,a=o;i=e,o=t.unstable_now();try{return n()}finally{i=r,o=a,f()}},t.unstable_next=function(e){switch(i){case 1:case 2:case 3:var n=3;break;default:n=i}var r=i,a=o;i=n,o=t.unstable_now();try{return e()}finally{i=r,o=a,f()}},t.unstable_scheduleCallback=function(e,r){var a=-1!==o?o:t.unstable_now();if("object"===typeof r&&null!==r&&"number"===typeof r.timeout)r=a+r.timeout;else switch(i){case 1:r=a+-1;break;case 2:r=a+250;break;case 5:r=a+1073741823;break;case 4:r=a+1e4;break;default:r=a+5e3}if(e={callback:e,priorityLevel:i,expirationTime:r,next:null,previous:null},null===n)n=e.next=e.previous=e,u();else{a=null;var s=n;do{if(s.expirationTime>r){a=s;break}s=s.next}while(s!==n);null===a?a=n:a===n&&(n=e,u()),(r=a.previous).next=a.previous=e,e.next=a,e.previous=r}return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(t===e)n=null;else{e===n&&(n=t);var r=e.previous;r.next=t,t.previous=r}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var n=i;return function(){var r=i,a=o;i=n,o=t.unstable_now();try{return e.apply(this,arguments)}finally{i=r,o=a,f()}}},t.unstable_getCurrentPriorityLevel=function(){return i},t.unstable_shouldYield=function(){return!r&&(null!==n&&n.expirationTime<a||M())},t.unstable_continueExecution=function(){null!==n&&u()},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return n}}).call(this,n(45))},,function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";var r=n(264);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116;function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case h:case a:case l:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case d:case u:return e;default:return t}}case v:case m:case o:return t}}}function y(e){return g(e)===h}t.typeOf=g,t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=u,t.Element=i,t.ForwardRef=d,t.Fragment=a,t.Lazy=v,t.Memo=m,t.Portal=o,t.Profiler=l,t.StrictMode=s,t.Suspense=p,t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===h||e===l||e===s||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===u||e.$$typeof===c||e.$$typeof===d)},t.isAsyncMode=function(e){return y(e)||g(e)===f},t.isConcurrentMode=y,t.isContextConsumer=function(e){return g(e)===c},t.isContextProvider=function(e){return g(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return g(e)===d},t.isFragment=function(e){return g(e)===a},t.isLazy=function(e){return g(e)===v},t.isMemo=function(e){return g(e)===m},t.isPortal=function(e){return g(e)===o},t.isProfiler=function(e){return g(e)===l},t.isStrictMode=function(e){return g(e)===s},t.isSuspense=function(e){return g(e)===p}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r;try{r=n(164)}catch(i){}r||(r=window.graphlib),e.exports=r},function(e,t,n){e.exports={Graph:n(117),version:n(403)}},function(e,t,n){var r=n(165),i=4;e.exports=function(e){return r(e,i)}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(79),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},function(e,t,n){var r=n(79);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(79);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(79);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},function(e,t,n){var r=n(78);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(78),i=n(118),o=n(119),a=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<a-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(54),i=n(317),o=n(28),a=n(167),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,f=u.hasOwnProperty,h=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?h:s).test(a(e))}},function(e,t,n){var r=n(55),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(318),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},function(e,t,n){var r=n(33)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(321),i=n(78),o=n(118);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(e,t,n){var r=n(322),i=n(323),o=n(324),a=n(325),s=n(326);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(80);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(80),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===i?void 0:n}return o.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(80),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},function(e,t,n){var r=n(80),i="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?i:t,this}},function(e,t,n){var r=n(81);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(81);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(81);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(81);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},function(e,t,n){var r=n(69),i=n(42);e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(48),i=n(37),o="[object Arguments]";e.exports=function(e){return i(e)&&r(e)==o}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(48),i=n(121),o=n(37),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},function(e,t,n){var r=n(170)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(69),i=n(57);e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t,n){var r=n(28),i=n(87),o=n(340),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var r=n(69),i=n(124);e.exports=function(e,t){return r(e,i(e),t)}},function(e,t,n){var r=n(69),i=n(175);e.exports=function(e,t){return r(e,i(e),t)}},function(e,t,n){var r=n(177),i=n(175),o=n(57);e.exports=function(e){return r(e,o,i)}},function(e,t,n){var r=n(47)(n(33),"DataView");e.exports=r},function(e,t,n){var r=n(47)(n(33),"Promise");e.exports=r},function(e,t,n){var r=n(47)(n(33),"WeakMap");e.exports=r},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(126),i=n(349),o=n(350),a=n(351),s=n(180),l="[object Boolean]",u="[object Date]",c="[object Map]",f="[object Number]",h="[object RegExp]",d="[object Set]",p="[object String]",m="[object Symbol]",v="[object ArrayBuffer]",g="[object DataView]",y="[object Float32Array]",_="[object Float64Array]",b="[object Int8Array]",w="[object Int16Array]",x="[object Int32Array]",A="[object Uint8Array]",M="[object Uint8ClampedArray]",S="[object Uint16Array]",C="[object Uint32Array]";e.exports=function(e,t,n){var E=e.constructor;switch(t){case v:return r(e);case l:case u:return new E(+e);case g:return i(e,n);case y:case _:case b:case w:case x:case A:case M:case S:case C:return s(e,n);case c:return new E;case f:case p:return new E(e);case h:return o(e);case d:return new E;case m:return a(e)}}},function(e,t,n){var r=n(126);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(55),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},function(e,t,n){var r=n(353),i=n(86),o=n(122),a=o&&o.isMap,s=a?i(a):r;e.exports=s},function(e,t,n){var r=n(58),i=n(37),o="[object Map]";e.exports=function(e){return i(e)&&r(e)==o}},function(e,t,n){var r=n(355),i=n(86),o=n(122),a=o&&o.isSet,s=a?i(a):r;e.exports=s},function(e,t,n){var r=n(58),i=n(37),o="[object Set]";e.exports=function(e){return i(e)&&r(e)==o}},function(e,t){e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}},function(e,t,n){var r=n(40);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},function(e,t,n){var r=n(89);e.exports=function(e,t){var n=[];return r(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}},function(e,t,n){var r=n(360),i=n(368),o=n(191);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){var r=n(77),i=n(186),o=1,a=2;e.exports=function(e,t,n,s){var l=n.length,u=l,c=!s;if(null==e)return!u;for(e=Object(e);l--;){var f=n[l];if(c&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++l<u;){var h=(f=n[l])[0],d=e[h],p=f[1];if(c&&f[2]){if(void 0===d&&!(h in e))return!1}else{var m=new r;if(s)var v=s(d,p,h,e,t,m);if(!(void 0===v?i(p,d,o|a,s,m):v))return!1}}return!0}},function(e,t,n){var r=n(77),i=n(187),o=n(365),a=n(367),s=n(58),l=n(15),u=n(56),c=n(71),f=1,h="[object Arguments]",d="[object Array]",p="[object Object]",m=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,g,y){var _=l(e),b=l(t),w=_?d:s(e),x=b?d:s(t),A=(w=w==h?p:w)==p,M=(x=x==h?p:x)==p,S=w==x;if(S&&u(e)){if(!u(t))return!1;_=!0,A=!1}if(S&&!A)return y||(y=new r),_||c(e)?i(e,t,n,v,g,y):o(e,t,w,n,v,g,y);if(!(n&f)){var C=A&&m.call(e,"__wrapped__"),E=M&&m.call(t,"__wrapped__");if(C||E){var I=C?e.value():e,T=E?t.value():t;return y||(y=new r),g(I,T,n,v,y)}}return!!S&&(y||(y=new r),a(e,t,n,v,g,y))}},function(e,t){var n="__lodash_hash_undefined__";e.exports=function(e){return this.__data__.set(e,n),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t,n){var r=n(55),i=n(179),o=n(53),a=n(187),s=n(366),l=n(131),u=1,c=2,f="[object Boolean]",h="[object Date]",d="[object Error]",p="[object Map]",m="[object Number]",v="[object RegExp]",g="[object Set]",y="[object String]",_="[object Symbol]",b="[object ArrayBuffer]",w="[object DataView]",x=r?r.prototype:void 0,A=x?x.valueOf:void 0;e.exports=function(e,t,n,r,x,M,S){switch(n){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case b:return!(e.byteLength!=t.byteLength||!M(new i(e),new i(t)));case f:case h:case m:return o(+e,+t);case d:return e.name==t.name&&e.message==t.message;case v:case y:return e==t+"";case p:var C=s;case g:var E=r&u;if(C||(C=l),e.size!=t.size&&!E)return!1;var I=S.get(e);if(I)return I==t;r|=c,S.set(e,t);var T=a(C(e),C(t),r,x,M,S);return S.delete(e),T;case _:if(A)return A.call(e)==A.call(t)}return!1}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},function(e,t,n){var r=n(176),i=1,o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,s,l){var u=n&i,c=r(e),f=c.length;if(f!=r(t).length&&!u)return!1;for(var h=f;h--;){var d=c[h];if(!(u?d in t:o.call(t,d)))return!1}var p=l.get(e);if(p&&l.get(t))return p==t;var m=!0;l.set(e,t),l.set(t,e);for(var v=u;++h<f;){var g=e[d=c[h]],y=t[d];if(a)var _=u?a(y,g,d,t,e,l):a(g,y,d,e,t,l);if(!(void 0===_?g===y||s(g,y,n,a,l):_)){m=!1;break}v||(v="constructor"==d)}if(m&&!v){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(m=!1)}return l.delete(e),l.delete(t),m}},function(e,t,n){var r=n(190),i=n(42);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},function(e,t,n){var r=n(186),i=n(370),o=n(193),a=n(133),s=n(190),l=n(191),u=n(72),c=1,f=2;e.exports=function(e,t){return a(e)&&s(t)?l(u(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,c|f)}}},function(e,t,n){var r=n(132);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},function(e,t,n){var r=n(372),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)}),t});e.exports=a},function(e,t,n){var r=n(373),i=500;e.exports=function(e){var t=r(e,function(e){return n.size===i&&n.clear(),e}),n=t.cache;return t}},function(e,t,n){var r=n(119),i="Expected a function";function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},function(e,t,n){var r=n(55),i=n(91),o=n(15),a=n(59),s=1/0,l=r?r.prototype:void 0,u=l?l.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-s?"-0":n}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(195),i=n(377),o=n(133),a=n(72);e.exports=function(e){return o(e)?r(a(e)):i(e)}},function(e,t,n){var r=n(132);e.exports=function(e){return function(t){return r(t,e)}}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e,t){return null!=e&&n.call(e,t)}},function(e,t,n){var r=n(123),i=n(58),o=n(70),a=n(15),s=n(40),l=n(56),u=n(87),c=n(71),f="[object Map]",h="[object Set]",d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||c(e)||o(e)))return!e.length;var t=i(e);if(t==f||t==h)return!e.size;if(u(e))return!r(e).length;for(var n in e)if(d.call(e,n))return!1;return!0}},function(e,t){e.exports=function(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}},function(e,t){e.exports=function(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}},function(e,t,n){var r=n(123),i=n(58),o=n(40),a=n(383),s=n(384),l="[object Map]",u="[object Set]";e.exports=function(e){if(null==e)return 0;if(o(e))return a(e)?s(e):e.length;var t=i(e);return t==l||t==u?e.size:r(e).length}},function(e,t,n){var r=n(48),i=n(15),o=n(37),a="[object String]";e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&r(e)==a}},function(e,t,n){var r=n(385),i=n(386),o=n(387);e.exports=function(e){return i(e)?o(e):r(e)}},function(e,t,n){var r=n(195)("length");e.exports=r},function(e,t){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return n.test(e)}},function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+i+")"+"?",u="[\\ufe0e\\ufe0f]?"+l+("(?:\\u200d(?:"+[o,a,s].join("|")+")[\\ufe0e\\ufe0f]?"+l+")*"),c="(?:"+[o+r+"?",r,a,s,n].join("|")+")",f=RegExp(i+"(?="+i+")|"+c+u,"g");e.exports=function(e){for(var t=f.lastIndex=0;f.test(e);)++t;return t}},function(e,t,n){var r=n(120),i=n(182),o=n(129),a=n(41),s=n(88),l=n(15),u=n(56),c=n(54),f=n(28),h=n(71);e.exports=function(e,t,n){var d=l(e),p=d||u(e)||h(e);if(t=a(t,4),null==n){var m=e&&e.constructor;n=p?d?new m:[]:f(e)&&c(m)?i(s(e)):{}}return(p?r:o)(e,function(e,r,i){return t(n,e,r,i)}),n}},function(e,t,n){var r=n(135),i=n(92),o=n(394),a=n(203),s=i(function(e){return o(r(e,1,a,!0))});e.exports=s},function(e,t,n){var r=n(55),i=n(70),o=n(15),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(127),i=n(168),o=n(49),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},function(e,t){var n=800,r=16,i=Date.now;e.exports=function(e){var t=0,o=0;return function(){var a=i(),s=r-(a-o);if(o=a,s>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var r=n(188),i=n(395),o=n(399),a=n(189),s=n(400),l=n(131),u=200;e.exports=function(e,t,n){var c=-1,f=i,h=e.length,d=!0,p=[],m=p;if(n)d=!1,f=o;else if(h>=u){var v=t?null:s(e);if(v)return l(v);d=!1,f=a,m=new r}else m=t?[]:p;e:for(;++c<h;){var g=e[c],y=t?t(g):g;if(g=n||0!==g?g:0,d&&y===y){for(var _=m.length;_--;)if(m[_]===y)continue e;t&&m.push(y),p.push(g)}else f(m,y,n)||(m!==p&&m.push(y),p.push(g))}return p}},function(e,t,n){var r=n(396);e.exports=function(e,t){return!(null==e||!e.length)&&r(e,t,0)>-1}},function(e,t,n){var r=n(202),i=n(397),o=n(398);e.exports=function(e,t,n){return t===t?o(e,t,n):r(e,i,n)}},function(e,t){e.exports=function(e){return e!==e}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},function(e,t){e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},function(e,t,n){var r=n(178),i=n(401),o=n(131),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},function(e,t){e.exports=function(){}},function(e,t,n){var r=n(91);e.exports=function(e,t){return r(t,function(t){return e[t]})}},function(e,t){e.exports="2.1.7"},function(e,t,n){var r=n(27),i=n(117);function o(e){return r.map(e.nodes(),function(t){var n=e.node(t),i=e.parent(t),o={v:t};return r.isUndefined(n)||(o.value=n),r.isUndefined(i)||(o.parent=i),o})}function a(e){return r.map(e.edges(),function(t){var n=e.edge(t),i={v:t.v,w:t.w};return r.isUndefined(t.name)||(i.name=t.name),r.isUndefined(n)||(i.value=n),i})}e.exports={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:o(e),edges:a(e)};r.isUndefined(e.graph())||(t.value=r.clone(e.graph()));return t},read:function(e){var t=new i(e.options).setGraph(e.value);return r.each(e.nodes,function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)}),r.each(e.edges,function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)}),t}}},function(e,t,n){e.exports={components:n(406),dijkstra:n(205),dijkstraAll:n(407),findCycles:n(408),floydWarshall:n(409),isAcyclic:n(410),postorder:n(411),preorder:n(412),prim:n(413),tarjan:n(207),topsort:n(208)}},function(e,t,n){var r=n(27);e.exports=function(e){var t,n={},i=[];function o(i){r.has(n,i)||(n[i]=!0,t.push(i),r.each(e.successors(i),o),r.each(e.predecessors(i),o))}return r.each(e.nodes(),function(e){t=[],o(e),t.length&&i.push(t)}),i}},function(e,t,n){var r=n(205),i=n(27);e.exports=function(e,t,n){return i.transform(e.nodes(),function(i,o){i[o]=r(e,o,t,n)},{})}},function(e,t,n){var r=n(27),i=n(207);e.exports=function(e){return r.filter(i(e),function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])})}},function(e,t,n){var r=n(27);e.exports=function(e,t,n){return function(e,t,n){var r={},i=e.nodes();return i.forEach(function(e){r[e]={},r[e][e]={distance:0},i.forEach(function(t){e!==t&&(r[e][t]={distance:Number.POSITIVE_INFINITY})}),n(e).forEach(function(n){var i=n.v===e?n.w:n.v,o=t(n);r[e][i]={distance:o,predecessor:e}})}),i.forEach(function(e){var t=r[e];i.forEach(function(n){var o=r[n];i.forEach(function(n){var r=o[e],i=t[n],a=o[n],s=r.distance+i.distance;s<a.distance&&(a.distance=s,a.predecessor=i.predecessor)})})}),r}(e,t||i,n||function(t){return e.outEdges(t)})};var i=r.constant(1)},function(e,t,n){var r=n(208);e.exports=function(e){try{r(e)}catch(t){if(t instanceof r.CycleException)return!1;throw t}return!0}},function(e,t,n){var r=n(209);e.exports=function(e,t){return r(e,t,"post")}},function(e,t,n){var r=n(209);e.exports=function(e,t){return r(e,t,"pre")}},function(e,t,n){var r=n(27),i=n(117),o=n(206);e.exports=function(e,t){var n,a=new i,s={},l=new o;function u(e){var r=e.v===n?e.w:e.v,i=l.priority(r);if(void 0!==i){var o=t(e);o<i&&(s[r]=n,l.decrease(r,o))}}if(0===e.nodeCount())return a;r.each(e.nodes(),function(e){l.add(e,Number.POSITIVE_INFINITY),a.setNode(e)}),l.decrease(e.nodes()[0],0);var c=!1;for(;l.size()>0;){if(n=l.removeMin(),r.has(s,n))a.setEdge(n,s[n]);else{if(c)throw new Error("Input graph is not connected: "+e);c=!0}e.nodeEdges(n).forEach(u)}return a}},function(e,t,n){e.exports={graphlib:n(34),layout:n(415),debug:n(469),util:{time:n(21).time,notime:n(21).notime},version:n(470)}},function(e,t,n){"use strict";var r=n(14),i=n(448),o=n(451),a=n(452),s=n(21).normalizeRanks,l=n(454),u=n(21).removeEmptyRanks,c=n(455),f=n(456),h=n(457),d=n(458),p=n(467),m=n(21),v=n(34).Graph;e.exports=function(e,t){var n=t&&t.debugTiming?m.time:m.notime;n("layout",function(){var t=n("  buildLayoutGraph",function(){return function(e){var t=new v({multigraph:!0,compound:!0}),n=C(e.graph());return t.setGraph(r.merge({},y,S(n,g),r.pick(n,_))),r.forEach(e.nodes(),function(n){var i=C(e.node(n));t.setNode(n,r.defaults(S(i,b),w)),t.setParent(n,e.parent(n))}),r.forEach(e.edges(),function(n){var i=C(e.edge(n));t.setEdge(n,r.merge({},A,S(i,x),r.pick(i,M)))}),t}(e)});n("  runLayout",function(){!function(e,t){t("    makeSpaceForEdgeLabels",function(){!function(e){var t=e.graph();t.ranksep/=2,r.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)})}(e)}),t("    removeSelfEdges",function(){!function(e){r.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}(e)}),t("    acyclic",function(){i.run(e)}),t("    nestingGraph.run",function(){c.run(e)}),t("    rank",function(){a(m.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){!function(e){r.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i=e.node(t.w),o={rank:(i.rank-r.rank)/2+r.rank,e:t};m.addDummyNode(e,"edge-proxy",o,"_ep")}})}(e)}),t("    removeEmptyRanks",function(){u(e)}),t("    nestingGraph.cleanup",function(){c.cleanup(e)}),t("    normalizeRanks",function(){s(e)}),t("    assignRankMinMax",function(){!function(e){var t=0;r.forEach(e.nodes(),function(n){var i=e.node(n);i.borderTop&&(i.minRank=e.node(i.borderTop).rank,i.maxRank=e.node(i.borderBottom).rank,t=r.max(t,i.maxRank))}),e.graph().maxRank=t}(e)}),t("    removeEdgeLabelProxies",function(){!function(e){r.forEach(e.nodes(),function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}(e)}),t("    normalize.run",function(){o.run(e)}),t("    parentDummyChains",function(){l(e)}),t("    addBorderSegments",function(){f(e)}),t("    order",function(){d(e)}),t("    insertSelfEdges",function(){!function(e){var t=m.buildLayerMatrix(e);r.forEach(t,function(t){var n=0;r.forEach(t,function(t,i){var o=e.node(t);o.order=i+n,r.forEach(o.selfEdges,function(t){m.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:o.rank,order:i+ ++n,e:t.e,label:t.label},"_se")}),delete o.selfEdges})})}(e)}),t("    adjustCoordinateSystem",function(){h.adjust(e)}),t("    position",function(){p(e)}),t("    positionSelfEdges",function(){!function(e){r.forEach(e.nodes(),function(t){var n=e.node(t);if("selfedge"===n.dummy){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{x:i+a,y:o},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}})}(e)}),t("    removeBorderNodes",function(){!function(e){r.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),i=e.node(n.borderTop),o=e.node(n.borderBottom),a=e.node(r.last(n.borderLeft)),s=e.node(r.last(n.borderRight));n.width=Math.abs(s.x-a.x),n.height=Math.abs(o.y-i.y),n.x=a.x+n.width/2,n.y=i.y+n.height/2}}),r.forEach(e.nodes(),function(t){"border"===e.node(t).dummy&&e.removeNode(t)})}(e)}),t("    normalize.undo",function(){o.undo(e)}),t("    fixupEdgeLabelCoords",function(){!function(e){r.forEach(e.edges(),function(t){var n=e.edge(t);if(r.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})}(e)}),t("    undoCoordinateSystem",function(){h.undo(e)}),t("    translateGraph",function(){!function(e){var t=Number.POSITIVE_INFINITY,n=0,i=Number.POSITIVE_INFINITY,o=0,a=e.graph(),s=a.marginx||0,l=a.marginy||0;function u(e){var r=e.x,a=e.y,s=e.width,l=e.height;t=Math.min(t,r-s/2),n=Math.max(n,r+s/2),i=Math.min(i,a-l/2),o=Math.max(o,a+l/2)}r.forEach(e.nodes(),function(t){u(e.node(t))}),r.forEach(e.edges(),function(t){var n=e.edge(t);r.has(n,"x")&&u(n)}),t-=s,i-=l,r.forEach(e.nodes(),function(n){var r=e.node(n);r.x-=t,r.y-=i}),r.forEach(e.edges(),function(n){var o=e.edge(n);r.forEach(o.points,function(e){e.x-=t,e.y-=i}),r.has(o,"x")&&(o.x-=t),r.has(o,"y")&&(o.y-=i)}),a.width=n-t+s,a.height=o-i+l}(e)}),t("    assignNodeIntersects",function(){!function(e){r.forEach(e.edges(),function(t){var n,r,i=e.edge(t),o=e.node(t.v),a=e.node(t.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=a,r=o),i.points.unshift(m.intersectRect(o,n)),i.points.push(m.intersectRect(a,r))})}(e)}),t("    reversePoints",function(){!function(e){r.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}(e)}),t("    acyclic.undo",function(){i.undo(e)})}(t,n)}),n("  updateInputGraph",function(){!function(e,t){r.forEach(e.nodes(),function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))}),r.forEach(e.edges(),function(n){var i=e.edge(n),o=t.edge(n);i.points=o.points,r.has(o,"x")&&(i.x=o.x,i.y=o.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}(e,t)})})};var g=["nodesep","edgesep","ranksep","marginx","marginy"],y={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},_=["acyclicer","ranker","rankdir","align"],b=["width","height"],w={width:0,height:0},x=["minlen","weight","width","height","labeloffset"],A={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},M=["labelpos"];function S(e,t){return r.mapValues(r.pick(e,t),Number)}function C(e){var t={};return r.forEach(e,function(e,n){t[n.toLowerCase()]=e}),t}},function(e,t,n){var r=n(165),i=1,o=4;e.exports=function(e){return r(e,i|o)}},function(e,t,n){var r=n(418)(n(419));e.exports=r},function(e,t,n){var r=n(41),i=n(40),o=n(42);e.exports=function(e){return function(t,n,a){var s=Object(t);if(!i(t)){var l=r(n,3);t=o(t),n=function(e){return l(s[e],e,s)}}var u=e(t,n,a);return u>-1?s[l?t[u]:u]:void 0}}},function(e,t,n){var r=n(202),i=n(41),o=n(420),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=null==n?0:o(n);return l<0&&(l=a(s+l,0)),r(e,i(t,3),l)}},function(e,t,n){var r=n(212);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},function(e,t,n){var r=n(28),i=n(59),o=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return o;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=l.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):s.test(e)?o:+e}},function(e,t,n){var r=n(130),i=n(184),o=n(57);e.exports=function(e,t){return null==e?e:r(e,i(t),o)}},function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},function(e,t,n){var r=n(83),i=n(129),o=n(41);e.exports=function(e,t){var n={};return t=o(t,3),i(e,function(e,i,o){r(n,i,t(e,i,o))}),n}},function(e,t,n){var r=n(136),i=n(426),o=n(49);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},function(e,t){e.exports=function(e,t){return e>t}},function(e,t,n){var r=n(428),i=n(431)(function(e,t,n){r(e,t,n)});e.exports=i},function(e,t,n){var r=n(77),i=n(214),o=n(130),a=n(429),s=n(28),l=n(57),u=n(216);e.exports=function e(t,n,c,f,h){t!==n&&o(n,function(o,l){if(h||(h=new r),s(o))a(t,n,l,c,e,f,h);else{var d=f?f(u(t,l),o,l+"",t,n,h):void 0;void 0===d&&(d=o),i(t,l,d)}},l)}},function(e,t,n){var r=n(214),i=n(171),o=n(180),a=n(172),s=n(181),l=n(70),u=n(15),c=n(203),f=n(56),h=n(54),d=n(28),p=n(215),m=n(71),v=n(216),g=n(430);e.exports=function(e,t,n,y,_,b,w){var x=v(e,n),A=v(t,n),M=w.get(A);if(M)r(e,n,M);else{var S=b?b(x,A,n+"",e,t,w):void 0,C=void 0===S;if(C){var E=u(A),I=!E&&f(A),T=!E&&!I&&m(A);S=A,E||I||T?u(x)?S=x:c(x)?S=a(x):I?(C=!1,S=i(A,!0)):T?(C=!1,S=o(A,!0)):S=[]:p(A)||l(A)?(S=x,l(x)?S=g(x):d(x)&&!h(x)||(S=s(A))):C=!1}C&&(w.set(A,S),_(S,A,y,b,w),w.delete(A)),r(e,n,S)}}},function(e,t,n){var r=n(69),i=n(57);e.exports=function(e){return r(e,i(e))}},function(e,t,n){var r=n(92),i=n(93);e.exports=function(e){return r(function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var l=n[r];l&&e(t,l,r,a)}return t})}},function(e,t,n){var r=n(136),i=n(217),o=n(49);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},function(e,t,n){var r=n(136),i=n(41),o=n(217);e.exports=function(e,t){return e&&e.length?r(e,i(t,2),o):void 0}},function(e,t,n){var r=n(33);e.exports=function(){return r.Date.now()}},function(e,t,n){var r=n(436),i=n(193);e.exports=function(e,t){return r(e,t,function(t,n){return i(e,n)})}},function(e,t,n){var r=n(132),i=n(437),o=n(90);e.exports=function(e,t,n){for(var a=-1,s=t.length,l={};++a<s;){var u=t[a],c=r(e,u);n(c,u)&&i(l,o(u,e),c)}return l}},function(e,t,n){var r=n(82),i=n(90),o=n(85),a=n(28),s=n(72);e.exports=function(e,t,n,l){if(!a(e))return e;for(var u=-1,c=(t=i(t,e)).length,f=c-1,h=e;null!=h&&++u<c;){var d=s(t[u]),p=n;if(u!=f){var m=h[d];void 0===(p=l?l(m,d,h):void 0)&&(p=a(m)?m:o(t[u+1])?[]:{})}r(h,d,p),h=h[d]}return e}},function(e,t,n){var r=n(213),i=n(200),o=n(201);e.exports=function(e){return o(i(e,void 0,r),e+"")}},function(e,t,n){var r=n(440),i=n(93),o=n(212);e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&i(t,n,a)&&(n=a=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),a=void 0===a?t<n?1:-1:o(a),r(t,n,a,e)}}},function(e,t){var n=Math.ceil,r=Math.max;e.exports=function(e,t,i,o){for(var a=-1,s=r(n((t-e)/(i||1)),0),l=Array(s);s--;)l[o?s:++a]=e,e+=i;return l}},function(e,t,n){var r=n(135),i=n(442),o=n(92),a=n(93),s=o(function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])});e.exports=s},function(e,t,n){var r=n(91),i=n(41),o=n(198),a=n(443),s=n(86),l=n(444),u=n(49);e.exports=function(e,t,n){var c=-1;t=r(t.length?t:[u],s(i));var f=o(e,function(e,n,i){return{criteria:r(t,function(t){return t(e)}),index:++c,value:e}});return a(f,function(e,t){return l(e,t,n)})}},function(e,t){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},function(e,t,n){var r=n(445);e.exports=function(e,t,n){for(var i=-1,o=e.criteria,a=t.criteria,s=o.length,l=n.length;++i<s;){var u=r(o[i],a[i]);if(u)return i>=l?u:u*("desc"==n[i]?-1:1)}return e.index-t.index}},function(e,t,n){var r=n(59);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e===e,a=r(e),s=void 0!==t,l=null===t,u=t===t,c=r(t);if(!l&&!c&&!a&&e>t||a&&s&&u&&!l&&!c||i&&s&&u||!n&&u||!o)return 1;if(!i&&!a&&!c&&e<t||c&&n&&o&&!i&&!a||l&&n&&o||!s&&o||!u)return-1}return 0}},function(e,t,n){var r=n(82),i=n(447);e.exports=function(e,t){return i(e||[],t||[],r)}},function(e,t){e.exports=function(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=r<o?t[r]:void 0;n(a,e[r],s)}return a}},function(e,t,n){"use strict";var r=n(14),i=n(449);e.exports={run:function(e){var t="greedy"===e.graph().acyclicer?i(e,function(e){return function(t){return e.edge(t).weight}}(e)):function(e){var t=[],n={},i={};return r.forEach(e.nodes(),function o(a){r.has(i,a)||(i[a]=!0,n[a]=!0,r.forEach(e.outEdges(a),function(e){r.has(n,e.w)?t.push(e):o(e.w)}),delete n[a])}),t}(e);r.forEach(t,function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,r.uniqueId("rev"))})},undo:function(e){r.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}}},function(e,t,n){var r=n(14),i=n(34).Graph,o=n(450);e.exports=function(e,t){if(e.nodeCount()<=1)return[];var n=function(e,t){var n=new i,a=0,s=0;r.forEach(e.nodes(),function(e){n.setNode(e,{v:e,in:0,out:0})}),r.forEach(e.edges(),function(e){var r=n.edge(e.v,e.w)||0,i=t(e),o=r+i;n.setEdge(e.v,e.w,o),s=Math.max(s,n.node(e.v).out+=i),a=Math.max(a,n.node(e.w).in+=i)});var u=r.range(s+a+3).map(function(){return new o}),c=a+1;return r.forEach(n.nodes(),function(e){l(u,c,n.node(e))}),{graph:n,buckets:u,zeroIdx:c}}(e,t||a),u=function(e,t,n){var r,i=[],o=t[t.length-1],a=t[0];for(;e.nodeCount();){for(;r=a.dequeue();)s(e,t,n,r);for(;r=o.dequeue();)s(e,t,n,r);if(e.nodeCount())for(var l=t.length-2;l>0;--l)if(r=t[l].dequeue()){i=i.concat(s(e,t,n,r,!0));break}}return i}(n.graph,n.buckets,n.zeroIdx);return r.flatten(r.map(u,function(t){return e.outEdges(t.v,t.w)}),!0)};var a=r.constant(1);function s(e,t,n,i,o){var a=o?[]:void 0;return r.forEach(e.inEdges(i.v),function(r){var i=e.edge(r),s=e.node(r.v);o&&a.push({v:r.v,w:r.w}),s.out-=i,l(t,n,s)}),r.forEach(e.outEdges(i.v),function(r){var i=e.edge(r),o=r.w,a=e.node(o);a.in-=i,l(t,n,a)}),e.removeNode(i.v),a}function l(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}},function(e,t){function n(){var e={};e._next=e._prev=e,this._sentinel=e}function r(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function i(e,t){if("_next"!==e&&"_prev"!==e)return t}e.exports=n,n.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return r(t),t},n.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&r(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},n.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,i)),n=n._prev;return"["+e.join(", ")+"]"}},function(e,t,n){"use strict";var r=n(14),i=n(21);e.exports={run:function(e){e.graph().dummyChains=[],r.forEach(e.edges(),function(t){!function(e,t){var n,r,o,a=t.v,s=e.node(a).rank,l=t.w,u=e.node(l).rank,c=t.name,f=e.edge(t),h=f.labelRank;if(u===s+1)return;for(e.removeEdge(t),o=0,++s;s<u;++o,++s)f.points=[],r={width:0,height:0,edgeLabel:f,edgeObj:t,rank:s},n=i.addDummyNode(e,"edge",r,"_d"),s===h&&(r.width=f.width,r.height=f.height,r.dummy="edge-label",r.labelpos=f.labelpos),e.setEdge(a,n,{weight:f.weight},c),0===o&&e.graph().dummyChains.push(n),a=n;e.setEdge(a,l,{weight:f.weight},c)}(e,t)})},undo:function(e){r.forEach(e.graph().dummyChains,function(t){var n,r=e.node(t),i=r.edgeLabel;for(e.setEdge(r.edgeObj,i);r.dummy;)n=e.successors(t)[0],e.removeNode(t),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),t=n,r=e.node(t)})}}},function(e,t,n){"use strict";var r=n(94).longestPath,i=n(221),o=n(453);e.exports=function(e){switch(e.graph().ranker){case"network-simplex":s(e);break;case"tight-tree":!function(e){r(e),i(e)}(e);break;case"longest-path":a(e);break;default:s(e)}};var a=r;function s(e){o(e)}},function(e,t,n){"use strict";var r=n(14),i=n(221),o=n(94).slack,a=n(94).longestPath,s=n(34).alg.preorder,l=n(34).alg.postorder,u=n(21).simplify;function c(e){e=u(e),a(e);var t,n=i(e);for(d(n),f(n,e);t=p(n);)v(n,e,t,m(n,e,t))}function f(e,t){var n=l(e,e.nodes());n=n.slice(0,n.length-1),r.forEach(n,function(n){!function(e,t,n){var r=e.node(n).parent;e.edge(n,r).cutvalue=h(e,t,n)}(e,t,n)})}function h(e,t,n){var i=e.node(n).parent,o=!0,a=t.edge(n,i),s=0;return a||(o=!1,a=t.edge(i,n)),s=a.weight,r.forEach(t.nodeEdges(n),function(r){var a,l,u=r.v===n,c=u?r.w:r.v;if(c!==i){var f=u===o,h=t.edge(r).weight;if(s+=f?h:-h,a=n,l=c,e.hasEdge(a,l)){var d=e.edge(n,c).cutvalue;s+=f?-d:d}}}),s}function d(e,t){arguments.length<2&&(t=e.nodes()[0]),function e(t,n,i,o,a){var s=i,l=t.node(o);n[o]=!0;r.forEach(t.neighbors(o),function(a){r.has(n,a)||(i=e(t,n,i,a,o))});l.low=s;l.lim=i++;a?l.parent=a:delete l.parent;return i}(e,{},1,t)}function p(e){return r.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function m(e,t,n){var i=n.v,a=n.w;t.hasEdge(i,a)||(i=n.w,a=n.v);var s=e.node(i),l=e.node(a),u=s,c=!1;s.lim>l.lim&&(u=l,c=!0);var f=r.filter(t.edges(),function(t){return c===g(e,e.node(t.v),u)&&c!==g(e,e.node(t.w),u)});return r.minBy(f,function(e){return o(t,e)})}function v(e,t,n,i){var o=n.v,a=n.w;e.removeEdge(o,a),e.setEdge(i.v,i.w,{}),d(e),f(e,t),function(e,t){var n=r.find(e.nodes(),function(e){return!t.node(e).parent}),i=s(e,n);i=i.slice(1),r.forEach(i,function(n){var r=e.node(n).parent,i=t.edge(n,r),o=!1;i||(i=t.edge(r,n),o=!0),t.node(n).rank=t.node(r).rank+(o?i.minlen:-i.minlen)})}(e,t)}function g(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}e.exports=c,c.initLowLimValues=d,c.initCutValues=f,c.calcCutValue=h,c.leaveEdge=p,c.enterEdge=m,c.exchangeEdges=v},function(e,t,n){var r=n(14);e.exports=function(e){var t=function(e){var t={},n=0;return r.forEach(e.children(),function i(o){var a=n;r.forEach(e.children(o),i),t[o]={low:a,lim:n++}}),t}(e);r.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),i=r.edgeObj,o=function(e,t,n,r){var i,o,a=[],s=[],l=Math.min(t[n].low,t[r].low),u=Math.max(t[n].lim,t[r].lim);i=n;do{i=e.parent(i),a.push(i)}while(i&&(t[i].low>l||u>t[i].lim));o=i,i=r;for(;(i=e.parent(i))!==o;)s.push(i);return{path:a.concat(s.reverse()),lca:o}}(e,t,i.v,i.w),a=o.path,s=o.lca,l=0,u=a[l],c=!0;n!==i.w;){if(r=e.node(n),c){for(;(u=a[l])!==s&&e.node(u).maxRank<r.rank;)l++;u===s&&(c=!1)}if(!c){for(;l<a.length-1&&e.node(u=a[l+1]).minRank<=r.rank;)l++;u=a[l]}e.setParent(n,u),n=e.successors(n)[0]}})}},function(e,t,n){var r=n(14),i=n(21);e.exports={run:function(e){var t=i.addDummyNode(e,"root",{},"_root"),n=function(e){var t={};return r.forEach(e.children(),function(n){!function n(i,o){var a=e.children(i);a&&a.length&&r.forEach(a,function(e){n(e,o+1)}),t[i]=o}(n,1)}),t}(e),o=r.max(r.values(n))-1,a=2*o+1;e.graph().nestingRoot=t,r.forEach(e.edges(),function(t){e.edge(t).minlen*=a});var s=function(e){return r.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}(e)+1;r.forEach(e.children(),function(l){!function e(t,n,o,a,s,l,u){var c=t.children(u);if(!c.length)return void(u!==n&&t.setEdge(n,u,{weight:0,minlen:o}));var f=i.addBorderNode(t,"_bt"),h=i.addBorderNode(t,"_bb"),d=t.node(u);t.setParent(f,u);d.borderTop=f;t.setParent(h,u);d.borderBottom=h;r.forEach(c,function(r){e(t,n,o,a,s,l,r);var i=t.node(r),c=i.borderTop?i.borderTop:r,d=i.borderBottom?i.borderBottom:r,p=i.borderTop?a:2*a,m=c!==d?1:s-l[u]+1;t.setEdge(f,c,{weight:p,minlen:m,nestingEdge:!0}),t.setEdge(d,h,{weight:p,minlen:m,nestingEdge:!0})});t.parent(u)||t.setEdge(n,f,{weight:0,minlen:s+l[u]})}(e,t,a,s,o,n,l)}),e.graph().nodeRankFactor=a},cleanup:function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,r.forEach(e.edges(),function(t){var n=e.edge(t);n.nestingEdge&&e.removeEdge(t)})}}},function(e,t,n){var r=n(14),i=n(21);function o(e,t,n,r,o,a){var s={width:0,height:0,rank:a,borderType:t},l=o[t][a-1],u=i.addDummyNode(e,"border",s,n);o[t][a]=u,e.setParent(u,r),l&&e.setEdge(l,u,{weight:1})}e.exports=function(e){r.forEach(e.children(),function t(n){var i=e.children(n),a=e.node(n);i.length&&r.forEach(i,t);if(r.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var s=a.minRank,l=a.maxRank+1;s<l;++s)o(e,"borderLeft","_bl",n,a,s),o(e,"borderRight","_br",n,a,s)}})}},function(e,t,n){"use strict";var r=n(14);function i(e){r.forEach(e.nodes(),function(t){o(e.node(t))}),r.forEach(e.edges(),function(t){o(e.edge(t))})}function o(e){var t=e.width;e.width=e.height,e.height=t}function a(e){e.y=-e.y}function s(e){var t=e.x;e.x=e.y,e.y=t}e.exports={adjust:function(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||i(e)},undo:function(e){var t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||function(e){r.forEach(e.nodes(),function(t){a(e.node(t))}),r.forEach(e.edges(),function(t){var n=e.edge(t);r.forEach(n.points,a),r.has(n,"y")&&a(n)})}(e);"lr"!==t&&"rl"!==t||(!function(e){r.forEach(e.nodes(),function(t){s(e.node(t))}),r.forEach(e.edges(),function(t){var n=e.edge(t);r.forEach(n.points,s),r.has(n,"x")&&s(n)})}(e),i(e))}}},function(e,t,n){"use strict";var r=n(14),i=n(459),o=n(460),a=n(461),s=n(465),l=n(466),u=n(34).Graph,c=n(21);function f(e,t,n){return r.map(t,function(t){return s(e,t,n)})}function h(e,t){var n=new u;r.forEach(e,function(e){var i=e.graph().root,o=a(e,i,n,t);r.forEach(o.vs,function(t,n){e.node(t).order=n}),l(e,n,o.vs)})}function d(e,t){r.forEach(t,function(t){r.forEach(t,function(t,n){e.node(t).order=n})})}e.exports=function(e){var t=c.maxRank(e),n=f(e,r.range(1,t+1),"inEdges"),a=f(e,r.range(t-1,-1,-1),"outEdges"),s=i(e);d(e,s);for(var l,u=Number.POSITIVE_INFINITY,p=0,m=0;m<4;++p,++m){h(p%2?n:a,p%4>=2),s=c.buildLayerMatrix(e);var v=o(e,s);v<u&&(m=0,l=r.cloneDeep(s),u=v)}d(e,l)}},function(e,t,n){"use strict";var r=n(14);e.exports=function(e){var t={},n=r.filter(e.nodes(),function(t){return!e.children(t).length}),i=r.max(r.map(n,function(t){return e.node(t).rank})),o=r.map(r.range(i+1),function(){return[]});var a=r.sortBy(n,function(t){return e.node(t).rank});return r.forEach(a,function n(i){if(!r.has(t,i)){t[i]=!0;var a=e.node(i);o[a.rank].push(i),r.forEach(e.successors(i),n)}}),o}},function(e,t,n){"use strict";var r=n(14);function i(e,t,n){for(var i=r.zipObject(n,r.map(n,function(e,t){return t})),o=r.flatten(r.map(t,function(t){return r.sortBy(r.map(e.outEdges(t),function(t){return{pos:i[t.w],weight:e.edge(t).weight}}),"pos")}),!0),a=1;a<n.length;)a<<=1;var s=2*a-1;a-=1;var l=r.map(new Array(s),function(){return 0}),u=0;return r.forEach(o.forEach(function(e){var t=e.pos+a;l[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=l[t+1]),l[t=t-1>>1]+=e.weight;u+=e.weight*n})),u}e.exports=function(e,t){for(var n=0,r=1;r<t.length;++r)n+=i(e,t[r-1],t[r]);return n}},function(e,t,n){var r=n(14),i=n(462),o=n(463),a=n(464);e.exports=function e(t,n,s,l){var u=t.children(n),c=t.node(n),f=c?c.borderLeft:void 0,h=c?c.borderRight:void 0,d={};f&&(u=r.filter(u,function(e){return e!==f&&e!==h}));var p=i(t,u);r.forEach(p,function(n){if(t.children(n.v).length){var i=e(t,n.v,s,l);d[n.v]=i,r.has(i,"barycenter")&&(o=n,a=i,r.isUndefined(o.barycenter)?(o.barycenter=a.barycenter,o.weight=a.weight):(o.barycenter=(o.barycenter*o.weight+a.barycenter*a.weight)/(o.weight+a.weight),o.weight+=a.weight))}var o,a});var m=o(p,s);!function(e,t){r.forEach(e,function(e){e.vs=r.flatten(e.vs.map(function(e){return t[e]?t[e].vs:e}),!0)})}(m,d);var v=a(m,l);if(f&&(v.vs=r.flatten([f,v.vs,h],!0),t.predecessors(f).length)){var g=t.node(t.predecessors(f)[0]),y=t.node(t.predecessors(h)[0]);r.has(v,"barycenter")||(v.barycenter=0,v.weight=0),v.barycenter=(v.barycenter*v.weight+g.order+y.order)/(v.weight+2),v.weight+=2}return v}},function(e,t,n){var r=n(14);e.exports=function(e,t){return r.map(t,function(t){var n=e.inEdges(t);if(n.length){var i=r.reduce(n,function(t,n){var r=e.edge(n),i=e.node(n.v);return{sum:t.sum+r.weight*i.order,weight:t.weight+r.weight}},{sum:0,weight:0});return{v:t,barycenter:i.sum/i.weight,weight:i.weight}}return{v:t}})}},function(e,t,n){"use strict";var r=n(14);e.exports=function(e,t){var n={};return r.forEach(e,function(e,t){var i=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};r.isUndefined(e.barycenter)||(i.barycenter=e.barycenter,i.weight=e.weight)}),r.forEach(t.edges(),function(e){var t=n[e.v],i=n[e.w];r.isUndefined(t)||r.isUndefined(i)||(i.indegree++,t.out.push(n[e.w]))}),function(e){var t=[];function n(e){return function(t){t.merged||(r.isUndefined(t.barycenter)||r.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&function(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}(e,t)}}function i(t){return function(n){n.in.push(t),0===--n.indegree&&e.push(n)}}for(;e.length;){var o=e.pop();t.push(o),r.forEach(o.in.reverse(),n(o)),r.forEach(o.out,i(o))}return r.map(r.filter(t,function(e){return!e.merged}),function(e){return r.pick(e,["vs","i","barycenter","weight"])})}(r.filter(n,function(e){return!e.indegree}))}},function(e,t,n){var r=n(14),i=n(21);function o(e,t,n){for(var i;t.length&&(i=r.last(t)).i<=n;)t.pop(),e.push(i.vs),n++;return n}e.exports=function(e,t){var n=i.partition(e,function(e){return r.has(e,"barycenter")}),a=n.lhs,s=r.sortBy(n.rhs,function(e){return-e.i}),l=[],u=0,c=0,f=0;a.sort((h=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:h?t.i-e.i:e.i-t.i})),f=o(l,s,f),r.forEach(a,function(e){f+=e.vs.length,l.push(e.vs),u+=e.barycenter*e.weight,c+=e.weight,f=o(l,s,f)});var h;var d={vs:r.flatten(l,!0)};c&&(d.barycenter=u/c,d.weight=c);return d}},function(e,t,n){var r=n(14),i=n(34).Graph;e.exports=function(e,t,n){var o=function(e){var t;for(;e.hasNode(t=r.uniqueId("_root")););return t}(e),a=new i({compound:!0}).setGraph({root:o}).setDefaultNodeLabel(function(t){return e.node(t)});return r.forEach(e.nodes(),function(i){var s=e.node(i),l=e.parent(i);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(a.setNode(i),a.setParent(i,l||o),r.forEach(e[n](i),function(t){var n=t.v===i?t.w:t.v,o=a.edge(n,i),s=r.isUndefined(o)?0:o.weight;a.setEdge(n,i,{weight:e.edge(t).weight+s})}),r.has(s,"minRank")&&a.setNode(i,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))}),a}},function(e,t,n){var r=n(14);e.exports=function(e,t,n){var i,o={};r.forEach(n,function(n){for(var r,a,s=e.parent(n);s;){if((r=e.parent(s))?(a=o[r],o[r]=s):(a=i,i=s),a&&a!==s)return void t.setEdge(a,s);s=r}})}},function(e,t,n){"use strict";var r=n(14),i=n(21),o=n(468).positionX;e.exports=function(e){(function(e){var t=i.buildLayerMatrix(e),n=e.graph().ranksep,o=0;r.forEach(t,function(t){var i=r.max(r.map(t,function(t){return e.node(t).height}));r.forEach(t,function(t){e.node(t).y=o+i/2}),o+=i+n})})(e=i.asNonCompoundGraph(e)),r.forEach(o(e),function(t,n){e.node(n).x=t})}},function(e,t,n){"use strict";var r=n(14),i=n(34).Graph,o=n(21);function a(e,t){var n={};return r.reduce(t,function(t,i){var o=0,a=0,s=t.length,u=r.last(i);return r.forEach(i,function(t,c){var f=function(e,t){if(e.node(t).dummy)return r.find(e.predecessors(t),function(t){return e.node(t).dummy})}(e,t),h=f?e.node(f).order:s;(f||t===u)&&(r.forEach(i.slice(a,c+1),function(t){r.forEach(e.predecessors(t),function(r){var i=e.node(r),a=i.order;!(a<o||h<a)||i.dummy&&e.node(t).dummy||l(n,r,t)})}),a=c+1,o=h)}),i}),n}function s(e,t){var n={};function i(t,i,o,a,s){var u;r.forEach(r.range(i,o),function(i){u=t[i],e.node(u).dummy&&r.forEach(e.predecessors(u),function(t){var r=e.node(t);r.dummy&&(r.order<a||r.order>s)&&l(n,t,u)})})}return r.reduce(t,function(t,n){var o,a=-1,s=0;return r.forEach(n,function(r,l){if("border"===e.node(r).dummy){var u=e.predecessors(r);u.length&&(o=e.node(u[0]).order,i(n,s,l,a,o),s=l,a=o)}i(n,s,n.length,o,t.length)}),n}),n}function l(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function u(e,t,n){if(t>n){var i=t;t=n,n=i}return r.has(e[t],n)}function c(e,t,n,i){var o={},a={},s={};return r.forEach(t,function(e){r.forEach(e,function(e,t){o[e]=e,a[e]=e,s[e]=t})}),r.forEach(t,function(e){var t=-1;r.forEach(e,function(e){var l=i(e);if(l.length)for(var c=((l=r.sortBy(l,function(e){return s[e]})).length-1)/2,f=Math.floor(c),h=Math.ceil(c);f<=h;++f){var d=l[f];a[e]===e&&t<s[d]&&!u(n,e,d)&&(a[d]=e,a[e]=o[e]=o[d],t=s[d])}})}),{root:o,align:a}}function f(e,t,n,o,a){var s={},l=function(e,t,n,o){var a=new i,s=e.graph(),l=function(e,t,n){return function(i,o,a){var s,l=i.node(o),u=i.node(a),c=0;if(c+=l.width/2,r.has(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":s=-l.width/2;break;case"r":s=l.width/2}if(s&&(c+=n?s:-s),s=0,c+=(l.dummy?t:e)/2,c+=(u.dummy?t:e)/2,c+=u.width/2,r.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":s=u.width/2;break;case"r":s=-u.width/2}return s&&(c+=n?s:-s),s=0,c}}(s.nodesep,s.edgesep,o);return r.forEach(t,function(t){var i;r.forEach(t,function(t){var r=n[t];if(a.setNode(r),i){var o=n[i],s=a.edge(o,r);a.setEdge(o,r,Math.max(l(e,t,i),s||0))}i=t})}),a}(e,t,n,a),u=a?"borderLeft":"borderRight";function c(e,t){for(var n=l.nodes(),r=n.pop(),i={};r;)i[r]?e(r):(i[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()}return c(function(e){s[e]=l.inEdges(e).reduce(function(e,t){return Math.max(e,s[t.v]+l.edge(t))},0)},l.predecessors.bind(l)),c(function(t){var n=l.outEdges(t).reduce(function(e,t){return Math.min(e,s[t.w]-l.edge(t))},Number.POSITIVE_INFINITY),r=e.node(t);n!==Number.POSITIVE_INFINITY&&r.borderType!==u&&(s[t]=Math.max(s[t],n))},l.successors.bind(l)),r.forEach(o,function(e){s[e]=s[n[e]]}),s}function h(e,t){return r.minBy(r.values(t),function(t){var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return r.forIn(t,function(t,r){var o=function(e,t){return e.node(t).width}(e,r)/2;n=Math.max(t+o,n),i=Math.min(t-o,i)}),n-i})}function d(e,t){var n=r.values(t),i=r.min(n),o=r.max(n);r.forEach(["u","d"],function(n){r.forEach(["l","r"],function(a){var s,l=n+a,u=e[l];if(u!==t){var c=r.values(u);(s="l"===a?i-r.min(c):o-r.max(c))&&(e[l]=r.mapValues(u,function(e){return e+s}))}})})}function p(e,t){return r.mapValues(e.ul,function(n,i){if(t)return e[t.toLowerCase()][i];var o=r.sortBy(r.map(e,i));return(o[1]+o[2])/2})}e.exports={positionX:function(e){var t,n=o.buildLayerMatrix(e),i=r.merge(a(e,n),s(e,n)),l={};r.forEach(["u","d"],function(o){t="u"===o?n:r.values(n).reverse(),r.forEach(["l","r"],function(n){"r"===n&&(t=r.map(t,function(e){return r.values(e).reverse()}));var a=("u"===o?e.predecessors:e.successors).bind(e),s=c(e,t,i,a),u=f(e,t,s.root,s.align,"r"===n);"r"===n&&(u=r.mapValues(u,function(e){return-e})),l[o+n]=u})});var u=h(e,l);return d(l,u),p(l,e.graph().align)},findType1Conflicts:a,findType2Conflicts:s,addConflict:l,hasConflict:u,verticalAlignment:c,horizontalCompaction:f,alignCoordinates:d,findSmallestWidthAlignment:h,balance:p}},function(e,t,n){var r=n(14),i=n(21),o=n(34).Graph;e.exports={debugOrdering:function(e){var t=i.buildLayerMatrix(e),n=new o({compound:!0,multigraph:!0}).setGraph({});return r.forEach(e.nodes(),function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)}),r.forEach(e.edges(),function(e){n.setEdge(e.v,e.w,{},e.name)}),r.forEach(t,function(e,t){var i="layer"+t;n.setNode(i,{rank:"same"}),r.reduce(e,function(e,t){return n.setEdge(e,t,{style:"invis"}),t})}),n}}},function(e,t){e.exports="0.8.4"},function(e,t,n){e.exports={node:n(222),circle:n(223),ellipse:n(137),polygon:n(224),rect:n(225)}},function(e,t){function n(e,t){return e*t>0}e.exports=function(e,t,r,i){var o,a,s,l,u,c,f,h,d,p,m,v,g;if(o=t.y-e.y,s=e.x-t.x,u=t.x*e.y-e.x*t.y,d=o*r.x+s*r.y+u,p=o*i.x+s*i.y+u,0!==d&&0!==p&&n(d,p))return;if(a=i.y-r.y,l=r.x-i.x,c=i.x*r.y-r.x*i.y,f=a*e.x+l*e.y+c,h=a*t.x+l*t.y+c,0!==f&&0!==h&&n(f,h))return;if(0===(m=o*l-a*s))return;return v=Math.abs(m/2),{x:(g=s*c-l*u)<0?(g-v)/m:(g+v)/m,y:(g=a*u-o*c)<0?(g-v)/m:(g+v)/m}}},function(e,t,n){var r=n(60),i=n(43),o=n(210).layout;e.exports=function(){var e=n(474),t=n(478),i=n(479),u=n(480),c=n(481),f=n(482),h=n(483),d=n(484),p=n(485),m=function(n,m){!function(e){e.nodes().forEach(function(t){var n=e.node(t);r.has(n,"label")||e.children(t).length||(n.label=t),r.has(n,"paddingX")&&r.defaults(n,{paddingLeft:n.paddingX,paddingRight:n.paddingX}),r.has(n,"paddingY")&&r.defaults(n,{paddingTop:n.paddingY,paddingBottom:n.paddingY}),r.has(n,"padding")&&r.defaults(n,{paddingLeft:n.padding,paddingRight:n.padding,paddingTop:n.padding,paddingBottom:n.padding}),r.defaults(n,a),r.each(["paddingLeft","paddingRight","paddingTop","paddingBottom"],function(e){n[e]=Number(n[e])}),r.has(n,"width")&&(n._prevWidth=n.width),r.has(n,"height")&&(n._prevHeight=n.height)}),e.edges().forEach(function(t){var n=e.edge(t);r.has(n,"label")||(n.label=""),r.defaults(n,s)})}(m);var v=l(n,"output"),g=l(v,"clusters"),y=l(v,"edgePaths"),_=i(l(v,"edgeLabels"),m),b=e(l(v,"nodes"),m,d);o(m),c(b,m),f(_,m),u(y,m,p);var w=t(g,m);h(w,m),function(e){r.each(e.nodes(),function(t){var n=e.node(t);r.has(n,"_prevWidth")?n.width=n._prevWidth:delete n.width,r.has(n,"_prevHeight")?n.height=n._prevHeight:delete n.height,delete n._prevWidth,delete n._prevHeight})}(m)};return m.createNodes=function(t){return arguments.length?(e=t,m):e},m.createClusters=function(e){return arguments.length?(t=e,m):t},m.createEdgeLabels=function(e){return arguments.length?(i=e,m):i},m.createEdgePaths=function(e){return arguments.length?(u=e,m):u},m.shapes=function(e){return arguments.length?(d=e,m):d},m.arrows=function(e){return arguments.length?(p=e,m):p},m};var a={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},s={arrowhead:"normal",curve:i.curveLinear};function l(e,t){var n=e.select("g."+t);return n.empty()&&(n=e.append("g").attr("class",t)),n}},function(e,t,n){"use strict";var r=n(60),i=n(138),o=n(29),a=n(43);e.exports=function(e,t,n){var s,l=t.nodes().filter(function(e){return!o.isSubgraph(t,e)}),u=e.selectAll("g.node").data(l,function(e){return e}).classed("update",!0);u.exit().remove(),u.enter().append("g").attr("class","node").style("opacity",0),(u=e.selectAll("g.node")).each(function(e){var s=t.node(e),l=a.select(this);o.applyClass(l,s.class,(l.classed("update")?"update ":"")+"node"),l.select("g.label").remove();var u=l.append("g").attr("class","label"),c=i(u,s),f=n[s.shape],h=r.pick(c.node().getBBox(),"width","height");s.elem=this,s.id&&l.attr("id",s.id),s.labelId&&u.attr("id",s.labelId),r.has(s,"width")&&(h.width=s.width),r.has(s,"height")&&(h.height=s.height),h.width+=s.paddingLeft+s.paddingRight,h.height+=s.paddingTop+s.paddingBottom,u.attr("transform","translate("+(s.paddingLeft-s.paddingRight)/2+","+(s.paddingTop-s.paddingBottom)/2+")");var d=a.select(this);d.select(".label-container").remove();var p=f(d,h,s).classed("label-container",!0);o.applyStyle(p,s.style);var m=p.node().getBBox();s.width=m.width,s.height=m.height}),s=u.exit?u.exit():u.selectAll(null);return o.applyTransition(s,t).style("opacity",0).remove(),u}},function(e,t,n){var r=n(29);e.exports=function(e,t){for(var n=e.append("text"),i=function(e){for(var t,n="",r=!1,i=0;i<e.length;++i)if(t=e[i],r){switch(t){case"n":n+="\n";break;default:n+=t}r=!1}else"\\"===t?r=!0:n+=t;return n}(t.label).split("\n"),o=0;o<i.length;o++)n.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(i[o]);return r.applyStyle(n,t.labelStyle),n}},function(e,t,n){var r=n(29);e.exports=function(e,t){var n=e.append("foreignObject").attr("width","100000"),i=n.append("xhtml:div");i.attr("xmlns","http://www.w3.org/1999/xhtml");var o=t.label;switch(typeof o){case"function":i.insert(o);break;case"object":i.insert(function(){return o});break;default:i.html(o)}r.applyStyle(i,t.labelStyle),i.style("display","inline-block"),i.style("white-space","nowrap");var a=i.node().getBoundingClientRect();return n.attr("width",a.width).attr("height",a.height),n}},function(e,t,n){var r=n(29);e.exports=function(e,t){var n=e;return n.node().appendChild(t.label),r.applyStyle(n,t.labelStyle),n}},function(e,t,n){var r=n(29),i=n(43),o=n(138);e.exports=function(e,t){var n,a=t.nodes().filter(function(e){return r.isSubgraph(t,e)}),s=e.selectAll("g.cluster").data(a,function(e){return e});s.selectAll("*").remove(),s.enter().append("g").attr("class","cluster").attr("id",function(e){return t.node(e).id}).style("opacity",0),s=e.selectAll("g.cluster"),r.applyTransition(s,t).style("opacity",1),s.each(function(e){var n=t.node(e),r=i.select(this);i.select(this).append("rect");var a=r.append("g").attr("class","label");o(a,n,n.clusterLabelPos)}),s.selectAll("rect").each(function(e){var n=t.node(e),o=i.select(this);r.applyStyle(o,n.style)}),n=s.exit?s.exit():s.selectAll(null);return r.applyTransition(n,t).style("opacity",0).remove(),s}},function(e,t,n){"use strict";var r=n(60),i=n(138),o=n(29),a=n(43);e.exports=function(e,t){var n,s=e.selectAll("g.edgeLabel").data(t.edges(),function(e){return o.edgeToId(e)}).classed("update",!0);s.exit().remove(),s.enter().append("g").classed("edgeLabel",!0).style("opacity",0),(s=e.selectAll("g.edgeLabel")).each(function(e){var n=a.select(this);n.select(".label").remove();var o=t.edge(e),s=i(n,t.edge(e),0,0).classed("label",!0),l=s.node().getBBox();o.labelId&&s.attr("id",o.labelId),r.has(o,"width")||(o.width=l.width),r.has(o,"height")||(o.height=l.height)}),n=s.exit?s.exit():s.selectAll(null);return o.applyTransition(n,t).style("opacity",0).remove(),s}},function(e,t,n){"use strict";var r=n(60),i=n(222),o=n(29),a=n(43);function s(e,t){var n=(a.line||a.svg.line)().x(function(e){return e.x}).y(function(e){return e.y});return(n.curve||n.interpolate)(e.curve),n(t)}e.exports=function(e,t,n){var l=e.selectAll("g.edgePath").data(t.edges(),function(e){return o.edgeToId(e)}).classed("update",!0),u=function(e,t){var n=e.enter().append("g").attr("class","edgePath").style("opacity",0);return n.append("path").attr("class","path").attr("d",function(e){var n=t.edge(e),i=t.node(e.v).elem;return s(n,r.range(n.points.length).map(function(){return function(e){var t=e.getBBox(),n=e.ownerSVGElement.getScreenCTM().inverse().multiply(e.getScreenCTM()).translate(t.width/2,t.height/2);return{x:n.e,y:n.f}}(i)}))}),n.append("defs"),n}(l,t);!function(e,t){var n=e.exit();o.applyTransition(n,t).style("opacity",0).remove()}(l,t);var c=l.merge(u);return o.applyTransition(c,t).style("opacity",1),c.each(function(e){var n=a.select(this),r=t.edge(e);r.elem=this,r.id&&n.attr("id",r.id),o.applyClass(n,r.class,(n.classed("update")?"update ":"")+"edgePath")}),c.selectAll("path.path").each(function(e){var n=t.edge(e);n.arrowheadId=r.uniqueId("arrowhead");var l=a.select(this).attr("marker-end",function(){return"url("+(e=location.href,t=n.arrowheadId,e.split("#")[0]+"#"+t)+")";var e,t}).style("fill","none");o.applyTransition(l,t).attr("d",function(e){return function(e,t){var n=e.edge(t),r=e.node(t.v),o=e.node(t.w),a=n.points.slice(1,n.points.length-1);return a.unshift(i(r,a[0])),a.push(i(o,a[a.length-1])),s(n,a)}(t,e)}),o.applyStyle(l,n.style)}),c.selectAll("defs *").remove(),c.selectAll("defs").each(function(e){var r=t.edge(e);(0,n[r.arrowhead])(a.select(this),r.arrowheadId,r,"arrowhead")}),c}},function(e,t,n){"use strict";var r=n(29),i=n(43);e.exports=function(e,t){function n(e){var n=t.node(e);return"translate("+n.x+","+n.y+")"}e.filter(function(){return!i.select(this).classed("update")}).attr("transform",n),r.applyTransition(e,t).style("opacity",1).attr("transform",n)}},function(e,t,n){"use strict";var r=n(29),i=n(43),o=n(60);e.exports=function(e,t){function n(e){var n=t.edge(e);return o.has(n,"x")?"translate("+n.x+","+n.y+")":""}e.filter(function(){return!i.select(this).classed("update")}).attr("transform",n),r.applyTransition(e,t).style("opacity",1).attr("transform",n)}},function(e,t,n){"use strict";var r=n(29),i=n(43);e.exports=function(e,t){var n=e.filter(function(){return!i.select(this).classed("update")});function o(e){var n=t.node(e);return"translate("+n.x+","+n.y+")"}n.attr("transform",o),r.applyTransition(e,t).style("opacity",1).attr("transform",o),r.applyTransition(n.selectAll("rect"),t).attr("width",function(e){return t.node(e).width}).attr("height",function(e){return t.node(e).height}).attr("x",function(e){var n=t.node(e);return-n.width/2}).attr("y",function(e){var n=t.node(e);return-n.height/2})}},function(e,t,n){"use strict";var r=n(225),i=n(137),o=n(223),a=n(224);e.exports={rect:function(e,t,n){var i=e.insert("rect",":first-child").attr("rx",n.rx).attr("ry",n.ry).attr("x",-t.width/2).attr("y",-t.height/2).attr("width",t.width).attr("height",t.height);return n.intersect=function(e){return r(n,e)},i},ellipse:function(e,t,n){var r=t.width/2,o=t.height/2,a=e.insert("ellipse",":first-child").attr("x",-t.width/2).attr("y",-t.height/2).attr("rx",r).attr("ry",o);return n.intersect=function(e){return i(n,r,o,e)},a},circle:function(e,t,n){var r=Math.max(t.width,t.height)/2,i=e.insert("circle",":first-child").attr("x",-t.width/2).attr("y",-t.height/2).attr("r",r);return n.intersect=function(e){return o(n,r,e)},i},diamond:function(e,t,n){var r=t.width*Math.SQRT2/2,i=t.height*Math.SQRT2/2,o=[{x:0,y:-i},{x:-r,y:0},{x:0,y:i},{x:r,y:0}],s=e.insert("polygon",":first-child").attr("points",o.map(function(e){return e.x+","+e.y}).join(" "));return n.intersect=function(e){return a(n,o,e)},s}}},function(e,t,n){var r=n(29);function i(e,t,n,i){var o=e.append("marker").attr("id",t).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");r.applyStyle(o,n[i+"Style"]),n[i+"Class"]&&o.attr("class",n[i+"Class"])}e.exports={default:i,normal:i,vee:function(e,t,n,i){var o=e.append("marker").attr("id",t).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");r.applyStyle(o,n[i+"Style"]),n[i+"Class"]&&o.attr("class",n[i+"Class"])},undirected:function(e,t,n,i){var o=e.append("marker").attr("id",t).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");r.applyStyle(o,n[i+"Style"]),n[i+"Class"]&&o.attr("class",n[i+"Class"])}}},function(e,t){e.exports="0.6.3"},,,function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),a=new E(r||[]);return o._invoke=function(e,t,n){var r=c;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return T()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=M(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===c)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var l=u(e,t,n);if("normal"===l.type){if(r=n.done?d:f,l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=d,n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=l;var c="suspendedStart",f="suspendedYield",h="executing",d="completed",p={};function m(){}function v(){}function g(){}var y={};y[o]=function(){return this};var _=Object.getPrototypeOf,b=_&&_(_(I([])));b&&b!==n&&r.call(b,o)&&(y=b);var w=g.prototype=m.prototype=Object.create(y);function x(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function A(e){var t;this._invoke=function(n,i){function o(){return new Promise(function(t,o){!function t(n,i,o,a){var s=u(e[n],e,i);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"===typeof c&&r.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,o,a)},function(e){t("throw",e,o,a)}):Promise.resolve(c).then(function(e){l.value=e,o(l)},function(e){return t("throw",e,o,a)})}a(s.arg)}(n,i,t,o)})}return t=t?t.then(o,o):o()}}function M(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,M(e,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=u(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,p;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function I(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:T}}function T(){return{value:t,done:!0}}return v.prototype=w.constructor=g,g.constructor=v,g[s]=v.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},x(A.prototype),A.prototype[a]=function(){return this},e.AsyncIterator=A,e.async=function(t,n,r,i){var o=new A(l(t,n,r,i));return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},x(w),w[s]="Generator",w[o]=function(){return this},w.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(491),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(45))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i=1,o={},a=!1,s=e.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){c(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&c(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){c(e.data)},r=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){c(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(c,0,e)},l.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return o[i]=a,r(i),i++},l.clearImmediate=u}function u(e){delete o[e]}function c(e){if(a)setTimeout(c,0,e);else{var t=o[e];if(t){a=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{u(e),a=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(45),n(492))},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,u=[],c=!1,f=-1;function h(){c&&l&&(c=!1,l.length?u=l.concat(u):f=-1,u.length&&d())}function d(){if(!c){var e=s(h);c=!0;for(var t=u.length;t;){for(l=u,u=[];++f<t;)l&&l[f].run();f=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){(function(e){e.exports=function t(r){"use strict";var i=n(114),o=n(0),a=n(624);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;l.hasOwnProperty("ReactCurrentDispatcher")||(l.ReactCurrentDispatcher={current:null}),l.hasOwnProperty("ReactCurrentBatchConfig")||(l.ReactCurrentBatchConfig={suspense:null});var u="function"===typeof Symbol&&Symbol.for,c=u?Symbol.for("react.element"):60103,f=u?Symbol.for("react.portal"):60106,h=u?Symbol.for("react.fragment"):60107,d=u?Symbol.for("react.strict_mode"):60108,p=u?Symbol.for("react.profiler"):60114,m=u?Symbol.for("react.provider"):60109,v=u?Symbol.for("react.context"):60110,g=u?Symbol.for("react.concurrent_mode"):60111,y=u?Symbol.for("react.forward_ref"):60112,_=u?Symbol.for("react.suspense"):60113,b=u?Symbol.for("react.suspense_list"):60120,w=u?Symbol.for("react.memo"):60115,x=u?Symbol.for("react.lazy"):60116,A=u?Symbol.for("react.block"):60121,M="function"===typeof Symbol&&Symbol.iterator;function S(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}function C(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case h:return"Fragment";case f:return"Portal";case p:return"Profiler";case d:return"StrictMode";case _:return"Suspense";case b:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case v:return"Context.Consumer";case m:return"Context.Provider";case y:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case w:return C(e.type);case A:return C(e.render);case x:if(e=1===e._status?e._result:null)return C(e)}return null}function E(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function I(e){if(E(e)!==e)throw Error(s(188))}function T(e){var t=e.alternate;if(!t){if(null===(t=E(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return I(i),e;if(o===r)return I(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}function L(e){if(!(e=T(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var z=r.getPublicInstance,k=r.getRootHostContext,D=r.getChildHostContext,O=r.prepareForCommit,N=r.resetAfterCommit,j=r.createInstance,P=r.appendInitialChild,R=r.finalizeInitialChildren,$=r.prepareUpdate,F=r.shouldSetTextContent,K=r.shouldDeprioritizeSubtree,U=r.createTextInstance,V=r.setTimeout,B=r.clearTimeout,H=r.noTimeout,G=r.isPrimaryRenderer,Q=r.supportsMutation,q=r.supportsPersistence,W=r.supportsHydration,Y=r.appendChild,X=r.appendChildToContainer,J=r.commitTextUpdate,Z=r.commitMount,ee=r.commitUpdate,te=r.insertBefore,ne=r.insertInContainerBefore,re=r.removeChild,ie=r.removeChildFromContainer,oe=r.resetTextContent,ae=r.hideInstance,se=r.hideTextInstance,le=r.unhideInstance,ue=r.unhideTextInstance,ce=r.cloneInstance,fe=r.createContainerChildSet,he=r.appendChildToContainerChildSet,de=r.finalizeContainerChildren,pe=r.replaceContainerChildren,me=r.cloneHiddenInstance,ve=r.cloneHiddenTextInstance,ge=r.canHydrateInstance,ye=r.canHydrateTextInstance,_e=r.isSuspenseInstancePending,be=r.isSuspenseInstanceFallback,we=r.getNextHydratableSibling,xe=r.getFirstHydratableChild,Ae=r.hydrateInstance,Me=r.hydrateTextInstance,Se=r.getNextHydratableInstanceAfterSuspenseInstance,Ce=r.commitHydratedContainer,Ee=r.commitHydratedSuspenseInstance,Ie=/^(.*)[\\\/]/;function Te(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=C(e.type);n=null,r&&(n=C(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(Ie,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}var Le=[],ze=-1;function ke(e){0>ze||(e.current=Le[ze],Le[ze]=null,ze--)}function De(e,t){Le[++ze]=e.current,e.current=t}var Oe={},Ne={current:Oe},je={current:!1},Pe=Oe;function Re(e,t){var n=e.type.contextTypes;if(!n)return Oe;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function $e(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Fe(){ke(je),ke(Ne)}function Ke(e,t,n){if(Ne.current!==Oe)throw Error(s(168));De(Ne,t),De(je,n)}function Ue(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(s(108,C(t)||"Unknown",o));return i({},n,{},r)}function Ve(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Oe,Pe=Ne.current,De(Ne,e),De(je,je.current),!0}function Be(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Ue(e,t,Pe),r.__reactInternalMemoizedMergedChildContext=e,ke(je),ke(Ne),De(Ne,e)):ke(je),De(je,n)}var He=a.unstable_runWithPriority,Ge=a.unstable_scheduleCallback,Qe=a.unstable_cancelCallback,qe=a.unstable_requestPaint,We=a.unstable_now,Ye=a.unstable_getCurrentPriorityLevel,Xe=a.unstable_ImmediatePriority,Je=a.unstable_UserBlockingPriority,Ze=a.unstable_NormalPriority,et=a.unstable_LowPriority,tt=a.unstable_IdlePriority,nt={},rt=a.unstable_shouldYield,it=void 0!==qe?qe:function(){},ot=null,at=null,st=!1,lt=We(),ut=1e4>lt?We:function(){return We()-lt};function ct(){switch(Ye()){case Xe:return 99;case Je:return 98;case Ze:return 97;case et:return 96;case tt:return 95;default:throw Error(s(332))}}function ft(e){switch(e){case 99:return Xe;case 98:return Je;case 97:return Ze;case 96:return et;case 95:return tt;default:throw Error(s(332))}}function ht(e,t){return e=ft(e),He(e,t)}function dt(e,t,n){return e=ft(e),Ge(e,t,n)}function pt(e){return null===ot?(ot=[e],at=Ge(Xe,vt)):ot.push(e),nt}function mt(){if(null!==at){var e=at;at=null,Qe(e)}vt()}function vt(){if(!st&&null!==ot){st=!0;var e=0;try{var t=ot;ht(99,function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}}),ot=null}catch(n){throw null!==ot&&(ot=ot.slice(e+1)),Ge(Xe,mt),n}finally{st=!1}}}function gt(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}var yt="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},_t=Object.prototype.hasOwnProperty;function bt(e,t){if(yt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!_t.call(t,n[r])||!yt(e[n[r]],t[n[r]]))return!1;return!0}function wt(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var xt={current:null},At=null,Mt=null,St=null;function Ct(){St=Mt=At=null}function Et(e,t){e=e.type._context,G?(De(xt,e._currentValue),e._currentValue=t):(De(xt,e._currentValue2),e._currentValue2=t)}function It(e){var t=xt.current;ke(xt),e=e.type._context,G?e._currentValue=t:e._currentValue2=t}function Tt(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function Lt(e,t){At=e,St=Mt=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(ir=!0),e.firstContext=null)}function zt(e,t){if(St!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(St=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Mt){if(null===At)throw Error(s(308));Mt=t,At.dependencies={expirationTime:0,firstContext:t,responders:null}}else Mt=Mt.next=t;return G?e._currentValue:e._currentValue2}var kt=!1;function Dt(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function Ot(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function Nt(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function jt(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function Pt(e,t){var n=e.alternate;null!==n&&Ot(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function Rt(e,t,n,r){var o=e.updateQueue;kt=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var l=a.next;a.next=s.next,s.next=l}a=s,o.shared.pending=null,null!==(l=e.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=s))}if(null!==a){l=a.next;var u=o.baseState,c=0,f=null,h=null,d=null;if(null!==l)for(var p=l;;){if((s=p.expirationTime)<r){var m={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===d?(h=d=m,f=u):d=d.next=m,s>c&&(c=s)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),Bi(s,p.suspenseConfig);e:{var v=e,g=p;switch(s=t,m=n,g.tag){case 1:if("function"===typeof(v=g.payload)){u=v.call(m,u,s);break e}u=v;break e;case 3:v.effectTag=-4097&v.effectTag|64;case 0:if(null===(s="function"===typeof(v=g.payload)?v.call(m,u,s):v)||void 0===s)break e;u=i({},u,s);break e;case 2:kt=!0}}null!==p.callback&&(e.effectTag|=32,null===(s=o.effects)?o.effects=[p]:s.push(p))}if(null===(p=p.next)||p===l){if(null===(s=o.shared.pending))break;p=a.next=s.next,s.next=l,o.baseQueue=a=s,o.shared.pending=null}}null===d?f=u:d.next=h,o.baseState=f,o.baseQueue=d,Hi(c),e.expirationTime=c,e.memoizedState=u}}function $t(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(s(191,r));r.call(i)}}}var Ft=l.ReactCurrentBatchConfig,Kt=(new o.Component).refs;function Ut(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var Vt={isMounted:function(e){return!!(e=e._reactInternalFiber)&&E(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=ki(),i=Ft.suspense;(i=Nt(r=Di(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),jt(e,i),Oi(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=ki(),i=Ft.suspense;(i=Nt(r=Di(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),jt(e,i),Oi(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=ki(),r=Ft.suspense;(r=Nt(n=Di(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),jt(e,r),Oi(e,n)}};function Bt(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!bt(n,r)||!bt(i,o))}function Ht(e,t,n){var r=!1,i=Oe,o=t.contextType;return"object"===typeof o&&null!==o?o=zt(o):(i=$e(t)?Pe:Ne.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Re(e,i):Oe),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Vt,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Gt(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vt.enqueueReplaceState(t,t.state,null)}function Qt(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Kt,Dt(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=zt(o):(o=$e(t)?Pe:Ne.current,i.context=Re(e,o)),Rt(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Ut(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Vt.enqueueReplaceState(i,i.state,null),Rt(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var qt=Array.isArray;function Wt(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===Kt&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Yt(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Xt(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=co(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function a(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=po(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Wt(e,t,n),r.return=e,r):((r=fo(n.type,n.key,n.props,null,e.mode,r)).ref=Wt(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=mo(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,o){return null===t||7!==t.tag?((t=ho(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=po(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case c:return(n=fo(t.type,t.key,t.props,null,e.mode,n)).ref=Wt(e,null,t),n.return=e,n;case f:return(t=mo(t,e.mode,n)).return=e,t}if(qt(t)||S(t))return(t=ho(t,e.mode,n,null)).return=e,t;Yt(e,t)}return null}function v(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case c:return n.key===i?n.type===h?p(e,t,n.props.children,r,i):u(e,t,n,r):null;case f:return n.key===i?d(e,t,n,r):null}if(qt(n)||S(n))return null!==i?null:p(e,t,n,r,null);Yt(e,n)}return null}function g(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case c:return e=e.get(null===r.key?n:r.key)||null,r.type===h?p(t,e,r.props.children,i,r.key):u(t,e,r,i);case f:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(qt(r)||S(r))return p(t,e=e.get(n)||null,r,i,null);Yt(t,r)}return null}function y(i,a,s,l){for(var u=null,c=null,f=a,h=a=0,d=null;null!==f&&h<s.length;h++){f.index>h?(d=f,f=null):d=f.sibling;var p=v(i,f,s[h],l);if(null===p){null===f&&(f=d);break}e&&f&&null===p.alternate&&t(i,f),a=o(p,a,h),null===c?u=p:c.sibling=p,c=p,f=d}if(h===s.length)return n(i,f),u;if(null===f){for(;h<s.length;h++)null!==(f=m(i,s[h],l))&&(a=o(f,a,h),null===c?u=f:c.sibling=f,c=f);return u}for(f=r(i,f);h<s.length;h++)null!==(d=g(f,i,h,s[h],l))&&(e&&null!==d.alternate&&f.delete(null===d.key?h:d.key),a=o(d,a,h),null===c?u=d:c.sibling=d,c=d);return e&&f.forEach(function(e){return t(i,e)}),u}function _(i,a,l,u){var c=S(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var f=c=null,h=a,d=a=0,p=null,y=l.next();null!==h&&!y.done;d++,y=l.next()){h.index>d?(p=h,h=null):p=h.sibling;var _=v(i,h,y.value,u);if(null===_){null===h&&(h=p);break}e&&h&&null===_.alternate&&t(i,h),a=o(_,a,d),null===f?c=_:f.sibling=_,f=_,h=p}if(y.done)return n(i,h),c;if(null===h){for(;!y.done;d++,y=l.next())null!==(y=m(i,y.value,u))&&(a=o(y,a,d),null===f?c=y:f.sibling=y,f=y);return c}for(h=r(i,h);!y.done;d++,y=l.next())null!==(y=g(h,i,d,y.value,u))&&(e&&null!==y.alternate&&h.delete(null===y.key?d:y.key),a=o(y,a,d),null===f?c=y:f.sibling=y,f=y);return e&&h.forEach(function(e){return t(i,e)}),c}return function(e,r,o,l){var u="object"===typeof o&&null!==o&&o.type===h&&null===o.key;u&&(o=o.props.children);var d="object"===typeof o&&null!==o;if(d)switch(o.$$typeof){case c:e:{for(d=o.key,u=r;null!==u;){if(u.key===d){switch(u.tag){case 7:if(o.type===h){n(e,u.sibling),(r=i(u,o.props.children)).return=e,e=r;break e}break;default:if(u.elementType===o.type){n(e,u.sibling),(r=i(u,o.props)).ref=Wt(e,u,o),r.return=e,e=r;break e}}n(e,u);break}t(e,u),u=u.sibling}o.type===h?((r=ho(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=fo(o.type,o.key,o.props,null,e.mode,l)).ref=Wt(e,r,o),l.return=e,e=l)}return a(e);case f:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=mo(o,e.mode,l)).return=e,e=r}return a(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=po(o,e.mode,l)).return=e,e=r),a(e);if(qt(o))return y(e,r,o,l);if(S(o))return _(e,r,o,l);if(d&&Yt(e,o),"undefined"===typeof o&&!u)switch(e.tag){case 1:case 0:throw e=e.type,Error(s(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Jt=Xt(!0),Zt=Xt(!1),en={},tn={current:en},nn={current:en},rn={current:en};function on(e){if(e===en)throw Error(s(174));return e}function an(e,t){De(rn,t),De(nn,e),De(tn,en),e=k(t),ke(tn),De(tn,e)}function sn(){ke(tn),ke(nn),ke(rn)}function ln(e){var t=on(rn.current),n=on(tn.current);n!==(t=D(n,e.type,t))&&(De(nn,e),De(tn,t))}function un(e){nn.current===e&&(ke(tn),ke(nn))}var cn={current:0};function fn(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||_e(n)||be(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function hn(e,t){return{responder:e,props:t}}var dn=l.ReactCurrentDispatcher,pn=l.ReactCurrentBatchConfig,mn=0,vn=null,gn=null,yn=null,_n=!1;function bn(){throw Error(s(321))}function wn(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yt(e[n],t[n]))return!1;return!0}function xn(e,t,n,r,i,o){if(mn=o,vn=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,dn.current=null===e||null===e.memoizedState?Hn:Gn,e=n(r,i),t.expirationTime===mn){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(s(301));o+=1,yn=gn=null,t.updateQueue=null,dn.current=Qn,e=n(r,i)}while(t.expirationTime===mn)}if(dn.current=Bn,t=null!==gn&&null!==gn.next,mn=0,yn=gn=vn=null,_n=!1,t)throw Error(s(300));return e}function An(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yn?vn.memoizedState=yn=e:yn=yn.next=e,yn}function Mn(){if(null===gn){var e=vn.alternate;e=null!==e?e.memoizedState:null}else e=gn.next;var t=null===yn?vn.memoizedState:yn.next;if(null!==t)yn=t,gn=e;else{if(null===e)throw Error(s(310));e={memoizedState:(gn=e).memoizedState,baseState:gn.baseState,baseQueue:gn.baseQueue,queue:gn.queue,next:null},null===yn?vn.memoizedState=yn=e:yn=yn.next=e}return yn}function Sn(e,t){return"function"===typeof t?t(e):t}function Cn(e){var t=Mn(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=gn,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=a=o=null,u=i;do{var c=u.expirationTime;if(c<mn){var f={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(a=l=f,o=r):l=l.next=f,c>vn.expirationTime&&(vn.expirationTime=c,Hi(c))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),Bi(c,u.suspenseConfig),r=u.eagerReducer===e?u.eagerState:e(r,u.action);u=u.next}while(null!==u&&u!==i);null===l?o=r:l.next=a,yt(r,t.memoizedState)||(ir=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function En(e){var t=Mn(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);yt(o,t.memoizedState)||(ir=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function In(e){var t=An();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:e}).dispatch=Vn.bind(null,vn,e),[t.memoizedState,e]}function Tn(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vn.updateQueue)?(t={lastEffect:null},vn.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ln(){return Mn().memoizedState}function zn(e,t,n,r){var i=An();vn.effectTag|=e,i.memoizedState=Tn(1|t,n,void 0,void 0===r?null:r)}function kn(e,t,n,r){var i=Mn();r=void 0===r?null:r;var o=void 0;if(null!==gn){var a=gn.memoizedState;if(o=a.destroy,null!==r&&wn(r,a.deps))return void Tn(t,n,o,r)}vn.effectTag|=e,i.memoizedState=Tn(1|t,n,o,r)}function Dn(e,t){return zn(516,4,e,t)}function On(e,t){return kn(516,4,e,t)}function Nn(e,t){return kn(4,2,e,t)}function jn(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Pn(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,kn(4,2,jn.bind(null,t,e),n)}function Rn(){}function $n(e,t){return An().memoizedState=[e,void 0===t?null:t],e}function Fn(e,t){var n=Mn();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&wn(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Kn(e,t){var n=Mn();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&wn(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Un(e,t,n){var r=ct();ht(98>r?98:r,function(){e(!0)}),ht(97<r?97:r,function(){var r=pn.suspense;pn.suspense=void 0===t?null:t;try{e(!1),n()}finally{pn.suspense=r}})}function Vn(e,t,n){var r=ki(),i=Ft.suspense;i={expirationTime:r=Di(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===vn||null!==o&&o===vn)_n=!0,i.expirationTime=mn,vn.expirationTime=mn;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,yt(s,a))return}catch(l){}Oi(e,r)}}var Bn={readContext:zt,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useLayoutEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useResponder:bn,useDeferredValue:bn,useTransition:bn},Hn={readContext:zt,useCallback:$n,useContext:zt,useEffect:Dn,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zn(4,2,jn.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zn(4,2,e,t)},useMemo:function(e,t){var n=An();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=An();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Vn.bind(null,vn,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},An().memoizedState=e},useState:In,useDebugValue:Rn,useResponder:hn,useDeferredValue:function(e,t){var n=In(e),r=n[0],i=n[1];return Dn(function(){var n=pn.suspense;pn.suspense=void 0===t?null:t;try{i(e)}finally{pn.suspense=n}},[e,t]),r},useTransition:function(e){var t=In(!1),n=t[0];return t=t[1],[$n(Un.bind(null,t,e),[t,e]),n]}},Gn={readContext:zt,useCallback:Fn,useContext:zt,useEffect:On,useImperativeHandle:Pn,useLayoutEffect:Nn,useMemo:Kn,useReducer:Cn,useRef:Ln,useState:function(){return Cn(Sn)},useDebugValue:Rn,useResponder:hn,useDeferredValue:function(e,t){var n=Cn(Sn),r=n[0],i=n[1];return On(function(){var n=pn.suspense;pn.suspense=void 0===t?null:t;try{i(e)}finally{pn.suspense=n}},[e,t]),r},useTransition:function(e){var t=Cn(Sn),n=t[0];return t=t[1],[Fn(Un.bind(null,t,e),[t,e]),n]}},Qn={readContext:zt,useCallback:Fn,useContext:zt,useEffect:On,useImperativeHandle:Pn,useLayoutEffect:Nn,useMemo:Kn,useReducer:En,useRef:Ln,useState:function(){return En(Sn)},useDebugValue:Rn,useResponder:hn,useDeferredValue:function(e,t){var n=En(Sn),r=n[0],i=n[1];return On(function(){var n=pn.suspense;pn.suspense=void 0===t?null:t;try{i(e)}finally{pn.suspense=n}},[e,t]),r},useTransition:function(e){var t=En(Sn),n=t[0];return t=t[1],[Fn(Un.bind(null,t,e),[t,e]),n]}},qn=null,Wn=null,Yn=!1;function Xn(e,t){var n=lo(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Jn(e,t){switch(e.tag){case 5:return null!==(t=ge(t,e.type,e.pendingProps))&&(e.stateNode=t,!0);case 6:return null!==(t=ye(t,e.pendingProps))&&(e.stateNode=t,!0);case 13:default:return!1}}function Zn(e){if(Yn){var t=Wn;if(t){var n=t;if(!Jn(e,t)){if(!(t=we(n))||!Jn(e,t))return e.effectTag=-1025&e.effectTag|2,Yn=!1,void(qn=e);Xn(qn,n)}qn=e,Wn=xe(t)}else e.effectTag=-1025&e.effectTag|2,Yn=!1,qn=e}}function er(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;qn=e}function tr(e){if(!W||e!==qn)return!1;if(!Yn)return er(e),Yn=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!F(t,e.memoizedProps))for(t=Wn;t;)Xn(e,t),t=we(t);if(er(e),13===e.tag){if(!W)throw Error(s(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));Wn=Se(e)}else Wn=qn?we(e.stateNode):null;return!0}function nr(){W&&(Wn=qn=null,Yn=!1)}var rr=l.ReactCurrentOwner,ir=!1;function or(e,t,n,r){t.child=null===e?Zt(t,null,n,r):Jt(t,e.child,n,r)}function ar(e,t,n,r,i){n=n.render;var o=t.ref;return Lt(t,i),r=xn(e,t,n,r,o,i),null===e||ir?(t.effectTag|=1,or(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Ar(e,t,i))}function sr(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||uo(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=fo(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,lr(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:bt)(i,r)&&e.ref===t.ref)?Ar(e,t,o):(t.effectTag|=1,(e=co(a,r)).ref=t.ref,e.return=t,t.child=e)}function lr(e,t,n,r,i,o){return null!==e&&bt(e.memoizedProps,r)&&e.ref===t.ref&&(ir=!1,i<o)?(t.expirationTime=e.expirationTime,Ar(e,t,o)):cr(e,t,n,r,o)}function ur(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function cr(e,t,n,r,i){var o=$e(n)?Pe:Ne.current;return o=Re(t,o),Lt(t,i),n=xn(e,t,n,r,o,i),null===e||ir?(t.effectTag|=1,or(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Ar(e,t,i))}function fr(e,t,n,r,i){if($e(n)){var o=!0;Ve(t)}else o=!1;if(Lt(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Ht(t,n,r),Qt(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=zt(u):u=Re(t,u=$e(n)?Pe:Ne.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&Gt(t,a,r,u),kt=!1;var h=t.memoizedState;a.state=h,Rt(t,r,a,i),l=t.memoizedState,s!==r||h!==l||je.current||kt?("function"===typeof c&&(Ut(t,n,c,r),l=t.memoizedState),(s=kt||Bt(t,n,s,r,h,l,u))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"===typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,Ot(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:wt(t.type,s),l=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=zt(u):u=Re(t,u=$e(n)?Pe:Ne.current),(f="function"===typeof(c=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&Gt(t,a,r,u),kt=!1,l=t.memoizedState,a.state=l,Rt(t,r,a,i),h=t.memoizedState,s!==r||l!==h||je.current||kt?("function"===typeof c&&(Ut(t,n,c,r),h=t.memoizedState),(c=kt||Bt(t,n,s,r,l,h,u))?(f||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,u)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return hr(e,t,n,r,o,i)}function hr(e,t,n,r,i,o){ur(e,t);var a=0!==(64&t.effectTag);if(!r&&!a)return i&&Be(t,n,!1),Ar(e,t,o);r=t.stateNode,rr.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=Jt(t,e.child,null,o),t.child=Jt(t,null,s,o)):or(e,t,s,o),t.memoizedState=r.state,i&&Be(t,n,!0),t.child}function dr(e){var t=e.stateNode;t.pendingContext?Ke(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ke(0,t.context,!1),an(e,t.containerInfo)}var pr,mr,vr,gr,yr={dehydrated:null,retryTime:0};function _r(e,t,n){var r,i=t.mode,o=t.pendingProps,a=cn.current,s=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),De(cn,1&a),null===e){if(void 0!==o.fallback&&Zn(t),s){if(s=o.fallback,(o=ho(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=ho(s,i,n,null)).return=t,o.sibling=n,t.memoizedState=yr,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=Zt(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(n=co(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=co(i,o)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=yr,t.child=n,i}return n=Jt(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=ho(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=ho(s,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=yr,t.child=o,n}return t.memoizedState=null,t.child=Jt(t,e,o.children,n)}function br(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),Tt(e.return,t)}function wr(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function xr(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(or(e,t,r.children,n),0!==(2&(r=cn.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&br(e,n);else if(19===e.tag)br(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(De(cn,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===fn(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),wr(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===fn(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}wr(t,!0,n,null,o,t.lastEffect);break;case"together":wr(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Ar(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&Hi(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=co(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=co(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Mr(e){e.effectTag|=4}if(Q)pr=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)P(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},mr=function(){},vr=function(e,t,n,r,i){if((e=e.memoizedProps)!==r){var o=t.stateNode,a=on(tn.current);n=$(o,n,e,r,i,a),(t.updateQueue=n)&&Mr(t)}},gr=function(e,t,n,r){n!==r&&Mr(t)};else if(q){pr=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var o=i.stateNode;n&&r&&(o=me(o,i.type,i.memoizedProps,i)),P(e,o)}else if(6===i.tag)o=i.stateNode,n&&r&&(o=ve(o,i.memoizedProps,i)),P(e,o);else if(4!==i.tag){if(13===i.tag&&0!==(4&i.effectTag)&&(o=null!==i.memoizedState)){var a=i.child;if(null!==a&&(null!==a.child&&(a.child.return=a,pr(e,a,!0,o)),null!==(o=a.sibling))){o.return=i,i=o;continue}}if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};mr=function(e){var t=e.stateNode;if(null!==e.firstEffect){var n=t.containerInfo,r=fe(n);!function e(t,n,r,i){for(var o=n.child;null!==o;){if(5===o.tag){var a=o.stateNode;r&&i&&(a=me(a,o.type,o.memoizedProps,o)),he(t,a)}else if(6===o.tag)a=o.stateNode,r&&i&&(a=ve(a,o.memoizedProps,o)),he(t,a);else if(4!==o.tag){if(13===o.tag&&0!==(4&o.effectTag)&&(a=null!==o.memoizedState)){var s=o.child;if(null!==s&&(null!==s.child&&(s.child.return=s,e(t,s,!0,a)),null!==(a=s.sibling))){a.return=o,o=a;continue}}if(null!==o.child){o.child.return=o,o=o.child;continue}}if(o===n)break;for(;null===o.sibling;){if(null===o.return||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}}(r,e,!1,!1),t.pendingChildren=r,Mr(e),de(n,r)}},vr=function(e,t,n,r,i){var o=e.stateNode,a=e.memoizedProps;if((e=null===t.firstEffect)&&a===r)t.stateNode=o;else{var s=t.stateNode,l=on(tn.current),u=null;a!==r&&(u=$(s,n,a,r,i,l)),e&&null===u?t.stateNode=o:(o=ce(o,u,n,a,r,t,e,s),R(o,n,r,i,l)&&Mr(t),t.stateNode=o,e?Mr(t):pr(o,t,!1,!1))}},gr=function(e,t,n,r){n!==r?(e=on(rn.current),n=on(tn.current),t.stateNode=U(r,e,n,t),Mr(t)):t.stateNode=e.stateNode}}else mr=function(){},vr=function(){},gr=function(){};function Sr(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Cr(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return $e(t.type)&&Fe(),null;case 3:return sn(),ke(je),ke(Ne),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(null===e||null===e.child)&&tr(t)&&Mr(t),mr(t),null;case 5:un(t);var i=on(rn.current);if(n=t.type,null!==e&&null!=t.stateNode)vr(e,t,n,r,i),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(s(166));return null}if(e=on(tn.current),tr(t)){if(!W)throw Error(s(175));e=Ae(t.stateNode,t.type,t.memoizedProps,i,e,t),t.updateQueue=e,null!==e&&Mr(t)}else{var o=j(n,r,i,e,t);pr(o,t,!1,!1),t.stateNode=o,R(o,n,r,i,e)&&Mr(t)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)gr(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=on(rn.current),i=on(tn.current),tr(t)){if(!W)throw Error(s(176));Me(t.stateNode,t.memoizedProps,t)&&Mr(t)}else t.stateNode=U(r,e,i,t)}return null;case 13:return ke(cn),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(r=null!==r,i=!1,null===e?void 0!==t.memoizedProps.fallback&&tr(t):(i=null!==(n=e.memoizedState),r||null===n||null!==(n=e.child.sibling)&&(null!==(o=t.firstEffect)?(t.firstEffect=n,n.nextEffect=o):(t.firstEffect=t.lastEffect=n,n.nextEffect=null),n.effectTag=8)),r&&!i&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&cn.current)?hi===ni&&(hi=oi):(hi!==ni&&hi!==oi||(hi=ai),0!==gi&&null!==ui&&(yo(ui,fi),_o(ui,gi)))),q&&r&&(t.effectTag|=4),Q&&(r||i)&&(t.effectTag|=4),null);case 4:return sn(),mr(t),null;case 10:return It(t),null;case 17:return $e(t.type)&&Fe(),null;case 19:if(ke(cn),null===(r=t.memoizedState))return null;if(i=0!==(64&t.effectTag),null===(o=r.rendering)){if(i)Sr(r,!1);else if(hi!==ni||null!==e&&0!==(64&e.effectTag))for(e=t.child;null!==e;){if(null!==(o=fn(e))){for(t.effectTag|=64,Sr(r,!1),null!==(e=o.updateQueue)&&(t.updateQueue=e,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,e=n,r=t.child;null!==r;)n=e,(i=r).effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(o=i.alternate)?(i.childExpirationTime=0,i.expirationTime=n,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=o.childExpirationTime,i.expirationTime=o.expirationTime,i.child=o.child,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,n=o.dependencies,i.dependencies=null===n?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders}),r=r.sibling;return De(cn,1&cn.current|2),t.child}e=e.sibling}}else{if(!i)if(null!==(e=fn(o))){if(t.effectTag|=64,i=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.effectTag|=4),Sr(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*ut()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,i=!0,Sr(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=r.last)?e.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=ut()+500),e=r.tail,r.rendering=e,r.tail=e.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=ut(),e.sibling=null,t=cn.current,De(cn,i?1&t|2:1&t),e):null}throw Error(s(156,t.tag))}function Er(e){switch(e.tag){case 1:$e(e.type)&&Fe();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(sn(),ke(je),ke(Ne),0!==(64&(t=e.effectTag)))throw Error(s(285));return e.effectTag=-4097&t|64,e;case 5:return un(e),null;case 13:return ke(cn),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return ke(cn),null;case 4:return sn(),null;case 10:return It(e),null;default:return null}}function Ir(e,t){return{value:e,source:t,stack:Te(t)}}var Tr="function"===typeof WeakSet?WeakSet:Set;function Lr(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=Te(n)),null!==n&&C(n.type),t=t.value,null!==e&&1===e.tag&&C(e.type);try{console.error(t)}catch(i){setTimeout(function(){throw i})}}function zr(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){no(e,n)}else t.current=null}function kr(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:wt(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(s(163))}function Dr(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function Or(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Nr(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void Or(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:wt(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&$t(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=z(n.child.stateNode);break;case 1:e=n.child.stateNode}$t(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&Z(e,n.type,n.memoizedProps,n));case 6:case 4:case 12:return;case 13:return void(W&&null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ee(n)))));case 19:case 17:case 20:case 21:return}throw Error(s(163))}function jr(e,t,n){switch("function"===typeof ao&&ao(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;ht(97<n?97:n,function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(o){no(i,o)}}e=e.next}while(e!==r)})}break;case 1:zr(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){no(e,n)}}(t,n);break;case 5:zr(t);break;case 4:Q?Kr(e,t,n):q&&function(e){if(q){e=e.stateNode.containerInfo;var t=fe(e);pe(e,t)}}(t)}}function Pr(e,t,n){for(var r=t;;)if(jr(e,r,n),null===r.child||Q&&4===r.tag){if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function Rr(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&Rr(t)}function $r(e){return 5===e.tag||3===e.tag||4===e.tag}function Fr(e){if(Q){e:{for(var t=e.return;null!==t;){if($r(t)){var n=t;break e}t=t.return}throw Error(s(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.effectTag&&(oe(t),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||$r(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?ne(r,t,n):X(r,t);else if(4!==i&&(t=t.child,null!==t))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?te(r,t,n):Y(r,t);else if(4!==i&&(t=t.child,null!==t))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}}function Kr(e,t,n){for(var r,i,o=t,a=!1;;){if(!a){a=o.return;e:for(;;){if(null===a)throw Error(s(160));switch(r=a.stateNode,a.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}a=a.return}a=!0}if(5===o.tag||6===o.tag)Pr(e,o,n),i?ie(r,o.stateNode):re(r,o.stateNode);else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(jr(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function Ur(e,t){if(Q){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void Dr(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&ee(n,o,i,e,r,t)}return;case 6:if(null===t.stateNode)throw Error(s(162));return n=t.memoizedProps,void J(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void(W&&(t=t.stateNode,t.hydrate&&(t.hydrate=!1,Ce(t.containerInfo))));case 12:return;case 13:return Vr(t),void Br(t);case 19:return void Br(t);case 17:return}throw Error(s(163))}switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void Dr(3,t);case 12:return;case 13:return Vr(t),void Br(t);case 19:return void Br(t);case 3:W&&((n=t.stateNode).hydrate&&(n.hydrate=!1,Ce(n.containerInfo)))}e:if(q){switch(t.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:t=t.stateNode,pe(t.containerInfo,t.pendingChildren);break e}throw Error(s(163))}}function Vr(e){var t=e;if(null===e.memoizedState)var n=!1;else n=!0,t=e.child,_i=ut();if(Q&&null!==t)e:if(e=t,Q)for(t=e;;){if(5===t.tag){var r=t.stateNode;n?ae(r):le(t.stateNode,t.memoizedProps)}else if(6===t.tag)r=t.stateNode,n?se(r):ue(r,t.memoizedProps);else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(r=t.child.sibling).return=t,t=r;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}}function Br(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Tr),t.forEach(function(t){var r=function(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=Di(t=ki(),e,null)),null!==(e=Ni(e,t))&&Pi(e)}.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}var Hr="function"===typeof WeakMap?WeakMap:Map;function Gr(e,t,n){(n=Nt(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){xi||(xi=!0,Ai=r),Lr(e,t)},n}function Qr(e,t,n){(n=Nt(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return Lr(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Mi?Mi=new Set([this]):Mi.add(this),Lr(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var qr,Wr=Math.ceil,Yr=l.ReactCurrentDispatcher,Xr=l.ReactCurrentOwner,Jr=0,Zr=8,ei=16,ti=32,ni=0,ri=1,ii=2,oi=3,ai=4,si=5,li=Jr,ui=null,ci=null,fi=0,hi=ni,di=null,pi=1073741823,mi=1073741823,vi=null,gi=0,yi=!1,_i=0,bi=500,wi=null,xi=!1,Ai=null,Mi=null,Si=!1,Ci=null,Ei=90,Ii=null,Ti=0,Li=null,zi=0;function ki(){return(li&(ei|ti))!==Jr?1073741821-(ut()/10|0):0!==zi?zi:zi=1073741821-(ut()/10|0)}function Di(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=ct();if(0===(4&t))return 99===r?1073741823:1073741822;if((li&ei)!==Jr)return fi;if(null!==n)e=gt(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=gt(e,150,100);break;case 97:case 96:e=gt(e,5e3,250);break;case 95:e=2;break;default:throw Error(s(326))}return null!==ui&&e===fi&&--e,e}function Oi(e,t){if(50<Ti)throw Ti=0,Li=null,Error(s(185));if(null!==(e=Ni(e,t))){var n=ct();1073741823===t?(li&Zr)!==Jr&&(li&(ei|ti))===Jr?Ri(e):(Pi(e),li===Jr&&mt()):Pi(e),(4&li)===Jr||98!==n&&99!==n||(null===Ii?Ii=new Map([[e,t]]):(void 0===(n=Ii.get(e))||n>t)&&Ii.set(e,t))}}function Ni(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(ui===i&&(Hi(t),hi===ai&&yo(i,fi)),_o(i,t)),i}function ji(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!go(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Pi(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=pt(Ri.bind(null,e));else{var t=ji(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=ki();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==nt&&Qe(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?pt(Ri.bind(null,e)):dt(r,function e(t,n){zi=0;if(n)return n=ki(),bo(t,n),Pi(t),null;var r=ji(t);if(0!==r){if(n=t.callbackNode,(li&(ei|ti))!==Jr)throw Error(s(327));if(Zi(),t===ui&&r===fi||Ki(t,r),null!==ci){var i=li;li|=ei;for(var o=Vi();;)try{Qi();break}catch(u){Ui(t,u)}if(Ct(),li=i,Yr.current=o,hi===ri)throw n=di,Ki(t,r),yo(t,r),Pi(t),n;if(null===ci)switch(o=t.finishedWork=t.current.alternate,t.finishedExpirationTime=r,i=hi,ui=null,i){case ni:case ri:throw Error(s(345));case ii:bo(t,2<r?2:r);break;case oi:if(yo(t,r),i=t.lastSuspendedTime,r===i&&(t.nextKnownPendingLevel=Yi(o)),1073741823===pi&&10<(o=_i+bi-ut())){if(yi){var a=t.lastPingedTime;if(0===a||a>=r){t.lastPingedTime=r,Ki(t,r);break}}if(0!==(a=ji(t))&&a!==r)break;if(0!==i&&i!==r){t.lastPingedTime=i;break}t.timeoutHandle=V(Xi.bind(null,t),o);break}Xi(t);break;case ai:if(yo(t,r),i=t.lastSuspendedTime,r===i&&(t.nextKnownPendingLevel=Yi(o)),yi&&(0===(o=t.lastPingedTime)||o>=r)){t.lastPingedTime=r,Ki(t,r);break}if(0!==(o=ji(t))&&o!==r)break;if(0!==i&&i!==r){t.lastPingedTime=i;break}if(1073741823!==mi?i=10*(1073741821-mi)-ut():1073741823===pi?i=0:(i=10*(1073741821-pi)-5e3,o=ut(),r=10*(1073741821-r)-o,0>(i=o-i)&&(i=0),i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Wr(i/1960))-i,r<i&&(i=r)),10<i){t.timeoutHandle=V(Xi.bind(null,t),i);break}Xi(t);break;case si:if(1073741823!==pi&&null!==vi){a=pi;var l=vi;if(0>=(i=0|l.busyMinDurationMs)?i=0:(o=0|l.busyDelayMs,a=ut()-(10*(1073741821-a)-(0|l.timeoutMs||5e3)),i=a<=o?0:o+i-a),10<i){yo(t,r),t.timeoutHandle=V(Xi.bind(null,t),i);break}}Xi(t);break;default:throw Error(s(329))}if(Pi(t),t.callbackNode===n)return e.bind(null,t)}}return null}.bind(null,e),{timeout:10*(1073741821-t)-ut()}),e.callbackNode=t}}}function Ri(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,(li&(ei|ti))!==Jr)throw Error(s(327));if(Zi(),e===ui&&t===fi||Ki(e,t),null!==ci){var n=li;li|=ei;for(var r=Vi();;)try{Gi();break}catch(i){Ui(e,i)}if(Ct(),li=n,Yr.current=r,hi===ri)throw n=di,Ki(e,t),yo(e,t),Pi(e),n;if(null!==ci)throw Error(s(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,ui=null,Xi(e),Pi(e)}return null}function $i(e,t){var n=li;li|=1;try{return e(t)}finally{(li=n)===Jr&&mt()}}function Fi(e,t){if((li&(ei|ti))!==Jr)throw Error(s(187));var n=li;li|=1;try{return ht(99,e.bind(null,t))}finally{li=n,mt()}}function Ki(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(n!==H&&(e.timeoutHandle=H,B(n)),null!==ci)for(n=ci.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Fe();break;case 3:sn(),ke(je),ke(Ne);break;case 5:un(r);break;case 4:sn();break;case 13:case 19:ke(cn);break;case 10:It(r)}n=n.return}ui=e,ci=co(e.current,null),fi=t,hi=ni,di=null,mi=pi=1073741823,vi=null,gi=0,yi=!1}function Ui(e,t){for(;;){try{if(Ct(),dn.current=Bn,_n)for(var n=vn.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(mn=0,yn=gn=vn=null,_n=!1,null===ci||null===ci.return)return hi=ri,di=t,ci=null;e:{var i=e,o=ci.return,a=ci,s=t;if(t=fi,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var l=s;if(0===(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.expirationTime=u.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var c=0!==(1&cn.current),f=o;do{var h;if(h=13===f.tag){var d=f.memoizedState;if(null!==d)h=null!==d.dehydrated;else{var p=f.memoizedProps;h=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!c)}}if(h){var m=f.updateQueue;if(null===m){var v=new Set;v.add(l),f.updateQueue=v}else m.add(l);if(0===(2&f.mode)){if(f.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var g=Nt(1073741823,null);g.tag=2,jt(a,g)}a.expirationTime=1073741823;break e}s=void 0,a=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new Hr,s=new Set,y.set(l,s)):void 0===(s=y.get(l))&&(s=new Set,y.set(l,s)),!s.has(a)){s.add(a);var _=ro.bind(null,i,l,a);l.then(_,_)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);s=Error((C(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+Te(a))}hi!==si&&(hi=ii),s=Ir(s,a),f=o;do{switch(f.tag){case 3:l=s,f.effectTag|=4096,f.expirationTime=t,Pt(f,Gr(f,l,t));break e;case 1:l=s;var b=f.type,w=f.stateNode;if(0===(64&f.effectTag)&&("function"===typeof b.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Mi||!Mi.has(w)))){f.effectTag|=4096,f.expirationTime=t,Pt(f,Qr(f,l,t));break e}}f=f.return}while(null!==f)}ci=Wi(ci)}catch(x){t=x;continue}break}}function Vi(){var e=Yr.current;return Yr.current=Bn,null===e?Bn:e}function Bi(e,t){e<pi&&2<e&&(pi=e),null!==t&&e<mi&&2<e&&(mi=e,vi=t)}function Hi(e){e>gi&&(gi=e)}function Gi(){for(;null!==ci;)ci=qi(ci)}function Qi(){for(;null!==ci&&!rt();)ci=qi(ci)}function qi(e){var t=qr(e.alternate,e,fi);return e.memoizedProps=e.pendingProps,null===t&&(t=Wi(e)),Xr.current=null,t}function Wi(e){ci=e;do{var t=ci.alternate;if(e=ci.return,0===(2048&ci.effectTag)){if(t=Cr(t,ci,fi),1===fi||1!==ci.childExpirationTime){for(var n=0,r=ci.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}ci.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=ci.firstEffect),null!==ci.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=ci.firstEffect),e.lastEffect=ci.lastEffect),1<ci.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=ci:e.firstEffect=ci,e.lastEffect=ci))}else{if(null!==(t=Er(ci)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=ci.sibling))return t;ci=e}while(null!==ci);return hi===ni&&(hi=si),null}function Yi(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Xi(e){var t=ct();return ht(99,function(e,t){do{Zi()}while(null!==Ci);if((li&(ei|ti))!==Jr)throw Error(s(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=Yi(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===ui&&(ci=ui=null,fi=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=li;li|=ti,Xr.current=null,O(e.containerInfo),wi=i;do{try{Ji()}catch(y){if(null===wi)throw Error(s(330));no(wi,y),wi=wi.nextEffect}}while(null!==wi);wi=i;do{try{for(var a=e,l=t;null!==wi;){var u=wi.effectTag;if(16&u&&Q&&oe(wi.stateNode),128&u){var c=wi.alternate;if(null!==c){var f=c.ref;null!==f&&("function"===typeof f?f(null):f.current=null)}}switch(1038&u){case 2:Fr(wi),wi.effectTag&=-3;break;case 6:Fr(wi),wi.effectTag&=-3,Ur(wi.alternate,wi);break;case 1024:wi.effectTag&=-1025;break;case 1028:wi.effectTag&=-1025,Ur(wi.alternate,wi);break;case 4:Ur(wi.alternate,wi);break;case 8:var h=a,d=wi,p=l;Q?Kr(h,d,p):Pr(h,d,p),Rr(d)}wi=wi.nextEffect}}catch(y){if(null===wi)throw Error(s(330));no(wi,y),wi=wi.nextEffect}}while(null!==wi);N(e.containerInfo),e.current=n,wi=i;do{try{for(u=e;null!==wi;){var m=wi.effectTag;if(36&m&&Nr(u,wi.alternate,wi),128&m){c=void 0;var v=wi.ref;if(null!==v){var g=wi.stateNode;switch(wi.tag){case 5:c=z(g);break;default:c=g}"function"===typeof v?v(c):v.current=c}}wi=wi.nextEffect}}catch(y){if(null===wi)throw Error(s(330));no(wi,y),wi=wi.nextEffect}}while(null!==wi);wi=null,it(),li=o}else e.current=n;if(Si)Si=!1,Ci=e,Ei=t;else for(wi=i;null!==wi;)t=wi.nextEffect,wi.nextEffect=null,wi=t;if(0===(t=e.firstPendingTime)&&(Mi=null),1073741823===t?e===Li?Ti++:(Ti=0,Li=e):Ti=0,"function"===typeof oo&&oo(n.stateNode,r),Pi(e),xi)throw xi=!1,e=Ai,Ai=null,e;return(li&Zr)!==Jr?null:(mt(),null)}.bind(null,e,t)),null}function Ji(){for(;null!==wi;){var e=wi.effectTag;0!==(256&e)&&kr(wi.alternate,wi),0===(512&e)||Si||(Si=!0,dt(97,function(){return Zi(),null})),wi=wi.nextEffect}}function Zi(){if(90!==Ei){var e=97<Ei?97:Ei;return Ei=90,ht(e,eo)}}function eo(){if(null===Ci)return!1;var e=Ci;if(Ci=null,(li&(ei|ti))!==Jr)throw Error(s(331));var t=li;for(li|=ti,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:Dr(5,n),Or(5,n)}}catch(r){if(null===e)throw Error(s(330));no(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return li=t,mt(),!0}function to(e,t,n){jt(e,t=Gr(e,t=Ir(n,t),1073741823)),null!==(e=Ni(e,1073741823))&&Pi(e)}function no(e,t){if(3===e.tag)to(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){to(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Mi||!Mi.has(r))){jt(n,e=Qr(n,e=Ir(t,e),1073741823)),null!==(n=Ni(n,1073741823))&&Pi(n);break}}n=n.return}}function ro(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),ui===e&&fi===n?hi===ai||hi===oi&&1073741823===pi&&ut()-_i<bi?Ki(e,fi):yi=!0:go(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Pi(e)))}qr=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||je.current)ir=!0;else{if(r<n){switch(ir=!1,t.tag){case 3:dr(t),nr();break;case 5:if(ln(t),4&t.mode&&1!==n&&K(t.type,i))return t.expirationTime=t.childExpirationTime=1,null;break;case 1:$e(t.type)&&Ve(t);break;case 4:an(t,t.stateNode.containerInfo);break;case 10:Et(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?_r(e,t,n):(De(cn,1&cn.current),null!==(t=Ar(e,t,n))?t.sibling:null);De(cn,1&cn.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return xr(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),De(cn,cn.current),!r)return null}return Ar(e,t,n)}ir=!1}}else ir=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=Re(t,Ne.current),Lt(t,n),i=xn(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,$e(r)){var o=!0;Ve(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Dt(t);var a=r.getDerivedStateFromProps;"function"===typeof a&&Ut(t,r,a,e),i.updater=Vt,t.stateNode=i,i._reactInternalFiber=t,Qt(t,r,e,n),t=hr(null,t,r,!0,o,n)}else t.tag=0,or(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"===typeof e)return uo(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===y)return 11;if(e===w)return 14}return 2}(i),e=wt(i,e),o){case 0:t=cr(null,t,i,e,n);break e;case 1:t=fr(null,t,i,e,n);break e;case 11:t=ar(null,t,i,e,n);break e;case 14:t=sr(null,t,i,wt(i.type,e),r,n);break e}throw Error(s(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,cr(e,t,r,i=t.elementType===r?i:wt(r,i),n);case 1:return r=t.type,i=t.pendingProps,fr(e,t,r,i=t.elementType===r?i:wt(r,i),n);case 3:if(dr(t),r=t.updateQueue,null===e||null===r)throw Error(s(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,Ot(e,t),Rt(t,r,null,n),(r=t.memoizedState.element)===i)nr(),t=Ar(e,t,n);else{if((i=t.stateNode.hydrate)&&(W?(Wn=xe(t.stateNode.containerInfo),qn=t,i=Yn=!0):i=!1),i)for(n=Zt(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else or(e,t,r,n),nr();t=t.child}return t;case 5:return ln(t),null===e&&Zn(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,F(r,i)?a=null:null!==o&&F(r,o)&&(t.effectTag|=16),ur(e,t),4&t.mode&&1!==n&&K(r,i)?(t.expirationTime=t.childExpirationTime=1,t=null):(or(e,t,a,n),t=t.child),t;case 6:return null===e&&Zn(t),null;case 13:return _r(e,t,n);case 4:return an(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Jt(t,null,r,n):or(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ar(e,t,r,i=t.elementType===r?i:wt(r,i),n);case 7:return or(e,t,t.pendingProps,n),t.child;case 8:case 12:return or(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,Et(t,o=i.value),null!==a){var l=a.value;if(0===(o=yt(l,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(a.children===i.children&&!je.current){t=Ar(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){a=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===l.tag&&((c=Nt(n,null)).tag=2,jt(l,c)),l.expirationTime<n&&(l.expirationTime=n),null!==(c=l.alternate)&&c.expirationTime<n&&(c.expirationTime=n),Tt(l.return,n),u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else a=10===l.tag&&l.type===t.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===t){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}}or(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,Lt(t,n),r=r(i=zt(i,o.unstable_observedBits)),t.effectTag|=1,or(e,t,r,n),t.child;case 14:return o=wt(i=t.type,t.pendingProps),sr(e,t,i,o=wt(i.type,o),r,n);case 15:return lr(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wt(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,$e(r)?(e=!0,Ve(t)):e=!1,Lt(t,n),Ht(t,r,i),Qt(t,r,i,n),hr(null,t,r,!0,e,n);case 19:return xr(e,t,n)}throw Error(s(156,t.tag))};var io={current:!1},oo=null,ao=null;function so(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function lo(e,t,n,r){return new so(e,t,n,r)}function uo(e){return!(!(e=e.prototype)||!e.isReactComponent)}function co(e,t){var n=e.alternate;return null===n?((n=lo(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function fo(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)uo(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case h:return ho(n.children,i,o,t);case g:a=8,i|=7;break;case d:a=8,i|=1;break;case p:return(e=lo(12,n,t,8|i)).elementType=p,e.type=p,e.expirationTime=o,e;case _:return(e=lo(13,n,t,i)).type=_,e.elementType=_,e.expirationTime=o,e;case b:return(e=lo(19,n,t,i)).elementType=b,e.expirationTime=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case m:a=10;break e;case v:a=9;break e;case y:a=11;break e;case w:a=14;break e;case x:a=16,r=null;break e;case A:a=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=lo(a,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function ho(e,t,n,r){return(e=lo(7,e,r,t)).expirationTime=n,e}function po(e,t,n){return(e=lo(6,e,null,t)).expirationTime=n,e}function mo(e,t,n){return(t=lo(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vo(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=H,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function go(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function yo(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function _o(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function bo(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}var wo=null;function xo(e){var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return null===(e=L(t))?null:e.stateNode}function Ao(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Mo(e,t){Ao(e,t),(e=e.alternate)&&Ao(e,t)}var So=l.IsSomeRendererActing,Co="function"===typeof a.unstable_flushAllWithoutAsserting,Eo=a.unstable_flushAllWithoutAsserting||function(){for(var e=!1;Zi();)e=!0;return e};function Io(t){try{Eo(),function(t){if(null===wo)try{var n=("require"+Math.random()).slice(0,7);wo=(e&&e[n])("timers").setImmediate}catch(r){wo=function(e){var t=new MessageChannel;t.port1.onmessage=e,t.port2.postMessage(void 0)}}wo(t)}(function(){Eo()?Io(t):t()})}catch(n){t(n)}}var To=0,Lo=!1,zo={__proto__:null,createContainer:function(e,t,n){return e=new vo(e,t,n),t=lo(3,null,null,2===t?7:1===t?3:0),e.current=t,t.stateNode=e,Dt(t),e},updateContainer:function(e,t,n,r){var i=t.current,o=ki(),a=Ft.suspense;o=Di(o,i,a);e:if(n){t:{if(E(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(s(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if($e(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(s(171))}if(1===n.tag){var u=n.type;if($e(u)){n=Ue(n,u,l);break e}}n=l}else n=Oe;return null===t.context?t.context=n:t.pendingContext=n,(t=Nt(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),jt(i,t),Oi(i,o),o},batchedEventUpdates:function(e,t){var n=li;li|=2;try{return e(t)}finally{(li=n)===Jr&&mt()}},batchedUpdates:$i,unbatchedUpdates:function(e,t){var n=li;li&=-2,li|=Zr;try{return e(t)}finally{(li=n)===Jr&&mt()}},deferredUpdates:function(e){return ht(97,e)},syncUpdates:function(e,t,n,r){return ht(99,e.bind(null,t,n,r))},discreteUpdates:function(e,t,n,r,i){var o=li;li|=4;try{return ht(98,e.bind(null,t,n,r,i))}finally{(li=o)===Jr&&mt()}},flushDiscreteUpdates:function(){(li&(1|ei|ti))===Jr&&(function(){if(null!==Ii){var e=Ii;Ii=null,e.forEach(function(e,t){bo(t,e),Pi(t)}),mt()}}(),Zi())},flushControlled:function(e){var t=li;li|=1;try{ht(99,e)}finally{(li=t)===Jr&&mt()}},flushSync:Fi,flushPassiveEffects:Zi,IsThisRendererActing:io,getPublicRootInstance:function(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:return z(e.child.stateNode);default:return e.child.stateNode}},attemptSynchronousHydration:function(e){switch(e.tag){case 3:var t=e.stateNode;t.hydrate&&function(e,t){bo(e,t),Pi(e),(li&(ei|ti))===Jr&&mt()}(t,t.firstPendingTime);break;case 13:Fi(function(){return Oi(e,1073741823)}),t=gt(ki(),150,100),Mo(e,t)}},attemptUserBlockingHydration:function(e){if(13===e.tag){var t=gt(ki(),150,100);Oi(e,t),Mo(e,t)}},attemptContinuousHydration:function(e){13===e.tag&&(Oi(e,3),Mo(e,3))},attemptHydrationAtCurrentPriority:function(e){if(13===e.tag){var t=ki();Oi(e,t=Di(t,e,null)),Mo(e,t)}},findHostInstance:xo,findHostInstanceWithWarning:function(e){return xo(e)},findHostInstanceWithNoPortals:function(e){return null===(e=function(e){if(!(e=T(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}(e))?null:20===e.tag?e.stateNode.instance:e.stateNode},shouldSuspend:function(){return!1},injectIntoDevTools:function(e){var t=e.findFiberByHostInstance;return function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);oo=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},ao=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}return!0}(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=L(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))},act:function(e){function t(){To--,So.current=n,io.current=r}!1===Lo&&(Lo=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),To++;var n=So.current,r=io.current;So.current=!0,io.current=!0;try{var i=$i(e)}catch(o){throw t(),o}if(null!==i&&"object"===typeof i&&"function"===typeof i.then)return{then:function(e,r){i.then(function(){1<To||!0===Co&&!0===n?(t(),e()):Io(function(n){t(),n?r(n):e()})},function(e){t(),r(e)})}};try{1!==To||!1!==Co&&!1!==n||Eo(),t()}catch(o){throw t(),o}return{then:function(e){e()}}}},ko=zo&&zo.default||zo;e.exports=ko.default||ko;var Do=e.exports;return e.exports=t,Do}}).call(this,n(84)(e))},function(e,t,n){"use strict";e.exports=n(625)},function(e,t,n){"use strict";var r,i,o,a,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,u=null,c=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}},f=Date.now();t.unstable_now=function(){return Date.now()-f},r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(c,0))},i=function(e,t){u=setTimeout(e,t)},o=function(){clearTimeout(u)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,d=window.Date,p=window.setTimeout,m=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof h&&"function"===typeof h.now)t.unstable_now=function(){return h.now()};else{var g=d.now();t.unstable_now=function(){return d.now()-g}}var y=!1,_=null,b=-1,w=5,x=0;a=function(){return t.unstable_now()>=x},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<e?Math.floor(1e3/e):5};var A=new MessageChannel,M=A.port2;A.port1.onmessage=function(){if(null!==_){var e=t.unstable_now();x=e+w;try{_(!0,e)?M.postMessage(null):(y=!1,_=null)}catch(n){throw M.postMessage(null),n}}else y=!1},r=function(e){_=e,y||(y=!0,M.postMessage(null))},i=function(e,n){b=p(function(){e(t.unstable_now())},n)},o=function(){m(b),b=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function C(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>I(a,n))void 0!==l&&0>I(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==l&&0>I(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],L=[],z=1,k=null,D=3,O=!1,N=!1,j=!1;function P(e){for(var t=C(L);null!==t;){if(null===t.callback)E(L);else{if(!(t.startTime<=e))break;E(L),t.sortIndex=t.expirationTime,S(T,t)}t=C(L)}}function R(e){if(j=!1,P(e),!N)if(null!==C(T))N=!0,r($);else{var t=C(L);null!==t&&i(R,t.startTime-e)}}function $(e,n){N=!1,j&&(j=!1,o()),O=!0;var r=D;try{for(P(n),k=C(T);null!==k&&(!(k.expirationTime>n)||e&&!a());){var s=k.callback;if(null!==s){k.callback=null,D=k.priorityLevel;var l=s(k.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?k.callback=l:k===C(T)&&E(T),P(n)}else E(T);k=C(T)}if(null!==k)var u=!0;else{var c=C(L);null!==c&&i(R,c.startTime-n),u=!1}return u}finally{k=null,D=r,O=!1}}function F(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var K=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){N||O||(N=!0,r($))},t.unstable_getCurrentPriorityLevel=function(){return D},t.unstable_getFirstCallbackNode=function(){return C(T)},t.unstable_next=function(e){switch(D){case 1:case 2:case 3:var t=3;break;default:t=D}var n=D;D=t;try{return e()}finally{D=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=K,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=D;D=e;try{return t()}finally{D=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"===typeof a&&null!==a){var l=a.delay;l="number"===typeof l&&0<l?s+l:s,a="number"===typeof a.timeout?a.timeout:F(e)}else a=F(e),l=s;return e={id:z++,callback:n,priorityLevel:e,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(e.sortIndex=l,S(L,e),null===C(T)&&e===C(L)&&(j?o():j=!0,i(R,l-s))):(e.sortIndex=a,S(T,e),N||O||(N=!0,r($))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();P(e);var n=C(T);return n!==k&&null!==k&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<k.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=D;return function(){var n=D;D=t;try{return e.apply(this,arguments)}finally{D=n}}}},function(e,t,n){"use strict";var r,i,o,a,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,u=null,c=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}},f=Date.now();t.unstable_now=function(){return Date.now()-f},r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(c,0))},i=function(e,t){u=setTimeout(e,t)},o=function(){clearTimeout(u)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,d=window.Date,p=window.setTimeout,m=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof h&&"function"===typeof h.now)t.unstable_now=function(){return h.now()};else{var g=d.now();t.unstable_now=function(){return d.now()-g}}var y=!1,_=null,b=-1,w=5,x=0;a=function(){return t.unstable_now()>=x},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<e?Math.floor(1e3/e):5};var A=new MessageChannel,M=A.port2;A.port1.onmessage=function(){if(null!==_){var e=t.unstable_now();x=e+w;try{_(!0,e)?M.postMessage(null):(y=!1,_=null)}catch(n){throw M.postMessage(null),n}}else y=!1},r=function(e){_=e,y||(y=!0,M.postMessage(null))},i=function(e,n){b=p(function(){e(t.unstable_now())},n)},o=function(){m(b),b=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function C(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>I(a,n))void 0!==l&&0>I(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==l&&0>I(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],L=[],z=1,k=null,D=3,O=!1,N=!1,j=!1;function P(e){for(var t=C(L);null!==t;){if(null===t.callback)E(L);else{if(!(t.startTime<=e))break;E(L),t.sortIndex=t.expirationTime,S(T,t)}t=C(L)}}function R(e){if(j=!1,P(e),!N)if(null!==C(T))N=!0,r($);else{var t=C(L);null!==t&&i(R,t.startTime-e)}}function $(e,n){N=!1,j&&(j=!1,o()),O=!0;var r=D;try{for(P(n),k=C(T);null!==k&&(!(k.expirationTime>n)||e&&!a());){var s=k.callback;if(null!==s){k.callback=null,D=k.priorityLevel;var l=s(k.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?k.callback=l:k===C(T)&&E(T),P(n)}else E(T);k=C(T)}if(null!==k)var u=!0;else{var c=C(L);null!==c&&i(R,c.startTime-n),u=!1}return u}finally{k=null,D=r,O=!1}}function F(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var K=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){N||O||(N=!0,r($))},t.unstable_getCurrentPriorityLevel=function(){return D},t.unstable_getFirstCallbackNode=function(){return C(T)},t.unstable_next=function(e){switch(D){case 1:case 2:case 3:var t=3;break;default:t=D}var n=D;D=t;try{return e()}finally{D=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=K,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=D;D=e;try{return t()}finally{D=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"===typeof a&&null!==a){var l=a.delay;l="number"===typeof l&&0<l?s+l:s,a="number"===typeof a.timeout?a.timeout:F(e)}else a=F(e),l=s;return e={id:z++,callback:n,priorityLevel:e,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(e.sortIndex=l,S(L,e),null===C(T)&&e===C(L)&&(j?o():j=!0,i(R,l-s))):(e.sortIndex=a,S(T,e),N||O||(N=!0,r($))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();P(e);var n=C(T);return n!==k&&null!==k&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<k.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=D;return function(){var n=D;D=t;try{return e.apply(this,arguments)}finally{D=n}}}},function(e,t,n){"use strict";var r=Array.isArray,i=Object.keys,o=Object.prototype.hasOwnProperty;e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){var a,s,l,u=r(t),c=r(n);if(u&&c){if((s=t.length)!=n.length)return!1;for(a=s;0!==a--;)if(!e(t[a],n[a]))return!1;return!0}if(u!=c)return!1;var f=t instanceof Date,h=n instanceof Date;if(f!=h)return!1;if(f&&h)return t.getTime()==n.getTime();var d=t instanceof RegExp,p=n instanceof RegExp;if(d!=p)return!1;if(d&&p)return t.toString()==n.toString();var m=i(t);if((s=m.length)!==i(n).length)return!1;for(a=s;0!==a--;)if(!o.call(n,m[a]))return!1;for(a=s;0!==a--;)if(!e(t[l=m[a]],n[l]))return!1;return!0}return t!==t&&n!==n}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){!function(e){"use strict";function t(){var e,n=0,r=[],i=0,o=0,a=d(function(e){o||l(1,e)}),s=d(function(e){o||l(-1,e)});function l(t,r){o++;var i=0;try{r===v&&p();var a=t>0&&h(r);a?a.call(r,d(function(e){i++,l(1,e)}),d(function(e){i++,l(-1,e)})):(n=t,e=r,u())}catch(s){n||i||l(-1,s)}}function u(){i||(setTimeout(c,0),i=1)}function c(){var e=r;i=0,r=[],e.forEach(f)}function f(e){e()}function h(e){var t=e&&(m(e)||"object"===typeof e)&&e.then;return m(t)&&t}function d(e){var t=0;return function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];t++||e.apply(this,n)}}function p(){throw new TypeError("Chaining cycle detected")}var m=function(e){return"function"===typeof e},v={then:function(i,o){var a=t();return r.push(function(){var t=n>0?i:o;if(m(t))try{var r=t(e);r===a&&p();var s=h(r);s?s.call(r,a.resolve,a.reject):a.resolve(r)}catch(l){a.reject(l)}else a[n>0?"resolve":"reject"](e)}),n&&u(),a},resolve:a,reject:s};return v}function n(){var e,t,n=new Promise(function(n,r){e=n,t=r});return{then:n.then.bind(n),resolve:e,reject:t}}t.all=n.all=function(e){var t=0,n=[],i=r();return 0===e.length?i.resolve([]):e.forEach(function(o,a){var s=r();s.resolve(o),s.then(function(r){t++,n[a]=r,t===e.length&&i.resolve(n)},i.reject)}),i};var r="function"===typeof Promise?n:t;function i(){var e=Object.create(null);function t(e,t){var n=void 0;self.troikaDefine=function(e){return n=e};var r=URL.createObjectURL(new Blob(["/** "+e.replace(/\*/g,"")+" **/\n\ntroikaDefine(\n"+t+"\n)"],{type:"application/javascript"}));try{importScripts(r)}catch(i){console.error(i)}return URL.revokeObjectURL(r),delete self.troikaDefine,n}self.addEventListener("message",function(n){var r=n.data,i=r.messageId,o=r.action,a=r.data;try{"registerModule"===o&&function n(r,i){var o=r.id,a=r.name,s=r.dependencies;void 0===s&&(s=[]);var l=r.init;void 0===l&&(l=function(){});var u=r.getTransferables;if(void 0===u&&(u=null),!e[o])try{s=s.map(function(t){return t&&t.isWorkerModule&&(n(t,function(e){if(e instanceof Error)throw e}),t=e[t.id].value),t}),l=t("<"+a+">.init",l),u&&(u=t("<"+a+">.getTransferables",u));var c=null;"function"===typeof l?c=l.apply(void 0,s):console.error("worker module init function failed to rehydrate"),e[o]={id:o,value:c,getTransferables:u},i(c)}catch(f){f&&f.noLog||console.error(f),i(f)}}(a,function(e){e instanceof Error?postMessage({messageId:i,success:!1,error:e.message}):postMessage({messageId:i,success:!0,result:{isCallable:"function"===typeof e}})}),"callModule"===o&&function(t,n){var r,i=t.id,o=t.args;e[i]&&"function"===typeof e[i].value||n(new Error("Worker module "+i+": not found or its 'init' did not return a function"));try{var a=(r=e[i]).value.apply(r,o);a&&"function"===typeof a.then?a.then(s,function(e){return n(e instanceof Error?e:new Error(""+e))}):s(a)}catch(l){n(l)}function s(t){try{var r=e[i].getTransferables&&e[i].getTransferables(t);r&&Array.isArray(r)&&r.length||(r=void 0),n(t,r)}catch(l){console.error(l),n(l)}}}(a,function(e,t){e instanceof Error?postMessage({messageId:i,success:!1,error:e.message}):postMessage({messageId:i,success:!0,result:e},t||void 0)})}catch(s){postMessage({messageId:i,success:!1,error:s.stack})}})}var o=function(){var e=!1;if("undefined"!==typeof window&&"undefined"!==typeof window.document)try{var t=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));t.terminate(),e=!0}catch(n){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+n.message+"]")}return o=function(){return e},e},a=0,s=0,l=!1,u=Object.create(null),c=Object.create(null);function f(e){if((!e||"function"!==typeof e.init)&&!l)throw new Error("requires `options.init` function");var t=e.dependencies,n=e.init,i=e.getTransferables,s=e.workerId;if(!o())return function(e){var t=function e(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return e._getInitResult().then(function(e){if("function"===typeof e)return e.apply(void 0,t);throw new Error("Worker module function was called but `init` did not return a callable function")})};return t._getInitResult=function(){var n=e.dependencies,i=e.init;n=Array.isArray(n)?n.map(function(e){return e&&e._getInitResult?e._getInitResult():e}):[];var o=r.all(n).then(function(e){return i.apply(null,e)});return t._getInitResult=function(){return o},o},t}(e);null==s&&(s="#default");var u="workerModule"+ ++a,c=e.name||u,p=null;function m(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return p||(p=d(s,"registerModule",m.workerModuleData)),p.then(function(t){var n=t.isCallable;if(n)return d(s,"callModule",{id:u,args:e});throw new Error("Worker module function was called but `init` did not return a callable function")})}return t=t&&t.map(function(e){return"function"!==typeof e||e.workerModuleData||(l=!0,e=f({workerId:s,name:"<"+c+"> function dependency: "+e.name,init:"function(){return (\n"+h(e)+"\n)}"}),l=!1),e&&e.workerModuleData&&(e=e.workerModuleData),e}),m.workerModuleData={isWorkerModule:!0,id:u,name:c,dependencies:t,init:h(n),getTransferables:i&&h(i)},m}function h(e){var t=e.toString();return!/^function/.test(t)&&/^\w+\s*\(/.test(t)&&(t="function "+t),t}function d(e,t,n){var o=r(),a=++s;return c[a]=function(e){e.success?o.resolve(e.result):o.reject(new Error("Error in worker "+t+" call: "+e.error))},c._count++,c.count>1e3&&console.warn("Large number of open WorkerModule requests, some may not be returning"),function(e){var t=u[e];if(!t){var n=h(i);(t=u[e]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+e.replace(/\*/g,"")+" **/\n\n;("+n+")()"],{type:"application/javascript"})))).onmessage=function(e){var t=e.data,n=t.messageId,r=c[n];if(!r)throw new Error("WorkerModule response with empty or unknown messageId");delete c[n],c.count--,r(t)}}return t}(e).postMessage({messageId:a,action:t,data:n}),o}c._count=0;var p=f({name:"Thenable",dependencies:[r],init:function(e){return e}});e.Thenable=r,e.ThenableWorkerModule=p,e.defineWorkerModule=f,e.stringifyFunction=h,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){!function(e,t){"use strict";var n=/\bvoid\s+main\s*\(\s*\)\s*{/g;function r(e){return e.replace(/^[ \t]*#include +<([\w\d.\/]+)>/gm,function(e,n){var i=t.ShaderChunk[n];return i?r(i):e})}var i=Object.assign||function(){for(var e=arguments,t=arguments[0],n=1,r=arguments.length;n<r;n++){var i=e[n];if(i)for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o])}return t},o=Date.now(),a=new WeakMap;function s(e,n){var h=function(e){return JSON.stringify(e,u)}(n),d=a.get(e);if(d||(d=Object.create(null),a.set(e,d)),d[h])return d[h].clone();var p,m,v=function(e){var t=f.get(e);return null==t&&f.set(e,t=++c),t}(h),g="_derivedShaders"+v,y="_onBeforeCompile"+v;function _(t){e.onBeforeCompile.call(this,t);var a=this[g]||(this[g]={vertex:{},fragment:{}}),s=a.vertex,u=a.fragment;if(s.source!==t.vertexShader||u.source!==t.fragmentShader){var c=function(e,t,n){var i=e.vertexShader,o=e.fragmentShader,a=t.vertexDefs,s=t.vertexMainIntro,u=t.vertexMainOutro,c=t.vertexTransform,f=t.fragmentDefs,h=t.fragmentMainIntro,d=t.fragmentMainOutro,p=t.fragmentColorTransform,m=t.customRewriter,v=t.timeUniform;if(a=a||"",s=s||"",u=u||"",f=f||"",h=h||"",d=d||"",(c||m)&&(i=r(i)),(p||m)&&(o=r(o=o.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,"\n//!BEGIN_POST_CHUNK $1\n$&\n//!END_POST_CHUNK\n"))),m){var g=m({vertexShader:i,fragmentShader:o});i=g.vertexShader,o=g.fragmentShader}if(p){var y=[];o=o.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,function(e){return y.push(e),""}),d=p+"\n"+y.join("\n")+"\n"+d}if(v){var _="\nuniform float "+v+";\n";a=_+a,f=_+f}return c&&(a=a+"\nvec3 troika_position_"+n+";\nvec3 troika_normal_"+n+";\nvec2 troika_uv_"+n+";\nvoid troikaVertexTransform"+n+"(inout vec3 position, inout vec3 normal, inout vec2 uv) {\n  "+c+"\n}\n",s="\ntroika_position_"+n+" = vec3(position);\ntroika_normal_"+n+" = vec3(normal);\ntroika_uv_"+n+" = vec2(uv);\ntroikaVertexTransform"+n+"(troika_position_"+n+", troika_normal_"+n+", troika_uv_"+n+");\n"+s+"\n",i=i.replace(/\b(position|normal|uv)\b/g,function(e,t,r,i){return/\battribute\s+vec[23]\s+$/.test(i.substr(0,r))?t:"troika_"+t+"_"+n})),i=l(i,n,a,s,u),o=l(o,n,f,h,d),{vertexShader:i,fragmentShader:o}}(t,n,v);s.source=t.vertexShader,s.result=c.vertexShader,u.source=t.fragmentShader,u.result=c.fragmentShader}t.vertexShader=s.result,t.fragmentShader=u.result,i(t.uniforms,this.uniforms),n.timeUniform&&(t.uniforms[n.timeUniform]={get value(){return Date.now()-o}}),this[y]&&this[y](t)}function b(){e.constructor.apply(this,arguments),this._listeners=void 0}b.prototype=Object.create(e,{constructor:{value:b},isDerivedMaterial:{value:!0},baseMaterial:{value:e},onBeforeCompile:{get:function(){return _},set:function(e){this[y]=e}},copy:{value:function(n){return e.copy.call(this,n),e.isShaderMaterial||e.isDerivedMaterial||(this.extensions=i({},n.extensions),this.defines=i({},n.defines),this.uniforms=t.UniformsUtils.clone(n.uniforms)),this}},getDepthMaterial:{value:function(){var r=this._depthMaterial;return r||(m||((m=s(e.isDerivedMaterial?e.getDepthMaterial():new t.MeshDepthMaterial({depthPacking:t.RGBADepthPacking}),n)).defines.IS_DEPTH_MATERIAL=""),(r=this._depthMaterial=m.clone()).uniforms=this.uniforms),r}},getDistanceMaterial:{value:function(){var r=this._distanceMaterial;return r||(p||((p=s(e.isDerivedMaterial?e.getDistanceMaterial():new t.MeshDistanceMaterial,n)).defines.IS_DISTANCE_MATERIAL=""),(r=this._distanceMaterial=p.clone()).uniforms=this.uniforms),r}},dispose:{value:function(){var t=this._depthMaterial,n=this._distanceMaterial;t&&t.dispose(),n&&n.dispose(),e.dispose.call(this)}}});var w=new b;return w.copy(e),w.uniforms=i(t.UniformsUtils.clone(e.uniforms||{}),n.uniforms),w.defines=i({},e.defines,n.defines),w.defines["TROIKA_DERIVED_MATERIAL_"+v]="",w.extensions=i({},e.extensions,n.extensions),d[h]=w,w.clone()}function l(e,t,r,i,o){return(i||o||r)&&(e=e.replace(n,"\n"+r+"\nvoid troikaOrigMain"+t+"() {"),e+="\nvoid main() {\n  "+i+"\n  troikaOrigMain"+t+"();\n  "+o+"\n}"),e}function u(e,t){return"uniforms"===e?void 0:"function"===typeof t?t.toString():t}var c=0,f=new Map,h={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},d=function(e){this.name=e,this.textureUniform="dataTex_"+e,this.textureSizeUniform="dataTexSize_"+e,this.multiplierUniform="dataMultiplier_"+e,this.dataSizeUniform="dataSize_"+e,this.readFunction="readData_"+e,this._raw=new Float32Array(0),this._texture=new t.DataTexture(new Uint8Array(0),0,1),this._length=0,this._multiplier=1},p={length:{configurable:!0}};function m(e,t,n){var r=255*e,i=r%1*255,o=i%1*255,a=o%1*255;return r&=255,i&=255,o&=255,a=255&Math.round(a),t[n]=r,t[n+1]=i,t[n+2]=o,t[n+3]=a,t}p.length.set=function(e){if(e!==this._length){var t=Math.pow(2,Math.ceil(Math.log2(e))),n=this._raw;t<n.length?this._raw=n.subarray(0,t):t>n.length&&(this._raw=new Float32Array(t),this._raw.set(n)),this._length=e}},p.length.get=function(){return this._length},d.prototype.push=function(e){return this.set(this.length++,e)},d.prototype.setArray=function(e){this.length=e.length,this._raw.set(e),this._needsRepack=!0},d.prototype.get=function(e){return this._raw[e]},d.prototype.set=function(e,t){e+1>this._length&&(this.length=e+1),t!==this._raw[e]&&(this._raw[e]=t,m(t/this._multiplier,this._texture.image.data,4*e),this._needsMultCheck=!0)},d.prototype.clone=function(){var e=new d(this.name);return e.setArray(this._raw),e},d.prototype.getShaderUniforms=function(){var e,t=this;return(e={})[this.textureUniform]={get value(){return t._sync(),t._texture}},e[this.textureSizeUniform]={get value(){return t._sync(),t._texture.image.width}},e[this.dataSizeUniform]={get value(){return t._sync(),t.length}},e[this.multiplierUniform]={get value(){return t._sync(),t._multiplier}},e},d.prototype.getShaderHeaderCode=function(){var e=this.textureUniform,t=this.textureSizeUniform,n=this.dataSizeUniform,r=this.multiplierUniform,i=this.readFunction;return"\nuniform sampler2D "+e+";\nuniform float "+t+";\nuniform float "+n+";\nuniform float "+r+";\n\nfloat "+i+"(float index) {\n  vec2 texUV = vec2((index + 0.5) / "+t+", 0.5);\n  vec4 pixel = texture2D("+e+", texUV);\n  return dot(pixel, 1.0 / vec4(1.0, 255.0, 65025.0, 16581375.0)) * "+r+";\n}\n"},d.prototype._sync=function(){var e=this._texture,t=this._raw,n=this._needsRepack;if(t.length!==e.image.width&&(e.image={data:new Uint8Array(4*t.length),width:t.length,height:1},n=!0),n||this._needsMultCheck){var r=this._raw.reduce(function(e,t){return Math.max(e,t)},0),i=Math.pow(2,Math.ceil(Math.log2(r)));i!==this._multiplier&&(this._multiplier=i,n=!0),e.needsUpdate=!0,this._needsMultCheck=!1}if(n){for(var o=0,a=t.length,s=this._multiplier;o<a;o++)m(t[o]/s,e.image.data,4*o);this._needsRepack=!1}},Object.defineProperties(d.prototype,p);var v="\nuniform vec3 pointA;\nuniform vec3 controlA;\nuniform vec3 controlB;\nuniform vec3 pointB;\nuniform float radius;\nvarying float bezierT;\n\nvec3 cubicBezier(vec3 p1, vec3 c1, vec3 c2, vec3 p2, float t) {\n  float t2 = 1.0 - t;\n  float b0 = t2 * t2 * t2;\n  float b1 = 3.0 * t * t2 * t2;\n  float b2 = 3.0 * t * t * t2;\n  float b3 = t * t * t;\n  return b0 * p1 + b1 * c1 + b2 * c2 + b3 * p2;\n}\n\nvec3 cubicBezierDerivative(vec3 p1, vec3 c1, vec3 c2, vec3 p2, float t) {\n  float t2 = 1.0 - t;\n  return -3.0 * p1 * t2 * t2 +\n    c1 * (3.0 * t2 * t2 - 6.0 * t2 * t) +\n    c2 * (6.0 * t2 * t - 3.0 * t * t) +\n    3.0 * p2 * t * t;\n}\n",g='\nfloat t = position.y;\nbezierT = t;\nvec3 bezierCenterPos = cubicBezier(pointA, controlA, controlB, pointB, t);\nvec3 bezierDir = normalize(cubicBezierDerivative(pointA, controlA, controlB, pointB, t));\n\n// Make "sideways" always perpendicular to the camera ray; this ensures that any twists\n// in the cylinder occur where you won\'t see them: \nvec3 viewDirection = normalMatrix * vec3(0.0, 0.0, 1.0);\nif (bezierDir == viewDirection) {\n  bezierDir = normalize(cubicBezierDerivative(pointA, controlA, controlB, pointB, t == 1.0 ? t - 0.0001 : t + 0.0001));\n}\nvec3 sideways = normalize(cross(bezierDir, viewDirection));\nvec3 upish = normalize(cross(sideways, bezierDir));\n\n// Build a matrix for transforming this disc in the cylinder:\nmat4 discTx;\ndiscTx[0].xyz = sideways * radius;\ndiscTx[1].xyz = bezierDir * radius;\ndiscTx[2].xyz = upish * radius;\ndiscTx[3].xyz = bezierCenterPos;\ndiscTx[3][3] = 1.0;\n\n// Apply transform, ignoring original y\nposition = (discTx * vec4(position.x, 0.0, position.z, 1.0)).xyz;\nnormal = normalize(mat3(discTx) * normal);\n',y="\nuniform vec3 dashing;\nvarying float bezierT;\n",_="\nif (dashing.x + dashing.y > 0.0) {\n  float dashFrac = mod(bezierT - dashing.z, dashing.x + dashing.y);\n  if (dashFrac > dashing.x) {\n    discard;\n  }\n}\n",b=null,w=new t.MeshStandardMaterial({color:16777215,side:t.DoubleSide}),x=function(e){function n(){e.call(this,n.getGeometry(),w),this.pointA=new t.Vector3,this.controlA=new t.Vector3,this.controlB=new t.Vector3,this.pointB=new t.Vector3,this.radius=.01,this.dashArray=new t.Vector2,this.dashOffset=0,this.frustumCulled=!1}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var r={material:{configurable:!0},customDepthMaterial:{configurable:!0},customDistanceMaterial:{configurable:!0}};return n.getGeometry=function(){return b||(b=new t.CylinderBufferGeometry(1,1,1,6,64).translate(0,.5,0))},r.material.get=function(){var e=this._derivedMaterial,n=this._baseMaterial||w;return e&&e.baseMaterial===n||(e=this._derivedMaterial=function(e){return s(e,{uniforms:{pointA:{value:new t.Vector3},controlA:{value:new t.Vector3},controlB:{value:new t.Vector3},pointB:{value:new t.Vector3},radius:{value:.01},dashing:{value:new t.Vector3}},vertexDefs:v,vertexTransform:g,fragmentDefs:y,fragmentMainIntro:_})}(n),n.addEventListener("dispose",function t(){n.removeEventListener("dispose",t),e.dispose()})),e},r.material.set=function(e){this._baseMaterial=e},r.customDepthMaterial.get=function(){return this.material.getDepthMaterial()},r.customDistanceMaterial.get=function(){return this.material.getDistanceMaterial()},n.prototype.onBeforeRender=function(e){var t=this.material,n=t.uniforms,r=this.pointA,i=this.controlA,o=this.controlB,a=this.pointB,s=this.radius,l=this.dashArray,u=this.dashOffset;n.pointA.value.copy(r),n.controlA.value.copy(i),n.controlB.value.copy(o),n.pointB.value.copy(a),n.radius.value=s,n.dashing.value.set(l.x,l.y,u||0)},n.prototype.raycast=function(e,t){},Object.defineProperties(n.prototype,r),n}(t.Mesh);e.BezierMesh=x,e.ShaderFloatArray=d,e.createDerivedMaterial=s,e.expandShaderIncludes=r,e.getShaderUniformTypes=function(e){for(var t,n=/\buniform\s+(int|float|vec[234])\s+([A-Za-z_][\w]*)/g,r=Object.create(null);null!==(t=n.exec(e));)r[t[2]]=t[1];return r},e.getShadersForMaterial=function(e){var n=h[e.type];return n?t.ShaderLib[n]:e},e.voidMainRegExp=n,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(1))},function(e,t,n){"use strict";n.r(t);var r=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},i=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return r(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}};var o=i(r),a=o.right,s=o.left,l=a,u=function(e,t){null==t&&(t=c);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return o};function c(e,t){return[e,t]}var f=function(e,t,n){var r,i,o,a,s=e.length,l=t.length,u=new Array(s*l);for(null==n&&(n=c),r=o=0;r<s;++r)for(a=e[r],i=0;i<l;++i,++o)u[o]=n(a,t[i]);return u},h=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},d=function(e){return null===e?NaN:+e},p=function(e,t){var n,r,i=e.length,o=0,a=-1,s=0,l=0;if(null==t)for(;++a<i;)isNaN(n=d(e[a]))||(l+=(r=n-s)*(n-(s+=r/++o)));else for(;++a<i;)isNaN(n=d(t(e[a],a,e)))||(l+=(r=n-s)*(n-(s+=r/++o)));if(o>1)return l/(o-1)},m=function(e,t){var n=p(e,t);return n?Math.sqrt(n):n},v=function(e,t){var n,r,i,o=e.length,a=-1;if(null==t){for(;++a<o;)if(null!=(n=e[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=e[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=t(e[a],a,e))&&n>=n)for(r=i=n;++a<o;)null!=(n=t(e[a],a,e))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},g=Array.prototype,y=g.slice,_=g.map,b=function(e){return function(){return e}},w=function(e){return e},x=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o},A=Math.sqrt(50),M=Math.sqrt(10),S=Math.sqrt(2),C=function(e,t,n){var r,i,o,a,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=E(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(e+s)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(e-s)/a;return r&&o.reverse(),o};function E(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=A?10:o>=M?5:o>=S?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=A?10:o>=M?5:o>=S?2:1)}function I(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=A?i*=10:o>=M?i*=5:o>=S&&(i*=2),t<e?-i:i}var T=function(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1},L=function(){var e=w,t=v,n=T;function r(r){var i,o,a=r.length,s=new Array(a);for(i=0;i<a;++i)s[i]=e(r[i],i,r);var u=t(s),c=u[0],f=u[1],h=n(s,c,f);Array.isArray(h)||(h=I(c,f,h),h=x(Math.ceil(c/h)*h,Math.floor(f/h)*h,h));for(var d=h.length;h[0]<=c;)h.shift(),--d;for(;h[d-1]>f;)h.pop(),--d;var p,m=new Array(d+1);for(i=0;i<=d;++i)(p=m[i]=[]).x0=i>0?h[i-1]:c,p.x1=i<d?h[i]:f;for(i=0;i<a;++i)c<=(o=s[i])&&o<=f&&m[l(h,o,0,d)].push(r[i]);return m}return r.value=function(t){return arguments.length?(e="function"===typeof t?t:b(t),r):e},r.domain=function(e){return arguments.length?(t="function"===typeof e?e:b([e[0],e[1]]),r):t},r.thresholds=function(e){return arguments.length?(n="function"===typeof e?e:Array.isArray(e)?b(y.call(e)):b(e),r):n},r},z=function(e,t,n){if(null==n&&(n=d),r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}},k=function(e,t,n){return e=_.call(e,d).sort(r),Math.ceil((n-t)/(2*(z(e,.75)-z(e,.25))*Math.pow(e.length,-1/3)))},D=function(e,t,n){return Math.ceil((n-t)/(3.5*m(e)*Math.pow(e.length,-1/3)))},O=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&n>r&&(r=n);return r},N=function(e,t){var n,r=e.length,i=r,o=-1,a=0;if(null==t)for(;++o<r;)isNaN(n=d(e[o]))?--i:a+=n;else for(;++o<r;)isNaN(n=d(t(e[o],o,e)))?--i:a+=n;if(i)return a/i},j=function(e,t){var n,i=e.length,o=-1,a=[];if(null==t)for(;++o<i;)isNaN(n=d(e[o]))||a.push(n);else for(;++o<i;)isNaN(n=d(t(e[o],o,e)))||a.push(n);return z(a.sort(r),.5)},P=function(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(t=(r=e[i]).length;--t>=0;)n[--a]=r[t];return n},R=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&r>n&&(r=n);return r},$=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},F=function(e,t){if(n=e.length){var n,i,o=0,a=0,s=e[a];for(null==t&&(t=r);++o<n;)(t(i=e[o],s)<0||0!==t(s,s))&&(s=i,a=o);return 0===t(s,s)?a:void 0}},K=function(e,t,n){for(var r,i,o=(null==n?e.length:n)-(t=null==t?0:+t);o;)i=Math.random()*o--|0,r=e[o+t],e[o+t]=e[i+t],e[i+t]=r;return e},U=function(e,t){var n,r=e.length,i=-1,o=0;if(null==t)for(;++i<r;)(n=+e[i])&&(o+=n);else for(;++i<r;)(n=+t(e[i],i,e))&&(o+=n);return o},V=function(e){if(!(i=e.length))return[];for(var t=-1,n=R(e,B),r=new Array(n);++t<n;)for(var i,o=-1,a=r[t]=new Array(i);++o<i;)a[o]=e[o][t];return r};function B(e){return e.length}var H=function(){return V(arguments)},G=Array.prototype.slice,Q=function(e){return e},q=1,W=2,Y=3,X=4,J=1e-6;function Z(e){return"translate("+(e+.5)+",0)"}function ee(e){return"translate(0,"+(e+.5)+")"}function te(){return!this.__axis}function ne(e,t){var n=[],r=null,i=null,o=6,a=6,s=3,l=e===q||e===X?-1:1,u=e===X||e===W?"x":"y",c=e===q||e===Y?Z:ee;function f(f){var h=null==r?t.ticks?t.ticks.apply(t,n):t.domain():r,d=null==i?t.tickFormat?t.tickFormat.apply(t,n):Q:i,p=Math.max(o,0)+s,m=t.range(),v=+m[0]+.5,g=+m[m.length-1]+.5,y=(t.bandwidth?function(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(n){return+e(n)+t}}:function(e){return function(t){return+e(t)}})(t.copy()),_=f.selection?f.selection():f,b=_.selectAll(".domain").data([null]),w=_.selectAll(".tick").data(h,t).order(),x=w.exit(),A=w.enter().append("g").attr("class","tick"),M=w.select("line"),S=w.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),w=w.merge(A),M=M.merge(A.append("line").attr("stroke","#000").attr(u+"2",l*o)),S=S.merge(A.append("text").attr("fill","#000").attr(u,l*p).attr("dy",e===q?"0em":e===Y?"0.71em":"0.32em")),f!==_&&(b=b.transition(f),w=w.transition(f),M=M.transition(f),S=S.transition(f),x=x.transition(f).attr("opacity",J).attr("transform",function(e){return isFinite(e=y(e))?c(e):this.getAttribute("transform")}),A.attr("opacity",J).attr("transform",function(e){var t=this.parentNode.__axis;return c(t&&isFinite(t=t(e))?t:y(e))})),x.remove(),b.attr("d",e===X||e==W?"M"+l*a+","+v+"H0.5V"+g+"H"+l*a:"M"+v+","+l*a+"V0.5H"+g+"V"+l*a),w.attr("opacity",1).attr("transform",function(e){return c(y(e))}),M.attr(u+"2",l*o),S.attr(u,l*p).text(d),_.filter(te).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===W?"start":e===X?"end":"middle"),_.each(function(){this.__axis=y})}return f.scale=function(e){return arguments.length?(t=e,f):t},f.ticks=function(){return n=G.call(arguments),f},f.tickArguments=function(e){return arguments.length?(n=null==e?[]:G.call(e),f):n.slice()},f.tickValues=function(e){return arguments.length?(r=null==e?null:G.call(e),f):r&&r.slice()},f.tickFormat=function(e){return arguments.length?(i=e,f):i},f.tickSize=function(e){return arguments.length?(o=a=+e,f):o},f.tickSizeInner=function(e){return arguments.length?(o=+e,f):o},f.tickSizeOuter=function(e){return arguments.length?(a=+e,f):a},f.tickPadding=function(e){return arguments.length?(s=+e,f):s},f}function re(e){return ne(q,e)}function ie(e){return ne(W,e)}function oe(e){return ne(Y,e)}function ae(e){return ne(X,e)}var se={value:function(){}};function le(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r)throw new Error("illegal type: "+e);r[e]=[]}return new ue(r)}function ue(e){this._=e}function ce(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function fe(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=se,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}ue.prototype=le.prototype={constructor:ue,on:function(e,t){var n,r,i=this._,o=(r=i,(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++a<s;)if(n=(e=o[a]).type)i[n]=fe(i[n],e.name,t);else if(null==t)for(n in i)i[n]=fe(i[n],e.name,null);return this}for(;++a<s;)if((n=(e=o[a]).type)&&(n=ce(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ue(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};var he=le,de="http://www.w3.org/1999/xhtml",pe={svg:"http://www.w3.org/2000/svg",xhtml:de,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},me=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),pe.hasOwnProperty(t)?{space:pe[t],local:e}:e};var ve=function(e){var t=me(e);return(t.local?function(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}:function(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===de&&t.documentElement.namespaceURI===de?t.createElement(e):t.createElementNS(n,e)}})(t)};function ge(){}var ye=function(e){return null==e?ge:function(){return this.querySelector(e)}};function _e(){return[]}var be=function(e){return null==e?_e:function(){return this.querySelectorAll(e)}},we=function(e){return function(){return this.matches(e)}};if("undefined"!==typeof document){var xe=document.documentElement;if(!xe.matches){var Ae=xe.webkitMatchesSelector||xe.msMatchesSelector||xe.mozMatchesSelector||xe.oMatchesSelector;we=function(e){return function(){return Ae.call(this,e)}}}}var Me=we,Se=function(e){return new Array(e.length)};function Ce(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Ce.prototype={constructor:Ce,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Ee="$";function Ie(e,t,n,r,i,o){for(var a,s=0,l=t.length,u=o.length;s<u;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new Ce(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function Te(e,t,n,r,i,o,a){var s,l,u,c={},f=t.length,h=o.length,d=new Array(f);for(s=0;s<f;++s)(l=t[s])&&(d[s]=u=Ee+a.call(l,l.__data__,s,t),u in c?i[s]=l:c[u]=l);for(s=0;s<h;++s)(l=c[u=Ee+a.call(e,o[s],s,o)])?(r[s]=l,l.__data__=o[s],c[u]=null):n[s]=new Ce(e,o[s]);for(s=0;s<f;++s)(l=t[s])&&c[d[s]]===l&&(i[s]=l)}function Le(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var ze=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};function ke(e,t){return e.style.getPropertyValue(t)||ze(e).getComputedStyle(e,null).getPropertyValue(t)}function De(e){return e.trim().split(/^|\s+/)}function Oe(e){return e.classList||new Ne(e)}function Ne(e){this._node=e,this._names=De(e.getAttribute("class")||"")}function je(e,t){for(var n=Oe(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Pe(e,t){for(var n=Oe(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}Ne.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Re(){this.textContent=""}function $e(){this.innerHTML=""}function Fe(){this.nextSibling&&this.parentNode.appendChild(this)}function Ke(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ue(){return null}function Ve(){var e=this.parentNode;e&&e.removeChild(this)}function Be(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function He(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var Ge={},Qe=null;"undefined"!==typeof document&&("onmouseenter"in document.documentElement||(Ge={mouseenter:"mouseover",mouseleave:"mouseout"}));function qe(e,t,n){return e=We(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function We(e,t,n){return function(r){var i=Qe;Qe=r;try{e.call(this,this.__data__,t,n)}finally{Qe=i}}}function Ye(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?t.length=i:delete this.__on}}}function Xe(e,t,n){var r=Ge.hasOwnProperty(e.type)?qe:We;return function(i,o,a){var s,l=this.__on,u=r(t,o,a);if(l)for(var c=0,f=l.length;c<f;++c)if((s=l[c]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=u,s.capture=n),void(s.value=t);this.addEventListener(e.type,u,n),s={type:e.type,name:e.name,value:t,listener:u,capture:n},l?l.push(s):this.__on=[s]}}function Je(e,t,n,r){var i=Qe;e.sourceEvent=Qe,Qe=e;try{return t.apply(n,r)}finally{Qe=i}}function Ze(e,t,n){var r=ze(e),i=r.CustomEvent;"function"===typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}var et=[null];function tt(e,t){this._groups=e,this._parents=t}function nt(){return new tt([[document.documentElement]],et)}tt.prototype=nt.prototype={constructor:tt,select:function(e){"function"!==typeof e&&(e=ye(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=t[i],l=s.length,u=r[i]=new Array(l),c=0;c<l;++c)(o=s[c])&&(a=e.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),u[c]=a);return new tt(r,this._parents)},selectAll:function(e){"function"!==typeof e&&(e=be(e));for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a,s=t[o],l=s.length,u=0;u<l;++u)(a=s[u])&&(r.push(e.call(a,a.__data__,u,s)),i.push(a));return new tt(r,i)},filter:function(e){"function"!==typeof e&&(e=Me(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,l=r[i]=[],u=0;u<s;++u)(o=a[u])&&e.call(o,o.__data__,u,a)&&l.push(o);return new tt(r,this._parents)},data:function(e,t){if(!e)return p=new Array(this.size()),c=-1,this.each(function(e){p[++c]=e}),p;var n,r=t?Te:Ie,i=this._parents,o=this._groups;"function"!==typeof e&&(n=e,e=function(){return n});for(var a=o.length,s=new Array(a),l=new Array(a),u=new Array(a),c=0;c<a;++c){var f=i[c],h=o[c],d=h.length,p=e.call(f,f&&f.__data__,c,i),m=p.length,v=l[c]=new Array(m),g=s[c]=new Array(m);r(f,h,v,g,u[c]=new Array(d),p,t);for(var y,_,b=0,w=0;b<m;++b)if(y=v[b]){for(b>=w&&(w=b+1);!(_=g[w])&&++w<m;);y._next=_||null}}return(s=new tt(s,i))._enter=l,s._exit=u,s},enter:function(){return new tt(this._enter||this._groups.map(Se),this._parents)},exit:function(){return new tt(this._exit||this._groups.map(Se),this._parents)},merge:function(e){for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,u=t[s],c=n[s],f=u.length,h=a[s]=new Array(f),d=0;d<f;++d)(l=u[d]||c[d])&&(h[d]=l);for(;s<r;++s)a[s]=t[s];return new tt(a,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Le);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],l=s.length,u=i[o]=new Array(l),c=0;c<l;++c)(a=s[c])&&(u[c]=a);u.sort(t)}return new tt(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var e=0;return this.each(function(){++e}),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],a=0,s=o.length;a<s;++a)(i=o[a])&&e.call(i,i.__data__,a,o);return this},attr:function(e,t){var n=me(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}}:"function"===typeof t?n.local?function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}:function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}:n.local?function(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}:function(e,t){return function(){this.setAttribute(e,t)}})(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?function(e){return function(){this.style.removeProperty(e)}}:"function"===typeof t?function(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}:function(e,t,n){return function(){this.style.setProperty(e,t,n)}})(e,t,null==n?"":n)):ke(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?function(e){return function(){delete this[e]}}:"function"===typeof t?function(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}:function(e,t){return function(){this[e]=t}})(e,t)):this.node()[e]},classed:function(e,t){var n=De(e+"");if(arguments.length<2){for(var r=Oe(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof t?function(e,t){return function(){(t.apply(this,arguments)?je:Pe)(this,e)}}:t?function(e){return function(){je(this,e)}}:function(e){return function(){Pe(this,e)}})(n,t))},text:function(e){return arguments.length?this.each(null==e?Re:("function"===typeof e?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(e){return function(){this.textContent=e}})(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?$e:("function"===typeof e?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(e){return function(){this.innerHTML=e}})(e)):this.node().innerHTML},raise:function(){return this.each(Fe)},lower:function(){return this.each(Ke)},append:function(e){var t="function"===typeof e?e:ve(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"===typeof e?e:ve(e),r=null==t?Ue:"function"===typeof t?t:ye(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(Ve)},clone:function(e){return this.select(e?He:Be)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,o=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}(e+""),a=o.length;if(!(arguments.length<2)){for(s=t?Xe:Ye,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],t,n));return this}var s=this.node().__on;if(s)for(var l,u=0,c=s.length;u<c;++u)for(r=0,l=s[u];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"===typeof t?function(e,t){return function(){return Ze(this,e,t.apply(this,arguments))}}:function(e,t){return function(){return Ze(this,e,t)}})(e,t))}};var rt=nt,it=function(e){return"string"===typeof e?new tt([[document.querySelector(e)]],[document.documentElement]):new tt([[e]],et)},ot=function(e){return it(ve(e).call(document.documentElement))},at=0;function st(){return new lt}function lt(){this._="@"+(++at).toString(36)}lt.prototype=st.prototype={constructor:lt,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var ut=function(){for(var e,t=Qe;e=t.sourceEvent;)t=e;return t},ct=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]},ft=function(e){var t=ut();return t.changedTouches&&(t=t.changedTouches[0]),ct(e,t)},ht=function(e){return"string"===typeof e?new tt([document.querySelectorAll(e)],[document.documentElement]):new tt([null==e?[]:e],et)},dt=function(e,t,n){arguments.length<3&&(n=t,t=ut().changedTouches);for(var r,i=0,o=t?t.length:0;i<o;++i)if((r=t[i]).identifier===n)return ct(e,r);return null},pt=function(e,t){null==t&&(t=ut().touches);for(var n=0,r=t?t.length:0,i=new Array(r);n<r;++n)i[n]=ct(e,t[n]);return i};function mt(){Qe.stopImmediatePropagation()}var vt=function(){Qe.preventDefault(),Qe.stopImmediatePropagation()},gt=function(e){var t=e.document.documentElement,n=it(e).on("dragstart.drag",vt,!0);"onselectstart"in t?n.on("selectstart.drag",vt,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")};function yt(e,t){var n=e.document.documentElement,r=it(e).on("dragstart.drag",null);t&&(r.on("click.drag",vt,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var _t=function(e){return function(){return e}};function bt(e,t,n,r,i,o,a,s,l,u){this.target=e,this.type=t,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=l,this._=u}function wt(){return!Qe.button}function xt(){return this.parentNode}function At(e){return null==e?{x:Qe.x,y:Qe.y}:e}function Mt(){return"ontouchstart"in this}bt.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var St=function(){var e,t,n,r,i=wt,o=xt,a=At,s=Mt,l={},u=he("start","drag","end"),c=0,f=0;function h(e){e.on("mousedown.drag",d).filter(s).on("touchstart.drag",v).on("touchmove.drag",g).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!r&&i.apply(this,arguments)){var a=_("mouse",o.apply(this,arguments),ft,this,arguments);a&&(it(Qe.view).on("mousemove.drag",p,!0).on("mouseup.drag",m,!0),gt(Qe.view),mt(),n=!1,e=Qe.clientX,t=Qe.clientY,a("start"))}}function p(){if(vt(),!n){var r=Qe.clientX-e,i=Qe.clientY-t;n=r*r+i*i>f}l.mouse("drag")}function m(){it(Qe.view).on("mousemove.drag mouseup.drag",null),yt(Qe.view,n),vt(),l.mouse("end")}function v(){if(i.apply(this,arguments)){var e,t,n=Qe.changedTouches,r=o.apply(this,arguments),a=n.length;for(e=0;e<a;++e)(t=_(n[e].identifier,r,dt,this,arguments))&&(mt(),t("start"))}}function g(){var e,t,n=Qe.changedTouches,r=n.length;for(e=0;e<r;++e)(t=l[n[e].identifier])&&(vt(),t("drag"))}function y(){var e,t,n=Qe.changedTouches,i=n.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),e=0;e<i;++e)(t=l[n[e].identifier])&&(mt(),t("end"))}function _(e,t,n,r,i){var o,s,f,d=n(t,e),p=u.copy();if(Je(new bt(h,"beforestart",o,e,c,d[0],d[1],0,0,p),function(){return null!=(Qe.subject=o=a.apply(r,i))&&(s=o.x-d[0]||0,f=o.y-d[1]||0,!0)}))return function a(u){var m,v=d;switch(u){case"start":l[e]=a,m=c++;break;case"end":delete l[e],--c;case"drag":d=n(t,e),m=c}Je(new bt(h,u,o,e,m,d[0]+s,d[1]+f,d[0]-v[0],d[1]-v[1],p),p.apply,p,[u,r,i])}}return h.filter=function(e){return arguments.length?(i="function"===typeof e?e:_t(!!e),h):i},h.container=function(e){return arguments.length?(o="function"===typeof e?e:_t(e),h):o},h.subject=function(e){return arguments.length?(a="function"===typeof e?e:_t(e),h):a},h.touchable=function(e){return arguments.length?(s="function"===typeof e?e:_t(!!e),h):s},h.on=function(){var e=u.on.apply(u,arguments);return e===u?h:e},h.clickDistance=function(e){return arguments.length?(f=(e=+e)*e,h):Math.sqrt(f)},h},Ct=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function Et(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function It(){}var Tt="\\s*([+-]?\\d+)\\s*",Lt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",zt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kt=/^#([0-9a-f]{3})$/,Dt=/^#([0-9a-f]{6})$/,Ot=new RegExp("^rgb\\("+[Tt,Tt,Tt]+"\\)$"),Nt=new RegExp("^rgb\\("+[zt,zt,zt]+"\\)$"),jt=new RegExp("^rgba\\("+[Tt,Tt,Tt,Lt]+"\\)$"),Pt=new RegExp("^rgba\\("+[zt,zt,zt,Lt]+"\\)$"),Rt=new RegExp("^hsl\\("+[Lt,zt,zt]+"\\)$"),$t=new RegExp("^hsla\\("+[Lt,zt,zt,Lt]+"\\)$"),Ft={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Kt(e){var t;return e=(e+"").trim().toLowerCase(),(t=kt.exec(e))?new Gt((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=Dt.exec(e))?Ut(parseInt(t[1],16)):(t=Ot.exec(e))?new Gt(t[1],t[2],t[3],1):(t=Nt.exec(e))?new Gt(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=jt.exec(e))?Vt(t[1],t[2],t[3],t[4]):(t=Pt.exec(e))?Vt(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Rt.exec(e))?Qt(t[1],t[2]/100,t[3]/100,1):(t=$t.exec(e))?Qt(t[1],t[2]/100,t[3]/100,t[4]):Ft.hasOwnProperty(e)?Ut(Ft[e]):"transparent"===e?new Gt(NaN,NaN,NaN,0):null}function Ut(e){return new Gt(e>>16&255,e>>8&255,255&e,1)}function Vt(e,t,n,r){return r<=0&&(e=t=n=NaN),new Gt(e,t,n,r)}function Bt(e){return e instanceof It||(e=Kt(e)),e?new Gt((e=e.rgb()).r,e.g,e.b,e.opacity):new Gt}function Ht(e,t,n,r){return 1===arguments.length?Bt(e):new Gt(e,t,n,null==r?1:r)}function Gt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Qt(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Wt(e,t,n,r)}function qt(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof Wt)return new Wt(e.h,e.s,e.l,e.opacity);if(e instanceof It||(e=Kt(e)),!e)return new Wt;if(e instanceof Wt)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Wt(a,s,l,e.opacity)}(e):new Wt(e,t,n,null==r?1:r)}function Wt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Yt(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}Ct(It,Kt,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Ct(Gt,Ht,Et(It,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Gt(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Gt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),Ct(Wt,qt,Et(It,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Wt(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Wt(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Gt(Yt(e>=240?e-240:e+120,i,r),Yt(e,i,r),Yt(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Xt=Math.PI/180,Jt=180/Math.PI,Zt=.95047,en=1,tn=1.08883,nn=4/29,rn=6/29,on=3*rn*rn,an=rn*rn*rn;function sn(e){if(e instanceof un)return new un(e.l,e.a,e.b,e.opacity);if(e instanceof mn){var t=e.h*Xt;return new un(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof Gt||(e=Bt(e));var n=dn(e.r),r=dn(e.g),i=dn(e.b),o=cn((.4124564*n+.3575761*r+.1804375*i)/Zt),a=cn((.2126729*n+.7151522*r+.072175*i)/en);return new un(116*a-16,500*(o-a),200*(a-cn((.0193339*n+.119192*r+.9503041*i)/tn)),e.opacity)}function ln(e,t,n,r){return 1===arguments.length?sn(e):new un(e,t,n,null==r?1:r)}function un(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function cn(e){return e>an?Math.pow(e,1/3):e/on+nn}function fn(e){return e>rn?e*e*e:on*(e-nn)}function hn(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function dn(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function pn(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof mn)return new mn(e.h,e.c,e.l,e.opacity);e instanceof un||(e=sn(e));var t=Math.atan2(e.b,e.a)*Jt;return new mn(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}(e):new mn(e,t,n,null==r?1:r)}function mn(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}Ct(un,ln,Et(It,{brighter:function(e){return new un(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new un(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return e=en*fn(e),new Gt(hn(3.2404542*(t=Zt*fn(t))-1.5371385*e-.4985314*(n=tn*fn(n))),hn(-.969266*t+1.8760108*e+.041556*n),hn(.0556434*t-.2040259*e+1.0572252*n),this.opacity)}})),Ct(mn,pn,Et(It,{brighter:function(e){return new mn(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new mn(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return sn(this).rgb()}}));var vn=-.29227,gn=-.90649,yn=1.97294,_n=yn*gn,bn=1.78277*yn,wn=1.78277*vn- -.14861*gn;function xn(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof An)return new An(e.h,e.s,e.l,e.opacity);e instanceof Gt||(e=Bt(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(wn*r+_n*t-bn*n)/(wn+_n-bn),o=r-i,a=(yn*(n-i)-vn*o)/gn,s=Math.sqrt(a*a+o*o)/(yn*i*(1-i)),l=s?Math.atan2(a,o)*Jt-120:NaN;return new An(l<0?l+360:l,s,i,e.opacity)}(e):new An(e,t,n,null==r?1:r)}function An(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Mn(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}Ct(An,xn,Et(It,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new An(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new An(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*Xt,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Gt(255*(t+n*(-.14861*r+1.78277*i)),255*(t+n*(vn*r+gn*i)),255*(t+n*(yn*r)),this.opacity)}}));var Sn=function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return Mn((n-r/t)*t,a,i,o,s)}},Cn=function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return Mn((n-r/t)*t,i,o,a,s)}},En=function(e){return function(){return e}};function In(e,t){return function(n){return e+n*t}}function Tn(e,t){var n=t-e;return n?In(e,n>180||n<-180?n-360*Math.round(n/360):n):En(isNaN(e)?t:e)}function Ln(e){return 1===(e=+e)?zn:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):En(isNaN(t)?n:t)}}function zn(e,t){var n=t-e;return n?In(e,n):En(isNaN(e)?t:e)}var kn=function e(t){var n=Ln(t);function r(e,t){var r=n((e=Ht(e)).r,(t=Ht(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=zn(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function Dn(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Ht(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}var On=Dn(Sn),Nn=Dn(Cn),jn=function(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Qn(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}},Pn=function(e,t){var n=new Date;return t-=e=+e,function(r){return n.setTime(e+t*r),n}},Rn=function(e,t){return t-=e=+e,function(n){return e+t*n}},$n=function(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=Qn(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}},Fn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kn=new RegExp(Fn.source,"g");var Un,Vn,Bn,Hn,Gn=function(e,t){var n,r,i,o=Fn.lastIndex=Kn.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=Fn.exec(e))&&(r=Kn.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:Rn(n,r)})),o=Kn.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})},Qn=function(e,t){var n,r=typeof t;return null==t||"boolean"===r?En(t):("number"===r?Rn:"string"===r?(n=Kt(t))?(t=n,kn):Gn:t instanceof Kt?kn:t instanceof Date?Pn:Array.isArray(t)?jn:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?$n:Rn)(e,t)},qn=function(e,t){return t-=e=+e,function(n){return Math.round(e+t*n)}},Wn=180/Math.PI,Yn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Xn=function(e,t,n,r,i,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Wn,skewX:Math.atan(l)*Wn,scaleX:a,scaleY:s}};function Jn(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(o,a){var s=[],l=[];return o=e(o),a=e(a),function(e,r,i,o,a,s){if(e!==i||r!==o){var l=a.push("translate(",null,t,null,n);s.push({i:l-4,x:Rn(e,i)},{i:l-2,x:Rn(r,o)})}else(i||o)&&a.push("translate("+i+t+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Rn(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(o.rotate,a.rotate,s,l),function(e,t,n,o){e!==t?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Rn(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(o.skewX,a.skewX,s,l),function(e,t,n,r,o,a){if(e!==n||t!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Rn(e,n)},{i:s-2,x:Rn(t,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(e){for(var t,n=-1,r=l.length;++n<r;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var Zn=Jn(function(e){return"none"===e?Yn:(Un||(Un=document.createElement("DIV"),Vn=document.documentElement,Bn=document.defaultView),Un.style.transform=e,e=Bn.getComputedStyle(Vn.appendChild(Un),null).getPropertyValue("transform"),Vn.removeChild(Un),e=e.slice(7,-1).split(","),Xn(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))},"px, ","px)","deg)"),er=Jn(function(e){return null==e?Yn:(Hn||(Hn=document.createElementNS("http://www.w3.org/2000/svg","g")),Hn.setAttribute("transform",e),(e=Hn.transform.baseVal.consolidate())?(e=e.matrix,Xn(e.a,e.b,e.c,e.d,e.e,e.f)):Yn)},", ",")",")"),tr=Math.SQRT2;function nr(e){return((e=Math.exp(e))+1/e)/2}var rr=function(e,t){var n,r,i=e[0],o=e[1],a=e[2],s=t[0],l=t[1],u=t[2],c=s-i,f=l-o,h=c*c+f*f;if(h<1e-12)r=Math.log(u/a)/tr,n=function(e){return[i+e*c,o+e*f,a*Math.exp(tr*e*r)]};else{var d=Math.sqrt(h),p=(u*u-a*a+4*h)/(2*a*2*d),m=(u*u-a*a-4*h)/(2*u*2*d),v=Math.log(Math.sqrt(p*p+1)-p),g=Math.log(Math.sqrt(m*m+1)-m);r=(g-v)/tr,n=function(e){var t,n=e*r,s=nr(v),l=a/(2*d)*(s*(t=tr*n+v,((t=Math.exp(2*t))-1)/(t+1))-function(e){return((e=Math.exp(e))-1/e)/2}(v));return[i+l*c,o+l*f,a*s/nr(tr*n+v)]}}return n.duration=1e3*r,n};function ir(e){return function(t,n){var r=e((t=qt(t)).h,(n=qt(n)).h),i=zn(t.s,n.s),o=zn(t.l,n.l),a=zn(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=i(e),t.l=o(e),t.opacity=a(e),t+""}}}var or=ir(Tn),ar=ir(zn);function sr(e,t){var n=zn((e=ln(e)).l,(t=ln(t)).l),r=zn(e.a,t.a),i=zn(e.b,t.b),o=zn(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=o(t),e+""}}function lr(e){return function(t,n){var r=e((t=pn(t)).h,(n=pn(n)).h),i=zn(t.c,n.c),o=zn(t.l,n.l),a=zn(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=i(e),t.l=o(e),t.opacity=a(e),t+""}}}var ur=lr(Tn),cr=lr(zn);function fr(e){return function t(n){function r(t,r){var i=e((t=xn(t)).h,(r=xn(r)).h),o=zn(t.s,r.s),a=zn(t.l,r.l),s=zn(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=o(e),t.l=a(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,r.gamma=t,r}(1)}var hr,dr,pr=fr(Tn),mr=fr(zn),vr=function(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n},gr=0,yr=0,_r=0,br=1e3,wr=0,xr=0,Ar=0,Mr="object"===typeof performance&&performance.now?performance:Date,Sr="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Cr(){return xr||(Sr(Er),xr=Mr.now()+Ar)}function Er(){xr=0}function Ir(){this._call=this._time=this._next=null}function Tr(e,t,n){var r=new Ir;return r.restart(e,t,n),r}function Lr(){Cr(),++gr;for(var e,t=hr;t;)(e=xr-t._time)>=0&&t._call.call(null,e),t=t._next;--gr}function zr(){xr=(wr=Mr.now())+Ar,gr=yr=0;try{Lr()}finally{gr=0,function(){var e,t,n=hr,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:hr=t);dr=e,Dr(r)}(),xr=0}}function kr(){var e=Mr.now(),t=e-wr;t>br&&(Ar-=t,wr=e)}function Dr(e){gr||(yr&&(yr=clearTimeout(yr)),e-xr>24?(e<1/0&&(yr=setTimeout(zr,e-Mr.now()-Ar)),_r&&(_r=clearInterval(_r))):(_r||(wr=Mr.now(),_r=setInterval(kr,br)),gr=1,Sr(zr)))}Ir.prototype=Tr.prototype={constructor:Ir,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?Cr():+n)+(null==t?0:+t),this._next||dr===this||(dr?dr._next=this:hr=this,dr=this),this._call=e,this._time=n,Dr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Dr())}};var Or=function(e,t,n){var r=new Ir;return t=null==t?0:+t,r.restart(function(n){r.stop(),e(n+t)},t,n),r},Nr=function(e,t,n){var r=new Ir,i=t;return null==t?(r.restart(e,t,n),r):(t=+t,n=null==n?Cr():+n,r.restart(function o(a){a+=i,r.restart(o,i+=t,n),e(a)},t,n),r)},jr=he("start","end","interrupt"),Pr=[],Rr=0,$r=1,Fr=2,Kr=3,Ur=4,Vr=5,Br=6,Hr=function(e,t,n,r,i,o){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function o(l){var u,c,f,h;if(n.state!==$r)return s();for(u in i)if((h=i[u]).name===n.name){if(h.state===Kr)return Or(o);h.state===Ur?(h.state=Br,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete i[u]):+u<t&&(h.state=Br,h.timer.stop(),delete i[u])}if(Or(function(){n.state===Kr&&(n.state=Ur,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=Fr,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Fr){for(n.state=Kr,r=new Array(f=n.tween.length),u=0,c=-1;u<f;++u)(h=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=h);r.length=c+1}}function a(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=Vr,1),o=-1,a=r.length;++o<a;)r[o].call(null,i);n.state===Vr&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var r in n.state=Br,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=Tr(function(e){n.state=$r,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)},0,n.time)}(e,n,{name:t,index:r,group:i,on:jr,tween:Pr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Rr})};function Gr(e,t){var n=qr(e,t);if(n.state>Rr)throw new Error("too late; already scheduled");return n}function Qr(e,t){var n=qr(e,t);if(n.state>Fr)throw new Error("too late; already started");return n}function qr(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}var Wr=function(e,t){var n,r,i,o=e.__transition,a=!0;if(o){for(i in t=null==t?null:t+"",o)(n=o[i]).name===t?(r=n.state>Fr&&n.state<Vr,n.state=Br,n.timer.stop(),r&&n.on.call("interrupt",e,e.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete e.__transition}};function Yr(e,t,n){var r=e._id;return e.each(function(){var e=Qr(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return qr(e,r).value[t]}}var Xr=function(e,t){var n;return("number"===typeof t?Rn:t instanceof Kt?kn:(n=Kt(t))?(t=n,kn):Gn)(e,t)};var Jr=rt.prototype.constructor;var Zr=0;function ei(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function ti(e){return rt().transition(e)}function ni(){return++Zr}var ri=rt.prototype;function ii(e){return+e}function oi(e){return e*e}function ai(e){return e*(2-e)}function si(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function li(e){return e*e*e}function ui(e){return--e*e*e+1}function ci(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}ei.prototype=ti.prototype={constructor:ei,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=ye(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,l,u=r[a],c=u.length,f=o[a]=new Array(c),h=0;h<c;++h)(s=u[h])&&(l=e.call(s,s.__data__,h,u))&&("__data__"in s&&(l.__data__=s.__data__),f[h]=l,Hr(f[h],t,n,h,f,qr(s,n)));return new ei(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=be(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l,u=r[s],c=u.length,f=0;f<c;++f)if(l=u[f]){for(var h,d=e.call(l,l.__data__,f,u),p=qr(l,n),m=0,v=d.length;m<v;++m)(h=d[m])&&Hr(h,t,n,m,d,p);o.push(d),a.push(l)}return new ei(o,a,t,n)},filter:function(e){"function"!==typeof e&&(e=Me(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,l=r[i]=[],u=0;u<s;++u)(o=a[u])&&e.call(o,o.__data__,u,a)&&l.push(o);return new ei(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,u=t[s],c=n[s],f=u.length,h=a[s]=new Array(f),d=0;d<f;++d)(l=u[d]||c[d])&&(h[d]=l);for(;s<r;++s)a[s]=t[s];return new ei(a,this._parents,this._name,this._id)},selection:function(){return new Jr(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=ni(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,u=0;u<l;++u)if(a=s[u]){var c=qr(a,t);Hr(a,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ei(r,this._parents,e,n)},call:ri.call,nodes:ri.nodes,node:ri.node,size:ri.size,empty:ri.empty,each:ri.each,on:function(e,t){var n=this._id;return arguments.length<2?qr(this.node(),n).on.on(e):this.each(function(e,t,n){var r,i,o=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(t)?Gr:Qr;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}(n,e,t))},attr:function(e,t){var n=me(e),r="transform"===n?er:Xr;return this.attrTween(e,"function"===typeof t?(n.local?function(e,t,n){var r,i,o;return function(){var a,s=n(this);if(null!=s)return(a=this.getAttributeNS(e.space,e.local))===s?null:a===r&&s===i?o:o=t(r=a,i=s);this.removeAttributeNS(e.space,e.local)}}:function(e,t,n){var r,i,o;return function(){var a,s=n(this);if(null!=s)return(a=this.getAttribute(e))===s?null:a===r&&s===i?o:o=t(r=a,i=s);this.removeAttribute(e)}})(n,r,Yr(this,"attr."+e,t)):null==t?(n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}})(n):(n.local?function(e,t,n){var r,i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===n?null:o===r?i:i=t(r=o,n)}}:function(e,t,n){var r,i;return function(){var o=this.getAttribute(e);return o===n?null:o===r?i:i=t(r=o,n)}})(n,r,t+""))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var r=me(e);return this.tween(n,(r.local?function(e,t){function n(){var n=this,r=t.apply(n,arguments);return r&&function(t){n.setAttributeNS(e.space,e.local,r(t))}}return n._value=t,n}:function(e,t){function n(){var n=this,r=t.apply(n,arguments);return r&&function(t){n.setAttribute(e,r(t))}}return n._value=t,n})(r,t))},style:function(e,t,n){var r="transform"===(e+="")?Zn:Xr;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var o=ke(this,e),a=(this.style.removeProperty(e),ke(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}(e,r)).on("end.style."+e,function(e){return function(){this.style.removeProperty(e)}}(e)):this.styleTween(e,"function"===typeof t?function(e,t,n){var r,i,o;return function(){var a=ke(this,e),s=n(this);return null==s&&(this.style.removeProperty(e),s=ke(this,e)),a===s?null:a===r&&s===i?o:o=t(r=a,i=s)}}(e,r,Yr(this,"style."+e,t)):function(e,t,n){var r,i;return function(){var o=ke(this,e);return o===n?null:o===r?i:i=t(r=o,n)}}(e,r,t+""),n)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!==typeof t)throw new Error;return this.tween(r,function(e,t,n){function r(){var r=this,i=t.apply(r,arguments);return i&&function(t){r.style.setProperty(e,i(t),n)}}return r._value=t,r}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Yr(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=qr(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===e)return r.value;return null}return this.each((null==t?function(e,t){var n,r;return function(){var i=Qr(this,e),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}i.tween=r}}:function(e,t,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var o=Qr(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=s;break}l===u&&i.push(s)}o.tween=i}})(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?function(e,t){return function(){Gr(this,e).delay=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){Gr(this,e).delay=t}})(t,e)):qr(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?function(e,t){return function(){Qr(this,e).duration=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){Qr(this,e).duration=t}})(t,e)):qr(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!==typeof t)throw new Error;return function(){Qr(this,e).ease=t}}(t,e)):qr(this.node(),t).ease}};var fi=function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3),hi=function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),di=function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),pi=Math.PI,mi=pi/2;function vi(e){return 1-Math.cos(e*mi)}function gi(e){return Math.sin(e*mi)}function yi(e){return(1-Math.cos(pi*e))/2}function _i(e){return Math.pow(2,10*e-10)}function bi(e){return 1-Math.pow(2,-10*e)}function wi(e){return((e*=2)<=1?Math.pow(2,10*e-10):2-Math.pow(2,10-10*e))/2}function xi(e){return 1-Math.sqrt(1-e*e)}function Ai(e){return Math.sqrt(1- --e*e)}function Mi(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var Si=4/11,Ci=6/11,Ei=8/11,Ii=.75,Ti=9/11,Li=10/11,zi=.9375,ki=21/22,Di=63/64,Oi=1/Si/Si;function Ni(e){return 1-ji(1-e)}function ji(e){return(e=+e)<Si?Oi*e*e:e<Ei?Oi*(e-=Ci)*e+Ii:e<Li?Oi*(e-=Ti)*e+zi:Oi*(e-=ki)*e+Di}function Pi(e){return((e*=2)<=1?1-ji(1-e):ji(e-1)+1)/2}var Ri=function e(t){function n(e){return e*e*((t+1)*e-t)}return t=+t,n.overshoot=e,n}(1.70158),$i=function e(t){function n(e){return--e*e*((t+1)*e+t)+1}return t=+t,n.overshoot=e,n}(1.70158),Fi=function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(1.70158),Ki=2*Math.PI,Ui=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Ki);function i(e){return t*Math.pow(2,10*--e)*Math.sin((r-e)/n)}return i.amplitude=function(t){return e(t,n*Ki)},i.period=function(n){return e(t,n)},i}(1,.3),Vi=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Ki);function i(e){return 1-t*Math.pow(2,-10*(e=+e))*Math.sin((e+r)/n)}return i.amplitude=function(t){return e(t,n*Ki)},i.period=function(n){return e(t,n)},i}(1,.3),Bi=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Ki);function i(e){return((e=2*e-1)<0?t*Math.pow(2,10*e)*Math.sin((r-e)/n):2-t*Math.pow(2,-10*e)*Math.sin((r+e)/n))/2}return i.amplitude=function(t){return e(t,n*Ki)},i.period=function(n){return e(t,n)},i}(1,.3),Hi={time:null,delay:0,duration:250,ease:ci};function Gi(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return Hi.time=Cr(),Hi;return n}rt.prototype.interrupt=function(e){return this.each(function(){Wr(this,e)})},rt.prototype.transition=function(e){var t,n;e instanceof ei?(t=e._id,e=e._name):(t=ni(),(n=Hi).time=Cr(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,u=0;u<l;++u)(a=s[u])&&Hr(a,e,t,u,s,n||Gi(a,t));return new ei(r,this._parents,e,t)};var Qi=[null],qi=function(e,t){var n,r,i=e.__transition;if(i)for(r in t=null==t?null:t+"",i)if((n=i[r]).state>$r&&n.name===t)return new ei([[e]],Qi,t,+r);return null},Wi=function(e){return function(){return e}},Yi=function(e,t,n){this.target=e,this.type=t,this.selection=n};function Xi(){Qe.stopImmediatePropagation()}var Ji=function(){Qe.preventDefault(),Qe.stopImmediatePropagation()},Zi={name:"drag"},eo={name:"space"},to={name:"handle"},no={name:"center"},ro={name:"x",handles:["e","w"].map(fo),input:function(e,t){return e&&[[e[0],t[0][1]],[e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},io={name:"y",handles:["n","s"].map(fo),input:function(e,t){return e&&[[t[0][0],e[0]],[t[1][0],e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},oo={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(fo),input:function(e){return e},output:function(e){return e}},ao={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},so={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},lo={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},uo={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},co={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function fo(e){return{type:e}}function ho(){return!Qe.button}function po(){var e=this.ownerSVGElement||this;return[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function mo(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function vo(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function go(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function yo(){return wo(ro)}function _o(){return wo(io)}var bo=function(){return wo(oo)};function wo(e){var t,n=po,r=ho,i=he(a,"start","brush","end"),o=6;function a(t){var n=t.property("__brush",f).selectAll(".overlay").data([fo("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",ao.overlay).merge(n).each(function(){var e=mo(this).extent;it(this).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1])}),t.selectAll(".selection").data([fo("selection")]).enter().append("rect").attr("class","selection").attr("cursor",ao.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=t.selectAll(".handle").data(e.handles,function(e){return e.type});r.exit().remove(),r.enter().append("rect").attr("class",function(e){return"handle handle--"+e.type}).attr("cursor",function(e){return ao[e.type]}),t.each(s).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",c)}function s(){var e=it(this),t=mo(this).selection;t?(e.selectAll(".selection").style("display",null).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1]),e.selectAll(".handle").style("display",null).attr("x",function(e){return"e"===e.type[e.type.length-1]?t[1][0]-o/2:t[0][0]-o/2}).attr("y",function(e){return"s"===e.type[0]?t[1][1]-o/2:t[0][1]-o/2}).attr("width",function(e){return"n"===e.type||"s"===e.type?t[1][0]-t[0][0]+o:o}).attr("height",function(e){return"e"===e.type||"w"===e.type?t[1][1]-t[0][1]+o:o})):e.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function l(e,t){return e.__brush.emitter||new u(e,t)}function u(e,t){this.that=e,this.args=t,this.state=e.__brush,this.active=0}function c(){if(Qe.touches){if(Qe.changedTouches.length<Qe.touches.length)return Ji()}else if(t)return;if(r.apply(this,arguments)){var n,i,o,a,u,c,f,h,d,p,m,v,g,y=this,_=Qe.target.__data__.type,b="selection"===(Qe.metaKey?_="overlay":_)?Zi:Qe.altKey?no:to,w=e===io?null:uo[_],x=e===ro?null:co[_],A=mo(y),M=A.extent,S=A.selection,C=M[0][0],E=M[0][1],I=M[1][0],T=M[1][1],L=w&&x&&Qe.shiftKey,z=ft(y),k=z,D=l(y,arguments).beforestart();"overlay"===_?A.selection=S=[[n=e===io?C:z[0],o=e===ro?E:z[1]],[u=e===io?I:n,f=e===ro?T:o]]:(n=S[0][0],o=S[0][1],u=S[1][0],f=S[1][1]),i=n,a=o,c=u,h=f;var O=it(y).attr("pointer-events","none"),N=O.selectAll(".overlay").attr("cursor",ao[_]);if(Qe.touches)O.on("touchmove.brush",P,!0).on("touchend.brush touchcancel.brush",$,!0);else{var j=it(Qe.view).on("keydown.brush",function(){switch(Qe.keyCode){case 16:L=w&&x;break;case 18:b===to&&(w&&(u=c-d*w,n=i+d*w),x&&(f=h-p*x,o=a+p*x),b=no,R());break;case 32:b!==to&&b!==no||(w<0?u=c-d:w>0&&(n=i-d),x<0?f=h-p:x>0&&(o=a-p),b=eo,N.attr("cursor",ao.selection),R());break;default:return}Ji()},!0).on("keyup.brush",function(){switch(Qe.keyCode){case 16:L&&(v=g=L=!1,R());break;case 18:b===no&&(w<0?u=c:w>0&&(n=i),x<0?f=h:x>0&&(o=a),b=to,R());break;case 32:b===eo&&(Qe.altKey?(w&&(u=c-d*w,n=i+d*w),x&&(f=h-p*x,o=a+p*x),b=no):(w<0?u=c:w>0&&(n=i),x<0?f=h:x>0&&(o=a),b=to),N.attr("cursor",ao[_]),R());break;default:return}Ji()},!0).on("mousemove.brush",P,!0).on("mouseup.brush",$,!0);gt(Qe.view)}Xi(),Wr(y),s.call(y),D.start()}function P(){var e=ft(y);!L||v||g||(Math.abs(e[0]-k[0])>Math.abs(e[1]-k[1])?g=!0:v=!0),k=e,m=!0,Ji(),R()}function R(){var e;switch(d=k[0]-z[0],p=k[1]-z[1],b){case eo:case Zi:w&&(d=Math.max(C-n,Math.min(I-u,d)),i=n+d,c=u+d),x&&(p=Math.max(E-o,Math.min(T-f,p)),a=o+p,h=f+p);break;case to:w<0?(d=Math.max(C-n,Math.min(I-n,d)),i=n+d,c=u):w>0&&(d=Math.max(C-u,Math.min(I-u,d)),i=n,c=u+d),x<0?(p=Math.max(E-o,Math.min(T-o,p)),a=o+p,h=f):x>0&&(p=Math.max(E-f,Math.min(T-f,p)),a=o,h=f+p);break;case no:w&&(i=Math.max(C,Math.min(I,n-d*w)),c=Math.max(C,Math.min(I,u+d*w))),x&&(a=Math.max(E,Math.min(T,o-p*x)),h=Math.max(E,Math.min(T,f+p*x)))}c<i&&(w*=-1,e=n,n=u,u=e,e=i,i=c,c=e,_ in so&&N.attr("cursor",ao[_=so[_]])),h<a&&(x*=-1,e=o,o=f,f=e,e=a,a=h,h=e,_ in lo&&N.attr("cursor",ao[_=lo[_]])),A.selection&&(S=A.selection),v&&(i=S[0][0],c=S[1][0]),g&&(a=S[0][1],h=S[1][1]),S[0][0]===i&&S[0][1]===a&&S[1][0]===c&&S[1][1]===h||(A.selection=[[i,a],[c,h]],s.call(y),D.brush())}function $(){if(Xi(),Qe.touches){if(Qe.touches.length)return;t&&clearTimeout(t),t=setTimeout(function(){t=null},500),O.on("touchmove.brush touchend.brush touchcancel.brush",null)}else yt(Qe.view,m),j.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);O.attr("pointer-events","all"),N.attr("cursor",ao.overlay),A.selection&&(S=A.selection),vo(S)&&(A.selection=null,s.call(y)),D.end()}}function f(){var t=this.__brush||{selection:null};return t.extent=n.apply(this,arguments),t.dim=e,t}return a.move=function(t,n){t.selection?t.on("start.brush",function(){l(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){l(this,arguments).end()}).tween("brush",function(){var t=this,r=t.__brush,i=l(t,arguments),o=r.selection,a=e.input("function"===typeof n?n.apply(this,arguments):n,r.extent),u=Qn(o,a);function c(e){r.selection=1===e&&vo(a)?null:u(e),s.call(t),i.brush()}return o&&a?c:c(1)}):t.each(function(){var t=arguments,r=this.__brush,i=e.input("function"===typeof n?n.apply(this,t):n,r.extent),o=l(this,t).beforestart();Wr(this),r.selection=null==i||vo(i)?null:i,s.call(this),o.start().brush().end()})},u.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0===--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){Je(new Yi(a,t,e.output(this.state.selection)),i.apply,i,[t,this.that,this.args])}},a.extent=function(e){return arguments.length?(n="function"===typeof e?e:Wi([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),a):n},a.filter=function(e){return arguments.length?(r="function"===typeof e?e:Wi(!!e),a):r},a.handleSize=function(e){return arguments.length?(o=+e,a):o},a.on=function(){var e=i.on.apply(i,arguments);return e===i?a:e},a}var xo=Math.cos,Ao=Math.sin,Mo=Math.PI,So=Mo/2,Co=2*Mo,Eo=Math.max;var Io=function(){var e=0,t=null,n=null,r=null;function i(i){var o,a,s,l,u,c,f=i.length,h=[],d=x(f),p=[],m=[],v=m.groups=new Array(f),g=new Array(f*f);for(o=0,u=-1;++u<f;){for(a=0,c=-1;++c<f;)a+=i[u][c];h.push(a),p.push(x(f)),o+=a}for(t&&d.sort(function(e,n){return t(h[e],h[n])}),n&&p.forEach(function(e,t){e.sort(function(e,r){return n(i[t][e],i[t][r])})}),l=(o=Eo(0,Co-e*f)/o)?e:Co/f,a=0,u=-1;++u<f;){for(s=a,c=-1;++c<f;){var y=d[u],_=p[y][c],b=i[y][_],w=a,A=a+=b*o;g[_*f+y]={index:y,subindex:_,startAngle:w,endAngle:A,value:b}}v[y]={index:y,startAngle:s,endAngle:a,value:h[y]},a+=l}for(u=-1;++u<f;)for(c=u-1;++c<f;){var M=g[c*f+u],S=g[u*f+c];(M.value||S.value)&&m.push(M.value<S.value?{source:S,target:M}:{source:M,target:S})}return r?m.sort(r):m}return i.padAngle=function(t){return arguments.length?(e=Eo(0,t),i):e},i.sortGroups=function(e){return arguments.length?(t=e,i):t},i.sortSubgroups=function(e){return arguments.length?(n=e,i):n},i.sortChords=function(e){return arguments.length?(null==e?r=null:(t=e,r=function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)})._=e,i):r&&r._;var t},i},To=Array.prototype.slice,Lo=function(e){return function(){return e}},zo=Math.PI,ko=2*zo,Do=ko-1e-6;function Oo(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function No(){return new Oo}Oo.prototype=No.prototype={constructor:Oo,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-e,l=r-t,u=o-e,c=a-t,f=u*u+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>1e-6)if(Math.abs(c*s-l*u)>1e-6&&i){var h=n-o,d=r-a,p=s*s+l*l,m=h*h+d*d,v=Math.sqrt(p),g=Math.sqrt(f),y=i*Math.tan((zo-Math.acos((p+f-m)/(2*v*g)))/2),_=y/g,b=y/v;Math.abs(_-1)>1e-6&&(this._+="L"+(e+_*u)+","+(t+_*c)),this._+="A"+i+","+i+",0,0,"+ +(c*h>u*d)+","+(this._x1=e+b*s)+","+(this._y1=t+b*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,i,o){e=+e,t=+t;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=e+a,u=t+s,c=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+u:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-u)>1e-6)&&(this._+="L"+l+","+u),n&&(f<0&&(f=f%ko+ko),f>Do?this._+="A"+n+","+n+",0,1,"+c+","+(e-a)+","+(t-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):f>1e-6&&(this._+="A"+n+","+n+",0,"+ +(f>=zo)+","+c+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var jo=No;function Po(e){return e.source}function Ro(e){return e.target}function $o(e){return e.radius}function Fo(e){return e.startAngle}function Ko(e){return e.endAngle}var Uo=function(){var e=Po,t=Ro,n=$o,r=Fo,i=Ko,o=null;function a(){var a,s=To.call(arguments),l=e.apply(this,s),u=t.apply(this,s),c=+n.apply(this,(s[0]=l,s)),f=r.apply(this,s)-So,h=i.apply(this,s)-So,d=c*xo(f),p=c*Ao(f),m=+n.apply(this,(s[0]=u,s)),v=r.apply(this,s)-So,g=i.apply(this,s)-So;if(o||(o=a=jo()),o.moveTo(d,p),o.arc(0,0,c,f,h),f===v&&h===g||(o.quadraticCurveTo(0,0,m*xo(v),m*Ao(v)),o.arc(0,0,m,v,g)),o.quadraticCurveTo(0,0,d,p),o.closePath(),a)return o=null,a+""||null}return a.radius=function(e){return arguments.length?(n="function"===typeof e?e:Lo(+e),a):n},a.startAngle=function(e){return arguments.length?(r="function"===typeof e?e:Lo(+e),a):r},a.endAngle=function(e){return arguments.length?(i="function"===typeof e?e:Lo(+e),a):i},a.source=function(t){return arguments.length?(e=t,a):e},a.target=function(e){return arguments.length?(t=e,a):t},a.context=function(e){return arguments.length?(o=null==e?null:e,a):o},a};function Vo(){}function Bo(e,t){var n=new Vo;if(e instanceof Vo)e.each(function(e,t){n.set(t,e)});else if(Array.isArray(e)){var r,i=-1,o=e.length;if(null==t)for(;++i<o;)n.set(i,e[i]);else for(;++i<o;)n.set(t(r=e[i],i,e),r)}else if(e)for(var a in e)n.set(a,e[a]);return n}Vo.prototype=Bo.prototype={constructor:Vo,has:function(e){return"$"+e in this},get:function(e){return this["$"+e]},set:function(e,t){return this["$"+e]=t,this},remove:function(e){var t="$"+e;return t in this&&delete this[t]},clear:function(){for(var e in this)"$"===e[0]&&delete this[e]},keys:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)"$"===t[0]&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)"$"===t[0]&&++e;return e},empty:function(){for(var e in this)if("$"===e[0])return!1;return!0},each:function(e){for(var t in this)"$"===t[0]&&e(this[t],t.slice(1),this)}};var Ho=Bo,Go=function(){var e,t,n,r=[],i=[];function o(n,i,a,s){if(i>=r.length)return null!=e&&n.sort(e),null!=t?t(n):n;for(var l,u,c,f=-1,h=n.length,d=r[i++],p=Ho(),m=a();++f<h;)(c=p.get(l=d(u=n[f])+""))?c.push(u):p.set(l,[u]);return p.each(function(e,t){s(m,t,o(e,i,a,s))}),m}return n={object:function(e){return o(e,0,Qo,qo)},map:function(e){return o(e,0,Wo,Yo)},entries:function(e){return function e(n,o){if(++o>r.length)return n;var a,s=i[o-1];return null!=t&&o>=r.length?a=n.entries():(a=[],n.each(function(t,n){a.push({key:n,values:e(t,o)})})),null!=s?a.sort(function(e,t){return s(e.key,t.key)}):a}(o(e,0,Wo,Yo),0)},key:function(e){return r.push(e),n},sortKeys:function(e){return i[r.length-1]=e,n},sortValues:function(t){return e=t,n},rollup:function(e){return t=e,n}}};function Qo(){return{}}function qo(e,t,n){e[t]=n}function Wo(){return Ho()}function Yo(e,t,n){e.set(t,n)}function Xo(){}var Jo=Ho.prototype;function Zo(e,t){var n=new Xo;if(e instanceof Xo)e.each(function(e){n.add(e)});else if(e){var r=-1,i=e.length;if(null==t)for(;++r<i;)n.add(e[r]);else for(;++r<i;)n.add(t(e[r],r,e))}return n}Xo.prototype=Zo.prototype={constructor:Xo,has:Jo.has,add:function(e){return this["$"+(e+="")]=e,this},remove:Jo.remove,clear:Jo.clear,values:Jo.keys,size:Jo.size,empty:Jo.empty,each:Jo.each};var ea=Zo,ta=function(e){var t=[];for(var n in e)t.push(n);return t},na=function(e){var t=[];for(var n in e)t.push(e[n]);return t},ra=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},ia={},oa={},aa=34,sa=10,la=13;function ua(e){return new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}")}var ca=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,i=[],o=e.length,a=0,s=0,l=o<=0,u=!1;function c(){if(l)return oa;if(u)return u=!1,ia;var t,r,i=a;if(e.charCodeAt(i)===aa){for(;a++<o&&e.charCodeAt(a)!==aa||e.charCodeAt(++a)===aa;);return(t=a)>=o?l=!0:(r=e.charCodeAt(a++))===sa?u=!0:r===la&&(u=!0,e.charCodeAt(a)===sa&&++a),e.slice(i+1,t-1).replace(/""/g,'"')}for(;a<o;){if((r=e.charCodeAt(t=a++))===sa)u=!0;else if(r===la)u=!0,e.charCodeAt(a)===sa&&++a;else if(r!==n)continue;return e.slice(i,t)}return l=!0,e.slice(i,o)}for(e.charCodeAt(o-1)===sa&&--o,e.charCodeAt(o-1)===la&&--o;(r=c())!==oa;){for(var f=[];r!==ia&&r!==oa;)f.push(r),r=c();t&&null==(f=t(f,s++))||i.push(f)}return i}function i(t){return t.map(o).join(e)}function o(e){return null==e?"":t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,i,o=r(e,function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=ua(e);return function(r,i){return t(n(r),i,e)}}(e,t):ua(e)});return o.columns=i||[],o},parseRows:r,format:function(t,n){return null==n&&(n=function(e){var t=Object.create(null),n=[];return e.forEach(function(e){for(var r in e)r in t||n.push(t[r]=r)}),n}(t)),[n.map(o).join(e)].concat(t.map(function(t){return n.map(function(e){return o(t[e])}).join(e)})).join("\n")},formatRows:function(e){return e.map(i).join("\n")}}},fa=ca(","),ha=fa.parse,da=fa.parseRows,pa=fa.format,ma=fa.formatRows,va=ca("\t"),ga=va.parse,ya=va.parseRows,_a=va.format,ba=va.formatRows,wa=function(e,t){var n;function r(){var r,i,o=n.length,a=0,s=0;for(r=0;r<o;++r)a+=(i=n[r]).x,s+=i.y;for(a=a/o-e,s=s/o-t,r=0;r<o;++r)(i=n[r]).x-=a,i.y-=s}return null==e&&(e=0),null==t&&(t=0),r.initialize=function(e){n=e},r.x=function(t){return arguments.length?(e=+t,r):e},r.y=function(e){return arguments.length?(t=+e,r):t},r},xa=function(e){return function(){return e}},Aa=function(){return 1e-6*(Math.random()-.5)};function Ma(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o,a,s,l,u,c,f,h,d=e._root,p={data:r},m=e._x0,v=e._y0,g=e._x1,y=e._y1;if(!d)return e._root=p,e;for(;d.length;)if((u=t>=(o=(m+g)/2))?m=o:g=o,(c=n>=(a=(v+y)/2))?v=a:y=a,i=d,!(d=d[f=c<<1|u]))return i[f]=p,e;if(s=+e._x.call(null,d.data),l=+e._y.call(null,d.data),t===s&&n===l)return p.next=d,i?i[f]=p:e._root=p,e;do{i=i?i[f]=new Array(4):e._root=new Array(4),(u=t>=(o=(m+g)/2))?m=o:g=o,(c=n>=(a=(v+y)/2))?v=a:y=a}while((f=c<<1|u)===(h=(l>=a)<<1|s>=o));return i[h]=d,i[f]=p,e}var Sa=function(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i};function Ca(e){return e[0]}function Ea(e){return e[1]}function Ia(e,t,n){var r=new Ta(null==t?Ca:t,null==n?Ea:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function Ta(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function La(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var za=Ia.prototype=Ta.prototype;function ka(e){return e.x+e.vx}function Da(e){return e.y+e.vy}za.copy=function(){var e,t,n=new Ta(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=La(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=La(t));return n},za.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return Ma(this.cover(t,n),t,n,e)},za.addAll=function(e){var t,n,r,i,o=e.length,a=new Array(o),s=new Array(o),l=1/0,u=1/0,c=-1/0,f=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(a[n]=r,s[n]=i,r<l&&(l=r),r>c&&(c=r),i<u&&(u=i),i>f&&(f=i));for(c<l&&(l=this._x0,c=this._x1),f<u&&(u=this._y0,f=this._y1),this.cover(l,u).cover(c,f),n=0;n<o;++n)Ma(this,a[n],s[n],e[n]);return this},za.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{if(!(n>e||e>i||r>t||t>o))return this;var a,s,l=i-n,u=this._root;switch(s=(t<(r+o)/2)<<1|e<(n+i)/2){case 0:do{(a=new Array(4))[s]=u,u=a}while(o=r+(l*=2),e>(i=n+l)||t>o);break;case 1:do{(a=new Array(4))[s]=u,u=a}while(o=r+(l*=2),(n=i-l)>e||t>o);break;case 2:do{(a=new Array(4))[s]=u,u=a}while(r=o-(l*=2),e>(i=n+l)||r>t);break;case 3:do{(a=new Array(4))[s]=u,u=a}while(r=o-(l*=2),(n=i-l)>e||r>t)}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},za.data=function(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e},za.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},za.find=function(e,t,n){var r,i,o,a,s,l,u,c=this._x0,f=this._y0,h=this._x1,d=this._y1,p=[],m=this._root;for(m&&p.push(new Sa(m,c,f,h,d)),null==n?n=1/0:(c=e-n,f=t-n,h=e+n,d=t+n,n*=n);l=p.pop();)if(!(!(m=l.node)||(i=l.x0)>h||(o=l.y0)>d||(a=l.x1)<c||(s=l.y1)<f))if(m.length){var v=(i+a)/2,g=(o+s)/2;p.push(new Sa(m[3],v,g,a,s),new Sa(m[2],i,g,v,s),new Sa(m[1],v,o,a,g),new Sa(m[0],i,o,v,g)),(u=(t>=g)<<1|e>=v)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-u],p[p.length-1-u]=l)}else{var y=e-+this._x.call(null,m.data),_=t-+this._y.call(null,m.data),b=y*y+_*_;if(b<n){var w=Math.sqrt(n=b);c=e-w,f=t-w,h=e+w,d=t+w,r=m.data}}return r},za.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,i,o,a,s,l,u,c,f,h,d=this._root,p=this._x0,m=this._y0,v=this._x1,g=this._y1;if(!d)return this;if(d.length)for(;;){if((u=o>=(s=(p+v)/2))?p=s:v=s,(c=a>=(l=(m+g)/2))?m=l:g=l,t=d,!(d=d[f=c<<1|u]))return this;if(!d.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,h=f)}for(;d.data!==e;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):t?(i?t[f]=i:delete t[f],(d=t[0]||t[1]||t[2]||t[3])&&d===(t[3]||t[2]||t[1]||t[0])&&!d.length&&(n?n[h]=d:this._root=d),this):(this._root=i,this)},za.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},za.root=function(){return this._root},za.size=function(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e},za.visit=function(e){var t,n,r,i,o,a,s=[],l=this._root;for(l&&s.push(new Sa(l,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(l=t.node,r=t.x0,i=t.y0,o=t.x1,a=t.y1)&&l.length){var u=(r+o)/2,c=(i+a)/2;(n=l[3])&&s.push(new Sa(n,u,c,o,a)),(n=l[2])&&s.push(new Sa(n,r,c,u,a)),(n=l[1])&&s.push(new Sa(n,u,i,o,c)),(n=l[0])&&s.push(new Sa(n,r,i,u,c))}return this},za.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new Sa(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var o,a=t.x0,s=t.y0,l=t.x1,u=t.y1,c=(a+l)/2,f=(s+u)/2;(o=i[0])&&n.push(new Sa(o,a,s,c,f)),(o=i[1])&&n.push(new Sa(o,c,s,l,f)),(o=i[2])&&n.push(new Sa(o,a,f,c,u)),(o=i[3])&&n.push(new Sa(o,c,f,l,u))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},za.x=function(e){return arguments.length?(this._x=e,this):this._x},za.y=function(e){return arguments.length?(this._y=e,this):this._y};var Oa=function(e){var t,n,r=1,i=1;function o(){for(var e,o,s,l,u,c,f,h=t.length,d=0;d<i;++d)for(o=Ia(t,ka,Da).visitAfter(a),e=0;e<h;++e)s=t[e],c=n[s.index],f=c*c,l=s.x+s.vx,u=s.y+s.vy,o.visit(p);function p(e,t,n,i,o){var a=e.data,h=e.r,d=c+h;if(!a)return t>l+d||i<l-d||n>u+d||o<u-d;if(a.index>s.index){var p=l-a.x-a.vx,m=u-a.y-a.vy,v=p*p+m*m;v<d*d&&(0===p&&(v+=(p=Aa())*p),0===m&&(v+=(m=Aa())*m),v=(d-(v=Math.sqrt(v)))/v*r,s.vx+=(p*=v)*(d=(h*=h)/(f+h)),s.vy+=(m*=v)*d,a.vx-=p*(d=1-d),a.vy-=m*d)}}}function a(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function s(){if(t){var r,i,o=t.length;for(n=new Array(o),r=0;r<o;++r)i=t[r],n[i.index]=+e(i,r,t)}}return"function"!==typeof e&&(e=xa(null==e?1:+e)),o.initialize=function(e){t=e,s()},o.iterations=function(e){return arguments.length?(i=+e,o):i},o.strength=function(e){return arguments.length?(r=+e,o):r},o.radius=function(t){return arguments.length?(e="function"===typeof t?t:xa(+t),s(),o):e},o};function Na(e){return e.index}function ja(e,t){var n=e.get(t);if(!n)throw new Error("missing: "+t);return n}var Pa=function(e){var t,n,r,i,o,a=Na,s=function(e){return 1/Math.min(i[e.source.index],i[e.target.index])},l=xa(30),u=1;function c(r){for(var i=0,a=e.length;i<u;++i)for(var s,l,c,f,h,d,p,m=0;m<a;++m)l=(s=e[m]).source,f=(c=s.target).x+c.vx-l.x-l.vx||Aa(),h=c.y+c.vy-l.y-l.vy||Aa(),f*=d=((d=Math.sqrt(f*f+h*h))-n[m])/d*r*t[m],h*=d,c.vx-=f*(p=o[m]),c.vy-=h*p,l.vx+=f*(p=1-p),l.vy+=h*p}function f(){if(r){var s,l,u=r.length,c=e.length,f=Ho(r,a);for(s=0,i=new Array(u);s<c;++s)(l=e[s]).index=s,"object"!==typeof l.source&&(l.source=ja(f,l.source)),"object"!==typeof l.target&&(l.target=ja(f,l.target)),i[l.source.index]=(i[l.source.index]||0)+1,i[l.target.index]=(i[l.target.index]||0)+1;for(s=0,o=new Array(c);s<c;++s)l=e[s],o[s]=i[l.source.index]/(i[l.source.index]+i[l.target.index]);t=new Array(c),h(),n=new Array(c),d()}}function h(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+s(e[n],n,e)}function d(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+l(e[t],t,e)}return null==e&&(e=[]),c.initialize=function(e){r=e,f()},c.links=function(t){return arguments.length?(e=t,f(),c):e},c.id=function(e){return arguments.length?(a=e,c):a},c.iterations=function(e){return arguments.length?(u=+e,c):u},c.strength=function(e){return arguments.length?(s="function"===typeof e?e:xa(+e),h(),c):s},c.distance=function(e){return arguments.length?(l="function"===typeof e?e:xa(+e),d(),c):l},c};function Ra(e){return e.x}function $a(e){return e.y}var Fa,Ka=10,Ua=Math.PI*(3-Math.sqrt(5)),Va=function(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=Ho(),l=Tr(c),u=he("tick","end");function c(){f(),u.call("tick",t),n<r&&(l.stop(),u.call("end",t))}function f(){var t,r,l=e.length;for(n+=(o-n)*i,s.each(function(e){e(n)}),t=0;t<l;++t)null==(r=e[t]).fx?r.x+=r.vx*=a:(r.x=r.fx,r.vx=0),null==r.fy?r.y+=r.vy*=a:(r.y=r.fy,r.vy=0)}function h(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,isNaN(t.x)||isNaN(t.y)){var i=Ka*Math.sqrt(n),o=n*Ua;t.x=i*Math.cos(o),t.y=i*Math.sin(o)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function d(t){return t.initialize&&t.initialize(e),t}return null==e&&(e=[]),h(),t={tick:f,restart:function(){return l.restart(c),t},stop:function(){return l.stop(),t},nodes:function(n){return arguments.length?(e=n,h(),s.each(d),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(i=+e,t):+i},alphaTarget:function(e){return arguments.length?(o=+e,t):o},velocityDecay:function(e){return arguments.length?(a=1-e,t):1-a},force:function(e,n){return arguments.length>1?(null==n?s.remove(e):s.set(e,d(n)),t):s.get(e)},find:function(t,n,r){var i,o,a,s,l,u=0,c=e.length;for(null==r?r=1/0:r*=r,u=0;u<c;++u)(a=(i=t-(s=e[u]).x)*i+(o=n-s.y)*o)<r&&(l=s,r=a);return l},on:function(e,n){return arguments.length>1?(u.on(e,n),t):u.on(e)}}},Ba=function(){var e,t,n,r,i=xa(-30),o=1,a=1/0,s=.81;function l(r){var i,o=e.length,a=Ia(e,Ra,$a).visitAfter(c);for(n=r,i=0;i<o;++i)t=e[i],a.visit(f)}function u(){if(e){var t,n,o=e.length;for(r=new Array(o),t=0;t<o;++t)n=e[t],r[n.index]=+i(n,t,e)}}function c(e){var t,n,i,o,a,s=0,l=0;if(e.length){for(i=o=a=0;a<4;++a)(t=e[a])&&(n=Math.abs(t.value))&&(s+=t.value,l+=n,i+=n*t.x,o+=n*t.y);e.x=i/l,e.y=o/l}else{(t=e).x=t.data.x,t.y=t.data.y;do{s+=r[t.data.index]}while(t=t.next)}e.value=s}function f(e,i,l,u){if(!e.value)return!0;var c=e.x-t.x,f=e.y-t.y,h=u-i,d=c*c+f*f;if(h*h/s<d)return d<a&&(0===c&&(d+=(c=Aa())*c),0===f&&(d+=(f=Aa())*f),d<o&&(d=Math.sqrt(o*d)),t.vx+=c*e.value*n/d,t.vy+=f*e.value*n/d),!0;if(!(e.length||d>=a)){(e.data!==t||e.next)&&(0===c&&(d+=(c=Aa())*c),0===f&&(d+=(f=Aa())*f),d<o&&(d=Math.sqrt(o*d)));do{e.data!==t&&(h=r[e.data.index]*n/d,t.vx+=c*h,t.vy+=f*h)}while(e=e.next)}}return l.initialize=function(t){e=t,u()},l.strength=function(e){return arguments.length?(i="function"===typeof e?e:xa(+e),u(),l):i},l.distanceMin=function(e){return arguments.length?(o=e*e,l):Math.sqrt(o)},l.distanceMax=function(e){return arguments.length?(a=e*e,l):Math.sqrt(a)},l.theta=function(e){return arguments.length?(s=e*e,l):Math.sqrt(s)},l},Ha=function(e,t,n){var r,i,o,a=xa(.1);function s(e){for(var a=0,s=r.length;a<s;++a){var l=r[a],u=l.x-t||1e-6,c=l.y-n||1e-6,f=Math.sqrt(u*u+c*c),h=(o[a]-f)*i[a]*e/f;l.vx+=u*h,l.vy+=c*h}}function l(){if(r){var t,n=r.length;for(i=new Array(n),o=new Array(n),t=0;t<n;++t)o[t]=+e(r[t],t,r),i[t]=isNaN(o[t])?0:+a(r[t],t,r)}}return"function"!==typeof e&&(e=xa(+e)),null==t&&(t=0),null==n&&(n=0),s.initialize=function(e){r=e,l()},s.strength=function(e){return arguments.length?(a="function"===typeof e?e:xa(+e),l(),s):a},s.radius=function(t){return arguments.length?(e="function"===typeof t?t:xa(+t),l(),s):e},s.x=function(e){return arguments.length?(t=+e,s):t},s.y=function(e){return arguments.length?(n=+e,s):n},s},Ga=function(e){var t,n,r,i=xa(.1);function o(e){for(var i,o=0,a=t.length;o<a;++o)(i=t[o]).vx+=(r[o]-i.x)*n[o]*e}function a(){if(t){var o,a=t.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+e(t[o],o,t))?0:+i(t[o],o,t)}}return"function"!==typeof e&&(e=xa(null==e?0:+e)),o.initialize=function(e){t=e,a()},o.strength=function(e){return arguments.length?(i="function"===typeof e?e:xa(+e),a(),o):i},o.x=function(t){return arguments.length?(e="function"===typeof t?t:xa(+t),a(),o):e},o},Qa=function(e){var t,n,r,i=xa(.1);function o(e){for(var i,o=0,a=t.length;o<a;++o)(i=t[o]).vy+=(r[o]-i.y)*n[o]*e}function a(){if(t){var o,a=t.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+e(t[o],o,t))?0:+i(t[o],o,t)}}return"function"!==typeof e&&(e=xa(null==e?0:+e)),o.initialize=function(e){t=e,a()},o.strength=function(e){return arguments.length?(i="function"===typeof e?e:xa(+e),a(),o):i},o.y=function(t){return arguments.length?(e="function"===typeof t?t:xa(+t),a(),o):e},o},qa=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]},Wa=function(e){return(e=qa(Math.abs(e)))?e[1]:NaN},Ya=function(e,t){var n=qa(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},Xa={"":function(e,t){e:for(var n,r=(e=e.toPrecision(t)).length,i=1,o=-1;i<r;++i)switch(e[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;case"e":break e;default:o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(n+1):e},"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Ya(100*e,t)},r:Ya,s:function(e,t){var n=qa(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Fa=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+qa(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},Ja=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function Za(e){return new es(e)}function es(e){if(!(t=Ja.exec(e)))throw new Error("invalid format: "+e);var t,n=t[1]||" ",r=t[2]||">",i=t[3]||"-",o=t[4]||"",a=!!t[5],s=t[6]&&+t[6],l=!!t[7],u=t[8]&&+t[8].slice(1),c=t[9]||"";"n"===c?(l=!0,c="g"):Xa[c]||(c=""),(a||"0"===n&&"="===r)&&(a=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=o,this.zero=a,this.width=s,this.comma=l,this.precision=u,this.type=c}Za.prototype=es.prototype,es.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var ts,ns,rs,is=function(e){return e},os=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],as=function(e){var t,n,r=e.grouping&&e.thousands?(t=e.grouping,n=e.thousands,function(e,r){for(var i=e.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}):is,i=e.currency,o=e.decimal,a=e.numerals?function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(e.numerals):is,s=e.percent||"%";function l(e){var t=(e=Za(e)).fill,n=e.align,l=e.sign,u=e.symbol,c=e.zero,f=e.width,h=e.comma,d=e.precision,p=e.type,m="$"===u?i[0]:"#"===u&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",v="$"===u?i[1]:/[%p]/.test(p)?s:"",g=Xa[p],y=!p||/[defgprs%]/.test(p);function _(e){var i,s,u,_=m,b=v;if("c"===p)b=g(e)+b,e="";else{var w=(e=+e)<0;if(e=g(Math.abs(e),d),w&&0===+e&&(w=!1),_=(w?"("===l?l:"-":"-"===l||"("===l?"":l)+_,b=("s"===p?os[8+Fa/3]:"")+b+(w&&"("===l?")":""),y)for(i=-1,s=e.length;++i<s;)if(48>(u=e.charCodeAt(i))||u>57){b=(46===u?o+e.slice(i+1):e.slice(i))+b,e=e.slice(0,i);break}}h&&!c&&(e=r(e,1/0));var x=_.length+e.length+b.length,A=x<f?new Array(f-x+1).join(t):"";switch(h&&c&&(e=r(A+e,A.length?f-b.length:1/0),A=""),n){case"<":e=_+e+b+A;break;case"=":e=_+A+e+b;break;case"^":e=A.slice(0,x=A.length>>1)+_+e+b+A.slice(x);break;default:e=A+_+e+b}return a(e)}return d=null==d?p?6:12:/[gprs]/.test(p)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),_.toString=function(){return e+""},_}return{format:l,formatPrefix:function(e,t){var n=l(((e=Za(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Wa(t)/3))),i=Math.pow(10,-r),o=os[8+r/3];return function(e){return n(i*e)+o}}}};function ss(e){return ts=as(e),ns=ts.format,rs=ts.formatPrefix,ts}ss({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var ls=function(e){return Math.max(0,-Wa(Math.abs(e)))},us=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Wa(t)/3)))-Wa(Math.abs(e)))},cs=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Wa(t)-Wa(e))+1},fs=function(){return new hs};function hs(){this.reset()}hs.prototype={constructor:hs,reset:function(){this.s=this.t=0},add:function(e){ps(ds,e,this.t),ps(this,ds.s,this.s),this.s?this.t+=ds.t:this.s=ds.t},valueOf:function(){return this.s}};var ds=new hs;function ps(e,t,n){var r=e.s=t+n,i=r-t,o=r-i;e.t=t-o+(n-i)}var ms=1e-6,vs=Math.PI,gs=vs/2,ys=vs/4,_s=2*vs,bs=180/vs,ws=vs/180,xs=Math.abs,As=Math.atan,Ms=Math.atan2,Ss=Math.cos,Cs=Math.ceil,Es=Math.exp,Is=(Math.floor,Math.log),Ts=Math.pow,Ls=Math.sin,zs=Math.sign||function(e){return e>0?1:e<0?-1:0},ks=Math.sqrt,Ds=Math.tan;function Os(e){return e>1?0:e<-1?vs:Math.acos(e)}function Ns(e){return e>1?gs:e<-1?-gs:Math.asin(e)}function js(e){return(e=Ls(e/2))*e}function Ps(){}function Rs(e,t){e&&Fs.hasOwnProperty(e.type)&&Fs[e.type](e,t)}var $s={Feature:function(e,t){Rs(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Rs(n[r].geometry,t)}},Fs={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Ks(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Ks(n[r],t,0)},Polygon:function(e,t){Us(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Us(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Rs(n[r],t)}};function Ks(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function Us(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Ks(e[n],t,1);t.polygonEnd()}var Vs,Bs,Hs,Gs,Qs,qs=function(e,t){e&&$s.hasOwnProperty(e.type)?$s[e.type](e,t):Rs(e,t)},Ws=fs(),Ys=fs(),Xs={point:Ps,lineStart:Ps,lineEnd:Ps,polygonStart:function(){Ws.reset(),Xs.lineStart=Js,Xs.lineEnd=Zs},polygonEnd:function(){var e=+Ws;Ys.add(e<0?_s+e:e),this.lineStart=this.lineEnd=this.point=Ps},sphere:function(){Ys.add(_s)}};function Js(){Xs.point=el}function Zs(){tl(Vs,Bs)}function el(e,t){Xs.point=tl,Vs=e,Bs=t,Hs=e*=ws,Gs=Ss(t=(t*=ws)/2+ys),Qs=Ls(t)}function tl(e,t){var n=(e*=ws)-Hs,r=n>=0?1:-1,i=r*n,o=Ss(t=(t*=ws)/2+ys),a=Ls(t),s=Qs*a,l=Gs*o+s*Ss(i),u=s*r*Ls(i);Ws.add(Ms(u,l)),Hs=e,Gs=o,Qs=a}var nl=function(e){return Ys.reset(),qs(e,Xs),2*Ys};function rl(e){return[Ms(e[1],e[0]),Ns(e[2])]}function il(e){var t=e[0],n=e[1],r=Ss(n);return[r*Ss(t),r*Ls(t),Ls(n)]}function ol(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function al(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function sl(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function ll(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function ul(e){var t=ks(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var cl,fl,hl,dl,pl,ml,vl,gl,yl,_l,bl=fs(),wl={point:xl,lineStart:Ml,lineEnd:Sl,polygonStart:function(){wl.point=Cl,wl.lineStart=El,wl.lineEnd=Il,bl.reset(),Xs.polygonStart()},polygonEnd:function(){Xs.polygonEnd(),wl.point=xl,wl.lineStart=Ml,wl.lineEnd=Sl,Ws<0?(cl=-(hl=180),fl=-(dl=90)):bl>ms?dl=90:bl<-ms&&(fl=-90),_l[0]=cl,_l[1]=hl}};function xl(e,t){yl.push(_l=[cl=e,hl=e]),t<fl&&(fl=t),t>dl&&(dl=t)}function Al(e,t){var n=il([e*ws,t*ws]);if(gl){var r=al(gl,n),i=al([r[1],-r[0],0],r);ul(i),i=rl(i);var o,a=e-pl,s=a>0?1:-1,l=i[0]*bs*s,u=xs(a)>180;u^(s*pl<l&&l<s*e)?(o=i[1]*bs)>dl&&(dl=o):u^(s*pl<(l=(l+360)%360-180)&&l<s*e)?(o=-i[1]*bs)<fl&&(fl=o):(t<fl&&(fl=t),t>dl&&(dl=t)),u?e<pl?Tl(cl,e)>Tl(cl,hl)&&(hl=e):Tl(e,hl)>Tl(cl,hl)&&(cl=e):hl>=cl?(e<cl&&(cl=e),e>hl&&(hl=e)):e>pl?Tl(cl,e)>Tl(cl,hl)&&(hl=e):Tl(e,hl)>Tl(cl,hl)&&(cl=e)}else yl.push(_l=[cl=e,hl=e]);t<fl&&(fl=t),t>dl&&(dl=t),gl=n,pl=e}function Ml(){wl.point=Al}function Sl(){_l[0]=cl,_l[1]=hl,wl.point=xl,gl=null}function Cl(e,t){if(gl){var n=e-pl;bl.add(xs(n)>180?n+(n>0?360:-360):n)}else ml=e,vl=t;Xs.point(e,t),Al(e,t)}function El(){Xs.lineStart()}function Il(){Cl(ml,vl),Xs.lineEnd(),xs(bl)>ms&&(cl=-(hl=180)),_l[0]=cl,_l[1]=hl,gl=null}function Tl(e,t){return(t-=e)<0?t+360:t}function Ll(e,t){return e[0]-t[0]}function zl(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var kl,Dl,Ol,Nl,jl,Pl,Rl,$l,Fl,Kl,Ul,Vl,Bl,Hl,Gl,Ql,ql=function(e){var t,n,r,i,o,a,s;if(dl=hl=-(cl=fl=1/0),yl=[],qs(e,wl),n=yl.length){for(yl.sort(Ll),t=1,o=[r=yl[0]];t<n;++t)zl(r,(i=yl[t])[0])||zl(r,i[1])?(Tl(r[0],i[1])>Tl(r[0],r[1])&&(r[1]=i[1]),Tl(i[0],r[1])>Tl(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,t=0,r=o[n=o.length-1];t<=n;r=i,++t)i=o[t],(s=Tl(r[1],i[0]))>a&&(a=s,cl=i[0],hl=r[1])}return yl=_l=null,cl===1/0||fl===1/0?[[NaN,NaN],[NaN,NaN]]:[[cl,fl],[hl,dl]]},Wl={sphere:Ps,point:Yl,lineStart:Jl,lineEnd:tu,polygonStart:function(){Wl.lineStart=nu,Wl.lineEnd=ru},polygonEnd:function(){Wl.lineStart=Jl,Wl.lineEnd=tu}};function Yl(e,t){e*=ws;var n=Ss(t*=ws);Xl(n*Ss(e),n*Ls(e),Ls(t))}function Xl(e,t,n){Ol+=(e-Ol)/++kl,Nl+=(t-Nl)/kl,jl+=(n-jl)/kl}function Jl(){Wl.point=Zl}function Zl(e,t){e*=ws;var n=Ss(t*=ws);Hl=n*Ss(e),Gl=n*Ls(e),Ql=Ls(t),Wl.point=eu,Xl(Hl,Gl,Ql)}function eu(e,t){e*=ws;var n=Ss(t*=ws),r=n*Ss(e),i=n*Ls(e),o=Ls(t),a=Ms(ks((a=Gl*o-Ql*i)*a+(a=Ql*r-Hl*o)*a+(a=Hl*i-Gl*r)*a),Hl*r+Gl*i+Ql*o);Dl+=a,Pl+=a*(Hl+(Hl=r)),Rl+=a*(Gl+(Gl=i)),$l+=a*(Ql+(Ql=o)),Xl(Hl,Gl,Ql)}function tu(){Wl.point=Yl}function nu(){Wl.point=iu}function ru(){ou(Vl,Bl),Wl.point=Yl}function iu(e,t){Vl=e,Bl=t,e*=ws,t*=ws,Wl.point=ou;var n=Ss(t);Hl=n*Ss(e),Gl=n*Ls(e),Ql=Ls(t),Xl(Hl,Gl,Ql)}function ou(e,t){e*=ws;var n=Ss(t*=ws),r=n*Ss(e),i=n*Ls(e),o=Ls(t),a=Gl*o-Ql*i,s=Ql*r-Hl*o,l=Hl*i-Gl*r,u=ks(a*a+s*s+l*l),c=Ns(u),f=u&&-c/u;Fl+=f*a,Kl+=f*s,Ul+=f*l,Dl+=c,Pl+=c*(Hl+(Hl=r)),Rl+=c*(Gl+(Gl=i)),$l+=c*(Ql+(Ql=o)),Xl(Hl,Gl,Ql)}var au=function(e){kl=Dl=Ol=Nl=jl=Pl=Rl=$l=Fl=Kl=Ul=0,qs(e,Wl);var t=Fl,n=Kl,r=Ul,i=t*t+n*n+r*r;return i<1e-12&&(t=Pl,n=Rl,r=$l,Dl<ms&&(t=Ol,n=Nl,r=jl),(i=t*t+n*n+r*r)<1e-12)?[NaN,NaN]:[Ms(n,t)*bs,Ns(r/ks(i))*bs]},su=function(e){return function(){return e}},lu=function(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n};function uu(e,t){return[e>vs?e-_s:e<-vs?e+_s:e,t]}function cu(e,t,n){return(e%=_s)?t||n?lu(hu(e),du(t,n)):hu(e):t||n?du(t,n):uu}function fu(e){return function(t,n){return[(t+=e)>vs?t-_s:t<-vs?t+_s:t,n]}}function hu(e){var t=fu(e);return t.invert=fu(-e),t}function du(e,t){var n=Ss(e),r=Ls(e),i=Ss(t),o=Ls(t);function a(e,t){var a=Ss(t),s=Ss(e)*a,l=Ls(e)*a,u=Ls(t),c=u*n+s*r;return[Ms(l*i-c*o,s*n-u*r),Ns(c*i+l*o)]}return a.invert=function(e,t){var a=Ss(t),s=Ss(e)*a,l=Ls(e)*a,u=Ls(t),c=u*i-l*o;return[Ms(l*i+u*o,s*n+c*r),Ns(c*n-s*r)]},a}uu.invert=uu;var pu=function(e){function t(t){return(t=e(t[0]*ws,t[1]*ws))[0]*=bs,t[1]*=bs,t}return e=cu(e[0]*ws,e[1]*ws,e.length>2?e[2]*ws:0),t.invert=function(t){return(t=e.invert(t[0]*ws,t[1]*ws))[0]*=bs,t[1]*=bs,t},t};function mu(e,t,n,r,i,o){if(n){var a=Ss(t),s=Ls(t),l=r*n;null==i?(i=t+r*_s,o=t-l/2):(i=vu(a,i),o=vu(a,o),(r>0?i<o:i>o)&&(i+=r*_s));for(var u,c=i;r>0?c>o:c<o;c-=l)u=rl([a,-s*Ss(c),-s*Ls(c)]),e.point(u[0],u[1])}}function vu(e,t){(t=il(t))[0]-=e,ul(t);var n=Os(-t[1]);return((-t[2]<0?-n:n)+_s-ms)%_s}var gu=function(){var e,t,n=su([0,0]),r=su(90),i=su(6),o={point:function(n,r){e.push(n=t(n,r)),n[0]*=bs,n[1]*=bs}};function a(){var a=n.apply(this,arguments),s=r.apply(this,arguments)*ws,l=i.apply(this,arguments)*ws;return e=[],t=cu(-a[0]*ws,-a[1]*ws,0).invert,mu(o,s,l,1),a={type:"Polygon",coordinates:[e]},e=t=null,a}return a.center=function(e){return arguments.length?(n="function"===typeof e?e:su([+e[0],+e[1]]),a):n},a.radius=function(e){return arguments.length?(r="function"===typeof e?e:su(+e),a):r},a.precision=function(e){return arguments.length?(i="function"===typeof e?e:su(+e),a):i},a},yu=function(){var e,t=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:Ps,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}},_u=function(e,t){return xs(e[0]-t[0])<ms&&xs(e[1]-t[1])<ms};function bu(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var wu=function(e,t,n,r,i){var o,a,s=[],l=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],a=e[t];if(_u(r,a)){for(i.lineStart(),o=0;o<t;++o)i.point((r=e[o])[0],r[1]);i.lineEnd()}else s.push(n=new bu(r,e,null,!0)),l.push(n.o=new bu(r,null,n,!1)),s.push(n=new bu(a,e,null,!1)),l.push(n.o=new bu(a,null,n,!0))}}),s.length){for(l.sort(t),xu(s),xu(l),o=0,a=l.length;o<a;++o)l[o].e=n=!n;for(var u,c,f=s[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=u.length;o<a;++o)i.point((c=u[o])[0],c[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(u=h.p.z,o=u.length-1;o>=0;--o)i.point((c=u[o])[0],c[1]);else r(h.x,h.p.x,-1,i);h=h.p}u=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}};function xu(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}var Au=fs(),Mu=function(e,t){var n=t[0],r=t[1],i=[Ls(n),-Ss(n),0],o=0,a=0;Au.reset();for(var s=0,l=e.length;s<l;++s)if(c=(u=e[s]).length)for(var u,c,f=u[c-1],h=f[0],d=f[1]/2+ys,p=Ls(d),m=Ss(d),v=0;v<c;++v,h=y,p=b,m=w,f=g){var g=u[v],y=g[0],_=g[1]/2+ys,b=Ls(_),w=Ss(_),x=y-h,A=x>=0?1:-1,M=A*x,S=M>vs,C=p*b;if(Au.add(Ms(C*A*Ls(M),m*w+C*Ss(M))),o+=S?x+A*_s:x,S^h>=n^y>=n){var E=al(il(f),il(g));ul(E);var I=al(i,E);ul(I);var T=(S^x>=0?-1:1)*Ns(I[2]);(r>T||r===T&&(E[0]||E[1]))&&(a+=S^x>=0?1:-1)}}return(o<-ms||o<ms&&Au<-ms)^1&a},Su=function(e,t,n,r){return function(i){var o,a,s,l=t(i),u=yu(),c=t(u),f=!1,h={point:d,lineStart:m,lineEnd:v,polygonStart:function(){h.point=g,h.lineStart=y,h.lineEnd=_,a=[],o=[]},polygonEnd:function(){h.point=d,h.lineStart=m,h.lineEnd=v,a=P(a);var e=Mu(o,r);a.length?(f||(i.polygonStart(),f=!0),wu(a,Eu,e,n,i)):e&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(t,n){e(t,n)&&i.point(t,n)}function p(e,t){l.point(e,t)}function m(){h.point=p,l.lineStart()}function v(){h.point=d,l.lineEnd()}function g(e,t){s.push([e,t]),c.point(e,t)}function y(){c.lineStart(),s=[]}function _(){g(s[0][0],s[0][1]),c.lineEnd();var e,t,n,r,l=c.clean(),h=u.result(),d=h.length;if(s.pop(),o.push(s),s=null,d)if(1&l){if((t=(n=h[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),e=0;e<t;++e)i.point((r=n[e])[0],r[1]);i.lineEnd()}}else d>1&&2&l&&h.push(h.pop().concat(h.shift())),a.push(h.filter(Cu))}return h}};function Cu(e){return e.length>1}function Eu(e,t){return((e=e.x)[0]<0?e[1]-gs-ms:gs-e[1])-((t=t.x)[0]<0?t[1]-gs-ms:gs-t[1])}var Iu=Su(function(){return!0},function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var s=o>0?vs:-vs,l=xs(o-n);xs(l-vs)<ms?(e.point(n,r=(r+a)/2>0?gs:-gs),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(o,r),t=0):i!==s&&l>=vs&&(xs(n-i)<ms&&(n-=i*ms),xs(o-s)<ms&&(o-=s*ms),r=function(e,t,n,r){var i,o,a=Ls(e-n);return xs(a)>ms?As((Ls(t)*(o=Ss(r))*Ls(n)-Ls(r)*(i=Ss(t))*Ls(e))/(i*o*a)):(t+r)/2}(n,r,o,a),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=o,r=a),i=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}},function(e,t,n,r){var i;if(null==e)i=n*gs,r.point(-vs,i),r.point(0,i),r.point(vs,i),r.point(vs,0),r.point(vs,-i),r.point(0,-i),r.point(-vs,-i),r.point(-vs,0),r.point(-vs,i);else if(xs(e[0]-t[0])>ms){var o=e[0]<t[0]?vs:-vs;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])},[-vs,-gs]);var Tu=function(e){var t=Ss(e),n=6*ws,r=t>0,i=xs(t)>ms;function o(e,n){return Ss(e)*Ss(n)>t}function a(e,n,r){var i=[1,0,0],o=al(il(e),il(n)),a=ol(o,o),s=o[0],l=a-s*s;if(!l)return!r&&e;var u=t*a/l,c=-t*s/l,f=al(i,o),h=ll(i,u);sl(h,ll(o,c));var d=f,p=ol(h,d),m=ol(d,d),v=p*p-m*(ol(h,h)-1);if(!(v<0)){var g=ks(v),y=ll(d,(-p-g)/m);if(sl(y,h),y=rl(y),!r)return y;var _,b=e[0],w=n[0],x=e[1],A=n[1];w<b&&(_=b,b=w,w=_);var M=w-b,S=xs(M-vs)<ms;if(!S&&A<x&&(_=x,x=A,A=_),S||M<ms?S?x+A>0^y[1]<(xs(y[0]-b)<ms?x:A):x<=y[1]&&y[1]<=A:M>vs^(b<=y[0]&&y[0]<=w)){var C=ll(d,(-p+g)/m);return sl(C,h),[y,rl(C)]}}}function s(t,n){var i=r?e:vs-e,o=0;return t<-i?o|=1:t>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return Su(o,function(e){var t,n,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(f,h){var d,p=[f,h],m=o(f,h),v=r?m?0:s(f,h):m?s(f+(f<0?vs:-vs),h):0;if(!t&&(u=l=m)&&e.lineStart(),m!==l&&(!(d=a(t,p))||_u(t,d)||_u(p,d))&&(p[0]+=ms,p[1]+=ms,m=o(p[0],p[1])),m!==l)c=0,m?(e.lineStart(),d=a(p,t),e.point(d[0],d[1])):(d=a(t,p),e.point(d[0],d[1]),e.lineEnd()),t=d;else if(i&&t&&r^m){var g;v&n||!(g=a(p,t,!0))||(c=0,r?(e.lineStart(),e.point(g[0][0],g[0][1]),e.point(g[1][0],g[1][1]),e.lineEnd()):(e.point(g[1][0],g[1][1]),e.lineEnd(),e.lineStart(),e.point(g[0][0],g[0][1])))}!m||t&&_u(t,p)||e.point(p[0],p[1]),t=p,l=m,n=v},lineEnd:function(){l&&e.lineEnd(),t=null},clean:function(){return c|(u&&l)<<1}}},function(t,r,i,o){mu(o,e,n,i,t,r)},r?[0,-e]:[-vs,e-vs])},Lu=function(e,t,n,r,i,o){var a,s=e[0],l=e[1],u=0,c=1,f=t[0]-s,h=t[1]-l;if(a=n-s,f||!(a>0)){if(a/=f,f<0){if(a<u)return;a<c&&(c=a)}else if(f>0){if(a>c)return;a>u&&(u=a)}if(a=i-s,f||!(a<0)){if(a/=f,f<0){if(a>c)return;a>u&&(u=a)}else if(f>0){if(a<u)return;a<c&&(c=a)}if(a=r-l,h||!(a>0)){if(a/=h,h<0){if(a<u)return;a<c&&(c=a)}else if(h>0){if(a>c)return;a>u&&(u=a)}if(a=o-l,h||!(a<0)){if(a/=h,h<0){if(a>c)return;a>u&&(u=a)}else if(h>0){if(a<u)return;a<c&&(c=a)}return u>0&&(e[0]=s+u*f,e[1]=l+u*h),c<1&&(t[0]=s+c*f,t[1]=l+c*h),!0}}}}},zu=1e9,ku=-zu;function Du(e,t,n,r){function i(i,o){return e<=i&&i<=n&&t<=o&&o<=r}function o(i,o,s,u){var c=0,f=0;if(null==i||(c=a(i,s))!==(f=a(o,s))||l(i,o)<0^s>0)do{u.point(0===c||3===c?e:n,c>1?r:t)}while((c=(c+s+4)%4)!==f);else u.point(o[0],o[1])}function a(r,i){return xs(r[0]-e)<ms?i>0?0:3:xs(r[0]-n)<ms?i>0?2:1:xs(r[1]-t)<ms?i>0?1:0:i>0?3:2}function s(e,t){return l(e.x,t.x)}function l(e,t){var n=a(e,1),r=a(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(a){var l,u,c,f,h,d,p,m,v,g,y,_=a,b=yu(),w={point:x,lineStart:function(){w.point=A,u&&u.push(c=[]);g=!0,v=!1,p=m=NaN},lineEnd:function(){l&&(A(f,h),d&&v&&b.rejoin(),l.push(b.result()));w.point=x,v&&_.lineEnd()},polygonStart:function(){_=b,l=[],u=[],y=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=u.length;n<i;++n)for(var o,a,s=u[n],l=1,c=s.length,f=s[0],h=f[0],d=f[1];l<c;++l)o=h,a=d,f=s[l],h=f[0],d=f[1],a<=r?d>r&&(h-o)*(r-a)>(d-a)*(e-o)&&++t:d<=r&&(h-o)*(r-a)<(d-a)*(e-o)&&--t;return t}(),n=y&&t,i=(l=P(l)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&wu(l,s,t,o,a),a.polygonEnd());_=a,l=u=c=null}};function x(e,t){i(e,t)&&_.point(e,t)}function A(o,a){var s=i(o,a);if(u&&c.push([o,a]),g)f=o,h=a,d=s,g=!1,s&&(_.lineStart(),_.point(o,a));else if(s&&v)_.point(o,a);else{var l=[p=Math.max(ku,Math.min(zu,p)),m=Math.max(ku,Math.min(zu,m))],b=[o=Math.max(ku,Math.min(zu,o)),a=Math.max(ku,Math.min(zu,a))];Lu(l,b,e,t,n,r)?(v||(_.lineStart(),_.point(l[0],l[1])),_.point(b[0],b[1]),s||_.lineEnd(),y=!1):s&&(_.lineStart(),_.point(o,a),y=!1)}p=o,m=a,v=s}return w}}var Ou,Nu,ju,Pu=function(){var e,t,n,r=0,i=0,o=960,a=500;return n={stream:function(n){return e&&t===n?e:e=Du(r,i,o,a)(t=n)},extent:function(s){return arguments.length?(r=+s[0][0],i=+s[0][1],o=+s[1][0],a=+s[1][1],e=t=null,n):[[r,i],[o,a]]}}},Ru=fs(),$u={sphere:Ps,point:Ps,lineStart:function(){$u.point=Ku,$u.lineEnd=Fu},lineEnd:Ps,polygonStart:Ps,polygonEnd:Ps};function Fu(){$u.point=$u.lineEnd=Ps}function Ku(e,t){Ou=e*=ws,Nu=Ls(t*=ws),ju=Ss(t),$u.point=Uu}function Uu(e,t){e*=ws;var n=Ls(t*=ws),r=Ss(t),i=xs(e-Ou),o=Ss(i),a=r*Ls(i),s=ju*n-Nu*r*o,l=Nu*n+ju*r*o;Ru.add(Ms(ks(a*a+s*s),l)),Ou=e,Nu=n,ju=r}var Vu=function(e){return Ru.reset(),qs(e,$u),+Ru},Bu=[null,null],Hu={type:"LineString",coordinates:Bu},Gu=function(e,t){return Bu[0]=e,Bu[1]=t,Vu(Hu)},Qu={Feature:function(e,t){return Wu(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)if(Wu(n[r].geometry,t))return!0;return!1}},qu={Sphere:function(){return!0},Point:function(e,t){return Yu(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(Yu(n[r],t))return!0;return!1},LineString:function(e,t){return Xu(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(Xu(n[r],t))return!0;return!1},Polygon:function(e,t){return Ju(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(Ju(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)if(Wu(n[r],t))return!0;return!1}};function Wu(e,t){return!(!e||!qu.hasOwnProperty(e.type))&&qu[e.type](e,t)}function Yu(e,t){return 0===Gu(e,t)}function Xu(e,t){var n=Gu(e[0],e[1]);return Gu(e[0],t)+Gu(t,e[1])<=n+ms}function Ju(e,t){return!!Mu(e.map(Zu),ec(t))}function Zu(e){return(e=e.map(ec)).pop(),e}function ec(e){return[e[0]*ws,e[1]*ws]}var tc=function(e,t){return(e&&Qu.hasOwnProperty(e.type)?Qu[e.type]:Wu)(e,t)};function nc(e,t,n){var r=x(e,t-ms,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function rc(e,t,n){var r=x(e,t-ms,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function ic(){var e,t,n,r,i,o,a,s,l,u,c,f,h=10,d=h,p=90,m=360,v=2.5;function g(){return{type:"MultiLineString",coordinates:y()}}function y(){return x(Cs(r/p)*p,n,p).map(c).concat(x(Cs(s/m)*m,a,m).map(f)).concat(x(Cs(t/h)*h,e,h).filter(function(e){return xs(e%p)>ms}).map(l)).concat(x(Cs(o/d)*d,i,d).filter(function(e){return xs(e%m)>ms}).map(u))}return g.lines=function(){return y().map(function(e){return{type:"LineString",coordinates:e}})},g.outline=function(){return{type:"Polygon",coordinates:[c(r).concat(f(a).slice(1),c(n).reverse().slice(1),f(s).reverse().slice(1))]}},g.extent=function(e){return arguments.length?g.extentMajor(e).extentMinor(e):g.extentMinor()},g.extentMajor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),s>a&&(e=s,s=a,a=e),g.precision(v)):[[r,s],[n,a]]},g.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],o=+n[0][1],i=+n[1][1],t>e&&(n=t,t=e,e=n),o>i&&(n=o,o=i,i=n),g.precision(v)):[[t,o],[e,i]]},g.step=function(e){return arguments.length?g.stepMajor(e).stepMinor(e):g.stepMinor()},g.stepMajor=function(e){return arguments.length?(p=+e[0],m=+e[1],g):[p,m]},g.stepMinor=function(e){return arguments.length?(h=+e[0],d=+e[1],g):[h,d]},g.precision=function(h){return arguments.length?(v=+h,l=nc(o,i,90),u=rc(t,e,v),c=nc(s,a,90),f=rc(r,n,v),g):v},g.extentMajor([[-180,-90+ms],[180,90-ms]]).extentMinor([[-180,-80-ms],[180,80+ms]])}function oc(){return ic()()}var ac,sc,lc,uc,cc=function(e,t){var n=e[0]*ws,r=e[1]*ws,i=t[0]*ws,o=t[1]*ws,a=Ss(r),s=Ls(r),l=Ss(o),u=Ls(o),c=a*Ss(n),f=a*Ls(n),h=l*Ss(i),d=l*Ls(i),p=2*Ns(ks(js(o-r)+a*l*js(i-n))),m=Ls(p),v=p?function(e){var t=Ls(e*=p)/m,n=Ls(p-e)/m,r=n*c+t*h,i=n*f+t*d,o=n*s+t*u;return[Ms(i,r)*bs,Ms(o,ks(r*r+i*i))*bs]}:function(){return[n*bs,r*bs]};return v.distance=p,v},fc=function(e){return e},hc=fs(),dc=fs(),pc={point:Ps,lineStart:Ps,lineEnd:Ps,polygonStart:function(){pc.lineStart=mc,pc.lineEnd=yc},polygonEnd:function(){pc.lineStart=pc.lineEnd=pc.point=Ps,hc.add(xs(dc)),dc.reset()},result:function(){var e=hc/2;return hc.reset(),e}};function mc(){pc.point=vc}function vc(e,t){pc.point=gc,ac=lc=e,sc=uc=t}function gc(e,t){dc.add(uc*e-lc*t),lc=e,uc=t}function yc(){gc(ac,sc)}var _c=pc,bc=1/0,wc=bc,xc=-bc,Ac=xc;var Mc,Sc,Cc,Ec,Ic={point:function(e,t){e<bc&&(bc=e);e>xc&&(xc=e);t<wc&&(wc=t);t>Ac&&(Ac=t)},lineStart:Ps,lineEnd:Ps,polygonStart:Ps,polygonEnd:Ps,result:function(){var e=[[bc,wc],[xc,Ac]];return xc=Ac=-(wc=bc=1/0),e}},Tc=0,Lc=0,zc=0,kc=0,Dc=0,Oc=0,Nc=0,jc=0,Pc=0,Rc={point:$c,lineStart:Fc,lineEnd:Vc,polygonStart:function(){Rc.lineStart=Bc,Rc.lineEnd=Hc},polygonEnd:function(){Rc.point=$c,Rc.lineStart=Fc,Rc.lineEnd=Vc},result:function(){var e=Pc?[Nc/Pc,jc/Pc]:Oc?[kc/Oc,Dc/Oc]:zc?[Tc/zc,Lc/zc]:[NaN,NaN];return Tc=Lc=zc=kc=Dc=Oc=Nc=jc=Pc=0,e}};function $c(e,t){Tc+=e,Lc+=t,++zc}function Fc(){Rc.point=Kc}function Kc(e,t){Rc.point=Uc,$c(Cc=e,Ec=t)}function Uc(e,t){var n=e-Cc,r=t-Ec,i=ks(n*n+r*r);kc+=i*(Cc+e)/2,Dc+=i*(Ec+t)/2,Oc+=i,$c(Cc=e,Ec=t)}function Vc(){Rc.point=$c}function Bc(){Rc.point=Gc}function Hc(){Qc(Mc,Sc)}function Gc(e,t){Rc.point=Qc,$c(Mc=Cc=e,Sc=Ec=t)}function Qc(e,t){var n=e-Cc,r=t-Ec,i=ks(n*n+r*r);kc+=i*(Cc+e)/2,Dc+=i*(Ec+t)/2,Oc+=i,Nc+=(i=Ec*e-Cc*t)*(Cc+e),jc+=i*(Ec+t),Pc+=3*i,$c(Cc=e,Ec=t)}var qc=Rc;function Wc(e){this._context=e}Wc.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,_s)}},result:Ps};var Yc,Xc,Jc,Zc,ef,tf=fs(),nf={point:Ps,lineStart:function(){nf.point=rf},lineEnd:function(){Yc&&of(Xc,Jc),nf.point=Ps},polygonStart:function(){Yc=!0},polygonEnd:function(){Yc=null},result:function(){var e=+tf;return tf.reset(),e}};function rf(e,t){nf.point=of,Xc=Zc=e,Jc=ef=t}function of(e,t){Zc-=e,ef-=t,tf.add(ks(Zc*Zc+ef*ef)),Zc=e,ef=t}var af=nf;function sf(){this._string=[]}function lf(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}sf.prototype={_radius:4.5,_circle:lf(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=lf(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};var uf=function(e,t){var n,r,i=4.5;function o(e){return e&&("function"===typeof i&&r.pointRadius(+i.apply(this,arguments)),qs(e,n(r))),r.result()}return o.area=function(e){return qs(e,n(_c)),_c.result()},o.measure=function(e){return qs(e,n(af)),af.result()},o.bounds=function(e){return qs(e,n(Ic)),Ic.result()},o.centroid=function(e){return qs(e,n(qc)),qc.result()},o.projection=function(t){return arguments.length?(n=null==t?(e=null,fc):(e=t).stream,o):e},o.context=function(e){return arguments.length?(r=null==e?(t=null,new sf):new Wc(t=e),"function"!==typeof i&&r.pointRadius(i),o):t},o.pointRadius=function(e){return arguments.length?(i="function"===typeof e?e:(r.pointRadius(+e),+e),o):i},o.projection(e).context(t)},cf=function(e){return{stream:ff(e)}};function ff(e){return function(t){var n=new hf;for(var r in e)n[r]=e[r];return n.stream=t,n}}function hf(){}function df(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),qs(n,e.stream(Ic)),t(Ic.result()),null!=r&&e.clipExtent(r),e}function pf(e,t,n){return df(e,function(n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+t[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+t[0][1]+(i-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([a,s])},n)}function mf(e,t,n){return pf(e,[[0,0],t],n)}function vf(e,t,n){return df(e,function(n){var r=+t,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];e.scale(150*i).translate([o,a])},n)}function gf(e,t,n){return df(e,function(n){var r=+t,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([o,a])},n)}hf.prototype={constructor:hf,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var yf=16,_f=Ss(30*ws),bf=function(e,t){return+t?function(e,t){function n(r,i,o,a,s,l,u,c,f,h,d,p,m,v){var g=u-r,y=c-i,_=g*g+y*y;if(_>4*t&&m--){var b=a+h,w=s+d,x=l+p,A=ks(b*b+w*w+x*x),M=Ns(x/=A),S=xs(xs(x)-1)<ms||xs(o-f)<ms?(o+f)/2:Ms(w,b),C=e(S,M),E=C[0],I=C[1],T=E-r,L=I-i,z=y*T-g*L;(z*z/_>t||xs((g*T+y*L)/_-.5)>.3||a*h+s*d+l*p<_f)&&(n(r,i,o,a,s,l,E,I,S,b/=A,w/=A,x,m,v),v.point(E,I),n(E,I,S,b,w,x,u,c,f,h,d,p,m,v))}}return function(t){var r,i,o,a,s,l,u,c,f,h,d,p,m={point:v,lineStart:g,lineEnd:_,polygonStart:function(){t.polygonStart(),m.lineStart=b},polygonEnd:function(){t.polygonEnd(),m.lineStart=g}};function v(n,r){n=e(n,r),t.point(n[0],n[1])}function g(){c=NaN,m.point=y,t.lineStart()}function y(r,i){var o=il([r,i]),a=e(r,i);n(c,f,u,h,d,p,c=a[0],f=a[1],u=r,h=o[0],d=o[1],p=o[2],yf,t),t.point(c,f)}function _(){m.point=v,t.lineEnd()}function b(){g(),m.point=w,m.lineEnd=x}function w(e,t){y(r=e,t),i=c,o=f,a=h,s=d,l=p,m.point=y}function x(){n(c,f,u,h,d,p,i,o,r,a,s,l,yf,t),m.lineEnd=_,_()}return m}}(e,t):function(e){return ff({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)};var wf=ff({point:function(e,t){this.stream.point(e*ws,t*ws)}});function xf(e){return Af(function(){return e})()}function Af(e){var t,n,r,i,o,a,s,l,u,c,f=150,h=480,d=250,p=0,m=0,v=0,g=0,y=0,_=null,b=Iu,w=null,x=fc,A=.5,M=bf(E,A);function S(e){return[(e=o(e[0]*ws,e[1]*ws))[0]*f+n,r-e[1]*f]}function C(e){return(e=o.invert((e[0]-n)/f,(r-e[1])/f))&&[e[0]*bs,e[1]*bs]}function E(e,i){return[(e=t(e,i))[0]*f+n,r-e[1]*f]}function I(){o=lu(i=cu(v,g,y),t);var e=t(p,m);return n=h-e[0]*f,r=d+e[1]*f,T()}function T(){return u=c=null,S}return S.stream=function(e){return u&&c===e?u:u=wf(function(e){return ff({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}(i)(b(M(x(c=e)))))},S.preclip=function(e){return arguments.length?(b=e,_=void 0,T()):b},S.postclip=function(e){return arguments.length?(x=e,w=a=s=l=null,T()):x},S.clipAngle=function(e){return arguments.length?(b=+e?Tu(_=e*ws):(_=null,Iu),T()):_*bs},S.clipExtent=function(e){return arguments.length?(x=null==e?(w=a=s=l=null,fc):Du(w=+e[0][0],a=+e[0][1],s=+e[1][0],l=+e[1][1]),T()):null==w?null:[[w,a],[s,l]]},S.scale=function(e){return arguments.length?(f=+e,I()):f},S.translate=function(e){return arguments.length?(h=+e[0],d=+e[1],I()):[h,d]},S.center=function(e){return arguments.length?(p=e[0]%360*ws,m=e[1]%360*ws,I()):[p*bs,m*bs]},S.rotate=function(e){return arguments.length?(v=e[0]%360*ws,g=e[1]%360*ws,y=e.length>2?e[2]%360*ws:0,I()):[v*bs,g*bs,y*bs]},S.precision=function(e){return arguments.length?(M=bf(E,A=e*e),T()):ks(A)},S.fitExtent=function(e,t){return pf(S,e,t)},S.fitSize=function(e,t){return mf(S,e,t)},S.fitWidth=function(e,t){return vf(S,e,t)},S.fitHeight=function(e,t){return gf(S,e,t)},function(){return t=e.apply(this,arguments),S.invert=t.invert&&C,I()}}function Mf(e){var t=0,n=vs/3,r=Af(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*ws,n=e[1]*ws):[t*bs,n*bs]},i}function Sf(e,t){var n=Ls(e),r=(n+Ls(t))/2;if(xs(r)<ms)return function(e){var t=Ss(e);function n(e,n){return[e*t,Ls(n)/t]}return n.invert=function(e,n){return[e/t,Ns(n*t)]},n}(e);var i=1+n*(2*r-n),o=ks(i)/r;function a(e,t){var n=ks(i-2*r*Ls(t))/r;return[n*Ls(e*=r),o-n*Ss(e)]}return a.invert=function(e,t){var n=o-t;return[Ms(e,xs(n))/r*zs(n),Ns((i-(e*e+n*n)*r*r)/(2*r))]},a}var Cf=function(){return Mf(Sf).scale(155.424).center([0,33.6442])},Ef=function(){return Cf().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};var If=function(){var e,t,n,r,i,o,a=Ef(),s=Cf().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=Cf().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(e,t){o=[e,t]}};function c(e){var t=e[0],a=e[1];return o=null,n.point(t,a),o||(r.point(t,a),o)||(i.point(t,a),o)}function f(){return e=t=null,c}return c.invert=function(e){var t=a.scale(),n=a.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?l:a).invert(e)},c.stream=function(n){return e&&t===n?e:e=function(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}([a.stream(t=n),s.stream(n),l.stream(n)])},c.precision=function(e){return arguments.length?(a.precision(e),s.precision(e),l.precision(e),f()):a.precision()},c.scale=function(e){return arguments.length?(a.scale(e),s.scale(.35*e),l.scale(e),c.translate(a.translate())):a.scale()},c.translate=function(e){if(!arguments.length)return a.translate();var t=a.scale(),o=+e[0],c=+e[1];return n=a.translate(e).clipExtent([[o-.455*t,c-.238*t],[o+.455*t,c+.238*t]]).stream(u),r=s.translate([o-.307*t,c+.201*t]).clipExtent([[o-.425*t+ms,c+.12*t+ms],[o-.214*t-ms,c+.234*t-ms]]).stream(u),i=l.translate([o-.205*t,c+.212*t]).clipExtent([[o-.214*t+ms,c+.166*t+ms],[o-.115*t-ms,c+.234*t-ms]]).stream(u),f()},c.fitExtent=function(e,t){return pf(c,e,t)},c.fitSize=function(e,t){return mf(c,e,t)},c.fitWidth=function(e,t){return vf(c,e,t)},c.fitHeight=function(e,t){return gf(c,e,t)},c.scale(1070)};function Tf(e){return function(t,n){var r=Ss(t),i=Ss(n),o=e(r*i);return[o*i*Ls(t),o*Ls(n)]}}function Lf(e){return function(t,n){var r=ks(t*t+n*n),i=e(r),o=Ls(i),a=Ss(i);return[Ms(t*o,r*a),Ns(r&&n*o/r)]}}var zf=Tf(function(e){return ks(2/(1+e))});zf.invert=Lf(function(e){return 2*Ns(e/2)});var kf=function(){return xf(zf).scale(124.75).clipAngle(179.999)},Df=Tf(function(e){return(e=Os(e))&&e/Ls(e)});Df.invert=Lf(function(e){return e});var Of=function(){return xf(Df).scale(79.4188).clipAngle(179.999)};function Nf(e,t){return[e,Is(Ds((gs+t)/2))]}Nf.invert=function(e,t){return[e,2*As(Es(t))-gs]};var jf=function(){return Pf(Nf).scale(961/_s)};function Pf(e){var t,n,r,i=xf(e),o=i.center,a=i.scale,s=i.translate,l=i.clipExtent,u=null;function c(){var o=vs*a(),s=i(pu(i.rotate()).invert([0,0]));return l(null==u?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:e===Nf?[[Math.max(s[0]-o,u),t],[Math.min(s[0]+o,n),r]]:[[u,Math.max(s[1]-o,t)],[n,Math.min(s[1]+o,r)]])}return i.scale=function(e){return arguments.length?(a(e),c()):a()},i.translate=function(e){return arguments.length?(s(e),c()):s()},i.center=function(e){return arguments.length?(o(e),c()):o()},i.clipExtent=function(e){return arguments.length?(null==e?u=t=n=r=null:(u=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),c()):null==u?null:[[u,t],[n,r]]},c()}function Rf(e){return Ds((gs+e)/2)}function $f(e,t){var n=Ss(e),r=e===t?Ls(e):Is(n/Ss(t))/Is(Rf(t)/Rf(e)),i=n*Ts(Rf(e),r)/r;if(!r)return Nf;function o(e,t){i>0?t<-gs+ms&&(t=-gs+ms):t>gs-ms&&(t=gs-ms);var n=i/Ts(Rf(t),r);return[n*Ls(r*e),i-n*Ss(r*e)]}return o.invert=function(e,t){var n=i-t,o=zs(r)*ks(e*e+n*n);return[Ms(e,xs(n))/r*zs(n),2*As(Ts(i/o,1/r))-gs]},o}var Ff=function(){return Mf($f).scale(109.5).parallels([30,30])};function Kf(e,t){return[e,t]}Kf.invert=Kf;var Uf=function(){return xf(Kf).scale(152.63)};function Vf(e,t){var n=Ss(e),r=e===t?Ls(e):(n-Ss(t))/(t-e),i=n/r+e;if(xs(r)<ms)return Kf;function o(e,t){var n=i-t,o=r*e;return[n*Ls(o),i-n*Ss(o)]}return o.invert=function(e,t){var n=i-t;return[Ms(e,xs(n))/r*zs(n),i-zs(r)*ks(e*e+n*n)]},o}var Bf=function(){return Mf(Vf).scale(131.154).center([0,13.9389])};function Hf(e,t){var n=Ss(t),r=Ss(e)*n;return[n*Ls(e)/r,Ls(t)/r]}Hf.invert=Lf(As);var Gf=function(){return xf(Hf).scale(144.049).clipAngle(60)};function Qf(e,t,n,r){return 1===e&&1===t&&0===n&&0===r?fc:ff({point:function(i,o){this.stream.point(i*e+n,o*t+r)}})}var qf=function(){var e,t,n,r,i,o,a=1,s=0,l=0,u=1,c=1,f=fc,h=null,d=fc;function p(){return r=i=null,o}return o={stream:function(e){return r&&i===e?r:r=f(d(i=e))},postclip:function(r){return arguments.length?(d=r,h=e=t=n=null,p()):d},clipExtent:function(r){return arguments.length?(d=null==r?(h=e=t=n=null,fc):Du(h=+r[0][0],e=+r[0][1],t=+r[1][0],n=+r[1][1]),p()):null==h?null:[[h,e],[t,n]]},scale:function(e){return arguments.length?(f=Qf((a=+e)*u,a*c,s,l),p()):a},translate:function(e){return arguments.length?(f=Qf(a*u,a*c,s=+e[0],l=+e[1]),p()):[s,l]},reflectX:function(e){return arguments.length?(f=Qf(a*(u=e?-1:1),a*c,s,l),p()):u<0},reflectY:function(e){return arguments.length?(f=Qf(a*u,a*(c=e?-1:1),s,l),p()):c<0},fitExtent:function(e,t){return pf(o,e,t)},fitSize:function(e,t){return mf(o,e,t)},fitWidth:function(e,t){return vf(o,e,t)},fitHeight:function(e,t){return gf(o,e,t)}}};function Wf(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}Wf.invert=function(e,t){var n,r=t,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-t)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(xs(n)>ms&&--i>0);return[e/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};var Yf=function(){return xf(Wf).scale(175.295)};function Xf(e,t){return[Ss(t)*Ls(e),Ls(t)]}Xf.invert=Lf(Ns);var Jf=function(){return xf(Xf).scale(249.5).clipAngle(90+ms)};function Zf(e,t){var n=Ss(t),r=1+Ss(e)*n;return[n*Ls(e)/r,Ls(t)/r]}Zf.invert=Lf(function(e){return 2*As(e)});var eh=function(){return xf(Zf).scale(250).clipAngle(142)};function th(e,t){return[Is(Ds((gs+t)/2)),-e]}th.invert=function(e,t){return[-t,2*As(Es(e))-gs]};var nh=function(){var e=Pf(th),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)};function rh(e,t){return e.parent===t.parent?1:2}function ih(e,t){return e+t.x}function oh(e,t){return Math.max(e,t.y)}var ah=function(){var e=rh,t=1,n=1,r=!1;function i(i){var o,a=0;i.eachAfter(function(t){var n=t.children;n?(t.x=function(e){return e.reduce(ih,0)/e.length}(n),t.y=function(e){return 1+e.reduce(oh,0)}(n)):(t.x=o?a+=e(t,o):0,t.y=0,o=t)});var s=function(e){for(var t;t=e.children;)e=t[0];return e}(i),l=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(i),u=s.x-e(s,l)/2,c=l.x+e(l,s)/2;return i.eachAfter(r?function(e){e.x=(e.x-i.x)*t,e.y=(i.y-e.y)*n}:function(e){e.x=(e.x-u)/(c-u)*t,e.y=(1-(i.y?e.y/i.y:1))*n})}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i};function sh(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function lh(e,t){var n,r,i,o,a,s=new hh(e),l=+e.value&&(s.value=e.value),u=[s];for(null==t&&(t=uh);n=u.pop();)if(l&&(n.value=+n.data.value),(i=t(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)u.push(r=n.children[o]=new hh(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(fh)}function uh(e){return e.children}function ch(e){e.data=e.data.data}function fh(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function hh(e){this.data=e,this.depth=this.height=0,this.parent=null}hh.prototype=lh.prototype={constructor:hh,count:function(){return this.eachAfter(sh)},each:function(e){var t,n,r,i,o=this,a=[o];do{for(t=a.reverse(),a=[];o=t.pop();)if(e(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(e){for(var t,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),t=i.children)for(n=0,r=t.length;n<r;++n)o.push(t[n]);for(;i=a.pop();)e(i);return this},eachBefore:function(e){for(var t,n,r=this,i=[r];r=i.pop();)if(e(r),t=r.children)for(n=t.length-1;n>=0;--n)i.push(t[n]);return this},sum:function(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})},sort:function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){var e=[];return this.each(function(t){e.push(t)}),e},leaves:function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t},copy:function(){return lh(this).eachBefore(ch)}};var dh=Array.prototype.slice;var ph=function(e){for(var t,n,r=0,i=(e=function(e){for(var t,n,r=e.length;r;)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e}(dh.call(e))).length,o=[];r<i;)t=e[r],n&&gh(n,t)?++r:(n=_h(o=mh(o,t)),r=0);return n};function mh(e,t){var n,r;if(yh(t,e))return[t];for(n=0;n<e.length;++n)if(vh(t,e[n])&&yh(bh(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(vh(bh(e[n],e[r]),t)&&vh(bh(e[n],t),e[r])&&vh(bh(e[r],t),e[n])&&yh(wh(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function vh(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function gh(e,t){var n=e.r-t.r+1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function yh(e,t){for(var n=0;n<t.length;++n)if(!gh(e,t[n]))return!1;return!0}function _h(e){switch(e.length){case 1:return{x:(t=e[0]).x,y:t.y,r:t.r};case 2:return bh(e[0],e[1]);case 3:return wh(e[0],e[1],e[2])}var t}function bh(e,t){var n=e.x,r=e.y,i=e.r,o=t.x,a=t.y,s=t.r,l=o-n,u=a-r,c=s-i,f=Math.sqrt(l*l+u*u);return{x:(n+o+l/f*c)/2,y:(r+a+u/f*c)/2,r:(f+i+s)/2}}function wh(e,t,n){var r=e.x,i=e.y,o=e.r,a=t.x,s=t.y,l=t.r,u=n.x,c=n.y,f=n.r,h=r-a,d=r-u,p=i-s,m=i-c,v=l-o,g=f-o,y=r*r+i*i-o*o,_=y-a*a-s*s+l*l,b=y-u*u-c*c+f*f,w=d*p-h*m,x=(p*b-m*_)/(2*w)-r,A=(m*v-p*g)/w,M=(d*_-h*b)/(2*w)-i,S=(h*g-d*v)/w,C=A*A+S*S-1,E=2*(o+x*A+M*S),I=x*x+M*M-o*o,T=-(C?(E+Math.sqrt(E*E-4*C*I))/(2*C):I/E);return{x:r+x+A*T,y:i+M+S*T,r:T}}function xh(e,t,n){var r=e.x,i=e.y,o=t.r+n.r,a=e.r+n.r,s=t.x-r,l=t.y-i,u=s*s+l*l;if(u){var c=.5+((a*=a)-(o*=o))/(2*u),f=Math.sqrt(Math.max(0,2*o*(a+u)-(a-=u)*a-o*o))/(2*u);n.x=r+c*s+f*l,n.y=i+c*l-f*s}else n.x=r+a,n.y=i}function Ah(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return i*i-1e-6>n*n+r*r}function Mh(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return i*i+o*o}function Sh(e){this._=e,this.next=null,this.previous=null}function Ch(e){if(!(i=e.length))return 0;var t,n,r,i,o,a,s,l,u,c,f;if((t=e[0]).x=0,t.y=0,!(i>1))return t.r;if(n=e[1],t.x=-n.r,n.x=t.r,n.y=0,!(i>2))return t.r+n.r;xh(n,t,r=e[2]),t=new Sh(t),n=new Sh(n),r=new Sh(r),t.next=r.previous=n,n.next=t.previous=r,r.next=n.previous=t;e:for(s=3;s<i;++s){xh(t._,n._,r=e[s]),r=new Sh(r),l=n.next,u=t.previous,c=n._.r,f=t._.r;do{if(c<=f){if(Ah(l._,r._)){n=l,t.next=n,n.previous=t,--s;continue e}c+=l._.r,l=l.next}else{if(Ah(u._,r._)){(t=u).next=n,n.previous=t,--s;continue e}f+=u._.r,u=u.previous}}while(l!==u.next);for(r.previous=t,r.next=n,t.next=n.previous=n=r,o=Mh(t);(r=r.next)!==n;)(a=Mh(r))<o&&(t=r,o=a);n=t.next}for(t=[n._],r=n;(r=r.next)!==n;)t.push(r._);for(r=ph(t),s=0;s<i;++s)(t=e[s]).x-=r.x,t.y-=r.y;return r.r}var Eh=function(e){return Ch(e),e};function Ih(e){if("function"!==typeof e)throw new Error;return e}function Th(){return 0}var Lh=function(e){return function(){return e}};function zh(e){return Math.sqrt(e.value)}var kh=function(){var e=null,t=1,n=1,r=Th;function i(i){return i.x=t/2,i.y=n/2,e?i.eachBefore(Dh(e)).eachAfter(Oh(r,.5)).eachBefore(Nh(1)):i.eachBefore(Dh(zh)).eachAfter(Oh(Th,1)).eachAfter(Oh(r,i.r/Math.min(t,n))).eachBefore(Nh(Math.min(t,n)/(2*i.r))),i}return i.radius=function(t){return arguments.length?(e=null==(n=t)?null:Ih(n),i):e;var n},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(e){return arguments.length?(r="function"===typeof e?e:Lh(+e),i):r},i};function Dh(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function Oh(e,t){return function(n){if(r=n.children){var r,i,o,a=r.length,s=e(n)*t||0;if(s)for(i=0;i<a;++i)r[i].r+=s;if(o=Ch(r),s)for(i=0;i<a;++i)r[i].r-=s;n.r=o+s}}}function Nh(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}var jh=function(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)},Ph=function(e,t,n,r,i){for(var o,a=e.children,s=-1,l=a.length,u=e.value&&(r-t)/e.value;++s<l;)(o=a[s]).y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*u},Rh=function(){var e=1,t=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=e,i.y1=t/o,i.eachBefore(function(e,t){return function(r){r.children&&Ph(r,r.x0,e*(r.depth+1)/t,r.x1,e*(r.depth+2)/t);var i=r.x0,o=r.y0,a=r.x1-n,s=r.y1-n;a<i&&(i=a=(i+a)/2),s<o&&(o=s=(o+s)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=s}}(t,o)),r&&i.eachBefore(jh),i}return i.round=function(e){return arguments.length?(r=!!e,i):r},i.size=function(n){return arguments.length?(e=+n[0],t=+n[1],i):[e,t]},i.padding=function(e){return arguments.length?(n=+e,i):n},i},$h="$",Fh={depth:-1},Kh={};function Uh(e){return e.id}function Vh(e){return e.parentId}var Bh=function(){var e=Uh,t=Vh;function n(n){var r,i,o,a,s,l,u,c=n.length,f=new Array(c),h={};for(i=0;i<c;++i)r=n[i],s=f[i]=new hh(r),null!=(l=e(r,i,n))&&(l+="")&&(h[u=$h+(s.id=l)]=u in h?Kh:s);for(i=0;i<c;++i)if(s=f[i],null!=(l=t(n[i],i,n))&&(l+="")){if(!(a=h[$h+l]))throw new Error("missing: "+l);if(a===Kh)throw new Error("ambiguous: "+l);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(o)throw new Error("multiple roots");o=s}if(!o)throw new Error("no root");if(o.parent=Fh,o.eachBefore(function(e){e.depth=e.parent.depth+1,--c}).eachBefore(fh),o.parent=null,c>0)throw new Error("cycle");return o}return n.id=function(t){return arguments.length?(e=Ih(t),n):e},n.parentId=function(e){return arguments.length?(t=Ih(e),n):t},n};function Hh(e,t){return e.parent===t.parent?1:2}function Gh(e){var t=e.children;return t?t[0]:e.t}function Qh(e){var t=e.children;return t?t[t.length-1]:e.t}function qh(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function Wh(e,t,n){return e.a.parent===t.parent?e.a:n}function Yh(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}Yh.prototype=Object.create(hh.prototype);var Xh=function(){var e=Hh,t=1,n=1,r=null;function i(i){var l=function(e){for(var t,n,r,i,o,a=new Yh(e,0),s=[a];t=s.pop();)if(r=t._.children)for(t.children=new Array(o=r.length),i=o-1;i>=0;--i)s.push(n=t.children[i]=new Yh(r[i],i)),n.parent=t;return(a.parent=new Yh(null,0)).children=[a],a}(i);if(l.eachAfter(o),l.parent.m=-l.z,l.eachBefore(a),r)i.eachBefore(s);else{var u=i,c=i,f=i;i.eachBefore(function(e){e.x<u.x&&(u=e),e.x>c.x&&(c=e),e.depth>f.depth&&(f=e)});var h=u===c?1:e(u,c)/2,d=h-u.x,p=t/(c.x+h+d),m=n/(f.depth||1);i.eachBefore(function(e){e.x=(e.x+d)*p,e.y=e.depth*m})}return i}function o(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n){!function(e){for(var t,n=0,r=0,i=e.children,o=i.length;--o>=0;)(t=i[o]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(t);var o=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,n,r){if(n){for(var i,o=t,a=t,s=n,l=o.parent.children[0],u=o.m,c=a.m,f=s.m,h=l.m;s=Qh(s),o=Gh(o),s&&o;)l=Gh(l),(a=Qh(a)).a=t,(i=s.z+f-o.z-u+e(s._,o._))>0&&(qh(Wh(s,t,r),t,i),u+=i,c+=i),f+=s.m,u+=o.m,h+=l.m,c+=a.m;s&&!Qh(a)&&(a.t=s,a.m+=f-c),o&&!Gh(l)&&(l.t=o,l.m+=u-h,r=t)}return r}(t,i,t.parent.A||r[0])}function a(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function s(e){e.x*=t,e.y=e.depth*n}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i},Jh=function(e,t,n,r,i){for(var o,a=e.children,s=-1,l=a.length,u=e.value&&(i-n)/e.value;++s<l;)(o=a[s]).x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*u},Zh=(1+Math.sqrt(5))/2;function ed(e,t,n,r,i,o){for(var a,s,l,u,c,f,h,d,p,m,v,g=[],y=t.children,_=0,b=0,w=y.length,x=t.value;_<w;){l=i-n,u=o-r;do{c=y[b++].value}while(!c&&b<w);for(f=h=c,v=c*c*(m=Math.max(u/l,l/u)/(x*e)),p=Math.max(h/v,v/f);b<w;++b){if(c+=s=y[b].value,s<f&&(f=s),s>h&&(h=s),v=c*c*m,(d=Math.max(h/v,v/f))>p){c-=s;break}p=d}g.push(a={value:c,dice:l<u,children:y.slice(_,b)}),a.dice?Ph(a,n,r,i,x?r+=u*c/x:o):Jh(a,n,r,x?n+=l*c/x:i,o),x-=c,_=b}return g}var td=function e(t){function n(e,n,r,i,o){ed(t,e,n,r,i,o)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(Zh),nd=function(){var e=td,t=!1,n=1,r=1,i=[0],o=Th,a=Th,s=Th,l=Th,u=Th;function c(e){return e.x0=e.y0=0,e.x1=n,e.y1=r,e.eachBefore(f),i=[0],t&&e.eachBefore(jh),e}function f(t){var n=i[t.depth],r=t.x0+n,c=t.y0+n,f=t.x1-n,h=t.y1-n;f<r&&(r=f=(r+f)/2),h<c&&(c=h=(c+h)/2),t.x0=r,t.y0=c,t.x1=f,t.y1=h,t.children&&(n=i[t.depth+1]=o(t)/2,r+=u(t)-n,c+=a(t)-n,(f-=s(t)-n)<r&&(r=f=(r+f)/2),(h-=l(t)-n)<c&&(c=h=(c+h)/2),e(t,r,c,f,h))}return c.round=function(e){return arguments.length?(t=!!e,c):t},c.size=function(e){return arguments.length?(n=+e[0],r=+e[1],c):[n,r]},c.tile=function(t){return arguments.length?(e=Ih(t),c):e},c.padding=function(e){return arguments.length?c.paddingInner(e).paddingOuter(e):c.paddingInner()},c.paddingInner=function(e){return arguments.length?(o="function"===typeof e?e:Lh(+e),c):o},c.paddingOuter=function(e){return arguments.length?c.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):c.paddingTop()},c.paddingTop=function(e){return arguments.length?(a="function"===typeof e?e:Lh(+e),c):a},c.paddingRight=function(e){return arguments.length?(s="function"===typeof e?e:Lh(+e),c):s},c.paddingBottom=function(e){return arguments.length?(l="function"===typeof e?e:Lh(+e),c):l},c.paddingLeft=function(e){return arguments.length?(u="function"===typeof e?e:Lh(+e),c):u},c},rd=function(e,t,n,r,i){var o,a,s=e.children,l=s.length,u=new Array(l+1);for(u[0]=a=o=0;o<l;++o)u[o+1]=a+=s[o].value;!function e(t,n,r,i,o,a,l){if(t>=n-1){var c=s[t];return c.x0=i,c.y0=o,c.x1=a,void(c.y1=l)}var f=u[t],h=r/2+f,d=t+1,p=n-1;for(;d<p;){var m=d+p>>>1;u[m]<h?d=m+1:p=m}h-u[d-1]<u[d]-h&&t+1<d&&--d;var v=u[d]-f,g=r-v;if(a-i>l-o){var y=(i*g+a*v)/r;e(t,d,v,i,o,y,l),e(d,n,g,y,o,a,l)}else{var _=(o*g+l*v)/r;e(t,d,v,i,o,a,_),e(d,n,g,i,_,a,l)}}(0,l,e.value,t,n,r,i)},id=function(e,t,n,r,i){(1&e.depth?Jh:Ph)(e,t,n,r,i)},od=function e(t){function n(e,n,r,i,o){if((a=e._squarify)&&a.ratio===t)for(var a,s,l,u,c,f=-1,h=a.length,d=e.value;++f<h;){for(l=(s=a[f]).children,u=s.value=0,c=l.length;u<c;++u)s.value+=l[u].value;s.dice?Ph(s,n,r,i,r+=(o-r)*s.value/d):Jh(s,n,r,n+=(i-n)*s.value/d,o),d-=s.value}else e._squarify=a=ed(t,e,n,r,i,o),a.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(Zh),ad=function(e){for(var t,n=-1,r=e.length,i=e[r-1],o=0;++n<r;)t=i,i=e[n],o+=t[1]*i[0]-t[0]*i[1];return o/2},sd=function(e){for(var t,n,r=-1,i=e.length,o=0,a=0,s=e[i-1],l=0;++r<i;)t=s,s=e[r],l+=n=t[0]*s[1]-s[0]*t[1],o+=(t[0]+s[0])*n,a+=(t[1]+s[1])*n;return[o/(l*=3),a/l]},ld=function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])};function ud(e,t){return e[0]-t[0]||e[1]-t[1]}function cd(e){for(var t=e.length,n=[0,1],r=2,i=2;i<t;++i){for(;r>1&&ld(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}var fd=function(e){if((n=e.length)<3)return null;var t,n,r=new Array(n),i=new Array(n);for(t=0;t<n;++t)r[t]=[+e[t][0],+e[t][1],t];for(r.sort(ud),t=0;t<n;++t)i[t]=[r[t][0],-r[t][1]];var o=cd(r),a=cd(i),s=a[0]===o[0],l=a[a.length-1]===o[o.length-1],u=[];for(t=o.length-1;t>=0;--t)u.push(e[r[o[t]][2]]);for(t=+s;t<a.length-l;++t)u.push(e[r[a[t]][2]]);return u},hd=function(e,t){for(var n,r,i=e.length,o=e[i-1],a=t[0],s=t[1],l=o[0],u=o[1],c=!1,f=0;f<i;++f)n=(o=e[f])[0],(r=o[1])>s!==u>s&&a<(l-n)*(s-r)/(u-r)+n&&(c=!c),l=n,u=r;return c},dd=function(e){for(var t,n,r=-1,i=e.length,o=e[i-1],a=o[0],s=o[1],l=0;++r<i;)t=a,n=s,t-=a=(o=e[r])[0],n-=s=o[1],l+=Math.sqrt(t*t+n*n);return l},pd=[].slice,md={};function vd(e){this._size=e,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function gd(e){if(!e._start)try{!function(e){for(;e._start=e._waiting&&e._active<e._size;){var t=e._ended+e._active,n=e._tasks[t],r=n.length-1,i=n[r];n[r]=yd(e,t),--e._waiting,++e._active,n=i.apply(null,n),e._tasks[t]&&(e._tasks[t]=n||md)}}(e)}catch(t){if(e._tasks[e._ended+e._active-1])_d(e,t);else if(!e._data)throw t}}function yd(e,t){return function(n,r){e._tasks[t]&&(--e._active,++e._ended,e._tasks[t]=null,null==e._error&&(null!=n?_d(e,n):(e._data[t]=r,e._waiting?gd(e):bd(e))))}}function _d(e,t){var n,r=e._tasks.length;for(e._error=t,e._data=void 0,e._waiting=NaN;--r>=0;)if((n=e._tasks[r])&&(e._tasks[r]=null,n.abort))try{n.abort()}catch(t){}e._active=NaN,bd(e)}function bd(e){if(!e._active&&e._call){var t=e._data;e._data=void 0,e._call(e._error,t)}}function wd(e){if(null==e)e=1/0;else if(!((e=+e)>=1))throw new Error("invalid concurrency");return new vd(e)}vd.prototype=wd.prototype={constructor:vd,defer:function(e){if("function"!==typeof e)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var t=pd.call(arguments,1);return t.push(e),++this._waiting,this._tasks.push(t),gd(this),this},abort:function(){return null==this._error&&_d(this,new Error("abort")),this},await:function(e){if("function"!==typeof e)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(t,n){e.apply(null,[t].concat(n))},bd(this),this},awaitAll:function(e){if("function"!==typeof e)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=e,bd(this),this}};var xd=function(){return Math.random()},Ad=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,1===arguments.length?(n=e,e=0):n-=e,function(){return t()*n+e}}return n.source=e,n}(xd),Md=function e(t){function n(e,n){var r,i;return e=null==e?0:+e,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*t()-1,o=2*t()-1,i=r*r+o*o}while(!i||i>1);return e+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=e,n}(xd),Sd=function e(t){function n(){var e=Md.source(t).apply(this,arguments);return function(){return Math.exp(e())}}return n.source=e,n}(xd),Cd=function e(t){function n(e){return function(){for(var n=0,r=0;r<e;++r)n+=t();return n}}return n.source=e,n}(xd),Ed=function e(t){function n(e){var n=Cd.source(t)(e);return function(){return n()/e}}return n.source=e,n}(xd),Id=function e(t){function n(e){return function(){return-Math.log(1-t())/e}}return n.source=e,n}(xd),Td=n(35),Ld=n(22),zd=function(e,t){var n,r,i,o,a=Object(Ld.a)("beforesend","progress","load","error"),s=Object(Td.a)(),l=new XMLHttpRequest,u=null,c=null,f=0;function h(e){var t,r=l.status;if(!r&&function(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}(l)||r>=200&&r<300||304===r){if(i)try{t=i.call(n,l)}catch(o){return void a.call("error",n,o)}else t=l;a.call("load",n,t)}else a.call("error",n,e)}if("undefined"===typeof XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(e)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=l.ontimeout=h:l.onreadystatechange=function(e){l.readyState>3&&h(e)},l.onprogress=function(e){a.call("progress",n,e)},n={header:function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?s.get(e):(null==t?s.remove(e):s.set(e,t+""),n)},mimeType:function(e){return arguments.length?(r=null==e?null:e+"",n):r},responseType:function(e){return arguments.length?(o=e,n):o},timeout:function(e){return arguments.length?(f=+e,n):f},user:function(e){return arguments.length<1?u:(u=null==e?null:e+"",n)},password:function(e){return arguments.length<1?c:(c=null==e?null:e+"",n)},response:function(e){return i=e,n},get:function(e,t){return n.send("GET",e,t)},post:function(e,t){return n.send("POST",e,t)},send:function(t,i,h){return l.open(t,e,!0,u,c),null==r||s.has("accept")||s.set("accept",r+",*/*"),l.setRequestHeader&&s.each(function(e,t){l.setRequestHeader(t,e)}),null!=r&&l.overrideMimeType&&l.overrideMimeType(r),null!=o&&(l.responseType=o),f>0&&(l.timeout=f),null==h&&"function"===typeof i&&(h=i,i=null),null!=h&&1===h.length&&(h=function(e){return function(t,n){e(null==t?n:null)}}(h)),null!=h&&n.on("error",h).on("load",function(e){h(null,e)}),a.call("beforesend",n,l),l.send(null==i?null:i),n},abort:function(){return l.abort(),n},on:function(){var e=a.on.apply(a,arguments);return e===a?n:e}},null!=t){if("function"!==typeof t)throw new Error("invalid callback: "+t);return n.get(t)}return n};var kd=function(e,t){return function(n,r){var i=zd(n).mimeType(e).response(t);if(null!=r){if("function"!==typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}},Dd=kd("text/html",function(e){return document.createRange().createContextualFragment(e.responseText)}),Od=kd("application/json",function(e){return JSON.parse(e.responseText)}),Nd=kd("text/plain",function(e){return e.responseText}),jd=kd("application/xml",function(e){var t=e.responseXML;if(!t)throw new Error("parse error");return t}),Pd=n(38),Rd=function(e,t){return function(n,r,i){arguments.length<3&&(i=r,r=null);var o=zd(n).mimeType(e);return o.row=function(e){return arguments.length?o.response(function(e,t){return function(n){return e(n.responseText,t)}}(t,r=e)):r},o.row(r),i?o.get(i):o}};var $d=Rd("text/csv",Pd.a),Fd=Rd("text/tab-separated-values",Pd.c),Kd=Array.prototype,Ud=Kd.map,Vd=Kd.slice,Bd={name:"implicit"};function Hd(e){var t=Ho(),n=[],r=Bd;function i(i){var o=i+"",a=t.get(o);if(!a){if(r!==Bd)return r;t.set(o,a=n.push(i))}return e[(a-1)%e.length]}return e=null==e?[]:Vd.call(e),i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=Ho();for(var r,o,a=-1,s=e.length;++a<s;)t.has(o=(r=e[a])+"")||t.set(o,n.push(r));return i},i.range=function(t){return arguments.length?(e=Vd.call(t),i):e.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return Hd().domain(n).range(e).unknown(r)},i}function Gd(){var e,t,n=Hd().unknown(void 0),r=n.domain,i=n.range,o=[0,1],a=!1,s=0,l=0,u=.5;function c(){var n=r().length,c=o[1]<o[0],f=o[c-0],h=o[1-c];e=(h-f)/Math.max(1,n-s+2*l),a&&(e=Math.floor(e)),f+=(h-f-e*(n-s))*u,t=e*(1-s),a&&(f=Math.round(f),t=Math.round(t));var d=x(n).map(function(t){return f+e*t});return i(c?d.reverse():d)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),c()):r()},n.range=function(e){return arguments.length?(o=[+e[0],+e[1]],c()):o.slice()},n.rangeRound=function(e){return o=[+e[0],+e[1]],a=!0,c()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(a=!!e,c()):a},n.padding=function(e){return arguments.length?(s=l=Math.max(0,Math.min(1,e)),c()):s},n.paddingInner=function(e){return arguments.length?(s=Math.max(0,Math.min(1,e)),c()):s},n.paddingOuter=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),c()):l},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),c()):u},n.copy=function(){return Gd().domain(r()).range(o).round(a).paddingInner(s).paddingOuter(l).align(u)},c()}function Qd(){return function e(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return e(n())},t}(Gd().paddingInner(1))}var qd=function(e){return function(){return e}},Wd=function(e){return+e},Yd=[0,1];function Xd(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:qd(t)}function Jd(e,t,n,r){var i=e[0],o=e[1],a=t[0],s=t[1];return o<i?(i=n(o,i),a=r(s,a)):(i=n(i,o),a=r(a,s)),function(e){return a(i(e))}}function Zd(e,t,n,r){var i=Math.min(e.length,t.length)-1,o=new Array(i),a=new Array(i),s=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<i;)o[s]=n(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(t){var n=l(e,t,1,i)-1;return a[n](o[n](t))}}function ep(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function tp(e,t){var n,r,i,o=Yd,a=Yd,s=Qn,l=!1;function u(){return n=Math.min(o.length,a.length)>2?Zd:Jd,r=i=null,c}function c(t){return(r||(r=n(o,a,l?function(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=t?0:e>=n?1:r(e)}}}(e):e,s)))(+t)}return c.invert=function(e){return(i||(i=n(a,o,Xd,l?function(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=0?t:e>=1?n:r(e)}}}(t):t)))(+e)},c.domain=function(e){return arguments.length?(o=Ud.call(e,Wd),u()):o.slice()},c.range=function(e){return arguments.length?(a=Vd.call(e),u()):a.slice()},c.rangeRound=function(e){return a=Vd.call(e),s=qn,u()},c.clamp=function(e){return arguments.length?(l=!!e,u()):l},c.interpolate=function(e){return arguments.length?(s=e,u()):s},u()}var np=function(e,t,n){var r,i=e[0],o=e[e.length-1],a=I(i,o,null==t?10:t);switch((n=Za(null==n?",f":n)).type){case"s":var s=Math.max(Math.abs(i),Math.abs(o));return null!=n.precision||isNaN(r=us(a,s))||(n.precision=r),rs(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=cs(a,Math.max(Math.abs(i),Math.abs(o))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=ls(a))||(n.precision=r-2*("%"===n.type))}return ns(n)};function rp(e){var t=e.domain;return e.ticks=function(e){var n=t();return C(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){return np(t(),e,n)},e.nice=function(n){null==n&&(n=10);var r,i=t(),o=0,a=i.length-1,s=i[o],l=i[a];return l<s&&(r=s,s=l,l=r,r=o,o=a,a=r),(r=E(s,l,n))>0?r=E(s=Math.floor(s/r)*r,l=Math.ceil(l/r)*r,n):r<0&&(r=E(s=Math.ceil(s*r)/r,l=Math.floor(l*r)/r,n)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(l/r)*r,t(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(l*r)/r,t(i)),e},e}function ip(){var e=tp(Xd,Rn);return e.copy=function(){return ep(e,ip())},rp(e)}function op(){var e=[0,1];function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=Ud.call(n,Wd),t):e.slice()},t.copy=function(){return op().domain(e)},rp(t)}var ap=function(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e};function sp(e,t){return(t=Math.log(t/e))?function(n){return Math.log(n/e)/t}:qd(t)}function lp(e,t){return e<0?function(n){return-Math.pow(-t,n)*Math.pow(-e,1-n)}:function(n){return Math.pow(t,n)*Math.pow(e,1-n)}}function up(e){return isFinite(e)?+("1e"+e):e<0?0:e}function cp(e){return 10===e?up:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function fp(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function hp(e){return function(t){return-e(-t)}}function dp(){var e=tp(sp,lp).domain([1,10]),t=e.domain,n=10,r=fp(10),i=cp(10);function o(){return r=fp(n),i=cp(n),t()[0]<0&&(r=hp(r),i=hp(i)),e}return e.base=function(e){return arguments.length?(n=+e,o()):n},e.domain=function(e){return arguments.length?(t(e),o()):t()},e.ticks=function(e){var o,a=t(),s=a[0],l=a[a.length-1];(o=l<s)&&(h=s,s=l,l=h);var u,c,f,h=r(s),d=r(l),p=null==e?10:+e,m=[];if(!(n%1)&&d-h<p){if(h=Math.round(h)-1,d=Math.round(d)+1,s>0){for(;h<d;++h)for(c=1,u=i(h);c<n;++c)if(!((f=u*c)<s)){if(f>l)break;m.push(f)}}else for(;h<d;++h)for(c=n-1,u=i(h);c>=1;--c)if(!((f=u*c)<s)){if(f>l)break;m.push(f)}}else m=C(h,d,Math.min(d-h,p)).map(i);return o?m.reverse():m},e.tickFormat=function(t,o){if(null==o&&(o=10===n?".0e":","),"function"!==typeof o&&(o=ns(o)),t===1/0)return o;null==t&&(t=10);var a=Math.max(1,n*t/e.ticks().length);return function(e){var t=e/i(Math.round(r(e)));return t*n<n-.5&&(t*=n),t<=a?o(e):""}},e.nice=function(){return t(ap(t(),{floor:function(e){return i(Math.floor(r(e)))},ceil:function(e){return i(Math.ceil(r(e)))}}))},e.copy=function(){return ep(e,dp().base(n))},e}function pp(e,t){return e<0?-Math.pow(-e,t):Math.pow(e,t)}function mp(){var e=1,t=tp(function(t,n){return(n=pp(n,e)-(t=pp(t,e)))?function(r){return(pp(r,e)-t)/n}:qd(n)},function(t,n){return n=pp(n,e)-(t=pp(t,e)),function(r){return pp(t+n*r,1/e)}}),n=t.domain;return t.exponent=function(t){return arguments.length?(e=+t,n(n())):e},t.copy=function(){return ep(t,mp().exponent(e))},rp(t)}function vp(){return mp().exponent(.5)}function gp(){var e=[],t=[],n=[];function i(){var r=0,i=Math.max(1,t.length);for(n=new Array(i-1);++r<i;)n[r-1]=z(e,r/i);return o}function o(e){if(!isNaN(e=+e))return t[l(n,e)]}return o.invertExtent=function(r){var i=t.indexOf(r);return i<0?[NaN,NaN]:[i>0?n[i-1]:e[0],i<n.length?n[i]:e[e.length-1]]},o.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,o=0,a=t.length;o<a;++o)null==(n=t[o])||isNaN(n=+n)||e.push(n);return e.sort(r),i()},o.range=function(e){return arguments.length?(t=Vd.call(e),i()):t.slice()},o.quantiles=function(){return n.slice()},o.copy=function(){return gp().domain(e).range(t)},o}function yp(){var e=0,t=1,n=1,r=[.5],i=[0,1];function o(e){if(e<=e)return i[l(r,e,0,n)]}function a(){var i=-1;for(r=new Array(n);++i<n;)r[i]=((i+1)*t-(i-n)*e)/(n+1);return o}return o.domain=function(n){return arguments.length?(e=+n[0],t=+n[1],a()):[e,t]},o.range=function(e){return arguments.length?(n=(i=Vd.call(e)).length-1,a()):i.slice()},o.invertExtent=function(o){var a=i.indexOf(o);return a<0?[NaN,NaN]:a<1?[e,r[0]]:a>=n?[r[n-1],t]:[r[a-1],r[a]]},o.copy=function(){return yp().domain([e,t]).range(i)},rp(o)}function _p(){var e=[.5],t=[0,1],n=1;function r(r){if(r<=r)return t[l(e,r,0,n)]}return r.domain=function(i){return arguments.length?(e=Vd.call(i),n=Math.min(e.length,t.length-1),r):e.slice()},r.range=function(i){return arguments.length?(t=Vd.call(i),n=Math.min(e.length,t.length-1),r):t.slice()},r.invertExtent=function(n){var r=t.indexOf(n);return[e[r-1],e[r]]},r.copy=function(){return _p().domain(e).range(t)},r}var bp=new Date,wp=new Date;function xp(e,t,n,r){function i(t){return e(t=new Date(+t)),t}return i.floor=i,i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=function(n){return xp(function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})},n&&(i.count=function(t,r){return bp.setTime(+t),wp.setTime(+r),e(bp),e(wp),Math.floor(n(bp,wp))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e===0}:function(t){return i.count(0,t)%e===0}):i:null}),i}var Ap=xp(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});Ap.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?xp(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):Ap:null};var Mp=Ap,Sp=Ap.range,Cp=6e4,Ep=6048e5,Ip=xp(function(e){e.setTime(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3},function(e){return e.getUTCSeconds()}),Tp=Ip,Lp=Ip.range,zp=xp(function(e){e.setTime(Math.floor(e/Cp)*Cp)},function(e,t){e.setTime(+e+t*Cp)},function(e,t){return(t-e)/Cp},function(e){return e.getMinutes()}),kp=zp,Dp=zp.range,Op=xp(function(e){var t=e.getTimezoneOffset()*Cp%36e5;t<0&&(t+=36e5),e.setTime(36e5*Math.floor((+e-t)/36e5)+t)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getHours()}),Np=Op,jp=Op.range,Pp=xp(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Cp)/864e5},function(e){return e.getDate()-1}),Rp=Pp,$p=Pp.range;function Fp(e){return xp(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Cp)/Ep})}var Kp=Fp(0),Up=Fp(1),Vp=Fp(2),Bp=Fp(3),Hp=Fp(4),Gp=Fp(5),Qp=Fp(6),qp=Kp.range,Wp=Up.range,Yp=Vp.range,Xp=Bp.range,Jp=Hp.range,Zp=Gp.range,em=Qp.range,tm=xp(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()}),nm=tm,rm=tm.range,im=xp(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});im.every=function(e){return isFinite(e=Math.floor(e))&&e>0?xp(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null};var om=im,am=im.range,sm=xp(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*Cp)},function(e,t){return(t-e)/Cp},function(e){return e.getUTCMinutes()}),lm=sm,um=sm.range,cm=xp(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getUTCHours()}),fm=cm,hm=cm.range,dm=xp(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1}),pm=dm,mm=dm.range;function vm(e){return xp(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/Ep})}var gm=vm(0),ym=vm(1),_m=vm(2),bm=vm(3),wm=vm(4),xm=vm(5),Am=vm(6),Mm=gm.range,Sm=ym.range,Cm=_m.range,Em=bm.range,Im=wm.range,Tm=xm.range,Lm=Am.range,zm=xp(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()}),km=zm,Dm=zm.range,Om=xp(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});Om.every=function(e){return isFinite(e=Math.floor(e))&&e>0?xp(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null};var Nm=Om,jm=Om.range;function Pm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Rm(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function $m(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function Fm(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,u=Jm(i),c=Zm(i),f=Jm(o),h=Zm(o),d=Jm(a),p=Zm(a),m=Jm(s),v=Zm(s),g=Jm(l),y=Zm(l),_={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:_v,e:_v,f:Mv,H:bv,I:wv,j:xv,L:Av,m:Sv,M:Cv,p:function(e){return i[+(e.getHours()>=12)]},Q:eg,s:tg,S:Ev,u:Iv,U:Tv,V:Lv,w:zv,W:kv,x:null,X:null,y:Dv,Y:Ov,Z:Nv,"%":Zv},b={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:jv,e:jv,f:Kv,H:Pv,I:Rv,j:$v,L:Fv,m:Uv,M:Vv,p:function(e){return i[+(e.getUTCHours()>=12)]},Q:eg,s:tg,S:Bv,u:Hv,U:Gv,V:Qv,w:qv,W:Wv,x:null,X:null,y:Yv,Y:Xv,Z:Jv,"%":Zv},w={a:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=h[r[0].toLowerCase()],n+r[0].length):-1},b:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=v[r[0].toLowerCase()],n+r[0].length):-1},c:function(e,n,r){return M(e,t,n,r)},d:uv,e:uv,f:mv,H:fv,I:fv,j:cv,L:pv,m:lv,M:hv,p:function(e,t,n){var r=u.exec(t.slice(n));return r?(e.p=c[r[0].toLowerCase()],n+r[0].length):-1},Q:gv,s:yv,S:dv,u:tv,U:nv,V:rv,w:ev,W:iv,x:function(e,t,r){return M(e,n,t,r)},X:function(e,t,n){return M(e,r,t,n)},y:av,Y:ov,Z:sv,"%":vv};function x(e,t){return function(n){var r,i,o,a=[],s=-1,l=0,u=e.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=Gm[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function A(e,t){return function(n){var r,i,o=$m(1900);if(M(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Rm($m(o.y))).getUTCDay(),r=i>4||0===i?ym.ceil(r):ym(r),r=pm.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=t($m(o.y))).getDay(),r=i>4||0===i?Up.ceil(r):Up(r),r=Rp.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Rm($m(o.y)).getUTCDay():t($m(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Rm(o)):t(o)}}function M(e,t,n,r){for(var i,o,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=w[i in Gm?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return _.x=x(n,_),_.X=x(r,_),_.c=x(t,_),b.x=x(n,b),b.X=x(r,b),b.c=x(t,b),{format:function(e){var t=x(e+="",_);return t.toString=function(){return e},t},parse:function(e){var t=A(e+="",Pm);return t.toString=function(){return e},t},utcFormat:function(e){var t=x(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=A(e,Rm);return t.toString=function(){return e},t}}}var Km,Um,Vm,Bm,Hm,Gm={"-":"",_:" ",0:"0"},Qm=/^\s*\d+/,qm=/^%/,Wm=/[\\^$*+?|[\]().{}]/g;function Ym(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function Xm(e){return e.replace(Wm,"\\$&")}function Jm(e){return new RegExp("^(?:"+e.map(Xm).join("|")+")","i")}function Zm(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function ev(e,t,n){var r=Qm.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function tv(e,t,n){var r=Qm.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function nv(e,t,n){var r=Qm.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function rv(e,t,n){var r=Qm.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function iv(e,t,n){var r=Qm.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function ov(e,t,n){var r=Qm.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function av(e,t,n){var r=Qm.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function sv(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function lv(e,t,n){var r=Qm.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function uv(e,t,n){var r=Qm.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function cv(e,t,n){var r=Qm.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function fv(e,t,n){var r=Qm.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function hv(e,t,n){var r=Qm.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function dv(e,t,n){var r=Qm.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function pv(e,t,n){var r=Qm.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function mv(e,t,n){var r=Qm.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function vv(e,t,n){var r=qm.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function gv(e,t,n){var r=Qm.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function yv(e,t,n){var r=Qm.exec(t.slice(n));return r?(e.Q=1e3*+r[0],n+r[0].length):-1}function _v(e,t){return Ym(e.getDate(),t,2)}function bv(e,t){return Ym(e.getHours(),t,2)}function wv(e,t){return Ym(e.getHours()%12||12,t,2)}function xv(e,t){return Ym(1+Rp.count(om(e),e),t,3)}function Av(e,t){return Ym(e.getMilliseconds(),t,3)}function Mv(e,t){return Av(e,t)+"000"}function Sv(e,t){return Ym(e.getMonth()+1,t,2)}function Cv(e,t){return Ym(e.getMinutes(),t,2)}function Ev(e,t){return Ym(e.getSeconds(),t,2)}function Iv(e){var t=e.getDay();return 0===t?7:t}function Tv(e,t){return Ym(Kp.count(om(e),e),t,2)}function Lv(e,t){var n=e.getDay();return e=n>=4||0===n?Hp(e):Hp.ceil(e),Ym(Hp.count(om(e),e)+(4===om(e).getDay()),t,2)}function zv(e){return e.getDay()}function kv(e,t){return Ym(Up.count(om(e),e),t,2)}function Dv(e,t){return Ym(e.getFullYear()%100,t,2)}function Ov(e,t){return Ym(e.getFullYear()%1e4,t,4)}function Nv(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ym(t/60|0,"0",2)+Ym(t%60,"0",2)}function jv(e,t){return Ym(e.getUTCDate(),t,2)}function Pv(e,t){return Ym(e.getUTCHours(),t,2)}function Rv(e,t){return Ym(e.getUTCHours()%12||12,t,2)}function $v(e,t){return Ym(1+pm.count(Nm(e),e),t,3)}function Fv(e,t){return Ym(e.getUTCMilliseconds(),t,3)}function Kv(e,t){return Fv(e,t)+"000"}function Uv(e,t){return Ym(e.getUTCMonth()+1,t,2)}function Vv(e,t){return Ym(e.getUTCMinutes(),t,2)}function Bv(e,t){return Ym(e.getUTCSeconds(),t,2)}function Hv(e){var t=e.getUTCDay();return 0===t?7:t}function Gv(e,t){return Ym(gm.count(Nm(e),e),t,2)}function Qv(e,t){var n=e.getUTCDay();return e=n>=4||0===n?wm(e):wm.ceil(e),Ym(wm.count(Nm(e),e)+(4===Nm(e).getUTCDay()),t,2)}function qv(e){return e.getUTCDay()}function Wv(e,t){return Ym(ym.count(Nm(e),e),t,2)}function Yv(e,t){return Ym(e.getUTCFullYear()%100,t,2)}function Xv(e,t){return Ym(e.getUTCFullYear()%1e4,t,4)}function Jv(){return"+0000"}function Zv(){return"%"}function eg(e){return+e}function tg(e){return Math.floor(+e/1e3)}function ng(e){return Km=Fm(e),Um=Km.format,Vm=Km.parse,Bm=Km.utcFormat,Hm=Km.utcParse,Km}ng({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var rg=Date.prototype.toISOString?function(e){return e.toISOString()}:Bm("%Y-%m-%dT%H:%M:%S.%LZ");var ig=+new Date("2000-01-01T00:00:00.000Z")?function(e){var t=new Date(e);return isNaN(t)?null:t}:Hm("%Y-%m-%dT%H:%M:%S.%LZ"),og=1e3,ag=60*og,sg=60*ag,lg=24*sg,ug=7*lg,cg=30*lg,fg=365*lg;function hg(e){return new Date(e)}function dg(e){return e instanceof Date?+e:+new Date(+e)}function pg(e,t,n,r,o,a,s,l,u){var c=tp(Xd,Rn),f=c.invert,h=c.domain,d=u(".%L"),p=u(":%S"),m=u("%I:%M"),v=u("%I %p"),g=u("%a %d"),y=u("%b %d"),_=u("%B"),b=u("%Y"),w=[[s,1,og],[s,5,5*og],[s,15,15*og],[s,30,30*og],[a,1,ag],[a,5,5*ag],[a,15,15*ag],[a,30,30*ag],[o,1,sg],[o,3,3*sg],[o,6,6*sg],[o,12,12*sg],[r,1,lg],[r,2,2*lg],[n,1,ug],[t,1,cg],[t,3,3*cg],[e,1,fg]];function x(i){return(s(i)<i?d:a(i)<i?p:o(i)<i?m:r(i)<i?v:t(i)<i?n(i)<i?g:y:e(i)<i?_:b)(i)}function A(t,n,r,o){if(null==t&&(t=10),"number"===typeof t){var a=Math.abs(r-n)/t,s=i(function(e){return e[2]}).right(w,a);s===w.length?(o=I(n/fg,r/fg,t),t=e):s?(o=(s=w[a/w[s-1][2]<w[s][2]/a?s-1:s])[1],t=s[0]):(o=Math.max(I(n,r,t),1),t=l)}return null==o?t:t.every(o)}return c.invert=function(e){return new Date(f(e))},c.domain=function(e){return arguments.length?h(Ud.call(e,dg)):h().map(hg)},c.ticks=function(e,t){var n,r=h(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=A(e,i,o,t))?n.range(i,o+1):[],a?n.reverse():n},c.tickFormat=function(e,t){return null==t?x:u(t)},c.nice=function(e,t){var n=h();return(e=A(e,n[0],n[n.length-1],t))?h(ap(n,e)):c},c.copy=function(){return ep(c,pg(e,t,n,r,o,a,s,l,u))},c}var mg=function(){return pg(om,nm,Kp,Rp,Np,kp,Tp,Mp,Um).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},vg=function(){return pg(Nm,km,gm,pm,fm,lm,Tp,Mp,Bm).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},gg=function(e){return e.match(/.{6}/g).map(function(e){return"#"+e})},yg=gg("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),_g=gg("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),bg=gg("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),wg=gg("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),xg=mr(xn(300,.5,0),xn(-240,.5,1)),Ag=mr(xn(-100,.75,.35),xn(80,1.5,.8)),Mg=mr(xn(260,.75,.35),xn(80,1.5,.8)),Sg=xn(),Cg=function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Sg.h=360*e-100,Sg.s=1.5-1.5*t,Sg.l=.8-.9*t,Sg+""};function Eg(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var Ig=Eg(gg("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Tg=Eg(gg("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Lg=Eg(gg("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),zg=Eg(gg("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function kg(e){var t=0,n=1,r=!1;function i(i){var o=(i-t)/(n-t);return e(r?Math.max(0,Math.min(1,o)):o)}return i.domain=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.clamp=function(e){return arguments.length?(r=!!e,i):r},i.interpolator=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return kg(e).domain([t,n]).clamp(r)},rp(i)}var Dg=function(e){return function(){return e}},Og=Math.abs,Ng=Math.atan2,jg=Math.cos,Pg=Math.max,Rg=Math.min,$g=Math.sin,Fg=Math.sqrt,Kg=1e-12,Ug=Math.PI,Vg=Ug/2,Bg=2*Ug;function Hg(e){return e>=1?Vg:e<=-1?-Vg:Math.asin(e)}function Gg(e){return e.innerRadius}function Qg(e){return e.outerRadius}function qg(e){return e.startAngle}function Wg(e){return e.endAngle}function Yg(e){return e&&e.padAngle}function Xg(e,t,n,r,i,o,a){var s=e-n,l=t-r,u=(a?o:-o)/Fg(s*s+l*l),c=u*l,f=-u*s,h=e+c,d=t+f,p=n+c,m=r+f,v=(h+p)/2,g=(d+m)/2,y=p-h,_=m-d,b=y*y+_*_,w=i-o,x=h*m-p*d,A=(_<0?-1:1)*Fg(Pg(0,w*w*b-x*x)),M=(x*_-y*A)/b,S=(-x*y-_*A)/b,C=(x*_+y*A)/b,E=(-x*y+_*A)/b,I=M-v,T=S-g,L=C-v,z=E-g;return I*I+T*T>L*L+z*z&&(M=C,S=E),{cx:M,cy:S,x01:-c,y01:-f,x11:M*(i/w-1),y11:S*(i/w-1)}}var Jg=function(){var e=Gg,t=Qg,n=Dg(0),r=null,i=qg,o=Wg,a=Yg,s=null;function l(){var l,u,c,f=+e.apply(this,arguments),h=+t.apply(this,arguments),d=i.apply(this,arguments)-Vg,p=o.apply(this,arguments)-Vg,m=Og(p-d),v=p>d;if(s||(s=l=jo()),h<f&&(u=h,h=f,f=u),h>Kg)if(m>Bg-Kg)s.moveTo(h*jg(d),h*$g(d)),s.arc(0,0,h,d,p,!v),f>Kg&&(s.moveTo(f*jg(p),f*$g(p)),s.arc(0,0,f,p,d,v));else{var g,y,_=d,b=p,w=d,x=p,A=m,M=m,S=a.apply(this,arguments)/2,C=S>Kg&&(r?+r.apply(this,arguments):Fg(f*f+h*h)),E=Rg(Og(h-f)/2,+n.apply(this,arguments)),I=E,T=E;if(C>Kg){var L=Hg(C/f*$g(S)),z=Hg(C/h*$g(S));(A-=2*L)>Kg?(w+=L*=v?1:-1,x-=L):(A=0,w=x=(d+p)/2),(M-=2*z)>Kg?(_+=z*=v?1:-1,b-=z):(M=0,_=b=(d+p)/2)}var k=h*jg(_),D=h*$g(_),O=f*jg(x),N=f*$g(x);if(E>Kg){var j=h*jg(b),P=h*$g(b),R=f*jg(w),$=f*$g(w);if(m<Ug){var F=A>Kg?function(e,t,n,r,i,o,a,s){var l=n-e,u=r-t,c=a-i,f=s-o,h=(c*(t-o)-f*(e-i))/(f*l-c*u);return[e+h*l,t+h*u]}(k,D,R,$,j,P,O,N):[O,N],K=k-F[0],U=D-F[1],V=j-F[0],B=P-F[1],H=1/$g(((c=(K*V+U*B)/(Fg(K*K+U*U)*Fg(V*V+B*B)))>1?0:c<-1?Ug:Math.acos(c))/2),G=Fg(F[0]*F[0]+F[1]*F[1]);I=Rg(E,(f-G)/(H-1)),T=Rg(E,(h-G)/(H+1))}}M>Kg?T>Kg?(g=Xg(R,$,k,D,h,T,v),y=Xg(j,P,O,N,h,T,v),s.moveTo(g.cx+g.x01,g.cy+g.y01),T<E?s.arc(g.cx,g.cy,T,Ng(g.y01,g.x01),Ng(y.y01,y.x01),!v):(s.arc(g.cx,g.cy,T,Ng(g.y01,g.x01),Ng(g.y11,g.x11),!v),s.arc(0,0,h,Ng(g.cy+g.y11,g.cx+g.x11),Ng(y.cy+y.y11,y.cx+y.x11),!v),s.arc(y.cx,y.cy,T,Ng(y.y11,y.x11),Ng(y.y01,y.x01),!v))):(s.moveTo(k,D),s.arc(0,0,h,_,b,!v)):s.moveTo(k,D),f>Kg&&A>Kg?I>Kg?(g=Xg(O,N,j,P,f,-I,v),y=Xg(k,D,R,$,f,-I,v),s.lineTo(g.cx+g.x01,g.cy+g.y01),I<E?s.arc(g.cx,g.cy,I,Ng(g.y01,g.x01),Ng(y.y01,y.x01),!v):(s.arc(g.cx,g.cy,I,Ng(g.y01,g.x01),Ng(g.y11,g.x11),!v),s.arc(0,0,f,Ng(g.cy+g.y11,g.cx+g.x11),Ng(y.cy+y.y11,y.cx+y.x11),v),s.arc(y.cx,y.cy,I,Ng(y.y11,y.x11),Ng(y.y01,y.x01),!v))):s.arc(0,0,f,x,w,v):s.lineTo(O,N)}else s.moveTo(0,0);if(s.closePath(),l)return s=null,l+""||null}return l.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Ug/2;return[jg(r)*n,$g(r)*n]},l.innerRadius=function(t){return arguments.length?(e="function"===typeof t?t:Dg(+t),l):e},l.outerRadius=function(e){return arguments.length?(t="function"===typeof e?e:Dg(+e),l):t},l.cornerRadius=function(e){return arguments.length?(n="function"===typeof e?e:Dg(+e),l):n},l.padRadius=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:Dg(+e),l):r},l.startAngle=function(e){return arguments.length?(i="function"===typeof e?e:Dg(+e),l):i},l.endAngle=function(e){return arguments.length?(o="function"===typeof e?e:Dg(+e),l):o},l.padAngle=function(e){return arguments.length?(a="function"===typeof e?e:Dg(+e),l):a},l.context=function(e){return arguments.length?(s=null==e?null:e,l):s},l};function Zg(e){this._context=e}Zg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var ey=function(e){return new Zg(e)};function ty(e){return e[0]}function ny(e){return e[1]}var ry=function(){var e=ty,t=ny,n=Dg(!0),r=null,i=ey,o=null;function a(a){var s,l,u,c=a.length,f=!1;for(null==r&&(o=i(u=jo())),s=0;s<=c;++s)!(s<c&&n(l=a[s],s,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+e(l,s,a),+t(l,s,a));if(u)return o=null,u+""||null}return a.x=function(t){return arguments.length?(e="function"===typeof t?t:Dg(+t),a):e},a.y=function(e){return arguments.length?(t="function"===typeof e?e:Dg(+e),a):t},a.defined=function(e){return arguments.length?(n="function"===typeof e?e:Dg(!!e),a):n},a.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),a):i},a.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),a):r},a},iy=function(){var e=ty,t=null,n=Dg(0),r=ny,i=Dg(!0),o=null,a=ey,s=null;function l(l){var u,c,f,h,d,p=l.length,m=!1,v=new Array(p),g=new Array(p);for(null==o&&(s=a(d=jo())),u=0;u<=p;++u){if(!(u<p&&i(h=l[u],u,l))===m)if(m=!m)c=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=u-1;f>=c;--f)s.point(v[f],g[f]);s.lineEnd(),s.areaEnd()}m&&(v[u]=+e(h,u,l),g[u]=+n(h,u,l),s.point(t?+t(h,u,l):v[u],r?+r(h,u,l):g[u]))}if(d)return s=null,d+""||null}function u(){return ry().defined(i).curve(a).context(o)}return l.x=function(n){return arguments.length?(e="function"===typeof n?n:Dg(+n),t=null,l):e},l.x0=function(t){return arguments.length?(e="function"===typeof t?t:Dg(+t),l):e},l.x1=function(e){return arguments.length?(t=null==e?null:"function"===typeof e?e:Dg(+e),l):t},l.y=function(e){return arguments.length?(n="function"===typeof e?e:Dg(+e),r=null,l):n},l.y0=function(e){return arguments.length?(n="function"===typeof e?e:Dg(+e),l):n},l.y1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:Dg(+e),l):r},l.lineX0=l.lineY0=function(){return u().x(e).y(n)},l.lineY1=function(){return u().x(e).y(r)},l.lineX1=function(){return u().x(t).y(n)},l.defined=function(e){return arguments.length?(i="function"===typeof e?e:Dg(!!e),l):i},l.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),l):a},l.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),l):o},l},oy=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},ay=function(e){return e},sy=function(){var e=ay,t=oy,n=null,r=Dg(0),i=Dg(Bg),o=Dg(0);function a(a){var s,l,u,c,f,h=a.length,d=0,p=new Array(h),m=new Array(h),v=+r.apply(this,arguments),g=Math.min(Bg,Math.max(-Bg,i.apply(this,arguments)-v)),y=Math.min(Math.abs(g)/h,o.apply(this,arguments)),_=y*(g<0?-1:1);for(s=0;s<h;++s)(f=m[p[s]=s]=+e(a[s],s,a))>0&&(d+=f);for(null!=t?p.sort(function(e,n){return t(m[e],m[n])}):null!=n&&p.sort(function(e,t){return n(a[e],a[t])}),s=0,u=d?(g-h*_)/d:0;s<h;++s,v=c)l=p[s],c=v+((f=m[l])>0?f*u:0)+_,m[l]={data:a[l],index:s,value:f,startAngle:v,endAngle:c,padAngle:y};return m}return a.value=function(t){return arguments.length?(e="function"===typeof t?t:Dg(+t),a):e},a.sortValues=function(e){return arguments.length?(t=e,n=null,a):t},a.sort=function(e){return arguments.length?(n=e,t=null,a):n},a.startAngle=function(e){return arguments.length?(r="function"===typeof e?e:Dg(+e),a):r},a.endAngle=function(e){return arguments.length?(i="function"===typeof e?e:Dg(+e),a):i},a.padAngle=function(e){return arguments.length?(o="function"===typeof e?e:Dg(+e),a):o},a},ly=cy(ey);function uy(e){this._curve=e}function cy(e){function t(t){return new uy(e(t))}return t._curve=e,t}function fy(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(cy(e)):t()._curve},e}uy.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};var hy=function(){return fy(ry().curve(ly))},dy=function(){var e=iy().curve(ly),t=e.curve,n=e.lineX0,r=e.lineX1,i=e.lineY0,o=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return fy(n())},delete e.lineX0,e.lineEndAngle=function(){return fy(r())},delete e.lineX1,e.lineInnerRadius=function(){return fy(i())},delete e.lineY0,e.lineOuterRadius=function(){return fy(o())},delete e.lineY1,e.curve=function(e){return arguments.length?t(cy(e)):t()._curve},e},py=function(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]},my=Array.prototype.slice;function vy(e){return e.source}function gy(e){return e.target}function yy(e){var t=vy,n=gy,r=ty,i=ny,o=null;function a(){var a,s=my.call(arguments),l=t.apply(this,s),u=n.apply(this,s);if(o||(o=a=jo()),e(o,+r.apply(this,(s[0]=l,s)),+i.apply(this,s),+r.apply(this,(s[0]=u,s)),+i.apply(this,s)),a)return o=null,a+""||null}return a.source=function(e){return arguments.length?(t=e,a):t},a.target=function(e){return arguments.length?(n=e,a):n},a.x=function(e){return arguments.length?(r="function"===typeof e?e:Dg(+e),a):r},a.y=function(e){return arguments.length?(i="function"===typeof e?e:Dg(+e),a):i},a.context=function(e){return arguments.length?(o=null==e?null:e,a):o},a}function _y(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,i,r,i)}function by(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+i)/2,r,n,r,i)}function wy(e,t,n,r,i){var o=py(t,n),a=py(t,n=(n+i)/2),s=py(r,n),l=py(r,i);e.moveTo(o[0],o[1]),e.bezierCurveTo(a[0],a[1],s[0],s[1],l[0],l[1])}function xy(){return yy(_y)}function Ay(){return yy(by)}function My(){var e=yy(wy);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}var Sy={draw:function(e,t){var n=Math.sqrt(t/Ug);e.moveTo(n,0),e.arc(0,0,n,0,Bg)}},Cy={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Ey=Math.sqrt(1/3),Iy=2*Ey,Ty={draw:function(e,t){var n=Math.sqrt(t/Iy),r=n*Ey;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Ly=Math.sin(Ug/10)/Math.sin(7*Ug/10),zy=Math.sin(Bg/10)*Ly,ky=-Math.cos(Bg/10)*Ly,Dy={draw:function(e,t){var n=Math.sqrt(.8908130915292852*t),r=zy*n,i=ky*n;e.moveTo(0,-n),e.lineTo(r,i);for(var o=1;o<5;++o){var a=Bg*o/5,s=Math.cos(a),l=Math.sin(a);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*i,l*r+s*i)}e.closePath()}},Oy={draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},Ny=Math.sqrt(3),jy={draw:function(e,t){var n=-Math.sqrt(t/(3*Ny));e.moveTo(0,2*n),e.lineTo(-Ny*n,-n),e.lineTo(Ny*n,-n),e.closePath()}},Py=Math.sqrt(3)/2,Ry=1/Math.sqrt(12),$y=3*(Ry/2+1),Fy={draw:function(e,t){var n=Math.sqrt(t/$y),r=n/2,i=n*Ry,o=r,a=n*Ry+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(-.5*r-Py*i,Py*r+-.5*i),e.lineTo(-.5*o-Py*a,Py*o+-.5*a),e.lineTo(-.5*s-Py*l,Py*s+-.5*l),e.lineTo(-.5*r+Py*i,-.5*i-Py*r),e.lineTo(-.5*o+Py*a,-.5*a-Py*o),e.lineTo(-.5*s+Py*l,-.5*l-Py*s),e.closePath()}},Ky=[Sy,Cy,Ty,Oy,Dy,jy,Fy],Uy=function(){var e=Dg(Sy),t=Dg(64),n=null;function r(){var r;if(n||(n=r=jo()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return r.type=function(t){return arguments.length?(e="function"===typeof t?t:Dg(t),r):e},r.size=function(e){return arguments.length?(t="function"===typeof e?e:Dg(+e),r):t},r.context=function(e){return arguments.length?(n=null==e?null:e,r):n},r},Vy=function(){};function By(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Hy(e){this._context=e}Hy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:By(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:By(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var Gy=function(e){return new Hy(e)};function Qy(e){this._context=e}Qy.prototype={areaStart:Vy,areaEnd:Vy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:By(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var qy=function(e){return new Qy(e)};function Wy(e){this._context=e}Wy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:By(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var Yy=function(e){return new Wy(e)};function Xy(e,t){this._basis=new Hy(e),this._beta=t}Xy.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],o=t[0],a=e[n]-i,s=t[n]-o,l=-1;++l<=n;)r=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(i+r*a),this._beta*t[l]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var Jy=function e(t){function n(e){return 1===t?new Hy(e):new Xy(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function Zy(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function e_(e,t){this._context=e,this._k=(1-t)/6}e_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Zy(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Zy(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var t_=function e(t){function n(e){return new e_(e,t)}return n.tension=function(t){return e(+t)},n}(0);function n_(e,t){this._context=e,this._k=(1-t)/6}n_.prototype={areaStart:Vy,areaEnd:Vy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Zy(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var r_=function e(t){function n(e){return new n_(e,t)}return n.tension=function(t){return e(+t)},n}(0);function i_(e,t){this._context=e,this._k=(1-t)/6}i_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Zy(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var o_=function e(t){function n(e){return new i_(e,t)}return n.tension=function(t){return e(+t)},n}(0);function a_(e,t,n){var r=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>Kg){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>Kg){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*u+e._x1*e._l23_2a-t*e._l12_2a)/c,a=(a*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,o,a,e._x2,e._y2)}function s_(e,t){this._context=e,this._alpha=t}s_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:a_(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var l_=function e(t){function n(e){return t?new s_(e,t):new e_(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function u_(e,t){this._context=e,this._alpha=t}u_.prototype={areaStart:Vy,areaEnd:Vy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:a_(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var c_=function e(t){function n(e){return t?new u_(e,t):new n_(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function f_(e,t){this._context=e,this._alpha=t}f_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:a_(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var h_=function e(t){function n(e){return t?new f_(e,t):new i_(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function d_(e){this._context=e}d_.prototype={areaStart:Vy,areaEnd:Vy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};var p_=function(e){return new d_(e)};function m_(e){return e<0?-1:1}function v_(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(m_(o)+m_(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function g_(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function y_(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function __(e){this._context=e}function b_(e){this._context=new w_(e)}function w_(e){this._context=e}function x_(e){return new __(e)}function A_(e){return new b_(e)}function M_(e){this._context=e}function S_(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}__.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:y_(this,this._t0,g_(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,y_(this,g_(this,n=v_(this,e,t)),n);break;default:y_(this,this._t0,n=v_(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(b_.prototype=Object.create(__.prototype)).point=function(e,t){__.prototype.point.call(this,t,e)},w_.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},M_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=S_(e),i=S_(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var C_=function(e){return new M_(e)};function E_(e,t){this._context=e,this._t=t}E_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var I_=function(e){return new E_(e,.5)};function T_(e){return new E_(e,0)}function L_(e){return new E_(e,1)}var z_=function(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]},k_=function(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n};function D_(e,t){return e[t]}var O_=function(){var e=Dg([]),t=k_,n=z_,r=D_;function i(i){var o,a,s=e.apply(this,arguments),l=i.length,u=s.length,c=new Array(u);for(o=0;o<u;++o){for(var f,h=s[o],d=c[o]=new Array(l),p=0;p<l;++p)d[p]=f=[0,+r(i[p],h,p,i)],f.data=i[p];d.key=h}for(o=0,a=t(c);o<u;++o)c[a[o]].index=o;return n(c,a),c}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:Dg(my.call(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:Dg(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?k_:"function"===typeof e?e:Dg(my.call(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?z_:e,i):n},i},N_=function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}z_(e,t)}},j_=function(e,t){if((s=e.length)>1)for(var n,r,i,o,a,s,l=0,u=e[t[0]].length;l<u;++l)for(o=a=0,n=0;n<s;++n)(i=(r=e[t[n]][l])[1]-r[0])>=0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):r[0]=o},P_=function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}z_(e,t)}},R_=function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,l=0,u=0;s<i;++s){for(var c=e[t[s]],f=c[a][1]||0,h=(f-(c[a-1][1]||0))/2,d=0;d<s;++d){var p=e[t[d]];h+=(p[a][1]||0)-(p[a-1][1]||0)}l+=f,u+=h*f}n[a-1][1]+=n[a-1][0]=o,l&&(o-=u/l)}n[a-1][1]+=n[a-1][0]=o,z_(e,t)}},$_=function(e){var t=e.map(F_);return k_(e).sort(function(e,n){return t[e]-t[n]})};function F_(e){for(var t,n=0,r=-1,i=e.length;++r<i;)(t=+e[r][1])&&(n+=t);return n}var K_=function(e){return $_(e).reverse()},U_=function(e){var t,n,r=e.length,i=e.map(F_),o=k_(e).sort(function(e,t){return i[t]-i[e]}),a=0,s=0,l=[],u=[];for(t=0;t<r;++t)n=o[t],a<s?(a+=i[n],l.push(n)):(s+=i[n],u.push(n));return u.reverse().concat(l)},V_=function(e){return k_(e).reverse()},B_=function(e){return function(){return e}};function H_(e){return e[0]}function G_(e){return e[1]}function Q_(){this._=null}function q_(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function W_(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Y_(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function X_(e){for(;e.L;)e=e.L;return e}Q_.prototype={constructor:Q_,insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=X_(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(W_(this,n),n=(e=n).U),n.C=!1,r.C=!0,Y_(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(Y_(this,n),n=(e=n).U),n.C=!1,r.C=!0,W_(this,r)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,o=e.L,a=e.R;if(n=o?a?X_(a):o:a,i?i.L===e?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=e.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=a,a.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===i.L){if((t=i.R).C&&(t.C=!1,i.C=!0,W_(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,Y_(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,W_(this,i),e=this._;break}}else if((t=i.L).C&&(t.C=!1,i.C=!0,Y_(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,W_(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,Y_(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}};var J_=Q_;function Z_(e,t,n,r){var i=[null,null],o=Ab.push(i)-1;return i.left=e,i.right=t,n&&tb(i,e,t,n),r&&tb(i,t,e,r),wb[e.index].halfedges.push(o),wb[t.index].halfedges.push(o),i}function eb(e,t,n){var r=[t,n];return r.left=e,r}function tb(e,t,n,r){e[0]||e[1]?e.left===n?e[1]=r:e[0]=r:(e[0]=r,e.left=t,e.right=n)}function nb(e,t,n,r,i){var o,a=e[0],s=e[1],l=a[0],u=a[1],c=0,f=1,h=s[0]-l,d=s[1]-u;if(o=t-l,h||!(o>0)){if(o/=h,h<0){if(o<c)return;o<f&&(f=o)}else if(h>0){if(o>f)return;o>c&&(c=o)}if(o=r-l,h||!(o<0)){if(o/=h,h<0){if(o>f)return;o>c&&(c=o)}else if(h>0){if(o<c)return;o<f&&(f=o)}if(o=n-u,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<f&&(f=o)}else if(d>0){if(o>f)return;o>c&&(c=o)}if(o=i-u,d||!(o<0)){if(o/=d,d<0){if(o>f)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<f&&(f=o)}return!(c>0||f<1)||(c>0&&(e[0]=[l+c*h,u+c*d]),f<1&&(e[1]=[l+f*h,u+f*d]),!0)}}}}}function rb(e,t,n,r,i){var o=e[1];if(o)return!0;var a,s,l=e[0],u=e.left,c=e.right,f=u[0],h=u[1],d=c[0],p=c[1],m=(f+d)/2,v=(h+p)/2;if(p===h){if(m<t||m>=r)return;if(f>d){if(l){if(l[1]>=i)return}else l=[m,n];o=[m,i]}else{if(l){if(l[1]<n)return}else l=[m,i];o=[m,n]}}else if(s=v-(a=(f-d)/(p-h))*m,a<-1||a>1)if(f>d){if(l){if(l[1]>=i)return}else l=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(l){if(l[1]<n)return}else l=[(i-s)/a,i];o=[(n-s)/a,n]}else if(h<p){if(l){if(l[0]>=r)return}else l=[t,a*t+s];o=[r,a*r+s]}else{if(l){if(l[0]<t)return}else l=[r,a*r+s];o=[t,a*t+s]}return e[0]=l,e[1]=o,!0}function ib(e,t){var n=e.site,r=t.left,i=t.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=t[1],i=t[0]):(r=t[0],i=t[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function ob(e,t){return t[+(t.left!==e.site)]}function ab(e,t){return t[+(t.left===e.site)]}var sb,lb=[];function ub(){q_(this),this.x=this.y=this.arc=this.site=this.cy=null}function cb(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,o=n.site;if(r!==o){var a=i[0],s=i[1],l=r[0]-a,u=r[1]-s,c=o[0]-a,f=o[1]-s,h=2*(l*f-u*c);if(!(h>=-Sb)){var d=l*l+u*u,p=c*c+f*f,m=(f*d-u*p)/h,v=(l*p-c*d)/h,g=lb.pop()||new ub;g.arc=e,g.site=i,g.x=m+a,g.y=(g.cy=v+s)+Math.sqrt(m*m+v*v),e.circle=g;for(var y=null,_=xb._;_;)if(g.y<_.y||g.y===_.y&&g.x<=_.x){if(!_.L){y=_.P;break}_=_.L}else{if(!_.R){y=_;break}_=_.R}xb.insert(y,g),y||(sb=g)}}}}function fb(e){var t=e.circle;t&&(t.P||(sb=t.N),xb.remove(t),lb.push(t),q_(t),e.circle=null)}var hb=[];function db(){q_(this),this.edge=this.site=this.circle=null}function pb(e){var t=hb.pop()||new db;return t.site=e,t}function mb(e){fb(e),bb.remove(e),hb.push(e),q_(e)}function vb(e){var t=e.circle,n=t.x,r=t.cy,i=[n,r],o=e.P,a=e.N,s=[e];mb(e);for(var l=o;l.circle&&Math.abs(n-l.circle.x)<Mb&&Math.abs(r-l.circle.cy)<Mb;)o=l.P,s.unshift(l),mb(l),l=o;s.unshift(l),fb(l);for(var u=a;u.circle&&Math.abs(n-u.circle.x)<Mb&&Math.abs(r-u.circle.cy)<Mb;)a=u.N,s.push(u),mb(u),u=a;s.push(u),fb(u);var c,f=s.length;for(c=1;c<f;++c)u=s[c],l=s[c-1],tb(u.edge,l.site,u.site,i);l=s[0],(u=s[f-1]).edge=Z_(l.site,u.site,null,i),cb(l),cb(u)}function gb(e){for(var t,n,r,i,o=e[0],a=e[1],s=bb._;s;)if((r=yb(s,a)-o)>Mb)s=s.L;else{if(!((i=o-_b(s,a))>Mb)){r>-Mb?(t=s.P,n=s):i>-Mb?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}!function(e){wb[e.index]={site:e,halfedges:[]}}(e);var l=pb(e);if(bb.insert(t,l),t||n){if(t===n)return fb(t),n=pb(t.site),bb.insert(l,n),l.edge=n.edge=Z_(t.site,l.site),cb(t),void cb(n);if(n){fb(t),fb(n);var u=t.site,c=u[0],f=u[1],h=e[0]-c,d=e[1]-f,p=n.site,m=p[0]-c,v=p[1]-f,g=2*(h*v-d*m),y=h*h+d*d,_=m*m+v*v,b=[(v*y-d*_)/g+c,(h*_-m*y)/g+f];tb(n.edge,u,p,b),l.edge=Z_(u,e,null,b),n.edge=Z_(e,p,null,b),cb(t),cb(n)}else l.edge=Z_(t.site,l.site)}}function yb(e,t){var n=e.site,r=n[0],i=n[1],o=i-t;if(!o)return r;var a=e.P;if(!a)return-1/0;var s=(n=a.site)[0],l=n[1],u=l-t;if(!u)return s;var c=s-r,f=1/o-1/u,h=c/u;return f?(-h+Math.sqrt(h*h-2*f*(c*c/(-2*u)-l+u/2+i-o/2)))/f+r:(r+s)/2}function _b(e,t){var n=e.N;if(n)return yb(n,t);var r=e.site;return r[1]===t?r[0]:1/0}var bb,wb,xb,Ab,Mb=1e-6,Sb=1e-12;function Cb(e,t){return t[1]-e[1]||t[0]-e[0]}function Eb(e,t){var n,r,i,o=e.sort(Cb).pop();for(Ab=[],wb=new Array(e.length),bb=new J_,xb=new J_;;)if(i=sb,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(gb(o),n=o[0],r=o[1]),o=e.pop();else{if(!i)break;vb(i.arc)}if(function(){for(var e,t,n,r,i=0,o=wb.length;i<o;++i)if((e=wb[i])&&(r=(t=e.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=ib(e,Ab[t[n]]);for(a.sort(function(e,t){return s[t]-s[e]}),n=0;n<r;++n)s[n]=t[a[n]];for(n=0;n<r;++n)t[n]=s[n]}}(),t){var a=+t[0][0],s=+t[0][1],l=+t[1][0],u=+t[1][1];!function(e,t,n,r){for(var i,o=Ab.length;o--;)rb(i=Ab[o],e,t,n,r)&&nb(i,e,t,n,r)&&(Math.abs(i[0][0]-i[1][0])>Mb||Math.abs(i[0][1]-i[1][1])>Mb)||delete Ab[o]}(a,s,l,u),function(e,t,n,r){var i,o,a,s,l,u,c,f,h,d,p,m,v=wb.length,g=!0;for(i=0;i<v;++i)if(o=wb[i]){for(a=o.site,s=(l=o.halfedges).length;s--;)Ab[l[s]]||l.splice(s,1);for(s=0,u=l.length;s<u;)p=(d=ab(o,Ab[l[s]]))[0],m=d[1],f=(c=ob(o,Ab[l[++s%u]]))[0],h=c[1],(Math.abs(p-f)>Mb||Math.abs(m-h)>Mb)&&(l.splice(s,0,Ab.push(eb(a,d,Math.abs(p-e)<Mb&&r-m>Mb?[e,Math.abs(f-e)<Mb?h:r]:Math.abs(m-r)<Mb&&n-p>Mb?[Math.abs(h-r)<Mb?f:n,r]:Math.abs(p-n)<Mb&&m-t>Mb?[n,Math.abs(f-n)<Mb?h:t]:Math.abs(m-t)<Mb&&p-e>Mb?[Math.abs(h-t)<Mb?f:e,t]:null))-1),++u);u&&(g=!1)}if(g){var y,_,b,w=1/0;for(i=0,g=null;i<v;++i)(o=wb[i])&&(b=(y=(a=o.site)[0]-e)*y+(_=a[1]-t)*_)<w&&(w=b,g=o);if(g){var x=[e,t],A=[e,r],M=[n,r],S=[n,t];g.halfedges.push(Ab.push(eb(a=g.site,x,A))-1,Ab.push(eb(a,A,M))-1,Ab.push(eb(a,M,S))-1,Ab.push(eb(a,S,x))-1)}}for(i=0;i<v;++i)(o=wb[i])&&(o.halfedges.length||delete wb[i])}(a,s,l,u)}this.edges=Ab,this.cells=wb,bb=xb=Ab=wb=null}Eb.prototype={constructor:Eb,polygons:function(){var e=this.edges;return this.cells.map(function(t){var n=t.halfedges.map(function(n){return ob(t,e[n])});return n.data=t.site.data,n})},triangles:function(){var e=[],t=this.edges;return this.cells.forEach(function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s,l,u,c=n.site,f=-1,h=t[i[o-1]],d=h.left===c?h.right:h.left;++f<o;)a=d,d=(h=t[i[f]]).left===c?h.right:h.left,a&&d&&r<a.index&&r<d.index&&(l=a,u=d,((s=c)[0]-u[0])*(l[1]-s[1])-(s[0]-l[0])*(u[1]-s[1])<0)&&e.push([c.data,a.data,d.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,t,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var l=e-i.site[0],u=t-i.site[1],c=l*l+u*u;do{i=o.cells[r=a],a=null,i.halfedges.forEach(function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var l=e-s[0],u=t-s[1],f=l*l+u*u;f<c&&(c=f,a=s.index)}})}while(null!==a);return o._found=r,null==n||c<=n*n?i.site:null}};var Ib=function(){var e=H_,t=G_,n=null;function r(r){return new Eb(r.map(function(n,i){var o=[Math.round(e(n,i,r)/Mb)*Mb,Math.round(t(n,i,r)/Mb)*Mb];return o.index=i,o.data=n,o}),n)}return r.polygons=function(e){return r(e).polygons()},r.links=function(e){return r(e).links()},r.triangles=function(e){return r(e).triangles()},r.x=function(t){return arguments.length?(e="function"===typeof t?t:B_(+t),r):e},r.y=function(e){return arguments.length?(t="function"===typeof e?e:B_(+e),r):t},r.extent=function(e){return arguments.length?(n=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],r):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},r.size=function(e){return arguments.length?(n=null==e?null:[[0,0],[+e[0],+e[1]]],r):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},r},Tb=function(e){return function(){return e}};function Lb(e,t,n){this.target=e,this.type=t,this.transform=n}function zb(e,t,n){this.k=e,this.x=t,this.y=n}zb.prototype={constructor:zb,scale:function(e){return 1===e?this:new zb(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new zb(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var kb=new zb(1,0,0);function Db(e){return e.__zoom||kb}function Ob(){Qe.stopImmediatePropagation()}Db.prototype=zb.prototype;var Nb=function(){Qe.preventDefault(),Qe.stopImmediatePropagation()};function jb(){return!Qe.button}function Pb(){var e,t,n=this;return n instanceof SVGElement?(e=(n=n.ownerSVGElement||n).width.baseVal.value,t=n.height.baseVal.value):(e=n.clientWidth,t=n.clientHeight),[[0,0],[e,t]]}function Rb(){return this.__zoom||kb}function $b(){return-Qe.deltaY*(Qe.deltaMode?120:1)/500}function Fb(){return"ontouchstart"in this}function Kb(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}var Ub=function(){var e,t,n=jb,r=Pb,i=Kb,o=$b,a=Fb,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],u=250,c=rr,f=[],h=he("start","zoom","end"),d=500,p=150,m=0;function v(e){e.property("__zoom",Rb).on("wheel.zoom",A).on("mousedown.zoom",M).on("dblclick.zoom",S).filter(a).on("touchstart.zoom",C).on("touchmove.zoom",E).on("touchend.zoom touchcancel.zoom",I).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(e,t){return(t=Math.max(s[0],Math.min(s[1],t)))===e.k?e:new zb(t,e.x,e.y)}function y(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new zb(e.k,r,i)}function _(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function b(e,t,n){e.on("start.zoom",function(){w(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){w(this,arguments).end()}).tween("zoom",function(){var e=arguments,i=w(this,e),o=r.apply(this,e),a=n||_(o),s=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),l=this.__zoom,u="function"===typeof t?t.apply(this,e):t,f=c(l.invert(a).concat(s/l.k),u.invert(a).concat(s/u.k));return function(e){if(1===e)e=u;else{var t=f(e),n=s/t[2];e=new zb(n,a[0]-t[0]*n,a[1]-t[1]*n)}i.zoom(null,e)}})}function w(e,t){for(var n,r=0,i=f.length;r<i;++r)if((n=f[r]).that===e)return n;return new x(e,t)}function x(e,t){this.that=e,this.args=t,this.index=-1,this.active=0,this.extent=r.apply(e,t)}function A(){if(n.apply(this,arguments)){var e=w(this,arguments),t=this.__zoom,r=Math.max(s[0],Math.min(s[1],t.k*Math.pow(2,o.apply(this,arguments)))),a=ft(this);if(e.wheel)e.mouse[0][0]===a[0]&&e.mouse[0][1]===a[1]||(e.mouse[1]=t.invert(e.mouse[0]=a)),clearTimeout(e.wheel);else{if(t.k===r)return;e.mouse=[a,t.invert(a)],Wr(this),e.start()}Nb(),e.wheel=setTimeout(function(){e.wheel=null,e.end()},p),e.zoom("mouse",i(y(g(t,r),e.mouse[0],e.mouse[1]),e.extent,l))}}function M(){if(!t&&n.apply(this,arguments)){var e=w(this,arguments),r=it(Qe.view).on("mousemove.zoom",function(){if(Nb(),!e.moved){var t=Qe.clientX-a,n=Qe.clientY-s;e.moved=t*t+n*n>m}e.zoom("mouse",i(y(e.that.__zoom,e.mouse[0]=ft(e.that),e.mouse[1]),e.extent,l))},!0).on("mouseup.zoom",function(){r.on("mousemove.zoom mouseup.zoom",null),yt(Qe.view,e.moved),Nb(),e.end()},!0),o=ft(this),a=Qe.clientX,s=Qe.clientY;gt(Qe.view),Ob(),e.mouse=[o,this.__zoom.invert(o)],Wr(this),e.start()}}function S(){if(n.apply(this,arguments)){var e=this.__zoom,t=ft(this),o=e.invert(t),a=e.k*(Qe.shiftKey?.5:2),s=i(y(g(e,a),t,o),r.apply(this,arguments),l);Nb(),u>0?it(this).transition().duration(u).call(b,s,t):it(this).call(v.transform,s)}}function C(){if(n.apply(this,arguments)){var t,r,i,o,a=w(this,arguments),s=Qe.changedTouches,l=s.length;for(Ob(),r=0;r<l;++r)i=s[r],o=[o=dt(this,s,i.identifier),this.__zoom.invert(o),i.identifier],a.touch0?a.touch1||(a.touch1=o):(a.touch0=o,t=!0);if(e&&(e=clearTimeout(e),!a.touch1))return a.end(),void((o=it(this).on("dblclick.zoom"))&&o.apply(this,arguments));t&&(e=setTimeout(function(){e=null},d),Wr(this),a.start())}}function E(){var t,n,r,o,a=w(this,arguments),s=Qe.changedTouches,u=s.length;for(Nb(),e&&(e=clearTimeout(e)),t=0;t<u;++t)n=s[t],r=dt(this,s,n.identifier),a.touch0&&a.touch0[2]===n.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===n.identifier&&(a.touch1[0]=r);if(n=a.that.__zoom,a.touch1){var c=a.touch0[0],f=a.touch0[1],h=a.touch1[0],d=a.touch1[1],p=(p=h[0]-c[0])*p+(p=h[1]-c[1])*p,m=(m=d[0]-f[0])*m+(m=d[1]-f[1])*m;n=g(n,Math.sqrt(p/m)),r=[(c[0]+h[0])/2,(c[1]+h[1])/2],o=[(f[0]+d[0])/2,(f[1]+d[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],o=a.touch0[1]}a.zoom("touch",i(y(n,r,o),a.extent,l))}function I(){var e,n,r=w(this,arguments),i=Qe.changedTouches,o=i.length;for(Ob(),t&&clearTimeout(t),t=setTimeout(function(){t=null},d),e=0;e<o;++e)n=i[e],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):r.end()}return v.transform=function(e,t){var n=e.selection?e.selection():e;n.property("__zoom",Rb),e!==n?b(e,t):n.interrupt().each(function(){w(this,arguments).start().zoom(null,"function"===typeof t?t.apply(this,arguments):t).end()})},v.scaleBy=function(e,t){v.scaleTo(e,function(){return this.__zoom.k*("function"===typeof t?t.apply(this,arguments):t)})},v.scaleTo=function(e,t){v.transform(e,function(){var e=r.apply(this,arguments),n=this.__zoom,o=_(e),a=n.invert(o),s="function"===typeof t?t.apply(this,arguments):t;return i(y(g(n,s),o,a),e,l)})},v.translateBy=function(e,t,n){v.transform(e,function(){return i(this.__zoom.translate("function"===typeof t?t.apply(this,arguments):t,"function"===typeof n?n.apply(this,arguments):n),r.apply(this,arguments),l)})},v.translateTo=function(e,t,n){v.transform(e,function(){var e=r.apply(this,arguments),o=this.__zoom,a=_(e);return i(kb.translate(a[0],a[1]).scale(o.k).translate("function"===typeof t?-t.apply(this,arguments):-t,"function"===typeof n?-n.apply(this,arguments):-n),e,l)})},x.prototype={start:function(){return 1===++this.active&&(this.index=f.push(this)-1,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(f.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(e){Je(new Lb(v,e,this.that.__zoom),h.apply,h,[e,this.that,this.args])}},v.wheelDelta=function(e){return arguments.length?(o="function"===typeof e?e:Tb(+e),v):o},v.filter=function(e){return arguments.length?(n="function"===typeof e?e:Tb(!!e),v):n},v.touchable=function(e){return arguments.length?(a="function"===typeof e?e:Tb(!!e),v):a},v.extent=function(e){return arguments.length?(r="function"===typeof e?e:Tb([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),v):r},v.scaleExtent=function(e){return arguments.length?(s[0]=+e[0],s[1]=+e[1],v):[s[0],s[1]]},v.translateExtent=function(e){return arguments.length?(l[0][0]=+e[0][0],l[1][0]=+e[1][0],l[0][1]=+e[0][1],l[1][1]=+e[1][1],v):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},v.constrain=function(e){return arguments.length?(i=e,v):i},v.duration=function(e){return arguments.length?(u=+e,v):u},v.interpolate=function(e){return arguments.length?(c=e,v):c},v.on=function(){var e=h.on.apply(h,arguments);return e===h?v:e},v.clickDistance=function(e){return arguments.length?(m=(e=+e)*e,v):Math.sqrt(m)},v};n.d(t,"version",function(){return"4.13.0"}),n.d(t,"bisect",function(){return l}),n.d(t,"bisectRight",function(){return a}),n.d(t,"bisectLeft",function(){return s}),n.d(t,"ascending",function(){return r}),n.d(t,"bisector",function(){return i}),n.d(t,"cross",function(){return f}),n.d(t,"descending",function(){return h}),n.d(t,"deviation",function(){return m}),n.d(t,"extent",function(){return v}),n.d(t,"histogram",function(){return L}),n.d(t,"thresholdFreedmanDiaconis",function(){return k}),n.d(t,"thresholdScott",function(){return D}),n.d(t,"thresholdSturges",function(){return T}),n.d(t,"max",function(){return O}),n.d(t,"mean",function(){return N}),n.d(t,"median",function(){return j}),n.d(t,"merge",function(){return P}),n.d(t,"min",function(){return R}),n.d(t,"pairs",function(){return u}),n.d(t,"permute",function(){return $}),n.d(t,"quantile",function(){return z}),n.d(t,"range",function(){return x}),n.d(t,"scan",function(){return F}),n.d(t,"shuffle",function(){return K}),n.d(t,"sum",function(){return U}),n.d(t,"ticks",function(){return C}),n.d(t,"tickIncrement",function(){return E}),n.d(t,"tickStep",function(){return I}),n.d(t,"transpose",function(){return V}),n.d(t,"variance",function(){return p}),n.d(t,"zip",function(){return H}),n.d(t,"axisTop",function(){return re}),n.d(t,"axisRight",function(){return ie}),n.d(t,"axisBottom",function(){return oe}),n.d(t,"axisLeft",function(){return ae}),n.d(t,"brush",function(){return bo}),n.d(t,"brushX",function(){return yo}),n.d(t,"brushY",function(){return _o}),n.d(t,"brushSelection",function(){return go}),n.d(t,"chord",function(){return Io}),n.d(t,"ribbon",function(){return Uo}),n.d(t,"nest",function(){return Go}),n.d(t,"set",function(){return ea}),n.d(t,"map",function(){return Ho}),n.d(t,"keys",function(){return ta}),n.d(t,"values",function(){return na}),n.d(t,"entries",function(){return ra}),n.d(t,"color",function(){return Kt}),n.d(t,"rgb",function(){return Ht}),n.d(t,"hsl",function(){return qt}),n.d(t,"lab",function(){return ln}),n.d(t,"hcl",function(){return pn}),n.d(t,"cubehelix",function(){return xn}),n.d(t,"dispatch",function(){return he}),n.d(t,"drag",function(){return St}),n.d(t,"dragDisable",function(){return gt}),n.d(t,"dragEnable",function(){return yt}),n.d(t,"dsvFormat",function(){return ca}),n.d(t,"csvParse",function(){return ha}),n.d(t,"csvParseRows",function(){return da}),n.d(t,"csvFormat",function(){return pa}),n.d(t,"csvFormatRows",function(){return ma}),n.d(t,"tsvParse",function(){return ga}),n.d(t,"tsvParseRows",function(){return ya}),n.d(t,"tsvFormat",function(){return _a}),n.d(t,"tsvFormatRows",function(){return ba}),n.d(t,"easeLinear",function(){return ii}),n.d(t,"easeQuad",function(){return si}),n.d(t,"easeQuadIn",function(){return oi}),n.d(t,"easeQuadOut",function(){return ai}),n.d(t,"easeQuadInOut",function(){return si}),n.d(t,"easeCubic",function(){return ci}),n.d(t,"easeCubicIn",function(){return li}),n.d(t,"easeCubicOut",function(){return ui}),n.d(t,"easeCubicInOut",function(){return ci}),n.d(t,"easePoly",function(){return di}),n.d(t,"easePolyIn",function(){return fi}),n.d(t,"easePolyOut",function(){return hi}),n.d(t,"easePolyInOut",function(){return di}),n.d(t,"easeSin",function(){return yi}),n.d(t,"easeSinIn",function(){return vi}),n.d(t,"easeSinOut",function(){return gi}),n.d(t,"easeSinInOut",function(){return yi}),n.d(t,"easeExp",function(){return wi}),n.d(t,"easeExpIn",function(){return _i}),n.d(t,"easeExpOut",function(){return bi}),n.d(t,"easeExpInOut",function(){return wi}),n.d(t,"easeCircle",function(){return Mi}),n.d(t,"easeCircleIn",function(){return xi}),n.d(t,"easeCircleOut",function(){return Ai}),n.d(t,"easeCircleInOut",function(){return Mi}),n.d(t,"easeBounce",function(){return ji}),n.d(t,"easeBounceIn",function(){return Ni}),n.d(t,"easeBounceOut",function(){return ji}),n.d(t,"easeBounceInOut",function(){return Pi}),n.d(t,"easeBack",function(){return Fi}),n.d(t,"easeBackIn",function(){return Ri}),n.d(t,"easeBackOut",function(){return $i}),n.d(t,"easeBackInOut",function(){return Fi}),n.d(t,"easeElastic",function(){return Vi}),n.d(t,"easeElasticIn",function(){return Ui}),n.d(t,"easeElasticOut",function(){return Vi}),n.d(t,"easeElasticInOut",function(){return Bi}),n.d(t,"forceCenter",function(){return wa}),n.d(t,"forceCollide",function(){return Oa}),n.d(t,"forceLink",function(){return Pa}),n.d(t,"forceManyBody",function(){return Ba}),n.d(t,"forceRadial",function(){return Ha}),n.d(t,"forceSimulation",function(){return Va}),n.d(t,"forceX",function(){return Ga}),n.d(t,"forceY",function(){return Qa}),n.d(t,"formatDefaultLocale",function(){return ss}),n.d(t,"format",function(){return ns}),n.d(t,"formatPrefix",function(){return rs}),n.d(t,"formatLocale",function(){return as}),n.d(t,"formatSpecifier",function(){return Za}),n.d(t,"precisionFixed",function(){return ls}),n.d(t,"precisionPrefix",function(){return us}),n.d(t,"precisionRound",function(){return cs}),n.d(t,"geoArea",function(){return nl}),n.d(t,"geoBounds",function(){return ql}),n.d(t,"geoCentroid",function(){return au}),n.d(t,"geoCircle",function(){return gu}),n.d(t,"geoClipAntimeridian",function(){return Iu}),n.d(t,"geoClipCircle",function(){return Tu}),n.d(t,"geoClipExtent",function(){return Pu}),n.d(t,"geoClipRectangle",function(){return Du}),n.d(t,"geoContains",function(){return tc}),n.d(t,"geoDistance",function(){return Gu}),n.d(t,"geoGraticule",function(){return ic}),n.d(t,"geoGraticule10",function(){return oc}),n.d(t,"geoInterpolate",function(){return cc}),n.d(t,"geoLength",function(){return Vu}),n.d(t,"geoPath",function(){return uf}),n.d(t,"geoAlbers",function(){return Ef}),n.d(t,"geoAlbersUsa",function(){return If}),n.d(t,"geoAzimuthalEqualArea",function(){return kf}),n.d(t,"geoAzimuthalEqualAreaRaw",function(){return zf}),n.d(t,"geoAzimuthalEquidistant",function(){return Of}),n.d(t,"geoAzimuthalEquidistantRaw",function(){return Df}),n.d(t,"geoConicConformal",function(){return Ff}),n.d(t,"geoConicConformalRaw",function(){return $f}),n.d(t,"geoConicEqualArea",function(){return Cf}),n.d(t,"geoConicEqualAreaRaw",function(){return Sf}),n.d(t,"geoConicEquidistant",function(){return Bf}),n.d(t,"geoConicEquidistantRaw",function(){return Vf}),n.d(t,"geoEquirectangular",function(){return Uf}),n.d(t,"geoEquirectangularRaw",function(){return Kf}),n.d(t,"geoGnomonic",function(){return Gf}),n.d(t,"geoGnomonicRaw",function(){return Hf}),n.d(t,"geoIdentity",function(){return qf}),n.d(t,"geoProjection",function(){return xf}),n.d(t,"geoProjectionMutator",function(){return Af}),n.d(t,"geoMercator",function(){return jf}),n.d(t,"geoMercatorRaw",function(){return Nf}),n.d(t,"geoNaturalEarth1",function(){return Yf}),n.d(t,"geoNaturalEarth1Raw",function(){return Wf}),n.d(t,"geoOrthographic",function(){return Jf}),n.d(t,"geoOrthographicRaw",function(){return Xf}),n.d(t,"geoStereographic",function(){return eh}),n.d(t,"geoStereographicRaw",function(){return Zf}),n.d(t,"geoTransverseMercator",function(){return nh}),n.d(t,"geoTransverseMercatorRaw",function(){return th}),n.d(t,"geoRotation",function(){return pu}),n.d(t,"geoStream",function(){return qs}),n.d(t,"geoTransform",function(){return cf}),n.d(t,"cluster",function(){return ah}),n.d(t,"hierarchy",function(){return lh}),n.d(t,"pack",function(){return kh}),n.d(t,"packSiblings",function(){return Eh}),n.d(t,"packEnclose",function(){return ph}),n.d(t,"partition",function(){return Rh}),n.d(t,"stratify",function(){return Bh}),n.d(t,"tree",function(){return Xh}),n.d(t,"treemap",function(){return nd}),n.d(t,"treemapBinary",function(){return rd}),n.d(t,"treemapDice",function(){return Ph}),n.d(t,"treemapSlice",function(){return Jh}),n.d(t,"treemapSliceDice",function(){return id}),n.d(t,"treemapSquarify",function(){return td}),n.d(t,"treemapResquarify",function(){return od}),n.d(t,"interpolate",function(){return Qn}),n.d(t,"interpolateArray",function(){return jn}),n.d(t,"interpolateBasis",function(){return Sn}),n.d(t,"interpolateBasisClosed",function(){return Cn}),n.d(t,"interpolateDate",function(){return Pn}),n.d(t,"interpolateNumber",function(){return Rn}),n.d(t,"interpolateObject",function(){return $n}),n.d(t,"interpolateRound",function(){return qn}),n.d(t,"interpolateString",function(){return Gn}),n.d(t,"interpolateTransformCss",function(){return Zn}),n.d(t,"interpolateTransformSvg",function(){return er}),n.d(t,"interpolateZoom",function(){return rr}),n.d(t,"interpolateRgb",function(){return kn}),n.d(t,"interpolateRgbBasis",function(){return On}),n.d(t,"interpolateRgbBasisClosed",function(){return Nn}),n.d(t,"interpolateHsl",function(){return or}),n.d(t,"interpolateHslLong",function(){return ar}),n.d(t,"interpolateLab",function(){return sr}),n.d(t,"interpolateHcl",function(){return ur}),n.d(t,"interpolateHclLong",function(){return cr}),n.d(t,"interpolateCubehelix",function(){return pr}),n.d(t,"interpolateCubehelixLong",function(){return mr}),n.d(t,"quantize",function(){return vr}),n.d(t,"path",function(){return jo}),n.d(t,"polygonArea",function(){return ad}),n.d(t,"polygonCentroid",function(){return sd}),n.d(t,"polygonHull",function(){return fd}),n.d(t,"polygonContains",function(){return hd}),n.d(t,"polygonLength",function(){return dd}),n.d(t,"quadtree",function(){return Ia}),n.d(t,"queue",function(){return wd}),n.d(t,"randomUniform",function(){return Ad}),n.d(t,"randomNormal",function(){return Md}),n.d(t,"randomLogNormal",function(){return Sd}),n.d(t,"randomBates",function(){return Ed}),n.d(t,"randomIrwinHall",function(){return Cd}),n.d(t,"randomExponential",function(){return Id}),n.d(t,"request",function(){return zd}),n.d(t,"html",function(){return Dd}),n.d(t,"json",function(){return Od}),n.d(t,"text",function(){return Nd}),n.d(t,"xml",function(){return jd}),n.d(t,"csv",function(){return $d}),n.d(t,"tsv",function(){return Fd}),n.d(t,"scaleBand",function(){return Gd}),n.d(t,"scalePoint",function(){return Qd}),n.d(t,"scaleIdentity",function(){return op}),n.d(t,"scaleLinear",function(){return ip}),n.d(t,"scaleLog",function(){return dp}),n.d(t,"scaleOrdinal",function(){return Hd}),n.d(t,"scaleImplicit",function(){return Bd}),n.d(t,"scalePow",function(){return mp}),n.d(t,"scaleSqrt",function(){return vp}),n.d(t,"scaleQuantile",function(){return gp}),n.d(t,"scaleQuantize",function(){return yp}),n.d(t,"scaleThreshold",function(){return _p}),n.d(t,"scaleTime",function(){return mg}),n.d(t,"scaleUtc",function(){return vg}),n.d(t,"schemeCategory10",function(){return yg}),n.d(t,"schemeCategory20b",function(){return _g}),n.d(t,"schemeCategory20c",function(){return bg}),n.d(t,"schemeCategory20",function(){return wg}),n.d(t,"interpolateCubehelixDefault",function(){return xg}),n.d(t,"interpolateRainbow",function(){return Cg}),n.d(t,"interpolateWarm",function(){return Ag}),n.d(t,"interpolateCool",function(){return Mg}),n.d(t,"interpolateViridis",function(){return Ig}),n.d(t,"interpolateMagma",function(){return Tg}),n.d(t,"interpolateInferno",function(){return Lg}),n.d(t,"interpolatePlasma",function(){return zg}),n.d(t,"scaleSequential",function(){return kg}),n.d(t,"create",function(){return ot}),n.d(t,"creator",function(){return ve}),n.d(t,"local",function(){return st}),n.d(t,"matcher",function(){return Me}),n.d(t,"mouse",function(){return ft}),n.d(t,"namespace",function(){return me}),n.d(t,"namespaces",function(){return pe}),n.d(t,"clientPoint",function(){return ct}),n.d(t,"select",function(){return it}),n.d(t,"selectAll",function(){return ht}),n.d(t,"selection",function(){return rt}),n.d(t,"selector",function(){return ye}),n.d(t,"selectorAll",function(){return be}),n.d(t,"style",function(){return ke}),n.d(t,"touch",function(){return dt}),n.d(t,"touches",function(){return pt}),n.d(t,"window",function(){return ze}),n.d(t,"event",function(){return Qe}),n.d(t,"customEvent",function(){return Je}),n.d(t,"arc",function(){return Jg}),n.d(t,"area",function(){return iy}),n.d(t,"line",function(){return ry}),n.d(t,"pie",function(){return sy}),n.d(t,"areaRadial",function(){return dy}),n.d(t,"radialArea",function(){return dy}),n.d(t,"lineRadial",function(){return hy}),n.d(t,"radialLine",function(){return hy}),n.d(t,"pointRadial",function(){return py}),n.d(t,"linkHorizontal",function(){return xy}),n.d(t,"linkVertical",function(){return Ay}),n.d(t,"linkRadial",function(){return My}),n.d(t,"symbol",function(){return Uy}),n.d(t,"symbols",function(){return Ky}),n.d(t,"symbolCircle",function(){return Sy}),n.d(t,"symbolCross",function(){return Cy}),n.d(t,"symbolDiamond",function(){return Ty}),n.d(t,"symbolSquare",function(){return Oy}),n.d(t,"symbolStar",function(){return Dy}),n.d(t,"symbolTriangle",function(){return jy}),n.d(t,"symbolWye",function(){return Fy}),n.d(t,"curveBasisClosed",function(){return qy}),n.d(t,"curveBasisOpen",function(){return Yy}),n.d(t,"curveBasis",function(){return Gy}),n.d(t,"curveBundle",function(){return Jy}),n.d(t,"curveCardinalClosed",function(){return r_}),n.d(t,"curveCardinalOpen",function(){return o_}),n.d(t,"curveCardinal",function(){return t_}),n.d(t,"curveCatmullRomClosed",function(){return c_}),n.d(t,"curveCatmullRomOpen",function(){return h_}),n.d(t,"curveCatmullRom",function(){return l_}),n.d(t,"curveLinearClosed",function(){return p_}),n.d(t,"curveLinear",function(){return ey}),n.d(t,"curveMonotoneX",function(){return x_}),n.d(t,"curveMonotoneY",function(){return A_}),n.d(t,"curveNatural",function(){return C_}),n.d(t,"curveStep",function(){return I_}),n.d(t,"curveStepAfter",function(){return L_}),n.d(t,"curveStepBefore",function(){return T_}),n.d(t,"stack",function(){return O_}),n.d(t,"stackOffsetExpand",function(){return N_}),n.d(t,"stackOffsetDiverging",function(){return j_}),n.d(t,"stackOffsetNone",function(){return z_}),n.d(t,"stackOffsetSilhouette",function(){return P_}),n.d(t,"stackOffsetWiggle",function(){return R_}),n.d(t,"stackOrderAscending",function(){return $_}),n.d(t,"stackOrderDescending",function(){return K_}),n.d(t,"stackOrderInsideOut",function(){return U_}),n.d(t,"stackOrderNone",function(){return k_}),n.d(t,"stackOrderReverse",function(){return V_}),n.d(t,"timeInterval",function(){return xp}),n.d(t,"timeMillisecond",function(){return Mp}),n.d(t,"timeMilliseconds",function(){return Sp}),n.d(t,"utcMillisecond",function(){return Mp}),n.d(t,"utcMilliseconds",function(){return Sp}),n.d(t,"timeSecond",function(){return Tp}),n.d(t,"timeSeconds",function(){return Lp}),n.d(t,"utcSecond",function(){return Tp}),n.d(t,"utcSeconds",function(){return Lp}),n.d(t,"timeMinute",function(){return kp}),n.d(t,"timeMinutes",function(){return Dp}),n.d(t,"timeHour",function(){return Np}),n.d(t,"timeHours",function(){return jp}),n.d(t,"timeDay",function(){return Rp}),n.d(t,"timeDays",function(){return $p}),n.d(t,"timeWeek",function(){return Kp}),n.d(t,"timeWeeks",function(){return qp}),n.d(t,"timeSunday",function(){return Kp}),n.d(t,"timeSundays",function(){return qp}),n.d(t,"timeMonday",function(){return Up}),n.d(t,"timeMondays",function(){return Wp}),n.d(t,"timeTuesday",function(){return Vp}),n.d(t,"timeTuesdays",function(){return Yp}),n.d(t,"timeWednesday",function(){return Bp}),n.d(t,"timeWednesdays",function(){return Xp}),n.d(t,"timeThursday",function(){return Hp}),n.d(t,"timeThursdays",function(){return Jp}),n.d(t,"timeFriday",function(){return Gp}),n.d(t,"timeFridays",function(){return Zp}),n.d(t,"timeSaturday",function(){return Qp}),n.d(t,"timeSaturdays",function(){return em}),n.d(t,"timeMonth",function(){return nm}),n.d(t,"timeMonths",function(){return rm}),n.d(t,"timeYear",function(){return om}),n.d(t,"timeYears",function(){return am}),n.d(t,"utcMinute",function(){return lm}),n.d(t,"utcMinutes",function(){return um}),n.d(t,"utcHour",function(){return fm}),n.d(t,"utcHours",function(){return hm}),n.d(t,"utcDay",function(){return pm}),n.d(t,"utcDays",function(){return mm}),n.d(t,"utcWeek",function(){return gm}),n.d(t,"utcWeeks",function(){return Mm}),n.d(t,"utcSunday",function(){return gm}),n.d(t,"utcSundays",function(){return Mm}),n.d(t,"utcMonday",function(){return ym}),n.d(t,"utcMondays",function(){return Sm}),n.d(t,"utcTuesday",function(){return _m}),n.d(t,"utcTuesdays",function(){return Cm}),n.d(t,"utcWednesday",function(){return bm}),n.d(t,"utcWednesdays",function(){return Em}),n.d(t,"utcThursday",function(){return wm}),n.d(t,"utcThursdays",function(){return Im}),n.d(t,"utcFriday",function(){return xm}),n.d(t,"utcFridays",function(){return Tm}),n.d(t,"utcSaturday",function(){return Am}),n.d(t,"utcSaturdays",function(){return Lm}),n.d(t,"utcMonth",function(){return km}),n.d(t,"utcMonths",function(){return Dm}),n.d(t,"utcYear",function(){return Nm}),n.d(t,"utcYears",function(){return jm}),n.d(t,"timeFormatDefaultLocale",function(){return ng}),n.d(t,"timeFormat",function(){return Um}),n.d(t,"timeParse",function(){return Vm}),n.d(t,"utcFormat",function(){return Bm}),n.d(t,"utcParse",function(){return Hm}),n.d(t,"timeFormatLocale",function(){return Fm}),n.d(t,"isoFormat",function(){return rg}),n.d(t,"isoParse",function(){return ig}),n.d(t,"now",function(){return Cr}),n.d(t,"timer",function(){return Tr}),n.d(t,"timerFlush",function(){return Lr}),n.d(t,"timeout",function(){return Or}),n.d(t,"interval",function(){return Nr}),n.d(t,"transition",function(){return ti}),n.d(t,"active",function(){return qi}),n.d(t,"interrupt",function(){return Wr}),n.d(t,"voronoi",function(){return Ib}),n.d(t,"zoom",function(){return Ub}),n.d(t,"zoomTransform",function(){return Db}),n.d(t,"zoomIdentity",function(){return kb})}]]);
//# sourceMappingURL=2.8e718e1c.chunk.js.map